/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

int __fastcall sub_14000100A(__int64, unsigned int, int);
__int64 __fastcall sub_14000100F(_QWORD, _QWORD, _QWORD); // weak
int __fastcall sub_140001030(__int64, unsigned int, int);
__int64 __fastcall sub_1400012E0(const char *);
int __fastcall sub_140001430(const char *, struct _stat64i32 *);
int __cdecl main_0(int argc, const char **argv, const char **envp);
// char *__cdecl strcpy(char *Destination, const char *Source);
// size_t __cdecl strlen(const char *Str);
// char *__cdecl strcat(char *Destination, const char *Source);
__int64 __fastcall sub_140002840(__int64);
__int64 sub_140002860();
__int64 sub_140002870();
__int64 sub_140002940();
void sub_140002950();
void __fastcall sub_140002990();

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN unk_1400075C0; // weak
void (*qword_1400077D8[35])(void) =
{
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL
}; // weak
_UNKNOWN unk_1400078F0; // weak
void (*qword_140007B08[33])(void) =
{
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL
}; // weak
__int64 qword_1400096F8; // weak
__int64 qword_140009700; // weak
// extern int (__cdecl *stat64i32)(const char *FileName, struct _stat64i32 *Stat);
// extern void (__cdecl *perror)(const char *ErrMsg);
// extern FILE *(__cdecl *fopen)(const char *FileName, const char *Mode);
// extern size_t (__cdecl *fread)(void *Buffer, size_t ElementSize, size_t ElementCount, FILE *Stream);
// extern int (__cdecl *fclose)(FILE *Stream);
// extern int (*sprintf)(char *const Buffer, const char *const Format, ...);
// extern int (*printf)(const char *const Format, ...);


//----- (0000000140001030) ----------------------------------------------------
int __fastcall sub_140001030(__int64 a1, unsigned int a2, int a3)
{
  __int64 *v3; // rdi
  __int64 i; // rcx
  int v5; // ecx
  __int64 v7; // [rsp+0h] [rbp-B8h] BYREF
  char Buffer[84]; // [rsp+30h] [rbp-88h] BYREF
  int j; // [rsp+84h] [rbp-34h]
  int v10; // [rsp+88h] [rbp-30h]
  BOOL v11; // [rsp+98h] [rbp-20h]
  int v12; // [rsp+9Ch] [rbp-1Ch]

  v3 = &v7;
  for ( i = 44i64; i; --i )
  {
    *(_DWORD *)v3 = -858993460;
    v3 = (__int64 *)((char *)v3 + 4);
  }
  sprintf(Buffer, "%08lX:", a2);
  if ( a3 > 16 )
    a3 = 16;
  for ( j = 0; j < a3; ++j )
    sprintf(&Buffer[3 * j + 9], " %02lX", *(unsigned __int8 *)(a1 + j));
  while ( 1 )
  {
    v5 = j++;
    v11 = v5 < 16;
    if ( v5 >= 16 )
      break;
    strcat(Buffer, "   ");
  }
  v10 = strlen(Buffer);
  strcpy(&Buffer[v10], "  |");
  v10 += 3;
  for ( j = 0; j < a3; ++j )
  {
    if ( *(unsigned __int8 *)(a1 + j) < 0x20u || *(unsigned __int8 *)(a1 + j) > 0x7Eu )
      v12 = 46;
    else
      v12 = *(unsigned __int8 *)(a1 + j);
    Buffer[j + v10] = v12;
  }
  while ( j < 16 )
  {
    Buffer[j + v10] = 32;
    ++j;
  }
  strcpy(&Buffer[v10 + j], "|");
  return printf("%s\n", Buffer);
}

//----- (00000001400012E0) ----------------------------------------------------
__int64 __fastcall sub_1400012E0(const char *a1)
{
  __int64 *v1; // rdi
  __int64 i; // rcx
  __int64 v4; // [rsp+0h] [rbp-B8h] BYREF
  char Buffer[28]; // [rsp+28h] [rbp-90h] BYREF
  unsigned int j; // [rsp+44h] [rbp-74h]
  FILE *Stream; // [rsp+48h] [rbp-70h]
  struct _stat64i32 v8; // [rsp+58h] [rbp-60h] BYREF
  int v9; // [rsp+94h] [rbp-24h]

  v1 = &v4;
  for ( i = 44i64; i; --i )
  {
    *(_DWORD *)v1 = -858993460;
    v1 = (__int64 *)((char *)v1 + 4);
  }
  if ( sub_140001430(a1, &v8) || (Stream = fopen(a1, "rb")) == 0i64 )
  {
    perror(a1);
    return 1i64;
  }
  else
  {
    for ( j = 0; j < v8.st_size; j += v9 )
    {
      v9 = fread(Buffer, 1ui64, 0x10ui64, Stream);
      if ( !v9 )
        break;
      sub_14000100A((__int64)Buffer, j, v9);
    }
    fclose(Stream);
    return 0i64;
  }
}

//----- (0000000140001430) ----------------------------------------------------
int __fastcall sub_140001430(const char *a1, struct _stat64i32 *a2)
{
  __int64 *v2; // rdi
  __int64 i; // rcx
  __int64 v5; // [rsp+0h] [rbp-28h] BYREF

  v2 = &v5;
  for ( i = 8i64; i; --i )
  {
    *(_DWORD *)v2 = -858993460;
    v2 = (__int64 *)((char *)v2 + 4);
  }
  return stat64i32(a1, a2);
}

//----- (0000000140001480) ----------------------------------------------------
int __cdecl main_0(int argc, const char **argv, const char **envp)
{
  __int64 *v3; // rdi
  __int64 i; // rcx
  int v5; // eax
  __int64 v7; // [rsp+0h] [rbp-38h] BYREF
  int j; // [rsp+20h] [rbp-18h]
  int v9; // [rsp+24h] [rbp-14h]

  v3 = &v7;
  for ( i = 12i64; i; --i )
  {
    *(_DWORD *)v3 = -858993460;
    v3 = (__int64 *)((char *)v3 + 4);
  }
  v9 = 0;
  for ( j = 1; j < argc; ++j )
  {
    v5 = sub_14000100F(argv[j], argv, envp);
    v9 += v5;
  }
  return v9;
}
// 1400014DB: variable 'argv' is possibly undefined
// 1400014DB: variable 'envp' is possibly undefined
// 14000100F: using guessed type __int64 __fastcall sub_14000100F(_QWORD, _QWORD, _QWORD);

//----- (0000000140002840) ----------------------------------------------------
__int64 __fastcall sub_140002840(__int64 a1)
{
  __int64 result; // rax

  result = qword_140009700;
  qword_1400096F8 = 0i64;
  qword_140009700 = a1;
  return result;
}
// 1400096F8: using guessed type __int64 qword_1400096F8;
// 140009700: using guessed type __int64 qword_140009700;

//----- (0000000140002860) ----------------------------------------------------
__int64 sub_140002860()
{
  return qword_1400096F8;
}
// 1400096F8: using guessed type __int64 qword_1400096F8;

//----- (0000000140002870) ----------------------------------------------------
__int64 sub_140002870()
{
  return qword_140009700;
}
// 140009700: using guessed type __int64 qword_140009700;

//----- (0000000140002940) ----------------------------------------------------
__int64 sub_140002940()
{
  return 0i64;
}

//----- (0000000140002950) ----------------------------------------------------
void sub_140002950()
{
  void (**v0)(void); // rbx

  v0 = (void (**)(void))&unk_1400075C0;
  if ( &unk_1400075C0 < (_UNKNOWN *)qword_1400077D8 )
  {
    do
    {
      if ( *v0 )
        (*v0)();
      ++v0;
    }
    while ( v0 < qword_1400077D8 );
  }
}
// 1400077D8: using guessed type void (*qword_1400077D8[35])(void);

//----- (0000000140002990) ----------------------------------------------------
void __fastcall sub_140002990()
{
  void (**v0)(void); // rbx

  v0 = (void (**)(void))&unk_1400078F0;
  if ( &unk_1400078F0 < (_UNKNOWN *)qword_140007B08 )
  {
    do
    {
      if ( *v0 )
        (*v0)();
      ++v0;
    }
    while ( v0 < qword_140007B08 );
  }
}
// 140007B08: using guessed type void (*qword_140007B08[33])(void);

// nfuncs=67 queued=10 decompiled=10 lumina nreq=0 worse=0 better=0
// ALL OK, 10 function(s) have been successfully decompiled
