//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>
#include <stdlib.h>

// ------------------------ Structures ------------------------

struct _IO_FILE {
    int32_t e0;
};

// ------------------- Function Prototypes --------------------

int64_t _dumpline(int64_t * a1, int64_t a2, int64_t a3);
int64_t _hexdump(int64_t a1);
int64_t function_100000e08(int64_t * a1, int64_t a2, int64_t a3, char * a4, int64_t a5);
int64_t function_100000e0e(void);
int64_t function_100000e14(int64_t * a1, char * a2, int64_t a3);
int64_t function_100000e44(void);

// --------------------- Global Variables ---------------------

int64_t g1 = 0; // 0x100001010

// ------------------------ Functions -------------------------

// Address range: 0x100000aec - 0x100000cd9
int64_t _dumpline(int64_t * a1, int64_t a2, int64_t a3) {
    int64_t v1 = (int64_t)a1;
    int64_t v2; // bp-8, 0x100000aec
    int64_t v3 = &v2; // 0x100000aed
    int64_t v4; // bp-152, 0x100000aec
    function_100000e08(&v4, 0, 80, "%08lX:", a2);
    int32_t v5 = a3; // 0x100000b38
    int32_t v6 = v5 - 16; // 0x100000b38
    int64_t v7 = v6 == 0 | v6 < 0 != (15 - v5 & v5) < 0 ? a3 & 0xffffffff : 16; // 0x100000b43
    int32_t v8 = v7; // 0x100000b4c
    int64_t v9 = 1; // 0x100000b4f
    int64_t v10; // 0x100000aec
    int64_t v11; // 0x100000aec
    if (v8 < 1) {
        goto lab_0x100000ba4;
    } else {
        int64_t v12 = &v4; // 0x100000b64
        int64_t v13 = v1; // 0x100000b64
        int64_t v14 = 0; // 0x100000b64
        unsigned char v15 = *(char *)v13; // 0x100000b6b
        _sprintf((char *)(v12 + 9 + (0x100000000 * v14 >> 32)), " %02lX", (int32_t)v15);
        int64_t v16 = 1; // 0x100000b87
        v13++;
        v14 = v14 + 3 & 0xffffffff;
        int64_t v17 = v16 & 0xffffffff; // 0x100000b94
        while ((int32_t)v16 != v8) {
            // 0x100000b6b
            v15 = *(char *)v13;
            _sprintf((char *)(v12 + 9 + (0x100000000 * v14 >> 32)), " %02lX", (int32_t)v15);
            v16 = v17 + 1;
            v13++;
            v14 = v14 + 3 & 0xffffffff;
            v17 = v16 & 0xffffffff;
        }
        int64_t v18 = -1; // 0x100000b9a
        int64_t v19 = v12; // 0x100000b9a
        if (v8 > 15) {
            int64_t v20 = 0; // 0x100000c74
            while (v18 != 0) {
                int64_t v21 = v19;
                int64_t v22 = v18 - 1; // 0x100000c74
                v18 = v22;
                v19 = v21 + 1;
                v20 = v22;
                if (*(char *)v21 == 0) {
                    // break -> 
                    break;
                }
                v20 = 0;
            }
            int64_t v23 = -2 - v20; // 0x100000c79
            *(int32_t *)((0x100000000 * v23 >> 32) + v12) = 0x7c2020;
            int64_t v24 = v23 + 3;
            v10 = v24;
            v11 = v24 & 0xffffffff;
            goto lab_0x100000c0a;
        } else {
            // 0x100000ba0
            v9 = v7 + 1 & 0xffffffff;
            goto lab_0x100000ba4;
        }
    }
  lab_0x100000ba4:
    // 0x100000ba4
    function_100000e14(&v4, "   ", 80);
    int64_t v25 = v9 + 1; // 0x100000bbf
    int64_t v26 = v25 & 0xffffffff; // 0x100000bc7
    while ((int32_t)v25 < 17) {
        // 0x100000bab
        function_100000e14(&v4, "   ", 80);
        v25 = v26 + 1;
        v26 = v25 & 0xffffffff;
    }
    int64_t v27 = &v4; // 0x100000ba4
    int64_t v28 = -1; // 0x100000aec
    int64_t v29 = v27; // 0x100000aec
    int64_t v30 = 0; // 0x100000bd9
    while (v28 != 0) {
        int64_t v31 = v29;
        int64_t v32 = v28 - 1; // 0x100000bd9
        v28 = v32;
        v29 = v31 + 1;
        v30 = v32;
        if (*(char *)v31 == 0) {
            // break -> 
            break;
        }
        v30 = 0;
    }
    int64_t v33 = -2 - v30; // 0x100000bde
    *(int32_t *)((0x100000000 * v33 >> 32) + v27) = 0x7c2020;
    int64_t v34 = v33 + 3;
    int64_t v35 = v34 & 0xffffffff; // 0x100000bec
    v10 = v34;
    v11 = v35;
    int64_t v36; // 0x100000aec
    int64_t v37; // 0x100000aec
    int64_t v38; // 0x100000aec
    if (v8 >= 0 == (v8 != 0)) {
        goto lab_0x100000c0a;
    } else {
        // .dec_label_pc_100000c04_crit_edge
        v36 = v3 - 144;
        v37 = v35;
        v38 = 0;
        goto lab_0x100000c04;
    }
  lab_0x100000c0a:;
    int64_t v39 = v3 - 144;
    int64_t v40 = 0; // 0x100000c0a
    char v41 = *(char *)(v40 + v1); // 0x100000c14
    char v42 = v41 >= 127 ? 46 : v41; // 0x100000c2a
    *(char *)((0x100000000 * (v40 + v10) >> 32) + v39) = v42;
    int64_t v43 = 1; // 0x100000c31
    int64_t v44 = v43 & 0xffffffff; // 0x100000c31
    int32_t v45 = v43;
    v40++;
    while (v45 != v8) {
        // 0x100000c0d
        v41 = *(char *)(v40 + v1);
        v42 = v41 >= 127 ? 46 : v41;
        *(char *)((0x100000000 * (v40 + v10) >> 32) + v39) = v42;
        v43 = v44 + 1;
        v44 = v43 & 0xffffffff;
        v45 = v43;
        v40++;
    }
    // 0x100000c3b
    v36 = v39;
    v37 = v11;
    v38 = v7;
    int64_t v46 = v44; // 0x100000c40
    int64_t v47 = v11; // 0x100000c40
    if (v45 > 15) {
        goto lab_0x100000c99;
    } else {
        goto lab_0x100000c04;
    }
  lab_0x100000c99:
    // 0x100000c99
    *(int16_t *)((0x100000000 * v46 >> 32) + (int64_t)&v4 + (0x100000000 * v47 >> 32)) = 124;
    _puts((char *)&v4);
    int64_t result = g1; // 0x100000cc3
    if (*(int64_t *)g1 != *(int64_t *)g1) {
        // 0x100000cc5
        result = function_100000e0e();
    }
    // 0x100000cca
    return result;
  lab_0x100000c04:;
    int64_t v48 = v38 + v37; // 0x100000c08
    *(char *)((0x100000000 * v48 >> 32) + v36) = 32;
    int64_t v49 = v38 + 1; // 0x100000c52
    int64_t v50 = v49 & 0xffffffff; // 0x100000c52
    v48 = (v48 & 0xffffffff) + 1;
    v46 = v50;
    v47 = v37;
    while ((int32_t)v49 <= 15) {
        // 0x100000c47
        *(char *)((0x100000000 * v48 >> 32) + v36) = 32;
        v49 = v50 + 1;
        v50 = v49 & 0xffffffff;
        v48 = (v48 & 0xffffffff) + 1;
        v46 = v50;
        v47 = v37;
    }
    goto lab_0x100000c99;
}

// Address range: 0x100000cd9 - 0x100000dbc
int64_t _hexdump(int64_t a1) {
    // 0x100000cd9
    int64_t v1; // 0x100000cd9
    uint64_t v2 = v1;
    char * v3 = (char *)a1;
    int64_t v4; // 0x100000cd9
    if ((int32_t)function_100000e44() == 0) {
        struct _IO_FILE * v5 = _fopen(v3, "rb"); // 0x100000d27
        if (v5 == NULL) {
            // 0x100000d47
            _perror(v3);
            v4 = 1;
        } else {
            int64_t v6 = 0; // 0x100000d43
            if (v2 != 0) {
                int64_t v7; // bp-72, 0x100000cd9
                int32_t v8 = _fread(&v7, 1, 16, v5); // 0x100000d66
                while (v8 != 0) {
                    // 0x100000d71
                    _dumpline(&v7, v6, (int64_t)v8);
                    int64_t v9 = v6 + (int64_t)v8; // 0x100000d81
                    v6 = v9;
                    if (v2 <= v9) {
                        // break -> 0x100000d8a
                        break;
                    }
                    v8 = _fread(&v7, 1, 16, v5);
                }
            }
            // 0x100000d8a
            _fclose(v5);
            v4 = 0;
        }
    } else {
        // 0x100000d0e
        _perror(v3);
        v4 = 1;
    }
    int64_t result = v4; // 0x100000da5
    if (*(int64_t *)g1 != *(int64_t *)g1) {
        // 0x100000da7
        result = function_100000e0e();
    }
    // 0x100000dac
    return result;
}

// Address range: 0x100000dbc - 0x100000e08
int main(int argc, char ** argv) {
    int32_t v1 = argc; // 0x100000dd3
    if (v1 < 2) {
        // 0x100000dfc
        return 0;
    }
    int64_t v2 = (int64_t)argv; // 0x100000dde
    int64_t result = 0; // 0x100000dde
    v2 += 8;
    result = _hexdump(*(int64_t *)v2) + result & 0xffffffff;
    int64_t v3 = 2; // 0x100000df0
    int64_t v4 = v3 & 0xffffffff; // 0x100000dfa
    while ((int32_t)v3 != v1) {
        // 0x100000de4
        v2 += 8;
        result = _hexdump(*(int64_t *)v2) + result & 0xffffffff;
        v3 = v4 + 1;
        v4 = v3 & 0xffffffff;
    }
    // 0x100000dfc
    return result;
}

// Address range: 0x100000e08 - 0x100000e0e
int64_t function_100000e08(int64_t * a1, int64_t a2, int64_t a3, char * a4, int64_t a5) {
    // 0x100000e08
    return ___sprintf_chk();
}

// Address range: 0x100000e0e - 0x100000e14
int64_t function_100000e0e(void) {
    // 0x100000e0e
    return ___stack_chk_fail();
}

// Address range: 0x100000e14 - 0x100000e1a
int64_t function_100000e14(int64_t * a1, char * a2, int64_t a3) {
    // 0x100000e14
    return ___strcat_chk();
}

// Address range: 0x100000e44 - 0x100000e4a
int64_t function_100000e44(void) {
    // 0x100000e44
    return _stat_24_INODE64();
}

// --------------- Dynamically Linked Functions ---------------

// int64_t ___sprintf_chk(void);
// int64_t ___stack_chk_fail(void);
// int64_t ___strcat_chk(void);
// int fclose(FILE * stream);
// FILE * fopen(const char * restrict filename, const char * restrict modes);
// size_t fread(void * restrict ptr, size_t size, size_t n, FILE * restrict stream);
// void perror(const char * s);
// int puts(const char * s);
// int sprintf(char * restrict s, const char * restrict format, ...);
// int64_t _stat_24_INODE64(void);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: xcode
// Detected functions: 7

