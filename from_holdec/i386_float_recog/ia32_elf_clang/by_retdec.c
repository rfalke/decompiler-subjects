//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>
#include <stdio.h>

// ---------------- Integer Types Definitions -----------------

typedef int64_t int128_t;

// ----------------- Float Types Definitions ------------------

typedef double float64_t;

// ------------------- Function Prototypes --------------------

int32_t double_to_double(int32_t a1);
int32_t double_to_unknown(uint32_t a1, uint32_t a2);
int32_t unknown_to_double(int32_t a1);
int32_t unknown_to_unknown(uint32_t a1, uint32_t a2);

// --------------------- Global Variables ---------------------

int32_t g1;

// ------------------------ Functions -------------------------

// Address range: 0x8049180 - 0x80491da
int32_t unknown_to_unknown(uint32_t a1, uint32_t a2) {
    // 0x8049180
    printf("got a double with      0x%02x 0x%02x 0x%02x 0x%02x 0x%02x 0x%02x 0x%02x 0x%02x\n", a2 / 0x1000000, a2 / 0x10000 % 256, a2 / 256 % 256, a2 % 256, a1 / 0x1000000, a1 / 0x10000 % 256, a1 / 256 % 256, a1 % 256);
    return 0;
}

// Address range: 0x80491e0 - 0x804923a
int32_t double_to_unknown(uint32_t a1, uint32_t a2) {
    // 0x80491e0
    printf("got a double with      0x%02x 0x%02x 0x%02x 0x%02x 0x%02x 0x%02x 0x%02x 0x%02x\n", a2 / 0x1000000, a2 / 0x10000 % 256, a2 / 256 % 256, a2 % 256, a1 / 0x1000000, a1 / 0x10000 % 256, a1 / 256 % 256, a1 % 256);
    return 0;
}

// Address range: 0x8049240 - 0x8049265
int32_t unknown_to_double(int32_t a1) {
    int128_t v1 = __asm_movsd((int64_t)a1); // 0x8049243
    printf((char *)__asm_movsd_1(__asm_addsd(v1, v1)));
    return 0;
}

// Address range: 0x8049270 - 0x8049295
int32_t double_to_double(int32_t a1) {
    int128_t v1 = __asm_movsd((int64_t)a1); // 0x8049273
    printf((char *)__asm_movsd_1(__asm_addsd(v1, v1)));
    return 0;
}

// Address range: 0x80492a0 - 0x804939b
int main(int argc, char ** argv) {
    // 0x80492a0
    unknown_to_unknown(-0xa3d70a4, 0x3ff35c28);
    int128_t v1 = __asm_cvtsi2sd(argc); // 0x80492b7
    int128_t v2 = __asm_addsd(__asm_movsd(0x3ff3851eb851eb85), v1); // 0x80492c5
    int64_t v3 = __asm_movsd_1(v1); // 0x80492c9
    int32_t v4 = __asm_movsd_1(v2); // 0x80492cf
    double_to_unknown(v4, (int32_t)&g1);
    unknown_to_double(0x7ae147ae);
    int128_t v5 = __asm_addsd_2(__asm_movsd(0x3ff3d70a3d70a3d7), v3); // 0x80492f5
    double_to_double(__asm_movsd_1(v5));
    printf("unknown: int-a=%d double=%f int-b=%d long double=%Lf int-c=%d\n", 100, 5.9415882152956413e-315, 0x40027ae1, 3.68165152720129934855e-4949L, 0x40147ae1);
    int128_t v6 = __asm_movsd(0x400347ae147ae148); // 0x8049343
    int128_t v7 = __asm_movsd(v3); // 0x804934b
    int128_t v8 = __asm_addsd(v6, v7); // 0x8049351
    __asm_movsd_1(__asm_addsd_2(v7, 0x40035c28f5c28f5c));
    printf("double: int-a=%d double=%f int-b=%d long double=%Lf int-c=%d\n", 200, (float64_t)(int64_t)__asm_movsd_1(v8), 201);
    return 0;
}

// --------------- Dynamically Linked Functions ---------------

// int printf(const char * restrict format, ...);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (8.3.1)
// Detected functions: 5

