/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

__int64 __fastcall sub_401020(); // weak
// int puts(const char *s);
// int printf(const char *format, ...);
int __cdecl main(int argc, const char **argv, const char **envp);
__int64 __fastcall sat_addu32b(int, int);
__int64 __fastcall sat_subu32b(unsigned int, unsigned int);
__int64 __fastcall sat_divu32b(unsigned int, unsigned int);
__int64 __fastcall sat_mulu32b(unsigned int, unsigned int);
__int64 __fastcall sat_addu64b(__int64, __int64);
unsigned __int64 __fastcall sat_subu64b(unsigned __int64 a1, unsigned __int64 a2);
unsigned __int64 __fastcall sat_divu64b(unsigned __int64, unsigned __int64);
unsigned __int64 __fastcall sat_mulu64b(unsigned __int64 a1, unsigned __int64 a2);
__int64 __fastcall sat_adds32b_var1(int, int);
__int64 __fastcall sat_adds32b_var2(unsigned int, int);
__int64 __fastcall sat_adds32b_var3(unsigned int, int);
__int64 __fastcall sat_subs32b(unsigned int, int);
__int64 __fastcall sat_divs32b(int, int);
__int64 __fastcall sat_muls32b(unsigned int, int);
__int64 __fastcall sat_adds64b(unsigned __int64, __int64);
__int64 __fastcall sat_subs64b(unsigned __int64, __int64);
__int64 __fastcall sat_divs64b(__int64, __int64);
unsigned __int64 __fastcall sat_muls64b(unsigned __int64 a1, __int64 a2);
__int64 __fastcall abs32(int);
__int64 __fastcall abs64(__int64);
__int64 __fastcall sgn32(unsigned int);
__int64 __fastcall sgn64(unsigned __int64);

//-------------------------------------------------------------------------
// Data declarations

__int64 (*qword_404010)(void) = NULL; // weak


//----- (0000000000401020) ----------------------------------------------------
__int64 sub_401020()
{
  return qword_404010();
}
// 401020: using guessed type __int64 __fastcall sub_401020();
// 404010: using guessed type __int64 (*qword_404010)(void);

//----- (0000000000401050) ----------------------------------------------------
int __cdecl main(int argc, const char **argv, const char **envp)
{
  unsigned int v3; // eax
  __int64 v4; // rdx
  unsigned int v5; // eax
  __int64 v6; // rdx
  unsigned int v7; // eax
  __int64 v8; // rdx
  unsigned int v9; // eax
  unsigned int v10; // eax
  __int64 v11; // r8
  __int64 v12; // r9
  unsigned int v13; // eax
  unsigned int v14; // eax
  unsigned int v15; // eax
  unsigned int v16; // eax
  unsigned int v17; // eax
  __int64 v18; // rax
  __int64 v19; // rdx

  v3 = sat_addu32b(-1, 3);
  printf("sat_addu32b(0x%08x,0x%08x) = 0x%08x\n", 0xFFFFFFFFLL, v4, v3);
  v5 = sat_subu32b(1u, 3u);
  printf("sat_subu32b(0x%08x,0x%08x) = 0x%08x\n", 1LL, v6, v5);
  v7 = sat_mulu32b(0xFFFFFFFF, 3u);
  printf("sat_mulu32b(0x%08x,0x%08x) = 0x%08x\n", 0xFFFFFFFFLL, v8, v7);
  v9 = sat_divu32b(0xFFFFFFFF, 3u);
  printf("sat_divu32b(0x%08x,0x%08x) = 0x%08x\n", 0xFFFFFFFFLL, 3LL, v9);
  sat_adds32b_var3(0x7FFFFFFFu, 2);
  sat_adds32b_var2(0x7FFFFFFFu, 2);
  v10 = sat_adds32b_var1(0x7FFFFFFF, 2);
  printf("sat_adds32b(0x%08x,0x%08x) = 0x%08x 0x%08x 0x%08x\n", 0x7FFFFFFFLL, 2LL, v10, v11, v12);
  v13 = sat_subs32b(0x80000000, 2);
  printf("sat_subs32b(0x%08x,0x%08x) = 0x%08x\n", 0x80000000LL, 2LL, v13);
  v14 = sat_muls32b(0x7FFFFFFFu, 2);
  printf("sat_muls32b(0x%08x,0x%08x) = 0x%08x\n", 0x7FFFFFFFLL, 2LL, v14);
  v15 = sat_divs32b(0x80000000, -1);
  printf("sat_divs32b(0x%08x,0x%08x) = 0x%08x\n", 0x80000000LL, 0xFFFFFFFFLL, v15);
  v16 = abs32(-16);
  printf("abs32(0x%08x) = 0x%08x\n", 4294967280LL, v16);
  v17 = sgn32(3u);
  printf("sgn32(0x%08x) = 0x%08x\n", 3LL, v17);
  sat_addu64b(0LL, 0LL);
  sat_subu64b(0LL, 0LL);
  sat_divu64b(0LL, 1uLL);
  sat_mulu64b(0LL, 0LL);
  sat_muls64b(0LL, 0LL);
  sat_adds64b(0LL, 0LL);
  sat_subs64b(0LL, 0LL);
  sat_divs64b(0LL, 1LL);
  abs64(0LL);
  v18 = sgn64(0LL);
  if ( v19 + v18 == 42 )
    puts("not reached");
  return 0;
}
// 401076: variable 'v4' is possibly undefined
// 40109D: variable 'v6' is possibly undefined
// 4010C4: variable 'v8' is possibly undefined
// 401131: variable 'v11' is possibly undefined
// 401131: variable 'v12' is possibly undefined
// 401253: variable 'v19' is possibly undefined

//----- (0000000000401360) ----------------------------------------------------
__int64 __fastcall sat_addu32b(int a1, int a2)
{
  return (a2 + a1) | (unsigned int)-__CFADD__(a2, a1);
}

//----- (0000000000401370) ----------------------------------------------------
__int64 __fastcall sat_subu32b(unsigned int a1, unsigned int a2)
{
  return a1 >= a2 ? a1 - a2 : 0;
}

//----- (0000000000401380) ----------------------------------------------------
__int64 __fastcall sat_divu32b(unsigned int a1, unsigned int a2)
{
  return a1 / a2;
}

//----- (0000000000401390) ----------------------------------------------------
__int64 __fastcall sat_mulu32b(unsigned int a1, unsigned int a2)
{
  return (a2 * (unsigned __int64)a1) >> 32 != 0 ? -1 : a2 * a1;
}

//----- (00000000004013B0) ----------------------------------------------------
__int64 __fastcall sat_addu64b(__int64 a1, __int64 a2)
{
  return __CFADD__(a2, a1) ? -1 : a2 + a1;
}

//----- (00000000004013C0) ----------------------------------------------------
unsigned __int64 __fastcall sat_subu64b(unsigned __int64 a1, unsigned __int64 a2)
{
  return a1 >= a2 ? a1 - a2 : 0;
}

//----- (00000000004013D0) ----------------------------------------------------
unsigned __int64 __fastcall sat_divu64b(unsigned __int64 a1, unsigned __int64 a2)
{
  return a1 / a2;
}

//----- (00000000004013E0) ----------------------------------------------------
unsigned __int64 __fastcall sat_mulu64b(unsigned __int64 a1, unsigned __int64 a2)
{
  return (a2 * (unsigned __int128)a1) >> 64 != 0 ? -1 : a2 * a1;
}

//----- (0000000000401400) ----------------------------------------------------
__int64 __fastcall sat_adds32b_var1(int a1, int a2)
{
  __int64 result; // rax

  result = a2 + (__int64)a1;
  if ( result > 0x7FFFFFFF )
    result = 0x7FFFFFFFLL;
  if ( result < (__int64)0xFFFFFFFF80000000LL )
    return 0xFFFFFFFF80000000LL;
  return result;
}

//----- (0000000000401430) ----------------------------------------------------
__int64 __fastcall sat_adds32b_var2(unsigned int a1, int a2)
{
  __int64 result; // rax

  result = a2 + a1;
  if ( ((a1 ^ a2) & 0x80000000) == 0 && (int)(result ^ a1) < 0 )
    return (a1 >> 31) + 0x7FFFFFFF;
  return result;
}

//----- (0000000000401450) ----------------------------------------------------
__int64 __fastcall sat_adds32b_var3(unsigned int a1, int a2)
{
  __int64 result; // rax
  unsigned int v3; // edi

  result = a1 + a2;
  v3 = (a1 >> 31) + 0x7FFFFFFF;
  if ( (int)(v3 ^ a2 | ~(result ^ a2)) >= 0 )
    return v3;
  return result;
}

//----- (0000000000401470) ----------------------------------------------------
__int64 __fastcall sat_subs32b(unsigned int a1, int a2)
{
  __int64 result; // rax
  unsigned int v3; // edi

  result = a1 - a2;
  v3 = (a1 >> 31) + 0x7FFFFFFF;
  if ( (int)((v3 ^ result) & (v3 ^ a2)) < 0 )
    return v3;
  return result;
}

//----- (0000000000401490) ----------------------------------------------------
__int64 __fastcall sat_divs32b(int a1, int a2)
{
  return (unsigned int)(((((a1 + 0x80000000) | (a2 + 1)) == 0) + a1) / a2);
}

//----- (00000000004014B0) ----------------------------------------------------
__int64 __fastcall sat_muls32b(unsigned int a1, int a2)
{
  __int64 v2; // rax
  unsigned int v3; // er8

  v2 = a2 * (__int64)(int)a1;
  v3 = v2;
  if ( (int)v2 >> 31 != HIDWORD(v2) )
    return ((a2 ^ a1) >> 31) + 0x7FFFFFFF;
  return v3;
}

//----- (00000000004014E0) ----------------------------------------------------
__int64 __fastcall sat_adds64b(unsigned __int64 a1, __int64 a2)
{
  __int64 result; // rax
  __int64 v3; // rdi

  result = a1 + a2;
  v3 = (a1 >> 63) + 0x7FFFFFFFFFFFFFFFLL;
  if ( (v3 ^ a2 | ~(result ^ a2)) >= 0 )
    return v3;
  return result;
}

//----- (0000000000401510) ----------------------------------------------------
__int64 __fastcall sat_subs64b(unsigned __int64 a1, __int64 a2)
{
  __int64 result; // rax
  __int64 v3; // rdi

  result = a1 - a2;
  v3 = (a1 >> 63) + 0x7FFFFFFFFFFFFFFFLL;
  if ( ((v3 ^ result) & (v3 ^ a2)) < 0 )
    return v3;
  return result;
}

//----- (0000000000401540) ----------------------------------------------------
__int64 __fastcall sat_divs64b(__int64 a1, __int64 a2)
{
  return ((((a1 + 0x8000000000000000LL) | (a2 + 1)) == 0) + a1) / a2;
}

//----- (0000000000401570) ----------------------------------------------------
unsigned __int64 __fastcall sat_muls64b(unsigned __int64 a1, __int64 a2)
{
  __int64 v2; // r8

  v2 = a2 * a1;
  if ( (__int64)(a2 * a1) >> 63 != (unsigned __int128)(a2 * (__int128)(__int64)a1) >> 64 )
    return ((a2 ^ a1) >> 63) + 0x7FFFFFFFFFFFFFFFLL;
  return v2;
}

//----- (00000000004015A0) ----------------------------------------------------
__int64 __fastcall abs32(int a1)
{
  __int64 result; // rax

  result = (unsigned int)-a1;
  if ( a1 > 0 )
    return (unsigned int)a1;
  return result;
}

//----- (00000000004015B0) ----------------------------------------------------
__int64 __fastcall abs64(__int64 a1)
{
  __int64 result; // rax

  result = -a1;
  if ( a1 > 0 )
    return a1;
  return result;
}

//----- (00000000004015C0) ----------------------------------------------------
__int64 __fastcall sgn32(unsigned int a1)
{
  return ((int)a1 > 0) - (a1 >> 31);
}

//----- (00000000004015D0) ----------------------------------------------------
__int64 __fastcall sgn64(unsigned __int64 a1)
{
  return (int)(((__int64)a1 > 0) - (a1 >> 63));
}

// nfuncs=40 queued=24 decompiled=24 lumina nreq=0 worse=0 better=0
// ALL OK, 24 function(s) have been successfully decompiled
