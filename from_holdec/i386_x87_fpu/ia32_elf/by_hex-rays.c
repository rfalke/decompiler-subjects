/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <math.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

void *init_proc();
int sub_8049030();
// int printf(const char *format, ...);
// int puts(const char *s);
// int __cdecl __libc_start_main(int (__cdecl *main)(int, char **, char **), int argc, char **ubp_av, void (*init)(void), void (*fini)(void), void (*rtld_fini)(void), void *stack_end);
// int putchar(int c);
// void __assert_fail(const char *assertion, const char *file, unsigned int line, const char *function);
// void __usercall __noreturn start(int a1@<eax>, void (*a2)(void)@<edx>);
void sub_80490C7();
void dl_relocate_static_pie();
void _x86_get_pc_thunk_bx();
char *deregister_tm_clones();
int register_tm_clones();
char *_do_global_dtors_aux();
int frame_dummy();
int __cdecl main(int argc, const char **argv, const char **envp);
int F2XM1();
int __cdecl FABS(double); // idb
int __cdecl FADD(double); // idb
int FBSTP();
// int __usercall FBLD@<eax>(long double a1@<st0>);
int __cdecl FCHS(double); // idb
int __cdecl FCMOV(__int16 a1);
int __cdecl FCOM(double); // idb
// int __usercall FCOMI@<eax>(char a1@<efl>, double a2);
int __cdecl FCOS(double); // idb
int __cdecl FDIV(double); // idb
int __cdecl FDIVR(double); // idb
int FILD();
int FIST();
int FLD();
int FLDC();
int __cdecl FMUL(double); // idb
int __cdecl FPATAN(double); // idb
int __cdecl FPREM(double); // idb
int __cdecl FPTAN(double); // idb
int __cdecl FRNDINT(double); // idb
int __cdecl FSCALE(double); // idb
int __cdecl FSIN(double); // idb
int __cdecl FSINCOS(double); // idb
int __cdecl FSQRT(double); // idb
int FST();
int __cdecl FSUB(double); // idb
int __cdecl FTST(double); // idb
int __cdecl FXAM(double); // idb
int __cdecl FXCH(double); // idb
// int __usercall FXTRACT@<eax>(long double _FST6@<st1>, double a2);
int __cdecl FYL2X(double); // idb
int __cdecl FYL2XP1(double); // idb
int NOT_EXECUTED();
// int __usercall TOP@<eax>(unsigned __int16 a1@<fpstat>);
int (**_libc_csu_init())();
void _libc_csu_fini();
void term_proc();

//-------------------------------------------------------------------------
// Data declarations

_TBYTE readbuffer = ?flt; // weak
int (*_frame_dummy_init_array_entry[2])() = { &frame_dummy, &_do_global_dtors_aux }; // weak
int (*_do_global_dtors_aux_fini_array_entry)() = &_do_global_dtors_aux; // weak
int (*dword_8050008)(void) = NULL; // weak
char _bss_start; // weak
_TBYTE buffer; // weak
// extern _UNKNOWN _gmon_start__; weak


//----- (08049000) --------------------------------------------------------
void *init_proc()
{
  void *result; // eax

  result = &_gmon_start__;
  if ( &_gmon_start__ )
    result = (void *)((int (*)(void))_gmon_start__)();
  return result;
}

//----- (08049030) --------------------------------------------------------
int sub_8049030()
{
  return dword_8050008();
}
// 8050008: using guessed type int (*dword_8050008)(void);

//----- (08049090) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall __noreturn start(int a1@<eax>, void (*a2)(void)@<edx>)
{
  int v2; // esi
  int v3; // [esp-4h] [ebp-4h] BYREF
  char *retaddr; // [esp+0h] [ebp+0h] BYREF

  v2 = v3;
  v3 = a1;
  __libc_start_main(
    (int (__cdecl *)(int, char **, char **))main,
    v2,
    &retaddr,
    (void (*)(void))_libc_csu_init,
    _libc_csu_fini,
    a2,
    &v3);
  __halt();
}
// 8049097: positive sp value 4 has been found

//----- (080490C7) --------------------------------------------------------
void sub_80490C7()
{
  ;
}

//----- (080490D0) --------------------------------------------------------
void dl_relocate_static_pie()
{
  ;
}

//----- (080490E0) --------------------------------------------------------
void _x86_get_pc_thunk_bx()
{
  ;
}

//----- (080490F0) --------------------------------------------------------
char *deregister_tm_clones()
{
  return &_bss_start;
}
// 80490F0: could not find valid save-restore pair for ebp
// 8050024: using guessed type char _bss_start;

//----- (08049130) --------------------------------------------------------
int register_tm_clones()
{
  return 0;
}
// 8049130: could not find valid save-restore pair for ebp

//----- (08049170) --------------------------------------------------------
char *_do_global_dtors_aux()
{
  char *result; // eax

  if ( !_bss_start )
  {
    result = deregister_tm_clones();
    _bss_start = 1;
  }
  return result;
}
// 8049170: could not find valid save-restore pair for ebp
// 8050024: using guessed type char _bss_start;

//----- (080491A0) --------------------------------------------------------
int frame_dummy()
{
  return register_tm_clones();
}

//----- (080491A6) --------------------------------------------------------
int __cdecl main(int argc, const char **argv, const char **envp)
{
  long double v3; // fst6
  unsigned __int16 v4; // fps
  unsigned __int16 v5; // fps
  unsigned __int16 v6; // fps
  unsigned __int16 v7; // fps
  unsigned __int16 v8; // fps
  unsigned __int16 v9; // fps
  unsigned __int16 v10; // fps
  unsigned __int16 v11; // fps
  unsigned __int16 v12; // fps
  bool v13; // cf
  bool v14; // zf
  bool v15; // sf
  bool v16; // of
  bool v17; // pf
  char v18; // fl
  unsigned __int16 v19; // fps
  unsigned __int16 v20; // fps
  unsigned __int16 v21; // fps
  unsigned __int16 v22; // fps
  unsigned __int16 v23; // fps
  unsigned __int16 v24; // fps
  unsigned __int16 v25; // fps
  unsigned __int16 v26; // fps
  unsigned __int16 v27; // fps
  unsigned __int16 v28; // fps
  unsigned __int16 v29; // fps
  unsigned __int16 v30; // fps
  unsigned __int16 v31; // fps
  unsigned __int16 v32; // fps
  unsigned __int16 v33; // fps
  unsigned __int16 v34; // fps
  unsigned __int16 v35; // fps
  unsigned __int16 v36; // fps
  unsigned __int16 v37; // fps
  unsigned __int16 v38; // fps
  unsigned __int16 v39; // fps
  unsigned __int16 v40; // fps
  unsigned __int16 v41; // fps
  unsigned __int16 v42; // fps
  unsigned __int16 v43; // fps
  _BYTE v45[8]; // [esp-8h] [ebp-98h] BYREF
  int v46; // [esp+0h] [ebp-90h]
  int v47; // [esp+4h] [ebp-8Ch]
  int v48; // [esp+8h] [ebp-88h]
  int v49; // [esp+Ch] [ebp-84h]
  int v50; // [esp+10h] [ebp-80h]
  int v51; // [esp+14h] [ebp-7Ch]
  int v52; // [esp+18h] [ebp-78h]
  int v53; // [esp+1Ch] [ebp-74h]
  int v54; // [esp+20h] [ebp-70h]
  int v55; // [esp+24h] [ebp-6Ch]
  int v56; // [esp+28h] [ebp-68h]
  int v57; // [esp+2Ch] [ebp-64h]
  int v58; // [esp+30h] [ebp-60h]
  int v59; // [esp+34h] [ebp-5Ch]
  int v60; // [esp+38h] [ebp-58h]
  int v61; // [esp+3Ch] [ebp-54h]
  int v62; // [esp+40h] [ebp-50h]
  int v63; // [esp+44h] [ebp-4Ch]
  int v64; // [esp+48h] [ebp-48h]
  int v65; // [esp+4Ch] [ebp-44h]
  int v66; // [esp+50h] [ebp-40h]
  int v67; // [esp+54h] [ebp-3Ch]
  int v68; // [esp+58h] [ebp-38h]
  int v69; // [esp+5Ch] [ebp-34h]
  int v70; // [esp+60h] [ebp-30h]
  int v71; // [esp+64h] [ebp-2Ch]
  int v72; // [esp+68h] [ebp-28h]
  int v73; // [esp+6Ch] [ebp-24h]
  int v74; // [esp+70h] [ebp-20h]
  int v75; // [esp+74h] [ebp-1Ch]
  int v76; // [esp+78h] [ebp-18h]
  int v77; // [esp+7Ch] [ebp-14h]
  int v78; // [esp+80h] [ebp-10h]
  int v79; // [esp+84h] [ebp-Ch]
  int *p_argc; // [esp+88h] [ebp-8h]

  p_argc = &argc;
  F2XM1();
  v79 = TOP(v4);
  if ( v79 )
  {
    printf("top=%d\n", v79);
    __assert_fail("top==0", "source.c", 0x30u, "main");
  }
  putchar(10);
  FABS(0.5);
  v78 = TOP(v5);
  if ( v78 )
  {
    printf("top=%d\n", v78);
    __assert_fail("top==0", "source.c", 0x34u, "main");
  }
  putchar(10);
  FADD(0.5);
  v77 = TOP(v6);
  if ( v77 )
  {
    printf("top=%d\n", v77);
    __assert_fail("top==0", "source.c", 0x38u, "main");
  }
  putchar(10);
  FBSTP();
  v76 = TOP(v7);
  if ( v76 )
  {
    printf("top=%d\n", v76);
    __assert_fail("top==0", "source.c", 0x3Cu, "main");
  }
  putchar(10);
  FBLD(0.5);
  v75 = TOP(v8);
  if ( v75 )
  {
    printf("top=%d\n", v75);
    __assert_fail("top==0", "source.c", 0x40u, "main");
  }
  putchar(10);
  FCHS(-0.5);
  v74 = TOP(v9);
  if ( v74 )
  {
    printf("top=%d\n", v74);
    __assert_fail("top==0", "source.c", 0x44u, "main");
  }
  putchar(10);
  FCMOV(0);
  v73 = TOP(v10);
  if ( v73 )
  {
    printf("top=%d\n", v73);
    __assert_fail("top==0", "source.c", 0x48u, "main");
  }
  FCMOV(-1);
  v72 = TOP(v11);
  if ( v72 )
  {
    printf("top=%d\n", v72);
    __assert_fail("top==0", "source.c", 0x4Au, "main");
  }
  putchar(10);
  FCOM(0.5);
  v71 = TOP(v12);
  if ( v71 )
  {
    printf("top=%d\n", v71);
    __assert_fail("top==0", "source.c", 0x4Eu, "main");
  }
  putchar(10);
  v13 = (unsigned int)v45 < 8;
  v16 = __OFSUB__(v45, 8);
  v14 = v45 == 0;
  v17 = __SETP__(v45, 0);
  v15 = (int)v45 < 0;
  FCOMI(v18, 0.5);
  v70 = TOP(v19);
  if ( v70 )
  {
    printf("top=%d\n", v70);
    if ( v70 )
      __assert_fail("top==0", "source.c", 0x52u, "main");
  }
  putchar(10);
  FCOS(0.5);
  v69 = TOP(v20);
  if ( v69 )
  {
    printf("top=%d\n", v69);
    if ( v69 )
      __assert_fail("top==0", "source.c", 0x56u, "main");
  }
  putchar(10);
  FDIV(0.5);
  v68 = TOP(v21);
  if ( v68 )
  {
    printf("top=%d\n", v68);
    if ( v68 )
      __assert_fail("top==0", "source.c", 0x5Au, "main");
  }
  putchar(10);
  FDIVR(0.5);
  v67 = TOP(v22);
  if ( v67 )
  {
    printf("top=%d\n", v67);
    if ( v67 )
      __assert_fail("top==0", "source.c", 0x5Eu, "main");
  }
  putchar(10);
  FILD();
  v66 = TOP(v23);
  if ( v66 )
  {
    printf("top=%d\n", v66);
    if ( v66 )
      __assert_fail("top==0", "source.c", 0x62u, "main");
  }
  putchar(10);
  FIST();
  v65 = TOP(v24);
  if ( v65 )
  {
    printf("top=%d\n", v65);
    if ( v65 )
      __assert_fail("top==0", "source.c", 0x66u, "main");
  }
  putchar(10);
  FLD();
  v64 = TOP(v25);
  if ( v64 )
  {
    printf("top=%d\n", v64);
    if ( v64 )
      __assert_fail("top==0", "source.c", 0x6Au, "main");
  }
  putchar(10);
  FLDC();
  v63 = TOP(v26);
  if ( v63 )
  {
    printf("top=%d\n", v63);
    if ( v63 )
      __assert_fail("top==0", "source.c", 0x6Eu, "main");
  }
  putchar(10);
  FMUL(0.5);
  v62 = TOP(v27);
  if ( v62 )
  {
    printf("top=%d\n", v62);
    if ( v62 )
      __assert_fail("top==0", "source.c", 0x72u, "main");
  }
  putchar(10);
  FPATAN(0.5);
  v61 = TOP(v28);
  if ( v61 )
  {
    printf("top=%d\n", v61);
    if ( v61 )
      __assert_fail("top==0", "source.c", 0x76u, "main");
  }
  putchar(10);
  FPREM(7757013.73512878);
  v60 = TOP(v29);
  if ( v60 )
  {
    printf("top=%d\n", v60);
    if ( v60 )
      __assert_fail("top==0", "source.c", 0x7Au, "main");
  }
  putchar(10);
  FPTAN(0.5);
  v59 = TOP(v30);
  if ( v59 )
  {
    printf("top=%d\n", v59);
    if ( v59 )
      __assert_fail("top==0", "source.c", 0x7Eu, "main");
  }
  putchar(10);
  FRNDINT(0.8);
  v58 = TOP(v31);
  if ( v58 )
  {
    printf("top=%d\n", v58);
    if ( v58 )
      __assert_fail("top==0", "source.c", 0x82u, "main");
  }
  putchar(10);
  FSCALE(2.8);
  v57 = TOP(v32);
  if ( v57 )
  {
    printf("top=%d\n", v57);
    if ( v57 )
      __assert_fail("top==0", "source.c", 0x86u, "main");
  }
  putchar(10);
  FSIN(0.5);
  v56 = TOP(v33);
  if ( v56 )
  {
    printf("top=%d\n", v56);
    if ( v56 )
      __assert_fail("top==0", "source.c", 0x8Au, "main");
  }
  putchar(10);
  FSINCOS(0.5);
  v55 = TOP(v34);
  if ( v55 )
  {
    printf("top=%d\n", v55);
    if ( v55 )
      __assert_fail("top==0", "source.c", 0x8Eu, "main");
  }
  putchar(10);
  FSQRT(2.0);
  v54 = TOP(v35);
  if ( v54 )
  {
    printf("top=%d\n", v54);
    if ( v54 )
      __assert_fail("top==0", "source.c", 0x92u, "main");
  }
  putchar(10);
  FST();
  v53 = TOP(v36);
  if ( v53 )
  {
    printf("top=%d\n", v53);
    if ( v53 )
      __assert_fail("top==0", "source.c", 0x96u, "main");
  }
  putchar(10);
  FSUB(0.8);
  v52 = TOP(v37);
  if ( v52 )
  {
    printf("top=%d\n", v52);
    if ( v52 )
      __assert_fail("top==0", "source.c", 0x9Au, "main");
  }
  putchar(10);
  FTST(-42.0);
  v51 = TOP(v38);
  if ( v51 )
  {
    printf("top=%d\n", v51);
    if ( v51 )
      __assert_fail("top==0", "source.c", 0x9Eu, "main");
  }
  putchar(10);
  FXAM(0.5);
  v50 = TOP(v39);
  if ( v50 )
  {
    printf("top=%d\n", v50);
    if ( v50 )
      __assert_fail("top==0", "source.c", 0xA2u, "main");
  }
  putchar(10);
  FXCH(0.5);
  v49 = TOP(v40);
  if ( v49 )
  {
    printf("top=%d\n", v49);
    if ( v49 )
      __assert_fail("top==0", "source.c", 0xA6u, "main");
  }
  putchar(10);
  FXTRACT(v3, 0.5);
  v48 = TOP(v41);
  if ( v48 )
  {
    printf("top=%d\n", v48);
    if ( v48 )
      __assert_fail("top==0", "source.c", 0xAAu, "main");
  }
  putchar(10);
  FYL2X(256.0);
  v47 = TOP(v42);
  if ( v47 )
  {
    printf("top=%d\n", v47);
    if ( v47 )
      __assert_fail("top==0", "source.c", 0xAEu, "main");
  }
  putchar(10);
  FYL2XP1(255.0);
  v46 = TOP(v43);
  if ( v46 )
  {
    printf("top=%d\n", v46);
    if ( v46 )
      __assert_fail("top==0", "source.c", 0xB2u, "main");
  }
  putchar(10);
  if ( argc == 42 )
    NOT_EXECUTED();
  return 0;
}
// 80491FA: conditional instruction was optimized away because of '%var_C.4!=0'
// 804925C: conditional instruction was optimized away because of '%var_10.4!=0'
// 80492BE: conditional instruction was optimized away because of '%var_14.4!=0'
// 804930D: conditional instruction was optimized away because of '%var_18.4!=0'
// 804935C: conditional instruction was optimized away because of '%var_1C.4!=0'
// 80493BE: conditional instruction was optimized away because of '%var_20.4!=0'
// 8049415: conditional instruction was optimized away because of '%var_24.4!=0'
// 804945F: conditional instruction was optimized away because of '%var_28.4!=0'
// 80494C1: conditional instruction was optimized away because of '%var_2C.4!=0'
// 8049D53: variable 'v3' is possibly undefined

//----- (08049EB0) --------------------------------------------------------
int F2XM1()
{
  long double v0; // fst7
  double v2; // [esp+0h] [ebp-28h]
  double v3; // [esp+0h] [ebp-28h]
  double v4; // [esp+0h] [ebp-28h]

  v2 = __F2XM1__(-1.0);
  printf("F2XM1(-1):   should=   -0.500000/  -5.000000e-01 is=%12f/%15e\n", v2, v2);
  v3 = __F2XM1__(0.0);
  printf("F2XM1(0):    should=    0.000000/   0.000000e+00 is=%12f/%15e\n", v3, v3);
  v4 = __F2XM1__(1.0);
  printf("F2XM1(+1):   should=    1.000000/   1.000000e+00 is=%12f/%15e\n", v4, v4);
  v0 = __F2XM1__(1.0 / 3.141592653589793116);
  printf("F2XM1(1/pi): should=    0.246869/   2.468690e-01 is=%12f/%15e\n", (double)v0, (double)v0);
  return 0;
}

//----- (08049F30) --------------------------------------------------------
int __cdecl FABS(double a1)
{
  long double v1; // fst7
  double v3; // [esp+0h] [ebp-28h]
  double v4; // [esp+0h] [ebp-28h]
  double v5; // [esp+0h] [ebp-28h]

  v3 = fabs(a1);
  printf("FABS(para):   should=                            is=%12f/%15e\n", v3, v3);
  v4 = fabs(-1.0);
  printf("FABS(-1):   should=     1.000000/   1.000000e+00 is=%12f/%15e\n", v4, v4);
  v5 = fabs(-0.0);
  printf("FABS(-0):    should=    0.000000/   0.000000e+00 is=%12f/%15e\n", v5, v5);
  v1 = fabs(1.0);
  printf("FABS(+1):   should=     1.000000/   1.000000e+00 is=%12f/%15e\n", (double)v1, (double)v1);
  return 0;
}

//----- (08049FB0) --------------------------------------------------------
int __cdecl FADD(double a1)
{
  printf("FADD(para+1):     should=                             is=%12f/%15e\n", (double)(a1 + 1.0), (double)(a1 + 1.0));
  printf(
    "FADD(para+12.34): should=                             is=%12f/%15e\n",
    (double)(a1 + 12.34),
    (double)(a1 + 12.34));
  printf(
    "FADD(pi+1/pi):    should=    3.459903/   3.459903e+00 is=%12f/%15e\n",
    (double)(1.0 / 3.141592653589793116 + 3.141592653589793116),
    (double)(1.0 / 3.141592653589793116 + 3.141592653589793116));
  printf(
    "FADD(1+1+-0):     should=    2.000000/   2.000000e+00 is=%12f/%15e\n",
    (double)(1.0 + 1.0 - 0.0),
    (double)(1.0 + 1.0 - 0.0));
  printf(
    "FADD(pi+1000):    should= 1003.141593/   1.003142e+03 is=%12f/%15e\n",
    (double)((long double)1000 + 3.141592653589793116),
    (double)((long double)1000 + 3.141592653589793116));
  return 0;
}

//----- (0804A060) --------------------------------------------------------
int FBSTP()
{
  *(long double *)&buffer = __FBSTP__(-1.234567890112233e17);
  printf(
    "FBSTP(%f) should=0x44 0x33 0x22 0x11 0x90 0x78 0x56 0x34 0x12 0x80 is=0x%02x 0x%02x 0x%02x 0x%02x 0x%02x 0x%02x 0x%0"
    "2x 0x%02x 0x%02x 0x%02x\n",
    (double)-1.234567890112233e17,
    LOBYTE(buffer),
    BYTE1(buffer),
    BYTE2(buffer),
    BYTE3(buffer),
    BYTE4(buffer),
    BYTE5(buffer),
    BYTE6(buffer),
    BYTE7(buffer),
    BYTE8(buffer),
    HIBYTE(buffer));
  return 0;
}
// 8050028: using guessed type _TBYTE buffer;

//----- (0804A0E0) --------------------------------------------------------
int __usercall FBLD@<eax>(long double a1@<st0>)
{
  long double v1; // rt1

  v1 = __FBLD__(*(long double *)&readbuffer);
  *(double *)&a1 = *(double *)&v1;
  printf(
    "FBLD(0x%02x 0x%02x 0x%02x 0x%02x 0x%02x 0x%02x 0x%02x 0x%02x 0x%02x 0x%02x): should=-123456789088776656.000000/  -1."
    "234568e+17 is=%12f/%15e\n",
    LOBYTE(readbuffer),
    BYTE1(readbuffer),
    BYTE2(readbuffer),
    BYTE3(readbuffer),
    BYTE4(readbuffer),
    BYTE5(readbuffer),
    BYTE6(readbuffer),
    BYTE7(readbuffer),
    BYTE8(readbuffer),
    HIBYTE(readbuffer),
    (double)a1,
    (double)a1);
  return 0;
}
// 804C4FD: using guessed type _TBYTE readbuffer;

//----- (0804A150) --------------------------------------------------------
int __cdecl FCHS(double a1)
{
  printf("FCHS(para):  should=                             is=%12f/%15e\n", -a1, -a1);
  printf(
    "FCHS(pi):    should=   -3.141593/  -3.141593e+00 is=%12f/%15e\n",
    (double)-3.141592653589793116,
    (double)-3.141592653589793116);
  printf(
    "FCHS(0-pi):  should=    3.141593/   3.141593e+00 is=%12f/%15e\n",
    (double)-(0.0 - 3.141592653589793116),
    (double)-(0.0 - 3.141592653589793116));
  return 0;
}

//----- (0804A1B0) --------------------------------------------------------
int __cdecl FCMOV(__int16 a1)
{
  long double v1; // fst6
  long double v2; // fst6
  long double v3; // fst6
  long double v4; // fst6
  long double v5; // fst6
  long double v6; // fst6
  long double v7; // fst6
  long double v8; // fst6

  printf("using EFLAGS=0x%0x\n", HIBYTE(a1));
  v1 = 3.141592653589793116;
  if ( (a1 & 0x100) != 0 )
    v1 = 1.0;
  printf(
    "  FCMOV(below ? 1 : pi):           should=                             is=%12f/%15e\n",
    (double)v1,
    (double)v1);
  v2 = 3.141592653589793116;
  if ( (a1 & 0x4000) != 0 )
    v2 = 1.0;
  printf(
    "  FCMOV(equal ? 1 : pi):           should=                             is=%12f/%15e\n",
    (double)v2,
    (double)v2);
  v3 = 3.141592653589793116;
  if ( (a1 & 0x100) != 0 || (a1 & 0x4000) != 0 )
    v3 = 1.0;
  printf(
    "  FCMOV(below_or_equal ? 1 : pi):  should=                             is=%12f/%15e\n",
    (double)v3,
    (double)v3);
  v4 = 3.141592653589793116;
  if ( (a1 & 0x400) != 0 )
    v4 = 1.0;
  printf(
    "  FCMOV(unordered ? 1 : pi):       should=                             is=%12f/%15e\n",
    (double)v4,
    (double)v4);
  v5 = 3.141592653589793116;
  if ( (a1 & 0x100) == 0 )
    v5 = 1.0;
  printf(
    "  FCMOV(!below ? 1 : pi):          should=                             is=%12f/%15e\n",
    (double)v5,
    (double)v5);
  v6 = 3.141592653589793116;
  if ( (a1 & 0x4000) == 0 )
    v6 = 1.0;
  printf(
    "  FCMOV(!equal ? 1 : pi):          should=                             is=%12f/%15e\n",
    (double)v6,
    (double)v6);
  v7 = 3.141592653589793116;
  if ( (a1 & 0x100) == 0 && (a1 & 0x4000) == 0 )
    v7 = 1.0;
  printf(
    "  FCMOV(!below_or_equal ? 1 : pi): should=                             is=%12f/%15e\n",
    (double)v7,
    (double)v7);
  v8 = 3.141592653589793116;
  if ( (a1 & 0x400) == 0 )
    v8 = 1.0;
  printf(
    "  FCMOV(!unordered ? 1 : pi):      should=                             is=%12f/%15e\n",
    (double)v8,
    (double)v8);
  return 0;
}

//----- (0804A2F0) --------------------------------------------------------
int __cdecl FCOM(double a1)
{
  __int16 v1; // fps
  bool v2; // c0
  char v3; // c2
  bool v4; // c3
  __int16 v5; // fps
  bool v6; // c0
  char v7; // c2
  bool v8; // c3
  __int16 v9; // fps
  bool v10; // c0
  char v11; // c2
  bool v12; // c3
  __int16 v13; // fps
  bool v14; // c0
  char v15; // c2
  bool v16; // c3
  __int16 v17; // fps
  char v18; // c0
  char v19; // c2
  char v20; // c3
  __int16 v21; // fps
  bool v22; // c0
  char v23; // c2
  bool v24; // c3
  __int16 v25; // fps
  bool v26; // c0
  char v27; // c2
  bool v28; // c3
  __int16 v29; // fps
  bool v30; // c0
  char v31; // c2
  bool v32; // c3

  v2 = *(float *)&a1 > 1.0;
  v3 = 0;
  v4 = 1.0 == *(float *)&a1;
  printf("FCOM(1,para): should=0x0000 is=0x%04x\n", v1 & 0x4500);
  v6 = a1 < 1.0;
  v7 = 0;
  v8 = a1 == 1.0;
  printf("FCOM(para,1): should=0x0100 is=0x%04x\n", v5 & 0x4500);
  v10 = 1.0 > 3.141592653589793116;
  v11 = 0;
  v12 = 3.141592653589793116 == 1.0;
  printf("FCOM(pi,1):   should=0x0000 is=0x%04x\n", v9 & 0x4500);
  v14 = 3.141592653589793116 > 1.0;
  v15 = 0;
  v16 = 1.0 == 3.141592653589793116;
  printf("FCOM(1,pi):   should=0x0100 is=0x%04x\n", v13 & 0x4500);
  v18 = 0;
  v19 = 0;
  v20 = 1;
  printf("FCOM(1,1):    should=0x4000 is=0x%04x\n", v17 & 0x4500);
  v22 = 0.0 / 0.0 > 1.0;
  v23 = 0;
  v24 = 1.0 == 0.0 / 0.0;
  printf("FCOM(1,nan):  should=0x4500 is=0x%04x\n", v21 & 0x4500);
  v26 = (long double)3 > 3.141592653589793116;
  v27 = 0;
  v28 = 3.141592653589793116 == (long double)3;
  printf("FICOM(pi,3):  should=0x0000 is=0x%04x\n", v25 & 0x4500);
  v30 = (long double)4 > 3.141592653589793116;
  v31 = 0;
  v32 = 3.141592653589793116 == (long double)4;
  printf("FICOM(pi,4):  should=0x0100 is=0x%04x\n", v29 & 0x4500);
  return 0;
}

//----- (0804A410) --------------------------------------------------------
int __usercall FCOMI@<eax>(char a1@<efl>, double a2)
{
  bool v2; // sf
  bool v3; // of
  bool v4; // cf
  bool v5; // zf
  char v6; // pf
  char v7; // fl
  char v8; // fl
  char v9; // fl
  char v10; // fl
  char v11; // fl
  void *retaddr; // [esp+28h] [ebp+0h] BYREF

  v3 = 0;
  v4 = a2 > 1.0;
  v6 = 0;
  v5 = 1.0 == a2;
  printf("FCOMI(1,para): should=0x00 is=0x%02x\n", a1 & 0x45);
  v3 = __OFSUB__(&retaddr, 40);
  v2 = (int)&retaddr < 0;
  v4 = a2 < 1.0;
  v6 = 0;
  v5 = a2 == 1.0;
  printf("FCOMI(para,1): should=0x01 is=0x%02x\n", v7 & 0x45);
  v3 = __OFSUB__(&retaddr, 40);
  v2 = (int)&retaddr < 0;
  v4 = 1.0 > 3.141592653589793116;
  v6 = 0;
  v5 = 3.141592653589793116 == 1.0;
  printf("FCOMI(pi,1):   should=0x00 is=0x%02x\n", v8 & 0x45);
  v3 = __OFSUB__(&retaddr, 40);
  v2 = (int)&retaddr < 0;
  v4 = 3.141592653589793116 > 1.0;
  v6 = 0;
  v5 = 1.0 == 3.141592653589793116;
  printf("FCOMI(1,pi):   should=0x01 is=0x%02x\n", v9 & 0x45);
  v3 = __OFSUB__(&retaddr, 40);
  v2 = (int)&retaddr < 0;
  v4 = 0;
  v6 = 0;
  v5 = 1;
  printf("FCOMI(1,1):    should=0x40 is=0x%02x\n", v10 & 0x45);
  v3 = __OFSUB__(&retaddr, 40);
  v2 = (int)&retaddr < 0;
  v4 = 0.0 / 0.0 > 1.0;
  v6 = 0;
  v5 = 1.0 == 0.0 / 0.0;
  printf("FCOMI(1,nan):  should=0x45 is=0x%02x\n", v11 & 0x45);
  return 0;
}

//----- (0804A4E0) --------------------------------------------------------
int __cdecl FCOS(double a1)
{
  long double v1; // fst7
  double v3; // [esp+0h] [ebp-28h]
  double v4; // [esp+0h] [ebp-28h]
  double v5; // [esp+0h] [ebp-28h]

  v3 = cos(a1);
  printf("FCOS(para):  should=                              is=%12f/%15e\n", v3, v3);
  v4 = cos(0.0);
  printf("FCOS(0):     should=     1.000000/   1.000000e+00 is=%12f/%15e\n", v4, v4);
  v5 = cos(3.141592653589793116 / (1.0 + 1.0 + 1.0));
  printf("FCOS(pi/3):  should=     0.500000/   5.000000e-01 is=%12f/%15e\n", v5, v5);
  v1 = cos(3.141592653589793116);
  printf("FCOS(pi):    should=    -1.000000/  -1.000000e+00 is=%12f/%15e\n", (double)v1, (double)v1);
  return 0;
}

//----- (0804A560) --------------------------------------------------------
int __cdecl FDIV(double a1)
{
  printf("FDIV(1/para):     should=                             is=%12f/%15e\n", (double)(1.0 / a1), (double)(1.0 / a1));
  printf(
    "FDIV(para/12.34): should=                             is=%12f/%15e\n",
    (double)(a1 / 12.34),
    (double)(a1 / 12.34));
  printf(
    "FDIV(1/pi):       should=    0.318310/   3.183099e-01 is=%12f/%15e\n",
    (double)(1.0 / 3.141592653589793116),
    (double)(1.0 / 3.141592653589793116));
  printf(
    "FIDIV(pi/1000):   should=    0.003142/   3.141593e-03 is=%12f/%15e\n",
    (double)(3.141592653589793116 / (long double)1000),
    (double)(3.141592653589793116 / (long double)1000));
  return 0;
}

//----- (0804A5F0) --------------------------------------------------------
int __cdecl FDIVR(double a1)
{
  printf(
    "FDIVR(1/para):     should=                             is=%12f/%15e\n",
    (double)(1.0 / a1),
    (double)(1.0 / a1));
  printf(
    "FDIVR(para/12.34): should=                             is=%12f/%15e\n",
    (double)(a1 / 12.34),
    (double)(a1 / 12.34));
  printf(
    "FDIVR(1/pi):       should=    0.318310/   3.183099e-01 is=%12f/%15e\n",
    (double)(1.0 / 3.141592653589793116),
    (double)(1.0 / 3.141592653589793116));
  printf(
    "FIDIVR(1000/pi):   should=  318.309886/   3.183099e+02 is=%12f/%15e\n",
    (double)((long double)1000 / 3.141592653589793116),
    (double)((long double)1000 / 3.141592653589793116));
  return 0;
}

//----- (0804A680) --------------------------------------------------------
int FILD()
{
  printf("FILD(10k):  should=             10000.000000/   1.000000e+04 is=%25f/%15e\n", (double)10000, (double)10000);
  printf(
    "FILD(1G):   should=        1000000000.000000/   1.000000e+09 is=%25f/%15e\n",
    (double)1000000000,
    (double)1000000000);
  printf(
    "FILD(1P):   should=  1000000000000000.000000/   1.000000e+15 is=%25f/%15e\n",
    (double)1000000000000000LL,
    (double)1000000000000000LL);
  return 0;
}

//----- (0804A6E0) --------------------------------------------------------
int FIST()
{
  puts("FIST:\n  RC=00: to nearest\n  RC=01: down to -inf\n  RC=10: up to +inf\n  RC=11: to zero\n");
  printf("  FISTT(%f):        should=12 is=%d\n", (double)12.7, (int)12.7);
  printf("  FIST(%f,RC=00):   should=13 is=%d\n", (double)12.7, (int)12.7);
  printf("  FIST(%f,RC=01):   should=12 is=%d\n", (double)12.7, (int)12.7);
  printf("  FIST(%f,RC=10):   should=13 is=%d\n", (double)12.7, (int)12.7);
  printf("  FIST(%f,RC=11):   should=12 is=%d\n", (double)12.7, (int)12.7);
  printf("  FISTT(%f):        should=-7 is=%d\n", (double)-7.1, (int)-7.1);
  printf("  FIST(%f,RC=00):   should=-7 is=%d\n", (double)-7.1, (int)-7.1);
  printf("  FIST(%f,RC=01):   should=-8 is=%d\n", (double)-7.1, (int)-7.1);
  printf("  FIST(%f,RC=10):   should=-7 is=%d\n", (double)-7.1, (int)-7.1);
  printf("  FIST(%f,RC=11):   should=-7 is=%d\n", (double)-7.1, (int)-7.1);
  return 0;
}

//----- (0804A980) --------------------------------------------------------
int FLD()
{
  printf(
    "FLD(float=12.34...):       should=   12.345679/   1.234568e+01 is=%12f/%15e\n",
    (double)12.345679,
    (double)12.345679);
  printf(
    "FLD(double=12.34...):      should=   12.345679/   1.234568e+01 is=%12f/%15e\n",
    (double)12.34567890123457,
    (double)12.34567890123457);
  printf(
    "FLD(long double=12.34...): should=   12.345679/   1.234568e+01 is=%12f/%15e\n",
    (double)12.345678901234567348,
    (double)12.345678901234567348);
  return 0;
}

//----- (0804A9E0) --------------------------------------------------------
int FLDC()
{
  printf("FLD1:   should=    1.000000/   1.000000e+00 is=%12f/%15e\n", (double)1.0, (double)1.0);
  printf(
    "FLDL2E: should=    1.442695/   1.442695e+00 is=%12f/%15e\n",
    (double)1.442695040888963387,
    (double)1.442695040888963387);
  printf(
    "FLDL2T: should=    3.321928/   3.321928e+00 is=%12f/%15e\n",
    (double)3.3219280948873626258,
    (double)3.3219280948873626258);
  printf(
    "FLDLG2: should=    0.301030/   3.010300e-01 is=%12f/%15e\n",
    (double)0.30102999566398119802,
    (double)0.30102999566398119802);
  printf(
    "FLDLN2: should=    0.693147/   6.931472e-01 is=%12f/%15e\n",
    (double)0.69314718055994528623,
    (double)0.69314718055994528623);
  printf(
    "FLDPI:  should=    3.141593/   3.141593e+00 is=%12f/%15e\n",
    (double)3.141592653589793116,
    (double)3.141592653589793116);
  printf("FLDZ:   should=    0.000000/   0.000000e+00 is=%12f/%15e\n", (double)0.0, (double)0.0);
  return 0;
}

//----- (0804AAA0) --------------------------------------------------------
int __cdecl FMUL(double a1)
{
  printf(
    "FMUL(para*pi):  should=                             is=%12f/%15e\n",
    (double)(a1 * 3.141592653589793116),
    (double)(a1 * 3.141592653589793116));
  printf(
    "FMUL(12.34*pi): should=   38.767253/   3.876725e+01 is=%12f/%15e\n",
    (double)(12.34 * 3.141592653589793116),
    (double)(12.34 * 3.141592653589793116));
  printf(
    "FIMUL(1000*pi): should= 3141.592654/   3.141593e+03 is=%12f/%15e\n",
    (double)(3.141592653589793116 * (long double)1000),
    (double)(3.141592653589793116 * (long double)1000));
  return 0;
}

//----- (0804AB10) --------------------------------------------------------
int __cdecl FPATAN(double a1)
{
  long double v1; // fst7
  double v3; // [esp+0h] [ebp-28h]
  double v4; // [esp+0h] [ebp-28h]

  v3 = atan2(1.0, a1);
  printf("FPATAN(y=1 x=para): should=                             is=%12f/%15e\n", v3, v3);
  v4 = atan2(1.0, 0.0);
  printf("FPATAN(y=1 x=0):    should=    1.570796/   1.570796e+00 is=%12f/%15e\n", v4, v4);
  v1 = atan2(1.0, 1.0);
  printf("FPATAN(y=1 x=1):    should=    0.785398/   7.853982e-01 is=%12f/%15e\n", (double)v1, (double)v1);
  return 0;
}

//----- (0804AB70) --------------------------------------------------------
int __cdecl FPREM(double a1)
{
  long double v1; // fst6
  char v3; // c2
  double v5; // [esp+0h] [ebp-28h]
  double v6; // [esp+0h] [ebp-28h]

  v5 = __FPREM__((long double)11, (long double)7);
  printf("FPREM(11 mod 7):          should=    4.000000/   4.000000e+00 is=%12f/%15e\n", v5, v5);
  v6 = __FPREM1__((long double)11, (long double)7);
  printf("FPREM1(11 mod 7):         should=   -3.000000/  -3.000000e+00 is=%12f/%15e\n", v6, v6);
  v1 = a1;
  do
    v1 = __FPREM__(v1, 3.141592653589793116 + 3.141592653589793116);
  while ( v3 );
  printf("reduced para using FPREM: should=                             is=%12f/%15e\n", (double)v1, (double)v1);
  return 0;
}
// 804ABD2: variable 'v3' is possibly undefined

//----- (0804ABF0) --------------------------------------------------------
int __cdecl FPTAN(double a1)
{
  long double v1; // fst7
  double v3; // [esp+0h] [ebp-28h]
  double v4; // [esp+0h] [ebp-28h]

  v3 = tan(a1);
  printf("FPTAN(para): should=                             is=%12f/%15e\n", v3, v3);
  v4 = tan(0.0);
  printf("FPTAN(0):    should=    0.000000/   0.000000e+00 is=%12f/%15e\n", v4, v4);
  printf("FPTAN(0)[1]: should=    1.000000/   1.000000e+00 is=%12f/%15e\n", (double)1.0, (double)1.0);
  v1 = tan(3.141592653589793116 / (1.0 + 1.0 + 1.0 + 1.0));
  printf("FPTAN(pi/4): should=    1.000000/   1.000000e+00 is=%12f/%15e\n", (double)v1, (double)v1);
  return 0;
}

//----- (0804AC80) --------------------------------------------------------
int __cdecl FRNDINT(double a1)
{
  puts("FRNDINT:\n  RC=00: to nearest\n  RC=01: down to -inf\n  RC=10: up to +inf\n  RC=11: to zero\n");
  _FST7 = a1;
  __asm { frndint }
  printf(
    "  FRNDINT(para):              should=                             is=%12f/%15e\n",
    (double)_FST7,
    (double)_FST7);
  _FST7 = 12.7;
  __asm { frndint }
  printf(
    "  FRNDINT(%f,RC=00):   should=   13.000000/   1.300000e+01 is=%12f/%15e\n",
    (double)12.7,
    (double)_FST7,
    (double)_FST7);
  _FST7 = 12.7;
  __asm { frndint }
  printf(
    "  FRNDINT(%f,RC=01):   should=   12.000000/   1.200000e+01 is=%12f/%15e\n",
    (double)12.7,
    (double)_FST7,
    (double)_FST7);
  _FST7 = 12.7;
  __asm { frndint }
  printf(
    "  FRNDINT(%f,RC=10):   should=   13.000000/   1.300000e+01 is=%12f/%15e\n",
    (double)12.7,
    (double)_FST7,
    (double)_FST7);
  _FST7 = 12.7;
  __asm { frndint }
  printf(
    "  FRNDINT(%f,RC=11):   should=   12.000000/   1.200000e+01 is=%12f/%15e\n",
    (double)12.7,
    (double)_FST7,
    (double)_FST7);
  _FST7 = -7.1;
  __asm { frndint }
  printf(
    "  FRNDINT(%f,RC=00):   should=   -7.000000/  -7.000000e+00 is=%12f/%15e\n",
    (double)-7.1,
    (double)_FST7,
    (double)_FST7);
  _FST7 = -7.1;
  __asm { frndint }
  printf(
    "  FRNDINT(%f,RC=01):   should=   -8.000000/  -8.000000e+00 is=%12f/%15e\n",
    (double)-7.1,
    (double)_FST7,
    (double)_FST7);
  _FST7 = -7.1;
  __asm { frndint }
  printf(
    "  FRNDINT(%f,RC=10):   should=   -7.000000/  -7.000000e+00 is=%12f/%15e\n",
    (double)-7.1,
    (double)_FST7,
    (double)_FST7);
  _FST7 = -7.1;
  __asm { frndint }
  printf(
    "  FRNDINT(%f,RC=11):   should=   -7.000000/  -7.000000e+00 is=%12f/%15e\n",
    (double)-7.1,
    (double)_FST7,
    (double)_FST7);
  return 0;
}

//----- (0804AED0) --------------------------------------------------------
int __cdecl FSCALE(double a1)
{
  printf("FSCALE(para*2^4):   should=                             is=%12f/%15e\n", a1, a1);
  printf(
    "FSCALE(pi*2^para):  should=                             is=%12f/%15e\n",
    (double)3.141592653589793116,
    (double)3.141592653589793116);
  printf(
    "FSCALE(pi*2^4):     should=   50.265482/   5.026548e+01 is=%12f/%15e\n",
    (double)3.141592653589793116,
    (double)3.141592653589793116);
  printf(
    "FSCALE(pi*2^-4):    should=    0.196350/   1.963495e-01 is=%12f/%15e\n",
    (double)3.141592653589793116,
    (double)3.141592653589793116);
  printf(
    "FSCALE(pi*2^12.34): should=12867.963509/   1.286796e+04 is=%12f/%15e\n",
    (double)3.141592653589793116,
    (double)3.141592653589793116);
  return 0;
}

//----- (0804AF90) --------------------------------------------------------
int __cdecl FSIN(double a1)
{
  long double v1; // fst7
  double v3; // [esp+0h] [ebp-28h]
  double v4; // [esp+0h] [ebp-28h]
  double v5; // [esp+0h] [ebp-28h]

  v3 = sin(a1);
  printf("FSIN(para):  should=                              is=%12f/%15e\n", v3, v3);
  v4 = sin(0.0);
  printf("FSIN(0):     should=     0.000000/   0.000000e+00 is=%12f/%15e\n", v4, v4);
  v5 = sin(3.141592653589793116 / (long double)6);
  printf("FSIN(pi/6):  should=     0.500000/   5.000000e-01 is=%12f/%15e\n", v5, v5);
  v1 = sin(3.141592653589793116 / (1.0 + 1.0));
  printf("FSIN(pi/2):  should=     1.000000/   1.000000e+00 is=%12f/%15e\n", (double)v1, (double)v1);
  return 0;
}

//----- (0804B020) --------------------------------------------------------
int __cdecl FSINCOS(double a1)
{
  long double v1; // fst7
  double v3; // [esp+0h] [ebp-28h]
  double v4; // [esp+0h] [ebp-28h]
  double v5; // [esp+0h] [ebp-28h]

  v3 = cos(a1);
  printf("FSINCOS(para)[0=cos]:  should=                              is=%12f/%15e\n", v3, v3);
  v4 = sin(a1);
  printf("FSINCOS(para)[1=sin]:  should=                              is=%12f/%15e\n", v4, v4);
  v5 = cos(0.0);
  printf("FSINCOS(0)[0=cos]:     should=     1.000000/   1.000000e+00 is=%12f/%15e\n", v5, v5);
  v1 = sin(0.0);
  printf("FSINCOS(0)[1=sin]:     should=     0.000000/   0.000000e+00 is=%12f/%15e\n", (double)v1, (double)v1);
  return 0;
}

//----- (0804B0A0) --------------------------------------------------------
int __cdecl FSQRT(double a1)
{
  long double v1; // fst7
  double v3; // [esp+0h] [ebp-28h]
  double v4; // [esp+0h] [ebp-28h]

  v3 = sqrt(a1);
  printf("FSQRT(para):     should=                             is=%12f/%15e\n", v3, v3);
  v4 = sqrt(3.141592653589793116);
  printf("FSQRT(pi):       should=    1.772454/   1.772454e+00 is=%12f/%15e\n", v4, v4);
  v1 = sqrt(152.2756);
  printf("FSQRT(152.2756): should=   12.340000/   1.234000e+01 is=%12f/%15e\n", (double)v1, (double)v1);
  return 0;
}

//----- (0804B100) --------------------------------------------------------
int FST()
{
  *(float *)&buffer = 3.141592653589793116;
  printf(
    "FST(pi as float)       should=0xdb 0x0f 0x49 0x40                               is=0x%02x 0x%02x 0x%02x 0x%02x\n",
    LOBYTE(buffer),
    BYTE1(buffer),
    BYTE2(buffer),
    BYTE3(buffer));
  *(double *)&buffer = 3.141592653589793116;
  printf(
    "FST(pi as double)      should=0x18 0x2d 0x44 0x54 0xfb 0x21 0x09 0x40           is=0x%02x 0x%02x 0x%02x 0x%02x 0x%02"
    "x 0x%02x 0x%02x 0x%02x\n",
    LOBYTE(buffer),
    BYTE1(buffer),
    BYTE2(buffer),
    BYTE3(buffer),
    BYTE4(buffer),
    BYTE5(buffer),
    BYTE6(buffer),
    BYTE7(buffer));
  *(long double *)&buffer = 3.141592653589793116;
  printf(
    "FST(pi as long double) should=0x35 0xc2 0x68 0x21 0xa2 0xda 0x0f 0xc9 0x00 0x40 is=0x%02x 0x%02x 0x%02x 0x%02x 0x%02"
    "x 0x%02x 0x%02x 0x%02x 0x%02x 0x%02x\n",
    LOBYTE(buffer),
    BYTE1(buffer),
    BYTE2(buffer),
    BYTE3(buffer),
    BYTE4(buffer),
    BYTE5(buffer),
    BYTE6(buffer),
    BYTE7(buffer),
    BYTE8(buffer),
    HIBYTE(buffer));
  return 0;
}
// 8050028: using guessed type _TBYTE buffer;

//----- (0804B200) --------------------------------------------------------
int __cdecl FSUB(double a1)
{
  printf("FSUB(1-para):     should=                             is=%12f/%15e\n", (double)(1.0 - a1), (double)(1.0 - a1));
  printf(
    "FSUB(para-12.34): should=                             is=%12f/%15e\n",
    (double)(a1 - 12.34),
    (double)(a1 - 12.34));
  printf(
    "FSUB(1-pi):       should=   -2.141593/  -2.141593e+00 is=%12f/%15e\n",
    (double)(1.0 - 3.141592653589793116),
    (double)(1.0 - 3.141592653589793116));
  printf(
    "FISUB(pi-1000):   should= -996.858407/  -9.968584e+02 is=%12f/%15e\n",
    (double)(3.141592653589793116 - (long double)1000),
    (double)(3.141592653589793116 - (long double)1000));
  return 0;
}

//----- (0804B290) --------------------------------------------------------
int __cdecl FTST(double a1)
{
  __int16 v1; // fps
  bool v2; // c0
  char v3; // c2
  bool v4; // c3
  __int16 v5; // fps
  bool v6; // c0
  char v7; // c2
  bool v8; // c3
  __int16 v9; // fps
  bool v10; // c0
  char v11; // c2
  bool v12; // c3
  __int16 v13; // fps
  char v14; // c0
  char v15; // c2
  char v16; // c3
  __int16 v17; // fps
  bool v18; // c0
  char v19; // c2
  bool v20; // c3

  v2 = a1 < 0.0;
  v3 = 0;
  v4 = a1 == 0.0;
  printf("FTST(para): should=0x0100 is=0x%04x\n", v1 & 0x4500);
  v6 = 3.141592653589793116 < 0.0;
  v7 = 0;
  v8 = 3.141592653589793116 == 0.0;
  printf("FTST(pi):   should=0x0000 is=0x%04x\n", v5 & 0x4500);
  v10 = -3.141592653589793116 < 0.0;
  v11 = 0;
  v12 = -3.141592653589793116 == 0.0;
  printf("FTST(-pi):  should=0x0100 is=0x%04x\n", v9 & 0x4500);
  v14 = 0;
  v15 = 0;
  v16 = 1;
  printf("FTST(0.0):  should=0x4000 is=0x%04x\n", v13 & 0x4500);
  v18 = 0.0 / 0.0 < 0.0;
  v19 = 0;
  v20 = 0.0 / 0.0 == 0.0;
  printf("FTST(nan):  should=0x4500 is=0x%04x\n", v17 & 0x4500);
  return 0;
}

//----- (0804B340) --------------------------------------------------------
int __cdecl FXAM(double a1)
{
  __asm
  {
    fld     [esp+28h+arg_0]
    fxam
    fstsw   ax
    fstp    st
  }
  printf("FXAM(para):  should=0x0400 is=0x%04x\n", _AX & 0x4500);
  __asm
  {
    fldpi
    fxam
    fstsw   ax
    fstp    st
  }
  printf("FXAM(pi):    should=0x0400 is=0x%04x\n", _AX & 0x4500);
  __asm
  {
    fldz
    fxam
    fstsw   ax
    fstp    st
  }
  printf("FXAM(0.0):   should=0x4000 is=0x%04x\n", _AX & 0x4500);
  __asm
  {
    fldz
    fldz
    fdivrp  st(1), st
    fxam
    fstsw   ax
    fstp    st
  }
  printf("FXAM(nan):   should=0x0100 is=0x%04x\n", _AX & 0x4500);
  __asm
  {
    fldz
    fld1
    fdivrp  st(1), st
    fxam
    fstsw   ax
    fstp    st
  }
  printf("FXAM(inf):   should=0x0500 is=0x%04x\n", _AX & 0x4500);
  __asm
  {
    fxam
    fstsw   ax
  }
  printf("FXAM(empty): should=0x4100 is=0x%04x\n", _AX & 0x4500);
  return 0;
}
// 804B343: inconsistent fpu stack

//----- (0804B410) --------------------------------------------------------
int __cdecl FXCH(double a1)
{
  printf("FXCH(para):  should=                             is=%12f/%15e\n", a1, a1);
  printf(
    "FXCH(pi):    should=    3.141593/   3.141593e+00 is=%12f/%15e\n",
    (double)3.141592653589793116,
    (double)3.141592653589793116);
  return 0;
}

//----- (0804B460) --------------------------------------------------------
int __usercall FXTRACT@<eax>(long double _FST6@<st1>, double a2)
{
  __asm { fxtract }
  printf("FXTRACT(para)[0=signi]:  should=                             is=%12f/%15e\n", (double)_FST6, (double)_FST6);
  __asm { fxtract }
  printf("FXTRACT(para)[1=exp]:    should=                             is=%12f/%15e\n", a2, a2);
  __asm { fxtract }
  printf("FXTRACT(12.34)[0=signi]: should=    1.542500/   1.542500e+00 is=%12f/%15e\n", (double)_FST6, (double)_FST6);
  __asm { fxtract }
  printf("FXTRACT(12.34)[1=exp]:   should=    3.000000/   3.000000e+00 is=%12f/%15e\n", (double)12.34, (double)12.34);
  return 0;
}

//----- (0804B4F0) --------------------------------------------------------
int __cdecl FYL2X(double a1)
{
  long double v1; // fst7
  double v3; // [esp+0h] [ebp-28h]
  double v4; // [esp+0h] [ebp-28h]
  double v5; // [esp+0h] [ebp-28h]

  v3 = __FYL2X__(a1, 1.0);
  printf("FYL2X(para, base=2):  should=                             is=%12f/%15e\n", v3, v3);
  v4 = __FYL2X__((long double)1000, 1.0);
  printf("FYL2X(1000, base=2):  should=    9.965784/   9.965784e+00 is=%12f/%15e\n", v4, v4);
  v5 = __FYL2X__((long double)1000, 0.69314718055994528623);
  printf("FYL2X(1000, base=e):  should=    6.907755/   6.907755e+00 is=%12f/%15e\n", v5, v5);
  v1 = __FYL2X__((long double)1000, 0.30102999566398119802);
  printf("FYL2X(1000, base=10): should=    3.000000/   3.000000e+00 is=%12f/%15e\n", (double)v1, (double)v1);
  return 0;
}

//----- (0804B580) --------------------------------------------------------
int __cdecl FYL2XP1(double a1)
{
  long double v1; // fst7
  double v3; // [esp+0h] [ebp-28h]
  double v4; // [esp+0h] [ebp-28h]
  double v5; // [esp+0h] [ebp-28h]

  v3 = __FYL2XP1__(a1, 1.0);
  printf("FYL2XP1(para, base=2): should=                             is=%12f/%15e\n", v3, v3);
  v4 = __FYL2XP1__((long double)999, 1.0);
  printf("FYL2XP1(999, base=2):  should=    9.965784/   9.965784e+00 is=%12f/%15e\n", v4, v4);
  v5 = __FYL2XP1__((long double)999, 0.69314718055994528623);
  printf("FYL2XP1(999, base=e):  should=    6.907755/   6.907755e+00 is=%12f/%15e\n", v5, v5);
  v1 = __FYL2XP1__((long double)999, 0.30102999566398119802);
  printf("FYL2XP1(999, base=10): should=    3.000000/   3.000000e+00 is=%12f/%15e\n", (double)v1, (double)v1);
  return 0;
}

//----- (0804B610) --------------------------------------------------------
int NOT_EXECUTED()
{
  __int16 v0; // fps

  puts("before FNOP");
  puts("before FNCLEX");
  __asm { fnclex }
  puts("before FDECSTP");
  __asm { fdecstp }
  puts("before FFREE(st(4))");
  __asm { ffree   st(4) }
  puts("before FINCSTP");
  __asm { fincstp }
  puts("before FNINIT");
  __asm { fninit }
  puts("before FNSAVE");
  __asm { fnsave  byte ptr ds:buffer }
  puts("before FNSTCW");
  puts("before FNSTENV");
  __asm { fnstenv byte ptr ds:buffer }
  puts("before FNSTSW");
  LOWORD(buffer) = v0;
  puts("before FRSTOR");
  __asm { frstor  byte ptr ds:buffer }
  puts("before FWAIT");
  puts("before FXRSTOR");
  _fxrstor(&buffer);
  puts("before FXSAVE");
  _fxsave(&buffer);
  return 0;
}
// 8050028: using guessed type _TBYTE buffer;

//----- (0804B710) --------------------------------------------------------
int __usercall TOP@<eax>(unsigned __int16 a1@<fpstat>)
{
  return (a1 >> 11) & 7;
}

//----- (0804B720) --------------------------------------------------------
int (**_libc_csu_init())()
{
  int (**result)(); // eax
  int v1; // edi

  init_proc();
  result = _frame_dummy_init_array_entry;
  if ( &_do_global_dtors_aux_fini_array_entry - _frame_dummy_init_array_entry )
  {
    v1 = 0;
    do
      result = (int (**)())_frame_dummy_init_array_entry[v1++]();
    while ( &_do_global_dtors_aux_fini_array_entry - _frame_dummy_init_array_entry != v1 );
  }
  return result;
}
// 804FF0C: using guessed type int (*_frame_dummy_init_array_entry[2])();
// 804FF10: using guessed type int (*_do_global_dtors_aux_fini_array_entry)();

//----- (0804B780) --------------------------------------------------------
void _libc_csu_fini()
{
  ;
}

//----- (0804B788) --------------------------------------------------------
void term_proc()
{
  ;
}

// nfuncs=59 queued=49 decompiled=49 lumina nreq=0 worse=0 better=0
// ALL OK, 49 function(s) have been successfully decompiled
