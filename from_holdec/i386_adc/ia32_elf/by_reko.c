// subject_bss.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

byte g_b804C018 = 0x00; // 0804C018
// subject_fini.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 080495B8: void _fini()
void _fini()
{
}

// subject_got_plt.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

<anonymous> * g_ptr804C004 = null; // 0804C004
// subject_init.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 08049000: void _init()
// Called from:
//      __libc_csu_init
void _init()
{
	<anonymous> * eax_10 = g_ptr804C004;
	if (eax_10 != null)
		eax_10();
}

// subject_plt.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 08049040: void printf()
void printf()
{
}

// 08049050: void __libc_start_main()
void __libc_start_main()
{
}

// subject_rodata.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

word32 _fp_hw = 0x03; // 0804A000
word32 _IO_stdin_used = 0x00020001; // 0804A004
char g_str804A00C[] = "CF"; // 0804A00C
char g_str804A00F[] = "  "; // 0804A00F
char g_str804A012[] = "OF"; // 0804A012
char g_str804A015[] = "%3d = 0x%2x %3d = 0x%2x ->"; // 0804A015
char g_str804A030[] = "add=(%3d,%s,%s) "; // 0804A030
char g_str804A041[] = "adc_clear=(%3d,%s,%s)\n"; // 0804A041
char g_str804A058[] = "adc_clear simu=(%3d,%s,%s) "; // 0804A058
char g_str804A074[] = "adc_set=(%3d,%s,%s) "; // 0804A074
char g_str804A089[] = "adc_set simu=(%3d,%s,%s)\n"; // 0804A089
char g_str804A0A4[] = "x=(%3d/0x%2x)   y=(%3d/0x%2x) ->"; // 0804A0A4
// subject_text.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 08049060: void main()
void main()
{
	__align(fp);
	Eq_12 edi_16 = 0x00;
	do
	{
		Eq_24 esi_30 = 0x00;
		do
		{
			ui32 eax_40 = add((byte) edi_16, (byte) esi_30);
			ui32 eax_56 = adc_clear((byte) edi_16, (byte) esi_30);
			ui32 eax_71 = adc_set((byte) edi_16, (byte) esi_30);
			ui32 eax_86 = adc_simu(eax_56, edi_16, (byte) esi_30, 0x01);
			ui32 eax_101 = adc_simu(eax_56, edi_16, (byte) esi_30, 0x00);
			byte bLoc24_515 = (byte) eax_40;
			byte bl_179 = (byte) eax_56;
			byte bLoc28_536 = (byte) eax_101;
			if (eax_40 != eax_56)
			{
				printf("%3d = 0x%2x %3d = 0x%2x ->", edi_16, edi_16, esi_30, esi_30);
				char * ecx_126 = "  ";
				if ((eax_40 & 0x01000000) != 0x00)
					ecx_126 = (char *) "CF";
				char * eax_135 = "  ";
				if ((eax_40 & 0x00010000) != 0x00)
					eax_135 = (char *) "OF";
				printf("add=(%3d,%s,%s) ", (word32) bLoc24_515, eax_135, ecx_126);
				char * eax_161 = "  ";
				if ((eax_56 & 0x01000000) != 0x00)
					eax_161 = (char *) "CF";
				char * edx_168 = "OF";
				if ((eax_56 & 0x00010000) == 0x00)
					edx_168 = (char *) "  ";
				printf("adc_clear=(%3d,%s,%s)\n", (word32) bl_179, edx_168, eax_161);
			}
			byte bl_270 = (byte) eax_56;
			if (eax_56 != eax_101)
			{
				printf("x=(%3d/0x%2x)   y=(%3d/0x%2x) ->", edi_16, edi_16, esi_30, esi_30);
				char * ecx_227 = "  ";
				if ((eax_101 & 0x01000000) != 0x00)
					ecx_227 = (char *) "CF";
				char * eax_236 = "  ";
				if ((eax_101 & 0x00010000) != 0x00)
					eax_236 = (char *) "OF";
				printf("adc_clear simu=(%3d,%s,%s) ", (word32) bLoc28_536, eax_236, ecx_227);
				char * eax_262 = "  ";
				if ((eax_56 & 0x01000000) != 0x00)
					eax_262 = (char *) "CF";
				char * edx_269 = "OF";
				int32 ebx_271 = (word32) bl_270;
				if ((eax_56 & 0x00010000) == 0x00)
					edx_269 = (char *) "  ";
				printf("adc_clear=(%3d,%s,%s)\n", ebx_271, edx_269, eax_262);
			}
			if (eax_71 != eax_86)
			{
				printf("x=(%3d/0x%2x)   y=(%3d/0x%2x) ->", edi_16, edi_16, esi_30, esi_30);
				byte cl_350 = (byte) eax_40;
				char * eax_325 = "  ";
				char * edx_330 = "  ";
				if ((eax_40 & 0x01000000) != 0x00)
					edx_330 = (char *) "CF";
				char * ebx_336 = "OF";
				if ((eax_40 & 0x00010000) != 0x00)
					eax_325 = (char *) "OF";
				printf("add=(%3d,%s,%s) ", (word32) cl_350, eax_325, edx_330);
				char * ecx_362 = "  ";
				if ((eax_71 & 0x01000000) != 0x00)
					ecx_362 = (char *) "CF";
				byte cl_387 = (byte) eax_71;
				char * eax_373 = "  ";
				if ((eax_71 & 0x00010000) != 0x00)
					eax_373 = (char *) "OF";
				printf("adc_set=(%3d,%s,%s) ", (word32) cl_387, eax_373, ecx_362);
				byte cl_417 = (byte) eax_86;
				char * eax_399 = "  ";
				if ((eax_86 & 0x01000000) != 0x00)
					eax_399 = (char *) "CF";
				if ((eax_86 & 0x00010000) == 0x00)
					ebx_336 = (char *) "  ";
				printf("adc_set simu=(%3d,%s,%s)\n", (word32) cl_417, ebx_336, eax_399);
			}
			esi_30 = (word32) esi_30 + 1;
		} while (esi_30 != 0x0100);
		edi_16 = (word32) edi_16 + 1;
	} while (edi_16 != 0x0100);
}

// 080492F0: void _start(Register (ptr32 Eq_260) edx, Stack int32 dwArg00)
void _start(void (* edx)(), int32 dwArg00)
{
	__align((char *) fp + 4);
	__libc_start_main(&g_t8049060, dwArg00, (char *) fp + 4, &g_t8049550, &g_t80495B0, edx, fp);
	__hlt();
}

// 08049330: void _dl_relocate_static_pie()
void _dl_relocate_static_pie()
{
}

// 08049340: void __x86.get_pc_thunk.bx()
void __x86.get_pc_thunk.bx()
{
}

// 08049350: void deregister_tm_clones()
// Called from:
//      __do_global_dtors_aux
void deregister_tm_clones()
{
}

// 08049390: void register_tm_clones()
// Called from:
//      frame_dummy
void register_tm_clones()
{
}

// 080493D0: void __do_global_dtors_aux()
void __do_global_dtors_aux()
{
	if (g_b804C018 != 0x00)
		return;
	deregister_tm_clones();
	g_b804C018 = 0x01;
}

// 08049400: void frame_dummy()
void frame_dummy()
{
	register_tm_clones();
}

// 08049410: void carry()
void carry()
{
}

// 08049430: void signed_carry()
void signed_carry()
{
}

// 08049460: Register word32 adc_simu(Register ui32 ebx, Stack Eq_12 dwArg04, Stack byte bArg08, Stack byte bArg0C)
// Called from:
//      main
word32 adc_simu(ui32 ebx, Eq_12 dwArg04, byte bArg08, byte bArg0C)
{
	word24 ebx_24_8_32 = SLICE(ebx, word24, 8);
	cu8 dl_20 = (byte) dwArg04 + bArg08;
	cu8 cl_28 = dl_20 + bArg0C;
	word32 ebx_35 = (word32) bArg0C;
	ui32 esi_13 = 0x01;
	ui32 ebx_33 = SEQ(ebx_24_8_32, (int8) (cl_28 < 0x00));
	bcu8 bl_54 = (byte) ebx_35;
	bcu8 al_43 = (byte) dwArg04;
	if ((int8) (dl_20 < 0x00) == 0x00)
		esi_13 = ebx_33 & 0x01;
	word32 ebx_72 = (word32) bArg08;
	word32 eax_106 = (word32) cl_28;
	if (((cl_28 >> 0x07 ^ dl_20 >> 0x07) & (int8) (bl_54 >> 0x07 == dl_20 >> 0x07)) != ((dl_20 >> 0x07 ^ al_43 >> 0x07) & (int8) ((byte) ebx_72 >> 0x07 == al_43 >> 0x07)))
		eax_106 += 0x00010000;
	word32 edx_107 = eax_106 + 0x01000000;
	if (esi_13 != 0x00)
		eax_106 = edx_107;
	return eax_106;
}

// 080494DC: Register ui32 add(Stack byte bArg04, Stack byte bArg08)
// Called from:
//      main
ui32 add(byte bArg04, byte bArg08)
{
	word32 eax_5 = (word32) bArg04;
	uint8 al_9 = (byte) eax_5 + bArg08;
	return (SEQ(SLICE(eax_5, word24, 8), al_9) & 0xFF) + (SEQ(0x00, (int8) (al_9 < 0x00), (int8) OVERFLOW(al_9)) << 0x10);
}

// 080494FE: Register ui32 adc_set(Stack byte bArg04, Stack byte bArg08)
// Called from:
//      main
ui32 adc_set(byte bArg04, byte bArg08)
{
	word32 eax_5 = (word32) bArg04;
	uint8 al_10 = (byte) eax_5 + bArg08 + true;
	return (SEQ(SLICE(eax_5, word24, 8), al_10) & 0xFF) + (SEQ(0x00, (int8) (al_10 < 0x00), (int8) OVERFLOW(al_10)) << 0x10);
}

// 08049521: Register ui32 adc_clear(Stack byte bArg04, Stack byte bArg08)
// Called from:
//      main
ui32 adc_clear(byte bArg04, byte bArg08)
{
	word32 eax_5 = (word32) bArg04;
	uint8 al_10 = (byte) eax_5 + bArg08;
	return (SEQ(SLICE(eax_5, word24, 8), al_10) & 0xFF) + (SEQ(0x00, (int8) (al_10 < 0x00), (int8) OVERFLOW(al_10)) << 0x10);
}

// 08049550: void __libc_csu_init(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void __libc_csu_init(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	_init();
	int32 esi_28 = 0x0804C0F0 - 0x0804C0F4;
	if (esi_28 >> 0x02 != 0x00)
	{
		int32 edi_32 = 0x00;
		do
		{
			((<anonymous> *[]) 0x0804C0F4)[edi_32]();
			++edi_32;
		} while (esi_28 >> 0x02 != edi_32);
	}
}

// 080495B0: void __libc_csu_fini()
void __libc_csu_fini()
{
}

