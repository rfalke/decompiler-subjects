// subject_bss.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

byte g_b804C018 = 0x00; // 0804C018
// subject_fini.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 080495B8: void _fini()
void _fini()
{
}

// subject_got.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

<anonymous> * g_ptr804BFFC = null; // 0804BFFC
// subject_init.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 08049000: void _init()
// Called from:
//      __libc_csu_init
void _init()
{
	<anonymous> * eax_10 = g_ptr804BFFC;
	if (eax_10 != null)
		eax_10();
}

// subject_init_array.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

<anonymous> * g_a804BF0C[] = // 0804BF0C
	{
	};
// subject_plt.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 08049040: void printf()
void printf()
{
}

// 08049050: void __libc_start_main()
void __libc_start_main()
{
}

// subject_rodata.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

word32 _fp_hw = 0x03; // 0804A000
word32 _IO_stdin_used = 0x00020001; // 0804A004
char g_str804A00C[] = "CF"; // 0804A00C
char g_str804A00F[] = "  "; // 0804A00F
char g_str804A012[] = "OF"; // 0804A012
char g_str804A015[] = "%3d = 0x%2x %3d = 0x%2x ->"; // 0804A015
char g_str804A030[] = "add=(%3d,%s,%s) "; // 0804A030
char g_str804A041[] = "adc_clear=(%3d,%s,%s)\n"; // 0804A041
char g_str804A058[] = "adc_clear simu=(%3d,%s,%s) "; // 0804A058
char g_str804A074[] = "adc_set=(%3d,%s,%s) "; // 0804A074
char g_str804A089[] = "adc_set simu=(%3d,%s,%s)\n"; // 0804A089
char g_str804A0A4[] = "x=(%3d/0x%2x)   y=(%3d/0x%2x) ->"; // 0804A0A4
// subject_text.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 08049060: void main()
void main()
{
	char ** fp;
	__align_stack<word32>(fp);
	Eq_12 edi_16 = 0x00;
	do
	{
		Eq_24 esi_31 = 0x00;
		do
		{
			ui32 eax_41 = add((byte) edi_16, (byte) esi_31);
			ui32 eax_57 = adc_clear((byte) edi_16, (byte) esi_31);
			ui32 eax_72 = adc_set((byte) edi_16, (byte) esi_31);
			ui32 eax_87 = adc_simu(eax_57, edi_16, (byte) esi_31, 0x01);
			ui32 eax_103 = adc_simu(eax_57, edi_16, (byte) esi_31, 0x00);
			byte bLoc24_533 = (byte) eax_41;
			byte bl_186 = (byte) eax_57;
			byte bLoc28_554 = (byte) eax_103;
			if (eax_41 != eax_57)
			{
				printf("%3d = 0x%2x %3d = 0x%2x ->", edi_16, edi_16, esi_31, esi_31);
				char * ecx_129 = "  ";
				if ((eax_41 & 0x01000000) != 0x00)
					ecx_129 = (char *) "CF";
				char * eax_140 = "  ";
				if ((eax_41 & 0x00010000) != 0x00)
					eax_140 = (char *) "OF";
				printf("add=(%3d,%s,%s) ", (word32) bLoc24_533, eax_140, ecx_129);
				char * eax_167 = "  ";
				if ((eax_57 & 0x01000000) != 0x00)
					eax_167 = (char *) "CF";
				char * edx_175 = "OF";
				if ((eax_57 & 0x00010000) == 0x00)
					edx_175 = (char *) "  ";
				printf("adc_clear=(%3d,%s,%s)\n", (word32) bl_186, edx_175, eax_167);
			}
			byte bl_281 = (byte) eax_57;
			if (eax_57 != eax_103)
			{
				printf("x=(%3d/0x%2x)   y=(%3d/0x%2x) ->", edi_16, edi_16, esi_31, esi_31);
				char * ecx_234 = "  ";
				if ((eax_103 & 0x01000000) != 0x00)
					ecx_234 = (char *) "CF";
				char * eax_245 = "  ";
				if ((eax_103 & 0x00010000) != 0x00)
					eax_245 = (char *) "OF";
				printf("adc_clear simu=(%3d,%s,%s) ", (word32) bLoc28_554, eax_245, ecx_234);
				char * eax_272 = "  ";
				if ((eax_57 & 0x01000000) != 0x00)
					eax_272 = (char *) "CF";
				char * edx_280 = "OF";
				int32 ebx_282 = (word32) bl_281;
				if ((eax_57 & 0x00010000) == 0x00)
					edx_280 = (char *) "  ";
				printf("adc_clear=(%3d,%s,%s)\n", ebx_282, edx_280, eax_272);
			}
			if (eax_72 != eax_87)
			{
				printf("x=(%3d/0x%2x)   y=(%3d/0x%2x) ->", edi_16, edi_16, esi_31, esi_31);
				byte cl_363 = (byte) eax_41;
				char * eax_336 = "  ";
				char * edx_342 = "  ";
				if ((eax_41 & 0x01000000) != 0x00)
					edx_342 = (char *) "CF";
				char * ebx_349 = "OF";
				if ((eax_41 & 0x00010000) != 0x00)
					eax_336 = (char *) "OF";
				printf("add=(%3d,%s,%s) ", (word32) cl_363, eax_336, edx_342);
				char * ecx_375 = "  ";
				if ((eax_72 & 0x01000000) != 0x00)
					ecx_375 = (char *) "CF";
				byte cl_402 = (byte) eax_72;
				char * eax_388 = "  ";
				if ((eax_72 & 0x00010000) != 0x00)
					eax_388 = (char *) "OF";
				printf("adc_set=(%3d,%s,%s) ", (word32) cl_402, eax_388, ecx_375);
				byte cl_434 = (byte) eax_87;
				char * eax_414 = "  ";
				if ((eax_87 & 0x01000000) != 0x00)
					eax_414 = (char *) "CF";
				if ((eax_87 & 0x00010000) == 0x00)
					ebx_349 = (char *) "  ";
				printf("adc_set simu=(%3d,%s,%s)\n", (word32) cl_434, ebx_349, eax_414);
			}
			esi_31 = (word32) esi_31 + 1;
		} while (esi_31 != 0x0100);
		edi_16 = (word32) edi_16 + 1;
	} while (edi_16 != 0x0100);
}

// 080492F0: void _start(Register (ptr32 Eq_260) edx, Stack int32 dwArg00, Stack (ptr32 char) ptrArg04)
void _start(void (* edx)(), int32 dwArg00, char * ptrArg04)
{
	void * fp;
	__align_stack<word32>(&ptrArg04);
	__libc_start_main(&g_t8049060, dwArg00, &ptrArg04, &g_t8049550, &g_t80495B0, edx, fp);
	__halt();
}

// 08049330: void _dl_relocate_static_pie()
void _dl_relocate_static_pie()
{
}

// 08049340: void __x86.get_pc_thunk.bx()
void __x86.get_pc_thunk.bx()
{
}

// 08049350: void deregister_tm_clones()
// Called from:
//      __do_global_dtors_aux
void deregister_tm_clones()
{
}

// 08049390: void register_tm_clones()
// Called from:
//      frame_dummy
void register_tm_clones()
{
}

// 080493D0: void __do_global_dtors_aux()
void __do_global_dtors_aux()
{
	if (g_b804C018 != 0x00)
		return;
	deregister_tm_clones();
	g_b804C018 = 0x01;
}

// 08049400: void frame_dummy()
void frame_dummy()
{
	register_tm_clones();
}

// 08049410: void carry()
void carry()
{
}

// 08049430: void signed_carry()
void signed_carry()
{
}

// 08049460: Register word32 adc_simu(Register ui32 ebx, Stack Eq_12 dwArg04, Stack byte bArg08, Stack byte bArg0C)
// Called from:
//      main
word32 adc_simu(ui32 ebx, Eq_12 dwArg04, byte bArg08, byte bArg0C)
{
	word24 ebx_24_8_32 = SLICE(ebx, word24, 8);
	cu8 dl_20 = (byte) dwArg04 + bArg08;
	cu8 cl_28 = dl_20 + bArg0C;
	word32 ebx_35 = (word32) bArg0C;
	ui32 esi_13 = 0x01;
	ui32 ebx_33 = SEQ(ebx_24_8_32, (int8) (cl_28 < 0x00));
	bcu8 bl_55 = (byte) ebx_35;
	bcu8 al_44 = (byte) dwArg04;
	if ((int8) (dl_20 < 0x00) == 0x00)
		esi_13 = ebx_33 & 0x01;
	word32 ebx_73 = (word32) bArg08;
	word32 eax_108 = (word32) cl_28;
	if (((cl_28 >> 0x07 ^ dl_20 >> 0x07) & (int8) (bl_55 >> 0x07 == dl_20 >> 0x07)) != ((dl_20 >> 0x07 ^ al_44 >> 0x07) & (int8) ((byte) ebx_73 >> 0x07 == al_44 >> 0x07)))
		eax_108 += 0x00010000;
	word32 edx_109 = eax_108 + 0x01000000;
	if (esi_13 != 0x00)
		eax_108 = edx_109;
	return eax_108;
}

// 080494DC: Register ui32 add(Stack byte bArg04, Stack byte bArg08)
// Called from:
//      main
ui32 add(byte bArg04, byte bArg08)
{
	word32 eax_5 = (word32) bArg04;
	uint8 al_9 = (byte) eax_5 + bArg08;
	return (SEQ(SLICE(eax_5, word24, 8), al_9) & 0xFF) + (SEQ(0x00, (int8) (al_9 < 0x00), (int8) OVERFLOW<byte>(al_9)) << 0x10);
}

// 080494FE: Register ui32 adc_set(Stack byte bArg04, Stack byte bArg08)
// Called from:
//      main
ui32 adc_set(byte bArg04, byte bArg08)
{
	word32 eax_5 = (word32) bArg04;
	uint8 al_10 = (byte) eax_5 + bArg08 + true;
	return (SEQ(SLICE(eax_5, word24, 8), al_10) & 0xFF) + (SEQ(0x00, (int8) (al_10 < 0x00), (int8) OVERFLOW<byte>(al_10)) << 0x10);
}

// 08049521: Register ui32 adc_clear(Stack byte bArg04, Stack byte bArg08)
// Called from:
//      main
ui32 adc_clear(byte bArg04, byte bArg08)
{
	word32 eax_5 = (word32) bArg04;
	uint8 al_10 = (byte) eax_5 + bArg08;
	return (SEQ(SLICE(eax_5, word24, 8), al_10) & 0xFF) + (SEQ(0x00, (int8) (al_10 < 0x00), (int8) OVERFLOW<byte>(al_10)) << 0x10);
}

// 08049550: void __libc_csu_init(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void __libc_csu_init(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	_init();
	int32 esi_29 = 0x0804BF10 - g_a804BF0C;
	if (esi_29 >> 0x02 != 0x00)
	{
		int32 edi_34 = 0x00;
		do
		{
			(*((char *) g_a804BF0C + edi_34 * 0x04))();
			++edi_34;
		} while (esi_29 >> 0x02 != edi_34);
	}
}

// 080495B0: void __libc_csu_fini()
void __libc_csu_fini()
{
}

