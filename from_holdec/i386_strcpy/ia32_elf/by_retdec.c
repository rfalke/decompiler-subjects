//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>
#include <stdio.h>

// ------------------- Function Prototypes --------------------

int32_t mystrcpy(int32_t * a1, char * a2);

// --------------------- Global Variables ---------------------

char * g1; // 0x804c040

// ------------------------ Functions -------------------------

// Address range: 0x8049060 - 0x8049099
int main(int argc, char ** argv) {
    // 0x8049060
    mystrcpy((int32_t *)&g1, "hello world");
    puts((char *)&g1);
    return 0;
}

// Address range: 0x80491c0 - 0x80491f2
int32_t mystrcpy(int32_t * a1, char * a2) {
    int32_t v1 = -1; // 0x80491d2
    int32_t v2 = (int32_t)a2;
    int32_t v3 = 0; // 0x80491d2
    int32_t v4 = v2; // 0x80491d2
    bool v5; // 0x80491c0
    while (v1 != 0) {
        int32_t v6 = v2 + (v5 ? -1 : 1); // 0x80491d2
        v1--;
        v3 = v1;
        v4 = v6;
        if (*(char *)v2 == 0) {
            // break -> 
            break;
        }
        v2 = v6;
        v3 = 0;
        v4 = v2;
    }
    uint32_t v7 = -1 - v3;
    uint32_t v8 = v7 / 4; // 0x80491de
    __asm_rep_movsd_memcpy((char *)a1, (char *)(v4 - v7), v8);
    char * v9 = (char *)(v8 * (v5 ? -4 : 4) + (int32_t)a1); // 0x80491e8
    __asm_rep_movsb_memcpy(v9, v9, v7 % 4);
    return 0;
}

// --------------- Dynamically Linked Functions ---------------

// int puts(const char * s);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (11.2.1)
// Detected functions: 2

