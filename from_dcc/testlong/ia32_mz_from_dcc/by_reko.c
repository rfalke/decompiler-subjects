// subject_0800.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

struct seg0800_t * g_ptr8000 = &g_tFFFFD3BA; // 00008000
// 0800:01FA: void _main(Register Eq_5 di, Register (ptr16 Eq_6) es, Register Eq_7 ds)
void _main(Eq_5 di, struct Eq_6 * es, Eq_7 ds)
{
	struct Eq_8 * ss;
	word16 bp_21;
	Eq_5 di_24;
	struct Eq_6 * es_26;
	word16 dx_125;
	word16 bx_126;
	_scanf(di, es, ds, 404, out dx_125, out bx_126, out bp_21, out di_24, out es_26);
	struct Eq_32 Eq_8::* sp_28 = &Eq_8::tBADDCAFE;
	(ss->*sp_28).w0002 = bp_21 - 8;
	Mem44[ss:sp_28 + 0x00:word16] = 0x0197;
	word16 bp_46;
	Eq_5 di_49;
	struct Eq_6 * es_51;
	word16 dx_127;
	word16 bx_128;
	_scanf(di_24, es_26, ds, (ss->*sp_28).ptr0000, out dx_127, out bx_128, out bp_46, out di_49, out es_51);
	struct Eq_32 Eq_8::* sp_53 = &Eq_8::tBADDCAFE;
	(ss->*sp_53).w0002 = bp_46 - 4;
	(ss->*sp_53).ptr0000 = bp_46 - 8;
	Mem72[ss:sp_53 + -2:word16] = 0x019A;
	struct Eq_79 Eq_8::* bp_74;
	word16 bx_75;
	word16 dx_78;
	word16 di_129;
	struct Eq_83 * es_130;
	word16 cx_76 = _scanf(di_49, es_51, ds, (ss->*sp_53).ptrFFFFFFFE, out dx_78, out bx_75, out bp_74, out di_129, out es_130);
	struct Eq_32 Eq_8::* sp_81 = &Eq_8::tBADDCAFE;
	(ss->*sp_81).w0004 = (ss->*bp_74).wFFFFFFFE;
	(ss->*sp_81).w0002 = (ss->*bp_74).wFFFFFFFC;
	(ss->*sp_81).ptr0000 = (ss->*bp_74).ptrFFFFFFFA;
	(ss->*sp_81).ptrFFFFFFFE = (ss->*bp_74).ptrFFFFFFF8;
	(ss->*sp_81).wFFFFFFFC = 0x01A0;
	_printf(cx_76, dx_78, bx_75, ds, (ss->*sp_81).wFFFFFFFC);
}

<anonymous> g_t0773 = <code>; // 0800:0773
// 0800:0BD4: void __LONGTOA(Register Eq_7 ds, Stack Eq_147 bArg02, Stack Eq_148 bArg04, Stack Eq_149 wArg06, Stack (memptr Eq_7 byte) wArg08, Stack Eq_151 dwArg0A)
// Called from:
//      __VPRINTER
void __LONGTOA(Eq_7 ds, Eq_147 bArg02, Eq_148 bArg04, Eq_149 wArg06, byte Eq_7::* wArg08, Eq_151 dwArg0A)
{
	Eq_152 fp;
	uint16 wArg0A = (word16) dwArg0A;
	Eq_155 wArg0C = SLICE(dwArg0A, word16, 16);
	byte Eq_7::* di_128 = wArg08;
	cu8 bl_28 = (byte) wArg06;
	if (wArg06 > 0x24 || bl_28 < 0x02)
	{
l0800_0C42:
		ds->*di_128 = 0x00;
		return;
	}
	uint16 ax_31 = wArg0A;
	Eq_155 cx_33 = wArg0C;
	if (wArg0C < 0x00 && bArg04 != 0x00)
	{
		ds->*wArg08 = 0x2D;
		ui32 cx_ax_175 = -dwArg0A;
		di_128 = wArg08 + 1;
		ax_31 = (word16) cx_ax_175;
		cx_33 = SLICE(cx_ax_175, word16, 16);
	}
	byte Eq_7::* si_100 = fp - 36;
	if (cx_33 != 0x00)
	{
		do
		{
			uint32 dx_ax_57 = (uint32) cx_33;
			uint32 dx_ax_65 = SEQ((uint16) (dx_ax_57 % wArg06), ax_31);
			ds->*si_100 = (byte) (dx_ax_65 % wArg06);
			Eq_155 ax_61 = (uint16) (dx_ax_57 /u wArg06);
			cx_33 = ax_61;
			ax_31 = (uint16) (dx_ax_65 /u wArg06);
			++si_100;
		} while (ax_61 != 0x00);
l0800_0C25:
		if (ax_31 == 0x00)
		{
			int16 cx_107 = si_100 + (36 - fp);
			do
			{
				byte al_120;
				--si_100;
				cu8 al_114 = ds->*si_100;
				if (al_114 < 0x0A)
					al_120 = al_114 + 0x30;
				else
					al_120 = (byte) bArg02.u1 + (al_114 - 0x0A);
				ds->*di_128 = al_120;
				++di_128;
				--cx_107;
			} while (cx_107 != 0x00);
			goto l0800_0C42;
		}
	}
	uint32 dx_ax_85 = (uint32) ax_31;
	ds->*si_100 = (byte) (dx_ax_85 % wArg06);
	ax_31 = (uint16) (dx_ax_85 /u wArg06);
	++si_100;
	goto l0800_0C25;
}

// 0800:0DCC: void _printf(Register word16 cx, Register word16 dx, Register word16 bx, Register Eq_7 ds, Stack word16 wArg02)
// Called from:
//      _main
void _printf(word16 cx, word16 dx, word16 bx, Eq_7 ds, word16 wArg02)
{
	mp16 fp;
	__VPRINTER(cx, dx, bx, ds, fp + 4, wArg02);
}

// 0800:0FC5: void __REALCVT(Register Eq_7 ds)
// Called from:
//      __VPRINTER
void __REALCVT(Eq_7 ds)
{
	Mem0[ds:0x05B0:word16]();
}

// 0800:0FC9: Register word16 fn0800_0FC9(Sequence (ptr32 Eq_271) es_di, Register Eq_7 ds, Stack Eq_7 wArg02)
// Called from:
//      __VPRINTER
word16 fn0800_0FC9(struct Eq_271 * es_di, Eq_7 ds, Eq_7 wArg02)
{
	word16 di = (word16) es_di;
	bcu8 dh_13 = SLICE(wArg02, byte, 8);
	Mem21[es_di + 0x00:byte] = Mem7[ds:CONVERT(dh_13 >>u 0x04, byte, uint16) + 0x04B9:byte];
	Mem27[es_di + 1:byte] = Mem21[ds:CONVERT(dh_13 & 0x0F, byte, uint16) + 0x04B9:byte];
	bcu8 dl_29 = (byte) wArg02;
	Mem33[es_di + 2:byte] = Mem27[ds:CONVERT(dl_29 >>u 0x04, byte, uint16) + 0x04B9:byte];
	Mem41[es_di + 3:byte] = Mem33[ds:CONVERT(dl_29 & 0x0F, byte, uint16) + 0x04B9:byte];
	return di + 4;
}

// 0800:0FF4: void __VPRINTER(Register word16 cx, Register word16 dx, Register word16 bx, Register Eq_7 ds, Stack mp16 wArg02, Stack word16 wArg04)
// Called from:
//      _printf
void __VPRINTER(word16 cx, word16 dx, word16 bx, Eq_7 ds, mp16 wArg02, word16 wArg04)
{
	bLoc57_1259 = 0x50;
	sp_20 = fp - 0xA0;
	wLoc98_1262 = fp - 86;
l0800_1057:
	di_29 = wLoc98_1263;
l0800_105B:
	si_33 = wArg04_1264;
	while (true)
	{
		al_37 = ds->*si_35;
		si_38 = si_35 + 1;
		al_39 = al_37;
		if (al_37 == 0x00)
			break;
		if (al_37 == 0x25)
		{
			al_49 = ds->*si_38;
			si_50 = si_38 + 1;
			if (al_49 != 0x25)
			{
				wLoc98_1266 = di_53;
				ch_1171 = 0x00;
				wLoc8E_1267 = 0x00;
				wLoc9A_1268 = 0x00;
				bLoc8F_1269 = 0x00;
				wLoc94_1270 = ~0x00;
				wLoc92_1271 = ~0x00;
				while (true)
				{
					ax_67 = (uint16) al_66;
					bl_70 = (byte) ax_67;
					bh_75 = SLICE(ax_67, byte, 8);
					dx_68 = ax_67;
					dl_137 = (byte) ax_67;
					bx_76 = SEQ(bh_75, bl_70 - 0x20);
					cx_1191 = SEQ(ch_868, 0x00);
					if (bl_70 >= 0x80)
						break;
					bl_78 = (ds->*bx_76).b04C9;
					bx_79 = SEQ(bh_75, bl_78);
					cx_1188 = SEQ(ch_868, 0x00);
					if (bx_79 > 0x17)
						goto l0800_14E1;
					bx_85 = bx_79 << 0x01;
					cx_1189 = SEQ(ch_868, 0x00);
					switch (bx_79)
					{
					case 0x00:
						cx_1194 = SEQ(ch_868, 0x00);
						if (ch_868 > 0x00)
							goto l0800_10F6;
						if (bLoc8F_1360 != 0x2B)
							bLoc8F_1482 = dl_137;
						break;
					case 0x01:
						cx_1193 = SEQ(ch_868, 0x00);
						if (ch_868 > 0x00)
							goto l0800_10F6;
						wLoc9A_1481 = wLoc9A_1272 | 0x01;
						break;
					case 0x02:
						ax_967.u2 = (ds->*wArg02_1276).t0000.u2;
						wArg02_1478 = (union Eq_7 Eq_7::*) &wArg02_1276->t0002.u0;
						if (ch_868 < 0x02)
						{
							wLoc94_1480 = ax_967;
							ch_978 = 0x03;
							goto l0800_1166;
						}
						cx_1198 = SEQ(ch_868, 0x00);
						if (ch_868 != 0x04)
							goto l0800_114F;
						wLoc92_1479 = ax_967;
						ch_975 = ch_868 + 0x01;
						break;
					case 0x03:
						cx_1192 = SEQ(ch_868, 0x00);
						if (ch_868 > 0x00)
							goto l0800_10F6;
						wLoc9A_1477 = wLoc9A_1272 | 0x02;
						break;
					case 0x04:
						cx_1196 = SEQ(ch_868, 0x00);
						if (ch_868 >= 0x04)
							goto l0800_114F;
						ch_958 = 0x04;
						break;
					case 0x05:
						goto l0800_1181;
					case 0x06:
						wLoc9A_1470 = wLoc9A_1272 | 0x10;
						ch_904 = 0x05;
						break;
					case 0x07:
						wLoc9A_1469 = (wLoc9A_1272 | 0x0100) & ~0x10;
						ch_898 = 0x05;
						break;
					case 0x08:
						wLoc9A_1467 = wLoc9A_1272 & ~0x10 | 0x80;
						ch_889 = 0x05;
						break;
					case 0x09:
						if (ch_868 <= 0x00)
						{
							if ((wLoc9A_1272 & 0x02) != 0x00)
								goto l0800_1166;
							wLoc9A_1465 = wLoc9A_1272 | 0x08;
							ch_880 = 0x01;
						}
						else
						{
l0800_1181:
							dx_908 = bx_79;
							ax_912 = (int16) ((byte) ax_67 - 0x30);
							if (ch_868 <= 0x02)
							{
								ch_938 = 0x02;
								wLoc94_1475 = ax_912;
								if (wLoc94_1347 < 0x00)
									goto l0800_1166;
								wLoc94_1476 = ax_912 + wLoc94_1347 * 0x0A;
							}
							else
							{
								cx_1197 = SEQ(ch_868, 0x00);
								if (ch_868 != 0x04)
								{
l0800_114F:
									goto l0800_14E1;
								}
								wLoc92_1472 = ax_912;
								if (wLoc92_1289 >= 0x00)
									wLoc92_1473 = ax_912 + wLoc92_1289 * 0x0A;
								else
								{
l0800_1166:
								}
							}
						}
						break;
					case 0x0A:
						dx_ax_378 = (int32) (ds->*wArg02_1276).t0000.u2;
						bLoc95_1317 = 0x01;
						ax_404 = (word16) dx_ax_378;
						dx_412 = SLICE(dx_ax_378, word16, 16);
						bx_1967 = SEQ(0x0A, bl_78 << 0x01);
						goto l0800_1223;
					case 11:
						bx_1979 = SEQ(0x08, bl_78 << 0x01);
						goto l0800_11FB;
					case 0x0C:
						bx_1973 = SEQ(0x0A, bl_78 << 0x01);
						goto l0800_1200;
					case 0x0D:
						bx_1980 = SEQ(0x10, dl_137 + 233);
l0800_11FB:
						bLoc8F_1312 = 0x00;
						bx_1972 = bx_1981;
l0800_1200:
						bLoc95_1313 = 0x00;
						ax_368.u2 = (ds->*wArg02_1276).t0000.u2;
						dx_369 = 0x00;
						bx_1966 = bx_1974;
l0800_1223:
						di_380 = (struct Eq_734 Eq_7::*) ((char *) &wArg02_1276->t0000 + 1);
						bh_449 = SLICE(bx_1968, byte, 8);
						di_381 = (union Eq_7 Eq_7::*) &di_380->w0001;
						wArg04_1319 = si_101;
						if ((wLoc9A_1272 & 0x10) != 0x00)
						{
							dx_393 = (ds->*di_380).w0001;
							di_395 = (struct Eq_794 Eq_7::*) (&di_380->w0001 + 1);
						}
						wArg02_1323 = di_397;
						if (ax_403 == 0x00)
						{
							dx_413 = dx_410;
							dh_1170 = SLICE(dx_410, byte, 8);
							if (dx_410 != 0x00)
								goto l0800_1272;
							bx_1169 = bx_1968;
							if (wLoc92_1289 == 0x00)
							{
								di_839 = di_53;
								cx_840 = wLoc94_1347;
								if (wLoc94_1347 != 0x00 && wLoc94_1347 != ~0x00)
								{
									if ((wLoc9A_1272 & 0x08) != 0x00)
										dl_850 = 0x30;
									else
										dl_849 = 0x20;
									do
									{
										dx_862 = SEQ(dh_1170, dl_851);
										di_863 = fn0800_101A(SEQ(ds, di_854), SEQ(ss, fp - 2), dl_851, cx_860, dx_862, bx_1968);
										cx_867 = cx_860 - 0x01;
									} while (cx_867 != 0x00);
								}
								goto l0800_105B;
							}
						}
						else
						{
l0800_1272:
							wLoc9A_1326 = wLoc9A_1272 | 0x04;
						}
						sp_434 = sp_1222 - 2;
						(ss->*sp_434).t0000.u2 = (struct Eq_2826 *) dx_410;
						(ss->*sp_434).tFFFFFFFE.u0 = (word16) ax_403;
						(ss->*sp_434).ptrFFFFFFFC = fp - 0x89;
						ax_454.u0 = (int16) bh_449;
						(ss->*sp_434).tFFFFFFFA.u0 = (int16) ax_454;
						(ss->*sp_434).tFFFFFFF8.u1 = (word16) SEQ(SLICE(ax_454, byte, 8), bLoc95_1333);
						(ss->*sp_434).tFFFFFFF6.u0 = (ci16) bx_1968;
						__LONGTOA(ds, (ss->*sp_434).tFFFFFFF6.u1, (ss->*sp_434).tFFFFFFF8.u0, (ss->*sp_434).tFFFFFFFA.u0, (ss->*sp_434).ptrFFFFFFFC, (ss->*sp_434).tFFFFFFFE.u1);
						(ss->*sp_434).t0000.u2 = (struct Eq_2826 *) ss;
						es_485.u2 = (ss->*sp_434).t0000.u2;
						sp_486 = (struct Eq_885 Eq_7::*) ((char *) &sp_434->t0000 + 2);
						dx_488 = wLoc92_1289;
						if (wLoc92_1289 > 0x00)
						{
							es_di_1970 = SEQ(es_485, fp - 0x89);
							goto l0800_13B8;
						}
						else
						{
							es_di_1975 = SEQ(es_485, fp - 0x89);
							goto l0800_13A8;
						}
					case 0x0E:
						sp_280 = sp_1222 - 2;
						(ss->*sp_280).t0000.u2 = (ds->*wArg02_1276).t0000.u2;
						di_277 = fp - 0x8A;
						wArg02_1306 = (union Eq_7 Eq_7::*) &wArg02_1276->t0002.u0;
						if ((wLoc9A_1272 & 0x20) != 0x00)
						{
							(ss->*sp_280).tFFFFFFFE.u2 = (ds->*wArg02_1276).t0002.u2;
							(ss->*sp_280).tFFFFFFFC.u2 = (struct Eq_2826 *) ss;
							es_298.u2 = (ss->*sp_280).tFFFFFFFC.u2;
							di_304 = fn0800_0FC9(SEQ(es_298, fp - 0x8A), ds, (ss->*sp_280).tFFFFFFFE.u2);
							es_298->*di_304 = 0x3A;
							wArg02_1307 = (struct Eq_1275 Eq_7::*) ((char *) &wArg02_1276->t0002 + 2);
							di_314 = di_304 + 1;
						}
						(ss->*sp_280).tFFFFFFFE.u2 = (struct Eq_2826 *) ss;
						es_319.u2 = (ss->*sp_280).tFFFFFFFE.u2;
						di_327 = fn0800_0FC9(SEQ(es_319, di_321), ds, (ss->*sp_280).t0000.u2);
						ds->*di_327 = 0x00;
						sp_334 = (struct Eq_1233 Eq_7::*) ((char *) &sp_280->t0000 + 2);
						wLoc9A_1310 = wLoc9A_1272 & ~0x04;
						di_342 = di_327 - (fp - 0x8A);
						dx_346 = wLoc92_1289;
						if (wLoc92_1289 <= di_342)
							dx_349 = di_342;
						es_di_1976 = SEQ(es_319, fp - 0x8A);
						goto l0800_13A8;
					case 0x0F:
						cx_217 = wLoc92_1289;
						if (wLoc92_1289 < 0x00)
							cx_223 = 0x06;
						sp_225 = sp_1222 - 2;
						(ss->*sp_225).ptr0000 = wArg02_1276;
						(ss->*sp_225).wFFFFFFFE = cx_230;
						(ss->*sp_225).ptrFFFFFFFC = fp - 0x89;
						(ss->*sp_225).wFFFFFFFA = ax_67;
						(ss->*sp_225).wFFFFFFF8 = wLoc9A_1272 & 0x01;
						if ((wLoc9A_1272 & 0x80) != 0x00)
						{
							ax_256 = 0x02;
							wLoc06_1299 = 0x04;
						}
						else if ((wLoc9A_1272 & 0x0100) != 0x00)
						{
							ax_254 = 0x08;
							wLoc06_1298 = 0x0A;
						}
						else
						{
							wLoc06_1297 = 0x08;
							ax_253 = 0x06;
						}
						(ss->*sp_225).wFFFFFFF6 = ax_260;
						__REALCVT(ds);
						(ss->*sp_225).tFFFFFFF4.u2 = (struct Eq_2826 *) ss;
						wArg02_1303 = (struct Eq_1316 Eq_7::*) (wArg02_1276 + wLoc06_1300 /16 6);
						sp_273 = sp_225 - 0x0A;
						es_di_1977 = (ptr32) (fp - 0x89);
l0800_13A8:
						es_513 = SLICE(es_di_1978, selector, 16);
						di_510 = (word16) es_di_1978;
						if ((wLoc9A_1337 & 0x08) != 0x00)
						{
							dx_504 = wLoc94_1347;
							es_di_1969 = es_di_1978;
							if (wLoc94_1347 > 0x00)
							{
l0800_13B8:
								es_512 = SLICE(es_di_1971, selector, 16);
								di_509 = (word16) es_di_1971;
								cx_516 = fn0800_100D(di_509, es_512);
								if (*es_di_1971 == 0x2D)
									cx_524 = cx_516 - 0x01;
								dx_529 = dx_527 - cx_528;
								if (dx_529 > 0x00)
									wLoc8E_1353 = dx_529;
							}
						}
						if (bLoc8F_1354 != 0x00 && es_547->*di_549 != 0x2D)
						{
							di_560 = di_549 - 0x01;
							es_547->*di_560 = bLoc8F_1354;
							v45_553 = wLoc8E_1368 - 0x01;
							wLoc8E_1384 = v45_553 + (word16) (v45_553 < 0x00);
						}
						cx_566 = fn0800_100D(di_563, es_547);
						goto l0800_13E9;
					case 0x10:
						sp_200 = sp_1222 - 2;
						(ss->*sp_200).u2 = (struct Eq_2826 *) ss;
						wArg02_1292 = (union Eq_7 Eq_7::*) &wArg02_1276->t0002.u0;
						es_202.u2 = (ss->*sp_200).u2;
						sp_203 = (union Eq_7 Eq_7::*) ((char *) sp_200 + 2);
						di_204 = fp - 0x89;
						cx_212 = 0x01;
						goto l0800_13E9;
					case 0x11:
						if ((wLoc9A_1272 & 0x20) == 0x00)
						{
							di_154.u2 = (ds->*wArg02_1276).t0000.u2;
							sp_157 = sp_1222 - 2;
							(ss->*sp_157).u2 = (struct Eq_2826 *) ds;
							wArg02_1286 = (union Eq_7 Eq_7::*) &wArg02_1276->t0002.u0;
							es_159.u2 = (ss->*sp_157).u2;
							di_161 = di_154;
							v75_1253 = di_154 != 0x00;
						}
						else
						{
							es_di_144.u1 = (ds->*wArg02_1276).t0000.u1;
							es_147 = SLICE(es_di_144, selector, 16);
							di_149 = (word16) es_di_144;
							wArg02_1285 = (union Eq_7 Eq_7::*) ((char *) &wArg02_1276->t0002 + 2);
							v76_1254 = es_di_144 != 0x00;
						}
						if (!v74_1252)
						{
							sp_169 = sp_1222 - 2;
							(ss->*sp_169).u2 = (struct Eq_2826 *) ds;
							es_173.u2 = (ss->*sp_169).u2;
							di_175 = 1202;
						}
						sp_1235 = sp_1222;
						cx_181 = fn0800_100D(di_176, es_178);
						if (cx_181 > wLoc92_1289)
							cx_193 = wLoc92_1289;
l0800_13E9:
						wArg04_1550 = si_101;
						si_573 = di_571;
						di_583 = di_53;
						bx_584 = wLoc94_1347;
						if ((wLoc9A_1413 & 0x05) == 0x05)
						{
							if (dl_137 != 111)
							{
								if (dl_137 == 0x78 || dl_137 == 88)
								{
									v42_605 = wLoc8E_1441 - 0x02;
									wLoc9A_1439 = wLoc9A_1413 | 0x40;
									bx_604 = wLoc94_1347 - 0x02;
									wLoc8E_1446 = v42_605;
									if (v42_605 < 0x00)
										wLoc8E_1447 = 0x00;
								}
l0800_1436:
								cx_624 = cx_614 + wLoc8E_1449;
								if ((wLoc9A_1451 & 0x02) == 0x00)
								{
									while (bx_629 > cx_624)
									{
										di_641 = fn0800_101A(SEQ(ds, di_635), SEQ(ss, fp - 2), 0x20, cx_624, dx_681, bx_629);
										bx_645 = bx_629 - 0x01;
									}
								}
								if ((wLoc9A_1451 & 0x40) != 0x00)
									di_699 = fn0800_101A(SEQ(ds, fn0800_101A(SEQ(ds, di_669), SEQ(ss, fp - 2), 0x30, cx_624, dx_681, bx_675)), SEQ(ss, fp - 2), dl_137, cx_624, dx_681, bx_675);
								dx_707 = wLoc8E_1449;
								if (wLoc8E_1449 > 0x00)
								{
									cx_713 = cx_624 - wLoc8E_1449;
									bx_715 = bx_675 - wLoc8E_1449;
									al_730 = es_719->*di_571;
									if (al_730 == 0x2D || (al_730 == 0x20 || al_730 == 0x2B))
									{
										si_741 = di_571 + 1;
										di_753 = fn0800_101A(SEQ(ds, di_745), SEQ(ss, fp - 2), es_719->*di_571, cx_713, wLoc8E_1449, bx_715);
										cx_757 = cx_713 - 0x01;
										bx_758 = bx_715 - 0x01;
									}
									cx_764 = wLoc8E_1449;
									if (wLoc8E_1449 != 0x00)
									{
										do
										{
											di_775 = fn0800_101A(SEQ(ds, di_767), SEQ(ss, fp - 2), 0x30, cx_773, cx_762, bx_788);
											cx_779 = cx_773 - 0x01;
										} while (cx_779 != 0x00);
									}
									dx_783 = cx_782;
									cx_784 = cx_762;
								}
								if (cx_785 != 0x00)
								{
									bx_789 = bx_786 - cx_785;
									do
									{
										ds->*di_797 = es_719->*si_792;
										v47_802 = bLoc57_1463 - 0x01;
										si_795 = si_792 + 1;
										di_799 = di_797 + 1;
										bLoc57_1464 = v47_802;
										if (v47_802 <= 0x00)
											di_809 = fn0800_1022(SEQ(ss, fp - 2), cx_807, dx_1166, bx_789, di_799);
										cx_815 = cx_807 - 0x01;
									} while (cx_815 != 0x00);
								}
								bx_818 = bx_816;
								if (bx_816 > 0x00)
								{
									cx_823 = bx_816;
									do
									{
										di_834 = fn0800_101A(SEQ(ds, di_826), SEQ(ss, fp - 2), 0x20, cx_832, dx_1166, bx_816);
										cx_838 = cx_832 - 0x01;
									} while (cx_838 != 0x00);
								}
								goto l0800_105B;
							}
							if (wLoc8E_1441 <= 0x00)
								wLoc8E_1448 = 0x01;
						}
						goto l0800_1436;
					case 0x12:
						wArg04_1275 = si_101;
						if ((wLoc9A_1272 & 0x20) == 0x00)
						{
							di_112.u2 = (ds->*wArg02_1276).t0000.u2;
							sp_117 = sp_1222 - 2;
							(ss->*sp_117).u2 = (struct Eq_2826 *) ds;
							wArg02_1278 = (union Eq_7 Eq_7::*) &wArg02_1276->t0002.u0;
							es_di_1964 = (ptr32) di_112.u2;
						}
						else
						{
							es_di_108.u1 = (ds->*wArg02_1276).t0000.u1;
							wArg02_1277 = (union Eq_7 Eq_7::*) ((char *) &wArg02_1276->t0002 + 2);
						}
						*es_di_1965 = (uint16) (0x50 - bLoc57_1496);
						sp_1224 = sp_1222;
						goto l0800_1057;
					case 0x13:
					case 0x14:
					case 0x15:
						goto l0800_14E1;
					case 22:
						wLoc9A_1274 = wLoc9A_1272 & ~0x20;
						ch_100 = 0x05;
						break;
					case 0x17:
						wLoc9A_1273 = wLoc9A_1272 | 0x20;
						ch_94 = 0x05;
						break;
					}
					al_1002 = ds->*si_101;
					si_1003 = si_101 + 1;
				}
l0800_10F6:
l0800_14E1:
				si_1013 = si_38;
				di_1014 = di_53;
				al_1015 = 0x25;
				do
				{
					di_1026 = fn0800_101A(SEQ(ds, di_1017), SEQ(ss, fp - 2), al_1022, cx_1182, dx_1199, bx_1178);
					al_1032 = ds->*si_1030;
					si_1033 = si_1030 + 1;
					al_1034 = al_1032;
				} while (al_1032 != 0x00);
				break;
			}
		}
		ds->*di_53 = al_1084;
		v18_1091 = bLoc57_1496 - 0x01;
		di_1088 = di_53 + 1;
		bLoc57_1536 = v18_1091;
		if (v18_1091 <= 0x00)
			di_1098 = fn0800_1022(SEQ(ss, fp - 2), cx_1208, dx_1215, bx_1202, di_1088);
	}
	if (bLoc57_1496 < 0x50)
		fn0800_1022(SEQ(ss, fp - 2), cx_1047, dx_1049, bx_1045, di_1051);
}

// 0800:100D: Register word16 fn0800_100D(Register (memptr (ptr16 Eq_764) byte) di, Register (ptr16 Eq_764) es)
// Called from:
//      __VPRINTER
word16 fn0800_100D(byte Eq_764::* di, struct Eq_764 * es)
{
	word16 cx_13 = ~0x00;
	while (cx_13 != 0x00)
	{
		di = di_46 + 1;
		--cx_13;
		di_46 = di;
		if (es->*di_46 != 0x00)
			return -cx_13;
	}
	return -cx_13;
}

// 0800:101A: Register word16 fn0800_101A(Sequence (ptr32 byte) ds_di, Sequence (ptr32 Eq_372) ss_bp, Register byte al, Register Eq_147 cx, Register ci16 dx, Register Eq_147 bx)
// Called from:
//      __VPRINTER
word16 fn0800_101A(byte * ds_di, struct Eq_372 * ss_bp, byte al, Eq_147 cx, ci16 dx, Eq_147 bx)
{
	word16 di = (word16) ds_di;
	*ds_di = al;
	ci8 v10_11 = ss_bp->bFFFFFFAB - 0x01;
	ss_bp->bFFFFFFAB = v10_11;
	if (v10_11 <= 0x00)
		return di + 0x01;
	return fn0800_1022(ss_bp, cx, dx, bx, di + 0x01);
}

// 0800:1022: Register (memptr Eq_7 byte) fn0800_1022(Sequence (ptr32 Eq_372) ss_bp, Register Eq_147 cx, Register ci16 dx, Register Eq_147 bx, Register (memptr Eq_7 byte) di)
// Called from:
//      __VPRINTER
//      fn0800_101A
byte Eq_7::* fn0800_1022(struct Eq_372 * ss_bp, Eq_147 cx, ci16 dx, Eq_147 bx, byte Eq_7::* di)
{
	word16 bp = (word16) ss_bp;
	word16 di_20 = di - (bp - 84);
	word16 ax_34;
	(seg0800->*ss_bp->ptr000A)();
	if (ax_34 == 0x00)
		ss_bp->wFFFFFFFE = 0x01;
	ss_bp->bFFFFFFAB = 0x50;
	ss_bp->wFFFFFFA8 += di_20;
	return bp - 84;
}

// 0800:1655: Register word16 _scanf(Register Eq_5 di, Register (ptr16 Eq_6) es, Register Eq_7 ds, Stack (memptr Eq_7 Eq_19) wArg02, Register out ptr16 dxOut, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_24) esOut)
// Called from:
//      _main
word16 _scanf(Eq_5 di, struct Eq_6 * es, Eq_7 ds, struct Eq_19 Eq_7::* wArg02, ptr16 & dxOut, ptr16 & bxOut, ptr16 & bpOut, ptr16 & diOut, struct Eq_24 & esOut)
{
	struct Eq_1457 * ss;
	ptr16 Eq_1457::* bp_28;
	ptr16 di_30;
	struct Eq_24 * es_31;
	ptr16 bx_33;
	ptr16 dx_34;
	word16 cx_29 = __scanner(di, es, ds, &seg0800_t::t0773, &seg0800_t::t1CE6, 0x0312, wArg02, out dx_34, out bx_33, out bp_28, out di_30, out es_31);
	ptr16 bp_42 = ss->*bp_28;
	dxOut = dx_34;
	bxOut = bx_33;
	bpOut = bp_42;
	diOut = di_30;
	esOut = es_31;
	return cx_29;
}

// 0800:1674: Register Eq_5 __scanner(Register Eq_5 di, Register (ptr16 Eq_6) es, Register Eq_7 ds, Stack (memptr (ptr16 Eq_3) code) wArg02, Stack (memptr (ptr16 Eq_3) code) wArg04, Stack Eq_5 wArg06, Stack (memptr Eq_7 Eq_19) wArg08, Register out Eq_1473 dxOut, Register out Eq_1474 bxOut, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_1477) esOut)
// Called from:
//      _scanf
Eq_5 __scanner(Eq_5 di, struct Eq_6 * es, Eq_7 ds, <anonymous> seg0800_t::* wArg02, <anonymous> seg0800_t::* wArg04, Eq_5 wArg06, struct Eq_19 Eq_7::* wArg08, union Eq_1473 & dxOut, union Eq_1474 & bxOut, ptr16 & bpOut, ptr16 & diOut, struct Eq_1477 & esOut)
{
	byte Eq_1494::* fp;
	struct Eq_1494 * ss;
	ci16 wLoc26;
	Eq_1474 bx;
	Eq_5 cx;
	Eq_1473 dx;
	Eq_5 wLoc04;
	Eq_1473 wLoc28_1089 = 0x00;
l0800_16A4:
	struct Eq_19 Eq_7::* si_26 = wArg08;
	do
	{
l0800_16A7:
		Eq_1474 bx_1358;
		Eq_1473 dx_1448;
		Eq_5 cx_942;
		Eq_1473 dx_937;
		Eq_1474 bx_936;
		Eq_5 cx_838;
		byte al_30 = (ds->*si_26).b0000;
		++si_26;
		byte al_32 = al_30;
		if (al_30 == 0x00)
		{
			ptr16 bp_41;
			ptr16 di_43;
			struct Eq_1477 * es_44;
			Eq_5 cx_42 = fn0800_1A6C(fp - 2, out bp_41, out di_43, out es_44);
			dxOut = dx;
			bxOut = bx;
			bpOut = bp_41;
			diOut = di_43;
			esOut = es_44;
			return cx_42;
		}
		if (al_30 == 0x25)
		{
			Eq_1504 wLoc24_1092 = ~0x00;
			byte bLoc2B_1093 = 0x00;
			while (true)
			{
				++si_26;
				Eq_5 ax_59 = (int16) (ds->*si_26).b0000;
				byte dh_1468 = SLICE(dx, byte, 8);
				wArg08 = si_26;
				di = ax_59;
				if (ax_59 < 0x00)
					break;
				Eq_1474 bx_75 = (uint16) (ds->*((word16) ax_59 + 1322));
				al_32 = (byte) bx_75;
				if (bx_75 > 0x15)
				{
					ptr16 bp_796;
					ptr16 di_798;
					struct Eq_1477 * es_799;
					Eq_5 cx_797 = fn0800_1A6C(fp - 2, out bp_796, out di_798, out es_799);
					dxOut = dx;
					bxOut = bx_75;
					bpOut = bp_796;
					diOut = di_798;
					esOut = es_799;
					return cx_797;
				}
				Eq_1473 ax_118;
				Eq_5 si_117;
				bx = bx_75 << 0x01;
				switch (bx_75)
				{
				case 0x00:
				case 0x01:
				case 0x02:
					goto l0800_1767;
				case 0x03:
					goto l0800_16B0;
				case 0x04:
					bLoc2B_1093 |= 0x01;
					break;
				case 0x05:
					wLoc24_1092 = ax_59 - 0x30;
					wLoc24_1616 = wLoc24_1092;
					if (wLoc24_1616 >= 0x00)
					{
						dx = SLICE(wLoc24_1616 *32 0x0A, word16, 16);
						wLoc24_1092 = ax_59 - 0x30 + wLoc24_1616 *u 0x0A;
					}
					break;
				case 0x06:
					if ((bLoc2B_1093 & 0x01) == 0x00)
					{
						struct Eq_1717 * es_di_1614 = fn0800_1689(fp - 2, ds);
						di = (word16) es_di_1614;
						es = SLICE(es_di_1614, selector, 16);
					}
					Eq_1504 si_1047 = wLoc24_1616;
					if (wLoc24_1616 < 0x00)
						si_1047.u0 = 0x01;
					Eq_1473 dx_709;
					Eq_1474 bx_708;
					if (wLoc24_1616 != 0x00)
					{
						do
						{
							ci16 ax_706;
							(seg0800->*wArg02)();
							wLoc28_1089 = (word16) wLoc28_1089 + 1;
							wLoc04 = wArg06;
							byte al_720 = (byte) ax_706;
							cx = wArg06;
							if ((bLoc2B_1093 & 0x01) == 0x00)
							{
								es->*di = al_720;
								di = (word16) di + 1;
							}
							if (ax_706 < 0x00)
							{
								ptr16 bp_734;
								ptr16 di_736;
								struct Eq_1477 * es_737;
								Eq_5 cx_735 = fn0800_1A6C(fp - 2, out bp_734, out di_736, out es_737);
								dxOut = dx_709;
								bxOut = bx_708;
								bpOut = bp_734;
								diOut = di_736;
								esOut = es_737;
								return cx_735;
							}
							--si_1047;
							dx = dx_709;
							bx = bx_708;
						} while (si_1047 > 0x00);
					}
					goto l0800_16A4;
				case 0x07:
				case 0x08:
					si_117.u0 = 0x0A;
					goto l0800_17C5;
				case 0x09:
					si_117.u0 = 0x00;
					goto l0800_17C5;
				case 0x0A:
					__scantod(ds);
					wLoc04 = fp - 40;
					if (wLoc26 > 0x00)
					{
						if ((bLoc2B_1093 & 0x01) != 0x00)
							__scanpop(ds);
						else
						{
							struct Eq_1717 * es_di_1615 = fn0800_1689(&(ss->*(fp - 2)), ds);
							di = (word16) es_di_1615;
							es = SLICE(es_di_1615, selector, 16);
							__scanrslt(ds);
							wLoc04 = di;
						}
						goto l0800_16A4;
					}
					__scanpop(ds);
					if (wLoc26 < 0x00)
					{
						ptr16 bp_490;
						ptr16 di_492;
						struct Eq_1477 * es_493;
						Eq_5 cx_491 = fn0800_1A6C(&(ss->*(fp - 2)), out bp_490, out di_492, out es_493);
						dxOut = dx;
						bxOut = bx_75 << 0x01;
						bpOut = bp_490;
						diOut = di_492;
						esOut = es_493;
						return cx_491;
					}
					else
					{
						ptr16 di_502;
						struct Eq_1477 * es_503;
						ptr16 bp_501 = fn0800_1A80(&(ss->*(fp - 2)), out di_502, out es_503);
						dxOut = dx;
						bxOut = bx_75 << 0x01;
						bpOut = bp_501;
						diOut = di_502;
						esOut = es_503;
						return cx;
					}
				case 11:
					bLoc2B_1093 |= 0x08;
					break;
				case 0x0C:
					bLoc2B_1093 |= 0x02;
					break;
				case 0x0D:
					bLoc2B_1093 |= 0x04;
					break;
				case 0x0E:
					si_117.u0 = 0x08;
					goto l0800_17C5;
				case 0x0F:
					word16 bx_1608;
					struct Eq_1650 * es_1610;
					word16 bp_424;
					word16 di_1609;
					fn0800_18F0(fp - 2, ds, out bx_1608, out bp_424, out di_1609, out es_1610);
					ptr16 bp_436;
					Eq_1474 bx_437;
					ptr16 di_439;
					struct Eq_1477 * es_440;
					Eq_5 cx_438 = fn0800_18F0(bp_424, ds, out bx_437, out bp_436, out di_439, out es_440);
					dxOut = dx;
					bxOut = bx_437;
					bpOut = bp_436;
					diOut = di_439;
					esOut = es_440;
					return cx_438;
				case 0x10:
					word16 Eq_1494::* di_132 = fp - 0x0022;
					word16 cx_133;
					for (cx_133 = 0x10; cx_133 != 0x00; --cx_133)
					{
						ss->*di_132 = 0x00;
						++di_132;
					}
					byte v47_142 = bLoc2B_1093 & ~0x10;
					cu8 al_1009 = (ds->*si_26).b0000;
					struct Eq_19 Eq_7::* si_1018 = si_26 + 1;
					byte bLoc2B_1100 = v47_142;
					if (al_1009 == 0x5E)
					{
						bLoc2B_1100 = v47_142 | 0x10;
						al_1009 = (cu8) si_26[1];
						si_1018 = si_26 + 2;
					}
l0800_19A4:
					uint8 cl_164 = al_1009 & 0x07;
					uint16 ax_158 = (uint16) al_1009;
					ui8 ch_1040 = 0x01 << cl_164;
					Mem171[ss:fp - 0x0022 + (ax_158 >>u 0x03):byte] = Mem169[ss:fp - 0x0022 + (ax_158 >>u 0x03):byte] | ch_1040;
					cu8 dl_156 = al_1009;
					Eq_1984 di_1032 = ax_158 >> 0x03;
					while (true)
					{
						al_1009 = (ds->*si_1018).b0000;
						++si_1018;
						Eq_5 cx_1390 = SEQ(ch_1040, cl_164);
						Eq_1473 dx_1475 = SEQ(dh_1468, dl_156);
						if (al_1009 == 0x00)
							break;
						cx = SEQ(ch_1040, cl_164);
						dx = SEQ(dh_1468, dl_156);
						if (al_1009 == 0x5D)
						{
							ci16 v66_194 = wLoc24_1616 & 0x7FFF;
							wArg08 = si_1018;
							ci16 si_197 = v66_194;
							struct Eq_1717 * es_di_1597 = di_1032;
							if ((bLoc2B_1100 & 0x01) == 0x00)
								es_di_1597 = fn0800_1689(&(ss->*(fp - 2)), ds);
							while (true)
							{
								Eq_5 cx_359;
								Eq_1473 dx_354;
								Eq_1474 bx_353;
								Eq_1473 dx_233;
								di = (word16) es_di_1617;
								es = SLICE(es_di_1617, selector, 16);
								ci16 si_211 = si_197 - 0x01;
								if (si_211 < 0x00)
									break;
								wchar_t ax_230;
								Eq_1474 bx_232;
								(seg0800->*wArg02)();
								wLoc28_1089 = (word16) wLoc28_1089 + 1;
								wLoc04 = wArg06;
								if (ax_230 < 0x00)
								{
									if (si_211 + 0x01 >= v66_194)
									{
										ptr16 bp_251;
										ptr16 di_253;
										struct Eq_1477 * es_254;
										Eq_5 cx_252 = fn0800_1A6C(&(ss->*(fp - 2)), out bp_251, out di_253, out es_254);
										dxOut = dx_233;
										bxOut = bx_232;
										bpOut = bp_251;
										diOut = di_253;
										esOut = es_254;
										return cx_252;
									}
									if ((bLoc2B_1100 & 0x01) != 0x00)
									{
										ptr16 bp_266;
										ptr16 di_268;
										struct Eq_1477 * es_269;
										Eq_5 cx_267 = fn0800_1A6C(&(ss->*(fp - 2)), out bp_266, out di_268, out es_269);
										dxOut = dx_233;
										bxOut = bx_232;
										bpOut = bp_266;
										diOut = di_268;
										esOut = es_269;
										return cx_267;
									}
									else
									{
										es_di_1617->t0000.u0 = 0x00;
										ptr16 bp_283;
										ptr16 di_285;
										struct Eq_1477 * es_286;
										Eq_5 cx_284 = fn0800_1A6C(&(ss->*(fp - 2)), out bp_283, out di_285, out es_286);
										dxOut = dx_233;
										bxOut = bx_232;
										bpOut = bp_283;
										diOut = di_285;
										esOut = es_286;
										return cx_284;
									}
								}
								byte bl_300 = (byte) ax_230;
								ui8 ch_303 = 0x01 << (bl_300 & 0x07);
								si_197 = si_211;
								bx = ax_230 >> 0x03;
								Eq_1473 al_330 = (byte) ax_230;
								cx = SEQ(ch_303, bl_300 & 0x07);
								if ((Mem226[ss:fp - 0x0022 + (ax_230 >>u 0x03):byte] & ch_303) != 0x00)
								{
									if ((bLoc2B_1100 & 0x10) != 0x00)
										goto l0800_1A37;
								}
								else if ((bLoc2B_1100 & 0x10) == 0x00)
								{
l0800_1A37:
									struct Eq_2177 Eq_1494::* sp_350;
									(seg0800->*wArg04)();
									wLoc04 = wArg06;
									cx_359.u0 = (ss->*sp_350).t0002.u0;
									es = (ss->*sp_350).ptr0004;
									dx = dx_354;
									dx = dx_354;
									cx = cx_359;
									cx = cx_359;
									bx = bx_353;
									bx = bx_353;
									if (si_211 + 0x01 < v66_194)
										break;
									goto l0800_1A54;
								}
								es_di_1597 = es_di_1617;
								dx = dx_233;
								es_di_1617 = es_di_1597;
								if ((bLoc2B_1100 & 0x01) == 0x00)
								{
									es_di_1617->t0000.u0 = (byte) al_330;
									es_di_1597 = (struct Eq_1717 *) ((word16) di + 1);
									dx = dx_233;
								}
							}
							if ((bLoc2B_1100 & 0x01) == 0x00)
							{
l0800_1A54:
								es->*di = 0x00;
								di = (word16) di + 1;
							}
							goto l0800_16A4;
						}
						if (al_1009 != 0x2D || (dl_156 > (ds->*si_1018).b0000 || (ds->*si_1018).b0000 == 0x5D))
							goto l0800_19A4;
						++si_1018;
						cu8 al_394 = (ds->*si_1018).b0000 - dl_156;
						if (al_394 != 0x00)
						{
							dl_156 += al_394;
							do
							{
								ch_1040 = __rol<byte,byte>(ch_1040, 0x01);
								di_1032 = (word16) di_1032 + ((ch_1040 & 0x80) != 0x00);
								Mem409[ss:fp - 0x0022 + di_1032:byte] = Mem407[ss:fp - 0x0022 + di_1032:byte] | ch_1040;
								--al_394;
							} while (al_394 != 0x00);
						}
					}
					ptr16 di_187;
					struct Eq_1477 * es_188;
					ptr16 bp_186 = fn0800_1A80(&(ss->*(fp - 2)), out di_187, out es_188);
					dxOut = dx_1475;
					bxOut = bx_75 << 0x01;
					bpOut = bp_186;
					diOut = di_187;
					esOut = es_188;
					return cx_1390;
				case 0x11:
					ax_118 = wLoc28_1089;
					dx.u0 = 0x00;
					if ((bLoc2B_1093 & 0x01) == 0x00)
						goto l0800_17FF;
					break;
				case 0x12:
					si_117.u0 = 0x10;
l0800_17C5:
					if ((ax_59 & 0x20) == 0x00)
						bLoc2B_1093 |= 0x04;
					wLoc04 = fp - 40;
					ax_118 = __scantol(ds, wArg02, wArg04, wArg06, si_117, wLoc24_1616 & 0x7FFF, fp - 40, fp - 38, out cx, out dx, out bx, out di, out es);
					if (wLoc26 > 0x00)
					{
						if ((bLoc2B_1093 & 0x01) == 0x00)
						{
l0800_17FF:
							struct Eq_1717 * es_di_1596 = fn0800_1689(fp - 2, ds);
							es_di_1596->t0000.u1 = (ptr16) ax_118;
							word16 di_644 = (word16) es_di_1596;
							es = SLICE(es_di_1596, selector, 16);
							di = di_644 + 2;
							if ((bLoc2B_1093 & 0x04) != 0x00)
							{
								es_di_1596->t0002.u1 = (ptr16) dx;
								dx = ax_118;
								di = di_644 + 4;
							}
						}
						goto l0800_16A4;
					}
					if (wLoc26 < 0x00)
					{
						ptr16 bp_617;
						ptr16 di_619;
						struct Eq_1477 * es_620;
						Eq_5 cx_618 = fn0800_1A6C(fp - 2, out bp_617, out di_619, out es_620);
						dxOut = dx;
						bxOut = bx;
						bpOut = bp_617;
						diOut = di_619;
						esOut = es_620;
						return cx_618;
					}
					else
					{
						ptr16 di_629;
						struct Eq_1477 * es_630;
						ptr16 bp_628 = fn0800_1A80(fp - 2, out di_629, out es_630);
						dxOut = dx;
						bxOut = bx;
						bpOut = bp_628;
						diOut = di_629;
						esOut = es_630;
						return cx;
					}
				case 0x13:
					word16 bp_95;
					struct Eq_1681 * es_1613;
					word16 bx_1611;
					word16 di_1612;
					fn0800_1819(fp - 2, ds, out bx_1611, out bp_95, out di_1612, out es_1613);
					ptr16 bp_107;
					Eq_1474 bx_108;
					ptr16 di_110;
					struct Eq_1477 * es_111;
					Eq_5 cx_109 = fn0800_1819(bp_95, ds, out bx_108, out bp_107, out di_110, out es_111);
					dxOut = dx;
					bxOut = bx_108;
					bpOut = bp_107;
					diOut = di_110;
					esOut = es_111;
					return cx_109;
				case 0x14:
					bLoc2B_1093 &= 223;
					break;
				case 0x15:
					bLoc2B_1093 |= 0x20;
					break;
				}
			}
l0800_1767:
			ptr16 bp_785;
			ptr16 di_787;
			struct Eq_1477 * es_788;
			Eq_5 cx_786 = fn0800_1A6C(fp - 2, out bp_785, out di_787, out es_788);
			dxOut = dx;
			bxOut = bx;
			bpOut = bp_785;
			diOut = di_787;
			esOut = es_788;
			return cx_786;
		}
l0800_16B0:
		struct Eq_1508 Eq_1494::* sp_831;
		Eq_5 ax_832;
		(seg0800->*wArg02)();
		Eq_5 ax_807 = (int16) al_32;
		wLoc28_1089 = (word16) wLoc28_1089 + 1;
		cx_838.u0 = (ss->*sp_831).t0000.u0;
		struct Eq_1521 Eq_1494::* sp_839 = (char *) &sp_831->t0000 + 2;
		Eq_5 ax_840 = ax_832;
		if (ax_832 < 0x00)
		{
l0800_16E5:
			ptr16 bp_971;
			ptr16 di_973;
			struct Eq_1477 * es_974;
			Eq_5 cx_972 = fn0800_1A6C(fp - 2, out bp_971, out di_973, out es_974);
			dxOut = dx_1448;
			bxOut = bx_1358;
			bpOut = bp_971;
			diOut = di_973;
			esOut = es_974;
			return cx_972;
		}
		di = ax_807;
		if (ax_807 >= 0x00 && ds->*((word16) ax_807 + 1322) == 0x01)
		{
			do
			{
				if ((byte) ax_840 < 0x00 || ds->*((word16) ax_840 + 1322) != 0x01)
				{
					struct Eq_1541 Eq_1494::* sp_920 = sp_839 - 2;
					(ss->*sp_920).t0000.u0 = (struct Eq_2822 *) wArg06;
					(ss->*sp_920).tFFFFFFFE.u0 = (struct Eq_2822 *) ax_840;
					struct Eq_1552 Eq_1494::* sp_933;
					(seg0800->*wArg04)();
					cx_942.u0 = (ss->*sp_933).t0002.u0;
					--wLoc28_1089;
					bx = bx_936;
					dx = dx_937;
					cx = cx_942;
					goto l0800_16A7;
				}
				(ss->*sp_839).tFFFFFFFE.u0 = (struct Eq_2822 *) wArg06;
				union Eq_5 Eq_1494::* sp_953;
				Eq_5 ax_954;
				(seg0800->*wArg02)();
				wLoc28_1089 = (word16) wLoc28_1089 + 1;
				Eq_5 cx_960 = (ss->*sp_953).u0;
				sp_839 = (struct Eq_1521 Eq_1494::*) ((char *) sp_953 + 2);
				ax_840 = ax_954;
			} while (ax_954 > 0x00);
			goto l0800_16E5;
		}
		bx = bx_1358;
		dx = dx_1448;
		cx = cx_838;
	} while (ax_832 == ax_807);
	(ss->*sp_831).t0000.u0 = (struct Eq_2822 *) wArg06;
	(ss->*sp_831).tFFFFFFFE.u0 = (struct Eq_2822 *) ax_832;
	Eq_1474 bx_873;
	Eq_1473 dx_874;
	(seg0800->*wArg04)();
	ptr16 bp_886;
	ptr16 di_888;
	struct Eq_1477 * es_889;
	Eq_5 cx_887 = fn0800_1A6C(fp - 2, out bp_886, out di_888, out es_889);
	dxOut = dx_874;
	bxOut = bx_873;
	bpOut = bp_886;
	diOut = di_888;
	esOut = es_889;
	return cx_887;
}

// 0800:1689: Sequence Eq_2272 fn0800_1689(Sequence (ptr32 Eq_1720) ss_bp, Register Eq_7 ds)
// Called from:
//      __scanner
Eq_2272 fn0800_1689(struct Eq_1720 * ss_bp, Eq_7 ds)
{
	union Eq_2272 Eq_7::* di_7 = ss_bp->ptr000C;
	if ((ss_bp->bFFFFFFD7 & 0x20) == 0x00)
	{
		Eq_2272 di_13 = (ds->*di_7).u2;
		ss_bp->ptr000C = (union Eq_2272 Eq_7::*) ((char *) ss_bp->ptr000C + 2);
		return SEQ(ds, di_13);
	}
	else
	{
		Eq_2272 es_di_21 = (ds->*di_7).u1;
		ss_bp->ptr000C = (union Eq_2272 Eq_7::*) ((char *) ss_bp->ptr000C + 4);
		return es_di_21;
	}
}

// 0800:1819: Register word16 fn0800_1819(Sequence (ptr32 Eq_1655) ss_bp, Register Eq_7 ds, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_1691) esOut)
// Called from:
//      __scanner
word16 fn0800_1819(struct Eq_1655 * ss_bp, Eq_7 ds, ptr16 & bxOut, ptr16 & bpOut, ptr16 & diOut, struct Eq_1691 & esOut)
{
	ptr16 bx_9;
	ptr16 bp_11;
	ptr16 di_12;
	struct Eq_1691 * es_13;
	word16 cx_10 = fn0800_1A87(ss_bp, ds, out bx_9, out bp_11, out di_12, out es_13);
	bxOut = bx_9;
	bpOut = bp_11;
	diOut = di_12;
	esOut = es_13;
	return cx_10;
}

// 0800:18F0: Register word16 fn0800_18F0(Sequence (ptr32 Eq_1655) ss_bp, Register Eq_7 ds, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_1660) esOut)
// Called from:
//      __scanner
word16 fn0800_18F0(struct Eq_1655 * ss_bp, Eq_7 ds, ptr16 & bxOut, ptr16 & bpOut, ptr16 & diOut, struct Eq_1660 & esOut)
{
	ptr16 bx_9;
	ptr16 bp_11;
	ptr16 di_12;
	struct Eq_1660 * es_13;
	word16 cx_10 = fn0800_1A87(ss_bp, ds, out bx_9, out bp_11, out di_12, out es_13);
	bxOut = bx_9;
	bpOut = bp_11;
	diOut = di_12;
	esOut = es_13;
	return cx_10;
}

// 0800:1A6C: Register word16 fn0800_1A6C(Sequence (ptr32 Eq_1655) ss_bp, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_1736) esOut)
// Called from:
//      __scanner
//      fn0800_1819
word16 fn0800_1A6C(struct Eq_1655 * ss_bp, ptr16 & bpOut, ptr16 & diOut, struct Eq_1736 & esOut)
{
	struct Eq_2343 * ss = SLICE(ss_bp, selector, 16);
	struct Eq_2345 Eq_2343::* sp_13;
	(seg0800->*ss_bp->ptr0006)();
	word16 cx_20 = (ss->*sp_13).w0002;
	ss_bp->wFFFFFFD8 -= (word16) (ss_bp->wFFFFFFD8 < 0x01);
	ptr16 di_30;
	struct Eq_1736 * es_31;
	bpOut = fn0800_1A80(ss_bp, out di_30, out es_31);
	diOut = di_30;
	esOut = es_31;
	return cx_20;
}

// 0800:1A80: Register word16 fn0800_1A80(Sequence (ptr32 Eq_1655) ss_bp, Register out ptr16 diOut, Register out (ptr16 Eq_1944) esOut)
// Called from:
//      __scanner
//      fn0800_1A6C
word16 fn0800_1A80(struct Eq_1655 * ss_bp, ptr16 & diOut, struct Eq_1944 & esOut)
{
	struct Eq_1944 * psegArg00;
	ptr16 wArg02;
	word16 bp_14 = ss_bp->w0000;
	diOut = wArg02;
	esOut = psegArg00;
	return bp_14;
}

// 0800:1A87: Register Eq_5 fn0800_1A87(Sequence (ptr32 Eq_1655) ss_bp, Register Eq_7 ds, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_2324) esOut)
// Called from:
//      fn0800_1819
//      fn0800_18F0
Eq_5 fn0800_1A87(struct Eq_1655 * ss_bp, Eq_7 ds, ptr16 & bxOut, ptr16 & bpOut, ptr16 & diOut, struct Eq_2324 & esOut)
{
	struct Eq_2382 Eq_2386::* fp;
	ptr16 di;
	struct Eq_2324 * es;
	Eq_2385 wLoc02;
	struct Eq_2386 * ss = SLICE(ss_bp, selector, 16);
	ptr16 bp = (word16) ss_bp;
	struct Eq_2382 Eq_2386::* sp_11 = fp;
	do
	{
		++ss_bp->wFFFFFFDA;
		(ss->*sp_11).wFFFFFFFE = ss_bp->w0008;
		Eq_2406 ax_18;
		ptr16 bx_19;
		(seg0800->*ss_bp->ptr0004)();
		sp_11 = fp - 2;
		ci8 al_42 = (byte) ax_18;
		if (ax_18 <= 0x00)
		{
			if (ax_18 == 0x00)
				break;
			ptr16 bp_33;
			ptr16 di_35;
			struct Eq_2324 * es_36;
			Eq_5 cx_34 = fn0800_1A6C(ss_bp, out bp_33, out di_35, out es_36);
			bxOut = bx_19;
			bpOut = bp_33;
			diOut = di_35;
			esOut = es_36;
			return cx_34;
		}
	} while (al_42 >= 0x00 && ds->*((word16) ax_18 + 1322) == 0x01);
	Eq_5 cx_69;
	ptr16 bx_71;
	(*((word32) wLoc02 + 3))();
	bxOut = bx_71;
	bpOut = bp;
	diOut = di;
	esOut = es;
	return cx_69;
}

// 0800:1B13: void __scantod(Register Eq_7 ds)
// Called from:
//      __scanner
void __scantod(Eq_7 ds)
{
	Mem0[ds:0x05B2:word16]();
}

// 0800:1B17: void __scanrslt(Register Eq_7 ds)
// Called from:
//      __scanner
void __scanrslt(Eq_7 ds)
{
	Mem0[ds:0x05B4:word16]();
}

// 0800:1B1B: void __scanpop(Register Eq_7 ds)
// Called from:
//      __scanner
void __scanpop(Eq_7 ds)
{
	Mem0[ds:0x05B6:word16]();
}

// 0800:1B1F: FlagGroup bool fn0800_1B1F(Register cu8 cl, Register byte bl)
// Called from:
//      __scantol
bool fn0800_1B1F(cu8 cl, byte bl)
{
	word16 bx;
	cu8 bl_8 = (byte) bx;
	bool C_40;
	cu8 bl_16 = bl_8 - 0x30;
	if (bl_8 >= 0x30)
	{
		if (bl_8 <= 0x39)
		{
l0800_1B3C:
			if (bl_16 < cl)
			{
				C_40 = false;
				return C_40;
			}
			goto l0800_1B48;
		}
		if (bl_8 <= 0x5A && bl_8 >= 0x30)
			bl_16 = bl_8 - 55;
		else
			bl_16 = bl_8 - 0x57;
		if (bl_16 > 0x09)
			goto l0800_1B3C;
	}
l0800_1B48:
	C_40 = true;
	return C_40;
}

// 0800:1B4D: Register uint16 __scantol(Register Eq_7 ds, Stack (memptr (ptr16 Eq_3) code) wArg02, Stack (memptr (ptr16 Eq_3) code) wArg04, Stack Eq_5 wArg06, Stack Eq_5 wArg08, Stack ci16 wArg0A, Stack (memptr Eq_7 word16) wArg0C, Stack (memptr Eq_7 Eq_1876) wArg0E, Register out Eq_5 cxOut, Register out Eq_1875 dxOut, Register out Eq_1876 bxOut, Register out Eq_5 diOut, Register out Eq_5 esOut)
// Called from:
//      __scanner
uint16 __scantol(Eq_7 ds, <anonymous> seg0800_t::* wArg02, <anonymous> seg0800_t::* wArg04, Eq_5 wArg06, Eq_5 wArg08, ci16 wArg0A, word16 Eq_7::* wArg0C, union Eq_1876 Eq_7::* wArg0E, union Eq_5 & cxOut, union Eq_1875 & dxOut, union Eq_1876 & bxOut, union Eq_5 & diOut, union Eq_5 & esOut)
{
	mp16 fp;
	struct Eq_2478 * ss;
	byte bLoc07_545 = 0x00;
	word16 wLoc06_546 = 0x00;
	struct Eq_2483 Eq_2478::* sp_119 = fp - 0x0E;
	do
	{
		Eq_5 cx_135;
		Eq_1875 dx_392;
		Eq_1876 wLoc04_569;
		uint16 ax_479;
		(ss->*sp_119).tFFFFFFFE.u0 = (struct Eq_2822 *) wArg06;
		union Eq_5 Eq_2478::* sp_38;
		Eq_5 ax_40;
		(seg0800->*wArg02)();
		word16 v10_27 = wLoc06_546 + 0x01;
		wLoc06_546 = v10_27;
		sp_119 = (struct Eq_2483 Eq_2478::*) ((char *) sp_38 + 2);
		Eq_5 ax_120 = ax_40;
		byte al_53 = (byte) ax_40;
		if (ax_40 < 0x00)
			goto l0800_1BDB;
		Eq_5 ax_113 = (int16) al_53;
	} while (((byte) ax_113 & 0x80) == 0x00 && (ds->*((word16) ax_113 + 0x0211) & 0x01) != 0x00);
	ax_120 = ax_113;
	byte al_80 = (byte) ax_113;
	ci16 wArg0A_556 = wArg0A - 0x01;
	if (wArg0A < 0x01)
	{
l0800_1BE2:
		wLoc04_569.u0 = 0x00;
l0800_1BE7:
		struct Eq_2551 Eq_2478::* sp_213 = sp_119 - 2;
		(ss->*sp_213).t0000.u0 = (struct Eq_2822 *) wArg06;
		(ss->*sp_213).tFFFFFFFE.u0 = (struct Eq_2822 *) ax_120;
		struct Eq_2562 Eq_2478::* sp_239;
		(seg0800->*wArg04)();
		cx_135.u0 = (ss->*sp_239).t0002.u0;
		sp_119 = (struct Eq_2483 Eq_2478::*) ((char *) &sp_239->t0002 + 2);
		--wLoc06_546;
		ax_479 = 0x00;
		dx_392.u0 = 0x00;
		goto l0800_1CA0;
	}
	if (al_80 != 0x2B)
	{
		if (al_80 != 0x2D)
			goto l0800_1BA5;
		bLoc07_545 = 0x01;
	}
	wArg0A_556 = wArg0A - 0x02;
	if (wArg0A < 0x02)
		goto l0800_1BE2;
	(ss->*sp_38).u0 = (struct Eq_2822 *) wArg06;
	word16 sp_111;
	(seg0800->*wArg02)();
	wLoc06_546 = v10_27 + 0x01;
	sp_119 = sp_111 + 2;
	ax_120 = ax_113;
	if (ax_113 < 0x00)
	{
l0800_1BDB:
		wLoc04_569.u0 = ~0x00;
		goto l0800_1BE7;
	}
l0800_1BA5:
	uint32 di_ax_778;
	uint32 di_si_782;
	uint32 di_si_534;
	byte al_136 = (byte) ax_113;
	uint16 si_129 = 0x00;
	cx_135 = wArg08;
	cu8 cl_174 = (byte) wArg08;
	if (wArg08 == 0x00)
	{
		wArg08.u0 = 0x0A;
		if (al_136 == 0x30)
		{
			ci16 v66_141 = wArg0A_556 - 0x01;
			wArg0A_556 = v66_141;
			if (v66_141 >= 0x00)
			{
				(ss->*sp_119).tFFFFFFFE.u0 = (struct Eq_2822 *) wArg06;
				union Eq_5 Eq_2478::* sp_154;
				word16 ax_156;
				(seg0800->*wArg02)();
				++wLoc06_546;
				byte al_164 = (byte) ax_156;
				cx_135.u0 = (ss->*sp_154).u0;
				sp_119 = (struct Eq_2483 Eq_2478::*) ((char *) sp_154 + 2);
				wArg08.u0 = 0x08;
				if (al_164 != 0x78)
				{
					di_ax_778 = (uint32) ax_156;
					if (al_164 != 88)
					{
l0800_1C4E:
						uint32 di_si_790;
						Eq_5 ax_290 = (word16) di_ax_778;
						ui16 di_309 = SLICE(di_ax_778, word16, 16);
						cx_135 = wArg08;
						Eq_5 ax_300 = ax_290;
						if (!fn0800_1B1F((byte) wArg08, (byte) ax_290))
						{
							di_si_790 = SEQ(di_309, si_129);
l0800_1C84:
							struct Eq_2676 Eq_2478::* sp_443 = sp_119 - 2;
							(ss->*sp_443).t0000.u0 = (struct Eq_2822 *) wArg06;
							(ss->*sp_443).tFFFFFFFE.u0 = (struct Eq_2822 *) ax_300;
							struct Eq_2687 Eq_2478::* sp_452;
							(seg0800->*wArg04)();
							cx_135.u0 = (ss->*sp_452).t0002.u0;
							sp_119 = (struct Eq_2483 Eq_2478::*) ((char *) &sp_452->t0002 + 2);
							--wLoc06_546;
							di_si_782 = di_si_790;
l0800_1C90:
							wLoc04_569.u0 = 0x01;
							dx_392 = SLICE(di_si_782, word16, 16);
							ax_479 = (word16) di_si_782;
							if (bLoc07_545 != 0x00)
							{
								Eq_2728 dx_ax_536 = -di_si_782;
								ax_479 = (word16) dx_ax_536;
								dx_392 = SLICE(dx_ax_536, word16, 16);
							}
							goto l0800_1CA0;
						}
						di_si_534 = di_ax_778 + wArg08 *32 si_129;
						if (SLICE(di_si_534, word16, 16) != 0x00)
						{
							do
							{
								ci16 v51_318 = wArg0A_556 - 0x01;
								uint16 di_330 = SLICE(di_si_534, word16, 16);
								uint16 si_329 = (word16) di_si_534;
								wArg0A_556 = v51_318;
								di_si_782 = di_si_534;
								if (v51_318 < 0x00)
									goto l0800_1C90;
								(ss->*sp_119).tFFFFFFFE.u0 = (struct Eq_2822 *) wArg06;
								word16 sp_333;
								Eq_5 ax_335;
								(seg0800->*wArg02)();
								++wLoc06_546;
								sp_119 = sp_333 + 2;
								ax_300 = ax_335;
								di_si_790 = di_si_534;
								if (!fn0800_1B1F((byte) wArg08, (byte) ax_335))
									goto l0800_1C84;
								Eq_2747 dx_ax_357 = wArg08 *32 si_329;
								Eq_2749 dx_ax_366 = wArg08 *32 di_330;
								uint32 ax_si_539 = (word32) dx_ax_357 + SEQ((word16) dx_ax_366, ax_335);
								cx_135 = SLICE(dx_ax_357, word16, 16);
								di_si_534 = ax_si_539;
							} while (SLICE(dx_ax_366, byte, 16) + SLICE(dx_ax_366, byte, 24) + (byte) (SLICE(ax_si_539, word16, 16) < 0x00) == 0x00);
							uint16 ah_al_541 = (uint16) bLoc07_545 + ~0x00;
							dx_392 = SLICE(cond(SLICE(ah_al_541, byte, 8)), bool, 1) + 0x7FFF;
							wLoc04_569.u0 = 0x02;
							ax_479 = ah_al_541;
l0800_1CA0:
							ds->*wArg0C += wLoc06_546;
							(ds->*wArg0E).u0 = (ui16) wLoc04_569;
							Eq_5 es_523 = (ss->*sp_119).t0000.u0;
							struct Eq_2659 Eq_2478::* sp_524 = &sp_119->t0002.u0;
							Eq_5 di_525 = (ss->*sp_524).t0000.u0;
							cxOut = cx_135;
							dxOut = dx_392;
							bxOut = wLoc04_569;
							diOut = di_525;
							esOut = es_523;
							return ax_479;
						}
l0800_1C3F:
						ci16 v43_401 = wArg0A_556 - 0x01;
						word16 di_418 = SLICE(di_si_534, word16, 16);
						si_129 = (word16) di_si_534;
						wArg0A_556 = v43_401;
						di_si_782 = di_si_534;
						if (v43_401 < 0x00)
							goto l0800_1C90;
						(ss->*sp_119).tFFFFFFFE.u0 = (struct Eq_2822 *) wArg06;
						word16 sp_429;
						word16 ax_431;
						(seg0800->*wArg02)();
						++wLoc06_546;
						sp_119 = sp_429 + 2;
						di_ax_778 = SEQ(di_418, ax_431);
						goto l0800_1C4E;
					}
				}
				wArg08.u0 = 0x10;
l0800_1C26:
				di_si_534 = 0x00;
				goto l0800_1C3F;
			}
			goto l0800_1BF9;
		}
		goto l0800_1C28;
	}
	ax_120 = ax_113;
	if (wArg08 > 0x24)
		goto l0800_1BE2;
	ax_120 = ax_113;
	if (cl_174 >= 0x02)
	{
		if (al_136 == 0x30)
		{
			if (cl_174 != 0x10)
				goto l0800_1C26;
			ci16 v34_260 = wArg0A_556 - 0x01;
			wArg0A_556 = v34_260;
			if (v34_260 >= 0x00)
			{
				(ss->*sp_119).tFFFFFFFE.u0 = (struct Eq_2822 *) wArg06;
				union Eq_5 Eq_2478::* sp_270;
				word16 ax_272;
				(seg0800->*wArg02)();
				++wLoc06_546;
				byte al_279 = (byte) ax_272;
				cx_135.u0 = (ss->*sp_270).u0;
				sp_119 = (struct Eq_2483 Eq_2478::*) ((char *) sp_270 + 2);
				if (al_279 != 0x78 && al_279 != 88)
				{
					di_ax_778 = (uint32) ax_272;
					goto l0800_1C4E;
				}
				goto l0800_1C26;
			}
l0800_1BF9:
			di_si_782 = 0x00;
			goto l0800_1C90;
		}
l0800_1C28:
		cx_135 = wArg08;
		ax_120 = ax_113;
		if (!fn0800_1B1F((byte) wArg08, (byte) ax_113))
		{
			di_si_534 = (uint32) ax_113;
			goto l0800_1C3F;
		}
		goto l0800_1BE2;
	}
	goto l0800_1BE2;
}

<anonymous> g_t1CE6 = <code>; // 0800:1CE6
