// subject_0800.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

struct seg0800_t * g_ptr8000 = &g_t6BBA; // 00008000
// 0800:010D: void __exit()
// Called from:
//      _exit
void __exit()
{
	struct Eq_33 * ds_5 = seg0800->ptr01C7;
	__restorezero(ds_5);
	struct Eq_40 Eq_47::* sp_9;
	(seg0800->*ds_5->ptr0540)();
	msdos_terminate((ss->*sp_9).b0004);
}

// 0800:0172: void __restorezero(Register (ptr16 Eq_33) ds)
// Called from:
//      __exit
void __restorezero(struct Eq_33 * ds)
{
	msdos_set_interrupt_vector(0x00, ds->ptr005B);
	msdos_set_interrupt_vector(0x04, ds->ptr005F);
	msdos_set_interrupt_vector(0x05, ds->ptr0063);
	msdos_set_interrupt_vector(0x06, ds->ptr0067);
}

struct Eq_33 * g_ptr01C7 = null; // 0800:01C7
// 0800:03B2: void __REALCVT(Register Eq_84 ds)
// Called from:
//      __VPRINTER
void __REALCVT(Eq_84 ds)
{
	(*((word32) ds + 0x0544))();
}

// 0800:03B6: void __scantod(Register Eq_84 ds)
// Called from:
//      __scanner
void __scantod(Eq_84 ds)
{
	(*((word32) ds + 0x0548))();
}

// 0800:03BA: void __scanrslt(Register Eq_84 ds)
// Called from:
//      __scanner
void __scanrslt(Eq_84 ds)
{
	(*((word32) ds + 0x054C))();
}

// 0800:03BE: void __scanpop(Register Eq_84 ds)
// Called from:
//      __scanner
void __scanpop(Eq_84 ds)
{
	(*((word32) ds + 0x0550))();
}

// subject_083C.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 083C:0002: void _main(Register Eq_84 cx, Register Eq_84 dx, Register Eq_84 bx, Register Eq_84 ds)
void _main(Eq_84 cx, Eq_84 dx, Eq_84 bx, Eq_84 ds)
{
	Eq_100 di_27;
	_printf(cx, dx, bx, ds, SEQ(ds, 0x94), out di_27);
	word16 sp_56 = <invalid>;
	struct Eq_115 Eq_84::* bp_104;
	Eq_84 bx_105;
	Eq_84 dx_124;
	word16 cx_129 = _scanf(di_27, ds, 177, ds, out dx_124, out bx_105, out bp_104);
	struct Eq_133 Eq_84::* sp_150 = (char *) &sp_56->t0006 + 2;
	ci16 si_152 = 0x01;
	while (si_152 <= (ss->*bp_104).wFFFFFFFC)
	{
		struct Eq_143 Eq_84::* sp_72 = sp_150 - 2;
		(ss->*sp_72).t0000 = ds;
		(ss->*sp_72).tFFFFFFFE.u0 = 0xB4;
		Eq_100 di_82;
		_printf(cx_129, dx_124, bx_105, ds, (ss->*sp_72).tFFFFFFFE, out di_82);
		(ss->*sp_72).t0000 = ss;
		(ss->*sp_72).tFFFFFFFE = bp_104 - 0x02;
		(ss->*sp_72).tFFFFFFFC = ds;
		Mem102[ss:sp_72 + -6:word16] = 0xC3;
		word16 dx_169;
		_scanf(di_82, ds, (ss->*sp_72).ptrFFFFFFFA, (ss->*sp_72).tFFFFFFFC, out dx_169, out bx_105, out bp_104);
		word16 sp_111 = <invalid>;
		(ss->*sp_111).t0006 = (ss->*bp_104).tFFFFFFFE;
		Eq_84 ax_122 = _fib((ss->*sp_111).t0006, out dx_124);
		cx_129 = (ss->*sp_111).t0006;
		(ss->*sp_111).t0006 = ax_122;
		(ss->*sp_111).t0004 = (ss->*bp_104).tFFFFFFFE;
		(ss->*sp_111).t0002 = ds;
		(ss->*sp_111).t0000.u0 = 0xC6;
		sp_150 = (struct Eq_133 Eq_84::*) ((char *) &sp_111->t0006 + 2);
		word16 di_170;
		si_152 = _printf(cx_129, dx_124, bx_105, ds, (ss->*sp_111).t0000, out di_170) + 0x01;
	}
	struct Eq_232 Eq_84::* sp_157 = sp_150 - 2;
	(ss->*sp_157).t0000.u0 = 0x00;
	_exit(ds, (ss->*sp_157).t0000);
}

// 083C:007C: Register word16 _fib(Stack Eq_84 wArg04, Register out Eq_84 dxOut)
// Called from:
//      _main
//      _fib
word16 _fib(Eq_84 wArg04, union Eq_84 & dxOut)
{
	word16 ax_15;
	if (wArg04 > 0x02)
	{
		word16 dx_87;
		Eq_84 ax_22 = _fib(wArg04 - 0x01, out dx_87);
		word16 dx_88;
		Eq_84 ax_37 = _fib((word32) wArg04 + 0x0000FFFE, out dx_88);
		dx = ax_37;
		ax_15 = ax_22 + ax_37;
	}
	else
		ax_15 = 0x01;
	dxOut = dx;
	return ax_15;
}

// subject_084A.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 084A:000A: void _exit(Register Eq_84 ds, Stack Eq_107 wArg04)
// Called from:
//      _main
void _exit(Eq_84 ds, Eq_107 wArg04)
{
	while (true)
	{
		ui16 ax_11 = *((word32) ds + 0x0144);
		--*((word32) ds + 0x0144);
		if (ax_11 == 0x00)
			break;
		ui16 bx_18 = *((word32) ds + 0x0144);
		SEQ(ds, 0x0554)[bx_18 * 0x04]();
	}
	(*((word32) ds + 310))();
	(*((word32) ds + 314))();
	struct Eq_290 Eq_293::* sp_44;
	(*((word32) ds + 318))();
	(ss->*sp_44).tFFFFFFFE = wArg04;
	__exit();
}

// subject_08AE.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

<anonymous> g_t00F3 = <code>; // 08AE:00F3
// subject_0918.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0918:000A: void __LONGTOA(Stack Eq_84 bArg04, Stack Eq_84 bArg06, Stack Eq_302 wArg08, Stack Eq_84 ptrArg0A, Stack Eq_84 wArg0E, Stack Eq_84 wArg10)
// Called from:
//      __VPRINTER
void __LONGTOA(Eq_84 bArg04, Eq_84 bArg06, Eq_302 wArg08, Eq_84 ptrArg0A, Eq_84 wArg0E, Eq_84 wArg10)
{
	struct Eq_306 * es_34 = SLICE(ptrArg0A, selector, 16);
	byte Eq_306::* di_121 = (word16) ptrArg0A;
	cu8 bl_23 = (byte) wArg08;
	if (wArg08 > 0x24 || bl_23 < 0x02)
	{
l0918_007A:
		es_34->*di_121 = 0x00;
		return;
	}
	Eq_84 ax_26 = wArg0E;
	Eq_84 cx_28 = wArg10;
	if (wArg10 < 0x00 && bArg06 != 0x00)
	{
		ptrArg0A->u0 = 0x2D;
		++di_121;
		ax_26 = -wArg0E;
		cx_28 = -wArg10 - (wArg0E != 0x00);
	}
	byte Eq_347::* si_104 = fp - 0x24;
	if (cx_28 != 0x00)
	{
		do
		{
			uint32 dx_ax_52 = (uint32) cx_28;
			uint32 dx_ax_60 = SEQ((uint16) (dx_ax_52 % wArg08), ax_26);
			ss->*si_104 = (byte) (dx_ax_60 % wArg08);
			Eq_84 ax_56 = (uint16) (dx_ax_52 /u wArg08);
			cx_28 = ax_56;
			ax_26 = (uint16) (dx_ax_60 /u wArg08);
			++si_104;
		} while (ax_56 != 0x00);
l0918_005C:
		if (ax_26 == 0x00)
		{
			word16 cx_101 = si_104 + (0x24 - fp);
			do
			{
				byte al_113;
				--si_104;
				cu8 al_108 = ss->*si_104;
				if (al_108 < 0x0A)
					al_113 = al_108 + 0x30;
				else
					al_113 = (byte) bArg04.u0 + (al_108 - 0x0A);
				es_34->*di_121 = al_113;
				++di_121;
				--cx_101;
			} while (cx_101 != 0x00);
			goto l0918_007A;
		}
	}
	uint32 dx_ax_79 = (uint32) ax_26;
	ss->*si_104 = (byte) (dx_ax_79 % wArg08);
	ax_26 = (uint16) (dx_ax_79 /u wArg08);
	++si_104;
	goto l0918_005C;
}

// subject_093D.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 093D:000E: Register word16 _printf(Register Eq_84 cx, Register Eq_84 dx, Register Eq_84 bx, Register Eq_84 ds, Stack Eq_107 dwArg04, Register out ptr16 diOut)
// Called from:
//      _main
word16 _printf(Eq_84 cx, Eq_84 dx, Eq_84 bx, Eq_84 ds, Eq_107 dwArg04, ptr16 & diOut)
{
	ptr16 di_36;
	word16 si_37 = __VPRINTER(cx, dx, bx, ds, &(ss->*((char *) fp + 8)), dwArg04, out di_36);
	diOut = di_36;
	return si_37;
}

// subject_0967.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0967:000C: Register word16 fn0967_000C(Sequence (ptr32 Eq_423) es_di, Register Eq_84 ds, Stack Eq_84 wArg02)
// Called from:
//      __VPRINTER
word16 fn0967_000C(struct Eq_423 * es_di, Eq_84 ds, Eq_84 wArg02)
{
	word16 di = (word16) es_di;
	bcu8 dh_13 = SLICE(wArg02, byte, 8);
	Mem21[es_di + 0x00:byte] = Mem7[ds:CONVERT(dh_13 >>u 0x04, byte, uint16) + 1101:byte];
	Mem27[es_di + 1:byte] = Mem21[ds:CONVERT(dh_13 & 0x0F, byte, uint16) + 1101:byte];
	bcu8 dl_29 = (byte) wArg02;
	Mem33[es_di + 2:byte] = Mem27[ds:CONVERT(dl_29 >>u 0x04, byte, uint16) + 1101:byte];
	Mem40[es_di + 3:byte] = Mem33[ds:CONVERT(dl_29 & 0x0F, byte, uint16) + 1101:byte];
	return di + 4;
}

// 0967:0037: Register word16 __VPRINTER(Register Eq_84 cx, Register Eq_84 dx, Register Eq_84 bx, Register Eq_84 ds, Stack (ptr32 Eq_412) ptrArg04, Stack Eq_107 ptrArg08, Register out ptr16 diOut)
// Called from:
//      _printf
word16 __VPRINTER(Eq_84 cx, Eq_84 dx, Eq_84 bx, Eq_84 ds, struct Eq_412 * ptrArg04, Eq_107 ptrArg08, ptr16 & diOut)
{
	ci8 bLoc57_1238 = 0x50;
	struct Eq_472 Eq_84::* sp_112 = fp - 0xA0;
	byte Eq_84::* wLoc98_1241 = fp - 0x56;
l0967_009F:
	byte Eq_84::* di_1024 = wLoc98_1241;
l0967_00A3:
	Eq_84 psegArg0A_1688 = SLICE(ptrArg08, selector, 16);
	byte Eq_84::* si_1114 = (word16) ptrArg08;
	struct Eq_628 * es_1149 = SLICE(ptrArg08, selector, 16);
	while (true)
	{
		byte al_37 = ds->*si_1114;
		++si_1114;
		byte al_1057 = al_37;
		if (al_37 == 0x00)
			break;
		if (al_37 == 0x25)
		{
			al_1057 = ds->*si_1114;
			++si_1114;
			if (al_1057 != 0x25)
			{
				wLoc98_1241 = di_1024;
				cu8 ch_1143 = 0x00;
				Eq_84 wLoc8E_1246 = 0x00;
				cui16 wLoc9A_1247 = 0x20;
				byte bLoc8F_1248 = 0x00;
				Eq_84 wLoc94_1249 = ~0x00;
				Eq_84 wLoc92_1250 = ~0x00;
				while (true)
				{
					Eq_84 ax_65 = (uint16) al_1057;
					cu8 bl_68 = (byte) ax_65;
					byte bh_73 = SLICE(ax_65, byte, 8);
					word16 wArg04_1256 = (word16) ptrArg04;
					word16 wArg06_1583 = SLICE(ptrArg04, word16, 16);
					dx = ax_65;
					byte dl_133 = (byte) ax_65;
					bx = SEQ(bh_73, bl_68 - 0x20);
					cx = SEQ(ch_1143, 0x00);
					if (bl_68 >= 0x80)
						break;
					byte bl_76 = ds->*((word32) bx + 1117);
					bx = SEQ(bh_73, bl_76);
					cx = SEQ(ch_1143, 0x00);
					if (bx > 0x17)
						goto l0967_0546;
					byte * es_di_1945;
					byte * es_di_1958;
					Eq_84 bx_1952;
					Eq_84 bx_1962;
					byte * es_di_1949;
					Eq_84 bx_1942;
					byte bLoc95_1293;
					Eq_84 cx_176;
					byte Eq_586::* di_501;
					struct Eq_586 * es_504;
					Eq_84 dx_369;
					Eq_84 ax_368;
					struct Eq_589 * es_366;
					word16 di_367;
					bx <<= 0x01;
					cx = SEQ(ch_1143, 0x00);
					switch (bx)
					{
					case 0x00:
						cx = SEQ(ch_1143, 0x00);
						if (ch_1143 > 0x00)
							goto l0967_0144;
						if (bLoc8F_1248 != 0x2B)
							bLoc8F_1248 = dl_133;
						break;
					case 0x01:
						cx = SEQ(ch_1143, 0x00);
						if (ch_1143 > 0x00)
							goto l0967_0144;
						wLoc9A_1247 |= 0x01;
						break;
					case 0x02:
						struct Eq_628 * Eq_84::* sp_934 = sp_112 - 2;
						ss->*sp_934 = es_1149;
						Eq_84 ax_940 = ptrArg04->w0000;
						es_1149 = ss->*sp_934;
						ptrArg04 = SEQ(wArg06_1583, wArg04_1256 + 0x02);
						if (ch_1143 < 0x02)
						{
							wLoc94_1249 = ax_940;
							ch_1143 = 0x03;
							goto l0967_01B7;
						}
						cx = SEQ(ch_1143, 0x00);
						if (ch_1143 != 0x04)
							goto l0967_019D;
						wLoc92_1250 = ax_940;
						++ch_1143;
						break;
					case 0x03:
						cx = SEQ(ch_1143, 0x00);
						if (ch_1143 > 0x00)
							goto l0967_0144;
						wLoc9A_1247 |= 0x02;
						break;
					case 0x04:
						cx = SEQ(ch_1143, 0x00);
						if (ch_1143 >= 0x04)
							goto l0967_019D;
						ch_1143 = 0x04;
						break;
					case 0x05:
						goto l0967_01D2;
					case 0x06:
						wLoc9A_1247 |= 0x10;
						ch_1143 = 0x05;
						break;
					case 0x07:
						wLoc9A_1247 = (wLoc9A_1247 | 0x0100) & ~0x10;
						ch_1143 = 0x05;
						break;
					case 0x08:
						wLoc9A_1247 = wLoc9A_1247 & ~0x10 | 0x80;
						ch_1143 = 0x05;
						break;
					case 0x09:
						if (ch_1143 <= 0x00)
						{
							if ((wLoc9A_1247 & 0x02) != 0x00)
								goto l0967_01B7;
							wLoc9A_1247 |= 0x08;
							ch_1143 = 0x01;
						}
						else
						{
l0967_01D2:
							dx = bx;
							Eq_84 ax_885 = (int16) ((byte) ax_65 - 0x30);
							if (ch_1143 <= 0x02)
							{
								ch_1143 = 0x02;
								wLoc94_1249 = ax_885;
								if (wLoc94_1249 < 0x00)
									goto l0967_01B7;
								wLoc94_1249 = (word32) ax_885 + ((wLoc94_1249 << 0x03) + (wLoc94_1249 << 0x01));
							}
							else
							{
								cx = SEQ(ch_1143, 0x00);
								if (ch_1143 != 0x04)
								{
l0967_019D:
									goto l0967_0546;
								}
								wLoc92_1250 = ax_885;
								if (wLoc92_1250 >= 0x00)
									wLoc92_1250 = (word32) ax_885 + ((wLoc92_1250 << 0x03) + (wLoc92_1250 << 0x01));
								else
								{
l0967_01B7:
								}
							}
						}
						break;
					case 0x0A:
						int32 dx_ax_379 = (int32) ptrArg04->w0000;
						bLoc95_1293 = 0x01;
						es_366 = SLICE(ptrArg04, selector, 16);
						di_367 = (word16) ptrArg04;
						ax_368 = (word16) dx_ax_379;
						dx_369 = SLICE(dx_ax_379, word16, 16);
						bx_1942 = SEQ(0x0A, bl_76 << 0x01);
						goto l0967_0276;
					case 11:
						bx_1962 = SEQ(0x08, bl_76 << 0x01);
						goto l0967_024C;
					case 0x0C:
						bx_1952 = SEQ(0x0A, bl_76 << 0x01);
						goto l0967_0251;
					case 0x0D:
						bx_1962 = SEQ(0x10, dl_133 + 233);
l0967_024C:
						bLoc8F_1248 = 0x00;
						bx_1952 = bx_1962;
l0967_0251:
						bLoc95_1293 = 0x00;
						es_366 = SLICE(ptrArg04, selector, 16);
						di_367 = (word16) ptrArg04;
						ax_368 = ptrArg04->w0000;
						dx_369.u0 = 0x00;
						bx_1942 = bx_1952;
l0967_0276:
						struct Eq_839 Eq_589::* di_381 = di_367 + 0x01;
						byte bh_448 = SLICE(bx_1942, byte, 8);
						struct Eq_844 Eq_589::* di_382 = &di_381->t0001;
						ptrArg08 = SEQ(psegArg0A_1688, si_1114);
						if ((wLoc9A_1247 & 0x10) != 0x00)
						{
							dx_369 = (es_366->*di_381).t0001;
							di_382 = (struct Eq_844 Eq_589::*) ((char *) &di_381->t0001 + 2);
						}
						ptrArg04 = SEQ(wArg06_1583, di_382);
						if (ax_368 == 0x00)
						{
							dx = dx_369;
							byte dh_1142 = SLICE(dx_369, byte, 8);
							if (dx_369 != 0x00)
								goto l0967_02C6;
							bx = bx_1942;
							if (wLoc92_1250 == 0x00)
							{
								cx = wLoc94_1249;
								if (wLoc94_1249 != 0x00 && wLoc94_1249 != ~0x00)
								{
									byte dl_829;
									if ((wLoc9A_1247 & 0x08) != 0x00)
										dl_829 = 0x30;
									else
										dl_829 = 0x20;
									do
									{
										dx = SEQ(dh_1142, dl_829);
										di_1024 = fn0967_005D(SEQ(ss, fp - 2), dl_829, cx, dx, bx_1942, di_1024);
										--cx;
									} while (cx != 0x00);
								}
								goto l0967_00A3;
							}
						}
						else
						{
l0967_02C6:
							wLoc9A_1247 |= 0x04;
						}
						struct Eq_901 Eq_84::* sp_431 = sp_112 - 2;
						(ss->*sp_431).t0000 = dx_369;
						(ss->*sp_431).tFFFFFFFE = ax_368;
						(ss->*sp_431).tFFFFFFFC = ss;
						(ss->*sp_431).tFFFFFFFA = fp - 0x89;
						Eq_302 ax_453 = (int16) bh_448;
						(ss->*sp_431).tFFFFFFF8 = ax_453;
						(ss->*sp_431).tFFFFFFF6 = SEQ(SLICE(ax_453, byte, 8), bLoc95_1293);
						(ss->*sp_431).tFFFFFFF4 = bx_1942;
						__LONGTOA((ss->*sp_431).tFFFFFFF4, (ss->*sp_431).tFFFFFFF6, (ss->*sp_431).tFFFFFFF8, (ss->*sp_431).tFFFFFFFA, (ss->*sp_431).tFFFFFFFE, (ss->*sp_431).t0000);
						(ss->*sp_431).t0000 = ss;
						Eq_84 es_482 = (ss->*sp_431).t0000;
						sp_112 = (struct Eq_472 Eq_84::*) ((char *) &sp_431->t0000 + 2);
						dx = wLoc92_1250;
						if (wLoc92_1250 > 0x00)
						{
							es_di_1949 = SEQ(es_482, fp - 0x89);
							goto l0967_041A;
						}
						else
						{
							es_di_1958 = SEQ(es_482, fp - 0x89);
							goto l0967_040A;
						}
					case 0x0E:
						struct Eq_698 Eq_84::* sp_281 = sp_112 - 2;
						(ss->*sp_281).t0000 = ptrArg04->w0000;
						word16 bx_279 = (word16) ptrArg04;
						byte Eq_84::* di_276 = fp - 0x8A;
						ptrArg08 = SEQ(psegArg0A_1688, si_1114);
						ptrArg04 = SEQ(wArg06_1583, bx_279 + 0x02);
						if ((wLoc9A_1247 & 0x20) != 0x00)
						{
							(ss->*sp_281).tFFFFFFFE = ptrArg04->w0002;
							(ss->*sp_281).tFFFFFFFC = ss;
							Eq_84 es_298 = (ss->*sp_281).tFFFFFFFC;
							byte Eq_84::* di_304 = fn0967_000C(SEQ(es_298, fp - 0x8A), ds, (ss->*sp_281).tFFFFFFFE);
							es_298->*di_304 = 0x3A;
							di_276 = di_304 + 1;
							ptrArg04 = SEQ(wArg06_1583, bx_279 + 0x04);
						}
						(ss->*sp_281).tFFFFFFFE = ss;
						Eq_84 es_319 = (ss->*sp_281).tFFFFFFFE;
						byte Eq_84::* di_327 = fn0967_000C(SEQ(es_319, di_276), ds, (ss->*sp_281).t0000);
						ss->*di_327 = 0x00;
						sp_112 = (struct Eq_472 Eq_84::*) ((char *) &sp_281->t0000 + 2);
						wLoc9A_1247 &= ~0x04;
						Eq_84 di_342 = di_327 - (fp - 0x8A);
						dx = wLoc92_1250;
						if (wLoc92_1250 <= di_342)
							dx = di_342;
						es_di_1958 = SEQ(es_319, fp - 0x8A);
						goto l0967_040A;
					case 0x0F:
						Eq_84 es_221 = SLICE(ptrArg04, selector, 16);
						Eq_84 di_226 = (word16) ptrArg04;
						Eq_84 cx_213 = wLoc92_1250;
						ptrArg08 = SEQ(psegArg0A_1688, si_1114);
						if (wLoc92_1250 < 0x00)
							cx_213.u0 = 0x06;
						word16 wLoc06_1277;
						word16 ax_252;
						struct Eq_1152 Eq_84::* sp_219 = sp_112 - 2;
						(ss->*sp_219).t0000 = es_221;
						(ss->*sp_219).tFFFFFFFE = di_226;
						(ss->*sp_219).tFFFFFFFC = cx_213;
						(ss->*sp_219).tFFFFFFFA = ss;
						(ss->*sp_219).tFFFFFFF8 = fp - 0x89;
						(ss->*sp_219).tFFFFFFF6 = ax_65;
						(ss->*sp_219).tFFFFFFF4 = wLoc9A_1247 & 0x01;
						if ((wLoc9A_1247 & 0x80) != 0x00)
						{
							ax_252 = 0x02;
							wLoc06_1277 = 0x04;
						}
						else if ((wLoc9A_1247 & 0x0100) != 0x00)
						{
							ax_252 = 0x08;
							wLoc06_1277 = 0x0A;
						}
						else
						{
							wLoc06_1277 = 0x08;
							ax_252 = 0x06;
						}
						(ss->*sp_219).wFFFFFFF2 = ax_252;
						__REALCVT(ds);
						(ss->*sp_219).tFFFFFFF0 = ss;
						sp_112 = sp_219 - 0x0E;
						ptrArg04 = SEQ(wArg06_1583, wArg04_1256 + wLoc06_1277);
						es_di_1958 = SEQ((ss->*sp_219).tFFFFFFF0, fp - 0x89);
l0967_040A:
						es_504 = SLICE(es_di_1958, selector, 16);
						di_501 = (word16) es_di_1958;
						if ((wLoc9A_1247 & 0x08) != 0x00)
						{
							dx = wLoc94_1249;
							es_di_1949 = es_di_1958;
							if (wLoc94_1249 > 0x00)
							{
l0967_041A:
								es_504 = SLICE(es_di_1949, selector, 16);
								di_501 = (word16) es_di_1949;
								Eq_84 cx_508 = fn0967_0050(di_501, es_504);
								if (*es_di_1949 == 0x2D)
									--cx_508;
								dx -= cx_508;
								if (dx > 0x00)
									wLoc8E_1246 = dx;
							}
						}
						if (bLoc8F_1248 != 0x00 && es_504->*di_501 != 0x2D)
						{
							--di_501;
							es_504->*di_501 = bLoc8F_1248;
							Eq_1108 v41_544 = wLoc8E_1246 - 0x01;
							wLoc8E_1246 = (word16) v41_544 + (word16) (v41_544 < 0x00);
						}
						cx_176 = fn0967_0050(di_501, es_504);
						es_di_1945 = &(es_504->*di_501);
						goto l0967_044B;
					case 0x10:
						union Eq_84 Eq_84::* sp_197 = sp_112 - 2;
						ss->*sp_197 = ss;
						sp_112 = (struct Eq_472 Eq_84::*) ((char *) sp_197 + 2);
						cx_176.u0 = 0x01;
						ptrArg08 = SEQ(psegArg0A_1688, si_1114);
						ptrArg04 = SEQ(wArg06_1583, wArg04_1256 + 0x02);
						es_di_1945 = SEQ(ss->*sp_197, fp - 0x89);
						goto l0967_044B;
					case 0x11:
						byte * es_di_140;
						bool v71_1231;
						byte * Eq_84::* di_139 = (word16) ptrArg04;
						ptrArg08 = SEQ(psegArg0A_1688, si_1114);
						if ((wLoc9A_1247 & 0x20) == 0x00)
						{
							<type-error> Eq_84::* di_150 = ptrArg04->w0000;
							union Eq_84 Eq_84::* sp_153 = sp_112 - 2;
							ss->*sp_153 = ds;
							v71_1231 = di_150 != 0x00;
							ptrArg04 = SEQ(wArg06_1583, wArg04_1256 + 0x02);
							es_di_140 = SEQ(ss->*sp_153, di_150);
						}
						else
						{
							es_di_140 = ds->*di_139;
							v71_1231 = (SLICE(es_di_140, selector, 16) | (word16) es_di_140) != 0x00;
							ptrArg04 = SEQ(wArg06_1583, wArg04_1256 + 0x04);
						}
						byte * es_di_1955 = es_di_140;
						if (!v71_1231)
						{
							union Eq_84 Eq_84::* sp_164 = sp_112 - 2;
							ss->*sp_164 = ds;
							es_di_1955 = SEQ(Mem167[ss:sp_164 + 0x00:selector], 0x0446);
						}
						cx_176 = fn0967_0050((word16) es_di_1955, SLICE(es_di_1955, selector, 16));
						if (cx_176 > wLoc92_1250)
							cx_176 = wLoc92_1250;
						es_di_1945 = es_di_1955;
l0967_044B:
						byte Eq_84::* di_562 = (word16) es_di_1945;
						byte Eq_84::* si_1133 = di_562;
						Eq_84 bx_575 = wLoc94_1249;
						if ((wLoc9A_1247 & 0x05) == 0x05)
						{
							if (dl_133 != 111)
							{
								if (dl_133 == 0x78 || dl_133 == 88)
								{
									Eq_84 v38_596 = wLoc8E_1246 - 0x02;
									wLoc9A_1247 |= 0x40;
									bx_575 = wLoc94_1249 - 0x02;
									wLoc8E_1246 = v38_596;
									if (v38_596 < 0x00)
										wLoc8E_1246.u0 = 0x00;
								}
l0967_0498:
								cx = cx_176 + wLoc8E_1246;
								if ((wLoc9A_1247 & 0x02) == 0x00)
								{
									for (; bx_575 > cx; --bx_575)
										di_1024 = fn0967_005D(SEQ(ss, fp - 2), 0x20, cx, dx, bx_575, di_1024);
								}
								if ((wLoc9A_1247 & 0x40) != 0x00)
									di_1024 = fn0967_005D(SEQ(ss, fp - 2), dl_133, cx, dx, bx_575, fn0967_005D(SEQ(ss, fp - 2), 0x30, cx, dx, bx_575, di_1024));
								dx = wLoc8E_1246;
								if (wLoc8E_1246 > 0x00)
								{
									Eq_84 cx_683 = cx - wLoc8E_1246;
									bx_575 -= wLoc8E_1246;
									byte al_700 = *es_di_1945;
									if (al_700 == 0x2D || (al_700 == 0x20 || al_700 == 0x2B))
									{
										si_1133 = di_562 + 1;
										di_1024 = fn0967_005D(SEQ(ss, fp - 2), ds->*di_562, cx_683, wLoc8E_1246, bx_575, di_1024);
										--cx_683;
										--bx_575;
									}
									Eq_84 cx_752 = wLoc8E_1246;
									if (wLoc8E_1246 != 0x00)
									{
										do
										{
											di_1024 = fn0967_005D(SEQ(ss, fp - 2), 0x30, cx_752, cx_683, bx_575, di_1024);
											--cx_752;
										} while (cx_752 != 0x00);
									}
									dx = cx_752;
									cx = cx_683;
								}
								if (cx != 0x00)
								{
									bx_575 -= cx;
									do
									{
										ss->*di_1024 = ds->*si_1133;
										ci8 v43_787 = bLoc57_1238 - 0x01;
										++si_1133;
										++di_1024;
										bLoc57_1238 = v43_787;
										if (v43_787 <= 0x00)
											di_1024 = fn0967_0066(SEQ(ss, fp - 2), cx, dx, bx_575, di_1024);
										--cx;
									} while (cx != 0x00);
								}
								bx = bx_575;
								if (bx_575 > 0x00)
								{
									cx = bx_575;
									do
									{
										di_1024 = fn0967_005D(SEQ(ss, fp - 2), 0x20, cx, dx, bx_575, di_1024);
										--cx;
									} while (cx != 0x00);
								}
								goto l0967_00A3;
							}
							if (wLoc8E_1246 <= 0x00)
								wLoc8E_1246.u0 = 0x01;
						}
						goto l0967_0498;
					case 0x12:
						uint16 * es_di_103;
						uint16 * Eq_84::* di_102 = (word16) ptrArg04;
						ptrArg08 = SEQ(psegArg0A_1688, si_1114);
						if ((wLoc9A_1247 & 0x20) == 0x00)
						{
							<type-error> Eq_84::* di_108 = ptrArg04->w0000;
							union Eq_84 Eq_84::* sp_113 = sp_112 - 2;
							ss->*sp_113 = ds;
							ptrArg04 = SEQ(wArg06_1583, wArg04_1256 + 0x02);
							es_di_103 = SEQ(ss->*sp_113, di_108);
						}
						else
						{
							es_di_103 = ds->*di_102;
							ptrArg04 = SEQ(wArg06_1583, wArg04_1256 + 0x04);
						}
						*es_di_103 = (uint16) (0x50 - bLoc57_1238);
						goto l0967_009F;
					case 0x13:
					case 0x14:
					case 0x15:
						goto l0967_0546;
					case 22:
						wLoc9A_1247 &= ~0x20;
						ch_1143 = 0x05;
						break;
					case 0x17:
						wLoc9A_1247 |= 0x20;
						ch_1143 = 0x05;
						break;
					}
					al_1057 = ds->*si_1114;
					++si_1114;
				}
l0967_0144:
l0967_0546:
				byte Eq_84::* si_1004 = si_1114;
				byte al_1008 = 0x25;
				do
				{
					di_1024 = fn0967_005D(SEQ(ss, fp - 2), al_1008, cx, dx, bx, di_1024);
					byte al_1006 = ds->*si_1004;
					++si_1004;
					al_1008 = al_1006;
				} while (al_1006 != 0x00);
				break;
			}
		}
		ss->*di_1024 = al_1057;
		ci8 v16_1063 = bLoc57_1238 - 0x01;
		++di_1024;
		bLoc57_1238 = v16_1063;
		if (v16_1063 <= 0x00)
			di_1024 = fn0967_0066(SEQ(ss, fp - 2), cx, dx, bx, di_1024);
	}
	if (bLoc57_1238 < 0x50)
		fn0967_0066(SEQ(ss, fp - 2), cx, dx, bx, di_1024);
	struct Eq_523 Eq_84::* sp_1041 = (char *) &sp_112->t0000 + 2;
	word16 si_1052 = (ss->*sp_1041).w0002;
	diOut = (ss->*sp_1041).ptr0000;
	return si_1052;
}

// 0967:0050: Register word16 fn0967_0050(Register (memptr (ptr16 Eq_586) byte) di, Register (ptr16 Eq_586) es)
// Called from:
//      __VPRINTER
word16 fn0967_0050(byte Eq_586::* di, struct Eq_586 * es)
{
	word16 cx_12 = ~0x00;
	while (cx_12 != 0x00)
	{
		di = di_45 + 1;
		--cx_12;
		di_45 = di;
		if (es->*di_45 != 0x00)
			return ~cx_12 - 0x01;
	}
	return ~cx_12 - 0x01;
}

// 0967:005D: Register (memptr Eq_84 byte) fn0967_005D(Sequence (ptr32 Eq_512) ss_bp, Register byte al, Register Eq_84 cx, Register Eq_84 dx, Register Eq_84 bx, Register (memptr Eq_84 byte) di)
// Called from:
//      __VPRINTER
byte Eq_84::* fn0967_005D(struct Eq_512 * ss_bp, byte al, Eq_84 cx, Eq_84 dx, Eq_84 bx, byte Eq_84::* di)
{
	Eq_84 ss = SLICE(ss_bp, selector, 16);
	ss->*di = al;
	ci8 v8_10 = ss_bp->bFFFFFFAB - 0x01;
	ss_bp->bFFFFFFAB = v8_10;
	if (v8_10 <= 0x00)
		return di + 1;
	return fn0967_0066(ss_bp, cx, dx, bx, di + 1);
}

// 0967:0066: Register (memptr Eq_84 byte) fn0967_0066(Sequence (ptr32 Eq_512) ss_bp, Register Eq_84 cx, Register Eq_84 dx, Register Eq_84 bx, Register (memptr Eq_84 byte) di)
// Called from:
//      __VPRINTER
//      fn0967_005D
byte Eq_84::* fn0967_0066(struct Eq_512 * ss_bp, Eq_84 cx, Eq_84 dx, Eq_84 bx, byte Eq_84::* di)
{
	word16 bp = (word16) ss_bp;
	word16 di_20 = di - (bp - 0x54);
	word16 ax_39;
	ss_bp->ptr0012();
	if (ax_39 == 0x00)
		ss_bp->wFFFFFFFE = 0x01;
	ss_bp->bFFFFFFAB = 0x50;
	ss_bp->wFFFFFFA8 += di_20;
	return bp - 0x54;
}

// subject_09F1.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 09F1:0007: Register word16 _scanf(Register Eq_100 di, Register Eq_84 ds, Stack (memptr Eq_84 Eq_123) wArg04, Stack Eq_84 wArg06, Register out ptr16 dxOut, Register out ptr16 bxOut, Register out Eq_127 bpOut)
// Called from:
//      _main
word16 _scanf(Eq_100 di, Eq_84 ds, struct Eq_123 Eq_84::* wArg04, Eq_84 wArg06, ptr16 & dxOut, ptr16 & bxOut, union Eq_127 & bpOut)
{
	union Eq_127 Eq_1414::* bp_40;
	ptr16 bx_44;
	ptr16 dx_46;
	word16 cx_45 = __scanner(di, ds, &seg08AE->t00F3, &seg0A63->t000E, 0x0256, ds, wArg04, wArg06, out dx_46, out bx_44, out bp_40);
	Eq_127 bp_53 = ss->*bp_40;
	dxOut = dx_46;
	bxOut = bx_44;
	bpOut = bp_53;
	return cx_45;
}

// subject_09F4.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 09F4:0005: Register Eq_84 __scanner(Register Eq_100 di, Register Eq_84 ds, Stack (ptr32 code) ptrArg04, Stack (ptr32 code) ptrArg08, Stack word16 wArg0C, Stack Eq_84 wArg0E, Stack (memptr Eq_84 Eq_123) wArg10, Stack Eq_84 psegArg12, Register out ptr16 dxOut, Register out Eq_1404 bxOut, Register out ptr16 bpOut)
// Called from:
//      _scanf
Eq_84 __scanner(Eq_100 di, Eq_84 ds, <anonymous> * ptrArg04, <anonymous> * ptrArg08, word16 wArg0C, Eq_84 wArg0E, struct Eq_123 Eq_84::* wArg10, Eq_84 psegArg12, ptr16 & dxOut, union Eq_1404 & bxOut, ptr16 & bpOut)
{
	ptr16 wLoc28_1076 = 0x00;
l09F4_0037:
	struct Eq_123 Eq_84::* si_26 = wArg10;
	do
	{
l09F4_003A:
		Eq_84 cx_1451;
		ptr16 dx_1513;
		Eq_1404 bx_1421;
		ptr16 dx_932;
		Eq_1404 bx_931;
		Eq_84 cx_930;
		byte al_33 = (ds->*si_26).b0000;
		++si_26;
		byte al_35 = al_33;
		if (al_33 == 0x00)
		{
			ptr16 bp_41 = fn09F4_0460(fp - 2);
			dxOut = dx;
			bxOut = bx;
			bpOut = bp_41;
			return cx;
		}
		if (al_33 == 0x25)
		{
			Eq_1424 wLoc24_1080 = ~0x00;
			Eq_84 es_1038 = psegArg12;
			byte bLoc2B_1081 = 0x20;
			while (true)
			{
				++si_26;
				Eq_100 ax_59 = (int16) (ds->*si_26).b0000;
				byte dh_1533 = SLICE(dx, byte, 8);
				wArg10 = si_26;
				di = ax_59;
				if (ax_59 < 0x00)
					break;
				Eq_1404 bx_73 = (uint16) (ds->*((word16) ax_59 + 1214));
				al_35 = (byte) bx_73;
				if (bx_73 > 0x15)
				{
					ptr16 bp_790 = fn09F4_0460(fp - 2);
					dxOut = dx;
					bxOut = bx_73;
					bpOut = bp_790;
					return cx;
				}
				ptr16 ax_113;
				Eq_1536 si_112;
				bx = bx_73 << 0x01;
				switch (bx_73)
				{
				case 0x00:
				case 0x01:
				case 0x02:
					goto l09F4_0112;
				case 0x03:
					goto l09F4_0047;
				case 0x04:
					bLoc2B_1081 |= 0x01;
					break;
				case 0x05:
					wLoc24_1080 = ax_59 - 0x30;
					wLoc24_1630 = wLoc24_1080;
					if (wLoc24_1630 >= 0x00)
					{
						dx = SLICE(wLoc24_1630 *32 0x0A, word16, 16);
						wLoc24_1080 = ax_59 - 0x30 + wLoc24_1630 *u 0x0A;
					}
					break;
				case 0x06:
					if ((bLoc2B_1081 & 0x01) == 0x00)
						di = fn09F4_001A(fp - 2, ds, out es_1038);
					Eq_1424 si_1040 = wLoc24_1630;
					if (wLoc24_1630 < 0x00)
						si_1040.u0 = 0x01;
					ptr16 dx_710;
					Eq_1404 bx_709;
					if (wLoc24_1630 != 0x00)
					{
						do
						{
							ptr16 v57_690 = wLoc28_1076 + 0x01;
							ci16 ax_707;
							ptrArg04();
							wLoc28_1076 = v57_690;
							byte al_722 = (byte) ax_707;
							cx = wArg0E;
							if ((bLoc2B_1081 & 0x01) == 0x00)
							{
								es_1038->*di = al_722;
								di = (word16) di + 1;
							}
							if (ax_707 < 0x00)
							{
								ptr16 bp_734 = fn09F4_0460(fp - 2);
								dxOut = dx_710;
								bxOut = bx_709;
								bpOut = bp_734;
								return wArg0E;
							}
							--si_1040;
							dx = dx_710;
							bx = bx_709;
						} while (si_1040 > 0x00);
					}
					goto l09F4_0037;
				case 0x07:
				case 0x08:
					si_112.u0 = 0x0A;
					goto l09F4_0170;
				case 0x09:
					si_112.u0 = 0x00;
					goto l09F4_0170;
				case 0x0A:
					__scantod(ds);
					if (wLoc26 > 0x00)
					{
						if ((bLoc2B_1081 & 0x01) != 0x00)
							__scanpop(ds);
						else
						{
							struct Eq_1935 * es_1628;
							di = fn09F4_001A(&(ss->*(fp - 2)).t0000, ds, out es_1628);
							__scanrslt(ds);
						}
						goto l09F4_0037;
					}
					__scanpop(ds);
					if (wLoc26 < 0x00)
					{
						ptr16 bp_490 = fn09F4_0460(&(ss->*(fp - 2)).t0000);
						dxOut = dx;
						bxOut = bx_73 << 0x01;
						bpOut = bp_490;
						return cx;
					}
					else
					{
						ptr16 bp_500 = fn09F4_0478(&(ss->*(fp - 2)).t0000);
						dxOut = dx;
						bxOut = bx_73 << 0x01;
						bpOut = bp_500;
						return cx;
					}
				case 11:
					bLoc2B_1081 |= 0x08;
					break;
				case 0x0C:
					bLoc2B_1081 |= 0x02;
					break;
				case 0x0D:
					bLoc2B_1081 |= 0x04;
					break;
				case 0x0E:
					si_112.u0 = 0x08;
					goto l09F4_0170;
				case 0x0F:
					word16 bp_415;
					word16 bx_1625;
					fn09F4_02C8(fp - 2, ds, out bx_1625, out bp_415);
					ptr16 bp_427;
					Eq_1404 bx_428;
					Eq_84 cx_429 = fn09F4_02C8(bp_415, ds, out bx_428, out bp_427);
					dxOut = dx;
					bxOut = bx_428;
					bpOut = bp_427;
					return cx_429;
				case 0x10:
					word16 Eq_1437::* di_129 = fp - 0x22;
					word16 cx_130;
					for (cx_130 = 0x10; cx_130 != 0x00; --cx_130)
					{
						ss->*di_129 = 0x00;
						++di_129;
					}
					byte v47_142 = bLoc2B_1081 & ~0x10;
					Eq_84 es_135 = psegArg12;
					cu8 al_1004 = (ds->*si_26).b0000;
					struct Eq_123 Eq_84::* si_1013 = si_26 + 1;
					byte bLoc2B_1088 = v47_142;
					if (al_1004 == 0x5E)
					{
						bLoc2B_1088 = v47_142 | 0x10;
						al_1004 = si_26[1];
						si_1013 = si_26 + 2;
					}
l09F4_038C:
					uint8 cl_163 = al_1004 & 0x07;
					uint16 ax_157 = (uint16) al_1004;
					ui8 ch_1033 = 0x01 << cl_163;
					Mem170[ss:fp - 0x22 + (ax_157 >>u 0x03):byte] = Mem168[ss:fp - 0x22 + (ax_157 >>u 0x03):byte] | ch_1033;
					cu8 dl_155 = al_1004;
					di = ax_157 >> 0x03;
					while (true)
					{
						al_1004 = (ds->*si_1013).b0000;
						++si_1013;
						Eq_84 cx_1475 = SEQ(ch_1033, cl_163);
						ptr16 dx_1540 = SEQ(dh_1533, dl_155);
						if (al_1004 == 0x00)
							break;
						cx = SEQ(ch_1033, cl_163);
						dx = SEQ(dh_1533, dl_155);
						if (al_1004 == 0x5D)
						{
							ci16 v70_192 = wLoc24_1630 & 0x7FFF;
							wArg10 = si_1013;
							ci16 si_195 = v70_192;
							if ((bLoc2B_1088 & 0x01) == 0x00)
								di = fn09F4_001A(&(ss->*(fp - 2)).t0000, ds, out es_135);
							while (true)
							{
								Eq_84 es_1629;
								ptr16 dx_348;
								Eq_1404 bx_347;
								Eq_84 cx_346;
								ptr16 dx_232;
								ci16 si_207 = si_195 - 0x01;
								if (si_207 < 0x00)
									break;
								ptr16 v78_213 = wLoc28_1076 + 0x01;
								wchar_t ax_229;
								Eq_1404 bx_231;
								ptrArg04();
								wLoc28_1076 = v78_213;
								es_135 = es_1629;
								if (ax_229 < 0x00)
								{
									if (si_207 + 0x01 >= v70_192)
									{
										ptr16 bp_250 = fn09F4_0460(&(ss->*(fp - 2)).t0000);
										dxOut = dx_232;
										bxOut = bx_231;
										bpOut = bp_250;
										return wArg0E;
									}
									if ((bLoc2B_1088 & 0x01) != 0x00)
									{
										ptr16 bp_263 = fn09F4_0460(&(ss->*(fp - 2)).t0000);
										dxOut = dx_232;
										bxOut = bx_231;
										bpOut = bp_263;
										return wArg0E;
									}
									else
									{
										es_1629->*di = 0x00;
										ptr16 bp_279 = fn09F4_0460(&(ss->*(fp - 2)).t0000);
										dxOut = dx_232;
										bxOut = bx_231;
										bpOut = bp_279;
										return wArg0E;
									}
								}
								byte bl_295 = (byte) ax_229;
								ui8 ch_298 = 0x01 << (bl_295 & 0x07);
								si_195 = si_207;
								bx = ax_229 >> 0x03;
								byte al_321 = (byte) ax_229;
								cx = SEQ(ch_298, bl_295 & 0x07);
								if ((Mem225[ss:fp - 0x22 + (ax_229 >>u 0x03):byte] & ch_298) != 0x00)
								{
									if ((bLoc2B_1088 & 0x10) != 0x00)
										goto l09F4_0427;
								}
								else if ((bLoc2B_1088 & 0x10) == 0x00)
								{
l09F4_0427:
									struct Eq_2001 Eq_1437::* sp_344;
									ptrArg08();
									es_1629 = (ss->*sp_344).t0006;
									cx = cx_346;
									dx = dx_348;
									dx = dx_348;
									cx = cx_346;
									bx = bx_347;
									bx = bx_347;
									if (si_207 + 0x01 < v70_192)
										break;
									goto l09F4_0448;
								}
								es_1629 = es_135;
								dx = dx_232;
								if ((bLoc2B_1088 & 0x01) == 0x00)
								{
									es_1629->*di = al_321;
									di = (word16) di + 1;
									dx = dx_232;
								}
							}
							if ((bLoc2B_1088 & 0x01) == 0x00)
							{
l09F4_0448:
								es_1629->*di = 0x00;
								di = (word16) di + 1;
							}
							goto l09F4_0037;
						}
						if (al_1004 != 0x2D || (dl_155 > (psegArg12->*si_1013).b0000 || (psegArg12->*si_1013).b0000 == 0x5D))
							goto l09F4_038C;
						++si_1013;
						cu8 al_385 = (ds->*si_1013).b0000 - dl_155;
						if (al_385 != 0x00)
						{
							dl_155 += al_385;
							do
							{
								ch_1033 = __rol(ch_1033, 0x01);
								di += (ch_1033 & 0x80) != 0x00;
								Mem400[ss:fp - 0x22 + di:byte] = Mem398[ss:fp - 0x22 + di:byte] | ch_1033;
								--al_385;
							} while (al_385 != 0x00);
						}
					}
					ptr16 bp_184 = fn09F4_0478(&(ss->*(fp - 2)).t0000);
					dxOut = dx_1540;
					bxOut = bx_73 << 0x01;
					bpOut = bp_184;
					return cx_1475;
				case 0x11:
					ax_113 = wLoc28_1076;
					dx = 0x00;
					if ((bLoc2B_1081 & 0x01) == 0x00)
						goto l09F4_01B7;
					break;
				case 0x12:
					si_112.u0 = 0x10;
l09F4_0170:
					if ((ax_59 & 0x20) == 0x00)
						bLoc2B_1081 |= 0x04;
					ax_113 = __scantol(ds, ptrArg04, ptrArg08, wArg0C, wArg0E, si_112, wLoc24_1630 & 0x7FFF, fp - 0x28, fp - 0x26, out cx, out dx, out bx, out di);
					if (wLoc26 > 0x00)
					{
						if ((bLoc2B_1081 & 0x01) == 0x00)
						{
l09F4_01B7:
							struct Eq_1674 * es_1627;
							fn09F4_001A(fp - 2, ds, out es_1627);
							struct Eq_1680 * es_di_1621 = (struct Eq_1680 *) <invalid>;
							es_di_1621->ptr0000 = ax_113;
							word16 di_648 = (word16) es_di_1621;
							di = di_648 + 2;
							if ((bLoc2B_1081 & 0x04) != 0x00)
							{
								es_di_1621->ptr0002 = dx;
								dx = ax_113;
								di = di_648 + 4;
							}
						}
						goto l09F4_0037;
					}
					if (wLoc26 < 0x00)
					{
						ptr16 bp_623 = fn09F4_0460(fp - 2);
						dxOut = dx;
						bxOut = bx;
						bpOut = bp_623;
						return cx;
					}
					else
					{
						ptr16 bp_633 = fn09F4_0478(fp - 2);
						dxOut = dx;
						bxOut = bx;
						bpOut = bp_633;
						return cx;
					}
				case 0x13:
					word16 bp_90;
					word16 bx_1626;
					fn09F4_01D1(fp - 2, ds, out bx_1626, out bp_90);
					ptr16 bp_102;
					Eq_1404 bx_103;
					Eq_84 cx_104 = fn09F4_01D1(bp_90, ds, out bx_103, out bp_102);
					dxOut = dx;
					bxOut = bx_103;
					bpOut = bp_102;
					return cx_104;
				case 0x14:
					bLoc2B_1081 &= 223;
					break;
				case 0x15:
					bLoc2B_1081 |= 0x20;
					break;
				}
			}
l09F4_0112:
			ptr16 bp_780 = fn09F4_0460(fp - 2);
			dxOut = dx;
			bxOut = bx;
			bpOut = bp_780;
			return cx;
		}
l09F4_0047:
		ptr16 v17_809 = wLoc28_1076 + 0x01;
		struct Eq_1432 Eq_1437::* sp_825;
		Eq_100 ax_826;
		ptrArg04();
		Eq_100 ax_800 = (int16) al_35;
		wLoc28_1076 = v17_809;
		cx_1451 = (ss->*sp_825).t0002;
		struct Eq_1442 Eq_1437::* sp_835 = (char *) &sp_825->t0002 + 2;
		Eq_100 ax_836 = ax_826;
		if (ax_826 < 0x00)
		{
l09F4_0084:
			ptr16 bp_967 = fn09F4_0460(fp - 2);
			dxOut = dx_1513;
			bxOut = bx_1421;
			bpOut = bp_967;
			return cx_1451;
		}
		di = ax_800;
		if (ax_800 >= 0x00 && ds->*((word16) ax_800 + 1214) == 0x01)
		{
			do
			{
				if ((byte) ax_836 < 0x00 || ds->*((word16) ax_836 + 1214) != 0x01)
				{
					struct Eq_1463 Eq_1437::* sp_912 = sp_835 - 2;
					(ss->*sp_912).t0000 = wArg0E;
					(ss->*sp_912).wFFFFFFFE = wArg0C;
					(ss->*sp_912).tFFFFFFFC = ax_836;
					ptrArg08();
					--wLoc28_1076;
					dx = dx_932;
					bx = bx_931;
					cx = cx_930;
					goto l09F4_003A;
				}
				ptr16 v26_940 = wLoc28_1076 + 0x01;
				struct Eq_1488 Eq_1437::* sp_944 = sp_835 - 2;
				(ss->*sp_944).t0000 = wArg0E;
				(ss->*sp_944).wFFFFFFFE = wArg0C;
				struct Eq_1497 Eq_1437::* sp_949;
				Eq_100 ax_950;
				ptrArg04();
				wLoc28_1076 = v26_940;
				cx_1451 = (ss->*sp_949).t0002;
				sp_835 = (struct Eq_1442 Eq_1437::*) ((char *) &sp_949->t0002 + 2);
				ax_836 = ax_950;
			} while (ax_950 > 0x00);
			goto l09F4_0084;
		}
		dx = dx_1513;
		bx = bx_1421;
		cx = cx_1451;
	} while (ax_826 == ax_800);
	(ss->*sp_825).t0002 = wArg0E;
	(ss->*sp_825).w0000 = wArg0C;
	(ss->*sp_825).tFFFFFFFE = ax_826;
	Eq_84 cx_868;
	Eq_1404 bx_869;
	ptr16 dx_870;
	ptrArg08();
	ptr16 bp_880 = fn09F4_0460(fp - 2);
	dxOut = dx_870;
	bxOut = bx_869;
	bpOut = bp_880;
	return cx_868;
}

// 09F4:001A: Register word16 fn09F4_001A(Sequence (ptr32 Eq_1623) ss_bp, Register Eq_84 ds, Register out Eq_84 esOut)
// Called from:
//      __scanner
word16 fn09F4_001A(struct Eq_1623 * ss_bp, Eq_84 ds, union Eq_84 & esOut)
{
	Eq_2061 es_di_7 = ss_bp->t0016;
	union Eq_2086 Eq_84::* di_12 = (word16) es_di_7;
	if ((ss_bp->bFFFFFFD7 & 0x20) == 0x00)
	{
		word16 di_13 = *es_di_7;
		ss_bp->t0016 = (word32) ss_bp->t0016 + 2;
		esOut = ds;
		return di_13;
	}
	else
	{
		Eq_2086 es_di_22 = ds->*di_12;
		ss_bp->t0016 = (word32) ss_bp->t0016 + 4;
		esOut = SLICE(es_di_22, selector, 16);
		return (word16) es_di_22;
	}
}

// 09F4:01D1: Register word16 fn09F4_01D1(Sequence (ptr32 Eq_1569) ss_bp, Register Eq_84 ds, Register out ptr16 bxOut, Register out ptr16 bpOut)
// Called from:
//      __scanner
word16 fn09F4_01D1(struct Eq_1569 * ss_bp, Eq_84 ds, ptr16 & bxOut, ptr16 & bpOut)
{
	ptr16 bx_9;
	ptr16 bp_11;
	word16 cx_10 = fn09F4_047F(ss_bp, ds, out bx_9, out bp_11);
	bxOut = bx_9;
	bpOut = bp_11;
	return cx_10;
}

// 09F4:02C8: Register word16 fn09F4_02C8(Sequence (ptr32 Eq_1569) ss_bp, Register Eq_84 ds, Register out ptr16 bxOut, Register out ptr16 bpOut)
// Called from:
//      __scanner
word16 fn09F4_02C8(struct Eq_1569 * ss_bp, Eq_84 ds, ptr16 & bxOut, ptr16 & bpOut)
{
	ptr16 bx_9;
	ptr16 bp_11;
	word16 cx_10 = fn09F4_047F(ss_bp, ds, out bx_9, out bp_11);
	bxOut = bx_9;
	bpOut = bp_11;
	return cx_10;
}

// 09F4:0460: Register ptr16 fn09F4_0460(Sequence (ptr32 Eq_1569) ss_bp)
// Called from:
//      __scanner
//      fn09F4_01D1
ptr16 fn09F4_0460(struct Eq_1569 * ss_bp)
{
	ss_bp->ptr000A();
	ss_bp->wFFFFFFD8 -= (word16) (ss_bp->wFFFFFFD8 < 0x01);
	return fn09F4_0478(ss_bp);
}

// 09F4:0478: Register word16 fn09F4_0478(Sequence (ptr32 Eq_1569) ss_bp)
// Called from:
//      __scanner
//      fn09F4_0460
word16 fn09F4_0478(struct Eq_1569 * ss_bp)
{
	return ss_bp->w0000;
}

// 09F4:047F: Register Eq_2144 fn09F4_047F(Sequence (ptr32 Eq_1569) ss_bp, Register Eq_84 ds, Register out ptr16 bxOut, Register out ptr16 bpOut)
// Called from:
//      fn09F4_01D1
//      fn09F4_02C8
Eq_2144 fn09F4_047F(struct Eq_1569 * ss_bp, Eq_84 ds, ptr16 & bxOut, ptr16 & bpOut)
{
	struct Eq_2145 * ss = SLICE(ss_bp, selector, 16);
	ptr16 bp = (word16) ss_bp;
	mp16 sp_11 = fp;
	do
	{
		++ss_bp->wFFFFFFDA;
		struct Eq_2159 Eq_2145::* sp_12 = sp_11 - 2;
		(ss->*sp_12).w0000 = ss_bp->w0010;
		(ss->*sp_12).wFFFFFFFE = ss_bp->w000E;
		Eq_2174 ax_21;
		ptr16 bx_22;
		ss_bp->ptr0006();
		sp_11 = fp - 2;
		ci8 al_44 = (byte) ax_21;
		if (ax_21 <= 0x00)
		{
			if (ax_21 == 0x00)
				break;
			ptr16 bp_36 = fn09F4_0460(ss_bp);
			bxOut = bx_22;
			bpOut = bp_36;
			return wLoc02;
		}
	} while (al_44 >= 0x00 && ds->*((word16) ax_21 + 1214) == 0x01);
	Eq_2144 cx_70;
	ptr16 bx_72;
	(*((word16) wLoc02 + 3))();
	bxOut = bx_72;
	bpOut = bp;
	return cx_70;
}

// subject_0A45.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0A45:0003: FlagGroup bool fn0A45_0003(Register cu8 cl, Register byte bl)
// Called from:
//      __scantol
bool fn0A45_0003(cu8 cl, byte bl)
{
	cu8 bl_8 = (byte) bx;
	bool C_40;
	cu8 bl_16 = bl_8 - 0x30;
	if (bl_8 >= 0x30)
	{
		if (bl_8 <= 0x39)
		{
l0A45_0020:
			if (bl_16 < cl)
			{
				C_40 = false;
				return C_40;
			}
			goto l0A45_002C;
		}
		if (bl_8 <= 0x5A)
			bl_16 = bl_8 - 55;
		else
			bl_16 = bl_8 - 0x57;
		if (bl_16 > 0x09)
			goto l0A45_0020;
	}
l0A45_002C:
	C_40 = true;
	return C_40;
}

// 0A45:0031: Register Eq_2226 __scantol(Register Eq_84 ds, Stack (ptr32 code) ptrArg04, Stack (ptr32 code) ptrArg08, Stack word16 wArg0C, Stack Eq_84 wArg0E, Stack Eq_1536 wArg10, Stack ci16 wArg12, Stack (ptr32 word16) ptrArg14, Stack (ptr32 Eq_1738) ptrArg18, Register out Eq_1536 cxOut, Register out Eq_1737 dxOut, Register out Eq_1738 bxOut, Register out Eq_1739 diOut)
// Called from:
//      __scanner
Eq_2226 __scantol(Eq_84 ds, <anonymous> * ptrArg04, <anonymous> * ptrArg08, word16 wArg0C, Eq_84 wArg0E, Eq_1536 wArg10, ci16 wArg12, word16 * ptrArg14, union Eq_1738 * ptrArg18, union Eq_1536 & cxOut, union Eq_1737 & dxOut, union Eq_1738 & bxOut, union Eq_1739 & diOut)
{
	byte bLoc07_554 = 0x00;
	word16 wLoc06_555 = 0x00;
	struct Eq_2231 Eq_2268::* sp_125 = fp - 0x0E;
	do
	{
		Eq_1737 dx_411;
		Eq_1738 wLoc04_583;
		Eq_1536 cx_139;
		Eq_2226 ax_504;
		word16 v9_27 = wLoc06_555 + 0x01;
		struct Eq_2265 Eq_2268::* sp_32 = sp_125 - 2;
		(ss->*sp_32).t0000 = wArg0E;
		(ss->*sp_32).wFFFFFFFE = wArg0C;
		struct Eq_2275 Eq_2268::* sp_41;
		Eq_2226 ax_43;
		ptrArg04();
		wLoc06_555 = v9_27;
		sp_125 = (struct Eq_2231 Eq_2268::*) ((char *) &sp_41->t0002 + 2);
		Eq_2226 ax_126 = ax_43;
		byte al_56 = (byte) ax_43;
		if (ax_43 < 0x00)
			goto l0A45_00CB;
		Eq_2226 ax_117 = (int16) al_56;
	} while (((byte) ax_117 & 0x80) == 0x00 && (ds->*((word16) ax_117 + 0x0155) & 0x01) != 0x00);
	ax_126 = ax_117;
	byte al_81 = (byte) ax_117;
	--wArg12;
	if (wArg12 < 0x01)
	{
l0A45_00D2:
		wLoc04_583.u0 = 0x00;
l0A45_00D7:
		struct Eq_2303 Eq_2268::* sp_222 = sp_125 - 2;
		(ss->*sp_222).t0000 = wArg0E;
		(ss->*sp_222).wFFFFFFFE = wArg0C;
		(ss->*sp_222).tFFFFFFFC = ax_126;
		word16 sp_251;
		ptrArg08();
		sp_125 = sp_251 + 0x06;
		--wLoc06_555;
		ax_504.u0 = 0x00;
		dx_411.u0 = 0x00;
		goto l0A45_01A4;
	}
	if (al_81 != 0x2B)
	{
		if (al_81 != 0x2D)
			goto l0A45_0091;
		bLoc07_554 = 0x01;
	}
	wArg12 -= 0x02;
	if (wArg12 < 0x02)
		goto l0A45_00D2;
	(ss->*sp_41).t0002 = wArg0E;
	(ss->*sp_41).w0000 = wArg0C;
	word16 sp_115;
	ptrArg04();
	wLoc06_555 = v9_27 + 0x01;
	sp_125 = sp_115 + 4;
	ax_126 = ax_117;
	if (ax_117 < 0x00)
	{
l0A45_00CB:
		wLoc04_583.u0 = ~0x00;
		goto l0A45_00D7;
	}
l0A45_0091:
	uint32 di_ax_810;
	byte al_140 = (byte) ax_117;
	Eq_2226 si_133 = 0x00;
	Eq_1737 di_135 = 0x00;
	cx_139 = wArg10;
	cu8 cl_183 = (byte) wArg10;
	if (wArg10 == 0x00)
	{
		wArg10.u0 = 0x0A;
		if (al_140 == 0x30)
		{
			ci16 v70_145 = wArg12 - 0x01;
			wArg12 = v70_145;
			if (v70_145 >= 0x00)
			{
				word16 v71_149 = wLoc06_555 + 0x01;
				struct Eq_2531 Eq_2268::* sp_154 = sp_125 - 2;
				(ss->*sp_154).t0000 = wArg0E;
				(ss->*sp_154).wFFFFFFFE = wArg0C;
				struct Eq_2540 Eq_2268::* sp_161;
				word16 ax_163;
				ptrArg04();
				wLoc06_555 = v71_149;
				byte al_173 = (byte) ax_163;
				cx_139 = (ss->*sp_161).t0002;
				sp_125 = (struct Eq_2231 Eq_2268::*) ((char *) &sp_161->t0002 + 2);
				wArg10.u0 = 0x08;
				if (al_173 != 0x78)
				{
					di_ax_810 = (uint32) ax_163;
					if (al_173 != 88)
					{
l0A45_014A:
						uint16 ax_304 = (word16) di_ax_810;
						di_135 = SLICE(di_ax_810, word16, 16);
						cx_139 = wArg10;
						uint16 ax_314 = ax_304;
						if (!fn0A45_0003((byte) wArg10, (byte) ax_304))
						{
l0A45_0184:
							struct Eq_2415 Eq_2268::* sp_467 = sp_125 - 2;
							(ss->*sp_467).t0000 = wArg0E;
							(ss->*sp_467).wFFFFFFFE = wArg0C;
							(ss->*sp_467).wFFFFFFFC = ax_314;
							word16 sp_479;
							ptrArg08();
							sp_125 = sp_479 + 0x06;
							--wLoc06_555;
l0A45_0194:
							wLoc04_583.u0 = 0x01;
							dx_411 = di_135;
							ax_504 = si_133;
							if (bLoc07_554 != 0x00)
							{
								ax_504 = -si_133;
								dx_411 = -di_135 - (word16) (si_133 != 0x00);
							}
							goto l0A45_01A4;
						}
						uint32 di_si_547 = di_ax_810 + wArg10 *32 si_133;
						si_133 = (word16) di_si_547;
						di_135 = SLICE(di_si_547, word16, 16);
						if (di_135 != 0x00)
						{
							do
							{
								ci16 v54_332 = wArg12 - 0x01;
								wArg12 = v54_332;
								if (v54_332 < 0x00)
									goto l0A45_0194;
								struct Eq_2467 Eq_2268::* sp_341 = sp_125 - 2;
								(ss->*sp_341).t0000 = wArg0E;
								(ss->*sp_341).wFFFFFFFE = wArg0C;
								word16 v55_336 = wLoc06_555 + 0x01;
								word16 sp_350;
								uint16 ax_352;
								ptrArg04();
								wLoc06_555 = v55_336;
								sp_125 = sp_350 + 4;
								ax_314 = ax_352;
								if (!fn0A45_0003((byte) wArg10, (byte) ax_352))
									goto l0A45_0184;
								Eq_2487 dx_ax_376 = wArg10 *32 si_133;
								Eq_2489 dx_ax_385 = wArg10 *32 di_135;
								ui32 ax_si_550 = (word32) dx_ax_376 + SEQ((word16) dx_ax_385, ax_352);
								Eq_1737 ax_390 = SLICE(ax_si_550, word16, 16);
								cx_139 = SLICE(dx_ax_376, word16, 16);
								si_133 = (word16) ax_si_550;
								di_135 = ax_390;
							} while (SLICE(dx_ax_385, byte, 16) + SLICE(dx_ax_385, byte, 24) + (byte) (ax_390 < 0x00) == 0x00);
							byte al_404 = bLoc07_554 + ~0x00;
							bool C_407 = SLICE(cond(al_404), bool, 1);
							dx_411 = SLICE(cond(C_407 + ~0x00), bool, 1) + 0x7FFF;
							wLoc04_583.u0 = 0x02;
							ax_504 = SEQ(C_407 + ~0x00, al_404);
l0A45_01A4:
							*ptrArg14 += wLoc06_555;
							*ptrArg18 = (union Eq_1738 *) wLoc04_583;
							struct Eq_2400 Eq_2268::* sp_537 = &sp_125->t0002;
							Eq_1739 di_538 = (ss->*sp_537).t0000;
							cxOut = cx_139;
							dxOut = dx_411;
							bxOut = wLoc04_583;
							diOut = di_538;
							return ax_504;
						}
l0A45_0137:
						ci16 v44_420 = wArg12 - 0x01;
						wArg12 = v44_420;
						if (v44_420 < 0x00)
							goto l0A45_0194;
						word16 v45_424 = wLoc06_555 + 0x01;
						struct Eq_2442 Eq_2268::* sp_432 = sp_125 - 2;
						(ss->*sp_432).t0000 = wArg0E;
						(ss->*sp_432).wFFFFFFFE = wArg0C;
						word16 sp_451;
						uint16 ax_453;
						ptrArg04();
						wLoc06_555 = v45_424;
						sp_125 = sp_451 + 4;
						di_ax_810 = SEQ(di_135, ax_453);
						goto l0A45_014A;
					}
				}
				wArg10.u0 = 0x10;
l0A45_011E:
				goto l0A45_0137;
			}
			goto l0A45_00ED;
		}
		goto l0A45_0120;
	}
	ax_126 = ax_117;
	if (wArg10 > 0x24)
		goto l0A45_00D2;
	ax_126 = ax_117;
	if (cl_183 >= 0x02)
	{
		if (al_140 == 0x30)
		{
			if (cl_183 != 0x10)
				goto l0A45_011E;
			ci16 v32_269 = wArg12 - 0x01;
			wArg12 = v32_269;
			if (v32_269 >= 0x00)
			{
				word16 v33_273 = wLoc06_555 + 0x01;
				struct Eq_2359 Eq_2268::* sp_277 = sp_125 - 2;
				(ss->*sp_277).t0000 = wArg0E;
				(ss->*sp_277).wFFFFFFFE = wArg0C;
				struct Eq_2368 Eq_2268::* sp_282;
				word16 ax_284;
				ptrArg04();
				wLoc06_555 = v33_273;
				byte al_293 = (byte) ax_284;
				cx_139 = (ss->*sp_282).t0002;
				sp_125 = (struct Eq_2231 Eq_2268::*) ((char *) &sp_282->t0002 + 2);
				if (al_293 != 0x78 && al_293 != 88)
				{
					di_ax_810 = (uint32) ax_284;
					goto l0A45_014A;
				}
				goto l0A45_011E;
			}
l0A45_00ED:
			goto l0A45_0194;
		}
l0A45_0120:
		cx_139 = wArg10;
		ax_126 = ax_117;
		if (!fn0A45_0003((byte) wArg10, (byte) ax_117))
		{
			si_133 = ax_117;
			goto l0A45_0137;
		}
		goto l0A45_00D2;
	}
	goto l0A45_00D2;
}

// subject_0A63.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

<anonymous> g_t000E = <code>; // 0A63:000E
