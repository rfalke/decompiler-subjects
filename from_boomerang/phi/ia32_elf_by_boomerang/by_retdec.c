//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>
#include <stdio.h>

// ------------------- Function Prototypes --------------------

int32_t fib(int32_t a1);

// --------------------- Global Variables ---------------------

int32_t g1;

// ------------------------ Functions -------------------------

// Address range: 0x804835c - 0x80483de
int main(int argc, char ** argv) {
    // 0x804835c
    printf("Input number: ");
    int32_t v1; // bp-12, 0x804835c
    scanf("%d", &v1);
    int32_t v2; // 0x804835c
    int32_t v3; // 0x804835c
    int32_t v4; // 0x804835c
    int32_t v5; // 0x804835c
    if (v1 > 1) {
        int32_t v6 = fib(v1 - 1); // 0x80483b7
        int32_t v7 = fib(v6 - 1) + v6; // 0x80483cb
        printf("%d", v7);
        v4 = v7;
        v3 = v6;
        goto lab_0x8048396;
    } else {
        int32_t v8 = &v1; // 0x8048373
        v4 = v8;
        v3 = v1;
        v2 = 1;
        v5 = v8;
        if (v1 == 1) {
            goto lab_0x8048398;
        } else {
            goto lab_0x8048396;
        }
    }
  lab_0x8048396:
    // 0x8048396
    v2 = v3;
    v5 = v4;
    goto lab_0x8048398;
  lab_0x8048398:;
    // 0x8048398
    int32_t v9; // bp-16, 0x804835c
    int32_t v10 = &v9; // 0x8048384
    *(int32_t *)(v10 - 4) = v5;
    *(int32_t *)(v10 - 8) = v2;
    *(int32_t *)(v10 - 12) = v1;
    *(int32_t *)(v10 - 16) = (int32_t)"fibonacci(%d) = %d\n";
    printf((char *)&g1);
    return 0;
}

// Address range: 0x80483e0 - 0x804842b
int32_t fib(int32_t a1) {
    int32_t result; // 0x80483e0
    if (a1 > 1) {
        int32_t v1 = fib(a1 - 1); // 0x8048407
        printf("%d", fib(v1 - 1) + v1);
        result = v1;
    } else {
        // 0x80483ed
        result = a1;
        if (a1 == 1) {
            // 0x80483f9
            return 1;
        }
    }
    // 0x80483f9
    return result;
}

// --------------- Dynamically Linked Functions ---------------

// int printf(const char * restrict format, ...);
// int scanf(const char * restrict format, ...);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (3.2.2)
// Detected functions: 2

