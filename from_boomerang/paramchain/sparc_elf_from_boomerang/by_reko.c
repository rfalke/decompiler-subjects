// subject_data.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

ptr32 environ = 0x00; // 00020B38
word32 __fnonstd_used = 0x00; // 00020B58
ptr32 ___Argv = 0x00; // 00020B5C
// subject_fini.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 000109C8: void _fini(Register word32 o0, Register word32 o1, Register word32 o2, Register word32 o3, Register word32 o4, Register word32 o5, Register (ptr32 Eq_100) o7)
void _fini(word32 o0, word32 o1, word32 o2, word32 o3, word32 o4, word32 o5, struct Eq_100 * o7)
{
	ptr32 fp;
	fn000109D8(o7, o0, o1, o2, o3, o4, o5, fp, o7);
}

// 000109D8: void fn000109D8(Register (ptr32 Eq_100) o7, Register word32 i0, Register word32 i1, Register word32 i2, Register word32 i3, Register word32 i4, Register word32 i5, Register ptr32 i6, Register (ptr32 Eq_100) i7)
// Called from:
//      _fini
void fn000109D8(struct Eq_100 * o7, word32 i0, word32 i1, word32 i2, word32 i3, word32 i4, word32 i5, ptr32 i6, struct Eq_100 * i7)
{
	<anonymous> * l0_7 = *((char *) (o7 + o7->dw0008 / 0x0C) - 4);
	if (l0_7 == null)
		return;
	l0_7();
}

// subject_init.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00010990: void _init(Register word32 o0, Register word32 o1, Register word32 o2, Register word32 o3, Register word32 o4, Register word32 o5, Register (ptr32 Eq_7) o7)
// Called from:
//      _start
void _init(word32 o0, word32 o1, word32 o2, word32 o3, word32 o4, word32 o5, struct Eq_7 * o7)
{
	ptr32 fp;
	fn000109A0(o7, o0, o1, o2, o3, o4, o5, fp, o7);
}

// 000109A0: void fn000109A0(Register (ptr32 Eq_7) o7, Register word32 i0, Register word32 i1, Register word32 i2, Register word32 i3, Register word32 i4, Register word32 i5, Register ptr32 i6, Register (ptr32 Eq_7) i7)
// Called from:
//      _init
void fn000109A0(struct Eq_7 * o7, word32 i0, word32 i1, word32 i2, word32 i3, word32 i4, word32 i5, ptr32 i6, struct Eq_7 * i7)
{
	<anonymous> * l0_7 = *((char *) (o7 + o7->dw0008 / 0x0C) - 8);
	if (l0_7 == null)
		return;
	l0_7();
}

// subject_plt.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00020A3C: void atexit()
void atexit()
{
}

// 00020A48: void exit()
void exit()
{
}

// 00020A54: void _exit()
void _exit()
{
}

// 00020A60: void printf()
void printf()
{
}

// subject_rodata.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

word32 _lib_version = 0x01; // 00010A04
// subject_text.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00010840: void _start(Register (ptr32 Eq_2) g1, Register word32 o2, Register word32 o3, Register word32 o4, Register word32 o5, Register (ptr32 Eq_7) o7, Register word32 fsr, Stack ui32 dwArg40)
void _start(void (* g1)(), word32 o2, word32 o3, word32 o4, word32 o5, struct Eq_7 * o7, word32 fsr, ui32 dwArg40)
{
	ptr32 fp;
	___Argv = fp + 0x44;
	environ = fp + 0x44 + ((dwArg40 << 0x02) + 0x04);
	if (g1 == null)
	{
		atexit(&g_t109C8);
		_init(68040, 0x00020800, o2, o3, o4, o5, o7);
	}
	else
		atexit(g1);
}

// 00010934: void addem(Register word32 o0, Register word32 o1, Register word32 o2, Register (ptr32 word32) o3)
// Called from:
//      passem
void addem(word32 o0, word32 o1, word32 o2, word32 * o3)
{
	*o3 = o0 + o1 + o2;
}

// 00010954: void passem(Register word32 o0, Register word32 o1, Register word32 o2, Register (ptr32 word32) o3)
// Called from:
//      main
void passem(word32 o0, word32 o1, word32 o2, word32 * o3)
{
	addem(o0, o1, o2, o3);
}

// 00010960: void main()
// Called from:
//      _start
void main()
{
	ptr32 fp;
	passem(0x05, 0x0A, 0x28, fp + ~0x03);
}

