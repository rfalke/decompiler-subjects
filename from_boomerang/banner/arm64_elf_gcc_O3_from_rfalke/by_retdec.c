//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
// Copyright (c) Retargetable Decompiler <info@retdec.com>
//

#include <stdbool.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>

// ------------------- Function Prototypes --------------------

int64_t __do_global_dtors_aux(void);
int64_t __libc_csu_fini(void);
int64_t __libc_csu_init(void);
int64_t _fini(int64_t a1);
int64_t _init(int64_t a1);
int64_t _start(int64_t a1);
int64_t call_weak_fn(void);
int64_t deregister_tm_clones(int64_t a1);
int64_t frame_dummy(void);
int64_t function_1180(int64_t a1, int64_t a2);
int64_t function_eb0(int64_t a1);
int64_t * function_ec0(int32_t size);
int32_t function_ed0(int64_t main2, int32_t argc, char ** ubp_av, void (*init)(), void (*fini)(), void (*rtld_fini)());
int64_t function_ee0(int64_t a1);
void function_ef0(void);
int32_t function_f00(char * s);
int64_t register_tm_clones(int64_t * a1, int64_t a2);

// --------------------- Global Variables ---------------------

int64_t g1 = 0x2020000000000000; // 0x122a
int64_t g2 = 0x1150; // 0x12da8
int64_t g3 = 0x1108; // 0x12db0
int64_t g4 = 0; // 0x12db8
void (*g5)() = (void (*)())0x1200; // 0x12fa8
int64_t g6 = 0; // 0x12fb0
int64_t g7 = 0; // 0x12fc0
void (*g8)() = (void (*)())0x1188; // 0x12fc8
int64_t g9 = 3856; // 0x12fd0
int64_t g10 = 0; // 0x12fd8
int64_t g11 = 3728; // 0x13000
int64_t g12 = 0; // 0x132e0
char * g13; // 0x2228
char * glyphs[84] = {
    "0\x12",
    "p\x12",
    "\xb0\x12",
    "\xf0\x12",
    "0\x13",
    "p\x13",
    "\xb0\x13",
    "\xf0\x13",
    "0\x14",
    "p\x14",
    "\xb0\x14",
    "\xf0\x14",
    "0\x15",
    "p\x15",
    "\xb0\x15",
    "\xf0\x15",
    "0\x16",
    "p\x16",
    "\xb0\x16",
    "\xf0\x16",
    "0\x17",
    "p\x17",
    "\xb0\x17",
    "\xf0\x17",
    "0\x18",
    "p\x18",
    "\xb0\x18",
    "\xf0\x18",
    "0\x19",
    "p\x19",
    "\xb0\x19",
    "\xf0\x19",
    "0\x1a",
    "p\x1a",
    "\xb0\x1a",
    "\xf0\x1a",
    "0\x1b",
    "p\x1b",
    "\xb0\x1b",
    "\xf0\x1b",
    "0\x1c",
    "p\x1c",
    "\xb0\x1c",
    "\xf0\x1c",
    "0\x1d",
    "p\x1d",
    "\xb0\x1d",
    "\xf0\x1d",
    "0\x1e",
    "p\x1e",
    "\xb0\x1e",
    "\xf0\x1e",
    "0\x1f",
    "p\x1f",
    "\xb0\x1f",
    "\xf0\x1f",
    "0 ",
    "p ",
    "\xb0 ",
    "\xf0 ",
    "0!",
    "p!",
    "\xb0!",
    "\xf0!",
    "0\"",
    "p\"",
    "\xb0\"",
    "\xf0\"",
    "0#",
    "p#",
    "\xf0!",
    "\xb0#",
    "\xf0#",
    "0$",
    "p$",
    "\xb0$",
    "\xf0$",
    "0%",
    "p%",
    "\xb0%",
    "\xf0%",
    "0&",
    "p&",
    "\xb0&"
}; // 0x13040
int32_t g14;

// ------------------------ Functions -------------------------

// Address range: 0xe70 - 0xe84
int64_t _init(int64_t a1) {
    // 0xe70
    return call_weak_fn();
}

// Address range: 0xeb0 - 0xec0
int64_t function_eb0(int64_t a1) {
    // 0xeb0
    return __cxa_finalize();
}

// Address range: 0xec0 - 0xed0
int64_t * function_ec0(int32_t size) {
    // 0xec0
    return malloc(size);
}

// Address range: 0xed0 - 0xee0
int32_t function_ed0(int64_t main2, int32_t argc, char ** ubp_av, void (*init)(), void (*fini)(), void (*rtld_fini)()) {
    // 0xed0
    return __libc_start_main(main2, argc, ubp_av, init, fini, rtld_fini);
}

// Address range: 0xee0 - 0xef0
int64_t function_ee0(int64_t a1) {
    // 0xee0
    return __gmon_start__();
}

// Address range: 0xef0 - 0xf00
void function_ef0(void) {
    // 0xef0
    abort();
}

// Address range: 0xf00 - 0xf10
int32_t function_f00(char * s) {
    // 0xf00
    return puts(s);
}

// From module:   /mnt/from_boomerang/./banner/source.c
// Address range: 0xf10 - 0x1044
// Line range:    126 - 164
int main() {
    // 0xf10
    *(int64_t *)((int64_t)malloc(12) + 8) = (int64_t)"HelloWorld";
    int64_t v1 = 0; // 0xf58
    int64_t str; // bp-72, 0xf10
    int64_t v2; // 0xf10
    while (true) {
      lab_0xf5c:;
        int64_t v3 = &str; // 0xf60
        int64_t v4 = (int64_t)"HelloWorld"; // 0xf60
        while (true) {
            int64_t v5 = v4;
            v4 = v5 + 1;
            int32_t v6 = (int32_t)*(char *)v5 - 32; // 0xf6c
            uint32_t v7 = v6 > 0 ? v6 : 0; // 0xf70
            uint32_t v8 = 7 * (v7 % 8); // 0xf88
            int64_t v9 = *(int64_t *)((int64_t)(8 * ((v7 & 0x1ffffff8) + (int32_t)v1 - v7 / 8)) + (int64_t)&glyphs); // 0xfa4
            *(char *)v3 = *(char *)(v9 + (int64_t)v8);
            *(char *)(v3 | 1) = *(char *)(v9 + (int64_t)(v8 + 1));
            *(char *)(v3 | 2) = *(char *)(v9 + (int64_t)(v8 + 2));
            *(char *)(v3 | 3) = *(char *)(v9 + (int64_t)(v8 + 3));
            *(char *)(v3 | 4) = *(char *)(v9 + (int64_t)(v8 + 4));
            *(char *)(v3 | 5) = *(char *)(v9 + (int64_t)(v8 + 5));
            *(char *)(v3 | 7) = 32;
            *(char *)(v3 | 6) = *(char *)(v9 + (int64_t)(v8 + 6));
            v3 += 8;
            int64_t v10; // 0xf10
            v2 = &v10;
            if (v4 == (int64_t)&g1) {
                goto lab_0xff0;
            }
        }
        goto lab_0x1008;
    }
  lab_0x101c:
    // 0x101c
    puts((char *)&g13);
    return 0;
  lab_0xff0:;
    int64_t v11 = v2;
    char * v12 = (char *)v11; // 0xff0
    if (*v12 == 32) {
        // 0xffc
        *v12 = 0;
        int64_t v13 = v11 - 1; // 0xffc
        v2 = v13;
        int64_t v14; // bp-73, 0xf10
        if (v13 == (int64_t)&v14) {
            goto lab_0x1008;
        } else {
            goto lab_0xff0;
        }
    } else {
        goto lab_0x1008;
    }
  lab_0x1008:;
    int64_t v15 = v1 + 1; // 0x100c
    puts((char *)&str);
    v1 = v15 & 0xffffffff;
    if ((int32_t)v15 == 7) {
        // break -> 0x101c
        goto lab_0x101c;
    }
    goto lab_0xf5c;
}

// Address range: 0x1044 - 0x107c
int64_t _start(int64_t a1) {
    // 0x1044
    int64_t v1; // 0x1044
    int64_t v2; // 0x1044
    __libc_start_main(g9, (int32_t)a1, (char **)&v1, g8, g5, (void (*)())v2);
    abort();
    return &g14;
}

// Address range: 0x107c - 0x1090
int64_t call_weak_fn(void) {
    // 0x107c
    if (g7 == 0) {
        // 0x108c
        return 0;
    }
    // 0x1088
    return function_ee0(g7);
}

// Address range: 0x1090 - 0x10c4
int64_t deregister_tm_clones(int64_t a1) {
    if ((int64_t)&g12 + 7 - (int64_t)&g12 == 14 || (uint64_t)((int64_t)&g12 + 7 - (int64_t)&g12) < 14 || g6 == 0) {
        // 0x10c0
        return &g12;
    }
    // 0x10bc
    return _ITM_deregisterTMCloneTable(&g12, g6);
}

// Address range: 0x10c8 - 0x1104
int64_t register_tm_clones(int64_t * a1, int64_t a2) {
    // 0x10c8
    return &g12;
}

// Address range: 0x1108 - 0x1150
int64_t __do_global_dtors_aux(void) {
    unsigned char result = *(char *)&g12; // 0x1118
    if (result != 0) {
        // 0x1144
        return result;
    }
    int64_t v1 = 0; // 0x1128
    if (*(int64_t *)0x12fb8 != 0) {
        // 0x112c
        v1 = function_eb0(*(int64_t *)((int64_t)&g11 + 56));
    }
    // 0x1138
    deregister_tm_clones(v1);
    *(char *)&g12 = 1;
    // 0x1144
    return 1;
}

// Address range: 0x1150 - 0x1180
int64_t frame_dummy(void) {
    // 0x1150
    if (g4 == 0 || g10 == 0) {
        // 0x1160
        return register_tm_clones(&g4, 0);
    }
    // 0x1174
    return _Jv_RegisterClasses(&g4, g10);
}

// Address range: 0x1180 - 0x1188
int64_t function_1180(int64_t a1, int64_t a2) {
    // 0x1180
    int64_t v1; // 0x1180
    return register_tm_clones((int64_t *)v1, v1);
}

// Address range: 0x1188 - 0x1200
int64_t __libc_csu_init(void) {
    // 0x1188
    int64_t v1; // 0x1188
    int64_t result = _init(v1); // 0x11bc
    if ((int64_t)&g3 - (int64_t)&g2 >> 3 == 0) {
        // 0x11ec
        return result;
    }
    // 0x11cc
    return v1 & 0xffffffff;
}

// Address range: 0x1200 - 0x1204
int64_t __libc_csu_fini(void) {
    // 0x1200
    int64_t result; // 0x1200
    return result;
}

// Address range: 0x1204 - 0x1214
int64_t _fini(int64_t a1) {
    // 0x1204
    int64_t result; // 0x1204
    return result;
}

// --------------- Dynamically Linked Functions ---------------

// int64_t __cxa_finalize(void);
// int64_t __gmon_start__(void);
// int __libc_start_main(int *(main)(int, char **, char **), int argc, char ** ubp_av, void(* init)(void), void(* fini)(void), void(* rtld_fini)(void), void(* stack_end));
// int64_t _ITM_deregisterTMCloneTable(int64_t * a1, int64_t a2);
// int64_t _Jv_RegisterClasses(int64_t * a1, int64_t a2);
// void abort(void);
// void * malloc(size_t size);
// int puts(const char * s);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (6.3.0)
// Detected functions: 18

