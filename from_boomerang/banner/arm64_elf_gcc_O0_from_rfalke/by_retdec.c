//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

// ------------------- Function Prototypes --------------------

int64_t __do_global_dtors_aux(void);
int64_t __libc_csu_fini(void);
int64_t __libc_csu_init(void);
int64_t _fini(int64_t a1);
int64_t _init(int64_t a1);
int64_t _start(int64_t a1);
int64_t call_weak_fn(void);
int64_t deregister_tm_clones(void);
int64_t frame_dummy(void);
int64_t function_10a0(int64_t a1, int64_t a2);
int32_t function_ef0(char * s);
int64_t function_f00(int64_t a1);
int64_t * function_f10(int32_t size);
int32_t function_f20(int64_t main2, int32_t argc, char ** ubp_av, void (*init)(), void (*fini)(), void (*rtld_fini)());
int64_t function_f30(int64_t a1);
void function_f40(void);
int32_t function_f50(char * s);
int64_t register_tm_clones(void);

// --------------------- Global Variables ---------------------

int64_t g1 = 0x1070; // 0x12da8
int64_t g2 = 0x1028; // 0x12db0
int64_t g3 = 0; // 0x12db8
void (*g4)() = (void (*)())0x1358; // 0x12fa8
int64_t g5 = 0; // 0x12fb0
int64_t g6 = 0; // 0x12fc0
void (*g7)() = (void (*)())0x12e0; // 0x12fc8
int64_t g8 = 0x10a8; // 0x12fd0
int64_t g9 = 0; // 0x12fd8
int64_t g10 = 3792; // 0x13000
int64_t g11 = 0; // 0x132e8
char * glyphs[84] = {
    "x\x13",
    "\xb8\x13",
    "\xf8\x13",
    "8\x14",
    "x\x14",
    "\xb8\x14",
    "\xf8\x14",
    "8\x15",
    "x\x15",
    "\xb8\x15",
    "\xf8\x15",
    "8\x16",
    "x\x16",
    "\xb8\x16",
    "\xf8\x16",
    "8\x17",
    "x\x17",
    "\xb8\x17",
    "\xf8\x17",
    "8\x18",
    "x\x18",
    "\xb8\x18",
    "\xf8\x18",
    "8\x19",
    "x\x19",
    "\xb8\x19",
    "\xf8\x19",
    "8\x1a",
    "x\x1a",
    "\xb8\x1a",
    "\xf8\x1a",
    "8\x1b",
    "x\x1b",
    "\xb8\x1b",
    "\xf8\x1b",
    "8\x1c",
    "x\x1c",
    "\xb8\x1c",
    "\xf8\x1c",
    "8\x1d",
    "x\x1d",
    "\xb8\x1d",
    "\xf8\x1d",
    "8\x1e",
    "x\x1e",
    "\xb8\x1e",
    "\xf8\x1e",
    "8\x1f",
    "x\x1f",
    "\xb8\x1f",
    "\xf8\x1f",
    "8 ",
    "x ",
    "\xb8 ",
    "\xf8 ",
    "8!",
    "x!",
    "\xb8!",
    "\xf8!",
    "8\"",
    "x\"",
    "\xb8\"",
    "\xf8\"",
    "8#",
    "x#",
    "\xb8#",
    "\xf8#",
    "8$",
    "x$",
    "\xb8$",
    "8#",
    "\xf8$",
    "8%",
    "x%",
    "\xb8%",
    "\xf8%",
    "8&",
    "x&",
    "\xb8&",
    "\xf8&",
    "8'",
    "x'",
    "\xb8'",
    "\xf8'"
}; // 0x13048
int32_t g12;

// ------------------------ Functions -------------------------

// Address range: 0xeb0 - 0xec4
int64_t _init(int64_t a1) {
    // 0xeb0
    return call_weak_fn();
}

// Address range: 0xef0 - 0xf00
int32_t function_ef0(char * s) {
    // 0xef0
    return strlen(s);
}

// Address range: 0xf00 - 0xf10
int64_t function_f00(int64_t a1) {
    // 0xf00
    return __cxa_finalize();
}

// Address range: 0xf10 - 0xf20
int64_t * function_f10(int32_t size) {
    // 0xf10
    return malloc(size);
}

// Address range: 0xf20 - 0xf30
int32_t function_f20(int64_t main2, int32_t argc, char ** ubp_av, void (*init)(), void (*fini)(), void (*rtld_fini)()) {
    // 0xf20
    return __libc_start_main(main2, argc, ubp_av, init, fini, rtld_fini);
}

// Address range: 0xf30 - 0xf40
int64_t function_f30(int64_t a1) {
    // 0xf30
    return __gmon_start__();
}

// Address range: 0xf40 - 0xf50
void function_f40(void) {
    // 0xf40
    abort();
}

// Address range: 0xf50 - 0xf60
int32_t function_f50(char * s) {
    // 0xf50
    return puts(s);
}

// Address range: 0xf60 - 0xf98
int64_t _start(int64_t a1) {
    // 0xf60
    int64_t v1; // 0xf60
    int64_t v2; // 0xf60
    __libc_start_main(g8, (int32_t)a1, (char **)&v1, g7, g4, (void (*)())v2);
    abort();
    return &g12;
}

// Address range: 0xf98 - 0xfac
int64_t call_weak_fn(void) {
    // 0xf98
    if (g6 == 0) {
        // 0xfa8
        return 0;
    }
    // 0xfa4
    return function_f30(g6);
}

// Address range: 0xfb0 - 0xfe4
int64_t deregister_tm_clones(void) {
    if ((int64_t)&g11 + 7 - (int64_t)&g11 == 14 || (uint64_t)((int64_t)&g11 + 7 - (int64_t)&g11) < 14 || g5 == 0) {
        // 0xfe0
        return &g11;
    }
    // 0xfdc
    return _ITM_deregisterTMCloneTable(&g11, g5);
}

// Address range: 0xfe8 - 0x1024
int64_t register_tm_clones(void) {
    // 0xfe8
    return &g11;
}

// Address range: 0x1028 - 0x1070
int64_t __do_global_dtors_aux(void) {
    unsigned char result = *(char *)&g11; // 0x1038
    if (result != 0) {
        // 0x1064
        return result;
    }
    // 0x1040
    if (*(int64_t *)0x12fb8 != 0) {
        // 0x104c
        function_f00(*(int64_t *)((int64_t)&g10 + 64));
    }
    // 0x1058
    deregister_tm_clones();
    *(char *)&g11 = 1;
    // 0x1064
    return 1;
}

// Address range: 0x1070 - 0x10a0
int64_t frame_dummy(void) {
    // 0x1070
    if (g3 == 0 || g9 == 0) {
        // 0x1080
        return register_tm_clones();
    }
    // 0x1094
    return _Jv_RegisterClasses(&g3, g9);
}

// Address range: 0x10a0 - 0x10a8
int64_t function_10a0(int64_t a1, int64_t a2) {
    // 0x10a0
    return register_tm_clones();
}

// From module:   /mnt/from_boomerang/./banner/source.c
// Address range: 0x10a8 - 0x12dc
// Line range:    126 - 164
int main() {
    int64_t * v1 = (int64_t *)((int64_t)malloc(12) + 8);
    *v1 = (int64_t)"HelloWorld";
    int64_t str; // bp-112, 0x10a8
    int64_t v2 = &str;
    int32_t len = strlen("HelloWorld"); // 0x10f0
    uint32_t v3 = len < 10 ? len : 10;
    uint32_t v4 = 8 * v3 - 1; // 0x1234
    int32_t v5 = 0;
    int64_t v6 = 0; // 0x1228
    uint32_t v7; // 0x10a8
    int32_t v8; // 0x1130
    int32_t v9; // 0x10a8
    int64_t * v10; // 0x1198
    int64_t v11; // 0x10a8
    char v12; // 0x11cc
    int64_t v13; // 0x10a8
    unsigned char v14; // 0x112c
    if (v3 != 0) {
        v14 = *(char *)((0x100000000 * v6 >> 32) + *v1);
        v8 = (int32_t)v14 - 32;
        v7 = v8 > 0 ? v8 : 0;
        v9 = 8 * (int32_t)v6;
        v10 = (int64_t *)(8 * (int64_t)(v5 - v7 / 8 + (v7 & 0x7ffffff8)) + (int64_t)&glyphs);
        v11 = (int64_t)(7 * (v8 > 0 ? (int32_t)(v14 % 8) : -((-v7 % 8))));
        for (int64_t i = 0; i < 7; i++) {
            // 0x1150
            v12 = *(char *)(i + v11 + *v10);
            *(char *)((int64_t)v9 + v2 + i) = v12;
        }
        // 0x11f4
        *(char *)((int64_t)(v9 | 7) + v2) = 32;
        v13 = v6 + 1 & 0xffffffff;
        v6 = v13;
        while (v13 < (int64_t)v3) {
            // 0x111c
            v14 = *(char *)((0x100000000 * v6 >> 32) + *v1);
            v8 = (int32_t)v14 - 32;
            v7 = v8 > 0 ? v8 : 0;
            v9 = 8 * (int32_t)v6;
            v10 = (int64_t *)(8 * (int64_t)(v5 - v7 / 8 + (v7 & 0x7ffffff8)) + (int64_t)&glyphs);
            v11 = (int64_t)(7 * (v8 > 0 ? (int32_t)(v14 % 8) : -((-v7 % 8))));
            for (int64_t i = 0; i < 7; i++) {
                // 0x1150
                v12 = *(char *)(i + v11 + *v10);
                *(char *)((int64_t)v9 + v2 + i) = v12;
            }
            // 0x11f4
            *(char *)((int64_t)(v9 | 7) + v2) = 32;
            v13 = v6 + 1 & 0xffffffff;
            v6 = v13;
        }
    }
    // 0x122c
    int64_t v15; // 0x10a8
    int64_t v16; // 0x10a8
    char * v17; // 0x1248
    int64_t v18; // 0x1264
    if (v4 >= 0) {
        v16 = v4;
        v17 = (char *)((0x100000000 * v16 >> 32) + v2);
        while (*v17 == 32) {
            // 0x1254
            *v17 = 0;
            v18 = v16 + 0xffffffff;
            v15 = v18 & 0xffffffff;
            if ((int32_t)v18 < 0) {
                // break -> 0x1280
                break;
            }
            v16 = v15;
            v17 = (char *)((0x100000000 * v16 >> 32) + v2);
        }
    }
    // 0x1280
    puts((char *)&str);
    int32_t v19 = v5 + 1; // 0x128c
    while (v19 != 7) {
        // 0x121c
        v5 = v19;
        v6 = 0;
        if (v3 != 0) {
            v14 = *(char *)((0x100000000 * v6 >> 32) + *v1);
            v8 = (int32_t)v14 - 32;
            v7 = v8 > 0 ? v8 : 0;
            v9 = 8 * (int32_t)v6;
            v10 = (int64_t *)(8 * (int64_t)(v5 - v7 / 8 + (v7 & 0x7ffffff8)) + (int64_t)&glyphs);
            v11 = (int64_t)(7 * (v8 > 0 ? (int32_t)(v14 % 8) : -((-v7 % 8))));
            for (int64_t i = 0; i < 7; i++) {
                // 0x1150
                v12 = *(char *)(i + v11 + *v10);
                *(char *)((int64_t)v9 + v2 + i) = v12;
            }
            // 0x11f4
            *(char *)((int64_t)(v9 | 7) + v2) = 32;
            v13 = v6 + 1 & 0xffffffff;
            v6 = v13;
            while (v13 < (int64_t)v3) {
                // 0x111c
                v14 = *(char *)((0x100000000 * v6 >> 32) + *v1);
                v8 = (int32_t)v14 - 32;
                v7 = v8 > 0 ? v8 : 0;
                v9 = 8 * (int32_t)v6;
                v10 = (int64_t *)(8 * (int64_t)(v5 - v7 / 8 + (v7 & 0x7ffffff8)) + (int64_t)&glyphs);
                v11 = (int64_t)(7 * (v8 > 0 ? (int32_t)(v14 % 8) : -((-v7 % 8))));
                for (int64_t i = 0; i < 7; i++) {
                    // 0x1150
                    v12 = *(char *)(i + v11 + *v10);
                    *(char *)((int64_t)v9 + v2 + i) = v12;
                }
                // 0x11f4
                *(char *)((int64_t)(v9 | 7) + v2) = 32;
                v13 = v6 + 1 & 0xffffffff;
                v6 = v13;
            }
        }
        // 0x122c
        if (v4 >= 0) {
            v16 = v4;
            v17 = (char *)((0x100000000 * v16 >> 32) + v2);
            while (*v17 == 32) {
                // 0x1254
                *v17 = 0;
                v18 = v16 + 0xffffffff;
                v15 = v18 & 0xffffffff;
                if ((int32_t)v18 < 0) {
                    // break -> 0x1280
                    break;
                }
                v16 = v15;
                v17 = (char *)((0x100000000 * v16 >> 32) + v2);
            }
        }
        // 0x1280
        puts((char *)&str);
        v19 = v5 + 1;
    }
    // 0x12d0
    puts((char *)((int64_t)"#   #      #  #      #          #   # #         " + 2120));
    return 0;
}

// Address range: 0x12e0 - 0x1358
int64_t __libc_csu_init(void) {
    // 0x12e0
    int64_t v1; // 0x12e0
    int64_t result = _init(v1); // 0x1314
    if ((int64_t)&g2 - (int64_t)&g1 >> 3 == 0) {
        // 0x1344
        return result;
    }
    // 0x1324
    return v1 & 0xffffffff;
}

// Address range: 0x1358 - 0x135c
int64_t __libc_csu_fini(void) {
    // 0x1358
    int64_t result; // 0x1358
    return result;
}

// Address range: 0x135c - 0x136c
int64_t _fini(int64_t a1) {
    // 0x135c
    int64_t result; // 0x135c
    return result;
}

// --------------- Dynamically Linked Functions ---------------

// int64_t __cxa_finalize(void);
// int64_t __gmon_start__(void);
// int __libc_start_main(int *(main)(int, char **, char **), int argc, char ** ubp_av, void(* init)(void), void(* fini)(void), void(* rtld_fini)(void), void(* stack_end));
// int64_t _ITM_deregisterTMCloneTable(int64_t * a1, int64_t a2);
// int64_t _Jv_RegisterClasses(int64_t * a1, int64_t a2);
// void abort(void);
// void * malloc(size_t size);
// int puts(const char * s);
// size_t strlen(const char * s);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (6.3.0)
// Detected functions: 19

