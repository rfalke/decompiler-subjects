//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

// --------------------- Global Variables ---------------------

char * g1; // 0x4017a0
char * glyphs[1] = {
    "`\t@"
}; // 0x412040

// ------------------------ Functions -------------------------

// From module:   /mnt/from_boomerang/./banner/source.c
// Address range: 0x400680 - 0x4008d0
// Line range:    126 - 163
int main() {
    char line[1]; // bp-124, 0x400680
    int64_t v1 = (int64_t)malloc(12) + 8;
    *(int64_t *)v1 = (int64_t)"HelloWorld";
    int64_t v2 = (int64_t)&line;
    char ** str = (char **)v1;
    int32_t len = strlen(*str); // 0x4006d8
    uint32_t v3 = len < 10 ? len : 10;
    int32_t v4 = 8 * v3 - 1;
    int32_t v5 = 0;
    int32_t v6 = 0; // 0x400718
    uint32_t v7; // 0x400680
    int32_t v8; // 0x400680
    int64_t v9; // 0x400680
    char v10; // 0x4007c4
    int32_t v11; // 0x400820
    unsigned char v12; // 0x40072c
    int32_t v13; // 0x400730
    int64_t * v14; // 0x4007bc
    if (v3 != 0) {
        v12 = *(char *)((int64_t)*str + (int64_t)v6);
        v13 = (int32_t)v12 - 32;
        v7 = v13 > 0 ? v13 : 0;
        v14 = (int64_t *)(8 * (int64_t)(7 * v7 / 8 + v5) + (int64_t)&glyphs);
        v8 = 8 * v6;
        v9 = 7 * (v7 - (int32_t)(8 * (char)v7 / 8));
        for (int64_t i = 0; i < 7; i++) {
            // 0x400750
            v10 = *(char *)(i + v9 + *v14);
            *(char *)((int64_t)v8 + v2 + i) = v10;
        }
        // 0x4007f8
        *(char *)((int64_t)(v8 | 7) + v2) = 32;
        v11 = v6 + 1;
        v6 = v11;
        while (v11 < v3) {
            // 0x40071c
            v12 = *(char *)((int64_t)*str + (int64_t)v6);
            v13 = (int32_t)v12 - 32;
            v7 = v13 > 0 ? v13 : 0;
            v14 = (int64_t *)(8 * (int64_t)(7 * v7 / 8 + v5) + (int64_t)&glyphs);
            v8 = 8 * v6;
            v9 = 7 * (v7 - (int32_t)(8 * (char)v7 / 8));
            for (int64_t i = 0; i < 7; i++) {
                // 0x400750
                v10 = *(char *)(i + v9 + *v14);
                *(char *)((int64_t)v8 + v2 + i) = v10;
            }
            // 0x4007f8
            *(char *)((int64_t)(v8 | 7) + v2) = 32;
            v11 = v6 + 1;
            v6 = v11;
        }
    }
    // 0x40082c
    int32_t v15; // 0x400680
    int32_t v16; // 0x400680
    int32_t v17; // 0x400680
    char * v18; // 0x400850
    if (v4 >= 0) {
        v17 = v4;
        v18 = (char *)((int64_t)v17 + v2);
        while (*v18 == 32) {
            // 0x400860
            *v18 = 0;
            v15 = v17 - 1;
            v16 = v15;
            if (v15 < 0) {
                // break -> 0x400880
                break;
            }
            v17 = v16;
            v18 = (char *)((int64_t)v17 + v2);
        }
    }
    // 0x400880
    puts(line);
    int32_t v19 = v5 + 1; // 0x400890
    while (v19 != 7) {
        // 0x40070c
        v5 = v19;
        v6 = 0;
        if (v3 != 0) {
            v12 = *(char *)((int64_t)*str + (int64_t)v6);
            v13 = (int32_t)v12 - 32;
            v7 = v13 > 0 ? v13 : 0;
            v14 = (int64_t *)(8 * (int64_t)(7 * v7 / 8 + v5) + (int64_t)&glyphs);
            v8 = 8 * v6;
            v9 = 7 * (v7 - (int32_t)(8 * (char)v7 / 8));
            for (int64_t i = 0; i < 7; i++) {
                // 0x400750
                v10 = *(char *)(i + v9 + *v14);
                *(char *)((int64_t)v8 + v2 + i) = v10;
            }
            // 0x4007f8
            *(char *)((int64_t)(v8 | 7) + v2) = 32;
            v11 = v6 + 1;
            v6 = v11;
            while (v11 < v3) {
                // 0x40071c
                v12 = *(char *)((int64_t)*str + (int64_t)v6);
                v13 = (int32_t)v12 - 32;
                v7 = v13 > 0 ? v13 : 0;
                v14 = (int64_t *)(8 * (int64_t)(7 * v7 / 8 + v5) + (int64_t)&glyphs);
                v8 = 8 * v6;
                v9 = 7 * (v7 - (int32_t)(8 * (char)v7 / 8));
                for (int64_t i = 0; i < 7; i++) {
                    // 0x400750
                    v10 = *(char *)(i + v9 + *v14);
                    *(char *)((int64_t)v8 + v2 + i) = v10;
                }
                // 0x4007f8
                *(char *)((int64_t)(v8 | 7) + v2) = 32;
                v11 = v6 + 1;
                v6 = v11;
            }
        }
        // 0x40082c
        if (v4 >= 0) {
            v17 = v4;
            v18 = (char *)((int64_t)v17 + v2);
            while (*v18 == 32) {
                // 0x400860
                *v18 = 0;
                v15 = v17 - 1;
                v16 = v15;
                if (v15 < 0) {
                    // break -> 0x400880
                    break;
                }
                v17 = v16;
                v18 = (char *)((int64_t)v17 + v2);
            }
        }
        // 0x400880
        puts(line);
        v19 = v5 + 1;
    }
    // 0x4008bc
    puts((char *)&g1);
    return 0;
}

// --------------- Dynamically Linked Functions ---------------

// void * malloc(size_t size);
// int puts(const char * s);
// size_t strlen(const char * s);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: llvm (3.8.1)
// Detected functions: 1

