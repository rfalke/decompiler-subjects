/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, char *@<edx>, int@<ecx>, int@<ebx>, unsigned int@<ebp>, int@<edi>, int@<esi>);

//-------------------------------------------------------------------------
// Data declarations

int dword_41B000[277] =
{
  -19,
  -1127028475,
  -671859655,
  -1649308161,
  -1032135470,
  1782689475,
  -1026990501,
  140205572,
  -67126526,
  566244301,
  -1017198965,
  1561337154,
  46433115,
  1593982864,
  1039904749,
  281225744,
  134365508,
  1596015298,
  1590681461,
  -2010987529,
  1602306625,
  79911262,
  1796232584,
  -1996497921,
  285511684,
  1149798433,
  1141012624,
  219545412,
  33570864,
  1761886720,
  274365293,
  1176573208,
  575180834,
  -1854992102,
  272957151,
  356786464,
  -2008931806,
  -1877925262,
  -1761919166,
  579870901,
  294173313,
  958481440,
  537036817,
  2128294688,
  -1693380391,
  -2008805016,
  -2033518567,
  934492214,
  -2146360883,
  470032993,
  -843905628,
  481759670,
  -1324316650,
  1737535042,
  -2001533593,
  74334817,
  273514670,
  -1061813244,
  -2094922234,
  769209364,
  75762380,
  -1863566424,
  -1237179887,
  1973105459,
  2013563424,
  -233831399,
  -617340536,
  337238874,
  -1995410928,
  -649937278,
  623963340,
  142230672,
  1634111643,
  -1197905104,
  -1240434591,
  -1020052610,
  -2138000531,
  -385605532,
  1080751136,
  1004025240,
  1219647340,
  1859650082,
  1228281879,
  34685684,
  -662120056,
  1995495526,
  -1065989855,
  1322845217,
  -1604734864,
  -31275985,
  -626872637,
  16813829,
  -1565687101,
  -13375702,
  44565503,
  1112051730,
  136397826,
  270829636,
  2071987216,
  1124071867,
  68241441,
  -2146271096,
  306323458,
  872695842,
  302288962,
  -2369268,
  1149272191,
  563089410,
  562598024,
  579340305,
  136712720,
  2082480784,
  -1263872440,
  1888489732,
  2114460706,
  -1678979603,
  1212428000,
  33824836,
  270540838,
  40140836,
  -606376225,
  291536968,
  -1339944380,
  1120178178,
  270157890,
  69273666,
  -644180625,
  -2031205360,
  138413280,
  152142866,
  711356378,
  606393588,
  606147144,
  34087666,
  312080235,
  558406688,
  1611159780,
  -1240803770,
  840048859,
  1485850752,
  137110530,
  878847034,
  565857715,
  303167570,
  -1877324628,
  354845280,
  -2008903592,
  1449594018,
  -1541386544,
  315105588,
  -2109729144,
  -1006271739,
  -1194843872,
  1633026632,
  -1643806112,
  373432904,
  859001356,
  -1439951231,
  538053656,
  1614846006,
  2061274254,
  539232302,
  -994011088,
  671642856,
  -826233637,
  308854822,
  612684868,
  -1648244704,
  1008502345,
  861310170,
  139998593,
  574918324,
  209100852,
  2016625542,
  1857308708,
  -695775182,
  -568162100,
  -1575911900,
  -1710746815,
  638589040,
  1922086958,
  40175635,
  -1802457560,
  1801033942,
  613216262,
  349979214,
  -2066348864,
  1685462066,
  166655520,
  13689004,
  -2147050990,
  -1047376694,
  306753648,
  1846724128,
  -529134396,
  404468448,
  1385575457,
  1723919404,
  1926366272,
  403726358,
  1689835140,
  1266795390,
  1148724301,
  474532532,
  -2096883664,
  1315088606,
  655671961,
  1047144042,
  1711577272,
  -356871130,
  -1670985158,
  137518289,
  -1026662800,
  1614988612,
  -444053776,
  183428820,
  1787736187,
  1211664932,
  429472856,
  711221454,
  483845174,
  -1595752189,
  -1997780966,
  -1974691590,
  -736837501,
  -1663002552,
  69044148,
  -637250844,
  674629848,
  1622956216,
  639639074,
  -798910406,
  538489372,
  -1153280404,
  1178435888,
  1215844480,
  497961212,
  299472988,
  1285057114,
  1578223650,
  -824606413,
  483045542,
  -2004481852,
  1615689244,
  -1438111670,
  -1055968156,
  -2141273119,
  1043100296,
  214710384,
  -398571858,
  372781236,
  2116053622,
  -351296372,
  616085616,
  672283269,
  1175224752,
  1864412167,
  46459212,
  171378000,
  -67037808,
  -2088099937,
  -1491777033,
  71362177,
  146285570,
  -12289,
  -243185725,
  536871424,
  -2116356287,
  -351322663,
  -928200820,
  268627841,
  -9437185,
  -1048505344,
  849209106,
  -1576775616,
  -1305869056,
  -2065064879
}; // weak


//----- (0044F7D0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(
        int a1@<eax>,
        char *a2@<edx>,
        int a3@<ecx>,
        int a4@<ebx>,
        unsigned int a5@<ebp>,
        int a6@<edi>,
        int a7@<esi>)
{
  int *v7; // esi
  int *v8; // edi
  char v9; // al
  bool v10; // cf
  int v11; // ebx
  int v12; // ebx
  int v13; // ett
  int i; // eax
  bool v15; // cf
  int v16; // ebx
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  bool v20; // zf
  int v21; // ebx
  int v22; // ett
  unsigned int v23; // eax
  bool v24; // cf
  int v25; // ebx
  int v26; // ett
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  unsigned int v32; // eax
  unsigned int v33; // eax
  int v34; // eax
  bool v35; // cf
  int v36; // ebx
  int v37; // ett
  bool v38; // cf
  int v39; // ebx
  int v40; // ett
  bool v41; // cf
  int v42; // ebx
  int v43; // ebx
  int v44; // ett
  bool v45; // zf
  int v46; // ebx
  int v47; // ett
  unsigned int v48; // ecx
  char v49; // al
  int v50; // eax
  bool v51; // cc
  int *v52; // esi
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__fastcall *v61)(int, char *, int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  char *v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  unsigned int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v75 = a7;
  v74 = a6;
  v73 = a5;
  v72 = &v76;
  v71 = a4;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v7 = dword_41B000;
  v8 = &dword_41B000[-26624];
  v67 = &dword_41B000[-26624];
  while ( 1 )
  {
    v12 = *v7;
    v10 = (unsigned int)v7++ < 0xFFFFFFFC;
    v13 = v10 + v12;
    v10 = __CFADD__(v10, v12) | __CFADD__(v12, v13);
    v11 = v12 + v13;
    do
    {
      if ( v10 )
      {
        v9 = *(_BYTE *)v7;
        v7 = (int *)((char *)v7 + 1);
        *(_BYTE *)v8 = v9;
        v8 = (int *)((char *)v8 + 1);
      }
      else
      {
        for ( i = 1; ; i = v23 + v24 + v23 )
        {
          v15 = __CFADD__(v11, v11);
          v16 = 2 * v11;
          if ( !v16 )
          {
            v17 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v18 = v10 + v17;
            v15 = __CFADD__(v10, v17) | __CFADD__(v17, v18);
            v16 = v17 + v18;
          }
          v19 = i + v15 + i;
          v10 = __CFADD__(v16, v16);
          v20 = 2 * v16 == 0;
          v11 = 2 * v16;
          if ( v10 )
          {
            if ( !v20 )
              break;
            v21 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v22 = v10 + v21;
            v10 = __CFADD__(v10, v21) | __CFADD__(v21, v22);
            v11 = v21 + v22;
            if ( v10 )
              break;
          }
          v23 = v19 - 1;
          v24 = __CFADD__(v11, v11);
          v11 *= 2;
          if ( !v11 )
          {
            v25 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v26 = v10 + v25;
            v24 = __CFADD__(v10, v25) | __CFADD__(v25, v26);
            v11 = v25 + v26;
          }
        }
        v31 = 0;
        v10 = v19 < 3;
        v32 = v19 - 3;
        if ( v10 )
        {
          v35 = __CFADD__(v11, v11);
          v11 *= 2;
          if ( !v11 )
          {
            v36 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v37 = v10 + v36;
            v35 = __CFADD__(v10, v36) | __CFADD__(v36, v37);
            v11 = v36 + v37;
          }
        }
        else
        {
          v33 = v32 << 8;
          LOBYTE(v33) = *(_BYTE *)v7;
          v7 = (int *)((char *)v7 + 1);
          v34 = ~v33;
          if ( !v34 )
          {
            v52 = v67;
            v53 = (char *)(v67 + 78848);
LABEL_39:
            v54 = *(_DWORD *)v53;
            if ( *(_DWORD *)v53 )
            {
              v55 = (int *)((char *)v52 + *((_DWORD *)v53 + 1));
              v53 += 8;
              v56 = ((int (__fastcall *)(int, char *, int, int, char *, int, int, int *, unsigned int, int, int))v52[81534])(
                      v31,
                      a2,
                      (int)v52 + v54 + 326076,
                      v68,
                      v69,
                      v70,
                      v71,
                      v72,
                      v73,
                      v74,
                      v75);
              while ( 1 )
              {
                v57 = *v53++;
                if ( !v57 )
                  goto LABEL_39;
                v58 = v53;
                v66 = v53;
                v59 = v57 - 1;
                do
                {
                  if ( !v58 )
                    break;
                  v20 = *v53++ == (char)v59;
                  --v58;
                }
                while ( !v20 );
                v60 = ((int (__cdecl *)(int, char *))v52[81535])(v56, v66);
                if ( !v60 )
                  break;
                *v55++ = v60;
              }
              v54 = ((int (*)(void))v52[81539])();
            }
            v61 = (void (__fastcall *)(int, char *, int *, int, int, int *))v52[81536];
            v62 = v52 - 1024;
            v64 = v54;
            v61(v31, a2, v52 - 1024, 4096, 4, &v64);
            *((_BYTE *)v62 + 495) &= ~0x80u;
            *((_BYTE *)v62 + 535) &= ~0x80u;
            ((void (__cdecl *)(int *, int, int, int *))v61)(v52 - 1024, 4096, v63[0], v63);
            do
              v64 = 0;
            while ( &v64 != &v65 - 32 );
            JUMPOUT(0x417A10);
          }
          v35 = v34 & 1;
          a5 = v34 >> 1;
        }
        if ( v35 )
          goto LABEL_15;
        v31 = 1;
        v38 = __CFADD__(v11, v11);
        v11 *= 2;
        if ( !v11 )
        {
          v39 = *v7;
          v10 = (unsigned int)v7++ < 0xFFFFFFFC;
          v40 = v10 + v39;
          v38 = __CFADD__(v10, v39) | __CFADD__(v39, v40);
          v11 = v39 + v40;
        }
        if ( v38 )
        {
LABEL_15:
          v27 = __CFADD__(v11, v11);
          v11 *= 2;
          if ( !v11 )
          {
            v28 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v29 = v10 + v28;
            v27 = __CFADD__(v10, v28) | __CFADD__(v28, v29);
            v11 = v28 + v29;
          }
          v30 = v31 + v27 + v31;
        }
        else
        {
          while ( 1 )
          {
            v41 = __CFADD__(v11, v11);
            v42 = 2 * v11;
            if ( !v42 )
            {
              v43 = *v7;
              v10 = (unsigned int)v7++ < 0xFFFFFFFC;
              v44 = v10 + v43;
              v41 = __CFADD__(v10, v43) | __CFADD__(v43, v44);
              v42 = v43 + v44;
            }
            v31 += v41 + v31;
            v10 = __CFADD__(v42, v42);
            v45 = 2 * v42 == 0;
            v11 = 2 * v42;
            if ( v10 )
            {
              if ( !v45 )
                break;
              v46 = *v7;
              v10 = (unsigned int)v7++ < 0xFFFFFFFC;
              v47 = v10 + v46;
              v10 = __CFADD__(v10, v46) | __CFADD__(v46, v47);
              v11 = v46 + v47;
              if ( v10 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v48 = (a5 < 0xFFFFFB00) + v30 + 2;
        a2 = (char *)v8 + a5;
        if ( a5 <= 0xFFFFFFFC )
        {
          do
          {
            v50 = *(_DWORD *)a2;
            a2 += 4;
            *v8++ = v50;
            v51 = v48 <= 4;
            v48 -= 4;
          }
          while ( !v51 );
          v8 = (int *)((char *)v8 + v48);
        }
        else
        {
          do
          {
            v49 = *a2++;
            *(_BYTE *)v8 = v49;
            v8 = (int *)((char *)v8 + 1);
            --v48;
          }
          while ( v48 );
        }
      }
      v10 = __CFADD__(v11, v11);
      v11 *= 2;
    }
    while ( v11 );
  }
}
// 44F940: positive sp value 50 has been found
// 44F940: control flows out of bounds to 417A10
// 44F8D7: variable 'v31' is possibly undefined
// 44F8D7: variable 'a2' is possibly undefined
// 41B000: using guessed type int dword_41B000[277];
// 44F7D0: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
