/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// char __usercall start@<al>(int a1@<eax>, int a2@<edx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>);


//----- (00401399) --------------------------------------------------------
char __usercall start@<al>(int a1@<eax>, int a2@<edx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>)
{
  int v5; // eax
  int v6; // kr08_4
  int v7; // ebx
  int v8; // esi
  _BYTE *v9; // edx
  int v11; // ecx
  unsigned int v12; // eax
  bool v13; // cf
  int v14; // edi
  unsigned __int64 v15; // kr00_8
  int v16; // eax
  int v17; // edi
  int v18; // esi
  int v19; // ecx
  unsigned int v20; // edi
  int v21; // edx
  unsigned int v22; // esi
  unsigned int v23; // ebx
  int v24; // edi
  int v25; // eax
  int v26; // ecx
  unsigned int v27; // ebx
  unsigned int v28; // esi
  int v30; // esi
  int v31; // edi
  int v32; // eax
  _BYTE *v33; // ebx
  int v34; // ecx
  int v35; // edi
  unsigned int v36; // edx
  unsigned int v37; // ecx
  __int64 v38; // rax
  __int64 v39; // rdi
  int v40; // ebx
  int v41; // ecx
  int v42; // edi
  int v44; // esi
  int v45; // edx
  int v46; // ett
  int v47; // edi
  int v48; // eax
  int v49; // esi
  __int64 v50; // rcx
  unsigned int v51; // ecx
  int v52; // edx
  unsigned int v53; // ecx
  unsigned int v54; // eax
  int v55; // edi
  int v56; // edi
  unsigned int v57; // eax
  int v58; // edi
  unsigned int v59; // esi
  unsigned int v60; // edx
  unsigned int v61; // ecx
  int v62; // ebx
  int v63; // esi
  int v64; // ecx
  int v65; // eax
  int v66; // eax
  unsigned int v67; // eax
  int v68; // edi
  unsigned int v69; // kr10_4
  unsigned int v70; // ecx
  _BYTE *v71; // edx
  unsigned int v72; // esi
  __int64 v73; // kr18_8
  _BYTE *v74; // edi
  int v75; // eax
  int v76; // edi
  unsigned __int64 v77; // rax
  __int64 v78; // rcx
  unsigned __int64 v79; // kr28_8
  int v80; // esi
  int v81; // eax
  unsigned int v82; // esi
  int v83; // edi

  v42 = a3 & (a4 - (a2 | a5) - ((a2 | a5) - a3));
  v44 = a1 | (2 * a2);
  v46 = a2 & a1;
  v47 = (v44 | (v42 - v44)) - a2;
  v48 = v47 | a2 | a1;
  LODWORD(v50) = a2 - v47;
  v49 = (a2 - v47) & (v44 - (a2 & a1));
  HIDWORD(v50) = v48 + v46;
  v73 = v50 + (unsigned int)v48;
  v74 = (_BYTE *)((HIDWORD(v50) | v49) + v47 - HIDWORD(v73) - HIDWORD(v50));
  v21 = -835576778;
  LODWORD(v50) = v74;
  if ( HIDWORD(v50) == -1040356510 )
  {
    *v74 -= 120;
    __asm { retf }
  }
  v35 = 0;
  v28 = v73 + 835576778;
  LODWORD(v50) = (v50 & 0xCE321C36) - 835576778;
  v75 = v73 - HIDWORD(v50);
  v27 = v50 + v73 + 835576778;
  do
  {
    v26 = v75 + v34;
    v24 = v27 | v35;
    if ( v21 == 982450308 )
    {
      LOBYTE(v75) = *(_BYTE *)v26 + v75 + 2;
      v25 = v75 - 1;
      while ( 1 )
      {
        LODWORD(v78) = v28 + v26;
        HIDWORD(v78) = (__PAIR64__(v27, v24) - __PAIR64__(v78, v28)) >> 32;
        v76 = v21 + (v21 | (v24 - v28));
        v77 = v78 & (HIDWORD(v78) & (unsigned int)v25 | 0xFFFFFFFF00000000ui64);
        HIDWORD(v78) &= v76;
        v79 = v77 + HIDWORD(v77);
        v80 = v28 - v78 - HIDWORD(v79);
        if ( (_DWORD)v79 == -481420879 )
          JUMPOUT(0x401393);
        v56 = v77 + v76;
        v57 = v79 | v77;
        LODWORD(v78) = v79 & v78;
        v58 = (__PAIR64__(((unsigned int)v79 & v56) - v80, (unsigned int)v79 & v56) - __PAIR64__(v80, v80)) >> 32;
        v59 = v78 & v79 | ((v78 & v79) + v80);
        v60 = HIDWORD(v78) & v78 & v79;
        v61 = v78 - v58;
        v62 = v60 | HIDWORD(v78);
        v53 = v59 + ((__PAIR64__(v61, v57) - __PAIR64__(v60, v61)) >> 32);
        v54 = v59;
        v55 = v53 | v60;
        if ( v53 == -715842296 )
        {
          *(_BYTE *)v59 += v59;
          JUMPOUT(0x40125C);
        }
        HIDWORD(v38) = v59 | v62 | v59;
        HIDWORD(v39) = v55 & v62;
        v40 = v53 | v55 & v62;
        LODWORD(v38) = v55 + v54 - v40;
        v41 = HIDWORD(v39);
        v6 = v40 - v38;
        v5 = (__PAIR64__(v38, v40) - v38) >> 32;
        LODWORD(v39) = v6;
        v7 = HIDWORD(v39);
        HIDWORD(v38) = v5 & (HIDWORD(v38) - ((v39 + (unsigned __int64)HIDWORD(v39)) >> 32));
        v8 = HIDWORD(v38) & HIDWORD(v39);
        v9 = (_BYTE *)(v5 | HIDWORD(v38));
        v30 = v8 - (v41 | v5);
        v31 = v41 | v5;
        v32 = (v41 | v5) - (_DWORD)v9;
        v33 = (_BYTE *)(v30 & (v41 | v7));
        if ( v31 == -1138625284 )
        {
          *v9 &= 0x90u;
          *v33 = v32;
          JUMPOUT(0x4010F4);
        }
        v18 = v30 - v31;
        v19 = v18;
        v81 = v32 - v18;
        v52 = v18;
        v17 = v18 | v81 | v31;
        v65 = v18 | (unsigned int)&v33[v81];
        if ( v18 != -1151486178 )
          JUMPOUT(0x401321);
        *(_BYTE *)(v65 + 570524740) += 4;
LABEL_41:
        v82 = v19 | v17 | ((v65 & v18) - v52);
        v83 = v82 | v17;
        LOBYTE(v65) = *(_BYTE *)(v52 - 1);
        v66 = v65 + 1073741778;
        if ( !v66 )
        {
          if ( v82 == -1198751834 )
            JUMPOUT(0x40116D);
          v45 = v82 & v52;
          v12 = v82 - ((__PAIR64__(__PAIR64__(v82, v82) < __PAIR64__(v82, v45), v82) - (unsigned int)v45) >> 32);
          v13 = (__PAIR64__(v82, v82)
               - __PAIR64__(
                   v45,
                   (__PAIR64__(__PAIR64__(v82, v82) < __PAIR64__(v82, v45), v82) - (unsigned int)v45) >> 32)) >> 32 < (__PAIR64__(v82 < (unsigned int)(v82 < (__PAIR64__(__PAIR64__(v82, v82) < __PAIR64__(v82, v45), v82) - (unsigned int)v45) >> 32) + v45, v82) - (unsigned int)v45) >> 32;
          v14 = ((__PAIR64__(v82, v82)
                - __PAIR64__(
                    v45,
                    (__PAIR64__(__PAIR64__(v82, v82) < __PAIR64__(v82, v45), v82) - (unsigned int)v45) >> 32)) >> 32)
              - ((__PAIR64__(
                    v82 < (unsigned int)(v82 < (__PAIR64__(__PAIR64__(v82, v82) < __PAIR64__(v82, v45), v82)
                                              - (unsigned int)v45) >> 32)
                        + v45,
                    v82)
                - (unsigned int)v45) >> 32);
          v15 = __PAIR64__(v82, v12 - (v13 + v14))
              - __PAIR64__(v45, (unsigned int)(v12 < (unsigned int)v13 + v14) + v45);
          v16 = v14 & ((__PAIR64__(v12 - (v13 + v14), v12) - __PAIR64__(v45, (unsigned int)v13 + v14)) >> 32);
          if ( (HIDWORD(v15) & (v14 + v45)) == 1090972481 )
          {
            *(_BYTE *)(v16 + 34) = v82;
            *(_BYTE *)v82 = v16;
            JUMPOUT(0x401066);
          }
          JUMPOUT(0x4010F3);
        }
        v69 = v66 - v82;
        v68 = (__PAIR64__(v83, v66) - __PAIR64__(v82, v82)) >> 32;
        v67 = v69;
        v70 = v82;
        v71 = (_BYTE *)(v82 + v52);
        v72 = v69 & v82;
        if ( v68 == 1084534501 )
        {
          BYTE1(v67) = *v71 & BYTE1(v69);
          *(_BYTE *)(v67 + 1) += v70;
          JUMPOUT(0x4012E6);
        }
        v20 = v72;
        v21 = (int)&v71[-v69];
        v13 = v72 < v70;
        v22 = v72 - v70;
        v23 = v22 - (v13 + v20);
        v24 = v70 & v23 & v20;
        v25 = v24;
        v26 = v24;
        v27 = v23 - v21;
        v28 = v27 + v22;
      }
    }
    v13 = __CFADD__(v21, -839904739);
    v21 -= 839904739;
    v34 = v27 | v26;
    v35 = v75 & (v24 - (v13 + v21));
  }
  while ( v21 != 958763971 );
  __asm { fnclex }
  v11 = 0;
  while ( 1 )
  {
    __asm { smsw    eax }
    if ( ++v11 == 2 )
      return _EAX;
    if ( (_EAX & 8) == 0 )
    {
      do
        __asm { smsw    eax }
      while ( (_EAX & 2) == 0 );
      v63 = _EAX | _EAX | v28;
      v64 = ((v27 & v11) - ((v35 - v11) | 0x392593C3)) | 0x724B2786;
      v65 = 0;
      v36 = v64 | v63 | 0xC6DA6C3D;
      v37 = (v63 - (v63 | 0xC6DA6C3D)) | v64;
      v51 = v37 - v36;
      v52 = 0;
      if ( v51 != -185947298 )
      {
        v17 = 0;
        __asm { int     2Eh; DOS 2+ internal - EXECUTE COMMAND }
        v18 = 0;
        v19 = 0;
        goto LABEL_41;
      }
      LOBYTE(_EAX) = -124;
      return _EAX;
    }
  }
}
// 401065: control flows out of bounds to 401066
// 4010F2: control flows out of bounds to 4010F4
// 40116B: control flows out of bounds to 40116D
// 40125A: control flows out of bounds to 40125C
// 4012E5: control flows out of bounds to 4012E6
// 40138D: control flows out of bounds to 401393
// 4012F7: control flows out of bounds to 401321
// 40105A: control flows out of bounds to 4010F3
// 401414: conditional instruction was optimized away because of 'edx.4 in (==0|==BB5DB71E)'

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
