/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// __int32 __usercall start@<eax>(__int32 a1@<ebx>, int a2@<ebp>);
// int __usercall sub_40103C@<eax>(int a1@<eax>, int a2@<ebp>, int (__stdcall **a3)(int)@<esi>);
void sub_40104F();
void __stdcall LZClose(INT hFile);


//----- (00401020) --------------------------------------------------------
__int32 __usercall start@<eax>(__int32 a1@<ebx>, int a2@<ebp>)
{
  __int32 result; // eax
  char v3; // zf
  __int32 v4; // [esp+0h] [ebp-4h] BYREF

  sub_40104F();
  do
    result = sub_40103C(result, a2, (int (__stdcall **)(int))LZClose);
  while ( !v3 );
  v4 = result;
  _InterlockedExchange(&v4, a1);
  return result;
}
// 401030: variable 'result' is possibly undefined
// 401035: variable 'v3' is possibly undefined

//----- (0040103C) --------------------------------------------------------
int __usercall sub_40103C@<eax>(int a1@<eax>, int a2@<ebp>, int (__stdcall **a3)(int)@<esi>)
{
  int result; // eax

  result = (*a3)(a1);
  *(_DWORD *)(a2 + result + 1) -= 38953844;
  return result;
}

//----- (0040104F) --------------------------------------------------------
void sub_40104F()
{
  ;
}

// nfuncs=3 queued=3 decompiled=3 lumina nreq=0 worse=0 better=0
// ALL OK, 3 function(s) have been successfully decompiled
