/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall sub_40D6E0(int _EAX@<eax>, __int16 _CX@<cx>, __int16 _BX@<bx>, int a4@<edi>, int a5@<esi>);


//----- (0040D6E0) --------------------------------------------------------
void __usercall sub_40D6E0(int _EAX@<eax>, __int16 _CX@<cx>, __int16 _BX@<bx>, int a4@<edi>, int a5@<esi>)
{
  __int16 v6; // bx
  bool v13; // cf
  char v16; // cl

  __asm { rcl     bl, cl }
  _EDX = a4;
  _EDI = a4 - a5;
  LOWORD(_EDI) = __ROR2__(_EDI, _CX);
  __asm { rcl     dx, cl }
  BYTE1(_EAX) += _CX;
  LOBYTE(_BX) = (BYTE1(_EAX) < (unsigned __int8)(__CFSHL__(_EDI, 20) - 29)) + (HIBYTE(_CX) | _BX) + 9;
  LOBYTE(_EAX) = 4;
  BYTE1(_EDX) -= HIBYTE(_CX) | 0x42;
  v16 = _CX + 42;
  BYTE1(_EAX) = __CFSHL__(_EDI, 20) - 29 - BYTE1(_EAX);
  LOBYTE(_EDX) = -71;
  v13 = __CFSHL__(a5, v16);
  _ESI = a5 << v16;
  LOWORD(_EAX) = _EAX - 1;
  __asm { rcl     edx, 1 }
  BYTE1(_EDX) -= v13 - 5;
  __asm
  {
    rcr     esi, 13h
    rcl     edx, 11h
  }
  LOBYTE(_BX) = (_BX - 1) & 0xF3;
  HIBYTE(_BX) ^= _BX;
  BYTE1(_EDX) += HIBYTE(_BX) + __CFADD__(BYTE1(_EAX), 98);
  _CL = _EDX;
  HIBYTE(_BX) += _EAX;
  __asm { rcr     dh, cl }
  _CL = 5;
  BYTE1(_EAX) = ~(BYTE1(_EAX) + 98);
  LOBYTE(_ESI) = _BX;
  __asm { rcl     ah, cl }
  LOBYTE(_EAX) = _EAX - (__CFADD__(BYTE1(_EAX), 62) + BYTE1(_EDX));
  BYTE1(_EAX) = __ROL1__(BYTE1(_EAX) + 62, 5);
  _EAX = _EAX >> 3;
  HIBYTE(_BX) &= _EDX;
  LOBYTE(_BX) = (char)_BX >> 5;
  v6 = _EAX + _BX;
  LOBYTE(_EAX) = _EDX;
  BYTE1(_EAX) = -(_EDX & 5);
  __asm { rcl     eax, cl }
  LOBYTE(v6) = v6 - 22 + 37;
  _ECX = 64;
  __asm { rcr     cx, cl }
  BYTE1(_EDX) = HIBYTE(v6);
  BYTE1(_ECX) = __ROL1__(BYTE1(_ECX), _ECX);
  LOBYTE(_ECX) = -(char)(__CFSHL__(_ECX, 26) + v6);
  LOBYTE(_EDX) = (char)v6 >> _ECX;
  LOWORD(_ESI) = (_EDX & ((v6 ^ _ESI & 0x40) - __CFSHR__(v6, _ECX))) - (__CFSHR__(HIBYTE(v6), _ECX) + (_WORD)_EAX);
  LOBYTE(_ECX) = 96;
  LOWORD(_EAX) = __ROR2__(_EAX, 96);
  _EAX = __ROL4__(_EAX, 96);
  LOWORD(_ESI) = _ESI | 0xD860;
  LOWORD(_EDI) = 0;
  __asm
  {
    rcl     si, cl
    rcr     di, cl
    rcl     eax, cl
  }
  JUMPOUT(0x40D683);
}
// 40D72B: control flows out of bounds to 40D72D
// 40D941: control flows out of bounds to 40D944
// 40D9E7: control flows out of bounds to 40D9E9
// 40DD09: control flows out of bounds to 40DD0A
// 40D3DF: control flows out of bounds to 40D3E0
// 40D65E: control flows out of bounds to 40D664
// 40DA4C: control flows out of bounds to 40DCDE
// 40DBF3: control flows out of bounds to 81055856
// 40D4CA: control flows out of bounds to D1E0E8FF
// 40D6B2: control flows out of bounds to 40D497
// 40DBE6: control flows out of bounds to 40DB69
// 40D485: control flows out of bounds to 40D978
// 40D676: control flows out of bounds to 40D683
// 40D67C: control flows out of bounds to 40D68B
// 40D6E0: could not find valid save-restore pair for ebp
// 40DC5E: conditional instruction was optimized away because of 'dl.1!=0'
// 40D5EF: conditional instruction was optimized away because of 'si.2!=0'
// 40D67A: conditional instruction was optimized away because of 'ah.1!=0'

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
