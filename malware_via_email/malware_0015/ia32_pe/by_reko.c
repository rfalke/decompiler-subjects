// subject_UPX0.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

byte g_b401160 = 0x20; // 00401160
Eq_187 g_t401164 = // 00401164;
byte g_b401184 = 0x5C; // 00401184
byte g_b401188 = 0x2E; // 00401188
Eq_629 g_t4011A0 = // 004011A0;
word32 g_dw4011C0 = 0xC8CF8090; // 004011C0
word32 g_dw4011CC = 3737310683; // 004011CC
word24 g_n401215 = ~0x003C2D29; // 00401215
word24 g_n401289 = 0x00637E65; // 00401289
Eq_1433 g_t4012D8 = // 004012D8;
word24 g_n401341 = 0x00171E01; // 00401341
word32 g_dw401444 = ~0x11061016; // 00401444
word32 g_dw401450 = 2863316116; // 00401450
// 00402170: Register ui32 fn00402170()
// Called from:
//      fn004022C0
//      fn00402480
ui32 fn00402170()
{
	word32 eax_6 = fn004039C0();
	word64 edx_eax_15 = __rdtsc();
	word32 eax_24 = fn004039C0();
	word64 edx_eax_33 = __rdtsc();
	word32 eax_42 = fn004039C0();
	word64 edx_eax_51 = __rdtsc();
	word32 eax_60 = fn004039C0();
	word64 edx_eax_69 = __rdtsc();
	return (((eax_6 ^ ((word32) edx_eax_15 ^ SLICE(edx_eax_15, word32, 32))) << 0x08 ^ (eax_24 ^ ((word32) edx_eax_33 ^ SLICE(edx_eax_33, word32, 32)))) << 0x08 ^ (eax_42 ^ ((word32) edx_eax_51 ^ SLICE(edx_eax_51, word32, 32)))) << 0x08 ^ (eax_60 ^ ((word32) edx_eax_69 ^ SLICE(edx_eax_69, word32, 32)));
}

// 004021E0: Register word32 fn004021E0()
// Called from:
//      fn00402590
word32 fn004021E0()
{
	ptr32 fp;
	fn00403400(0x00, fp - 0x0104, 0x0104);
	word32 eax_47 = fn00403180(fp - 0x0104, 0x80000000, 0x03, 0x00, 0x03, 0x00, 0x00);
	if (eax_47 == ~0x00)
		return;
	fn00403760(eax_47, ~0x03, 0x00, 0x02);
	g_w405028 *= 0x00;
	fn00403230(eax_47, fp - 0x010C, 0x04, fp - 0x0108, 0x00);
	g_t405024.u0 = (int32) (g_t405024.u0 *s 0x38);
	fn00402CD0(eax_47);
	g_t405020.u0 = (uint32) (g_t405020.u0 >> 0x00);
	return;
}

// 004022C0: void fn004022C0()
// Called from:
//      fn00402590
void fn004022C0()
{
	ptr32 fp;
	word32 dwLoc0474;
	Eq_135 tLoc0208;
	word32 dwLoc0484;
	word32 dwLoc0480;
	fn004037E0(0x0104, fp - 0x030C);
	fn004036E0(fp - 0x030C, 0x00401183, 0x00, fp - 0x0410);
	uint32 edx_60 = (uint32) ((uint64) fn00402170() % 0xC000);
	bi8 bl_169 = 188;
	int32 eax_80 = fn00402DD0(fn00402D40(), 0x00, edx_60 + 0xC000);
	if (eax_80 != 0x00)
	{
		Eq_197 edi_116 = 0x00;
		if (edx_60 > ~0xBFFF)
		{
			do
			{
				*((word32) edi_116.u1 + eax_80) = (byte) ((uint64) fn00402170() % 100) + 0x1E;
				edi_116 = (word32) edi_116.u1 + 1;
			} while (edi_116 < edx_60 + 0xC000);
		}
		word32 eax_137 = fn00403180(fp - 0x0410, 0x40000000, 0x00, 0x00, 0x02, 0x00, 0x00);
		fn00403300(eax_137, eax_80, edx_60 + 0xC000, fp - 0x0488, 0x00);
		fn00402CD0(eax_137);
		fn00402EB0(fn00402D40(), 0x00, eax_80);
		bl_169 = 0x00;
	}
	memcpy(&dwLoc0474, &g_t401164, 0x1C);
	int8 al_223 = bl_169 *s bl_169;
	int32 eax_229;
	for (eax_229 = 0x00; eax_229 < 0x1E; ++eax_229)
		(&dwLoc0474)[eax_229].u0 = (&dwLoc0474)[eax_229] ^ 0x13;
	fn00403620(&dwLoc0474, &tLoc0208, 0x0208);
	fn00402950(&tLoc0208, &g_b401160);
	int8 bl_266 = al_223 *s 44;
	if (al_223 *s 44 == 0x6D)
		bl_266 = 121;
	fn00402950(&tLoc0208, fp - 0x0410);
	if (bl_266 >= 0x41)
		g_t405024.u0 = (int32) (g_t405024.u0 - (int32) bl_266);
	word32 ecx_307;
	word32 * edi_309 = fp - 0x0454;
	for (ecx_307 = 0x11; ecx_307 != 0x00; --ecx_307)
	{
		*edi_309 = 0x00;
		++edi_309;
	}
	fn00403060(0x00, &tLoc0208, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fp - 0x0454, fp - 0x0484);
	fn00402CD0(dwLoc0484);
	fn00402CD0(dwLoc0480);
}

// 00402480: void fn00402480(Stack (ptr32 byte) dwArg04)
// Called from:
//      fn00402590
void fn00402480(byte * dwArg04)
{
	Eq_341 tLoc0124;
	Eq_342 tLoc0104;
	Eq_129 al_5 = g_t405020.u1;
	int32 ebp_19 = 0x41;
	Eq_129 bl_20 = al_5;
	int32 esi_21;
	int32 edi_25 = (int32) al_5;
	for (esi_21 = 0x00; esi_21 < 0x0A; ++esi_21)
	{
		(&tLoc0124)[esi_21] = (struct Eq_360) ((byte) ((uint64) fn00402170() % 0x1A) + 0x61);
		ebp_19 >>= (byte) edi_25;
		int16 bp_64 = (word16) ebp_19;
	}
	(&tLoc0124)[esi_21] = (struct Eq_372) 0x00;
	switch (edi_25)
	{
	case 0x12:
		bl_20 = (word32) al_5 + 11;
		break;
	case 0x50:
		g_w405028 -= bp_64;
		break;
	case 0xC4:
		g_dw40502C += ebp_19;
		break;
	default:
		bl_20 = al_5 | 0xC1;
		break;
	}
	fn00402950(&tLoc0124, &g_b401188);
	if (ebp_19 < 0x6D)
		g_t405024.u0 = (int32) (g_t405024.u0 >> bl_20);
	fn004034E0(&tLoc0104, 0x0104);
	if (ebp_19 == 0xD5)
		g_t405020.u0 = (uint32) (g_t405020.u0 + (int32) bl_20);
	fn00402980(dwArg04, &tLoc0104);
	if (ebp_19 < 22)
		g_dw40502C = (int32) bl_20 *s g_dw40502C;
	fn00402950(dwArg04, &g_b401184);
	if (bl_20 == 0x15)
		g_w405028 = g_w405028 ^ 0x15;
	fn00402950(dwArg04, &tLoc0124);
}

// 00402590: void fn00402590()
void fn00402590()
{
	ptr32 fp;
	Eq_439 tLoc0390;
	word32 dwLoc0370;
	Eq_441 tLoc030C;
	Eq_442 tLoc0208;
	tLoc0390.dw0000 = g_dw4011C0;
	tLoc0390 = (Eq_439) (tLoc0390 ^ ~0x42);
	Eq_120 esi_120 = g_t405024.u0;
	fn00403400(0x00, fp - 0x0104, 0x0104);
	g_t405020.u0 = (uint32) (g_t405020.u0 | 0x61);
	int16 wLoc0394_487 = (word16) esi_120;
	word16 wLoc0392_518 = SLICE(esi_120, word16, 16);
	byte * eax_80 = fn00403950();
	if ((word16) esi_120 != 0x1B)
	{
		esi_120.u0 = 0x00;
		wLoc0394_487 = 0x00;
		wLoc0392_518 = 0x00;
	}
	if (fn00402890(eax_80, &tLoc0390) != 0x00)
	{
		fn00402C50(fn00403100(0x00, 0x00, 0x00401550, 0x00, 0x00, fp - 884), ~0x00);
		goto l00402849;
	}
	if (wLoc0394_487 <= 0x1F)
	{
		esi_120.u0 = 0x00;
		wLoc0394_487 = 0x00;
		wLoc0392_518 = 0x00;
	}
	else
		g_dw40502C = g_dw40502C ^ 0x61;
	fn00402480(&tLoc0208);
	g_w405028 *= (word16) esi_120;
	if (fn00403880(fp - 0x0104, &tLoc0208, 0x00) != 0x00)
	{
		fn00402980(&tLoc030C, &tLoc0208);
		fn00402950(&tLoc030C, &g_b401160);
		fn00402950(&tLoc030C, &tLoc0390);
		fn00402A40(fp - 848, 0x00, 0x44);
		fn00403060(0x00, &tLoc030C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fp - 848, fp - 900);
		if (wLoc0394_487 >= 0x1B)
		{
			esi_120.u0 = 0x00;
			wLoc0394_487 = 0x00;
		}
		else
		{
			int16 ax_265 = wLoc0394_487 >> (byte) wLoc0394_487;
			wLoc0394_487 = ax_265;
			esi_120 = SEQ(wLoc0392_518, ax_265);
		}
	}
	word32 eax_274 = fn004021E0();
	switch (eax_274)
	{
	case 0x00:
		esi_120 = esi_120 ^ 0x7633;
		wLoc0394_487 = (word16) esi_120;
		break;
	case 0x01:
		memcpy(&dwLoc0370, &g_t4011A0, 0x20);
		int32 eax_325;
		for (eax_325 = 0x00; eax_325 < 0x1F; ++eax_325)
			(&dwLoc0370)[eax_325].u0 = (&dwLoc0370)[eax_325] ^ 0x95;
		fn00403570(2000);
		int32 eax_355;
		for (eax_355 = 0x00; eax_355 < 0x0C; ++eax_355)
			(fp - 900)[eax_355] = *((word32) (fp - 900) + eax_355) ^ 118;
		fn004044D0(0x00, &dwLoc0370, fp - 900, 0x1040);
		goto l00402849;
	}
	fn004022C0();
	int32 eax_306 = (int32) wLoc0394_487;
	switch (eax_306)
	{
	case 22:
		wLoc0394_487 = (word16) esi_120 * 0x02;
		break;
	case 0x70:
		g_t405024.u0 = g_t405024.u0;
		break;
	}
l00402849:
	fn00402FF0(fp - 0x0104, 0x00, 0x04);
	int32 eax_440 = (int32) wLoc0394_487;
	if (eax_440 == 0x5B)
		g_t405020.u0 = (uint32) (g_t405020.u0 & 0x5B);
	else if (eax_440 == 0x62)
		;
}

// 00402890: Register (ptr32 byte) fn00402890(Register (ptr32 byte) ecx, Register (ptr32 Eq_485) edx)
// Called from:
//      fn00402590
byte * fn00402890(byte * ecx, struct Eq_485 * edx)
{
	Eq_690 al_27 = g_t405030.u0;
	if (edx->a0000[0] == 0x00)
		return ecx;
	if (*ecx != 0x00)
	{
		int32 ebp_101 = ecx - edx;
		do
		{
			int32 edi_28 = (int32) al_27;
			struct Eq_485 * esi_31 = edx;
			if (edi_28 != 0x31 && edi_28 != 0xFD)
				al_27 = (byte) al_27.u0 + 0x00ED;
			else
				al_27 *= al_27;
			if (*ecx != 0x00)
			{
				do
				{
					byte bl_51[] = esi_228->a0000[0];
					if (bl_51 == 0x00)
						return ecx;
					if (esi_228[ebp_101] != bl_51)
						break;
					esi_31 = esi_228 + 1;
					esi_228 = esi_31;
				} while ((esi_228 + 1)[ebp_101] != 0x00);
			}
			if (esi_31->a0000[0] == 0x00)
				return ecx;
			int32 esi_97 = (int32) al_27;
			++ecx;
			++ebp_101;
			if (esi_97 != 0xB0)
				g_t405038.u0 = (ui32) (g_t405038.u0 | esi_97);
			else
				g_t40503C.u0 = (int16) ((int16) al_27 *s g_t40503C.u0);
		} while (*ecx != 0x00);
	}
	return null;
}

// 00402950: void fn00402950(Stack (ptr32 byte) dwArg04, Stack (ptr32 byte) dwArg08)
// Called from:
//      fn004022C0
//      fn00402480
//      fn00402590
void fn00402950(byte * dwArg04, byte * dwArg08)
{
	byte * ecx_12 = dwArg04 + 1;
	if (*dwArg04 != 0x00)
	{
		do
		{
			ecx_12 = ecx_55 + 1;
			ecx_55 = ecx_12;
		} while (*ecx_55 != 0x00);
	}
	byte * esi_24 = dwArg08;
	byte * ecx_26 = ecx_12;
	do
	{
		byte dl_29 = *esi_24;
		*ecx_26 = dl_29;
		++ecx_26;
		++esi_24;
	} while (dl_29 != 0x00);
}

// 00402980: void fn00402980(Stack (ptr32 byte) dwArg04, Stack (ptr32 byte) dwArg08)
// Called from:
//      fn00402480
//      fn00402590
void fn00402980(byte * dwArg04, byte * dwArg08)
{
	Eq_754 cl_27 = g_t40503C.u1;
	byte dl_14 = *dwArg08;
	*dwArg04 = dl_14;
	byte * edi_13 = dwArg08;
	byte * esi_18 = dwArg04;
	if (dl_14 != 0x00)
	{
		do
		{
			++esi_18;
			++edi_13;
			if (cl_27 >= 113)
				cl_27 >>= cl_27;
			byte dl_35 = *edi_13;
			*esi_18 = dl_35;
		} while (dl_35 != 0x00);
	}
}

// 00402A40: void fn00402A40(Stack (ptr32 Eq_584) dwArg04, Stack Eq_585 bArg08, Stack uint32 dwArg0C)
// Called from:
//      fn00402590
void fn00402A40(struct Eq_584 * dwArg04, Eq_585 bArg08, uint32 dwArg0C)
{
	word32 ebx;
	word16 ebx_16_16_30 = SLICE(ebx, word16, 16);
	Eq_758 esi_101 = g_t405038.u0;
	if (dwArg0C != 0x00)
	{
		uint32 ebp_23 = dwArg0C;
		struct Eq_584 * edi_28 = dwArg04;
		uint32 ecx_29;
		word32 eax_108 = SEQ(ebx_16_16_30, bArg08, bArg08, bArg08, bArg08);
		for (ecx_29 = dwArg0C >> 0x02; ecx_29 != 0x00; --ecx_29)
		{
			edi_28->dw0000 = eax_108;
			edi_28 += 4;
		}
		ui32 ecx_40;
		for (ecx_40 = dwArg0C & 0x03; ecx_40 != 0x00; --ecx_40)
		{
			edi_28->dw0000 = (word32) bArg08;
			++edi_28;
		}
		do
		{
			if (esi_101 != 0x4A)
			{
				if (esi_101 == 226)
					esi_101.u0 = 0x6637;
				else if (esi_101 != 0x4C)
					esi_101 = esi_101 ^ 0x6637;
				else
					esi_101.u0 = ~0x569F;
			}
			else
				esi_101.u0 = ~0x2D89;
			--ebp_23;
		} while (ebp_23 != 0x00);
	}
}

// 00402BA0: Register Eq_876 fn00402BA0(Stack Eq_877 dwArg04, Register out (ptr32 Eq_878) ecxOut, Register out Eq_877 edxOut)
// Called from:
//      fn00402C50
//      fn00402CD0
//      fn00402D40
//      fn00402DD0
//      fn00402EB0
//      fn00402FF0
//      fn00403060
//      fn00403100
//      fn00403180
//      fn00403230
//      fn00403300
//      fn00403400
//      fn00403470
//      fn004034E0
//      fn00403570
//      fn00403620
//      fn004036E0
//      fn00403760
//      fn004037E0
//      fn00403880
//      fn00403950
//      fn004039C0
Eq_876 fn00402BA0(Eq_877 dwArg04, CHAR & ecxOut, union Eq_877 & edxOut)
{
	Eq_880 tLoc10;
	CHAR * ecx;
	int32 esi_13 = g_dw405034;
	Eq_885 eax_40 = g_t40504C;
	Eq_888 si_46 = (word16) esi_13;
	if (eax_40 == null)
	{
		tLoc10 = (Eq_880) g_dw4011CC;
		int32 eax_23;
		for (eax_23 = 0x00; eax_23 < 0x0D; ++eax_23)
			(&tLoc10)[eax_23].u0 = (&tLoc10)[eax_23] ^ 0xB0;
		eax_40 = LoadLibraryA(&tLoc10);
		g_t40504C = eax_40;
		ecx = &tLoc10;
		if (esi_13 > 0x50)
			g_t405030.u1 = (word16) (g_t405030.u1 & si_46);
		if (eax_40 == null)
		{
			ecx = g_ptr405054;
			if (ecx != null)
			{
				word32 edx_150;
				ecx = fn00403470(0x01, out edx_150);
				eax_40 = g_t40504C;
			}
		}
	}
	Eq_877 edx_100 = dwArg04;
	Eq_876 eax_83 = GetProcAddress(eax_40, dwArg04);
	if (eax_83 == null && g_ptr405054 != null)
		ecx = fn00403470(0x01, out edx_100);
	ecxOut = ecx;
	edxOut = edx_100;
	return eax_83;
}

// 00402C50: void fn00402C50(Register word32 ecx, Register word32 edx)
// Called from:
//      fn00402590
void fn00402C50(word32 ecx, word32 edx)
{
	ptr32 fp;
	word32 ecx_51;
	word32 edx_50;
	<anonymous> * eax_47 = g_ptr405158;
	edx_50 = edx;
	ecx_51 = ecx;
	if (eax_47 == null)
	{
		int32 eax_33;
		for (eax_33 = 0x00; eax_33 < 0x14; ++eax_33)
			(fp - 0x18)[eax_33] = *((word32) (fp - 0x18) + eax_33) ^ 0x54;
		fn00402BA0(fp - 0x18, out ecx_51, out edx_50);
		g_ptr405158 = fp - 0x18;
		eax_47 = fp - 0x18;
	}
	eax_47();
}

// 00402CD0: void fn00402CD0(Stack word32 dwArg04)
// Called from:
//      fn004021E0
//      fn004022C0
void fn00402CD0(word32 dwArg04)
{
	Eq_989 fp;
	Eq_990 eax_19 = g_t405134.u0;
	if (eax_19 == 0x00)
	{
		eax_19.u0 = 0x00;
		do
		{
			Mem27[fp - 0x10 + eax_19:byte] = Mem25[fp - 0x10 + eax_19:byte] ^ ~0x24;
			++eax_19;
		} while (eax_19 < 0x0C);
		word32 ecx_79;
		word32 edx_80;
		fn00402BA0(fp - (ui8 *) 0x10, out ecx_79, out edx_80);
		Eq_758 edx_42 = g_t405038.u0;
		g_t405134.u0 = (ui8 *) eax_19;
		g_t405038.u0 = (ui32) edx_42;
	}
	eax_19();
}

// 00402D40: Register word32 fn00402D40()
// Called from:
//      fn004022C0
word32 fn00402D40()
{
	Eq_1021 fp;
	Eq_1022 eax_23 = g_t4051A0.u0;
	Eq_758 esi_13 = g_t405038.u0;
	if (eax_23 == 0x00)
	{
		eax_23.u0 = 0x00;
		do
		{
			Mem31[fp - 0x10 + eax_23:byte] = Mem29[fp - 0x10 + eax_23:byte] ^ 0x7F;
			++eax_23;
		} while (eax_23 < 0x0F);
		word32 ecx_125;
		word32 edx_126;
		fn00402BA0(fp - 0x10, out ecx_125, out edx_126);
		g_t4051A0.u0 = (ui8 *) eax_23;
		if (esi_13 != 0x96)
		{
			if (esi_13 == 0xA0)
			{
				g_t405030.u1 = (word16) (g_t405030.u1 & 0xA0);
				word32 eax_83;
				eax_23();
				return eax_83;
			}
		}
		else
			g_dw405034 &= 0x96;
	}
	word32 eax_67;
	eax_23();
	return eax_67;
}

// 00402DD0: Register word32 fn00402DD0(Register word32 ecx, Register word32 edx, Stack uint32 dwArg04)
// Called from:
//      fn004022C0
word32 fn00402DD0(word32 ecx, word32 edx, uint32 dwArg04)
{
	ptr32 fp;
	word32 ecx_104;
	<anonymous> * eax_103 = g_ptr4050E8;
	ecx_104 = ecx;
	if (eax_103 == null)
	{
		word24 eax_24_8_89 = g_n401215;
		word32 edx_158;
		fn00402BA0(fp - 0x0C, out ecx_104, out edx_158);
		g_t40503C.u1 = (ci8) (g_t40503C.u1 | 0x11);
		eax_103 = SEQ(eax_24_8_89, ~0x4C);
		g_ptr4050E8 = eax_103;
	}
	word32 eax_107;
	eax_103();
	return eax_107;
}

// 00402EB0: void fn00402EB0(Register word32 ecx, Register word32 edx, Stack int32 dwArg04)
// Called from:
//      fn004022C0
void fn00402EB0(word32 ecx, word32 edx, int32 dwArg04)
{
	ptr32 fp;
	word32 edx_73;
	<anonymous> * eax_5 = g_ptr4050D0;
	edx_73 = edx;
	if (eax_5 == null)
	{
		word32 ecx_145;
		fn00402BA0(fp - 0x0C, out ecx_145, out edx_73);
		g_ptr4050D0 = fp - 0x0C;
		eax_5 = fp - 0x0C;
	}
	eax_5();
}

// 00402FF0: void fn00402FF0(Stack ptr32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
// Called from:
//      fn00402590
void fn00402FF0(ptr32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Eq_1110 fp;
	Eq_1111 eax_19 = g_t405198.u0;
	if (eax_19 == 0x00)
	{
		eax_19.u0 = 0x00;
		do
		{
			Mem27[fp - 0x10 + eax_19:byte] = Mem25[fp - 0x10 + eax_19:byte] ^ 225;
			++eax_19;
		} while (eax_19 < 0x0C);
		word32 ecx_91;
		word32 edx_92;
		fn00402BA0(fp - (ui8 *) 0x10, out ecx_91, out edx_92);
		g_t405198.u0 = (ui8 *) eax_19;
	}
	eax_19();
}

// 00403060: void fn00403060(Register word32 ecx, Register (ptr32 Eq_304) edx, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, Stack ptr32 dwArg1C, Stack ptr32 dwArg20)
// Called from:
//      fn004022C0
//      fn00402590
void fn00403060(word32 ecx, struct Eq_304 * edx, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18, ptr32 dwArg1C, ptr32 dwArg20)
{
	Eq_1138 fp;
	Eq_1139 eax_29 = g_t405194.u0;
	if (eax_29 == 0x00)
	{
		eax_29.u0 = 0x00;
		do
		{
			Mem39[fp - 0x10 + eax_29:byte] = Mem37[fp - 0x10 + eax_29:byte] ^ ~0x02;
			++eax_29;
		} while (eax_29 < 0x0F);
		word32 edx_161;
		word32 ecx_160;
		fn00402BA0(fp - 0x10, out ecx_160, out edx_161);
		g_t405194.u0 = (ui8 *) eax_29;
	}
	eax_29();
}

// 00403100: Register word32 fn00403100(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack ptr32 dwArg18)
// Called from:
//      fn00402590
word32 fn00403100(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, ptr32 dwArg18)
{
	Eq_1169 fp;
	Eq_1170 eax_19 = g_t405098.u0;
	if (eax_19 == 0x00)
	{
		eax_19.u0 = 0x00;
		do
		{
			Mem27[fp - 0x10 + eax_19:byte] = Mem25[fp - 0x10 + eax_19:byte] ^ 33;
			++eax_19;
		} while (eax_19 < 0x0D);
		word32 edx_113;
		word32 ecx_112;
		fn00402BA0(fp - (ui8 *) 0x10, out ecx_112, out edx_113);
		g_t405098.u0 = (ui8 *) eax_19;
	}
	word32 eax_69;
	eax_19();
	return eax_69;
}

// 00403180: Register word32 fn00403180(Register ptr32 ecx, Register word32 edx, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
// Called from:
//      fn004021E0
//      fn004022C0
word32 fn00403180(ptr32 ecx, word32 edx, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	Eq_1199 fp;
	Eq_1200 eax_100 = g_t405104.u0;
	Eq_758 si_57 = g_t405038.u2;
	if (eax_100 == 0x00)
	{
		eax_100.u0 = 0x00;
		do
		{
			Mem41[fp - 0x10 + eax_100:byte] = Mem39[fp - 0x10 + eax_100:byte] ^ 0x11;
			++eax_100;
		} while (eax_100 < 0x0C);
		word32 ecx_164;
		word32 edx_165;
		fn00402BA0(fp - 0x10, out ecx_164, out edx_165);
		g_t405104.u0 = (ui8 *) eax_100;
		word32 ecx_58 = (word32) si_57;
		if (ecx_58 != 0x35)
		{
			if (ecx_58 == 0x9D)
				g_dw405034 += 0x9D;
		}
		else
			g_t405030.u1 = (word16) (g_t405030.u1 & si_57);
	}
	word32 eax_108;
	eax_100();
	return eax_108;
}

// 00403230: void fn00403230(Stack word32 dwArg04, Stack ptr32 dwArg08, Stack word32 dwArg0C, Stack ptr32 dwArg10, Stack word32 dwArg14)
// Called from:
//      fn004021E0
void fn00403230(word32 dwArg04, ptr32 dwArg08, word32 dwArg0C, ptr32 dwArg10, word32 dwArg14)
{
	ptr32 fp;
	<anonymous> * eax_5 = g_ptr405170;
	if (eax_5 == null)
	{
		word32 ecx_142;
		word32 edx_143;
		fn00402BA0(fp - 0x0C, out ecx_142, out edx_143);
		g_ptr405170 = fp - 0x0C;
		eax_5 = fp - 0x0C;
	}
	eax_5();
}

// 00403300: void fn00403300(Register word32 ecx, Register int32 edx, Stack uint32 dwArg04, Stack ptr32 dwArg08, Stack word32 dwArg0C)
// Called from:
//      fn004022C0
void fn00403300(word32 ecx, int32 edx, uint32 dwArg04, ptr32 dwArg08, word32 dwArg0C)
{
	ptr32 fp;
	<anonymous> * eax_112 = g_ptr405150;
	g_dw405034 |= 0x0F;
	if (eax_112 == null)
	{
		word24 eax_24_8_92 = g_n401289;
		word32 edx_173;
		word32 ecx_172;
		fn00402BA0(fp - 0x0C, out ecx_172, out edx_173);
		g_t405030.u1 = (word16) (g_t405030.u1 & 0x0F);
		eax_112 = SEQ(eax_24_8_92, 0x17);
		g_ptr405150 = eax_112;
	}
	eax_112();
}

// 00403400: void fn00403400(Stack word32 dwArg04, Stack ptr32 dwArg08, Stack word32 dwArg0C)
// Called from:
//      fn004021E0
//      fn00402590
void fn00403400(word32 dwArg04, ptr32 dwArg08, word32 dwArg0C)
{
	Eq_1290 fp;
	Eq_1291 eax_21 = g_t405120.u0;
	if (eax_21 == 0x00)
	{
		eax_21.u0 = 0x00;
		do
		{
			Mem30[fp - 0x14 + eax_21:byte] = Mem28[fp - 0x14 + eax_21:byte] ^ 0xAC;
			++eax_21;
		} while (eax_21 < 0x13);
		word32 ecx_95;
		word32 edx_96;
		fn00402BA0(fp - (ui8 *) 0x14, out ecx_95, out edx_96);
		g_t405120.u0 = (ui8 *) eax_21;
	}
	eax_21();
}

// 00403470: Register int32 fn00403470(Register int32 ecx, Register out ptr32 edxOut)
// Called from:
//      fn00402BA0
//      fn00404430
int32 fn00403470(int32 ecx, ptr32 & edxOut)
{
	ptr32 fp;
	int32 ecx_50;
	<anonymous> * eax_43 = g_ptr405040;
	ecx_50 = ecx;
	if (eax_43 == null)
	{
		int32 eax_24;
		for (eax_24 = 0x00; eax_24 < 0x0C; ++eax_24)
			(fp - 0x10)[eax_24] = *((word32) (fp - 0x10) + eax_24) ^ ~0x61;
		word32 ecx_90;
		word32 edx_91;
		eax_43 = fn00402BA0(fp - 0x10, out ecx_90, out edx_91);
		int32 ecx_48 = g_dw405034;
		g_ptr405040 = eax_43;
		g_dw405034 = ecx_48 + 703107;
		ecx_50 = ecx_48 + 703107;
	}
	int32 ecx_63;
	ptr32 edx_64;
	eax_43();
	edxOut = edx_64;
	return ecx_63;
}

// 004034E0: void fn004034E0(Stack (ptr32 Eq_400) dwArg04, Stack word32 dwArg08)
// Called from:
//      fn00402480
void fn004034E0(struct Eq_400 * dwArg04, word32 dwArg08)
{
	ptr32 fp;
	<anonymous> * eax_40 = g_ptr40511C;
	Eq_758 bl_13 = g_t405038.u1;
	if (eax_40 == null)
	{
		int32 eax_27;
		for (eax_27 = 0x00; eax_27 < 0x14; ++eax_27)
			(fp - 0x18)[eax_27] = *((word32) (fp - 0x18) + eax_27) ^ 0x1B;
		word32 ecx_111;
		word32 edx_112;
		fn00402BA0(fp - 0x18, out ecx_111, out edx_112);
		int32 edx_54 = g_dw405034 & (word32) bl_13;
		g_ptr40511C = fp - 0x18;
		g_dw405034 = edx_54;
		eax_40 = fp - 0x18;
	}
	eax_40();
}

// 00403570: void fn00403570(Register word32 ecx)
// Called from:
//      fn00402590
void fn00403570(word32 ecx)
{
	ptr32 fp;
	word32 ecx_60;
	<anonymous> * eax_5 = g_ptr4051C8;
	Eq_754 si_67 = g_t40503C.u0;
	ecx_60 = ecx;
	if (eax_5 == null)
	{
		word32 edx_124;
		fn00402BA0(fp - 0x08, out ecx_60, out edx_124);
		g_ptr4051C8 = fp - 0x08;
		eax_5 = fp - 0x08;
		if (si_67 == 0x55)
			g_t405038.u0 = (ui32) (g_t405038.u0 | 0x55);
	}
	eax_5();
}

// 00403620: void fn00403620(Register (ptr32 word32) ecx, Register (ptr32 Eq_265) edx, Stack word32 dwArg04)
// Called from:
//      fn004022C0
void fn00403620(word32 * ecx, struct Eq_265 * edx, word32 dwArg04)
{
	word32 dwLoc1C;
	struct Eq_265 * edx_57;
	union Eq_1425 * eax_46 = g_ptr405184;
	edx_57 = edx;
	if (eax_46 == null)
	{
		memcpy(&dwLoc1C, &g_t4012D8, 0x18);
		do
		{
			Mem49[&dwLoc1C + eax_46:byte] = Mem47[&dwLoc1C + eax_46:byte] ^ 0x9A;
			eax_46 = (union Eq_1425 *) ((char *) eax_46 + 1);
		} while (eax_46 < (union Eq_1425 *) 0x1A);
		word32 ecx_127;
		fn00402BA0(&dwLoc1C, out ecx_127, out edx_57);
		g_ptr405184 = &dwLoc1C;
		eax_46 = &dwLoc1C;
	}
	eax_46();
}

// 004036E0: void fn004036E0(Stack ptr32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack ptr32 dwArg10)
// Called from:
//      fn004022C0
void fn004036E0(ptr32 dwArg04, word32 dwArg08, word32 dwArg0C, ptr32 dwArg10)
{
	Eq_1460 fp;
	Eq_1461 eax_23 = g_t405180.u0;
	g_t405030.u1 = (word16) (g_t405030.u1 + 0x25);
	if (eax_23 == 0x00)
	{
		eax_23.u0 = 0x00;
		do
		{
			Mem31[fp - 0x14 + eax_23:byte] = Mem29[fp - 0x14 + eax_23:byte] ^ ~0x29;
			++eax_23;
		} while (eax_23 < 0x11);
		word32 ecx_103;
		word32 edx_104;
		fn00402BA0(fp - (ui8 *) 0x14, out ecx_103, out edx_104);
		g_t405180.u0 = (ui8 *) eax_23;
	}
	eax_23();
}

// 00403760: void fn00403760(Register word32 ecx, Register word32 edx, Stack word32 dwArg04, Stack word32 dwArg08)
// Called from:
//      fn004021E0
void fn00403760(word32 ecx, word32 edx, word32 dwArg04, word32 dwArg08)
{
	Eq_1492 fp;
	Eq_1493 eax_29 = g_t405190.u0;
	if (eax_29 == 0x00)
	{
		eax_29.u0 = 0x00;
		do
		{
			Mem39[fp - 0x10 + eax_29:byte] = Mem37[fp - 0x10 + eax_29:byte] ^ ~0x12;
			++eax_29;
		} while (eax_29 < 0x0F);
		word32 ecx_118;
		word32 edx_119;
		fn00402BA0(fp - 0x10, out ecx_118, out edx_119);
		g_t405190.u0 = (ui8 *) eax_29;
	}
	eax_29();
}

// 004037E0: void fn004037E0(Register word32 ecx, Register ptr32 edx)
// Called from:
//      fn004022C0
void fn004037E0(word32 ecx, ptr32 edx)
{
	ptr32 fp;
	word32 ecx_62;
	ptr32 edx_53;
	<anonymous> * eax_5 = g_ptr405188;
	Eq_754 si_61 = g_t40503C.u0;
	edx_53 = edx;
	ecx_62 = ecx;
	if (eax_5 == null)
	{
		int32 eax_37;
		for (eax_37 = 0x00; eax_37 < 0x15; ++eax_37)
			(fp - 0x18)[eax_37] = *((word32) (fp - 0x18) + eax_37) ^ ~0x19;
		word32 ecx_129;
		fn00402BA0(fp - 0x18, out ecx_129, out edx_53);
		g_ptr405188 = fp - 0x18;
		eax_5 = fp - 0x18;
		ecx_62 = (word32) si_61;
		if (ecx_62 != 22 && ecx_62 != 188)
			g_t405038.u0 = (ui32) (g_t405038.u0 + ecx_62);
	}
	eax_5();
}

// 00403880: Register word32 fn00403880(Stack ptr32 dwArg04, Stack (ptr32 Eq_549) dwArg08, Stack word32 dwArg0C)
// Called from:
//      fn00402590
word32 fn00403880(ptr32 dwArg04, struct Eq_549 * dwArg08, word32 dwArg0C)
{
	ptr32 fp;
	<anonymous> * eax_5 = g_ptr40516C;
	if (eax_5 == null)
	{
		word24 eax_24_8_75 = g_n401341;
		word32 ecx_139;
		word32 edx_140;
		fn00402BA0(fp - 0x0C, out ecx_139, out edx_140);
		eax_5 = SEQ(eax_24_8_75, 110);
		g_ptr40516C = eax_5;
	}
	word32 eax_92;
	eax_5();
	return eax_92;
}

// 00403950: Register word32 fn00403950()
// Called from:
//      fn00402590
word32 fn00403950()
{
	Eq_1589 fp;
	Eq_1590 eax_21 = g_t405138.u0;
	if (eax_21 == 0x00)
	{
		eax_21.u0 = 0x00;
		do
		{
			Mem32[fp - 0x14 + eax_21:byte] = Mem30[fp - 0x14 + eax_21:byte] ^ 0x3B;
			++eax_21;
		} while (eax_21 < 0x10);
		word32 ecx_75;
		word32 edx_76;
		fn00402BA0(fp - (ui8 *) 0x14, out ecx_75, out edx_76);
		g_t405138.u0 = (ui8 *) eax_21;
	}
	word32 eax_55;
	eax_21();
	return eax_55;
}

// 004039C0: Register word32 fn004039C0()
// Called from:
//      fn00402170
word32 fn004039C0()
{
	Eq_1619 fp;
	Eq_1620 eax_23 = g_t4050C0.u0;
	word32 esi_13 = (word32) g_t405030.u1;
	if (eax_23 == 0x00)
	{
		eax_23.u0 = 0x00;
		do
		{
			Mem33[fp - 0x10 + eax_23:byte] = Mem31[fp - 0x10 + eax_23:byte] ^ 111;
			++eax_23;
		} while (eax_23 < 0x0D);
		word32 ecx_120;
		word32 edx_121;
		fn00402BA0(fp - 0x10, out ecx_120, out edx_121);
		g_t4050C0.u0 = (ui8 *) eax_23;
		if (esi_13 != 0x4A)
		{
			word32 eax_77;
			eax_23();
			return eax_77;
		}
		g_t40503C.u0 = 0x00;
	}
	word32 eax_64;
	eax_23();
	return eax_64;
}

// 00404430: void fn00404430(Stack Eq_877 dwArg04)
// Called from:
//      fn004044D0
void fn00404430(Eq_877 dwArg04)
{
	Eq_880 tLoc0C;
	Eq_885 eax_35 = g_t405050;
	if (eax_35 == null)
	{
		tLoc0C = (Eq_880) g_dw401444;
		int32 eax_17;
		for (eax_17 = 0x00; eax_17 < 11; ++eax_17)
			(&tLoc0C)[eax_17].u0 = (&tLoc0C)[eax_17] ^ 0x9C;
		eax_35 = LoadLibraryA(&tLoc0C);
		g_t405050 = eax_35;
		if (eax_35 == null && g_ptr405054 != null)
		{
			word32 edx_128;
			fn00403470(0x01, out edx_128);
			eax_35 = g_t405050;
		}
	}
	if (GetProcAddress(eax_35, dwArg04) == null && g_ptr405054 != null)
	{
		word32 edx_129;
		fn00403470(0x01, out edx_129);
	}
}

// 004044D0: void fn004044D0(Stack word32 dwArg04, Stack (ptr32 word32) dwArg08, Stack ptr32 dwArg0C, Stack word32 dwArg10)
// Called from:
//      fn00402590
void fn004044D0(word32 dwArg04, word32 * dwArg08, ptr32 dwArg0C, word32 dwArg10)
{
	Eq_880 tLoc10;
	<anonymous> * eax_19 = g_ptr405070;
	if (eax_19 == null)
	{
		tLoc10 = (Eq_880) g_dw401450;
		eax_19 = null;
		do
		{
			Mem27[&tLoc10 + eax_19:byte] = Mem25[&tLoc10 + eax_19:byte] ^ ~0x26;
			eax_19 = (<anonymous> *) ((char *) eax_19 + 1);
		} while (eax_19 < (<anonymous> *) 0x0C);
		fn00404430(&tLoc10);
		g_ptr405070 = eax_19;
		g_t405038.u0 = 0x00;
	}
	eax_19();
}

Eq_129 g_t405020 = // 00405020
	{
		66
	};
Eq_120 g_t405024 = // 00405024
	{
		91
	};
int16 g_w405028 = 45; // 00405028
int32 g_dw40502C = 75; // 0040502C
Eq_690 g_t405030 = // 00405030
	{
		46
	};
int32 g_dw405034 = 21; // 00405034
Eq_758 g_t405038 = // 00405038
	{
		0x3A
	};
Eq_754 g_t40503C = // 0040503C
	{
		50
	};
<anonymous> * g_ptr405040 = null; // 00405040
Eq_885 g_t40504C = null; // 0040504C
Eq_885 g_t405050 = null; // 00405050
CHAR * g_ptr405054 = null; // 00405054
<anonymous> * g_ptr405070 = null; // 00405070
Eq_1170 g_t405098 = // 00405098
	{
		null
	};
Eq_1620 g_t4050C0 = // 004050C0
	{
		null
	};
<anonymous> * g_ptr4050D0 = null; // 004050D0
<anonymous> * g_ptr4050E8 = null; // 004050E8
Eq_1200 g_t405104 = // 00405104
	{
		null
	};
<anonymous> * g_ptr40511C = null; // 0040511C
Eq_1291 g_t405120 = // 00405120
	{
		null
	};
Eq_990 g_t405134 = // 00405134
	{
		null
	};
Eq_1590 g_t405138 = // 00405138
	{
		null
	};
<anonymous> * g_ptr405150 = null; // 00405150
<anonymous> * g_ptr405158 = null; // 00405158
<anonymous> * g_ptr40516C = null; // 0040516C
<anonymous> * g_ptr405170 = null; // 00405170
Eq_1461 g_t405180 = // 00405180
	{
		null
	};
union Eq_1425 * g_ptr405184 = null; // 00405184
<anonymous> * g_ptr405188 = null; // 00405188
Eq_1493 g_t405190 = // 00405190
	{
		null
	};
Eq_1139 g_t405194 = // 00405194
	{
		null
	};
Eq_1111 g_t405198 = // 00405198
	{
		null
	};
Eq_1022 g_t4051A0 = // 004051A0
	{
		null
	};
<anonymous> * g_ptr4051C8 = null; // 004051C8
