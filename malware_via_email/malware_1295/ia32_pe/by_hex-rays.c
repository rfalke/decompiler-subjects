/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall sub_409232(int@<ebx>, int _ESI@<esi>);


//----- (00409232) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_409232(int a1@<ebx>, int _ESI@<esi>)
{
  int i; // eax
  unsigned int v4; // ecx
  bool v5; // cf
  unsigned int v6; // eax
  _BYTE *v7; // edx
  __int16 v9; // ax
  char v10; // cc
  char v15; // [esp-10h] [ebp-10h]
  unsigned int *v16; // [esp-Ch] [ebp-Ch]

  _ECX = v16;
  for ( i = 1; i; i = (int)&v7[HIWORD(v6) - 311 + BYTE1(v6)] )
  {
    v4 = ((unsigned int)_ECX - 1) >> 15;
    v5 = __CFSHL__(v4, 15);
    _ECX = (unsigned int *)(v4 << 15);
    v6 = *_ECX;
    v7 = (_BYTE *)(unsigned __int8)*_ECX;
    if ( !v5 && v5 )
    {
      LOBYTE(v6) = v6 - 27;
      *v7 = (_BYTE)_ECX;
      _AX = v6 + 12021;
      __asm { rcr     ah, cl }
      LOBYTE(_AX) = (unsigned __int8)((__ROR1__(_AX, (char)_ECX) - (__CFSHR__(_AX, (_BYTE)_ECX) - 37)) | 4) >> 1;
      LOBYTE(a1) = -((unsigned __int8)v7 & a1);
      __asm { rcr     al, 1Dh }
      v5 = __CFSHL__(a1, (_BYTE)_ECX);
      _EBX = a1 << (char)_ECX;
      v9 = v5 + (_WORD)_ECX - _AX;
      LOBYTE(_EBX) = 104;
      v10 = ((__int16)(v9 + _EBX) < 0) ^ __OFADD__(v9, (_WORD)_EBX);
      LOWORD(_EBX) = v9 + _EBX;
      __asm { rcr     bh, 16h }
      if ( !v10 && v10 )
        JUMPOUT(0x4092D7);
      JUMPOUT(0x40931F);
    }
    a1 = BYTE1(v6);
  }
  (*(void (__cdecl **)(unsigned int *))((char *)_ECX
                                      + *(unsigned int *)((char *)_ECX
                                                        + *(unsigned int *)((char *)_ECX + _ECX[15] + 128)
                                                        + 16)))(_ECX);
  _CL = v15;
  _EBX = v5 + a1 - 1033913968;
  __asm
  {
    rcl     bx, cl
    rcl     esi, cl
  }
  if ( !__CFSHL__(_EBX, v15) && __CFSHL__(_EBX, v15) )
  {
    if ( _ESI + 1 >= 0 )
      __halt();
    JUMPOUT(0x4096E7);
  }
  JUMPOUT(0x4094DD);
}
// 409279: positive sp value C has been found
// 4092D6: control flows out of bounds to 4092D7
// 409519: inconsistent fpu stack
// 409610: control flows out of bounds to 409611
// 40971C: control flows out of bounds to 409722
// 40953E: control flows out of bounds to 409395
// 4092CE: control flows out of bounds to 40931F
// 4094DA: control flows out of bounds to 4094E9
// 40951C: control flows out of bounds to F1540A0F
// 409602: control flows out of bounds to 40960E
// 40968A: control flows out of bounds to 4094DD
// 40969C: control flows out of bounds to 4096E7
// 409716: conditional instruction was optimized away because bx.2!=0
// 409232: variable 'v16' is possibly undefined
// 40966E: variable 'v15' is possibly undefined
// 409675: variable 'v5' is possibly undefined

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
