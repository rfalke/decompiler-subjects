/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// __int64 __usercall sub_4013E9@<edx:eax>(char@<dl>, _BYTE *@<esi>);
// __int64 __usercall sub_4013FA@<edx:eax>(__int64@<edx:eax>, _BYTE *@<esi>);
// __int64 __usercall sub_401402@<edx:eax>(__int64 result@<edx:eax>, _BYTE *@<esi>);
void __stdcall sub_401437(int a1, int a2);
// void __usercall sub_4014E6(int a1@<ebx>);


//----- (004013E9) --------------------------------------------------------
__int64 __usercall sub_4013E9@<edx:eax>(char a1@<dl>, _BYTE *a2@<esi>)
{
  unsigned int v2; // kr00_4
  bool v3; // cf
  __int64 result; // rax

  v2 = __getcallerseflags();
  __writeeflags(v2);
  v3 = __CFADD__(a1, a1);
  BYTE4(result) = 2 * a1;
  if ( !BYTE4(result) )
    BYTE4(result) = *a2 + v3 + *a2;
  return result;
}

//----- (004013FA) --------------------------------------------------------
__int64 __usercall sub_4013FA@<edx:eax>(__int64 a1@<edx:eax>, _BYTE *a2@<esi>)
{
  unsigned int v2; // kr00_4
  unsigned int v3; // kr04_4

  v2 = __getcallerseflags();
  __writeeflags(v2);
  v3 = __readeflags();
  __writeeflags(v3);
  return sub_401402(a1, a2);
}

//----- (00401402) --------------------------------------------------------
__int64 __usercall sub_401402@<edx:eax>(__int64 result@<edx:eax>, _BYTE *a2@<esi>)
{
  unsigned int v2; // kr00_4
  __int64 v3; // rax
  char v4; // cf

  v2 = __getcallerseflags();
  __writeeflags(v2);
  do
  {
    v3 = sub_4013E9(SBYTE4(result), a2);
    result = sub_4013E9(SBYTE4(v3), a2);
  }
  while ( v4 );
  return result;
}
// 401412: variable 'v4' is possibly undefined

//----- (00401437) --------------------------------------------------------
void __stdcall sub_401437(int a1, int a2)
{
  _DWORD *v2; // edi
  _BYTE *v3; // eax
  int i; // ecx
  int v5; // [esp-8h] [ebp-1Ch]

  v2 = (_DWORD *)(a1 + *(_DWORD *)(a1 + *(_DWORD *)(*(_DWORD *)(a1 + 60) + a1 + 120) + 28 + 4));
  v5 = 0;
  v3 = (_BYTE *)(*v2 + a1);
  for ( i = 0; ; i = 0 )
  {
    do
    {
      LOBYTE(i) = *v3++ + i;
      i = __ROR4__(i, 8) ^ 0x4B6BD825;
    }
    while ( *v3 );
    if ( a2 == i )
      break;
    ++v5;
    v3 = (_BYTE *)(a1 + *++v2);
  }
}

//----- (004014E6) --------------------------------------------------------
void __usercall sub_4014E6(int a1@<ebx>)
{
  _DWORD *v1; // ecx
  int v2; // eax
  int v3; // edi
  int v4; // edx
  int v5; // esi
  int v6; // esi
  _DWORD *v7; // [esp+4h] [ebp-24h]

  v1 = (_DWORD *)(a1 + 78624);
  *(_DWORD *)(a1 + 151607) = a1;
  while ( 1 )
  {
    v2 = v1[3];
    if ( !v2 )
      break;
    v7 = v1;
    *(_DWORD *)(a1 + 151636) = v1[4];
    v3 = *v1;
    *(_DWORD *)(a1 + 151618) = *v1;
    if ( !v3 )
      v3 = v1[4];
    v4 = *(_DWORD *)(a1 + 151607);
    *(_DWORD *)(a1 + 151655) = v4 + v3;
    *(_DWORD *)(a1 + 151664) = (*(int (__stdcall **)(int))(a1 + 151573))(v4 + v2);
    while ( 1 )
    {
      v5 = **(_DWORD **)(a1 + 151655);
      if ( !v5 )
        break;
      if ( v5 >= 0 && (v5 += 2) != 0 )
        v6 = *(_DWORD *)(a1 + 151607) + v5;
      else
        v6 = v5 & 0x7FFFFFFF;
      *(_DWORD *)(*(_DWORD *)(a1 + 151607) + *(_DWORD *)(a1 + 151636)) = (*(int (__stdcall **)(_DWORD, int))(a1 + 151590))(
                                                                           *(_DWORD *)(a1 + 151664),
                                                                           v6);
      *(_DWORD *)(a1 + 151636) += 4;
      *(_DWORD *)(a1 + 151655) += 4;
    }
    v1 = v7 + 5;
  }
}

// nfuncs=5 queued=5 decompiled=5 lumina nreq=0 worse=0 better=0
// ALL OK, 5 function(s) have been successfully decompiled
