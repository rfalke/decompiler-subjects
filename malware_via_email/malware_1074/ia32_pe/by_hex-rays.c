/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, char *@<edx>, int@<ecx>, int@<ebx>, int@<ebp>, int@<edi>, int@<esi>);

//-------------------------------------------------------------------------
// Data declarations

int dword_436000[512] =
{
  -1876295519,
  1409369600,
  708837152,
  1739000266,
  1848632813,
  1696985573,
  -536896306,
  -856437762,
  -174961115,
  1211094727,
  -1533546233,
  628402084,
  -741683124,
  -71451190,
  -1776359937,
  480550100,
  1532711100,
  1695837999,
  479257556,
  -43604156,
  819976193,
  -823990682,
  3466916,
  -1991466673,
  2146877367,
  1380734395,
  1613192006,
  -1439225428,
  1079515786,
  -618007035,
  568180663,
  -1536991872,
  -1239921664,
  874603012,
  888350553,
  -171180067,
  -1364054705,
  -1504729146,
  704467535,
  1944925462,
  915787045,
  -766035990,
  821512540,
  -938003980,
  854275221,
  -1781717709,
  -1975719884,
  1934187730,
  -163651523,
  1463064013,
  -1539771841,
  606150411,
  21820456,
  499922098,
  -654914050,
  178347644,
  1532243843,
  -1604101935,
  -1140895616,
  1946783759,
  129762752,
  663807023,
  -1496276388,
  387999597,
  -443610680,
  -2123230752,
  400945756,
  -315488824,
  -937978217,
  -387440639,
  554933243,
  1650307505,
  -1924399004,
  -1191048784,
  556628192,
  -454107244,
  -1833327534,
  -1055464082,
  733660134,
  -169365911,
  -1160684576,
  -515185653,
  -1177151774,
  -481628526,
  736943520,
  -224088471,
  -468990483,
  -923887030,
  787033071,
  384428176,
  851214817,
  1490872986,
  284971755,
  1391736896,
  1542751392,
  254068753,
  726438207,
  -527917897,
  387996801,
  -937961779,
  -943623675,
  1551987408,
  -1781085408,
  -586819236,
  887090683,
  -39157416,
  -869999412,
  1731689005,
  1199840571,
  -172665081,
  -1879599075,
  1780769052,
  564880559,
  1638180256,
  1711917079,
  -315141988,
  1551987402,
  550224416,
  -268056553,
  1701970381,
  -486157220,
  -523872451,
  -1502588260,
  874826223,
  -1878601629,
  720676228,
  -1270989378,
  828052475,
  -1378747869,
  1803426084,
  -735248891,
  1226089168,
  -1057754621,
  196251951,
  690685947,
  -1597074222,
  -931925404,
  -1942251430,
  -715975,
  662207877,
  -783056871,
  1305220849,
  1283603163,
  -1862607548,
  392539061,
  1364906414,
  -1649110421,
  412192178,
  1332379858,
  -939343226,
  825172869,
  -230228286,
  700478555,
  -1830227756,
  1403111491,
  -1851004502,
  1126220989,
  -358554583,
  -938380783,
  888252660,
  -1429805944,
  1135626963,
  -1664840571,
  -269440577,
  -712563647,
  -313700951,
  -934004472,
  -1467375404,
  1917065994,
  1223206951,
  -525393650,
  1068449455,
  -1450971654,
  -1727945596,
  -1529633576,
  1190853556,
  704519099,
  -856353559,
  703243676,
  -833595116,
  -937965402,
  -792038907,
  1551987392,
  -2117548000,
  -1979328164,
  -938003877,
  1010004485,
  367684413,
  -1372224698,
  -1539740478,
  -194604357,
  -753469954,
  -1360450662,
  -134926858,
  -426591791,
  -238948278,
  -1532073685,
  199094998,
  -207992092,
  -1190986505,
  -1057126766,
  -1415250217,
  -1593840629,
  -1060539656,
  -106020680,
  731526138,
  335263849,
  -1328823102,
  -984947701,
  730892742,
  -439931159,
  730906821,
  -1983828247,
  -1195326771,
  -826069312,
  -395228468,
  -1678493689,
  -72564148,
  779091789,
  -380021736,
  1542793500,
  -1596955233,
  1741776543,
  -122160337,
  743498205,
  1281748148,
  -1415289429,
  1294314515,
  -2060517655,
  -1350639618,
  759746925,
  -1729351910,
  1539468455,
  734180053,
  1610612561,
  1694195330,
  45096352,
  1696982646,
  -1531546553,
  -1645959857,
  -1093576468,
  1589116811,
  1372675076,
  -242256849,
  -1537333936,
  -458762289,
  -469743793,
  1077795739,
  497823835,
  1996099313,
  1142351355,
  -1401370329,
  950828035,
  2095163256,
  463900087,
  -1553249081,
  2025618438,
  -638107646,
  1289615162,
  -114440000,
  251242304,
  -166640620,
  -1682585253,
  816151597,
  -1740165268,
  -76694938,
  -1483938769,
  508054373,
  204160876,
  -588702922,
  638337136,
  922897780,
  1961950173,
  -786911156,
  -49475484,
  -1659313837,
  91413371,
  1615765889,
  277325647,
  -839946592,
  35763261,
  -2100278160,
  -307212522,
  552022909,
  1813527047,
  -865769047,
  -1870568595,
  193925145,
  2070276084,
  -1270590278,
  1347693537,
  1991671884,
  -419863,
  -1124128360,
  573283343,
  -228673531,
  383702841,
  1755712013,
  926377634,
  -1437568518,
  -449997655,
  800078252,
  294983196,
  -1293444975,
  1062724814,
  1366188233,
  803955242,
  1730539759,
  -536880911,
  -1336957860,
  -1768451951,
  -842261355,
  -16132151,
  -1674281041,
  788774351,
  868218749,
  1735673505,
  -319068677,
  1284291572,
  -185243993,
  1087195167,
  158500492,
  -844560557,
  -1303971494,
  1213522571,
  -1387206257,
  -592603745,
  1151814665,
  1821313608,
  1714906919,
  1654738431,
  -299020890,
  -278753627,
  894406562,
  -1797529218,
  800365557,
  1894494439,
  -1482098897,
  -843878899,
  1291217341,
  -1407794396,
  -176115184,
  -645809036,
  1740814866,
  1754656140,
  754696758,
  -1589285778,
  175290346,
  938437661,
  -1486708464,
  919734026,
  -553460532,
  146248701,
  -1279046635,
  -443733044,
  175067754,
  -36838530,
  -718317418,
  795738042,
  -860593506,
  1265099940,
  -2061377042,
  912526973,
  305066132,
  -94098564,
  162057235,
  -667779553,
  421611529,
  621126532,
  -1872462136,
  1740164929,
  -1516997172,
  -1844367836,
  2028552081,
  224752233,
  619732614,
  -922166404,
  -1334742461,
  1210278961,
  -282991450,
  1012966533,
  -1536010396,
  -1471714080,
  239772196,
  -1877437239,
  -1074242762,
  1196236029,
  -244844721,
  1613187119,
  -202180776,
  1109568749,
  1795889926,
  1032958416,
  -1324533404,
  1503929407,
  -480065428,
  -1687576793,
  726122287,
  1787149646,
  55358031,
  -977343065,
  654750574,
  1280502426,
  -553016061,
  1750619816,
  1279265457,
  1167943404,
  1130640420,
  1717725346,
  810398236,
  -1764670707,
  1823269299,
  -460265400,
  1183125414,
  779363354,
  1399066257,
  1482583874,
  1806067276,
  1681629091,
  1734554179,
  -1431771185,
  676518238,
  -513433854,
  1629613144,
  -1231599928,
  565956946,
  -2023486620,
  516863191,
  -1306975777,
  -1395021945,
  298045712,
  -597187150,
  1145508272,
  1008403444,
  -1473874129,
  -1543225559,
  -758677986,
  1236058047,
  -1461084189,
  -1812404528,
  -1229606739,
  643997740,
  923582295,
  -2018658312,
  1543676509,
  1531127234,
  -1462582613,
  -554846637,
  1546089696,
  -1616403601,
  565421443,
  467937702,
  1151784795,
  429936509,
  1741925536,
  1085021195,
  -1462145582,
  -843335323,
  -8375588,
  -1935087448,
  -647680071,
  -1193083170,
  -1328454753,
  -500452005,
  -1196161604,
  -1744910783,
  -1571846992,
  1453298223,
  -1270580271,
  -302117989,
  41756866,
  1680523844,
  1538338690,
  -62167799,
  -164631093,
  698876564,
  -1238401489,
  2123850903,
  -603982217,
  -1671966281,
  -1417095639,
  -1596837974,
  -1085321867,
  -1029479579,
  -478827511,
  -691669249,
  -740424532,
  2068064167,
  -218471643,
  -782456895,
  -168075043,
  -775971003,
  -1883445613,
  306397720,
  237096322,
  1534469625,
  -598965480,
  -278681825,
  -269567556,
  -1484456443,
  166022998,
  1412428476,
  145248113,
  -747768223,
  522474081,
  -1470891445,
  747618257,
  -512000127,
  -2135786157,
  -1467261273,
  -1505401365,
  -1379602521
}; // weak


//----- (0043C980) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(
        int a1@<eax>,
        char *a2@<edx>,
        int a3@<ecx>,
        int a4@<ebx>,
        int a5@<ebp>,
        int a6@<edi>,
        int a7@<esi>)
{
  int *v7; // esi
  int *v8; // edi
  unsigned int v9; // ebp
  char v10; // al
  bool v11; // cf
  int v12; // ebx
  int v13; // ebx
  int v14; // ett
  unsigned int v15; // eax
  bool v16; // cf
  int v17; // ebx
  int v18; // ebx
  int v19; // ett
  bool v20; // zf
  int v21; // ebx
  int v22; // ett
  int v23; // ecx
  unsigned int v24; // eax
  unsigned int v25; // eax
  int v26; // eax
  bool v27; // cf
  int v28; // ebx
  int v29; // ebx
  int v30; // ett
  BOOL v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ett
  int v35; // ecx
  int v36; // ecx
  bool v37; // cf
  int v38; // ebx
  int v39; // ebx
  int v40; // ett
  bool v41; // zf
  int v42; // ebx
  int v43; // ett
  unsigned int v44; // ecx
  char v45; // al
  int v46; // eax
  bool v47; // cc
  int *v48; // esi
  char *v49; // edi
  int v50; // eax
  int *v51; // ebx
  int v52; // ebp
  char v53; // al
  char *v54; // ecx
  unsigned __int8 v55; // al
  int v56; // eax
  void (__fastcall *v57)(int, char *, int *, int, int, int *); // ebp
  int *v58; // edi
  int v59[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v60; // [esp+2Ch] [ebp-80h] BYREF
  int v61; // [esp+30h] [ebp-7Ch] BYREF
  char *v62; // [esp+34h] [ebp-78h]
  int *v63; // [esp+38h] [ebp-74h]
  int v64; // [esp+3Ch] [ebp-70h]
  char *v65; // [esp+40h] [ebp-6Ch]
  int v66; // [esp+44h] [ebp-68h]
  int v67; // [esp+48h] [ebp-64h]
  int *v68; // [esp+4Ch] [ebp-60h]
  int v69; // [esp+50h] [ebp-5Ch]
  int v70; // [esp+54h] [ebp-58h]
  int v71; // [esp+58h] [ebp-54h]
  int v72; // [esp+5Ch] [ebp-50h] BYREF

  v71 = a7;
  v70 = a6;
  v69 = a5;
  v68 = &v72;
  v67 = a4;
  v66 = a3;
  v65 = a2;
  v64 = a1;
  v7 = dword_436000;
  v8 = &dword_436000[-54272];
  v63 = &dword_436000[-54272];
  v9 = -1;
  while ( 1 )
  {
    v13 = *v7;
    v11 = (unsigned int)v7++ < 0xFFFFFFFC;
    v14 = v11 + v13;
    v11 = __CFADD__(v11, v13) | __CFADD__(v13, v14);
    v12 = v13 + v14;
    do
    {
      if ( v11 )
      {
        v10 = *(_BYTE *)v7;
        v7 = (int *)((char *)v7 + 1);
        *(_BYTE *)v8 = v10;
        v8 = (int *)((char *)v8 + 1);
      }
      else
      {
        v15 = 1;
        while ( 1 )
        {
          v16 = __CFADD__(v12, v12);
          v17 = 2 * v12;
          if ( !v17 )
          {
            v18 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v19 = v11 + v18;
            v16 = __CFADD__(v11, v18) | __CFADD__(v18, v19);
            v17 = v18 + v19;
          }
          v15 += v16 + v15;
          v11 = __CFADD__(v17, v17);
          v20 = 2 * v17 == 0;
          v12 = 2 * v17;
          if ( v11 )
          {
            if ( !v20 )
              break;
            v21 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v22 = v11 + v21;
            v11 = __CFADD__(v11, v21) | __CFADD__(v21, v22);
            v12 = v21 + v22;
            if ( v11 )
              break;
          }
        }
        v23 = 0;
        v11 = v15 < 3;
        v24 = v15 - 3;
        if ( !v11 )
        {
          v25 = v24 << 8;
          LOBYTE(v25) = *(_BYTE *)v7;
          v7 = (int *)((char *)v7 + 1);
          v26 = ~v25;
          if ( !v26 )
          {
            v48 = v63;
            v49 = (char *)(v63 + 59392);
LABEL_33:
            v50 = *(_DWORD *)v49;
            if ( *(_DWORD *)v49 )
            {
              v51 = (int *)((char *)v48 + *((_DWORD *)v49 + 1));
              v49 += 8;
              v52 = ((int (__fastcall *)(int, char *, int, int, char *, int, int, int *, int, int, int))v48[63828])(
                      v23,
                      a2,
                      (int)v48 + v50 + 255112,
                      v64,
                      v65,
                      v66,
                      v67,
                      v68,
                      v69,
                      v70,
                      v71);
              while ( 1 )
              {
                v53 = *v49++;
                if ( !v53 )
                  goto LABEL_33;
                v54 = v49;
                v62 = v49;
                v55 = v53 - 1;
                do
                {
                  if ( !v54 )
                    break;
                  v20 = *v49++ == (char)v55;
                  --v54;
                }
                while ( !v20 );
                v56 = ((int (__cdecl *)(int, char *))v48[63829])(v52, v62);
                if ( !v56 )
                  break;
                *v51++ = v56;
              }
              v50 = ((int (*)(void))v48[63833])();
            }
            v57 = (void (__fastcall *)(int, char *, int *, int, int, int *))v48[63830];
            v58 = v48 - 1024;
            v60 = v50;
            v57(v23, a2, v48 - 1024, 4096, 4, &v60);
            *((_BYTE *)v58 + 495) &= ~0x80u;
            *((_BYTE *)v58 + 535) &= ~0x80u;
            ((void (__cdecl *)(int *, int, int, int *))v57)(v48 - 1024, 4096, v59[0], v59);
            do
              v60 = 0;
            while ( &v60 != &v61 - 32 );
            JUMPOUT(0x43417E);
          }
          v9 = v26;
        }
        v27 = __CFADD__(v12, v12);
        v28 = 2 * v12;
        if ( !v28 )
        {
          v29 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v30 = v11 + v29;
          v27 = __CFADD__(v11, v29) | __CFADD__(v29, v30);
          v28 = v29 + v30;
        }
        v31 = v27;
        v32 = __CFADD__(v28, v28);
        v12 = 2 * v28;
        if ( !v12 )
        {
          v33 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v34 = v11 + v33;
          v32 = __CFADD__(v11, v33) | __CFADD__(v33, v34);
          v12 = v33 + v34;
        }
        v35 = v31 + v32 + v31;
        if ( !v35 )
        {
          v36 = 1;
          while ( 1 )
          {
            v37 = __CFADD__(v12, v12);
            v38 = 2 * v12;
            if ( !v38 )
            {
              v39 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v40 = v11 + v39;
              v37 = __CFADD__(v11, v39) | __CFADD__(v39, v40);
              v38 = v39 + v40;
            }
            v36 += v37 + v36;
            v11 = __CFADD__(v38, v38);
            v41 = 2 * v38 == 0;
            v12 = 2 * v38;
            if ( v11 )
            {
              if ( !v41 )
                break;
              v42 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v43 = v11 + v42;
              v11 = __CFADD__(v11, v42) | __CFADD__(v42, v43);
              v12 = v42 + v43;
              if ( v11 )
                break;
            }
          }
          v35 = v36 + 2;
        }
        v44 = (v9 < 0xFFFFF300) + v35 + 1;
        a2 = (char *)v8 + v9;
        if ( v9 <= 0xFFFFFFFC )
        {
          do
          {
            v46 = *(_DWORD *)a2;
            a2 += 4;
            *v8++ = v46;
            v47 = v44 <= 4;
            v44 -= 4;
          }
          while ( !v47 );
          v8 = (int *)((char *)v8 + v44);
        }
        else
        {
          do
          {
            v45 = *a2++;
            *(_BYTE *)v8 = v45;
            v8 = (int *)((char *)v8 + 1);
            --v44;
          }
          while ( v44 );
        }
      }
      v11 = __CFADD__(v12, v12);
      v12 *= 2;
    }
    while ( v12 );
  }
}
// 43CAD8: positive sp value 50 has been found
// 43CAD8: control flows out of bounds to 43417E
// 43CA6F: variable 'v23' is possibly undefined
// 43CA6F: variable 'a2' is possibly undefined
// 436000: using guessed type int dword_436000[512];
// 43C980: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
