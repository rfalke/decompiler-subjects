/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, char *@<edx>, int@<ecx>, int@<ebx>, int@<ebp>, int@<edi>, int@<esi>);

//-------------------------------------------------------------------------
// Data declarations

int dword_429000[512] =
{
  -1876295519,
  1409369600,
  -1476227808,
  336887616,
  1162545041,
  -12235182,
  1291845631,
  1143878195,
  855657548,
  926102321,
  1487622656,
  286397050,
  1415817937,
  -124560801,
  1870554695,
  318766999,
  -1428418233,
  308626261,
  2004209811,
  -23496582,
  -1441436815,
  -1149294748,
  1954152445,
  1718942611,
  178922839,
  1357770214,
  961245195,
  1617248939,
  -1027715054,
  -1013317770,
  -745278959,
  -985049498,
  939131010,
  1801448961,
  -1717624353,
  759128572,
  -1751170299,
  -302036170,
  316006363,
  11467264,
  -2103979004,
  1111822575,
  -1835066631,
  -766031418,
  308608884,
  -453439239,
  -2095669430,
  -853180325,
  -2124663659,
  1230819905,
  -2025683341,
  542954077,
  1585808471,
  1463064013,
  1451965578,
  628312412,
  -1870053240,
  1154635572,
  802886286,
  1109951612,
  872723194,
  -389386630,
  1076890135,
  -1724385162,
  -295178782,
  1345722069,
  -268687607,
  -1284062658,
  1385760522,
  350916902,
  -774172570,
  -2123213937,
  1146495068,
  97010888,
  1551915859,
  539039520,
  119561348,
  -303866274,
  117591663,
  -1227696917,
  151402234,
  -551381093,
  -2098984518,
  1407472366,
  -1833339114,
  1968196326,
  -1360450735,
  1532380068,
  787032935,
  374626192,
  1256624736,
  1805669818,
  -1368832934,
  1935391140,
  775978584,
  1582902160,
  -1146835352,
  1549211231,
  -234561174,
  -463644470,
  -56564670,
  -2080357392,
  -1851265726,
  1543608570,
  -1673751776,
  -931441090,
  1619096069,
  542933367,
  392589591,
  2104624584,
  1471179616,
  1543202162,
  989663864,
  2053750536,
  -1686465828,
  133267916,
  -1036450820,
  502625998,
  333128750,
  421523148,
  379002322,
  711004691,
  1085880294,
  2086375470,
  -469004172,
  -901350142,
  2066628792,
  -1047788190,
  710272003,
  -972001052,
  -273777760,
  -2077882679,
  1231584275,
  -81116568,
  176680211,
  595295740,
  -1843697670,
  1717709999,
  267785236,
  55170812,
  -1720302268,
  1688152871,
  1679194146,
  378672846,
  -1019582927,
  331503171,
  917475829,
  805162067,
  373778412,
  -1938949254,
  499776052,
  -326363241,
  1729638358,
  594274284,
  -332523518,
  919760276,
  590412138,
  370643609,
  -1024642752,
  938874126,
  1180868544,
  102555880,
  1514282129,
  -326221795,
  1386169125,
  608365078,
  361468047,
  -1939596209,
  -53263961,
  -2076628284,
  520366621,
  1109360368,
  -81653890,
  375582203,
  -1580711022,
  510402106,
  551031844,
  -935095576,
  -2028393215,
  -75844327,
  305274656,
  309210881,
  -15883851,
  1280160799,
  1134714783,
  -367842694,
  781623967,
  1136276368,
  2093486200,
  -1190992794,
  -897681856,
  2114687022,
  -1876010180,
  -2054888437,
  -1171214454,
  -1635546304,
  1530172696,
  970637907,
  2001291330,
  373546277,
  1127039077,
  1557288756,
  2001102657,
  -1781717645,
  1464098887,
  1799970002,
  -1790295739,
  1260411956,
  1616732608,
  1229506583,
  1912950432,
  2138201381,
  96684367,
  1295207622,
  1461744659,
  2104646866,
  -2122888845,
  1904832605,
  2001302501,
  2004245633,
  1980070793,
  1970560129,
  30402766,
  1112177350,
  443808323,
  1898868735,
  -270395141,
  1134537311,
  1725114861,
  1741695254,
  1306394621,
  -430466713,
  -749075924,
  -221045254,
  447028509,
  1214249875,
  -1083179198,
  1742412078,
  -1726309378,
  -636408230,
  73657716,
  -11428492,
  -389283850,
  -1424567663,
  1354806278,
  -1024339053,
  1377002752,
  1743673899,
  -15237656,
  1743389807,
  969054695,
  -392960441,
  291622674,
  32635218,
  1035417544,
  439376886,
  -189249621,
  -1597245715,
  -830500366,
  449446682,
  1460784696,
  1293643722,
  -654653641,
  -1127610859,
  1106641614,
  -294276102,
  -1681371717,
  1326577231,
  301077518,
  1804777311,
  332016951,
  1194290224,
  1959631150,
  978515675,
  -28585199,
  -1740645858,
  -768185076,
  205571769,
  38650479,
  -1270941875,
  1729688258,
  1175261394,
  -1226905627,
  95311836,
  -699525247,
  277287417,
  1332968411,
  35717654,
  -2105673018,
  -545523434,
  537311692,
  -786941433,
  1931045289,
  646011099,
  193963545,
  -1629914814,
  38068846,
  -421385385,
  1571622394,
  1229972986,
  172597038,
  580725263,
  -830584571,
  383651509,
  351209997,
  -1741539529,
  531270357,
  441686818,
  1712725039,
  -1851288263,
  2013548952,
  -1334876380,
  904025938,
  -10266526,
  1503264639,
  -355364026,
  654724882,
  589308198,
  2138798762,
  1883834721,
  432469822,
  -879164471,
  305381185,
  -739403859,
  1113244230,
  301611707,
  -779595568,
  -31494928,
  132450755,
  431376607,
  -499266135,
  1597636180,
  1536537318,
  -100029141,
  -956414959,
  179568620,
  -74327495,
  -82783209,
  -1911334757,
  -75747486,
  -1894491668,
  -1690098951,
  106010882,
  1100596971,
  -961037898,
  1762464030,
  -1016464832,
  -955246058,
  -1301423305,
  185746230,
  986812747,
  -1138518693,
  1860059855,
  -367538470,
  -155073609,
  -1509268610,
  168940449,
  -265460985,
  2050416605,
  -1547828955,
  2058580218,
  -598525027,
  -566766510,
  -1777676324,
  -1160406546,
  -1634084023,
  -457833772,
  310046238,
  2105876818,
  -281619954,
  964149538,
  335204907,
  -1447092614,
  10322727,
  840536648,
  419841813,
  2123609060,
  2060521076,
  -997066606,
  1262370843,
  1775132571,
  516613255,
  605243514,
  1136220106,
  160567734,
  1478742577,
  -917729052,
  316019251,
  -931583658,
  508025518,
  -1778445166,
  548311580,
  1204923008,
  -695075175,
  -256502218,
  1162101230,
  1713183464,
  -2072852378,
  -1408717812,
  2065942213,
  1410503305,
  761538961,
  -1864823940,
  1783040298,
  -50723591,
  2138451447,
  100276045,
  -450064122,
  330693348,
  -1958559223,
  169765229,
  -790149130,
  455188888,
  1746159026,
  1838178772,
  1052451202,
  1135812711,
  1474594626,
  168841754,
  1939939379,
  153568865,
  -746974565,
  -788861351,
  -1625987568,
  563223329,
  -892349995,
  1373192758,
  704490014,
  1124667237,
  1190025206,
  1743042081,
  991976205,
  39919972,
  -915857714,
  287587728,
  1729108591,
  221089934,
  285661137,
  -522707129,
  -1046920167,
  -1994121695,
  -1774456654,
  163189414,
  693455130,
  1348869727,
  -172642939,
  371664376,
  -1075763619,
  1835909057,
  341324044,
  -1821054462,
  1948118517,
  -1090062483,
  -1025171763,
  359328401,
  327362833,
  -656465659,
  688961210,
  1338720016,
  437655830,
  1625346405,
  1842160133,
  -429056401,
  257972630,
  -400668293,
  -151598306,
  -1727034145,
  -718729644,
  -1242757529,
  84563101,
  -164491774,
  839265471,
  614012153,
  -848830423,
  -262405564,
  -1636561041,
  1962017483,
  -1724591460,
  1608668679,
  -754327698,
  35799193,
  -929456354,
  -769589095,
  -1092616415,
  1740732765,
  1621043799,
  -1726174402,
  -71100828,
  -707589639,
  -14978027,
  -1396721737,
  68837491,
  -1861130904,
  -711733774,
  297878604,
  -1344600338,
  703852778,
  1351509951,
  -1843753206,
  -844198896,
  -615576031,
  622074050,
  287271495,
  796875107,
  -1190479888,
  -102756046,
  1152892755,
  -109976935,
  -1687175650,
  1382118158,
  1291657106,
  157752915
}; // weak


//----- (00430730) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(
        int a1@<eax>,
        char *a2@<edx>,
        int a3@<ecx>,
        int a4@<ebx>,
        int a5@<ebp>,
        int a6@<edi>,
        int a7@<esi>)
{
  int *v7; // esi
  int *v8; // edi
  unsigned int v9; // ebp
  char v10; // al
  bool v11; // cf
  int v12; // ebx
  int v13; // ebx
  int v14; // ett
  unsigned int v15; // eax
  bool v16; // cf
  int v17; // ebx
  int v18; // ebx
  int v19; // ett
  bool v20; // zf
  int v21; // ebx
  int v22; // ett
  int v23; // ecx
  unsigned int v24; // eax
  unsigned int v25; // eax
  int v26; // eax
  bool v27; // cf
  int v28; // ebx
  int v29; // ebx
  int v30; // ett
  BOOL v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ett
  int v35; // ecx
  int v36; // ecx
  bool v37; // cf
  int v38; // ebx
  int v39; // ebx
  int v40; // ett
  bool v41; // zf
  int v42; // ebx
  int v43; // ett
  unsigned int v44; // ecx
  char v45; // al
  int v46; // eax
  bool v47; // cc
  int *v48; // esi
  char *v49; // edi
  int v50; // eax
  int *v51; // ebx
  int v52; // ebp
  char v53; // al
  char *v54; // ecx
  unsigned __int8 v55; // al
  int v56; // eax
  void (__fastcall *v57)(int, char *, int *, int, int, int *); // ebp
  int *v58; // edi
  int v59[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v60; // [esp+2Ch] [ebp-80h] BYREF
  int v61; // [esp+30h] [ebp-7Ch] BYREF
  char *v62; // [esp+34h] [ebp-78h]
  int *v63; // [esp+38h] [ebp-74h]
  int v64; // [esp+3Ch] [ebp-70h]
  char *v65; // [esp+40h] [ebp-6Ch]
  int v66; // [esp+44h] [ebp-68h]
  int v67; // [esp+48h] [ebp-64h]
  int *v68; // [esp+4Ch] [ebp-60h]
  int v69; // [esp+50h] [ebp-5Ch]
  int v70; // [esp+54h] [ebp-58h]
  int v71; // [esp+58h] [ebp-54h]
  int v72; // [esp+5Ch] [ebp-50h] BYREF

  v71 = a7;
  v70 = a6;
  v69 = a5;
  v68 = &v72;
  v67 = a4;
  v66 = a3;
  v65 = a2;
  v64 = a1;
  v7 = dword_429000;
  v8 = &dword_429000[-40960];
  v63 = &dword_429000[-40960];
  v9 = -1;
  while ( 1 )
  {
    v13 = *v7;
    v11 = (unsigned int)v7++ < 0xFFFFFFFC;
    v14 = v11 + v13;
    v11 = __CFADD__(v11, v13) | __CFADD__(v13, v14);
    v12 = v13 + v14;
    do
    {
      if ( v11 )
      {
        v10 = *(_BYTE *)v7;
        v7 = (int *)((char *)v7 + 1);
        *(_BYTE *)v8 = v10;
        v8 = (int *)((char *)v8 + 1);
      }
      else
      {
        v15 = 1;
        while ( 1 )
        {
          v16 = __CFADD__(v12, v12);
          v17 = 2 * v12;
          if ( !v17 )
          {
            v18 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v19 = v11 + v18;
            v16 = __CFADD__(v11, v18) | __CFADD__(v18, v19);
            v17 = v18 + v19;
          }
          v15 += v16 + v15;
          v11 = __CFADD__(v17, v17);
          v20 = 2 * v17 == 0;
          v12 = 2 * v17;
          if ( v11 )
          {
            if ( !v20 )
              break;
            v21 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v22 = v11 + v21;
            v11 = __CFADD__(v11, v21) | __CFADD__(v21, v22);
            v12 = v21 + v22;
            if ( v11 )
              break;
          }
        }
        v23 = 0;
        v11 = v15 < 3;
        v24 = v15 - 3;
        if ( !v11 )
        {
          v25 = v24 << 8;
          LOBYTE(v25) = *(_BYTE *)v7;
          v7 = (int *)((char *)v7 + 1);
          v26 = ~v25;
          if ( !v26 )
          {
            v48 = v63;
            v49 = (char *)(v63 + 45056);
LABEL_33:
            v50 = *(_DWORD *)v49;
            if ( *(_DWORD *)v49 )
            {
              v51 = (int *)((char *)v48 + *((_DWORD *)v49 + 1));
              v49 += 8;
              v52 = ((int (__fastcall *)(int, char *, int, int, char *, int, int, int *, int, int, int))v48[51333])(
                      v23,
                      a2,
                      (int)v48 + v50 + 205192,
                      v64,
                      v65,
                      v66,
                      v67,
                      v68,
                      v69,
                      v70,
                      v71);
              while ( 1 )
              {
                v53 = *v49++;
                if ( !v53 )
                  goto LABEL_33;
                v54 = v49;
                v62 = v49;
                v55 = v53 - 1;
                do
                {
                  if ( !v54 )
                    break;
                  v20 = *v49++ == (char)v55;
                  --v54;
                }
                while ( !v20 );
                v56 = ((int (__cdecl *)(int, char *))v48[51334])(v52, v62);
                if ( !v56 )
                  break;
                *v51++ = v56;
              }
              v50 = ((int (*)(void))v48[51338])();
            }
            v57 = (void (__fastcall *)(int, char *, int *, int, int, int *))v48[51335];
            v58 = v48 - 1024;
            v60 = v50;
            v57(v23, a2, v48 - 1024, 4096, 4, &v60);
            *((_BYTE *)v58 + 463) &= ~0x80u;
            *((_BYTE *)v58 + 503) &= ~0x80u;
            ((void (__cdecl *)(int *, int, int, int *))v57)(v48 - 1024, 4096, v59[0], v59);
            do
              v60 = 0;
            while ( &v60 != &v61 - 32 );
            JUMPOUT(0x40C1C4);
          }
          v9 = v26;
        }
        v27 = __CFADD__(v12, v12);
        v28 = 2 * v12;
        if ( !v28 )
        {
          v29 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v30 = v11 + v29;
          v27 = __CFADD__(v11, v29) | __CFADD__(v29, v30);
          v28 = v29 + v30;
        }
        v31 = v27;
        v32 = __CFADD__(v28, v28);
        v12 = 2 * v28;
        if ( !v12 )
        {
          v33 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v34 = v11 + v33;
          v32 = __CFADD__(v11, v33) | __CFADD__(v33, v34);
          v12 = v33 + v34;
        }
        v35 = v31 + v32 + v31;
        if ( !v35 )
        {
          v36 = 1;
          while ( 1 )
          {
            v37 = __CFADD__(v12, v12);
            v38 = 2 * v12;
            if ( !v38 )
            {
              v39 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v40 = v11 + v39;
              v37 = __CFADD__(v11, v39) | __CFADD__(v39, v40);
              v38 = v39 + v40;
            }
            v36 += v37 + v36;
            v11 = __CFADD__(v38, v38);
            v41 = 2 * v38 == 0;
            v12 = 2 * v38;
            if ( v11 )
            {
              if ( !v41 )
                break;
              v42 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v43 = v11 + v42;
              v11 = __CFADD__(v11, v42) | __CFADD__(v42, v43);
              v12 = v42 + v43;
              if ( v11 )
                break;
            }
          }
          v35 = v36 + 2;
        }
        v44 = (v9 < 0xFFFFF300) + v35 + 1;
        a2 = (char *)v8 + v9;
        if ( v9 <= 0xFFFFFFFC )
        {
          do
          {
            v46 = *(_DWORD *)a2;
            a2 += 4;
            *v8++ = v46;
            v47 = v44 <= 4;
            v44 -= 4;
          }
          while ( !v47 );
          v8 = (int *)((char *)v8 + v44);
        }
        else
        {
          do
          {
            v45 = *a2++;
            *(_BYTE *)v8 = v45;
            v8 = (int *)((char *)v8 + 1);
            --v44;
          }
          while ( v44 );
        }
      }
      v11 = __CFADD__(v12, v12);
      v12 *= 2;
    }
    while ( v12 );
  }
}
// 430888: positive sp value 50 has been found
// 430888: control flows out of bounds to 40C1C4
// 43081F: variable 'v23' is possibly undefined
// 43081F: variable 'a2' is possibly undefined
// 429000: using guessed type int dword_429000[512];
// 430730: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
