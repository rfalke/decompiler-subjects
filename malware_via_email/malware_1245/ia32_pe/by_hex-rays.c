/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int a1@<eax>, char *a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>);

//-------------------------------------------------------------------------
// Data declarations

int dword_437000[512] =
{
  -1876295519,
  88416000,
  1418989412,
  -221430528,
  1420427492,
  -422423354,
  1295307605,
  571868083,
  1766603820,
  1483534010,
  124660565,
  -1634991238,
  -1499829838,
  -186068812,
  -868526588,
  706006324,
  191103034,
  -1365612122,
  -1702231176,
  -1295138648,
  -388720023,
  240583414,
  -749915104,
  1178480180,
  886269010,
  -2005478579,
  1857200278,
  -968018733,
  49735384,
  1295286104,
  537097427,
  1447574576,
  -749914925,
  -1769310104,
  886263204,
  -792283571,
  -2080575776,
  137813149,
  1495055193,
  877528884,
  1446368077,
  -2106301949,
  1295307664,
  -1331258669,
  -749878086,
  -724808396,
  -17504546,
  911845018,
  538335758,
  -1704116180,
  1682991526,
  1519551602,
  -1646834380,
  -1173903761,
  -253702653,
  -647587223,
  740186882,
  434392122,
  1885382299,
  -1532011646,
  -916567461,
  -1772728821,
  1469234267,
  1683733746,
  626416725,
  -1701452625,
  1448690266,
  679029704,
  39107161,
  -1823825872,
  1158741796,
  777146445,
  5000260,
  -1219426232,
  153425183,
  -11385525,
  1325011455,
  842222661,
  -1062509912,
  710823756,
  -357834591,
  707402077,
  2147334527,
  1290316795,
  -66174899,
  1732476560,
  -962500032,
  426435625,
  -18917250,
  -64391425,
  1316166953,
  -567111126,
  -1419520555,
  323961795,
  1802431403,
  1869610849,
  1097764869,
  -1580586695,
  1838179322,
  -1171621799,
  1874177792,
  957334367,
  -996038866,
  87704153,
  -143659530,
  246392699,
  2813262,
  70817474,
  -675631124,
  -4560624,
  -1049068033,
  -21453022,
  -1054188431,
  1893515560,
  1673205415,
  731532006,
  -1363581768,
  2039658916,
  784300734,
  1701391248,
  -1706377796,
  -1301911253,
  -1833327612,
  -1334922266,
  1764465272,
  -1233342034,
  1111365418,
  -1032181688,
  1110719631,
  -1677968554,
  802222829,
  -626979574,
  -304717867,
  156241454,
  538933246,
  847990522,
  510304519,
  1579995817,
  1089069864,
  -1894543314,
  -467505557,
  1803335938,
  1678479406,
  773331299,
  1715471248,
  657978982,
  -750829758,
  -1030821140,
  67714563,
  -1544437390,
  -287368529,
  1934220394,
  376167717,
  1951230031,
  1767690839,
  1599827579,
  -1782048908,
  1477864559,
  -1780669069,
  1649647725,
  1230819927,
  1615553404,
  882231319,
  1466327366,
  1730174418,
  40136470,
  1379165561,
  -119773864,
  2054193185,
  2055512284,
  1234214869,
  -1030652386,
  110901669,
  1085866606,
  777536302,
  1340345232,
  48520777,
  1480933561,
  196262187,
  -1083966637,
  -788352919,
  -1428405507,
  -1175149758,
  980864713,
  1004078856,
  -300540427,
  616708383,
  636101092,
  707473071,
  328216161,
  937300684,
  48514147,
  1162625209,
  193998400,
  -469548162,
  89831626,
  -1934722195,
  1893470913,
  113897256,
  -1597609911,
  2049672222,
  2088467754,
  -720110744,
  1610228671,
  -57169373,
  754715350,
  338452058,
  2105279305,
  1679794510,
  722466327,
  1075469479,
  1937531950,
  1999680912,
  -183289598,
  -251982849,
  1393465257,
  1108770655,
  213145027,
  -1155151166,
  1701519861,
  -731963369,
  974941151,
  459619096,
  1779356195,
  -2061301567,
  -1593077755,
  -1912765135,
  -1057303068,
  -394372441,
  1133545252,
  627516637,
  1099528995,
  778741571,
  585376746,
  -484017520,
  1221136489,
  -993733852,
  420120417,
  -265866990,
  239633375,
  -1010620581,
  1913674477,
  120492200,
  -2009721562,
  -400119324,
  1581390993,
  565191022,
  131855487,
  19532327,
  1563055639,
  1953870890,
  914811047,
  2073716732,
  -366276030,
  2073467559,
  -1191040960,
  1154010688,
  193998430,
  1179012836,
  1086008208,
  45898500,
  -1121042247,
  -1027781198,
  -1148996632,
  1961017888,
  963433047,
  377188474,
  -584748195,
  2066577557,
  1557288825,
  1333681993,
  -1781717633,
  1400657972,
  1934187649,
  544373117,
  1936773719,
  1953520064,
  1901953397,
  1198683808,
  -1782049000,
  1932751991,
  1964444965,
  1984580627,
  1162435713,
  1921599563,
  1225121061,
  1917733861,
  1325784357,
  407651209,
  1292228631,
  -1001766194,
  2047295393,
  575455867,
  -1073924101,
  -673572679,
  2074579559,
  1592463829,
  1609044270,
  -563109529,
  2011357165,
  -345884116,
  -1528093246,
  -1423794907,
  779118531,
  -75498986,
  -966794463,
  1654725283,
  1289890070,
  1279024085,
  -70233691,
  -1453326409,
  1049833194,
  -1419183988,
  955959787,
  325725029,
  -799025566,
  -121901820,
  -547368321,
  2130836129,
  718318558,
  1781094863,
  238930369,
  -826687936,
  -1826475941,
  -1583841153,
  -899696785,
  586565545,
  941814275,
  -227595786,
  1759215047,
  770032314,
  -155389434,
  -1032204798,
  1940756814,
  2007222495,
  242690510,
  2014431764,
  -1151560257,
  808186413,
  373763948,
  688024225,
  -1227118995,
  516312043,
  212156386,
  -1850511362,
  -1475591986,
  -100512262,
  -747159870,
  1595412413,
  1930236138,
  93745117,
  767015379,
  -296865919,
  277293505,
  -554242514,
  35732188,
  -2107718914,
  540983574,
  1933041366,
  -501728761,
  1535207849,
  506911942,
  193961497,
  2034555514,
  984069726,
  -556127377,
  1836519106,
  1904121707,
  846309142,
  581243407,
  -270649851,
  376676133,
  -433583603,
  1986097452,
  -1428249741,
  1805851175,
  110442786,
  -1620983045,
  1013553297,
  -547919296,
  -435383299,
  -1587191254,
  -374636959,
  -1894044974,
  1045430269,
  404299295,
  1128436251,
  1896438087,
  -1593577183,
  -587611313,
  868186611,
  1660569135,
  -1235241352,
  -1040008326,
  2054940713,
  -604191201,
  157860876,
  -844560419,
  -1783766523,
  -967564177,
  -1377933567,
  -648413431,
  1143587530,
  -503248186,
  -332414039,
  1668709672,
  1621345270,
  1633848875,
  448892716,
  400776059,
  -1589994562,
  -18137495,
  690387361,
  -310875891,
  -1025713354,
  571917226,
  2064560656,
  -475961582,
  -1452067685,
  -1788673303,
  -1075679514,
  -874638927,
  -55055825,
  -324952566,
  1626336809,
  1543965307,
  958218806,
  1304599430,
  384298675,
  61162232,
  -514661269,
  -1579772406,
  469176277,
  -479085969,
  988585633,
  560605762,
  1530650757,
  -368149134,
  -366273994,
  -1854439346,
  641864698,
  -1354198649,
  -1047268852,
  -1959982567,
  1212237483,
  914564066,
  746603241,
  1225745726,
  1738765308,
  -1921357322,
  -922213333,
  1441952323,
  -458867886,
  -365831391,
  705388579,
  1918330094,
  -496096696,
  -1798762937,
  749348412,
  -122152554,
  -1840579137,
  -138294077,
  -962494487,
  2044128937,
  453410172,
  585980683,
  -1319212254,
  1111057469,
  -1431195379,
  -480065494,
  296311185,
  1060050281,
  829195710,
  1019308615,
  793953474,
  383884226,
  -1459208773,
  -1025709548,
  173082969,
  649473291,
  -330510838,
  -2038129176,
  742770796,
  1130818664,
  -2088367690,
  -1290248381,
  487132527,
  678044306,
  -2071786737,
  524715470,
  -397775858,
  -1026138547,
  761997544,
  1215072159,
  -806752890,
  1529554537,
  44721418,
  608003345,
  -697313012,
  -592045754,
  -2123614881,
  1495372012,
  1360973370,
  -1862909148,
  270685993,
  -1237174177,
  1054665012,
  1618888465,
  -1589352573,
  690366201,
  -1020622159,
  -1080403729
}; // weak


//----- (0043EC30) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, char *a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>)
{
  int *v7; // esi
  int *v8; // edi
  unsigned int v9; // ebp
  char v10; // al
  bool v11; // cf
  int v12; // ebx
  int v13; // ebx
  int v14; // ett
  unsigned int v15; // eax
  bool v16; // cf
  int v17; // ebx
  int v18; // ebx
  int v19; // ett
  bool v20; // zf
  int v21; // ebx
  int v22; // ett
  int v23; // ecx
  unsigned int v24; // eax
  unsigned int v25; // eax
  int v26; // eax
  bool v27; // cf
  int v28; // ebx
  int v29; // ebx
  int v30; // ett
  BOOL v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ett
  int v35; // ecx
  int v36; // ecx
  bool v37; // cf
  int v38; // ebx
  int v39; // ebx
  int v40; // ett
  bool v41; // zf
  int v42; // ebx
  int v43; // ett
  unsigned int v44; // ecx
  char v45; // al
  int v46; // eax
  bool v47; // cc
  int *v48; // esi
  char *v49; // edi
  int v50; // eax
  int *v51; // ebx
  int v52; // ebp
  char v53; // al
  char *v54; // ecx
  unsigned __int8 v55; // al
  int v56; // eax
  void (__fastcall *v57)(int, char *, int *, int, int, int *); // ebp
  int *v58; // edi
  int v59[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v60; // [esp+2Ch] [ebp-80h] BYREF
  int v61; // [esp+30h] [ebp-7Ch] BYREF
  char *v62; // [esp+34h] [ebp-78h]
  int *v63; // [esp+38h] [ebp-74h]
  int v64; // [esp+3Ch] [ebp-70h]
  char *v65; // [esp+40h] [ebp-6Ch]
  int v66; // [esp+44h] [ebp-68h]
  int v67; // [esp+48h] [ebp-64h]
  int *v68; // [esp+4Ch] [ebp-60h]
  int v69; // [esp+50h] [ebp-5Ch]
  int v70; // [esp+54h] [ebp-58h]
  int v71; // [esp+58h] [ebp-54h]
  int v72; // [esp+5Ch] [ebp-50h] BYREF

  v71 = a7;
  v70 = a6;
  v69 = a5;
  v68 = &v72;
  v67 = a4;
  v66 = a3;
  v65 = a2;
  v64 = a1;
  v7 = dword_437000;
  v8 = &dword_437000[-55296];
  v63 = &dword_437000[-55296];
  v9 = -1;
  while ( 1 )
  {
    v13 = *v7;
    v11 = (unsigned int)v7++ < 0xFFFFFFFC;
    v14 = v11 + v13;
    v11 = __CFADD__(v11, v13) | __CFADD__(v13, v14);
    v12 = v13 + v14;
    do
    {
      if ( v11 )
      {
        v10 = *(_BYTE *)v7;
        v7 = (int *)((char *)v7 + 1);
        *(_BYTE *)v8 = v10;
        v8 = (int *)((char *)v8 + 1);
      }
      else
      {
        v15 = 1;
        while ( 1 )
        {
          v16 = __CFADD__(v12, v12);
          v17 = 2 * v12;
          if ( !v17 )
          {
            v18 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v19 = v11 + v18;
            v16 = __CFADD__(v11, v18) | __CFADD__(v18, v19);
            v17 = v18 + v19;
          }
          v15 += v16 + v15;
          v11 = __CFADD__(v17, v17);
          v20 = 2 * v17 == 0;
          v12 = 2 * v17;
          if ( v11 )
          {
            if ( !v20 )
              break;
            v21 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v22 = v11 + v21;
            v11 = __CFADD__(v11, v21) | __CFADD__(v21, v22);
            v12 = v21 + v22;
            if ( v11 )
              break;
          }
        }
        v23 = 0;
        v11 = v15 < 3;
        v24 = v15 - 3;
        if ( !v11 )
        {
          v25 = v24 << 8;
          LOBYTE(v25) = *(_BYTE *)v7;
          v7 = (int *)((char *)v7 + 1);
          v26 = ~v25;
          if ( !v26 )
          {
            v48 = v63;
            v49 = (char *)(v63 + 61440);
LABEL_33:
            v50 = *(_DWORD *)v49;
            if ( *(_DWORD *)v49 )
            {
              v51 = (int *)((char *)v48 + *((_DWORD *)v49 + 1));
              v49 += 8;
              v52 = ((int (__fastcall *)(int, char *, int, int, char *, int, int, int *, int, int, int))v48[66080])(
                      v23,
                      a2,
                      (int)v48 + v50 + 264120,
                      v64,
                      v65,
                      v66,
                      v67,
                      v68,
                      v69,
                      v70,
                      v71);
              while ( 1 )
              {
                v53 = *v49++;
                if ( !v53 )
                  goto LABEL_33;
                v54 = v49;
                v62 = v49;
                v55 = v53 - 1;
                do
                {
                  if ( !v54 )
                    break;
                  v20 = *v49++ == (char)v55;
                  --v54;
                }
                while ( !v20 );
                v56 = ((int (__cdecl *)(int, char *))v48[66081])(v52, v62);
                if ( !v56 )
                  break;
                *v51++ = v56;
              }
              v50 = ((int (*)(void))v48[66085])();
            }
            v57 = (void (__fastcall *)(int, char *, int *, int, int, int *))v48[66082];
            v58 = v48 - 1024;
            v60 = v50;
            v57(v23, a2, v48 - 1024, 4096, 4, &v60);
            *((_BYTE *)v58 + 479) &= 0x7Fu;
            *((_BYTE *)v58 + 519) &= 0x7Fu;
            ((void (__cdecl *)(int *, int, int, int *))v57)(v48 - 1024, 4096, v59[0], v59);
            do
              v60 = 0;
            while ( &v60 != &v61 - 32 );
            JUMPOUT(0x419246);
          }
          v9 = v26;
        }
        v27 = __CFADD__(v12, v12);
        v28 = 2 * v12;
        if ( !v28 )
        {
          v29 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v30 = v11 + v29;
          v27 = __CFADD__(v11, v29) | __CFADD__(v29, v30);
          v28 = v29 + v30;
        }
        v31 = v27;
        v32 = __CFADD__(v28, v28);
        v12 = 2 * v28;
        if ( !v12 )
        {
          v33 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v34 = v11 + v33;
          v32 = __CFADD__(v11, v33) | __CFADD__(v33, v34);
          v12 = v33 + v34;
        }
        v35 = v31 + v32 + v31;
        if ( !v35 )
        {
          v36 = 1;
          while ( 1 )
          {
            v37 = __CFADD__(v12, v12);
            v38 = 2 * v12;
            if ( !v38 )
            {
              v39 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v40 = v11 + v39;
              v37 = __CFADD__(v11, v39) | __CFADD__(v39, v40);
              v38 = v39 + v40;
            }
            v36 += v37 + v36;
            v11 = __CFADD__(v38, v38);
            v41 = 2 * v38 == 0;
            v12 = 2 * v38;
            if ( v11 )
            {
              if ( !v41 )
                break;
              v42 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v43 = v11 + v42;
              v11 = __CFADD__(v11, v42) | __CFADD__(v42, v43);
              v12 = v42 + v43;
              if ( v11 )
                break;
            }
          }
          v35 = v36 + 2;
        }
        v44 = (v9 < 0xFFFFF300) + v35 + 1;
        a2 = (char *)v8 + v9;
        if ( v9 <= 0xFFFFFFFC )
        {
          do
          {
            v46 = *(_DWORD *)a2;
            a2 += 4;
            *v8++ = v46;
            v47 = v44 <= 4;
            v44 -= 4;
          }
          while ( !v47 );
          v8 = (int *)((char *)v8 + v44);
        }
        else
        {
          do
          {
            v45 = *a2++;
            *(_BYTE *)v8 = v45;
            v8 = (int *)((char *)v8 + 1);
            --v44;
          }
          while ( v44 );
        }
      }
      v11 = __CFADD__(v12, v12);
      v12 *= 2;
    }
    while ( v12 );
  }
}
// 43ED88: positive sp value 50 has been found
// 43ED88: control flows out of bounds to 419246
// 43ED1F: variable 'v23' is possibly undefined
// 43ED1F: variable 'a2' is possibly undefined
// 437000: using guessed type int dword_437000[512];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
