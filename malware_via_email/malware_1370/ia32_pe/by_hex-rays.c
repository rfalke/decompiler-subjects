/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <math.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __userpurge sub_4043F0(char _AL@<al>, __int16 a2@<cx>, unsigned int _EBX@<ebx>, int a4@<ebp>, _DWORD *a5@<edi>, int a6@<esi>, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
// void __usercall sub_40442C(int _ECX@<ecx>, char a2@<bh>);
// int __usercall sub_404508@<eax>(int a1@<edx>, int _ECX@<ecx>, char a3@<bh>, int _ESI@<esi>);
// int __usercall sub_40451A@<eax>(int a1@<ebx>, int a2@<ebp>, unsigned int a3@<edi>, int a4@<esi>);
void sub_404579();
// void __usercall start(int a1@<eax>, __int16 a2@<dx>, int _ECX@<ecx>, int _EBX@<ebx>, int a5@<ebp>, _DWORD *a6@<edi>, int a7@<esi>);
// void __usercall sub_4045D5(char a1@<cl>, char a2@<bl>, int a3@<edi>);
// void __usercall sub_4045F8(int a2@<edx>, int a3@<ecx>, int a4@<ebx>, _BYTE *a5@<edi>);
void sub_404621();
// void __userpurge sub_40465A(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62);
// void __usercall sub_404672(_BYTE *a1@<eax>, int _EDX@<edx>, int _ECX@<ecx>, char _BL@<bl>, int a5@<esi>);
// void __userpurge sub_4046DB(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
void sub_4047FF();
// void __userpurge sub_40480F(_BYTE *a1@<ecx>, __int16 _BP@<bp>, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
void sub_40483E();
// void __usercall sub_404970(int a1@<edx>, int a2@<ecx>, char a3@<bh>, int a4@<esi>);
void sub_4049AA();
void sub_4049EB();
// void __usercall sub_404A4A(int a1@<ecx>, char a2@<bh>, _BYTE *a3@<edi>);

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN loc_4044B3; // weak
_UNKNOWN loc_40460F; // weak
_UNKNOWN loc_404644; // weak
_UNKNOWN loc_4048CC; // weak
_UNKNOWN loc_404A6A; // weak


//----- (004043F0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __userpurge sub_4043F0(char _AL@<al>, __int16 a2@<cx>, unsigned int _EBX@<ebx>, int a4@<ebp>, _DWORD *a5@<edi>, int a6@<esi>, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  int v65; // ecx
  unsigned __int16 v66; // dx
  unsigned __int8 v67; // al
  int v69; // esi
  _BYTE *v70; // ecx
  char v71; // cf
  int v72; // edi
  unsigned int v73; // eax
  unsigned __int16 v74; // dx
  char v75; // dl
  int v78; // edx
  int v79; // ecx
  char v81; // ah
  int v82; // ecx
  char v83; // zf
  unsigned int v85; // ebx
  int v88; // edi
  int v89; // [esp-92CCh] [ebp-92CCh]
  int v90; // [esp-92C8h] [ebp-92C8h]
  int v91; // [esp-92C4h] [ebp-92C4h]
  int v92; // [esp-92C0h] [ebp-92C0h]
  int v93; // [esp-92BCh] [ebp-92BCh]
  int v94; // [esp-92B8h] [ebp-92B8h]
  int v95; // [esp-92B4h] [ebp-92B4h]
  int v96; // [esp-92B0h] [ebp-92B0h]
  int v97; // [esp-92ACh] [ebp-92ACh]
  int v98; // [esp-92A8h] [ebp-92A8h]
  int v99; // [esp-92A4h] [ebp-92A4h]
  int v100; // [esp-92A0h] [ebp-92A0h]
  int v101; // [esp-929Ch] [ebp-929Ch]
  int v102; // [esp-9298h] [ebp-9298h]
  int v103; // [esp-9294h] [ebp-9294h]
  int v104; // [esp-9290h] [ebp-9290h]
  int v105; // [esp-928Ch] [ebp-928Ch]
  int v106; // [esp-9288h] [ebp-9288h]
  int v107; // [esp-9284h] [ebp-9284h]
  int v108; // [esp-9280h] [ebp-9280h]
  int v109; // [esp-927Ch] [ebp-927Ch]
  int v110; // [esp-9278h] [ebp-9278h]
  int v111; // [esp-9274h] [ebp-9274h]
  int v112; // [esp-9270h] [ebp-9270h]
  int v113; // [esp-926Ch] [ebp-926Ch]
  int v114; // [esp-9268h] [ebp-9268h]
  int v115; // [esp-9264h] [ebp-9264h]
  int v116; // [esp-9260h] [ebp-9260h]
  int v117; // [esp-925Ch] [ebp-925Ch]
  int v118; // [esp-9258h] [ebp-9258h]
  int v119; // [esp-9254h] [ebp-9254h]
  int v120; // [esp-9250h] [ebp-9250h]
  int v121; // [esp-924Ch] [ebp-924Ch]
  int v122; // [esp-9248h] [ebp-9248h]
  int v123; // [esp-9244h] [ebp-9244h]
  int v124; // [esp-9240h] [ebp-9240h]
  int v125; // [esp-923Ch] [ebp-923Ch]
  int v126; // [esp-9238h] [ebp-9238h]
  int v127; // [esp-9234h] [ebp-9234h]
  int v128; // [esp-9230h] [ebp-9230h]
  int v129; // [esp-922Ch] [ebp-922Ch]
  int v130; // [esp-9228h] [ebp-9228h]
  int v131; // [esp-9224h] [ebp-9224h]
  int v132; // [esp-9220h] [ebp-9220h]
  int v133; // [esp-921Ch] [ebp-921Ch]
  int v134; // [esp-9218h] [ebp-9218h]
  int v135; // [esp-9214h] [ebp-9214h]
  int v136; // [esp-9210h] [ebp-9210h]
  int v137; // [esp-920Ch] [ebp-920Ch]
  int v138; // [esp-9208h] [ebp-9208h]
  int v139; // [esp-9204h] [ebp-9204h]
  int v140; // [esp-9200h] [ebp-9200h]
  int v141; // [esp-91FCh] [ebp-91FCh]
  int v142; // [esp-91F8h] [ebp-91F8h]
  int v143; // [esp-91F4h] [ebp-91F4h]
  int v144; // [esp-91F0h] [ebp-91F0h]
  int v145; // [esp-91ECh] [ebp-91ECh]
  int v146; // [esp-91E8h] [ebp-91E8h]
  int v147; // [esp-91E4h] [ebp-91E4h]
  int v148; // [esp-91E0h] [ebp-91E0h]
  int v149; // [esp-91DCh] [ebp-91DCh]
  int v150; // [esp-8h] [ebp-8h]

  LOWORD(a5) = a2;
  _ECX = 2;
  if ( a5 == (_DWORD *)-515438370 )
  {
    __asm { rcr     ch, 0Fh }
    BYTE1(_EBX) -= 56;
    sub_404A4A(_ECX, (unsigned __int16)__ROL4__(_EBX, 2) >> 8, (_BYTE *)0xE14708DE);
    __asm { retf    92C0h }
  }
  __asm { rcr     al, cl }
  v69 = a6 - 2;
  sub_4047FF();
  v72 = (int)a5 + v71 + *a5;
  __outdword(v74, v73);
  v75 = v74 + 1;
  if ( _EBX == -1244451229 )
  {
    *(_BYTE *)(a4 - 679462076) -= v75;
    LOWORD(_EBX) = 156;
    sub_40480F(
      v70,
      a4,
      v89,
      v90,
      v91,
      v92,
      v93,
      v94,
      v95,
      v96,
      v97,
      v98,
      v99,
      v100,
      v101,
      v102,
      v103,
      v104,
      v105,
      v106,
      v107,
      v108,
      v109,
      v110,
      v111,
      v112,
      v113,
      v114,
      v115,
      v116,
      v117,
      v118,
      v119,
      v120,
      v121,
      v122,
      v123,
      v124,
      v125,
      v126,
      v127,
      v128,
      v129,
      v130,
      v131,
      v132,
      v133,
      v134,
      v135,
      v136,
      v137,
      v138,
      v139,
      v140,
      v141,
      v142,
      v143,
      v144,
      v145,
      v146,
      v147,
      v148,
      v149);
    __asm { aas }
    LOBYTE(_EAX) = (unsigned __int8)_EAX & 4;
    BYTE1(v78) += 99;
    LOBYTE(v78) = v78 - 19;
    sub_404672(_EAX, v78, v79, 156, v69);
    if ( v71 | v83 )
    {
      __asm { xlat }
      if ( v82 != 1 )
        JUMPOUT(0x404842);
      v85 = _EBX >> 6;
      LOWORD(v85) = (unsigned __int8)(v81 & v85);
      _EAX = ((int (__thiscall *)(_DWORD))loc_40460F)(0);
      __asm { bound   eax, [ecx-3DA1F02Fh] }
      v88 = v72 + 4;
      if ( (v85 ^ 0xF0F93881) != -1400082259 )
      {
        v65 = __ROR4__(_ECX, 8);
        if ( v150 == -496414825 )
        {
          __outbyte(0xB5u, _EAX);
          if ( (v65 + 1 < 0) ^ __OFADD__(1, v65) | (v65 == -1) )
            JUMPOUT(0x4044EF);
          JUMPOUT(0x40446E);
        }
        LOBYTE(v66) = v66 | 0x9A;
        if ( (v88 | 0x519C56AA) == -52629585 )
        {
          v67 = __inbyte(v66);
          JUMPOUT(0x40483D);
        }
        JUMPOUT(0x40491F);
      }
    }
    JUMPOUT(0x4048B8);
  }
  sub_4049AA();
  JUMPOUT(0x4047FC);
}
// 404924: positive sp value 92D0 has been found
// 40446C: control flows out of bounds to 40446E
// 4044EB: control flows out of bounds to 4044EF
// 4047F7: control flows out of bounds to 4047FC
// 40483C: control flows out of bounds to 40483D
// 404929: control flows out of bounds to 4048B8
// 4044DA: control flows out of bounds to 404537
// 404835: control flows out of bounds to 40491F
// 4048EA: control flows out of bounds to 404842
// 404425: variable 'v89' is possibly undefined
// 4044CB: variable '_ECX' is possibly undefined
// 4044D4: variable 'v150' is possibly undefined
// 40482C: variable 'v66' is possibly undefined
// 40489E: variable 'v71' is possibly undefined
// 4048A0: variable 'v74' is possibly undefined
// 4048A0: variable 'v73' is possibly undefined
// 4048C6: variable 'v70' is possibly undefined
// 4048C6: variable 'v90' is possibly undefined
// 4048C6: variable 'v91' is possibly undefined
// 4048C6: variable 'v92' is possibly undefined
// 4048C6: variable 'v93' is possibly undefined
// 4048C6: variable 'v94' is possibly undefined
// 4048C6: variable 'v95' is possibly undefined
// 4048C6: variable 'v96' is possibly undefined
// 4048C6: variable 'v97' is possibly undefined
// 4048C6: variable 'v98' is possibly undefined
// 4048C6: variable 'v99' is possibly undefined
// 4048C6: variable 'v100' is possibly undefined
// 4048C6: variable 'v101' is possibly undefined
// 4048C6: variable 'v102' is possibly undefined
// 4048C6: variable 'v103' is possibly undefined
// 4048C6: variable 'v104' is possibly undefined
// 4048C6: variable 'v105' is possibly undefined
// 4048C6: variable 'v106' is possibly undefined
// 4048C6: variable 'v107' is possibly undefined
// 4048C6: variable 'v108' is possibly undefined
// 4048C6: variable 'v109' is possibly undefined
// 4048C6: variable 'v110' is possibly undefined
// 4048C6: variable 'v111' is possibly undefined
// 4048C6: variable 'v112' is possibly undefined
// 4048C6: variable 'v113' is possibly undefined
// 4048C6: variable 'v114' is possibly undefined
// 4048C6: variable 'v115' is possibly undefined
// 4048C6: variable 'v116' is possibly undefined
// 4048C6: variable 'v117' is possibly undefined
// 4048C6: variable 'v118' is possibly undefined
// 4048C6: variable 'v119' is possibly undefined
// 4048C6: variable 'v120' is possibly undefined
// 4048C6: variable 'v121' is possibly undefined
// 4048C6: variable 'v122' is possibly undefined
// 4048C6: variable 'v123' is possibly undefined
// 4048C6: variable 'v124' is possibly undefined
// 4048C6: variable 'v125' is possibly undefined
// 4048C6: variable 'v126' is possibly undefined
// 4048C6: variable 'v127' is possibly undefined
// 4048C6: variable 'v128' is possibly undefined
// 4048C6: variable 'v129' is possibly undefined
// 4048C6: variable 'v130' is possibly undefined
// 4048C6: variable 'v131' is possibly undefined
// 4048C6: variable 'v132' is possibly undefined
// 4048C6: variable 'v133' is possibly undefined
// 4048C6: variable 'v134' is possibly undefined
// 4048C6: variable 'v135' is possibly undefined
// 4048C6: variable 'v136' is possibly undefined
// 4048C6: variable 'v137' is possibly undefined
// 4048C6: variable 'v138' is possibly undefined
// 4048C6: variable 'v139' is possibly undefined
// 4048C6: variable 'v140' is possibly undefined
// 4048C6: variable 'v141' is possibly undefined
// 4048C6: variable 'v142' is possibly undefined
// 4048C6: variable 'v143' is possibly undefined
// 4048C6: variable 'v144' is possibly undefined
// 4048C6: variable 'v145' is possibly undefined
// 4048C6: variable 'v146' is possibly undefined
// 4048C6: variable 'v147' is possibly undefined
// 4048C6: variable 'v148' is possibly undefined
// 4048C6: variable 'v149' is possibly undefined
// 4048D4: variable 'v78' is possibly undefined
// 4048DA: variable 'v79' is possibly undefined
// 4048DF: variable 'v83' is possibly undefined
// 4048EA: variable 'v82' is possibly undefined
// 4048F3: variable 'v81' is possibly undefined
// 4043F0: too many input arguments, some ignored

//----- (0040442C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40442C(int _ECX@<ecx>, char a2@<bh>)
{
  LOBYTE(_ECX) = (_BYTE)_ECX << _ECX;
  if ( _ECX == -1457917868 )
  {
    LOBYTE(_ECX) = 92;
    __asm { rcl     ecx, 1Eh }
    _BH = __ROR1__(a2, _ECX);
    __asm { rcr     bh, 0Dh }
    JUMPOUT(0x404B01);
  }
  JUMPOUT(0x40446A);
}
// 404430: positive sp value 4 has been found
// 404464: control flows out of bounds to 40446A
// 40455C: control flows out of bounds to 404B01

//----- (00404508) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_404508@<eax>(int a1@<edx>, int _ECX@<ecx>, char a3@<bh>, int _ESI@<esi>)
{
  bool v4; // cf

  v4 = __CFADD__(a1, -2072168115);
  _EDX = a1 - 2072168115;
  LOBYTE(_EDX) = a3 + v4 + _EDX;
  if ( _EDX == -1603686415 )
  {
    __asm { outsd }
    JUMPOUT(0x40499B);
  }
  LOBYTE(_EDX) = _EDX | 0xC8;
  __asm { rcr     dh, cl }
  return ((int (__fastcall *)(int, int))loc_4044B3)(_ECX, _EDX) - 1957634275;
}
// 404A94: positive sp value 8 has been found
// 40499A: control flows out of bounds to 40499B
// 404998: control flows out of bounds to 40491D

//----- (0040451A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_40451A@<eax>(int a1@<ebx>, int a2@<ebp>, unsigned int a3@<edi>, int a4@<esi>)
{
  int v5; // ecx
  int v7; // esi
  char v9; // bh
  char v11; // cf
  int result; // eax
  unsigned int v13; // [esp-4h] [ebp-4h] BYREF

  LOBYTE(a1) = -89;
  _EBX = __ROR4__(a1, 20);
  sub_40483E();
  *(_DWORD *)(_EDX + 4 * _EBX) += a2;
  __writeeflags(v13);
  v7 = a4 - 1;
  __asm
  {
    rcl     edx, 1
    rcl     bl, 1Dh
  }
  v9 = (unsigned __int8)&v13
     + __CFADD__(BYTE1(v5), BYTE1(_EBX))
     + BYTE1(v5)
     + BYTE1(_EBX)
     - ((unsigned __int16)&v13 >> 8);
  __asm { rcr     bl, 7 }
  if ( a3 != -2101910133 )
    JUMPOUT(0x404721);
  MEMORY[0x5D8ACC5E] -= (a3 < 0x82B7658B) + v9;
  _AH = -9;
  __asm { rcr     ah, 0Dh }
  sub_404970(_EDX, v5, v9 << v5, v7);
  _enable();
  if ( !v11 )
    JUMPOUT(0x404B09);
  result = MEMORY[0x54E2ED]();
  *(_BYTE *)(a2 + 1879480100) += BYTE1(result);
  return result;
}
// 404ACA: positive sp value 8 has been found
// 404AE0: control flows out of bounds to 404721
// 404AFE: control flows out of bounds to 404B09
// 404AC5: variable '_EDX' is possibly undefined
// 404ACB: variable 'v5' is possibly undefined
// 404AFE: variable 'v11' is possibly undefined

//----- (00404579) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_404579()
{
  __asm { rcr     eax, 9 }
  JUMPOUT(0x404955);
}
// 40457D: positive sp value 4 has been found
// 404589: control flows out of bounds to 404955

//----- (00404592) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, __int16 a2@<dx>, int _ECX@<ecx>, int _EBX@<ebx>, int a5@<ebp>, _DWORD *a6@<edi>, int a7@<esi>)
{
  int v8; // ecx
  int v15; // [esp-92C4h] [ebp-92C4h]
  int v16; // [esp-92C0h] [ebp-92C0h]
  int v17; // [esp-92BCh] [ebp-92BCh]
  int v18; // [esp-92B8h] [ebp-92B8h]
  int v19; // [esp-92B4h] [ebp-92B4h]
  int v20; // [esp-92B0h] [ebp-92B0h]
  int v21; // [esp-92ACh] [ebp-92ACh]
  int v22; // [esp-92A8h] [ebp-92A8h]
  int v23; // [esp-92A4h] [ebp-92A4h]
  int v24; // [esp-92A0h] [ebp-92A0h]
  int v25; // [esp-929Ch] [ebp-929Ch]
  int v26; // [esp-9298h] [ebp-9298h]
  int v27; // [esp-9294h] [ebp-9294h]
  int v28; // [esp-9290h] [ebp-9290h]
  int v29; // [esp-928Ch] [ebp-928Ch]
  int v30; // [esp-9288h] [ebp-9288h]
  int v31; // [esp-9284h] [ebp-9284h]
  int v32; // [esp-9280h] [ebp-9280h]
  int v33; // [esp-927Ch] [ebp-927Ch]
  int v34; // [esp-9278h] [ebp-9278h]
  int v35; // [esp-9274h] [ebp-9274h]
  int v36; // [esp-9270h] [ebp-9270h]
  int v37; // [esp-926Ch] [ebp-926Ch]
  int v38; // [esp-9268h] [ebp-9268h]
  int v39; // [esp-9264h] [ebp-9264h]
  int v40; // [esp-9260h] [ebp-9260h]
  int v41; // [esp-925Ch] [ebp-925Ch]
  int v42; // [esp-9258h] [ebp-9258h]
  int v43; // [esp-9254h] [ebp-9254h]
  int v44; // [esp-9250h] [ebp-9250h]
  int v45; // [esp-924Ch] [ebp-924Ch]
  int v46; // [esp-9248h] [ebp-9248h]
  int v47; // [esp-9244h] [ebp-9244h]
  int v48; // [esp-9240h] [ebp-9240h]
  int v49; // [esp-923Ch] [ebp-923Ch]
  int v50; // [esp-9238h] [ebp-9238h]
  int v51; // [esp-9234h] [ebp-9234h]
  int v52; // [esp-9230h] [ebp-9230h]
  int v53; // [esp-922Ch] [ebp-922Ch]
  int v54; // [esp-9228h] [ebp-9228h]
  int v55; // [esp-9224h] [ebp-9224h]
  int v56; // [esp-9220h] [ebp-9220h]
  int v57; // [esp-921Ch] [ebp-921Ch]
  int v58; // [esp-9218h] [ebp-9218h]
  int v59; // [esp-9214h] [ebp-9214h]
  int v60; // [esp-9210h] [ebp-9210h]
  int v61; // [esp-920Ch] [ebp-920Ch]
  int v62; // [esp-9208h] [ebp-9208h]
  int v63; // [esp-9204h] [ebp-9204h]
  int v64; // [esp-9200h] [ebp-9200h]
  int v65; // [esp-91FCh] [ebp-91FCh]
  int v66; // [esp-91F8h] [ebp-91F8h]
  int v67; // [esp-91F4h] [ebp-91F4h]
  int v68; // [esp-91F0h] [ebp-91F0h]
  int v69; // [esp-91ECh] [ebp-91ECh]
  int v70; // [esp-91E8h] [ebp-91E8h]
  int v71; // [esp-91E4h] [ebp-91E4h]

  __asm { rcr     ebx, cl }
  v8 = _ECX + 1;
  LOBYTE(a2) = BYTE1(a1) + a2;
  BYTE1(v8) = __ROL1__(BYTE1(v8), 6);
  _ECX = -v8;
  if ( _EBX == 843631080 )
  {
    _EDI = (unsigned int)(a6 + 1) ^ 0x6A56C7BD;
    _DX = (unsigned __int8)a2 | 0xF2;
    __asm { rcr     dx, cl }
    LOBYTE(a1) = -BYTE1(a1);
    if ( a1 == -1060519652 )
      __asm { retf }
    __asm { rcr     edi, 0Bh }
    JUMPOUT(0x404AE9);
  }
  LOBYTE(_ECX) = 0;
  LOBYTE(a2) = (unsigned __int8)a2 >> 5;
  sub_4043F0(
    a1,
    _ECX,
    a2,
    a5,
    a6,
    a7,
    v15,
    v16,
    v17,
    v18,
    v19,
    v20,
    v21,
    v22,
    v23,
    v24,
    v25,
    v26,
    v27,
    v28,
    v29,
    v30,
    v31,
    v32,
    v33,
    v34,
    v35,
    v36,
    v37,
    v38,
    v39,
    v40,
    v41,
    v42,
    v43,
    v44,
    v45,
    v46,
    v47,
    v48,
    v49,
    v50,
    v51,
    v52,
    v53,
    v54,
    v55,
    v56,
    v57,
    v58,
    v59,
    v60,
    v61,
    v62,
    v63,
    v64,
    v65,
    v66,
    v67,
    v68,
    v69,
    v70,
    v71);
  JUMPOUT(0x404AB7);
}
// 404AB4: positive sp value 92C4 has been found
// 404AB4: control flows out of bounds to 404AB7
// 40476E: control flows out of bounds to 404AE9
// 404AAF: variable 'v15' is possibly undefined
// 404AAF: variable 'v16' is possibly undefined
// 404AAF: variable 'v17' is possibly undefined
// 404AAF: variable 'v18' is possibly undefined
// 404AAF: variable 'v19' is possibly undefined
// 404AAF: variable 'v20' is possibly undefined
// 404AAF: variable 'v21' is possibly undefined
// 404AAF: variable 'v22' is possibly undefined
// 404AAF: variable 'v23' is possibly undefined
// 404AAF: variable 'v24' is possibly undefined
// 404AAF: variable 'v25' is possibly undefined
// 404AAF: variable 'v26' is possibly undefined
// 404AAF: variable 'v27' is possibly undefined
// 404AAF: variable 'v28' is possibly undefined
// 404AAF: variable 'v29' is possibly undefined
// 404AAF: variable 'v30' is possibly undefined
// 404AAF: variable 'v31' is possibly undefined
// 404AAF: variable 'v32' is possibly undefined
// 404AAF: variable 'v33' is possibly undefined
// 404AAF: variable 'v34' is possibly undefined
// 404AAF: variable 'v35' is possibly undefined
// 404AAF: variable 'v36' is possibly undefined
// 404AAF: variable 'v37' is possibly undefined
// 404AAF: variable 'v38' is possibly undefined
// 404AAF: variable 'v39' is possibly undefined
// 404AAF: variable 'v40' is possibly undefined
// 404AAF: variable 'v41' is possibly undefined
// 404AAF: variable 'v42' is possibly undefined
// 404AAF: variable 'v43' is possibly undefined
// 404AAF: variable 'v44' is possibly undefined
// 404AAF: variable 'v45' is possibly undefined
// 404AAF: variable 'v46' is possibly undefined
// 404AAF: variable 'v47' is possibly undefined
// 404AAF: variable 'v48' is possibly undefined
// 404AAF: variable 'v49' is possibly undefined
// 404AAF: variable 'v50' is possibly undefined
// 404AAF: variable 'v51' is possibly undefined
// 404AAF: variable 'v52' is possibly undefined
// 404AAF: variable 'v53' is possibly undefined
// 404AAF: variable 'v54' is possibly undefined
// 404AAF: variable 'v55' is possibly undefined
// 404AAF: variable 'v56' is possibly undefined
// 404AAF: variable 'v57' is possibly undefined
// 404AAF: variable 'v58' is possibly undefined
// 404AAF: variable 'v59' is possibly undefined
// 404AAF: variable 'v60' is possibly undefined
// 404AAF: variable 'v61' is possibly undefined
// 404AAF: variable 'v62' is possibly undefined
// 404AAF: variable 'v63' is possibly undefined
// 404AAF: variable 'v64' is possibly undefined
// 404AAF: variable 'v65' is possibly undefined
// 404AAF: variable 'v66' is possibly undefined
// 404AAF: variable 'v67' is possibly undefined
// 404AAF: variable 'v68' is possibly undefined
// 404AAF: variable 'v69' is possibly undefined
// 404AAF: variable 'v70' is possibly undefined
// 404AAF: variable 'v71' is possibly undefined

//----- (004045D5) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4045D5(char a1@<cl>, char a2@<bl>, int a3@<edi>)
{
  __int16 v3; // bx
  int v4; // eax
  char v5; // cf
  int v6; // ecx
  int v7; // edx
  int v8; // ecx
  int v9; // [esp-92C4h] [ebp-92C4h]
  int v10; // [esp-92C0h] [ebp-92C0h]
  int v11; // [esp-92BCh] [ebp-92BCh]
  int v12; // [esp-92B8h] [ebp-92B8h]
  int v13; // [esp-92B4h] [ebp-92B4h]
  int v14; // [esp-92B0h] [ebp-92B0h]
  int v15; // [esp-92ACh] [ebp-92ACh]
  int v16; // [esp-92A8h] [ebp-92A8h]
  int v17; // [esp-92A4h] [ebp-92A4h]
  int v18; // [esp-92A0h] [ebp-92A0h]
  int v19; // [esp-929Ch] [ebp-929Ch]
  int v20; // [esp-9298h] [ebp-9298h]
  int v21; // [esp-9294h] [ebp-9294h]
  int v22; // [esp-9290h] [ebp-9290h]
  int v23; // [esp-928Ch] [ebp-928Ch]
  int v24; // [esp-9288h] [ebp-9288h]
  int v25; // [esp-9284h] [ebp-9284h]
  int v26; // [esp-9280h] [ebp-9280h]
  int v27; // [esp-927Ch] [ebp-927Ch]
  int v28; // [esp-9278h] [ebp-9278h]
  int v29; // [esp-9274h] [ebp-9274h]
  int v30; // [esp-9270h] [ebp-9270h]
  int v31; // [esp-926Ch] [ebp-926Ch]
  int v32; // [esp-9268h] [ebp-9268h]
  int v33; // [esp-9264h] [ebp-9264h]
  int v34; // [esp-9260h] [ebp-9260h]
  int v35; // [esp-925Ch] [ebp-925Ch]
  int v36; // [esp-9258h] [ebp-9258h]
  int v37; // [esp-9254h] [ebp-9254h]
  int v38; // [esp-9250h] [ebp-9250h]
  int v39; // [esp-924Ch] [ebp-924Ch]
  int v40; // [esp-9248h] [ebp-9248h]
  int v41; // [esp-9244h] [ebp-9244h]
  int v42; // [esp-9240h] [ebp-9240h]
  int v43; // [esp-923Ch] [ebp-923Ch]
  int v44; // [esp-9238h] [ebp-9238h]
  int v45; // [esp-9234h] [ebp-9234h]
  int v46; // [esp-9230h] [ebp-9230h]
  int v47; // [esp-922Ch] [ebp-922Ch]
  int v48; // [esp-9228h] [ebp-9228h]
  int v49; // [esp-9224h] [ebp-9224h]
  int v50; // [esp-9220h] [ebp-9220h]
  int v51; // [esp-921Ch] [ebp-921Ch]
  int v52; // [esp-9218h] [ebp-9218h]
  int v53; // [esp-9214h] [ebp-9214h]
  int v54; // [esp-9210h] [ebp-9210h]
  int v55; // [esp-920Ch] [ebp-920Ch]
  int v56; // [esp-9208h] [ebp-9208h]
  int v57; // [esp-9204h] [ebp-9204h]
  int v58; // [esp-9200h] [ebp-9200h]
  int v59; // [esp-91FCh] [ebp-91FCh]
  int v60; // [esp-91F8h] [ebp-91F8h]
  int v61; // [esp-91F4h] [ebp-91F4h]
  int v62; // [esp-91F0h] [ebp-91F0h]
  int v63; // [esp-91ECh] [ebp-91ECh]
  int v64; // [esp-91E8h] [ebp-91E8h]
  int v65; // [esp-91E4h] [ebp-91E4h]
  int v66; // [esp-91E0h] [ebp-91E0h]
  int v67; // [esp-91DCh] [ebp-91DCh]
  int v68; // [esp-91D8h] [ebp-91D8h]
  int v69; // [esp-91D4h] [ebp-91D4h]
  int v70; // [esp-91D0h] [ebp-91D0h]
  int v71; // [esp-91CCh] [ebp-91CCh]

  HIBYTE(v3) = 12;
  LOBYTE(v3) = a1 ^ a2;
  v4 = ((int (*)(void))((char *)&loc_4048CC + 4))();
  *(_DWORD *)(v4 - 72) -= v5 + v6;
  sub_4046DB(
    v9,
    v10,
    v11,
    v12,
    v13,
    v14,
    v15,
    v16,
    v17,
    v18,
    v19,
    v20,
    v21,
    v22,
    v23,
    v24,
    v25,
    v26,
    v27,
    v28,
    v29,
    v30,
    v31,
    v32,
    v33,
    v34,
    v35,
    v36,
    v37,
    v38,
    v39,
    v40,
    v41,
    v42,
    v43,
    v44,
    v45,
    v46,
    v47,
    v48,
    v49,
    v50,
    v51,
    v52,
    v53,
    v54,
    v55,
    v56,
    v57,
    v58,
    v59,
    v60,
    v61,
    v62,
    v63,
    v64,
    v65,
    v66,
    v67,
    v68,
    v69,
    v70,
    v71);
  sub_4045F8(v7, v8, v3 + 1, (_BYTE *)__ROR4__(a3 + 4, 25));
}
// 4045F3: positive sp value 1258C has been found
// 4045E0: bad sp value at call
// 4045E5: variable 'v5' is possibly undefined
// 4045E5: variable 'v6' is possibly undefined
// 4045EE: variable 'v9' is possibly undefined
// 4045EE: variable 'v10' is possibly undefined
// 4045EE: variable 'v11' is possibly undefined
// 4045EE: variable 'v12' is possibly undefined
// 4045EE: variable 'v13' is possibly undefined
// 4045EE: variable 'v14' is possibly undefined
// 4045EE: variable 'v15' is possibly undefined
// 4045EE: variable 'v16' is possibly undefined
// 4045EE: variable 'v17' is possibly undefined
// 4045EE: variable 'v18' is possibly undefined
// 4045EE: variable 'v19' is possibly undefined
// 4045EE: variable 'v20' is possibly undefined
// 4045EE: variable 'v21' is possibly undefined
// 4045EE: variable 'v22' is possibly undefined
// 4045EE: variable 'v23' is possibly undefined
// 4045EE: variable 'v24' is possibly undefined
// 4045EE: variable 'v25' is possibly undefined
// 4045EE: variable 'v26' is possibly undefined
// 4045EE: variable 'v27' is possibly undefined
// 4045EE: variable 'v28' is possibly undefined
// 4045EE: variable 'v29' is possibly undefined
// 4045EE: variable 'v30' is possibly undefined
// 4045EE: variable 'v31' is possibly undefined
// 4045EE: variable 'v32' is possibly undefined
// 4045EE: variable 'v33' is possibly undefined
// 4045EE: variable 'v34' is possibly undefined
// 4045EE: variable 'v35' is possibly undefined
// 4045EE: variable 'v36' is possibly undefined
// 4045EE: variable 'v37' is possibly undefined
// 4045EE: variable 'v38' is possibly undefined
// 4045EE: variable 'v39' is possibly undefined
// 4045EE: variable 'v40' is possibly undefined
// 4045EE: variable 'v41' is possibly undefined
// 4045EE: variable 'v42' is possibly undefined
// 4045EE: variable 'v43' is possibly undefined
// 4045EE: variable 'v44' is possibly undefined
// 4045EE: variable 'v45' is possibly undefined
// 4045EE: variable 'v46' is possibly undefined
// 4045EE: variable 'v47' is possibly undefined
// 4045EE: variable 'v48' is possibly undefined
// 4045EE: variable 'v49' is possibly undefined
// 4045EE: variable 'v50' is possibly undefined
// 4045EE: variable 'v51' is possibly undefined
// 4045EE: variable 'v52' is possibly undefined
// 4045EE: variable 'v53' is possibly undefined
// 4045EE: variable 'v54' is possibly undefined
// 4045EE: variable 'v55' is possibly undefined
// 4045EE: variable 'v56' is possibly undefined
// 4045EE: variable 'v57' is possibly undefined
// 4045EE: variable 'v58' is possibly undefined
// 4045EE: variable 'v59' is possibly undefined
// 4045EE: variable 'v60' is possibly undefined
// 4045EE: variable 'v61' is possibly undefined
// 4045EE: variable 'v62' is possibly undefined
// 4045EE: variable 'v63' is possibly undefined
// 4045EE: variable 'v64' is possibly undefined
// 4045EE: variable 'v65' is possibly undefined
// 4045EE: variable 'v66' is possibly undefined
// 4045EE: variable 'v67' is possibly undefined
// 4045EE: variable 'v68' is possibly undefined
// 4045EE: variable 'v69' is possibly undefined
// 4045EE: variable 'v70' is possibly undefined
// 4045EE: variable 'v71' is possibly undefined
// 4045F4: variable 'v7' is possibly undefined
// 4045F4: variable 'v8' is possibly undefined

//----- (004045F8) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4045F8(int a2@<edx>, int a3@<ecx>, int a4@<ebx>, _BYTE *a5@<edi>)
{
  int v5; // ebx
  bool v6; // cf

  LOWORD(a4) = -27648;
  v5 = __ROR4__(a4, 3);
  if ( a2 == -964738823 )
  {
    v6 = __CFSHR__(*(_BYTE *)(a3 - 19), -102);
    *(char *)(a3 - 19) >>= 7;
    *a5 += BYTE1(v5) + v6;
    JUMPOUT(0x404892);
  }
  if ( v5 != 99535697 )
    JUMPOUT(0x404693);
  if ( a3 != -1103357772 )
  {
    ((void (*)(void))((char *)&loc_404A6A + 1))();
    JUMPOUT(0x4046C2);
  }
  sub_4049EB();
}
// 4045FC: positive sp value 4 has been found
// 4046C1: control flows out of bounds to 4046C2
// 404890: control flows out of bounds to 404892
// 4049CE: control flows out of bounds to 404693

//----- (00404621) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_404621()
{
  __asm { rcr     edi, 5 }
  sub_4049EB();
  __asm { lock }
  JUMPOUT(0x4047D8);
}
// 404625: positive sp value 4 has been found
// 4047D5: fixed broken macro-insn
// 4047D6: control flows out of bounds to 4047D8

//----- (0040465A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __userpurge sub_40465A(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62)
{
  __asm { rcl     dl, cl }
  JUMPOUT(0x4048E4);
}
// 40465E: positive sp value 4 has been found
// 404666: control flows out of bounds to 4048E4

//----- (00404672) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_404672(_BYTE *a1@<eax>, int _EDX@<edx>, int _ECX@<ecx>, char _BL@<bl>, int a5@<esi>)
{
  unsigned int v6; // [esp-4h] [ebp-4h]

  __asm { rcl     dh, cl }
  if ( _EDX == -2105782912 )
  {
    __writeeflags(v6);
    LOBYTE(a1) = *(_BYTE *)(a5 - 947826224);
    LOBYTE(_ECX) = *a1 & _ECX;
    __asm { rcl     bl, cl }
    LOBYTE(_EDX) = __ROR1__(0x80, _ECX);
    if ( _ECX == -973415841 )
      JUMPOUT(0x4046A8);
    ((void (__fastcall *)(int, int))loc_404644)(_ECX, _EDX);
    JUMPOUT(0x404706);
  }
  JUMPOUT(0x404ACB);
}
// 40468D: positive sp value 8 has been found
// 4046A7: control flows out of bounds to 4046A8
// 404704: control flows out of bounds to 404706
// 404686: control flows out of bounds to 404ACB
// 40468C: variable 'v6' is possibly undefined

//----- (004046DB) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __userpurge sub_4046DB(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  JUMPOUT(0x4048FE);
}
// 4046DF: positive sp value 4 has been found
// 4046E8: control flows out of bounds to 4048FE
// 4046DB: too many input arguments, some ignored

//----- (004047FF) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4047FF()
{
  JUMPOUT(0x404A00);
}
// 404803: positive sp value 4 has been found
// 404805: control flows out of bounds to 404A00

//----- (0040480F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __userpurge sub_40480F(_BYTE *a1@<ecx>, __int16 _BP@<bp>, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  char v67; // ch
  int v72; // edx
  int v73; // ecx
  int v74; // eax
  _BYTE *v75; // ebx
  float *v76; // edx
  int v78; // [esp-92C4h] [ebp-92C4h]
  int v79; // [esp-92C0h] [ebp-92C0h]
  int v80; // [esp-92BCh] [ebp-92BCh]
  int v81; // [esp-92B8h] [ebp-92B8h]
  int v82; // [esp-92B4h] [ebp-92B4h]
  int v83; // [esp-92B0h] [ebp-92B0h]
  int v84; // [esp-92ACh] [ebp-92ACh]
  int v85; // [esp-92A8h] [ebp-92A8h]
  int v86; // [esp-92A4h] [ebp-92A4h]
  int v87; // [esp-92A0h] [ebp-92A0h]
  int v88; // [esp-929Ch] [ebp-929Ch]
  int v89; // [esp-9298h] [ebp-9298h]
  int v90; // [esp-9294h] [ebp-9294h]
  int v91; // [esp-9290h] [ebp-9290h]
  int v92; // [esp-928Ch] [ebp-928Ch]
  int v93; // [esp-9288h] [ebp-9288h]
  int v94; // [esp-9284h] [ebp-9284h]
  int v95; // [esp-9280h] [ebp-9280h]
  int v96; // [esp-927Ch] [ebp-927Ch]
  int v97; // [esp-9278h] [ebp-9278h]
  int v98; // [esp-9274h] [ebp-9274h]
  int v99; // [esp-9270h] [ebp-9270h]
  int v100; // [esp-926Ch] [ebp-926Ch]
  int v101; // [esp-9268h] [ebp-9268h]
  int v102; // [esp-9264h] [ebp-9264h]
  int v103; // [esp-9260h] [ebp-9260h]
  int v104; // [esp-925Ch] [ebp-925Ch]
  int v105; // [esp-9258h] [ebp-9258h]
  int v106; // [esp-9254h] [ebp-9254h]
  int v107; // [esp-9250h] [ebp-9250h]
  int v108; // [esp-924Ch] [ebp-924Ch]
  int v109; // [esp-9248h] [ebp-9248h]
  int v110; // [esp-9244h] [ebp-9244h]
  int v111; // [esp-9240h] [ebp-9240h]
  int v112; // [esp-923Ch] [ebp-923Ch]
  int v113; // [esp-9238h] [ebp-9238h]
  int v114; // [esp-9234h] [ebp-9234h]
  int v115; // [esp-9230h] [ebp-9230h]
  int v116; // [esp-922Ch] [ebp-922Ch]
  int v117; // [esp-9228h] [ebp-9228h]
  int v118; // [esp-9224h] [ebp-9224h]
  int v119; // [esp-9220h] [ebp-9220h]
  int v120; // [esp-921Ch] [ebp-921Ch]
  int v121; // [esp-9218h] [ebp-9218h]
  int v122; // [esp-9214h] [ebp-9214h]
  int v123; // [esp-9210h] [ebp-9210h]
  int v124; // [esp-920Ch] [ebp-920Ch]
  int v125; // [esp-9208h] [ebp-9208h]
  int v126; // [esp-9204h] [ebp-9204h]
  int v127; // [esp-9200h] [ebp-9200h]
  int v128; // [esp-91FCh] [ebp-91FCh]
  int v129; // [esp-91F8h] [ebp-91F8h]
  int v130; // [esp-91F4h] [ebp-91F4h]
  int v131; // [esp-91F0h] [ebp-91F0h]
  int v132; // [esp-91ECh] [ebp-91ECh]
  int v133; // [esp-91E8h] [ebp-91E8h]
  int v134; // [esp-91E4h] [ebp-91E4h]
  int v135; // [esp-91E0h] [ebp-91E0h]
  int v136; // [esp-91DCh] [ebp-91DCh]
  int v137; // [esp-91D8h] [ebp-91D8h]
  int v138; // [esp-91D4h] [ebp-91D4h]
  int v139; // [esp-91D0h] [ebp-91D0h]

  _DI = -6172;
  v75 = a1;
  _CL = (unsigned __int8)a1 | 0x50;
  __asm { rcr     di, cl }
  sub_404621();
  LOBYTE(v75) = v67;
  _DH -= 116;
  __asm { rcl     dh, cl }
  BYTE1(v75) |= v67;
  sub_40465A(
    v78,
    v79,
    v80,
    v81,
    v82,
    v83,
    v84,
    v85,
    v86,
    v87,
    v88,
    v89,
    v90,
    v91,
    v92,
    v93,
    v94,
    v95,
    v96,
    v97,
    v98,
    v99,
    v100,
    v101,
    v102,
    v103,
    v104,
    v105,
    v106,
    v107,
    v108,
    v109,
    v110,
    v111,
    v112,
    v113,
    v114,
    v115,
    v116,
    v117,
    v118,
    v119,
    v120,
    v121,
    v122,
    v123,
    v124,
    v125,
    v126,
    v127,
    v128,
    v129,
    v130,
    v131,
    v132,
    v133,
    v134,
    v135,
    v136,
    v137,
    v138,
    v139);
  __asm { arpl    sp, bp }
  v74 = MEMORY[0x424648D];
  BYTE1(v72) &= 0x2Eu;
  BYTE1(v74) = BYTE1(v73) | MEMORY[0x424648E];
  BYTE1(v75) = __ROR1__(BYTE1(v75), 14);
  if ( v73 == 672013190 )
    JUMPOUT(0x404753);
  LOBYTE(v72) = v72 - 1;
  v76 = (float *)(v72 + 1);
  if ( v74 != 1559535719 )
    goto LABEL_5;
  __asm { fstp    dword ptr [edx] }
  *v76 = _ET1;
  *v75 = v74;
  if ( !__OFSUB__(v74, 1559535719) )
  {
LABEL_5:
    sub_404579();
    JUMPOUT(0x40491A);
  }
  JUMPOUT(0x4048E8);
}
// 404733: positive sp value 92C8 has been found
// 40474D: control flows out of bounds to 404753
// 404939: inconsistent fpu stack
// 40495C: control flows out of bounds to 40491A
// 40493D: control flows out of bounds to 4048E8
// 404725: variable 'v67' is possibly undefined
// 404727: variable '_DH' is possibly undefined
// 40472E: variable 'v78' is possibly undefined
// 40472E: variable 'v79' is possibly undefined
// 40472E: variable 'v80' is possibly undefined
// 40472E: variable 'v81' is possibly undefined
// 40472E: variable 'v82' is possibly undefined
// 40472E: variable 'v83' is possibly undefined
// 40472E: variable 'v84' is possibly undefined
// 40472E: variable 'v85' is possibly undefined
// 40472E: variable 'v86' is possibly undefined
// 40472E: variable 'v87' is possibly undefined
// 40472E: variable 'v88' is possibly undefined
// 40472E: variable 'v89' is possibly undefined
// 40472E: variable 'v90' is possibly undefined
// 40472E: variable 'v91' is possibly undefined
// 40472E: variable 'v92' is possibly undefined
// 40472E: variable 'v93' is possibly undefined
// 40472E: variable 'v94' is possibly undefined
// 40472E: variable 'v95' is possibly undefined
// 40472E: variable 'v96' is possibly undefined
// 40472E: variable 'v97' is possibly undefined
// 40472E: variable 'v98' is possibly undefined
// 40472E: variable 'v99' is possibly undefined
// 40472E: variable 'v100' is possibly undefined
// 40472E: variable 'v101' is possibly undefined
// 40472E: variable 'v102' is possibly undefined
// 40472E: variable 'v103' is possibly undefined
// 40472E: variable 'v104' is possibly undefined
// 40472E: variable 'v105' is possibly undefined
// 40472E: variable 'v106' is possibly undefined
// 40472E: variable 'v107' is possibly undefined
// 40472E: variable 'v108' is possibly undefined
// 40472E: variable 'v109' is possibly undefined
// 40472E: variable 'v110' is possibly undefined
// 40472E: variable 'v111' is possibly undefined
// 40472E: variable 'v112' is possibly undefined
// 40472E: variable 'v113' is possibly undefined
// 40472E: variable 'v114' is possibly undefined
// 40472E: variable 'v115' is possibly undefined
// 40472E: variable 'v116' is possibly undefined
// 40472E: variable 'v117' is possibly undefined
// 40472E: variable 'v118' is possibly undefined
// 40472E: variable 'v119' is possibly undefined
// 40472E: variable 'v120' is possibly undefined
// 40472E: variable 'v121' is possibly undefined
// 40472E: variable 'v122' is possibly undefined
// 40472E: variable 'v123' is possibly undefined
// 40472E: variable 'v124' is possibly undefined
// 40472E: variable 'v125' is possibly undefined
// 40472E: variable 'v126' is possibly undefined
// 40472E: variable 'v127' is possibly undefined
// 40472E: variable 'v128' is possibly undefined
// 40472E: variable 'v129' is possibly undefined
// 40472E: variable 'v130' is possibly undefined
// 40472E: variable 'v131' is possibly undefined
// 40472E: variable 'v132' is possibly undefined
// 40472E: variable 'v133' is possibly undefined
// 40472E: variable 'v134' is possibly undefined
// 40472E: variable 'v135' is possibly undefined
// 40472E: variable 'v136' is possibly undefined
// 40472E: variable 'v137' is possibly undefined
// 40472E: variable 'v138' is possibly undefined
// 40472E: variable 'v139' is possibly undefined
// 40473A: variable 'v72' is possibly undefined
// 40473D: variable 'v73' is possibly undefined
// 40480F: too many input arguments, some ignored

//----- (0040483E) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40483E()
{
  JUMPOUT(0x4047D6);
}
// 404842: positive sp value 4 has been found
// 404853: control flows out of bounds to 4047D6

//----- (00404970) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_404970(int a1@<edx>, int a2@<ecx>, char a3@<bh>, int a4@<esi>)
{
  sub_404508(a1, a2, a3, a4 - a1);
  JUMPOUT(0x404984);
}
// 404974: positive sp value 4 has been found
// 404981: control flows out of bounds to 404984

//----- (004049AA) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4049AA()
{
  JUMPOUT(0x4045E9);
}
// 404631: positive sp value 4 has been found
// 40463F: control flows out of bounds to 404640
// 40463C: control flows out of bounds to 4045E9

//----- (004049EB) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4049EB()
{
  __asm
  {
    rcl     edi, 6
    rcl     esi, cl
  }
  JUMPOUT(0x404A15);
}
// 4049EF: positive sp value 4 has been found
// 404A10: control flows out of bounds to 404A16
// 4049F8: control flows out of bounds to 404A15
// 4049FD: control flows out of bounds to 404A76

//----- (00404A4A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_404A4A(int a1@<ecx>, char a2@<bh>, _BYTE *a3@<edi>)
{
  int v3; // ecx
  char v4; // pf

  BYTE1(a1) <<= 7;
  LOWORD(a1) = __ROR2__(a1, a1);
  BYTE1(a1) -= __CFSHR__(a2, 2) - 23;
  sub_40442C(a1, a2 >> 2);
  if ( !v4 )
  {
    BYTE1(v3) ^= *a3;
    if ( v3 == 1 )
      JUMPOUT(0x404A6C);
    JUMPOUT(0x4049F9);
  }
  JUMPOUT(0x404A50);
}
// 404A4E: positive sp value 4 has been found
// 404A6A: control flows out of bounds to 404A6C
// 404A65: control flows out of bounds to 404A50
// 404A6A: control flows out of bounds to 4049F9
// 404A65: variable 'v4' is possibly undefined
// 404A68: variable 'v3' is possibly undefined

// nfuncs=19 queued=19 decompiled=19 lumina nreq=0 worse=0 better=0
// ALL OK, 19 function(s) have been successfully decompiled
