/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>);

//-------------------------------------------------------------------------
// Data declarations

int dword_417000[512] =
{
  -1843396097,
  1676206848,
  419642522,
  -207,
  1973691135,
  361602411,
  -489016016,
  573829200,
  2034772114,
  205415674,
  -935603186,
  -746683224,
  -182,
  2103008255,
  1019250043,
  -404012432,
  1201632196,
  -250680144,
  1164346398,
  1575107123,
  2076293377,
  -120,
  754206975,
  1781059909,
  -1026415500,
  1456986847,
  2015695708,
  -657994914,
  -1715663538,
  741830036,
  -31,
  -510128897,
  220102125,
  1948156459,
  867515004,
  -1323642406,
  2127108824,
  -1364337695,
  -1851142559,
  -1179824,
  53605887,
  -1069850755,
  1192134042,
  1565778897,
  -1741948088,
  473681964,
  1408721956,
  -192,
  -1096522753,
  101771219,
  -1115746277,
  -1848313691,
  572237056,
  -2019461090,
  1037790592,
  493031309,
  -203,
  -2079122177,
  491438385,
  1666838676,
  901364400,
  1021540464,
  1945990329,
  -408404359,
  -462049403,
  -144,
  -1738827265,
  -1166791437,
  -1336357161,
  564568381,
  -511723148,
  363861256,
  -79762236,
  -447393227,
  -99,
  1238133759,
  -1682251025,
  -74335644,
  -201159193,
  -289027054,
  355255470,
  -70694619,
  -620817663,
  -40,
  1746983423,
  681548569,
  -1093969918,
  -1321436795,
  2086573381,
  739674381,
  -700568467,
  -1656973907,
  -9444,
  252598015,
  -937613674,
  548337665,
  228048338,
  -2033476548,
  -199662213,
  -1692880132,
  -172,
  -872194049,
  -498749621,
  -11324033,
  -459999463,
  1435070762,
  -1517098196,
  -1661599749,
  -1266863705,
  -76,
  -452066305,
  -627942148,
  2084708046,
  -751435681,
  248511186,
  -1875480109,
  -692482044,
  -736423760,
  -1,
  908997119,
  1165741910,
  238818603,
  -1652985377,
  -470036354,
  1933618360,
  631872962,
  -1403856310,
  -3980,
  -1219585,
  1573438674,
  1412143024,
  1891539499,
  2034963175,
  382849905,
  -273352548,
  -171,
  -764542273,
  1124062847,
  -1670867851,
  1593585071,
  553133758,
  -911993254,
  1390355173,
  -1855551,
  754827263,
  -1731766755,
  425639832,
  1954906796,
  1242307923,
  -410851890,
  550699084,
  -2527607,
  1241513983,
  832252507,
  -1466825696,
  725716479,
  -1490454218,
  2104128878,
  -1467674655,
  1990497652,
  -367817,
  754974719,
  -1623478146,
  1394411044,
  -2017012113,
  223878246,
  702205095,
  1550031036,
  -1877029839,
  1863262211,
  2030043135,
  -1174668216,
  -1808396090,
  -1499742675,
  -1657051786,
  1507084872,
  -244409160,
  -970905064,
  553648127,
  243826635,
  830606893,
  -314519927,
  -72953228,
  1496105478,
  -1656443270,
  1879000361,
  767623167,
  424918356,
  -1296106564,
  608227629,
  739611424,
  268539332,
  1707499575,
  -105,
  -578657281,
  -751450145,
  467287451,
  370480489,
  449786776,
  1020843748,
  -992531115,
  -825482800,
  -18874498,
  -1918818853,
  -1826885290,
  -481648368,
  2049188054,
  1260837635,
  -747295063,
  -7201,
  1860667135,
  1248877861,
  -501461889,
  1562266657,
  -1680969690,
  1265033760,
  -673820561,
  -9285,
  1785831295,
  1601498042,
  2058948223,
  -837096678,
  1028332785,
  -1471851267,
  -199114115,
  -1124073473,
  -193045020,
  1436052854,
  -1201209552,
  -326556063,
  -1946722928,
  2025913338,
  -6992766,
  549453103,
  1396803805,
  482833236,
  261942428,
  2143617805,
  -577633992,
  -11615550,
  -1493174177,
  2084272099,
  2048259247,
  1968508308,
  -2053953084,
  -1029406932,
  -1136532268,
  -44,
  750545407,
  1434360144,
  1215250021,
  890413440,
  -1302469318,
  1857703597,
  105705827,
  416574811,
  -14942439,
  1380224255,
  -1272898253,
  357602450,
  -1245209692,
  -188468304,
  628132312,
  -7847515,
  -121176065,
  -641210401,
  898746201,
  2032853601,
  -810606978,
  2138261761,
  -1541672184,
  -4718737,
  212923355,
  460984230,
  734747312,
  773731116,
  797289967,
  -472692784,
  -116,
  -1249946625,
  -1506371708,
  -1382686286,
  -433403539,
  2033767432,
  -1394737790,
  -188130922,
  1151742227,
  -137,
  -857293057,
  -1991218848,
  51990564,
  -399757555,
  -429949307,
  1783403152,
  2026334389,
  104501850,
  -119537703,
  -823263233,
  -1305527305,
  -1046049864,
  -312681096,
  486174279,
  -1242594100,
  -6429802,
  -1476395009,
  1982857592,
  -188839850,
  439610955,
  1355177629,
  1720277274,
  1747214443,
  1287390445,
  -11741445,
  -788539649,
  -1174793531,
  -409970248,
  2120898284,
  -2056320855,
  -1355023503,
  1295338521,
  -226,
  464630015,
  -1056006762,
  1965469293,
  721247002,
  919652743,
  -1846040317,
  -657388103,
  1112116604,
  -31296,
  438642431,
  1949715380,
  -1785986968,
  -1340678281,
  -1366084680,
  482641126,
  -372772773,
  419430399,
  308868467,
  -1525256588,
  647651211,
  1976874300,
  -331247228,
  696648091,
  -7150548,
  226492415,
  1957532564,
  2108972058,
  -1256441100,
  -971208705,
  -430768649,
  1958888916,
  -1768895610,
  -499720,
  1533546495,
  2055086684,
  1039155851,
  1895341521,
  364207209,
  -1102424806,
  -1215065985,
  27656119,
  319747265,
  1256010225,
  -170786618,
  1080989337,
  2147476357,
  -122097687,
  1150127258,
  -1587883676,
  907415447,
  268594732,
  -552114564,
  -1199570946,
  949235746,
  367405424,
  -758896389,
  1542439445,
  747204108,
  -1299350855,
  -2672,
  -933177089,
  1304516176,
  -1939757916,
  -74233062,
  -1663195784,
  784659431,
  915103512,
  -31,
  -484530241,
  -413305239,
  -261435475,
  -449717440,
  -1932247870,
  -1103908111,
  -1614664354,
  -6524573,
  1107296255,
  -1489477221,
  2012606167,
  1665430674,
  1903493444,
  2018674388,
  -644504532,
  1942591169,
  796539098,
  939524021,
  -314765787,
  -1454025632,
  -1613751025,
  -477534943,
  1279563528,
  -213,
  1677411339,
  -667497577,
  -1592525990,
  -94585316,
  -12103503,
  2134981673,
  -1085004129,
  -758710275,
  924496814,
  1308117679,
  -297472702,
  -377332456,
  -215548104,
  1610612628,
  -1955730208,
  361490313,
  -1878493028,
  -1831913818,
  931772577,
  -1579020067,
  -1073742026,
  2016398321,
  -73871747,
  -1757946007,
  -787998295,
  1506982648,
  5161024,
  -8731271,
  -167772161,
  -37433608,
  -1738896216,
  1117615653,
  561938261,
  353897579,
  1386490003,
  -949968575,
  -1079549952,
  -16,
  1496014773,
  -957346628,
  -1502066902,
  -977245493,
  -778069704,
  -606823891,
  -377487477,
  -1383384065,
  1442798625,
  1284837434,
  -320321219,
  -279668352,
  986061175,
  -15385109,
  1124042239,
  1690442611,
  1953336787,
  -1861695149,
  861312589,
  739142111,
  210550883,
  -202,
  -776091905,
  -1112680139,
  307379552,
  1408226913,
  1668641253,
  807267096,
  -2024467485,
  -2060048257,
  -110,
  819837439,
  1587151809,
  -1006435962,
  790133206,
  -409462238,
  1345016787,
  740163599,
  -392368508,
  2147012743,
  440178411,
  1430985516,
  1350119488,
  2083132688,
  -29382,
  -2039554001,
  -822924588,
  1579471657,
  -991589570,
  2022129773,
  -477399609,
  -1845493761,
  1518334048,
  322010493,
  319878527,
  1510485185,
  479024369,
  31126381,
  2131212629,
  -394264605,
  -1472467075
}; // weak


//----- (004269E0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  int *v3; // esi
  int *v4; // edi
  unsigned int v5; // ebp
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  unsigned int v11; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  bool v16; // zf
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  unsigned int v20; // eax
  int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ebx
  int v25; // ett
  BOOL v26; // ecx
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ebx
  int v35; // ett
  bool v36; // zf
  int v37; // ebx
  int v38; // ett
  unsigned int v39; // ecx
  char *v40; // edx
  char v41; // al
  int v42; // eax
  bool v43; // cc
  int *v44; // esi
  int *v45; // edi
  int v46; // ecx
  char v47; // al
  unsigned __int8 v48; // al
  int v49; // eax
  int v50; // eax
  char v51; // t0
  unsigned __int8 v52; // bl
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__cdecl *v61)(int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  int v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v72 = &v76;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v3 = dword_417000;
  v4 = &dword_417000[-22528];
  v67 = &dword_417000[-22528];
  v5 = -1;
  while ( 1 )
  {
    v9 = *v3;
    v7 = (unsigned int)v3++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v3;
        v3 = (int *)((char *)v3 + 1);
        *(_BYTE *)v4 = v6;
        v4 = (int *)((char *)v4 + 1);
      }
      else
      {
        v11 = 1;
        while ( 1 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v11 += v12 + v11;
          v7 = __CFADD__(v13, v13);
          v16 = 2 * v13 == 0;
          v8 = 2 * v13;
          if ( v7 )
          {
            if ( !v16 )
              break;
            v17 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v18 = v7 + v17;
            v7 = __CFADD__(v7, v17) | __CFADD__(v17, v18);
            v8 = v17 + v18;
            if ( v7 )
              break;
          }
        }
        v7 = v11 < 3;
        v19 = v11 - 3;
        if ( !v7 )
        {
          v20 = v19 << 8;
          LOBYTE(v20) = *(_BYTE *)v3;
          v3 = (int *)((char *)v3 + 1);
          v21 = ~v20;
          if ( !v21 )
          {
            v44 = v67;
            v45 = v67;
            v46 = 264;
            while ( 1 )
            {
              v47 = *(_BYTE *)v45;
              v45 = (int *)((char *)v45 + 1);
              v48 = v47 + 24;
              while ( v48 <= 1u && *(_BYTE *)v45 == 8 )
              {
                v49 = *v45;
                LOWORD(v49) = BYTE1(*v45);
                v50 = __ROL4__(v49, 16);
                v51 = v50;
                LOBYTE(v50) = BYTE1(v50);
                BYTE1(v50) = v51;
                v52 = *((_BYTE *)v45 + 4) + 24;
                *v45 = (int)v44 + v50 - (_DWORD)v45;
                v45 = (int *)((char *)v45 + 5);
                v48 = v52;
                if ( !--v46 )
                {
                  v53 = (char *)(v44 + 36864);
LABEL_38:
                  v54 = *(_DWORD *)v53;
                  if ( *(_DWORD *)v53 )
                  {
                    v55 = (int *)((char *)v44 + *((_DWORD *)v53 + 1));
                    v53 += 8;
                    v56 = ((int (__cdecl *)(int, int, int, int, int, int *, int, int, int))v44[39190])(
                            (int)v44 + v54 + 156580,
                            v68,
                            v69,
                            v70,
                            v71,
                            v72,
                            v73,
                            v74,
                            v75);
                    while ( 1 )
                    {
                      v57 = *v53++;
                      if ( !v57 )
                        goto LABEL_38;
                      v58 = v53;
                      v66 = v53;
                      v59 = v57 - 1;
                      do
                      {
                        if ( !v58 )
                          break;
                        v16 = *v53++ == (char)v59;
                        --v58;
                      }
                      while ( !v16 );
                      v60 = ((int (__cdecl *)(int, char *))v44[39191])(v56, v66);
                      if ( !v60 )
                        break;
                      *v55++ = v60;
                    }
                    v54 = ((int (*)(void))v44[39195])();
                  }
                  v61 = (void (__cdecl *)(int *, int, int, int *))v44[39192];
                  v62 = v44 - 1024;
                  v64 = v54;
                  v61(v44 - 1024, 4096, 4, &v64);
                  *((_BYTE *)v62 + 495) &= 0x7Fu;
                  *((_BYTE *)v62 + 535) &= 0x7Fu;
                  v61(v44 - 1024, 4096, v63[0], v63);
                  do
                    v64 = 0;
                  while ( &v64 != &v65 - 32 );
                  JUMPOUT(0x40D330);
                }
              }
            }
          }
          v5 = v21;
        }
        v22 = __CFADD__(v8, v8);
        v23 = 2 * v8;
        if ( !v23 )
        {
          v24 = *v3;
          v7 = (unsigned int)v3++ < 0xFFFFFFFC;
          v25 = v7 + v24;
          v22 = __CFADD__(v7, v24) | __CFADD__(v24, v25);
          v23 = v24 + v25;
        }
        v26 = v22;
        v27 = __CFADD__(v23, v23);
        v8 = 2 * v23;
        if ( !v8 )
        {
          v28 = *v3;
          v7 = (unsigned int)v3++ < 0xFFFFFFFC;
          v29 = v7 + v28;
          v27 = __CFADD__(v7, v28) | __CFADD__(v28, v29);
          v8 = v28 + v29;
        }
        v30 = v26 + v27 + v26;
        if ( !v30 )
        {
          v31 = 1;
          while ( 1 )
          {
            v32 = __CFADD__(v8, v8);
            v33 = 2 * v8;
            if ( !v33 )
            {
              v34 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v35 = v7 + v34;
              v32 = __CFADD__(v7, v34) | __CFADD__(v34, v35);
              v33 = v34 + v35;
            }
            v31 += v32 + v31;
            v7 = __CFADD__(v33, v33);
            v36 = 2 * v33 == 0;
            v8 = 2 * v33;
            if ( v7 )
            {
              if ( !v36 )
                break;
              v37 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v38 = v7 + v37;
              v7 = __CFADD__(v7, v37) | __CFADD__(v37, v38);
              v8 = v37 + v38;
              if ( v7 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v39 = (v5 < 0xFFFFF300) + v30 + 1;
        v40 = (char *)v4 + v5;
        if ( v5 <= 0xFFFFFFFC )
        {
          do
          {
            v42 = *(_DWORD *)v40;
            v40 += 4;
            *v4++ = v42;
            v43 = v39 <= 4;
            v39 -= 4;
          }
          while ( !v43 );
          v4 = (int *)((char *)v4 + v39);
        }
        else
        {
          do
          {
            v41 = *v40++;
            *(_BYTE *)v4 = v41;
            v4 = (int *)((char *)v4 + 1);
            --v39;
          }
          while ( v39 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 426B6B: positive sp value 50 has been found
// 426B6B: control flows out of bounds to 40D330
// 417000: using guessed type int dword_417000[512];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
