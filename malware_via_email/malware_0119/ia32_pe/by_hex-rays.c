/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

int start();
int __cdecl sub_403350(int a1, int a2, unsigned __int8 *a3);
int __cdecl sub_403420(int a1, unsigned __int8 *a2);
unsigned int __cdecl sub_4034A0(int a1, int a2, int a3);
int sub_4035B0();

//-------------------------------------------------------------------------
// Data declarations

int dword_401BC0 = 1078748593; // weak
char byte_404000[16] =
{
  'v',
  'ï',
  '\x19',
  '¨',
  '³',
  'É',
  'ë',
  '7',
  '\x11',
  '›',
  'w',
  '\x1F',
  'Ô',
  '\x81',
  'š',
  '8'
}; // idb
char byte_404010[80] =
{
  '\x1E',
  '›',
  'm',
  'Ø',
  '‰',
  'æ',
  'Ä',
  '\x06',
  '(',
  '¨',
  'Y',
  '.',
  'ä',
  'µ',
  '´',
  '\n',
  'A',
  'Á',
  ' ',
  '™',
  'œ',
  '¥',
  '‚',
  'Z',
  'a',
  'ô',
  '\a',
  'p',
  'û',
  'ã',
  'ø',
  '\x16',
  '\x06',
  '‡',
  'i',
  '¨',
  '¡',
  '\x06',
  'Ø',
  '\x10',
  'Ñ',
  'Ï',
  '‡',
  'š',
  '\x1D',
  '¸',
  '^',
  '\n',
  'D',
  'ß',
  ')',
  '¨',
  'Ã',
  '\x90',
  '\x9D',
  'º',
  'B',
  '\r',
  '\x15',
  'Y',
  'S',
  '\v',
  '©',
  '8',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0'
}; // idb
int dword_404060 = 5212421; // weak
__int16 word_405C60[] = { 3 }; // weak
__int16 word_405C62[] = { 0 }; // weak
__int16 word_405C64[462] =
{
  0,
  4,
  0,
  0,
  5,
  0,
  0,
  6,
  0,
  0,
  0,
  2,
  7,
  0,
  4,
  11,
  0,
  8,
  27,
  0,
  6,
  1,
  0,
  10,
  65,
  0,
  14,
  1089,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  
}; // idb
char byte_406000[]; // weak
int dword_406004; // weak
int (__stdcall *dword_406008)(_DWORD); // weak
int dword_406010; // weak
int dword_406014; // weak
int dword_406018; // weak
int dword_40601C; // weak
int dword_406020; // weak
int dword_406024; // weak
int (__stdcall *dword_406028)(_DWORD, _DWORD); // weak
int dword_40602C; // weak
int dword_406030; // weak
int dword_406034; // weak
int dword_406038; // weak
int dword_40603C; // weak


//----- (00401000) --------------------------------------------------------
int start()
{
  int v0; // eax
  unsigned int v1; // ebx
  char *v2; // esi
  int v3; // edi
  int v4; // eax
  unsigned int v5; // edx
  int v6; // eax
  int v7; // esi
  __int16 *v8; // ebx
  int v9; // edx
  char v10; // al
  int i; // eax
  int j; // ebx
  char v13; // al
  int v14; // edx
  char *v15; // ecx
  int v16; // edx
  int v17; // eax
  char v18; // cl
  unsigned int k; // edx
  unsigned int v20; // ebx
  char *v21; // edi
  char *v22; // eax
  char *v23; // esi
  __int16 v24; // dx
  __int16 v25; // cx
  int v26; // esi
  int v27; // ebx
  int v28; // ebx
  int v30; // edi
  unsigned int v31; // ebx
  int v32; // esi
  int v33; // edi
  unsigned int v34; // edx
  int v35; // ecx
  int v36; // edx
  __int16 *v37; // eax
  __int16 *v38; // edx
  int v39; // eax
  int v40; // eax
  int v41; // ecx
  unsigned int v42; // eax
  int v43; // ebx
  __int16 v44; // cx
  unsigned __int8 v45; // bl
  int v46; // edx
  int v47; // eax
  BOOL v48; // edx
  unsigned int v49; // edx
  int v50; // esi
  char *v51; // ebx
  int v52; // eax
  int v53; // esi
  char *v54; // edx
  char v55; // cl
  int v56; // eax
  bool v57; // zf
  int v58; // ecx
  int v59; // esi
  unsigned int v60; // edi
  int m; // ebx
  unsigned int v62; // ecx
  char v63; // al
  int v64; // eax
  int v65; // edx
  int v66; // [esp+8h] [ebp-892Ch]
  int v67; // [esp+Ch] [ebp-8928h]
  int v68; // [esp+14h] [ebp-8920h]
  int v69; // [esp+18h] [ebp-891Ch]
  int v70; // [esp+1Ch] [ebp-8918h]
  int v71; // [esp+1Ch] [ebp-8918h]
  int v72; // [esp+1Ch] [ebp-8918h]
  int v73; // [esp+20h] [ebp-8914h]
  int v74; // [esp+24h] [ebp-8910h]
  int v75; // [esp+40h] [ebp-88F4h]
  int v76; // [esp+40h] [ebp-88F4h]
  int v77; // [esp+44h] [ebp-88F0h]
  char v78; // [esp+5Bh] [ebp-88D9h]
  unsigned int v79; // [esp+5Ch] [ebp-88D8h]
  char *v80; // [esp+64h] [ebp-88D0h]
  char v81; // [esp+6Bh] [ebp-88C9h]
  int v82; // [esp+6Ch] [ebp-88C8h]
  int v83; // [esp+70h] [ebp-88C4h]
  char *v84; // [esp+74h] [ebp-88C0h]
  signed int v85; // [esp+78h] [ebp-88BCh]
  int l; // [esp+7Ch] [ebp-88B8h]
  int v87; // [esp+80h] [ebp-88B4h]
  int v88; // [esp+84h] [ebp-88B0h]
  unsigned int v89; // [esp+88h] [ebp-88ACh]
  int v90; // [esp+94h] [ebp-88A0h]
  char v91[19616]; // [esp+A0h] [ebp-8894h] BYREF
  char v92[13152]; // [esp+4D40h] [ebp-3BF4h] BYREF
  __int16 v93[2]; // [esp+80A0h] [ebp-894h] BYREF
  char v94[1580]; // [esp+80A4h] [ebp-890h] BYREF
  char v95[4]; // [esp+86D0h] [ebp-264h] BYREF
  char v96; // [esp+86D4h] [ebp-260h] BYREF
  char v97[324]; // [esp+87D4h] [ebp-160h] BYREF
  char v98[28]; // [esp+8918h] [ebp-1Ch] BYREF

  v0 = sub_4035B0();
  v82 = v0;
  if ( v0 )
  {
    v97[0] = 0;
    dword_406014 = sub_4034A0(-1318805144, -55192336, v0);
    ((void (__stdcall *)(int, char *, int, int, int, int, int))dword_406014)(260, v95, v68, v69, v70, v73, v74);
    dword_406010 = sub_4034A0(-1318805144, -1198103930, v82);
    ((void (__stdcall *)(char *, _DWORD))dword_406010)(v95, 0);
    dword_406028 = (int (__stdcall *)(_DWORD, _DWORD))sub_4034A0(-1318805144, 266432455, v82);
    dword_406004 = sub_4034A0(-1318805144, 1596006987, v82);
    v83 = ((int (__stdcall *)(char *, int, int, _DWORD))dword_406004)(v97, -1073741824, 1, 0);
    if ( v83 != -1 )
    {
      v1 = 0;
      v2 = v92;
      v79 = dword_40603C;
      v3 = -667214377 << dword_40603C;
      v77 = 4 * dword_40603C + 4;
      do
      {
        v4 = *(int *)((char *)&dword_401BC0 + v1);
        v1 += v77;
        *(_DWORD *)v2 = v3 ^ v4;
        v2 += 4 % (v79 - 1);
      }
      while ( v1 <= 0x176F );
      v5 = 0;
      while ( 1 )
      {
        v6 = *(int *)((char *)&dword_404060 + v5) ^ (dword_40603C == 0 ? -667214377 : -1334428754);
        v5 += ((_BYTE)v79 - 1) & 4;
        *(_DWORD *)v2 = v6;
        if ( v5 > 0x1BEF )
          break;
        v2 += v79 == 0 ? 4 : 8;
      }
      v84 = v92;
      v7 = 264 << v79;
      if ( 264 << v79 )
      {
        v8 = v93;
        v9 = 0;
        do
        {
          while ( 1 )
          {
            *v8 = v9;
            if ( (v9 & 1) == 0 )
              break;
            ++v9;
            v10 = *v84++;
            *((_BYTE *)v8 + 4) = v10 & 0xF;
            v8 += 3;
            if ( v9 == v7 )
              goto LABEL_13;
          }
          ++v9;
          *((_BYTE *)v8 + 4) = (int)(unsigned __int8)*v84 >> (v79 == 0 ? 4 : 8);
          v8 += 3;
        }
        while ( v9 != v7 );
      }
LABEL_13:
      v98[0] = 0;
      for ( i = 2; i != 17; ++i )
        v98[i - 1] = 0;
      for ( j = 0; j != 1584; j += 6 )
      {
        v13 = v94[j];
        if ( v13 > 0 )
          ++v98[v13 + v79 / (v13 | 1u)];
      }
      v14 = 1;
      v75 = 0;
      do
      {
        v75 = (v98[v14 - 1] + v75) << (1 << v79);
        *(_DWORD *)&v97[4 * v14++ + 260] = v75 ^ v79;
      }
      while ( v14 != 16 );
      v15 = v94;
      do
      {
        v16 = *v15;
        v17 = *(_DWORD *)&v97[4 * v16 + 260];
        *((_WORD *)v15 - 1) = v17;
        v15 += 6;
        *(_DWORD *)&v97[4 * v16 + 260] = v17 + 1;
      }
      while ( v15 != &v96 );
      v18 = 0;
      k = 0;
      if ( v79 << 8 != -263 )
        goto LABEL_28;
      while ( v18 )
      {
        v18 = 0;
        v20 = 0;
LABEL_26:
        for ( k = v20; k < (v79 << 8) + 263; k = v20 )
        {
LABEL_28:
          v21 = &v98[6 * k + 16];
          v80 = v21 - 2184;
          v20 = k + 1;
          v81 = *(v21 - 2180);
          v22 = &v98[6 * k + 22];
          v23 = v22 - 2184;
          if ( v81 <= *(v22 - 2180) )
            goto LABEL_26;
          v24 = *((_WORD *)v80 + 1);
          v25 = *((_WORD *)v21 - 1092);
          *((_DWORD *)v21 - 546) = *((_DWORD *)v22 - 546);
          *((_WORD *)v80 + 2) = *((_WORD *)v23 + 2);
          *((_WORD *)v23 + 1) = v24;
          v23[4] = v81;
          *((_WORD *)v22 - 1092) = v25;
          v18 = 1;
        }
      }
      v30 = 128;
      for ( l = 0; ; l += v88 * (dword_40603C + 1) )
      {
        while ( 1 )
        {
          v31 = v79;
          v32 = v30;
          v33 = 0;
          v90 = 0;
          do
          {
            while ( 1 )
            {
              do
              {
                v34 = v79 + 1;
                v35 = 0;
                do
                {
                  v35 *= 2;
                  if ( ((unsigned __int8)v32 & (unsigned __int8)*v84) != 0 )
                    v35 |= 1u;
                  v32 >>= 1;
                  if ( !v32 )
                  {
                    ++v84;
                    v32 = 128;
                  }
                  --v34;
                }
                while ( v34 );
                ++v33;
                v90 = v35 | (2 * v90);
                v36 = v94[6 * v31];
                if ( v33 > v36 )
                {
                  v37 = &v93[3 * v31];
                  do
                  {
                    v36 = *((char *)v37 + 10);
                    ++v31;
                    v37 += 3;
                  }
                  while ( v33 > v36 );
                }
              }
              while ( v33 != v36 );
              v38 = &v93[3 * v31];
              if ( v93[3 * v31 + 1] == v90 )
                break;
              while ( 1 )
              {
                ++v31;
                if ( *((char *)v38 + 10) != v33 )
                  break;
                v39 = v38[4];
                v38 += 3;
                if ( v39 == v90 )
                  goto LABEL_52;
              }
            }
LABEL_52:
            v85 = v93[3 * v31] + v79 / (v93[3 * v31] | 1u);
          }
          while ( v85 < 0 );
          if ( v85 >= v79 + 256 )
            break;
          v30 = v32;
          v91[l++] = v85;
        }
        if ( v85 == (v79 + 1) << 8 )
          break;
        v40 = -(v79 == 0);
        BYTE1(v40) &= 0xFEu;
        v41 = v85 - (v40 + 514);
        v42 = word_405C62[3 * v41];
        v89 = -1;
        v43 = (v79 - 1) & word_405C60[3 * v41];
        if ( v42 != -1 )
          v89 = v42 % (v79 - 1);
        v44 = word_405C64[3 * v41];
        if ( v43 )
        {
          v88 = v43;
          v30 = v32 >> 1;
          v45 = *v84;
          v78 = *v84;
          v46 = (unsigned __int8)*v84;
        }
        else
        {
          v56 = 0;
          v45 = *v84;
          v78 = *v84;
          do
          {
            while ( 1 )
            {
              v46 = v45;
              v56 *= 2;
              if ( ((unsigned __int8)v32 & v45) != 0 )
                v56 |= 1u;
              v32 >>= 1;
              if ( !v32 )
                break;
              v30 = v32 >> 1;
              if ( !--v89 )
                goto LABEL_83;
            }
            ++v84;
            v32 = 128;
            v30 = 64;
            v45 = *v84;
            v57 = v89-- == 1;
            v78 = *v84;
            v46 = (unsigned __int8)*v84;
          }
          while ( !v57 );
LABEL_83:
          v58 = (v79 + 1) * v44;
          if ( v79 )
            v58 *= 2;
          v88 = v56 + v58;
        }
        if ( v30 )
        {
          v47 = v46;
          v76 = v30 >> 1;
        }
        else
        {
          v45 = *++v84;
          v30 = 128;
          v76 = 64;
          v47 = (unsigned __int8)*v84;
          v78 = *v84;
        }
        v87 = 7;
        if ( (v32 & v46) != 0 )
        {
          if ( !v76 )
          {
            ++v84;
            v76 = 128;
            v78 = *v84;
          }
          v45 = v78;
          v48 = (v30 & v47) != 0;
          v30 = v76;
          v87 = (8 << v79) + v48;
        }
        v49 = word_405C62[3 * v87] + v79 / (word_405C62[3 * v87] | 1u);
        v50 = 0;
        while ( 1 )
        {
          v50 *= 2;
          if ( ((unsigned __int8)v30 & v45) != 0 )
            v50 |= 1u;
          v30 >>= 1;
          if ( !v30 )
          {
            ++v84;
            v30 = 128;
          }
          if ( !--v49 )
            break;
          v45 = *v84;
        }
        if ( v88 > 0 )
        {
          v51 = &v91[l];
          v52 = v50 + (word_405C64[3 * v87] << v79);
          v53 = 0;
          v54 = &v91[l - (v79 ^ v52)];
          do
          {
            v55 = *v54;
            ++v53;
            ++v54;
            *v51++ = v55 + ((_BYTE)v79 << v55);
          }
          while ( v53 != v88 );
        }
      }
      if ( l <= 0 )
      {
        dword_40602C = sub_4034A0(-1318805144, -1853047133, v82);
        v26 = ((int (__stdcall *)(int, _DWORD, int, _DWORD, int))dword_40602C)(v83, 0, 4, 0, l);
        dword_406030 = sub_4034A0(-1318805144, -1781387914, v82);
        v27 = ((int (__stdcall *)(int, int, _DWORD, _DWORD, _DWORD, int))dword_406030)(v26, 2, 0, 0, 0, v71);
      }
      else
      {
        v59 = -1;
        v60 = 0;
        for ( m = 0; m != l; ++m )
        {
          v62 = (unsigned __int8)v91[m] + v79 / ((unsigned __int8)v91[m] | 1u);
          if ( v59 <= 67 )
          {
            if ( v60 >= v79 / 0x11 + 16 )
            {
              if ( ++v59 > 47 )
              {
                if ( v59 > 63 )
                  LOBYTE(v62) = byte_406000[v59 - 0x40 % (v79 - 1)];
                else
                  LOBYTE(v62) = byte_404010[v59 - (v79 << 16)];
              }
              else
              {
                v62 = byte_404010[v59] + v79 / (byte_404010[v59] | 1u);
              }
            }
            else
            {
              v60 = byte_404000[v60] != (char)v62 ? 0 : v60 + 1;
            }
          }
          v63 = v62;
          if ( v79 )
            v63 = 2 * v62;
          v91[m] = v63;
        }
        dword_40602C = sub_4034A0(-1318805144, -1853047133, v82);
        v26 = ((int (__stdcall *)(int, _DWORD, int, _DWORD, int))dword_40602C)(v83, 0, 4, 0, l);
        dword_406030 = sub_4034A0(-1318805144, -1781387914, v82);
        v64 = ((int (__stdcall *)(int, int, _DWORD, _DWORD, _DWORD, int))dword_406030)(v26, 2, 0, 0, 0, v72);
        v65 = 0;
        v27 = v64;
        do
        {
          *(_BYTE *)(v65 + v64) = v91[v65];
          ++v65;
        }
        while ( v65 != l );
      }
      dword_406034 = sub_4034A0(-1318805144, -760984169, v82);
      ((void (__stdcall *)(int))dword_406034)(v27);
      dword_406008 = (int (__stdcall *)(_DWORD))sub_4034A0(-1318805144, -202715584, v82);
      dword_406008(v26);
      dword_406008(v83);
      dword_40601C = sub_4034A0(-1318805144, -1164679494, v82);
      v28 = ((int (__stdcall *)(char *))dword_40601C)(v97);
      dword_406018 = sub_4034A0(-1318805144, -1573545590, v82);
      ((void (__stdcall *)(_DWORD))dword_406018)(0);
      dword_406038 = sub_4034A0(-1318805144, -648314616, v28);
      ((void (__stdcall *)(char *, int, int))dword_406038)(v95, v66, v67);
      dword_406020 = sub_4034A0(-1318805144, 840618587, v82);
      ((void (__stdcall *)(int))dword_406020)(v28);
      dword_406024 = sub_4034A0(-1318805144, 820117047, v82);
      ((void (__stdcall *)(_DWORD))dword_406024)(0);
    }
  }
  return 0;
}
// 4016C5: conditional instruction was optimized away because of '%var_88BC.4<0'
// 40105E: variable 'v68' is possibly undefined
// 40105E: variable 'v69' is possibly undefined
// 40105E: variable 'v70' is possibly undefined
// 40105E: variable 'v73' is possibly undefined
// 40105E: variable 'v74' is possibly undefined
// 401470: variable 'v71' is possibly undefined
// 401567: variable 'v66' is possibly undefined
// 401567: variable 'v67' is possibly undefined
// 401B82: variable 'v72' is possibly undefined
// 401BC0: using guessed type int dword_401BC0;
// 404060: using guessed type int dword_404060;
// 405C60: using guessed type __int16 word_405C60[];
// 405C62: using guessed type __int16 word_405C62[];
// 406004: using guessed type int dword_406004;
// 406008: using guessed type int (__stdcall *dword_406008)(_DWORD);
// 406010: using guessed type int dword_406010;
// 406014: using guessed type int dword_406014;
// 406018: using guessed type int dword_406018;
// 40601C: using guessed type int dword_40601C;
// 406020: using guessed type int dword_406020;
// 406024: using guessed type int dword_406024;
// 406028: using guessed type int (__stdcall *dword_406028)(_DWORD, _DWORD);
// 40602C: using guessed type int dword_40602C;
// 406030: using guessed type int dword_406030;
// 406034: using guessed type int dword_406034;
// 406038: using guessed type int dword_406038;
// 40603C: using guessed type int dword_40603C;

//----- (00403350) --------------------------------------------------------
int __cdecl sub_403350(int a1, int a2, unsigned __int8 *a3)
{
  int v3; // edi
  unsigned __int8 v5; // [esp+1Bh] [ebp-1Dh]
  int v6; // [esp+27h] [ebp-11h] BYREF
  char v7; // [esp+2Bh] [ebp-Dh]

  v3 = a1;
  v5 = *a3;
  if ( *a3 )
  {
    v7 = 0;
    v6 = sub_403350(
           a1 * a2 + v5,
           a2
         * ((((_BYTE)dword_40603C - 1) & 0x33)
          + ((dword_40603C == 0 ? 100 : 200) * (37 << dword_40603C) + 85 * (dword_40603C + 1))
          * (0x64u % (dword_40603C - 1))),
           a3 + 1);
    if ( dword_406028 )
      dword_406028(&v6, &v6);
    v3 = v6;
  }
  return v3;
}
// 406028: using guessed type int (__stdcall *dword_406028)(_DWORD, _DWORD);
// 40603C: using guessed type int dword_40603C;

//----- (00403420) --------------------------------------------------------
int __cdecl sub_403420(int a1, unsigned __int8 *a2)
{
  return sub_403350(0, (dword_40603C / 0x3Fu + 63) * (dword_40603C / 0x3E9u + 1000) + dword_40603C / 0x2B1u + 689, a2) ^ a1;
}
// 40603C: using guessed type int dword_40603C;

//----- (004034A0) --------------------------------------------------------
unsigned int __cdecl sub_4034A0(int a1, int a2, int a3)
{
  int v3; // ebx
  _DWORD *v4; // edi
  unsigned int v5; // eax
  unsigned int v6; // esi
  int v7; // esi
  int v8; // edx
  int v9; // eax
  int v11; // [esp+20h] [ebp-18h]
  int v12; // [esp+24h] [ebp-14h]

  v3 = dword_40603C;
  v4 = (_DWORD *)(*(_DWORD *)(dword_40603C / (a3 | 1u) + *(_DWORD *)(a3 + 60) + a3 + 120) + (dword_40603C + 1) * a3);
  v5 = v4[8];
  if ( v5 == -1 )
    v6 = -1;
  else
    v6 = v5 % (dword_40603C - 1);
  if ( ((dword_40603C - 1) & v4[6]) == 0 )
    return 0;
  v12 = a3 + v6;
  v7 = 0;
  v11 = v4[9] + (a3 << dword_40603C);
  while ( 1 )
  {
    v8 = a1;
    if ( v3 )
      v8 = 2 * a1;
    v9 = sub_403420(v8, (unsigned __int8 *)(a3 + *(_DWORD *)(v12 + 4 * v7)));
    v3 = dword_40603C;
    if ( v9 == a2 * (dword_40603C + 1) )
      break;
    if ( (v4[6] & (unsigned int)(dword_40603C - 1)) <= ++v7 )
      return 0;
  }
  return *(_DWORD *)(v4[7] + a3 + 4 * *(unsigned __int16 *)(v11 + 2 * v7) + (dword_40603C << (*((_BYTE *)v4 + 28) + a3)))
       + a3
       + dword_40603C
       / ((*(_DWORD *)(v4[7]
                     + a3
                     + 4 * *(unsigned __int16 *)(v11 + 2 * v7)
                     + (dword_40603C << (*((_BYTE *)v4 + 28) + a3)))
         + a3) | 1u);
}
// 40603C: using guessed type int dword_40603C;

//----- (004035B0) --------------------------------------------------------
int sub_4035B0()
{
  int v0; // edi
  unsigned int v1; // ebx
  unsigned int v3; // [esp+4h] [ebp-10h]

  v3 = *(_DWORD *)(*(_DWORD *)((dword_40603C ^ (int)NtCurrentTeb()->ProcessEnvironmentBlock) + 0xC) + dword_40603C + 28);
  v1 = v3 >> dword_40603C;
  do
  {
    v0 = dword_40603C - 1;
    if ( *(_BYTE *)((dword_40603C - 1) & *(_DWORD *)(v1 + 32)) == 0x6Bu % (dword_40603C - 1)
      && *(_BYTE *)((v0 & *(_DWORD *)(v1 + 32)) + 2) == 32 * (_BYTE)dword_40603C + 101
      && *(_BYTE *)((v0 & *(_DWORD *)(v1 + 32)) + 4) == ((unsigned __int8)dword_40603C ^ 0x72) )
    {
      return dword_40603C | *(_DWORD *)(v1 + 8);
    }
    v1 = *(_DWORD *)v1 >> dword_40603C;
  }
  while ( v3 != *(_DWORD *)v1 );
  return 0;
}
// 40603C: using guessed type int dword_40603C;

// nfuncs=6 queued=5 decompiled=5 lumina nreq=0 worse=0 better=0
// ALL OK, 5 function(s) have been successfully decompiled
