// subject_data.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

word32 g_dw402030 = 8389; // 00402030
word32 g_dw402034 = 0x20D0; // 00402034
word32 g_dw402038 = 8411; // 00402038
word32 g_dw40203C = 0x20E7; // 0040203C
word32 g_dw402040 = 0x20F5; // 00402040
word32 g_dw402044 = 0x210C; // 00402044
word32 g_dw402048 = 0x211A; // 00402048
word32 g_dw40204C = 8488; // 0040204C
word32 g_dw402050 = 8511; // 00402050
word32 g_dw402054 = 8525; // 00402054
word32 g_dw402058 = 8544; // 00402058
word32 g_dw40205C = 8555; // 0040205C
word32 g_dw402060 = 0x217A; // 00402060
word32 g_dw402064 = 8588; // 00402064
word32 g_dw402068 = 0x2199; // 00402068
word32 g_dw40206C = 0x21A5; // 0040206C
word32 g_dw402070 = 8628; // 00402070
word32 g_dw402074 = 8656; // 00402074
word32 g_dw402078 = 0x21DE; // 00402078
word32 g_dw40207C = 8684; // 0040207C
word32 g_dw402080 = 0x2206; // 00402080
word32 g_dw402084 = 0x2217; // 00402084
word32 g_dw402088 = 0x2227; // 00402088
word32 g_dw40208C = 0x2237; // 0040208C
word32 g_dw402090 = 8778; // 00402090
word32 g_dw402094 = 0x2262; // 00402094
word32 g_dw402098 = 0x2279; // 00402098
word32 g_dw40209C = 8844; // 0040209C
word32 g_dw4020A0 = 0x22A2; // 004020A0
word32 g_dw4020A4 = 8889; // 004020A4
word32 g_dw4020A8 = 0x22CE; // 004020A8
word32 g_dw4020AC = 0x22DF; // 004020AC
word32 g_dw4020B0 = 0x22ED; // 004020B0
// subject_text.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

<anonymous> * __imp__lstrcatA = &g_t20C5; // 00401000
<anonymous> * __imp__ReadFile = &g_t20D0; // 00401004
<anonymous> * __imp__WriteFile = &g_t20DB; // 00401008
<anonymous> * __imp__HeapDestroy = &g_t20E7; // 0040100C
<anonymous> * __imp__GetFileAttributesExA = &g_t20F5; // 00401010
<anonymous> * __imp__CloseHandle = &g_t210C; // 00401014
<anonymous> * __imp__CreateFileA = &g_t211A; // 00401018
<anonymous> * __imp__EnterCriticalSection = &g_t2128; // 0040101C
<anonymous> * __imp__GetFileTime = &g_t213F; // 00401020
<anonymous> * __imp__ConnectNamedPipe = &g_t214D; // 00401024
<anonymous> * __imp__HeapFree = &g_t2160; // 00401028
<anonymous> * __imp__VirtualAlloc = &g_t216B; // 0040102C
<anonymous> * __imp__UnmapViewOfFile = &g_t217A; // 00401030
<anonymous> * __imp__HeapCreate = &g_t218C; // 00401034
<anonymous> * __imp__HeapAlloc = &g_t2199; // 00401038
<anonymous> * __imp__VirtualQuery = &g_t21A5; // 0040103C
<anonymous> * __imp__InitializeCriticalSection = &g_t21B4; // 00401040
<anonymous> * __imp__VirtualFree = &g_t21D0; // 00401044
<anonymous> * __imp__ExitProcess = &g_t21DE; // 00401048
<anonymous> * __imp__TryEnterCriticalSection = &g_t21EC; // 0040104C
<anonymous> * __imp__WaitNamedPipeA = &g_t2206; // 00401050
<anonymous> * __imp__MapViewOfFile = &g_t2217; // 00401054
<anonymous> * __imp__PeekNamedPipe = &g_t2227; // 00401058
<anonymous> * __imp__SetFilePointerEx = &g_t2237; // 0040105C
<anonymous> * __imp__FileTimeToDosDateTime = &g_t224A; // 00401060
<anonymous> * __imp__SetCurrentDirectoryA = &g_t2262; // 00401064
<anonymous> * __imp__CreateNamedPipeA = &g_t2279; // 00401068
<anonymous> * __imp__GetCurrentProcessId = &g_t228C; // 0040106C
<anonymous> * __imp__GetCurrentDirectoryA = &g_t22A2; // 00401070
<anonymous> * __imp__CreateFileMappingA = &g_t22B9; // 00401074
<anonymous> * __imp__SetFilePointer = &g_t22CE; // 00401078
<anonymous> * __imp__HeapCompact = &g_t22DF; // 0040107C
<anonymous> * __imp__LeaveCriticalSection = &g_t22ED; // 00401080
// 00401A77: Register Eq_2 Win32CrtStartup()
Eq_2 Win32CrtStartup()
{
	Eq_2 eax_22 = CreateFileMappingA(~0x00, null, 0x04, 0x00, 0x4000, null);
	if (eax_22 == 0x00)
		return eax_22;
	GetCurrentProcessId();
	eax_22 = MapViewOfFile(eax_22, 0x06, 0x00, 0x00, 0x00);
	if (eax_22 == 0x00)
		return eax_22;
	return fn00401AC7(eax_22);
}

// 00401AC7: Register uint32 fn00401AC7(Stack Eq_2 dwArg04)
// Called from:
//      Win32CrtStartup
uint32 fn00401AC7(Eq_2 dwArg04)
{
	ptr32 fp;
	Eq_44 tLoc20;
	VirtualQuery(dwArg04, &tLoc20, 0x1C);
	Eq_53 eax_19 = tLoc20.RegionSize;
	Mem24[fp - 4 + (eax_19 >>u 0x0C):word32] = Mem16[fp - 4 + (eax_19 >>u 0x0C):word32] + (eax_19 >>u 0x0C);
	return eax_19 >> 0x0C;
}

