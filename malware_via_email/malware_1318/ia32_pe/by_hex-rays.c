/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

int start();

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN loc_407860; // weak
_UNKNOWN unk_40922F; // weak
int dword_40923E = 256993880; // weak
int dword_409265 = 1357319183; // weak
int dword_4092CD = 19390321; // weak
int dword_409405 = 310214537; // weak
int dword_409468 = 668832388; // weak
int dword_409498 = -406061298; // weak
int dword_4094E1 = 68097673; // weak
_UNKNOWN unk_409533; // weak
_DWORD dword_4095C7[654] =
{
  1442840576,
  1867739728,
  29511,
  0,
  0,
  0,
  1308622848,
  118,
  1984643328,
  108,
  909508608,
  6829106,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  
}; // idb


//----- (0040785A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int start()
{
  int v0; // edx
  int v1; // esi
  char v2; // di
  char v3; // al
  int v4; // esi
  int v5; // eax
  int v6; // esi
  _DWORD *v7; // eax
  int v8; // edi
  int v9; // edx
  _DWORD *v10; // ebx
  int v11; // esi
  int v12; // eax
  int v13; // eax
  struct _EXCEPTION_REGISTRATION_RECORD *v15; // [esp+5Ah] [ebp-Ch] BYREF
  int *v16; // [esp+5Eh] [ebp-8h]
  int savedregs; // [esp+66h] [ebp+0h] BYREF
  _DWORD *retaddr; // [esp+6Ah] [ebp+4h]

  v0 = 146231663;
  v1 = 11;
  while ( 1 )
  {
    v1 = v1 - 26 + 27;
    v2 = 111;
    v3 = dword_4094E1;
    if ( v1 == 111 )
      break;
    v0 -= dword_409405;
  }
  v4 = 8;
  while ( 1 )
  {
    v4 = v4 - 12 + 13;
    v2 &= dword_40923E;
    if ( v4 == 83 )
      break;
    if ( (v3 & 0xBA) == 0 )
      v3 = v2;
  }
  v16 = (_DWORD *)(&loc_407860 + 5);
  v15 = NtCurrentTeb()->NtTib.ExceptionList;
  __writefsdword(0, (unsigned int)&v15);
  v5 = 3;
  v6 = 3;
  while ( ++v6 != 71 )
    v5 -= unk_409533;
  v7 = retaddr;
  v8 = 47;
  do
  {
    v7 = (_DWORD *)((char *)v7 + 1);
    v8 += dword_409498 + 1;
  }
  while ( (unsigned __int16)*v7 != 0xE6FF );
  __writefsdword(0, (unsigned int)v15);
  v16 = &savedregs;
  v9 = 263803;
  do
  {
    v10 = &unk_40922F;
    v11 = 4232336;
    do
    {
      *v10 -= 257479;
      v11 += 88;
      *v10++ += 521282;
    }
    while ( v10 != dword_4095C7 );
    --v9;
    v12 = *(int *)((char *)&dword_4092CD + 2);
    if ( dword_409265 )
      v12 = *(int *)((char *)&dword_409468 + 3) + 2 * (*(int *)((char *)&dword_4092CD + 2) - v11);
    v13 = v12 - 1;
  }
  while ( v9 );
  return v13 - 207;
}
// 407A34: positive sp value 8 has been found
// 40923E: using guessed type int dword_40923E;
// 40924E: using guessed type int dword_40924E;
// 409265: using guessed type int dword_409265;
// 409278: using guessed type int dword_409278;
// 40927D: using guessed type int dword_40927D;
// 409288: using guessed type int dword_409288;
// 40929B: using guessed type int dword_40929B;
// 4092CD: using guessed type int dword_4092CD;
// 4092DD: using guessed type int dword_4092DD;
// 409348: using guessed type int dword_409348;
// 409368: using guessed type int dword_409368;
// 409378: using guessed type int dword_409378;
// 40937E: using guessed type int dword_40937E;
// 40939D: using guessed type int dword_40939D;
// 4093AD: using guessed type int dword_4093AD;
// 4093BF: using guessed type int dword_4093BF;
// 4093CC: using guessed type int dword_4093CC;
// 409405: using guessed type int dword_409405;
// 40941A: using guessed type int dword_40941A;
// 409468: using guessed type int dword_409468;
// 409498: using guessed type int dword_409498;
// 40949D: using guessed type int dword_40949D;
// 4094E1: using guessed type int dword_4094E1;
// 4094F9: using guessed type int dword_4094F9;

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
