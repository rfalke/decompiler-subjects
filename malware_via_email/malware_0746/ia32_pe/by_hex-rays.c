/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, int@<edx>, int@<ecx>, unsigned int@<ebp>);

//-------------------------------------------------------------------------
// Data declarations

int dword_434000[512] =
{
  -137,
  -380944384,
  -189726464,
  -225751296,
  1091433345,
  -1103088968,
  6901093,
  4240148,
  -150994946,
  -645180855,
  402849801,
  1110687232,
  -687650953,
  670691457,
  -276710705,
  -613124248,
  366739383,
  431110905,
  1287210496,
  -947837884,
  1174752309,
  1994317823,
  205979950,
  324093382,
  1489537867,
  1241418561,
  -1174348309,
  -2376963,
  1382968688,
  608472391,
  1377520636,
  703681381,
  -437321554,
  335937499,
  -360624640,
  -2096545450,
  893519044,
  -317306771,
  50326651,
  54657266,
  918110711,
  109998681,
  -1737537024,
  -1074004046,
  -343846405,
  -1066315696,
  1903384400,
  1785129089,
  1648774218,
  -446144406,
  -1149080,
  -390948882,
  -125755845,
  1048683,
  18383375,
  1515330856,
  -35946687,
  -1533809699,
  7751735,
  -2139524421,
  -1088754727,
  1685350768,
  2130705291,
  935252219,
  -2123614622,
  1415992771,
  10858858,
  1109385832,
  -1099569152,
  -1161822213,
  1245462531,
  2003653823,
  138447692,
  -293519030,
  -263163543,
  581157196,
  -537730570,
  -299950494,
  -1249636502,
  1101392640,
  -611058941,
  -1141145614,
  1719588112,
  1431795010,
  1937257150,
  -1317369088,
  -1226377725,
  323604955,
  1311191384,
  1264169332,
  -571010200,
  1294645247,
  1751736905,
  -2123578279,
  1414942655,
  930297539,
  -150996883,
  -1479090725,
  -1871748759,
  1885894632,
  1098189637,
  -217881772,
  1878909323,
  1713655003,
  1341870203,
  1203427843,
  -1456113310,
  -303108595,
  1835151170,
  1382661683,
  1632290369,
  -304234747,
  271904476,
  481296455,
  842167909,
  1297727192,
  -1082204312,
  -1048482051,
  307188311,
  1330014959,
  -1011205324,
  877093430,
  -880420008,
  1498223627,
  -61797120,
  1150669195,
  2138070987,
  1882320779,
  733125187,
  -709880321,
  -436502590,
  -1956443977,
  1086718918,
  845361730,
  -1203185409,
  1130649441,
  -19014405,
  -234660032,
  905415488,
  -142650038,
  1970471088,
  -38930938,
  1363691621,
  1464742244,
  862073528,
  -2062594472,
  1257173869,
  1223770979,
  1782694539,
  -1294120671,
  -1091519621,
  -1990759866,
  1092372163,
  1270830933,
  -1226620054,
  1282062587,
  1248266855,
  1262587653,
  -611891657,
  1670084698,
  1094144241,
  -16044170,
  1668246711,
  1673489520,
  1124101747,
  1178726772,
  -1553736776,
  1714778337,
  1923368500,
  -13257128,
  1283239565,
  -1161593489,
  54938225,
  1395769294,
  163016638,
  -745863658,
  1129067549,
  1734610284,
  507230143,
  -1353361069,
  -1134398526,
  606429513,
  493414992,
  746090079,
  -1006760348,
  1765456753,
  1757321840,
  -148862409,
  -1841109642,
  67033445,
  43816341,
  -1768613626,
  1334729573,
  -2011091184,
  114910537,
  -788397760,
  1611709013,
  -1787489385,
  455756544,
  801528064,
  -1120662156,
  1684496403,
  -1342156455,
  1614998272,
  700505226,
  -1203316380,
  -2128714874,
  -1774028344,
  572588781,
  -1495684884,
  962631746,
  -887234621,
  1342716783,
  -1792136958,
  -335512052,
  -992271013,
  -1774178729,
  -2088446483,
  -1878274198,
  1596971365,
  1680439324,
  575321689,
  1668385959,
  196275200,
  944880650,
  989902659,
  -2063686300,
  -939140223,
  439289944,
  -1922955527,
  1211376924,
  -562375876,
  1417698738,
  -1713372652,
  647382614,
  1386152128,
  -1031351359,
  1895514680,
  -1315959821,
  853656881,
  -1852823041,
  -2133624691,
  -1804154681,
  -395434116,
  910617681,
  1685980602,
  -1404972302,
  851455665,
  -504342021,
  37177560,
  793038802,
  349908109,
  1543834560,
  1575789499,
  82260608,
  1678401717,
  -1976147327,
  -654141255,
  -1221881018,
  59925594,
  406411620,
  1493338312,
  792398774,
  -1039219673,
  821401670,
  -1404673459,
  616566289,
  795304225,
  48701280,
  788724613,
  391848712,
  -1036350264,
  605514809,
  801905671,
  87215030,
  -292925518,
  1398817720,
  -1591226080,
  1820413362,
  803581268,
  348491112,
  121536712,
  -2130506925,
  1487252780,
  1284302393,
  -2020529023,
  1243007537,
  1415160961,
  -1184526295,
  -1705221258,
  -474588926,
  -62141137,
  1507329398,
  -1543471187,
  554134578,
  -99690805,
  -398401302,
  -1006572536,
  -703565715,
  -2069814771,
  -938161176,
  -581027406,
  51573775,
  379333761,
  275919527,
  607315254,
  905999880,
  623169541,
  1104880004,
  792902088,
  1661359676,
  1684151047,
  697413817,
  2025798674,
  -1657077068,
  2835497,
  -2032596935,
  140652363,
  1679879570,
  -1045358740,
  -1188554570,
  1692699184,
  1108259204,
  965119993,
  177314913,
  1819496642,
  939991303,
  1683140961,
  -1451158015,
  1629029027,
  -885444320,
  -1694361317,
  -195549361,
  -1853547433,
  1816669442,
  908886275,
  1915897555,
  -1307545504,
  1688217435,
  793096804,
  -1331038223,
  -753268128,
  1614925965,
  1326772992,
  -2078494204,
  88370820,
  341672134,
  -1396338677,
  -1154956658,
  276951652,
  2009399520,
  -1333548264,
  -226197868,
  -1951855966,
  -881313472,
  455121664,
  615081366,
  990026596,
  2130398798,
  -379319796,
  682087200,
  -1694396415,
  727461686,
  1806737840,
  1143617887,
  -74702632,
  119603315,
  912966345,
  275291316,
  1329746706,
  1211023534,
  153811331,
  -1062845818,
  1077102724,
  1494395974,
  577901025,
  -1785855892,
  2030569154,
  802985437,
  -2078784372,
  -2023623349,
  477110424,
  880874420,
  1063123731,
  1633093653,
  356094002,
  1865815090,
  288431540,
  440496968,
  209979300,
  704836997,
  1631789379,
  1343811764,
  -132054584,
  -665378559,
  -1031692507,
  511901734,
  551847776,
  -1382145620,
  -1240579561,
  -1786904574,
  -1448072604,
  843534844,
  -1923036007,
  -912461282,
  63542628,
  -16755381,
  972165525,
  1704302148,
  1628558741,
  1303202579,
  -1087373326,
  -1791471404,
  118424167,
  -1206903553,
  1073845729,
  182524640,
  637321139,
  280626942,
  589237760,
  -1199758899,
  -1794093977,
  -23762584,
  129371586,
  870019623,
  1965508449,
  1658025159,
  1567514623,
  105582591,
  1767363428,
  221393872,
  925108885,
  -2135228119,
  1666646527,
  135153045,
  1113391436,
  -775959766,
  -2130221313,
  419561739,
  206782982,
  188887592,
  -543744496,
  214499313,
  -1789707862,
  1387165748,
  903480151,
  137642053,
  -545176048,
  -1931452448,
  -2091823920,
  -1520600080,
  688973473,
  -537393816,
  -674890747,
  -872751611,
  651832272,
  -888790891,
  -1906573313,
  1515492676,
  -2070602226,
  -1741142108,
  1905639559,
  1124967507,
  -18910614,
  974729877,
  251885502,
  1952539753,
  454392876,
  -994636812,
  1827831872,
  1150182293,
  -1510064999,
  -938804354,
  208870480,
  1145728297,
  877811241,
  117658130,
  -25166037,
  1039329709,
  -1020767231,
  -1070338931,
  271160657,
  -10217849,
  -539245008,
  545887742,
  1618068396,
  1499080913,
  -1609032562,
  -1060949200,
  1903091133,
  344701176,
  941567336,
  -12551832,
  1891630866,
  1141121807,
  513094256,
  1126433859,
  1214621922,
  -955980959,
  -1323596434,
  1986752557,
  1577033391,
  -718280037,
  1151943621,
  -1610650005,
  -1337719526,
  -603983826,
  1827730245,
  1356559484,
  1720685944,
  -432643244,
  -33086363
}; // weak


//----- (00439AE0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebp>)
{
  int *v4; // esi
  int *v5; // edi
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  unsigned int v11; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  bool v16; // zf
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  unsigned int v20; // eax
  int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ebx
  int v25; // ett
  BOOL v26; // ecx
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ebx
  int v35; // ett
  bool v36; // zf
  int v37; // ebx
  int v38; // ett
  unsigned int v39; // ecx
  char *v40; // edx
  char v41; // al
  int v42; // eax
  bool v43; // cc
  int *v44; // esi
  int *v45; // edi
  int v46; // ecx
  char v47; // al
  unsigned __int8 v48; // al
  int v49; // eax
  int v50; // eax
  char v51; // t0
  unsigned __int8 v52; // bl
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__cdecl *v61)(int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  int v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v72 = &v76;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v4 = dword_434000;
  v5 = &dword_434000[-52224];
  v67 = &dword_434000[-52224];
  while ( 1 )
  {
    v9 = *v4;
    v7 = (unsigned int)v4++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v4;
        v4 = (int *)((char *)v4 + 1);
        *(_BYTE *)v5 = v6;
        v5 = (int *)((char *)v5 + 1);
      }
      else
      {
        v11 = 1;
        while ( 1 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v11 += v12 + v11;
          v7 = __CFADD__(v13, v13);
          v16 = 2 * v13 == 0;
          v8 = 2 * v13;
          if ( v7 )
          {
            if ( !v16 )
              break;
            v17 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v18 = v7 + v17;
            v7 = __CFADD__(v7, v17) | __CFADD__(v17, v18);
            v8 = v17 + v18;
            if ( v7 )
              break;
          }
        }
        v7 = v11 < 3;
        v19 = v11 - 3;
        if ( !v7 )
        {
          v20 = v19 << 8;
          LOBYTE(v20) = *(_BYTE *)v4;
          v4 = (int *)((char *)v4 + 1);
          v21 = ~v20;
          if ( !v21 )
          {
            v44 = v67;
            v45 = v67;
            v46 = 46;
            while ( 1 )
            {
              v47 = *(_BYTE *)v45;
              v45 = (int *)((char *)v45 + 1);
              v48 = v47 + 24;
              while ( v48 <= 1u && !*(_BYTE *)v45 )
              {
                v49 = *v45;
                LOWORD(v49) = BYTE1(*v45);
                v50 = __ROL4__(v49, 16);
                v51 = v50;
                LOBYTE(v50) = BYTE1(v50);
                BYTE1(v50) = v51;
                v52 = *((_BYTE *)v45 + 4) + 24;
                *v45 = (int)v44 + v50 - (_DWORD)v45;
                v45 = (int *)((char *)v45 + 5);
                v48 = v52;
                if ( !--v46 )
                {
                  v53 = (char *)(v44 + 55296);
LABEL_38:
                  v54 = *(_DWORD *)v53;
                  if ( *(_DWORD *)v53 )
                  {
                    v55 = (int *)((char *)v44 + *((_DWORD *)v53 + 1));
                    v53 += 8;
                    v56 = ((int (__cdecl *)(int, int, int, int, int, int *, int, int, int))v44[59898])(
                            (int)v44 + v54 + 239352,
                            v68,
                            v69,
                            v70,
                            v71,
                            v72,
                            v73,
                            v74,
                            v75);
                    while ( 1 )
                    {
                      v57 = *v53++;
                      if ( !v57 )
                        goto LABEL_38;
                      v58 = v53;
                      v66 = v53;
                      v59 = v57 - 1;
                      do
                      {
                        if ( !v58 )
                          break;
                        v16 = *v53++ == (char)v59;
                        --v58;
                      }
                      while ( !v16 );
                      v60 = ((int (__cdecl *)(int, char *))v44[59899])(v56, v66);
                      if ( !v60 )
                        break;
                      *v55++ = v60;
                    }
                    v54 = ((int (*)(void))v44[59903])();
                  }
                  v61 = (void (__cdecl *)(int *, int, int, int *))v44[59900];
                  v62 = v44 - 1024;
                  v64 = v54;
                  v61(v44 - 1024, 4096, 4, &v64);
                  *((_BYTE *)v62 + 527) &= ~0x80u;
                  *((_BYTE *)v62 + 567) &= ~0x80u;
                  v61(v44 - 1024, 4096, v63[0], v63);
                  do
                    v64 = 0;
                  while ( &v64 != &v65 - 32 );
                  JUMPOUT(0x4010CD);
                }
              }
            }
          }
          a4 = v21;
        }
        v22 = __CFADD__(v8, v8);
        v23 = 2 * v8;
        if ( !v23 )
        {
          v24 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v25 = v7 + v24;
          v22 = __CFADD__(v7, v24) | __CFADD__(v24, v25);
          v23 = v24 + v25;
        }
        v26 = v22;
        v27 = __CFADD__(v23, v23);
        v8 = 2 * v23;
        if ( !v8 )
        {
          v28 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v29 = v7 + v28;
          v27 = __CFADD__(v7, v28) | __CFADD__(v28, v29);
          v8 = v28 + v29;
        }
        v30 = v26 + v27 + v26;
        if ( !v30 )
        {
          v31 = 1;
          while ( 1 )
          {
            v32 = __CFADD__(v8, v8);
            v33 = 2 * v8;
            if ( !v33 )
            {
              v34 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v35 = v7 + v34;
              v32 = __CFADD__(v7, v34) | __CFADD__(v34, v35);
              v33 = v34 + v35;
            }
            v31 += v32 + v31;
            v7 = __CFADD__(v33, v33);
            v36 = 2 * v33 == 0;
            v8 = 2 * v33;
            if ( v7 )
            {
              if ( !v36 )
                break;
              v37 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v38 = v7 + v37;
              v7 = __CFADD__(v7, v37) | __CFADD__(v37, v38);
              v8 = v37 + v38;
              if ( v7 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v39 = (a4 < 0xFFFFF300) + v30 + 1;
        v40 = (char *)v5 + a4;
        if ( a4 <= 0xFFFFFFFC )
        {
          do
          {
            v42 = *(_DWORD *)v40;
            v40 += 4;
            *v5++ = v42;
            v43 = v39 <= 4;
            v39 -= 4;
          }
          while ( !v43 );
          v5 = (int *)((char *)v5 + v39);
        }
        else
        {
          do
          {
            v41 = *v40++;
            *(_BYTE *)v5 = v41;
            v5 = (int *)((char *)v5 + 1);
            --v39;
          }
          while ( v39 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 439C63: positive sp value 50 has been found
// 439C63: control flows out of bounds to 4010CD
// 434000: using guessed type int dword_434000[512];
// 439AE0: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
