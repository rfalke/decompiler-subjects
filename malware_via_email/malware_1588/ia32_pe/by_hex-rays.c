/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// __int16 __usercall start@<ax>(unsigned int@<eax>, unsigned int@<edx>, int@<ecx>, int@<ebx>, int@<edi>, int@<esi>);
void sub_40D0C4();
void sub_40D3BA();


//----- (0040C345) --------------------------------------------------------
__int16 __usercall start@<ax>(
        unsigned int a1@<eax>,
        unsigned int a2@<edx>,
        int a3@<ecx>,
        int a4@<ebx>,
        int a5@<edi>,
        int a6@<esi>)
{
  int v6; // ecx
  int v7; // esi
  int v8; // ecx
  int v9; // ecx
  int v11; // ebx
  int v12; // esi
  int v13; // ebx
  int v14; // ebx
  unsigned int v16; // ecx
  unsigned int v17; // ebx
  int v18; // esi
  unsigned int v19; // edi
  int v20; // ebx
  bool v21; // cf
  int v22; // eax
  int v23; // ecx
  unsigned int v24; // ebx
  unsigned int v25; // ecx
  unsigned int v26; // edi
  unsigned int v27; // ebx
  unsigned int v28; // ebx
  BOOL v29; // ett
  __int64 v30; // rdi
  int v31; // esi
  unsigned int v32; // ecx
  unsigned int v33; // edi
  unsigned int v34; // ecx
  int v35; // ecx
  int v36; // ebx
  unsigned int v37; // edi
  unsigned int v38; // ecx
  int v39; // esi
  unsigned int v40; // ecx
  unsigned int v41; // ett
  unsigned int v42; // eax
  int v43; // edi
  int v44; // eax
  int v45; // eax
  int v46; // edi
  int v47; // edx
  int v48; // ecx
  int v49; // ebx
  int v50; // edi
  int v51; // edx
  int v52; // edx
  int v53; // ecx
  unsigned int v54; // ebx
  int v55; // esi
  int v56; // edx
  int v57; // ebx
  int v58; // esi
  int v59; // eax
  char v60; // tt
  bool v61; // tt
  unsigned int v62; // ecx
  int v63; // ebx
  int v64; // esi
  unsigned int v65; // ecx
  int v66; // esi
  unsigned int v67; // ecx
  unsigned int v68; // ebx
  int v69; // esi
  unsigned int v70; // ecx
  unsigned int v71; // esi
  unsigned int v72; // ebx
  unsigned int v73; // ecx
  int v74; // esi
  int v75; // edi
  int v76; // ebx
  unsigned int v77; // ebx
  int v78; // esi
  int v79; // ecx
  unsigned int v80; // kr00_4
  int v81; // ebx
  int v82; // ecx
  int v83; // ecx
  int v84; // edi
  int v85; // ebx
  unsigned int v86; // eax
  int v87; // ecx
  int v88; // esi
  int v89; // edx
  int v90; // esi
  int v91; // edi
  BOOL v92; // ett
  int v93; // edi
  unsigned int v94; // edi
  __int64 v95; // rdi
  unsigned int v96; // ebx
  int v97; // ecx
  unsigned int v98; // edi
  unsigned int v99; // edx
  int v100; // esi
  unsigned int v101; // ebx
  int v102; // edi
  int v103; // ebx
  int v104; // ebx

  v74 = a5 | a3 | a6;
  v75 = v74 ^ a4;
  v76 = v74 + (v74 ^ a4) + 1;
  v62 = v76 | ((a2 ^ a1) - v75);
  v63 = v76 - (((__PAIR64__(v74 - a1 - v76 - a1, v74 - a1 - v76) - __PAIR64__(v62, a1)) >> 32) - 1);
  v37 = a2 & v75;
  v38 = (a1 ^ ((v37 & (v63 + (a2 & v62))) + 1)) - 1;
  v71 = v38 | a1;
  v72 = (v38 | ((v38 ^ (v37 | (v63 - v37))) - 1)) + 1;
  v73 = (v38 | a1) & (v38 - 1);
  v21 = v73 < a2;
  v25 = v73 - a2;
  v26 = v72 | (a2 + (v72 & (v71 + v21 + a2 - 1)));
  v21 = v72 < v26;
  v27 = v72 - v26;
  v29 = v21;
  v21 = __CFADD__(v21, v27);
  v28 = v29 + v27;
  v21 |= __CFADD__(a1, v28);
  v28 += a1;
  LODWORD(v30) = v28 + v28 + v21 + v26;
  HIDWORD(v30) = a2 & (v71 + 1 - v25);
  v95 = v30 - __PAIR64__(v25, a1);
  LODWORD(v95) = a2 + ((__PAIR64__(HIDWORD(v95), a1) + __PAIR64__(v95, v28)) >> 32);
  v96 = v25 + 1;
  __asm { fnclex }
  v97 = 0;
  while ( 1 )
  {
    __asm { smsw    eax }
    if ( ++v97 == 2 )
      break;
    if ( (_EAX & 8) == 0 )
    {
      do
        __asm { smsw    eax }
      while ( (_EAX & 2) == 0 );
      BYTE1(v96) |= v96;
      v11 = v96 - _EAX;
      v21 = BYTE1(v97) < (unsigned __int8)v11;
      BYTE1(v97) -= v11;
      LOBYTE(v97) = BYTE1(_EAX) + v21 + (v11 | (v97 - BYTE1(a2)));
      v87 = v11 + v97;
      LOBYTE(v87) = ((BYTE4(v95) & v95) + v11) | ((unsigned __int16)((WORD2(v95) & v95) + v11) >> 8) | v87;
      v88 = HIDWORD(v95) + 1;
      v21 = __CFADD__(BYTE1(v11), 2);
      BYTE1(v11) += 2;
      v86 = (unsigned __int8)(2 - (v21 + v11)) - (((unsigned __int8)(v21 + v11) > 2u) + v11);
      BYTE1(v11) |= v11;
      LOBYTE(v11) = v11 + 1;
      v70 = a2 & v87;
      LOBYTE(v86) = BYTE1(v11) & v86;
      v51 = 0;
      v85 = v88 & v11;
      LOBYTE(v85) = __CFADD__((_BYTE)v70, BYTE1(v70)) + v85;
      BYTE1(v70) = v70 + BYTE1(v70) - 1;
      v6 = v88 | v70;
      v7 = v6 + v88;
      __asm { int     2Eh; DOS 2+ internal - EXECUTE COMMAND }
      v8 = v85 + v6;
      LOBYTE(v8) = v85 ^ v8;
      LOBYTE(v85) = BYTE1(v8) ^ v85;
      v9 = v7 & v8;
      BYTE1(v85) += __CFADD__((_BYTE)v86, BYTE1(v85)) + v85 + v86;
      LOBYTE(v85) = v86;
      LOBYTE(v86) = MEMORY[0xFFFFFFFF];
      if ( v86 == -1073741778 )
      {
        BYTE1(v51) = -1;
        BYTE1(v9) |= 0xAEu;
        v52 = v85 ^ v51;
        LOBYTE(v52) = v85;
        v31 = v85 + 1073741779;
        v48 = v52 & v9;
        v49 = v85 + 1073741778;
        LOBYTE(v52) = BYTE1(v49) + v52;
        v50 = v48 ^ (v49 - v48);
        v20 = v49 - v31;
        v22 = 3;
        --BYTE1(v52);
        v89 = v48 ^ v52;
        v90 = v20 + v31;
        LOBYTE(v48) = v20;
        BYTE1(v89) &= v89;
        v21 = BYTE1(v89) < (unsigned __int8)v20;
        BYTE1(v89) -= v20;
        v92 = v21;
        v21 = __CFADD__(v21, v50);
        v91 = v92 + v50;
        v21 |= __CFADD__(v48, v91);
        v93 = v48 + v91 - 1;
        v83 = v48 - v90;
        v84 = v89 + v21 + v93;
        v99 = 0;
        v64 = v83 + (v90 ^ 3) - 3;
        v65 = v84 & v83;
        BYTE1(v65) += 3;
        v66 = v65 & v64;
        v19 = v84 | 3;
        --BYTE1(v65);
        LOBYTE(v20) = BYTE1(v20) & (v20 + 1);
        LOBYTE(v65) = BYTE1(v20) | v65;
        v21 = v65 < v19;
        v67 = v65 - v19;
        __GS__ = 3;
        BYTE1(v67) -= v21 + v20;
        BYTE1(v20) = BYTE1(v20) + 1 - v20;
        v18 = v20 ^ v66;
        LOBYTE(v67) = v67 | 0x22;
        LOBYTE(v20) = v20 + 1;
        v16 = v67 + 1;
        BYTE1(v20) |= 0xB5u;
        v21 = 0;
        --BYTE1(v16);
        while ( 1 )
        {
          v39 = v22 + v21 + v18;
          LOBYTE(v16) = BYTE1(v20)-- ^ v16;
          v21 = __CFADD__((_BYTE)v16, (_BYTE)v20);
          LOBYTE(v20) = v16 + v20;
          v41 = v21 + v39;
          v21 = v16 < v41;
          v40 = v16 - v41;
          LOBYTE(v40) = v40 - (v21 + v22);
          v21 = __CFADD__((_BYTE)v20, (_BYTE)v40);
          LOBYTE(v40) = v20 + v40;
          BYTE1(v40) += v99 + (__CFADD__(v21, v20) | __CFADD__(v19, v21 + v20));
          v77 = v40;
          v78 = v40 ^ v39;
          v80 = v19 - v40;
          v79 = (__PAIR64__(v40, v19) - __PAIR64__(v22, v40)) >> 32;
          LOBYTE(v79) = BYTE1(v99);
          v81 = v80 | v77;
          v82 = v81 + v79;
          v12 = v81 ^ v78;
          LOBYTE(v81) = BYTE1(v99) ^ v81;
          v13 = v99 & v81;
          LOBYTE(v82) = v82 - v13;
          v14 = __GS__ + v13;
          LOBYTE(v14) = v14 + 1;
          BYTE1(v14) += v14;
          v53 = __GS__ & v82;
          v54 = v14 - (v99 + v80);
          BYTE1(v54) = v99;
          v55 = (v99 ^ v12) - 1;
          LOBYTE(v54) = v54 - BYTE1(v53) - 1;
          LOBYTE(v53) = (v53 | 0xC2) - (__CFADD__(BYTE1(v53), (_BYTE)v54) + BYTE1(v53));
          v98 = v99 + v99 + v80;
          LOBYTE(v54) = (BYTE1(v53) + v54) | 0xDB;
          ++v99;
          v100 = v55 + 1;
          BYTE1(v53) = v53 ^ (BYTE1(v53) - 1);
          v94 = v54 + (v53 + v98 < __GS__) + v53 + v98 - __GS__;
          ++BYTE1(v53);
          LOBYTE(v53) = v99 & v53;
          LOBYTE(v54) = BYTE1(v53)++ & v54;
          LOBYTE(v54) = v54 - 1;
          v101 = v54 - v94;
          --v53;
          LOBYTE(v53) = v53 + 3;
          v16 = v101 & v53;
          BYTE1(v101) -= 3;
          v102 = v100;
          if ( v99 == 20046592 )
            break;
          v21 = (unsigned __int8)v16 < (unsigned __int8)((v99 < 0x131E300) + BYTE1(v101));
          LOBYTE(v16) = v16 - ((v99 < 0x131E300) + BYTE1(v101));
          v17 = v101 - v21;
          LOBYTE(v17) = v17 | 0x1F;
          v18 = v100 + 1;
          v19 = __GS__ & (v102 + 1);
          ++BYTE1(v17);
          v20 = v17 - v16;
          v22 = __ROR4__(__GS__, 1);
          v21 = 1;
        }
        LOWORD(_EAX) = v100 + 2;
      }
      else
      {
        v21 = __CFADD__(v86, v9);
        v32 = v86 + v9;
        LOBYTE(v32) = -(char)(v21 + BYTE1(v85)) & v32;
        LOBYTE(v85) = BYTE1(v86) ^ v85;
        LOBYTE(v51) = 1 - (v21 + BYTE1(v85));
        v33 = v86 + (v86 < 0xC000002E) + v7;
        v34 = v33 + v32;
        LOBYTE(v86) = (BYTE1(v34) & MEMORY[0xFFFFFFFF]) - BYTE1(v85);
        BYTE1(v51) = -(char)(((unsigned __int8)(BYTE1(v34) & MEMORY[0xFFFFFFFF]) < BYTE1(v85)) + v86);
        LOBYTE(v86) = v86 - BYTE1(v34);
        v23 = v51 | v34;
        v24 = v33 + (v33 ^ v85);
        BYTE1(v24) |= v86;
        BYTE1(v86) &= BYTE1(v24);
        LOBYTE(v24) = v24 - 1;
        v56 = -v33;
        v21 = BYTE1(v24) < (unsigned __int8)((v33 != 0) - v33);
        BYTE1(v24) -= (v33 != 0) - v33;
        LOBYTE(v86) = v86 | 0x54;
        BYTE1(v86) &= BYTE1(v23);
        LOBYTE(v23) = BYTE1(v23) + v23 - 1;
        v57 = v21 + v24 - 1;
        v42 = v86 + v33;
        BYTE1(v56) = ((unsigned __int16)-(__int16)v33 >> 8) | 0xFD;
        v21 = BYTE1(v23) < BYTE1(v56);
        BYTE1(v23) -= BYTE1(v56);
        v43 = v57 | (v57 + v21 + v33 - 1);
        LOBYTE(v23) = v23 - BYTE1(v57);
        v21 = __CFADD__(BYTE1(v56), (_BYTE)v42);
        LOBYTE(v42) = BYTE1(v56) + v42;
        v44 = v43 | v42;
        ++v56;
        LOBYTE(v44) = BYTE1(v44) & v44;
        v35 = v44 + v23 - (v21 + v57);
        LOBYTE(v44) = BYTE1(v57) | v44;
        LOWORD(v57) = v57 - 1;
        BYTE1(v57) -= v56;
        LOBYTE(v56) = ((unsigned __int16)(v44 + v57) >> 8) & v56;
        v36 = v56;
        BYTE1(v56) &= v35;
        LOBYTE(v36) = BYTE1(v36) | v36;
        BYTE1(v35) = v56;
        LOBYTE(v44) = BYTE1(v44);
        v58 = v56 - 1;
        v59 = v44 - ((v56 != 0) + v56);
        v21 = BYTE1(v56) < (unsigned __int8)v35;
        BYTE1(v56) -= v35;
        v60 = v21 + v36;
        v21 = (unsigned __int8)v59 < (unsigned __int8)(v21 + v36);
        LOBYTE(v59) = v59 - v60;
        LOBYTE(v35) = v56;
        ++v59;
        v61 = v21;
        v21 = __CFADD__(v21, (_BYTE)v59);
        LOBYTE(v59) = v61 + v59;
        v21 |= __CFADD__(BYTE1(v56), (_BYTE)v59);
        LOBYTE(v59) = BYTE1(v56) + v59;
        BYTE1(v36) = BYTE1(v56);
        LOBYTE(v56) = v56 - 1;
        v45 = v58 + v21 + v59;
        LOBYTE(v45) = BYTE1(v35) + v45;
        v46 = v58;
        v47 = v58 & v56;
        BYTE1(v45) &= BYTE1(v36);
        v103 = v58++ & v36;
        v104 = v45 | v35 & v103;
        LOWORD(v35) = v47;
        LOBYTE(v47) = BYTE1(v45);
        LOWORD(v35) = v104 ^ v35;
        BYTE1(v35) += BYTE1(v47);
        v21 = __CFADD__(BYTE1(v104), (_BYTE)v35);
        LOBYTE(v35) = BYTE1(v104) + v35;
        _EAX = v47 & v46;
        v68 = (_EAX | v104) - (v58 - (v21 + _EAX));
        v69 = v58 - (v21 + (v47 & v46)) - 1;
        LOBYTE(v68) = v35 + ((unsigned __int8)v47 < BYTE1(v35)) + v68;
        LOBYTE(_EAX) = (v47 - BYTE1(v35)) | v47 & v46;
        v21 = _EAX < v68;
        LOWORD(_EAX) = _EAX - v68;
        BYTE1(_EAX) -= (__CFADD__(v21, v68) | __CFADD__(v69, v21 + v68)) + _EAX;
      }
      return _EAX;
    }
  }
  return _EAX;
}
// 40C4BF: control flows out of bounds to C539

//----- (0040D0C4) --------------------------------------------------------
void sub_40D0C4()
{
  JUMPOUT(0x40D482);
}
// 40D2EE: control flows out of bounds to 40D482

//----- (0040D3BA) --------------------------------------------------------
void sub_40D3BA()
{
  sub_40D0C4();
  sub_40D0C4();
}

// nfuncs=3 queued=3 decompiled=3 lumina nreq=0 worse=0 better=0
// ALL OK, 3 function(s) have been successfully decompiled
