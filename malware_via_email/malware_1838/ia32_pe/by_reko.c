// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00404A00: Register uint16 fxUnmcbxMnBjr(Stack int16 wArg04, Stack bool fArg08)
uint16 fxUnmcbxMnBjr(int16 wArg04, bool fArg08)
{
	word32 * edx_14 = globals->ptr4118AD;
	*edx_14 = *edx_14 - globals->t411645;
	globals->dw4116D5 = globals->dw4116D5 ^ *globals->ptr41184D;
	ui32 * edi_22 = globals->ptr4118A9;
	*edi_22 = *edi_22 | globals->dw4116E5;
	return ax;
}

// 00404A3A: Register word32 fn00404A3A(Register word32 ecx, Register (ptr Eq_42) ebx, Register ptr32 ebp, Register word32 esi, Register uint32 edi, Register out ptr32 ecxOut, Register out ptr32 ebxOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
word32 fn00404A3A(word32 ecx, Eq_42 * ebx, ptr32 ebp, word32 esi, uint32 edi, ptr32 & ecxOut, ptr32 & ebxOut, ptr32 & esiOut, ptr32 & ediOut)
{
	ptr32 ebp_107 = fp - 0x04;
	struct Eq_54 * esp_110 = fp - 0x28;
	word32 dwLoc94_10 = 0x12;
	while (dwLoc94_10 != 0x00)
	{
		if (dwLoc94_10 == 0x18)
		{
			esp_110 = esp_110 - 0x04;
			esp_110->dw0000 = dwLoc14;
			SetSystemTime(esp_110->dw0000);
		}
		dwLoc94_10 = dwLoc94_10 - 0x01;
	}
	bool CZ_269;
	ui32 eax_159;
	ui32 edx_111;
	struct Eq_62 * edi_100;
	ptr32 eax_221 = fp - 0x24;
	if (true)
	{
		struct Eq_42 ** esp_718 = esp_110 - 0x04;
		*esp_718 = (struct Eq_42 **) (struct Eq_42 *) 0x03;
		struct Eq_42 * edx_722 = *esp_718;
		do
		{
			globals->dw411689 = globals->dw411689 + dwLoc0190;
			if (globals->dw40B080 != 0x00)
				break;
			edx_722[4240533] = (struct Eq_42) ((edx_722[4240533] ^ 0x5B) + 0x2D);
			edx_722 = edx_722 + 0x01;
		} while (edx_722 < (struct Eq_42 *) 0x12);
		*esp_718 = (struct Eq_42 **) ebx;
		globals->dw4116C9 = globals->dw4116C9 | 0x0C0B;
		*(esp_718 - 0x04) = esi;
		*(esp_718 - 0x08) = edi;
		edx_111 = ~0x1002;
		esp_110 = esp_718 - 0x08;
		ui32 eax_753 = ~0x1002;
		esi = 13611;
		do
		{
			ui32 eax_765 = eax_753 ^ 13611;
			struct Eq_62 * ecx_766 = eax_765 + 0x4A54 + eax_765;
			word32 ecx_780 = (word32) ((ecx_766->w40B478 ^ 811) + 0x022A);
			*ecxOut = ecx_780;
			ecx_766->w40B480 = (word16) ecx_780;
			edi_100 = ecx_766;
			eax_753 = eax_765 + 0x01 ^ 13611;
		} while (eax_753 != ~0x100D);
		if (true)
		{
l00404F4B:
			*(ebp_107 - 0x0C) = edx_111;
			word32 * esp_114 = esp_110 - 0x04;
			*esp_114 = *(ebp_107 - 0x0C);
			*(esp_114 - 0x04) = *(ebp_107 - 0x08);
			word32 edi_122;
			ebx = fn0040758B(ebx, esi, edi_100, dwArg00, dwArg04, out esi, out edi_122);
			ui32 * eax_127 = globals->ptr4118B9;
			*eax_127 = *eax_127 ^ globals->dw4116BD;
			*(ebp_107 - 0x0C) = edi_122 + 0x01 ^ esi;
			esp_110 = (struct Eq_54 *) (esp_114 + 0x01);
			goto l00404F6C;
		}
		ebx = (struct Eq_42 *) 0x252A;
l00404BBD:
		*(ebp_107 - 664) = *(ebp_107 - 664) | *(ebp_107 - 676);
		uint32 eax_568 = globals->dw40B080;
		if (eax_568 != 0x00)
		{
l00404FED:
			globals->dw411709 = globals->dw411709 & *globals->ptr4118F9;
			struct Eq_274 * esp_74 = esp_110 + 0x01;
			word32 edi_72;
			*ediOut = esp_110->dw0000;
			word32 esi_77;
			*esiOut = esp_74->dw0000;
			word32 ebx_84;
			*ebxOut = esp_74->dw0004;
			return 0x01;
		}
		*(ebp_107 - 0x14) = eax_568;
		if (*globals->ptr40B2C4->ptr000C == 0x00)
		{
			globals->t4116ED = (word32) globals->t4116ED - *(ebp_107 - 252);
			*(ebp_107 - 0x04) = *(ebp_107 - 0x04) ^ *(ebp_107 - 0x04);
			*(ebp_107 - 0x04) = *(ebp_107 - 0x04) + 0x01;
			*(ebp_107 - 0x9C) = *(ebp_107 - 0x9C) & 0x00;
			while (*(ebp_107 - 0x9C) < 0x18)
			{
				if (*(ebp_107 - 0x9C) == 0x1C)
				{
					LPARAM * esp_624 = esp_110 - 0x04;
					*esp_624 = (int32) 0x3961;
					*(esp_624 - 0x04) = 6299;
					*(esp_624 - 0x08) = 35521;
					*(esp_624 - 0x0C) = 0x00411955;
					*(esp_624 - 0x10) = 0x00400000;
					CreateDialogParamA(*(esp_624 - 0x10), *(esp_624 - 0x0C), *(esp_624 - 0x08), *(esp_624 - 0x04), *esp_624);
					esp_110 = esp_624 - 0x10;
				}
				*(ebp_107 - 0x9C) = *(ebp_107 - 0x9C) + 0x01;
			}
			*(ebp_107 - 0x04) = *(ebp_107 - 0x04) << 0x10;
			*(ebp_107 - 0x0C) = **globals->ptr40B038;
			*(ebp_107 - 700) = *(ebp_107 - 700) | *globals->ptr4118B5;
			ui32 eax_649 = ~(*(ebp_107 - 0x04) - 0x01) & *(*(ebp_107 - 0x0C));
			*(ebp_107 - 0x0254) = *(ebp_107 - 0x0254) & *globals->ptr411845;
			*(ebp_107 - 0x24) = eax_649;
			*(ebp_107 - 0x0C) = ebp_107 - 0x24;
			word16 ** eax_658 = *(ebp_107 - 0x0C);
			*(ebp_107 - 0x02CC) = *(ebp_107 - 0x02CC) + *globals->ptr411859;
			uint8 * ecx_665 = globals->ptr411889;
			word16 ax_664 = **eax_658;
			*ecx_665 = *ecx_665 >> 0x01;
			ui16 ax_671 = ax_664 - 0x022A ^ 811;
			while (true)
			{
				word32 * eax_685 = *(ebp_107 - 0x0C);
				if (ax_671 == 0x5B08)
					break;
				*eax_685 = *eax_685 - *(ebp_107 - 0x04);
				word16 ax_698 = ***(ebp_107 - 0x0C);
				globals->t411645 = (word32) globals->t411645 + *(ebp_107 - 772);
				*(ebp_107 - 0x0288) = __rol(*(ebp_107 - 0x0288), 11);
				ax_671 = ax_698 - 0x022A ^ 811;
			}
			*globals->ptr40B2C4->ptr000C = *eax_685;
		}
		*(ebp_107 - 0x0C) = ~0x1002;
l00404F6C:
		*(ebp_107 - 0xC4) = *(ebp_107 - 0xC4) & 0x00;
		do
		{
			*(ebp_107 - 0xC4) = *(ebp_107 - 0xC4) + 0x01;
			if (*(ebp_107 - 0xC4) == 0x1F)
			{
				word32 * esp_512 = esp_110 - 0x04;
				*esp_512 = *(ebp_107 - 0x10);
				*(esp_512 - 0x04) = *(ebp_107 - 0x28);
				*(esp_512 - 0x08) = *(ebp_107 - 0x28);
				*(esp_512 - 0x0C) = 0x00411AEB;
				esp_110 = esp_512 - 0x0C;
l00404FA5:
				esp_110 = esp_110 - 0x04;
				esp_110->dw0000 = *(ebp_107 - 0x28);
				DrawTextW(esp_110->dw0000, esp_110[0x01], esp_110[0x02], esp_110[0x03], esp_110[0x04]);
			}
		} while (*(ebp_107 - 0xC4) < 0x17);
		word32 eax_442 = **(ebp_107 - 0x1C);
		ui32 * esp_443 = esp_110 - 0x04;
		*esp_443 = 0x5F;
		ui32 ecx_447 = *esp_443;
		*ecxOut = ecx_447;
		esp_110 = (struct Eq_54 *) (esp_443 + 0x01);
		CZ_269 = cond((uint32) ((uint64) (uint32) eax_442 % ecx_447) - 0x87);
		do
		{
			if (!CZ_269 || *(ebp_107 - 0x0C) == ~0x1032)
			{
				ui32 eax_405 = (*(ebp_107 - 0x10) ^ esi) + 0x01 ^ esi;
				*(ebp_107 - 0x10) = eax_405;
				if (eax_405 == ~0x11F2)
					goto l00404FED;
				goto l00404BBD;
			}
			eax_159 = ~0x11F2;
			edi = ~0x24D9;
l00404D86:
			if (eax_159 != ~0x11D2)
			{
				if (eax_159 == ~0x1022)
				{
					word32 * esp_283 = esp_110 - 0x04;
					*esp_283 = *(ebp_107 - 0x08);
					ebp_107 = fn00405375(esi, dwArg00, out esi, out edi);
					esp_110 = (struct Eq_54 *) (esp_283 + 0x01);
				}
				else if (eax_159 == ~0x11DF)
				{
					*(ebp_107 - 0xD8) = *(ebp_107 - 0xD8) & 0x00;
					do
					{
						*(ebp_107 - 0xD8) = *(ebp_107 - 0xD8) + 0x01;
						if (*(ebp_107 - 0xD8) == 0x2A)
						{
							union Eq_83 * esp_332 = esp_110 - 0x04;
							*esp_332 = 34469;
							*(esp_332 - 0x04) = 0x3FA2;
							*(esp_332 - 0x08) = 27072;
							*(esp_332 - 0x0C) = 0x3A15;
							SetPaletteEntries(*(esp_332 - 0x0C), *(esp_332 - 0x08), *(esp_332 - 0x04), *esp_332);
							esp_110 = esp_332 - 0x0C;
						}
					} while (*(ebp_107 - 0xD8) < 0x1F);
					word32 * eax_307 = globals->ptr40B2C4->ptr000C;
					word32 * esp_308 = esp_110 - 0x04;
					*esp_308 = 0x0040B510;
					*(esp_308 - 0x04) = *eax_307;
					<anonymous> * eax_313 = *(ebp_107 - 0x14);
					byte SCZO_316;
					byte Z_317;
					<anonymous> * eax_318;
					byte SZO_319;
					word32 edx_320;
					byte C_321;
					byte al_322;
					word32 ecx_326;
					word16 cx_327;
					word16 di_328;
					byte CZ_329;
					word16 ax_330;
					eax_313();
					globals->ptr40B508 = eax_318;
				}
				else if (eax_159 == ~0x11C2)
				{
					word32 eax_344 = *globals->ptr40B10C;
					word32 * esp_345 = esp_110 - 0x04;
					*esp_345 = 0x0040B498;
					*(esp_345 - 0x04) = eax_344;
					*(esp_345 - 0x08) = 0x02;
					*(esp_345 - 0x0C) = 0x0040B190;
					*(esp_345 - 0x10) = eax_344;
					*(esp_345 - 0x14) = globals->dw40B56C;
					word32 esp_358;
					byte SCZO_360;
					byte Z_361;
					word32 eax_362;
					byte SZO_363;
					word32 edx_364;
					byte C_365;
					byte al_366;
					word32 ecx_370;
					word16 cx_371;
					word16 di_372;
					byte CZ_373;
					word16 ax_374;
					globals->ptr40B568();
					*(ebp_107 - 0x14) = eax_362;
					esp_110 = esp_358 + 0x18;
				}
				goto l00404EB9;
			}
			*(ebp_107 - 488) = 19918;
			CZ_269 = cond(*(ebp_107 - 488) - 19419);
		} while (*(ebp_107 - 488) <= 19419);
		ecx = *(ebp_107 - 0x18);
		*(ebp_107 - 448) = *(ebp_107 - 448) - 8168;
		eax_221 = *(ebp_107 - 0x0C);
	}
	globals->t411649.u1 = 0x004116D1;
	globals->t411649 = globals->t411649 - 4265621 - (*(ebp_107 - 336) < edi);
	*(ebp_107 - 0x08) = (uint32) ((uint64) (uint32) (ebx + (eax_221 ^ esi)) % (ebx + (ecx ^ esi))) << 0x03;
l00404EB9:
	*(ebp_107 - 0x0104) = 32725;
	uint32 eax_152 = edi - 0x01;
	if (*(ebp_107 - 0x0104) != 51105)
	{
		globals->dw4116D5 = globals->dw4116D5 - (word32) (*(ebp_107 - 0x015C));
		eax_159 = eax_152 ^ esi;
		edi = eax_159 ^ esi;
		word32 ecx_169;
		*ecxOut = edi + 0x252A;
		if (edi == 0x252A)
		{
			word32 edi_175 = *(ebp_107 - 0x0C);
			uint32 ecx_176 = *(ebp_107 - 0x18) ^ esi;
			globals->t4116C1 = (word32) globals->t4116C1 + 0x00411739;
			globals->t4116C1 = globals->t4116C1 & 0x004116B1;
			globals->t411675.u1 = 4265677;
			Eq_678 v28_188 = (byte) (ebx < *(ebp_107 - 0x0238)) + ((word32) globals->t411675 + 0x004116E1);
			globals->t411675 = v28_188;
			globals->t411675 = globals->t411675 - 0x00411671 - (v28_188 < 0x00);
			edi_100 = edi_175 ^ esi;
			edx_111 = (uint32) ((uint64) (uint32) ((char *) edi_100 + 0x0000252A) % (ebx + ecx_176)) << 0x03;
			goto l00404F4B;
		}
		goto l00404D86;
	}
	goto l00404FA5;
}

// 00405009: Register word32 fn00405009(Register word32 ebx, Register (ptr Eq_1203) ebp, Register word32 esi, Register ui32 edi, Register out ptr32 ebxOut, Register out ptr32 esiOut)
word32 fn00405009(word32 ebx, Eq_1203 * ebp, word32 esi, ui32 edi, ptr32 & ebxOut, ptr32 & esiOut)
{
	word32 * esp_20 = fp - 0x1C;
	ptr32 eax_8 = globals->ptr40B2EC;
	uint32 dwLoc60_15 = dwLoc60 & 0x00;
	while (dwLoc60_15 < 0x1D)
	{
		if (dwLoc60_15 == 33)
		{
			esp_20 = esp_20 - 0x04;
			*esp_20 = dwLoc20;
			PrintDlgExW(*esp_20);
		}
		dwLoc60_15 = dwLoc60_15 + 0x01;
	}
	word32 eax_122 = globals->dw40B2F4;
	struct Eq_1224 * esp_121 = esp_20 - 0x04;
	esp_121->dw0000 = ebx;
	if (true)
	{
		word32 eax_111;
		byte * ebx_71 = globals->ptr411861;
		*ebx_71 = *ebx_71 & 0x12;
		uint32 ebx_76 = globals->dw40B2F0;
		*(esp_121 - 0x04) = esi;
		*(esp_121 - 0x08) = edi;
		*(esp_121 - 0x0C) = eax_8;
		*(esp_121 - 0x10) = (struct Eq_300 **) globals->ptr40B2C4;
		Eq_83 edx_93;
		word32 eax_94 = fn0040514F(ebx_76, esi, edi, dwArg00, dwArg04, out edx_93);
		union Eq_1312 * esi_99 = globals->ptr4118C1;
		*esi_99 = (union Eq_1312 *) (*esi_99 << 0x01);
		word32 edi_108 = 13611;
		word32 esi_102 = 0x252A;
		if (0x00 != eax_94)
			eax_111 = ~0x1003;
		else
		{
			*(esp_121 - 0x0C) = 0x00031A00;
			*(esp_121 - 0x10) = eax_122;
			*(esp_121 - 0x14) = ebx_76;
			*(esp_121 - 0x18) = (struct Eq_300 **) globals->ptr40B2C4;
			word32 ebx_137;
			fn004061CB(edx_93, ebx_76, fp - 0x04, 13611, ebp, dwArg00, dwArg04, dwArg08, dwArg0C, out ebx_137, out esi_102, out edi_108);
			globals->dw4116A5 = globals->dw4116A5 + dwLocC4;
			globals->ptr40B2E8 = fp;
			word32 * eax_151 = globals->ptr40B2E8;
			*eax_151 = globals->ptr40B0F0 + *eax_151 / 0x0040;
			eax_111 = ~0x1002;
		}
		globals->t411645 = (word32) globals->t411645 + (word32) wLoc0108;
		esp_121 = esp_20 - 0x08;
		eax_122 = (eax_111 ^ edi_108) + esi_102;
	}
	word32 esi_62;
	*esiOut = esp_121->dw0000;
	word32 ebx_64;
	*ebxOut = esp_121->dw0004;
	return eax_122;
}

// 0040514F: Register word32 fn0040514F(Register uint32 ebx, Register word32 esi, Register ui32 edi, Stack (ptr Eq_1203) dwArg04, Stack (ptr Eq_1203) dwArg08, Register out ptr32 edxOut)
word32 fn0040514F(uint32 ebx, word32 esi, ui32 edi, Eq_1203 * dwArg04, Eq_1203 * dwArg08, ptr32 & edxOut)
{
	*edxOut = edx;
	word32 * esp_23 = fp - 0x10;
	uint32 dwLoc38_18 = dwLoc38 & 0x00;
	do
	{
		uint32 eax_25 = dwLoc38_18 + 0x01;
		dwLoc38_18 = eax_25;
		if (eax_25 == 0x25)
		{
			esp_23 = esp_23 - 0x04;
			*esp_23 = 15521;
			FindTextW(*esp_23);
		}
	} while (eax_25 < 0x17);
	globals->dw411665 = globals->dw411665 & 0x28C4;
	if (false)
		dwLoc74 = dwLoc74 ^ dwLoc78;
	word32 eax_116;
	ui32 ecx_50 = globals->dw40B0E0;
	word32 * esp_51 = esp_23 - 0x04;
	*esp_51 = esi;
	*(esp_51 - 0x04) = edi;
	globals->dw41168D = globals->dw41168D - globals->t411645 - (~0x1003 < ebx);
	word32 * esp_181 = esp_51 - 0x04;
	if (0x01 != ecx_50 && 0x00 != *dwArg04->ptr0034)
	{
		struct Eq_300 * eax_162 = globals->ptr40B2C4;
		struct Eq_1488 * edx_164 = *eax_162->ptr0008;
		*edxOut = edx_164;
		word32 ecx_167 = Mem63[Mem63[edx_164 + 0x3C:word32] + 0x28 + edx_164:word32] + edx_164;
		if (eax_162->dw003C != 0x00)
		{
			*(esp_51 - 0x08) = globals->dw40B0E4;
			*(esp_51 - 0x0C) = globals->dw40B0E0;
			struct Eq_1488 ** eax_232 = globals->ptr40B2C4->ptr0008;
			*(esp_51 - 0x10) = *eax_232;
			word32 ebp_237;
			byte SCZO_238;
			word32 eax_239;
			word32 ecx_240;
			byte SZO_241;
			byte C_242;
			byte Z_243;
			word32 esi_244;
			word32 edi_245;
			word32 ebx_246;
			word32 edx_247;
			bcuiposr0 None_248;
			byte CZ_249;
			ecx_167();
			dwArg08->t0000 = (<anonymous>) eax_239;
		}
		globals->ptr40B0F0 = null;
		uint32 dwLoc48_192 = (dwLoc48 & 0x00) + 0x01;
		do
		{
			uint32 eax_199 = dwLoc48_192 + 0x01;
			dwLoc48_192 = eax_199;
			if (eax_199 == 0x2A)
			{
				esp_181 = esp_181 - 0x04;
				*esp_181 = dwLoc20;
				word32 eax_218 = DPB(dwLoc48_192 + 0x00, RegisterClassExA(*esp_181), 0);
			}
		} while (eax_199 < 0x19);
		globals->dw40B0F4 = 0x00;
		eax_116 = ~0x1003;
	}
	else
	{
		if (false)
			globals->dw41173D = globals->dw41173D ^ dwLoc9C;
		eax_116 = ~0x1002;
	}
	return (eax_116 ^ 13611) + 0x252A;
}

// 00405375: Register word32 fn00405375(Register word32 esi, Stack (ptr Eq_232) dwArg04, Register out ptr32 esiOut, Register out Eq_923 ediOut)
word32 fn00405375(word32 esi, Eq_232 * dwArg04, ptr32 & esiOut, Eq_923 & ediOut)
{
	struct Eq_1604 * esp_29 = fp - 0x0C;
	do
	{
		word32 * esp_34 = esp_29 - 0x04;
		*esp_34 = dwArg04;
		dwLoc18 = dwLoc18 & 0x00;
		while (dwLoc18 < 22)
		{
			if (dwLoc18 == 0x1E)
			{
				int32 * esp_57 = esp_34 - 0x04;
				*esp_57 = dwLoc1C;
				*(esp_57 - 0x04) = 4265629;
				*(esp_57 - 0x08) = dwLoc28;
				GetKeyNameTextW(*(esp_57 - 0x08), *(esp_57 - 0x04), *esp_57);
				esp_34 = esp_57 - 0x08;
			}
			dwLoc18 = dwLoc18 + 0x01;
		}
		<anonymous> * eax_66 = globals->ptr40B50C;
		word32 ebp_68;
		word32 esi_69;
		word32 edi_70;
		byte SCZO_71;
		word32 eax_72;
		byte C_73;
		byte SZO_74;
		byte Z_75;
		eax_66();
	} while (((edi_70 ^ 13611) + 0x01 ^ 13611) != ~0x100D);
	word32 edi_81;
	*ediOut = esp_29->dw0000;
	word32 esi_83;
	*esiOut = esp_29->dw0004;
	return esp_29->dw0008;
}

// 00405402: Register (ptr Eq_300) fn00405402(Register (ptr Eq_300) eax, Register (ptr Eq_300) ecx, Register word32 ebx, Register ptr32 ebp, Register word32 esi, Register ui32 edi, Stack ptr32 dwArg00, Register out ptr32 ebxOut, Register out ptr32 esiOut, Register out Eq_1702 ediOut)
Eq_300 * fn00405402(Eq_300 * eax, Eq_300 * ecx, word32 ebx, ptr32 ebp, word32 esi, ui32 edi, ptr32 dwArg00, ptr32 & ebxOut, ptr32 & esiOut, Eq_1702 & ediOut)
{
	*ebxOut = ebx;
	*esiOut = esi;
	*ediOut = edi;
	struct Eq_300 * dwLoc08_111 = ecx;
	ptr32 esp_117 = fp - 0x0C;
	if (true)
	{
		globals->dw40B0DC = globals->dw40B2FC;
		word32 dwLoc28_116 = 0x1E;
		while (dwLoc28_116 != 0x00)
		{
			if (dwLoc28_116 == 0x26)
			{
				UINT * esp_130 = esp_117 - 0x04;
				*esp_130 = (uint32) 0x16CC;
				*(esp_130 - 0x04) = 19590;
				*(esp_130 - 0x08) = dwLoc24;
				*(esp_130 - 0x0C) = dwLoc28_116;
				*(esp_130 - 0x10) = 0x399F;
				*(esp_130 - 0x14) = dwLoc24;
				*(esp_130 - 0x18) = 19590;
				*(esp_130 - 0x1C) = 19590;
				*(esp_130 - 0x20) = 23426;
				*(esp_130 - 0x24) = 19590;
				DrawStateA(*(esp_130 - 0x24), *(esp_130 - 0x20), *(esp_130 - 0x1C), *(esp_130 - 0x18), *(esp_130 - 0x14), *(esp_130 - 0x10), *(esp_130 - 0x0C), *(esp_130 - 0x08), *(esp_130 - 0x04), *esp_130);
				esp_117 = esp_130 - 0x24;
			}
			dwLoc28_116 = dwLoc28_116 - 0x01;
		}
		globals->dw40B0E0 = globals->dw40B300;
		ui32 eax_162 = globals->dw40B304;
		globals->dw411685 = globals->dw411685 + 4265565;
		globals->dw411685 = globals->dw411685 & 4265641;
		globals->dw411685 = globals->dw411685 + 0x004116F5;
		globals->dw40B0E4 = eax_162;
		word32 * esp_175 = esp_117 - 0x04;
		*esp_175 = globals->dw40B2E0;
		*(esp_175 - 0x04) = *globals->ptr40B2F8;
		*(esp_175 - 0x08) = fp - 0x08;
		word32 esi_187;
		word32 ebx_188 = fn00405813(esi, edi, dwArg00, dwArg04, dwArg08, out esi_187);
		word32 ebx_190;
		word32 esi_191;
		if (fn00405009(ebx_188, fp - 0x04, esi_187, edi, out ebx_190, out esi_191) != 0x00)
		{
			globals->dw40B088 = globals->dw40B088 + 0x00677567;
			dwLoc08_111 = null;
			goto l00405535;
		}
		eax = globals->ptr40B2C4;
	}
	struct Eq_300 * eax_107 = *eax->ptr0038;
	if (false)
		return dwLoc08_111;
	dwLoc08_111 = eax_107;
l00405535:
	globals->ptr40B0FC = fp;
	*globals->ptr40B0FC = globals->ptr40B0F0 + dwArg00 / 0x0040;
	return dwLoc08_111;
}

// 004057D0: Register (ptr void) jCEoogfwBXoqxKlaNgtzkR(Stack uint16 wArg04, Stack cu8 bArg08)
void(uint16 wArg04, cu8 bArg08)
{
	globals->dw41169D = globals->dw41169D - *globals->ptr411831 - (dwLoc24 < ecx);
	ui32 * esi_22 = globals->ptr4118E1;
	*esi_22 = *esi_22 | globals->dw4116AD;
	globals->dw41164D = globals->dw41164D & *globals->ptr4118A5;
	return eax;
}

// 00405813: Register word32 fn00405813(Register word32 esi, Register ui32 edi, Stack ptr32 dwArg04, Stack uint32 dwArg08, Stack word32 dwArg0C, Register out ptr32 esiOut)
word32 fn00405813(word32 esi, ui32 edi, ptr32 dwArg04, uint32 dwArg08, word32 dwArg0C, ptr32 & esiOut)
{
	int32 ecx_125 = ~0x1002;
	struct Eq_1990 * esp_10 = fp - 0x0C;
	word32 dwLoc1C_13 = 0x1B;
	while (dwLoc1C_13 != 0x00)
	{
		if (dwLoc1C_13 == 0x1E)
		{
			union Eq_83 * esp_30 = esp_10 - 0x04;
			*esp_30 = 0x3EED;
			*(esp_30 - 0x04) = 17957;
			*(esp_30 - 0x08) = 0x3EED;
			WaitForSingleObjectEx(*(esp_30 - 0x08), *(esp_30 - 0x04), *esp_30);
			esp_10 = esp_30 - 0x08;
		}
		dwLoc1C_13 = dwLoc1C_13 - 0x01;
	}
	int32 eax_168;
	word32 dwLoc08_154 = ~0x1002;
	if (~0x6540 != 0x00)
	{
		dwLoc08_154 = ~0x1003;
		esp_10 = esp_10 - 0x04;
		esp_10->dw0000 = esi;
		eax_168 = 0x02013027;
l004058CD:
		int32 * esi_91 = *((char *) globals->a40B0C4 + (ecx_125 + 0x01 & 0x03) * 0x04);
		*esi_91 = *esi_91 *s ecx_125 *s ~0x200F;
		ui32 * esi_103 = *((char *) globals->a40B0C4 + (ecx_125 - 0x01 & 0x03) * 0x04);
		*esi_103 = *esi_103 ^ (eax_168 | ecx_125);
		if (ecx_125 == ~0x1022)
			globals->ptr40B2EC = dwArg04;
		else if (ecx_125 == ~0x11C2)
			globals->dw40B2F0 = dwArg08;
		else if (ecx_125 == ~0x1182)
			globals->dw40B2F4 = dwArg0C;
		word32 ecx_124 = (dwLoc08_154 ^ 13611) + 0x252A + (ecx_125 ^ 13611);
		word32 * eax_136 = *((char *) globals->a40B0C4 + ((ecx_124 ^ 13611) & 0x03) * 0x04);
		*eax_136 = *eax_136 + ((ecx_124 ^ 13611) *s ~0x2003 ^ (ecx_124 ^ 13611));
		ecx_125 = ecx_124 ^ 13611;
	}
	eax_168 = ecx_125 *s ~0x200C;
	ui32 * esi_65 = *((char *) globals->a40B0C4 + (ecx_125 - 0x02 & 0x03) * 0x04);
	*esi_65 = *esi_65 | eax_168;
	if (ecx_125 == ~0x1132)
	{
		word32 esi_71;
		*esiOut = esp_10->dw0000;
		return esp_10[0x01];
	}
	goto l004058CD;
}

// 00406185: void fn00406185()
void fn00406185()
{
	globals->dw40B51C = globals->dw40B51C ^ globals->dw40B51C;
	globals->dw40B520 = globals->dw40B520 ^ globals->dw40B520;
	globals->dw40B524 = globals->dw40B524 ^ globals->dw40B524;
	globals->ptr40B528 = globals->ptr40B528;
}

// 004061B8: Register word32 fn004061B8()
word32 fn004061B8()
{
	fn0040688D(fp - 0x08);
	return ecx;
}

// 004061CB: Register Eq_83 fn004061CB(Register Eq_83 edx, Register uint32 ebx, Register (ptr Eq_1203) ebp, Register int32 edi, Stack (ptr Eq_1203) dwArg00, Stack (ptr Eq_1203) dwArg04, Stack (ptr Eq_1203) dwArg08, Stack (ptr Eq_1203) dwArg0C, Stack (ptr Eq_1203) dwArg10, Register out ptr32 ebxOut, Register out ptr32 esiOut, Register out Eq_1361 ediOut)
Eq_83 fn004061CB(Eq_83 edx, uint32 ebx, Eq_1203 * ebp, int32 edi, Eq_1203 * dwArg00, Eq_1203 * dwArg04, Eq_1203 * dwArg08, Eq_1203 * dwArg0C, Eq_1203 * dwArg10, ptr32 & ebxOut, ptr32 & esiOut, Eq_1361 & ediOut)
{
	*ebxOut = ebx;
	*ediOut = edi;
	word32 * esp_169 = fp - 0x0C;
	word32 esi_12 = 550007;
	*esiOut = esi_12;
	if (dwArg10 == (struct Eq_1203 *) 550007)
	{
		globals->t411645 = (word32) globals->t411645 + 0x00411675;
		word32 ebp_170;
		word32 ecx_171;
		word32 esi_172;
		byte SCZO_173;
		byte Z_174;
		byte SZO_175;
		byte C_176;
		word32 eax_177;
		byte S_179;
		word32 ebx_180;
		dwArg0C();
		goto l004062F7;
	}
	word32 * esp_195;
	if (dwArg10 == (struct Eq_1203 *) 0x00060421)
	{
		uint32 dwLoc48_221 = dwLoc48 & 0x00;
		do
		{
			uint32 eax_228 = dwLoc48_221 + 0x01;
			dwLoc48_221 = eax_228;
			if (eax_228 == 0x1A)
			{
				LPCOMMTIMEOUTS * esp_267 = esp_169 - 0x04;
				*esp_267 = (LPCOMMTIMEOUTS *) &globals->dw4116FD;
				*(esp_267 - 0x04) = dwLoc14;
				GetCommTimeouts(*(esp_267 - 0x04), *esp_267);
				esp_169 = esp_267 - 0x04;
			}
		} while (eax_228 < 0x12);
		word32 * eax_237 = globals->ptr411869;
		*eax_237 = *eax_237 - (word32) wLoc78;
		if (false)
		{
l00406389:
			globals->dw411661 = globals->dw411661 - globals->dw41164D;
			return edx;
		}
		if (0x00 != *(globals->ptr40B2C4)->ptr000C)
		{
			uint32 eax_262 = globals->dw40B080;
			if (0x00 == eax_262)
				edx = fn00406E0C(eax_262, 0x00, edx, 550007, edi);
		}
		esp_195 = esp_169 - 0x04;
		*esp_195 = 550007;
	}
	else
	{
		if (dwArg10 != (struct Eq_1203 *) 0x00031A00)
			goto l004062F7;
		esp_195 = fp - 0x10;
	}
	struct Eq_1203 ** esp_197 = esp_195 - 0x04;
	*esp_197 = (struct Eq_1203 **) dwArg0C;
	globals->dw4116AD = globals->dw4116AD + 0x004116D9;
	*(esp_197 - 0x04) = (struct Eq_1203 **) dwArg08;
	*(esp_197 - 0x08) = (struct Eq_1203 **) dwArg04;
	word32 ebx_209;
	word32 esi_210;
	edx = fn004061CB(edx, ebx, fp - 0x04, edi, ebp, dwArg00, dwArg04, dwArg08, dwArg0C, out ebx_209, out esi_210, out edi);
	esp_169 = (word32 *) ((char *) esp_197 + 0x08);
l004062F7:
	ui32 * ecx_85 = globals->ptr411859;
	*ecx_85 = *ecx_85 ^ 28084;
	word32 esi_102;
	*esiOut = *esp_169;
	goto l00406389;
}

// 00406588: Register int32 vzswloIbjjKVd(Stack uint16 wArg04)
int32 vzswloIbjjKVd(uint16 wArg04)
{
	union Eq_669 * esi_11 = globals->ptr4118A1;
	*esi_11 = (union Eq_669 *) (*esi_11 ^ (word32) globals->b41171D);
	globals->t411641 = globals->t411641 ^ globals->dw411715;
	globals->t411645 = (word32) globals->t411645 & *globals->ptr4118BD;
	return eax;
}

// 004065CA: Register Eq_2028 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	Eq_2028 eax_140;
	if (fn004061B8() == 0x03)
		eax_140 = 0x00;
	else
	{
		globals->dw411719 = (ui32) ((byte) (dwLoc34 < ebx) + (globals->dw411719 + 0x004116E5));
		globals->dw411719 = globals->dw411719 | 0x00411715;
		globals->dw411719 = globals->dw411719 - 0x0041168D;
		fn00406185();
		globals->ptr40B528 = fp;
		uint32 dwLoc28_78 = dwLoc28 & 0x00;
		while (dwLoc28_78 < 0x1F)
		{
			if (dwLoc28_78 == 0x22)
				DestroyCaret();
			dwLoc28_78 = dwLoc28_78 + 0x01;
		}
		word32 ecx_96 = fn00407567(fp - 0x04);
		if (true)
		{
			byte * eax_145 = globals->ptr411881;
			*eax_145 = *eax_145 + 0x4F;
		}
		globals->dw40B488 = globals->dw40B51C;
		globals->dw40B48C = globals->dw40B520;
		globals->dw40B490 = globals->dw40B524;
		globals->ptr40B494 = fp - 0x08;
		if (GetCurrentProcessId() == 0x00)
		{
			ExitThread(0x00);
			return fn00406773();
		}
		fn00407AAD(ecx_96, ebx, fp - 0x04, esi, edi);
		**(fp - 0x10) = globals->ptr40B494->dw0000;
		union Eq_2517 * ecx_120 = globals->ptr411899;
		word32 eax_119 = globals->dw40B0F4;
		*ecx_120 = (union Eq_2517 *) (*ecx_120 | 22);
		globals->ptr40B0F0 = eax_119 ^ globals->ptr40B0F0;
		globals->t4116C5 = (word32) globals->t4116C5 - 0x213E;
		word32 * eax_131 = globals->ptr40B528;
		*eax_131 = globals->ptr40B0F0 + *eax_131 / 0x0040;
		*(fp - 0x7C) = ~(word32) *(fp - 0x7C);
		eax_140 = (Eq_2028) **(fp - 0x10);
	}
	return eax_140;
}

// 00406773: Register word32 fn00406773()
word32 fn00406773()
{
	ptr32 esp_15 = fp - 0x10;
	word32 dwLoc44_11 = 0x10;
	while (dwLoc44_11 != 0x00)
	{
		if (dwLoc44_11 == 0x1B)
		{
			LPMONITORINFO * esp_30 = esp_15 - 0x04;
			*esp_30 = (LPMONITORINFO *) (struct tagMONITORINFO *) 0x57A5;
			*(esp_30 - 0x04) = dwLoc28;
			GetMonitorInfoW(*(esp_30 - 0x04), *esp_30);
			esp_15 = esp_30 - 0x04;
		}
		dwLoc44_11 = dwLoc44_11 - 0x01;
	}
	struct Eq_300 * edx_51 = globals->ptr40B2C4;
	ptr32 * esp_54 = esp_15 - 0x04;
	*esp_54 = fp - 0x0C;
	*(esp_54 - 0x04) = 0x40;
	*(esp_54 - 0x08) = globals->dw40B2D8;
	*(esp_54 - 0x0C) = (union Eq_83 *) globals->t40B2D4;
	*(esp_54 - 0x10) = 0x04;
	*(esp_54 - 0x14) = (char *) &edx_51->dw003C + 0x00FE;
	word32 * eax_75 = edx_51->ptr000C;
	*(esp_54 - 0x18) = *eax_75;
	*(esp_54 - 0x1C) = globals->dw40B56C;
	word32 esp_82;
	word32 ebp_83;
	byte SCZO_84;
	word32 edx_85;
	byte Z_86;
	word32 eax_87;
	word32 ecx_88;
	byte C_89;
	byte SZO_90;
	globals->ptr40B568();
	return eax_87;
}

// 00406847: void mcgroqeonY(Stack uint32 dwArg04)
void mcgroqeonY(uint32 dwArg04)
{
	ui32 * ebx_12 = globals->ptr4118D1;
	*ebx_12 = *ebx_12 ^ globals->dw411701;
	uint32 esi_22 = (byte) (edi < dwLoc24) + (globals->dw41166D + (word32) globals->b4116E9);
	globals->dw41166D = esi_22;
	globals->dw411709 = globals->dw411709 - *globals->ptr411901 - (esi_22 < eax);
}

// 0040688D: void fn0040688D(Register (ptr word32) esi)
void fn0040688D(word32 * esi)
{
	int32 eax_4 = lstrlenW(&globals->t40B52C);
	ptr32 esp_10 = fp - 0x04;
	Eq_2735 eax_11 = eax_4 + ~0x07;
	if (eax_4 == ~0x07)
	{
		eax_11 = LoadIconA(*globals->ptr40B04C, &globals->t40B540);
		*esi = 0x01;
		esp_10 = fp - 0x0C;
	}
	else
		*esi = 0x03;
	int32 * esp_12 = esp_10 - 0x04;
	*esp_12 = 20850;
	Eq_2768 eax_14 = DPB(eax_11, GetKeyState(*esp_12), 0);
}

// 00406E0C: Register Eq_83 fn00406E0C(Register uint32 eax, Register int32 ecx, Register Eq_83 edx, Register word32 esi, Register int32 edi)
Eq_83 fn00406E0C(uint32 eax, int32 ecx, Eq_83 edx, word32 esi, int32 edi)
{
	word32 * esp_20 = fp - 0x5C;
	uint32 dwLocC0_13 = dwLocC0 & 0x00;
	while (dwLocC0_13 < 0x17)
	{
		if (dwLocC0_13 == 0x1D)
		{
			union Eq_83 * esp_38 = esp_20 - 0x04;
			*esp_38 = (union Eq_83 *) dwLoc28;
			*(esp_38 - 0x04) = 8399;
			*(esp_38 - 0x08) = 30033;
			*(esp_38 - 0x0C) = 0x4977;
			SetPaletteEntries(*(esp_38 - 0x0C), *(esp_38 - 0x08), *(esp_38 - 0x04), *esp_38);
			esp_20 = esp_38 - 0x0C;
		}
		eax = dwLocC0_13 + 0x01;
		dwLocC0_13 = eax;
	}
	Eq_83 eax_281;
	byte bLoc05_242;
	Eq_83 edx_169;
	uint32 dwLocFC_225 = 0x7FDF;
	if (false)
	{
		word32 * esp_856 = esp_20 - 0x04;
		*esp_856 = esi;
		*(esp_856 - 0x04) = edi;
		esp_20 = esp_856 - 0x04;
		globals->dw411699 = globals->dw411699 - 0x004116F9;
		esi = 13611;
		dwLoc38 = 0x00;
		byte sil_883;
		if (fn00407978(13611, out edx_169, out sil_883) == 0x00)
			return edx_169;
		fn00406773();
		ui32 * ecx_895 = globals->ptr4118A9;
		*ecx_895 = *ecx_895 - (word32) bLoc02AC - (dwLoc02B0 < 13611);
		Eq_669 edx_910 = *globals->ptr4118A1;
		word32 ecx_900 = globals->dw40B2D8;
		Eq_83 eax_907 = globals->t40B2D4;
		globals->t4116F5 = globals->t4116F5 ^ edx_910;
		globals->dw41172D = (word32) ((byte) (globals->t4116C1 < edx_910) + (globals->dw41172D + (word32) wLoc02A8));
		dwLoc2C = 0x01;
		dwLoc28 = eax_907;
		bLoc05_242 = 0x00;
		eax_281.u0 = ~0x1002;
		edx.u0 = ~0x1002;
		if (false)
		{
l004073B5:
			goto l00407448;
		}
		Eq_2878 ecx_985 = ecx_900 + ~0x2529 ^ 13611;
		edx_169.u0 = 0x00;
		dwLoc38 = ecx_985;
		if (~0x1002 - ecx_985 == 0x00)
			return edx_169;
l004070F0:
		globals->dw4116A9 = globals->dw4116A9 & globals->t411641;
		edx = dwLoc28;
		ecx = esi ^ ~0x1003;
		eax = eax_281 ^ esi;
	}
	globals->dw411659 = globals->dw411659 ^ globals->dw411679;
	Eq_83 eax_477 = eax + 0x252A;
	dwLoc34 = eax;
	int32 ecx_482 = (ecx + 0x252A) *s eax_477;
	dwLocFC_225 = dwLocFC_225 & 0x00;
	do
	{
		uint32 ebx_494 = dwLocFC_225 + 0x01;
		dwLocFC_225 = ebx_494;
		if (ebx_494 == 0x18)
		{
			LPARAM * esp_736 = esp_20 - 0x04;
			*esp_736 = (int32) dwLoc2C;
			*(esp_736 - 0x04) = 15174;
			*(esp_736 - 0x08) = 0x8112;
			*(esp_736 - 0x0C) = 4266349;
			*(esp_736 - 0x10) = (union Eq_83 *) dwLoc28;
			esp_20 = esp_736 - 0x10;
			eax_477 = CreateDialogParamA(*(esp_736 - 0x10), *(esp_736 - 0x0C), *(esp_736 - 0x08), *(esp_736 - 0x04), *esp_736);
		}
	} while (ebx_494 < 0x17);
	byte cl_503 = *((word32) edx.u0 + ecx_482);
	*((word32) edx.u0 + ((esi ^ ~0x1003) + 0x252A) *s eax_477) = 0x00;
	dwLoc30 = eax_477;
	ui32 dwLoc10_541 = ~0x2528;
	do
	{
		__rol((word32) bLoc03D0, 0x01);
		word32 * ecx_553 = (fp - 88)[dwLoc10_541 & 0x03];
		*ecx_553 = *ecx_553 + (dwLoc10_541 + 0x00 ^ esi);
		ui32 v40_558 = dwLoc10_541 + 0x01;
		dwLoc10_541 = v40_558;
	} while (v40_558 != 0x2535);
	ui32 eax_610;
	byte cl_581 = (byte) ((word32) cl_503 - (esi ^ ~0x11D4) - 0x252A);
	bLoc05_242 = cl_581;
	ui32 ecx_590 = (word32) dwLoc2C - 0x0000252A;
	if (dwLoc2C == (esi ^ ~0x1002) + 0x252A)
	{
		word32 dwLoc014C_663 = 0x12;
		while (dwLoc014C_663 != 0x00)
		{
			if (dwLoc014C_663 == 22)
			{
				int32 * esp_678 = esp_20 - 0x04;
				*esp_678 = ~0x1002;
				*(esp_678 - 0x04) = 18890;
				GetDeviceCaps(*(esp_678 - 0x04), *esp_678);
				esp_20 = esp_678 - 0x04;
			}
			dwLoc014C_663 = dwLoc014C_663 - 0x01;
		}
		eax_610 = ~0x11D4;
		if (true)
		{
			bLoc05_242 = (byte) (((word32) (byte) ((esi ^ ~0x11D4) + 0x252A + (word32) cl_581) ^ 0x5B) + 0x2D);
			goto l004073B5;
		}
l004073D6:
		int32 * eax_620 = (fp - 88)[eax_610 & 0x03];
		globals->dw4116FD = globals->dw4116FD - 4265665;
		globals->dw4116FD = globals->dw4116FD ^ 4265653;
		*eax_620 = (ecx_590 + 0x00 ^ esi) *s *eax_620;
		ecx_590 = ecx_590 + 0x01;
		if (ecx_590 == 0x2535)
		{
			Eq_83 eax_634 = ~0x1002;
			while (eax_634 != ~0x1003)
			{
				bLoc05_242 = __ror(bLoc05_242, 0x01);
				eax_634 = (esi ^ ~0x1003) + 0x252A + (eax_634 ^ esi) ^ esi;
			}
l00407448:
			Eq_3031 (* ecx_264)[] = ((esi ^ ~0x1003) + 0x252A) *s dwLoc30;
			Mem266[ecx_264 + edx:byte] = Mem0[ecx_264 + edx:byte] ^ bLoc05_242;
			eax_281 = (esi ^ ~0x1003) + 0x252A + dwLoc34 ^ esi;
			dwLocEC = dwLocEC & 0x00;
			while (dwLocEC < 0x1C)
			{
				if (dwLocEC == 0x26)
				{
					esp_20 = esp_20 - 0x04;
					*esp_20 = 0x185D;
					eax_281 = SetSystemTime(*esp_20);
				}
				dwLocEC = dwLocEC + 0x01;
			}
			ui32 ecx_309 = esi ^ ~0x1002;
			edx_169 = eax_281 - dwLoc38;
			if (edx_169 == ecx_309 + 0x252A)
				return edx_169;
			goto l004070F0;
		}
	}
	else
		ecx_590 = 0x01;
	eax_610 = ecx_590;
	goto l004073D6;
}

// 00407567: Register ui32 fn00407567(Register (ptr Eq_2438) eax)
ui32 fn00407567(Eq_2438 * eax)
{
	globals->ptr40B528 = (word32 *) ((char *) eax + 0x04);
	globals->dw40B51C = eax->dw0008;
	ui32 ecx_7 = eax->dw000C;
	globals->dw40B520 = ecx_7;
	globals->dw40B524 = eax->dw0010;
	return ecx_7;
}

// 0040758B: Register (ptr Eq_42) fn0040758B(Register (ptr Eq_42) ebx, Register word32 esi, Register (ptr Eq_62) edi, Stack (ptr Eq_232) dwArg04, Stack (ptr Eq_233) dwArg08, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_42 * fn0040758B(Eq_42 * ebx, word32 esi, Eq_62 * edi, Eq_232 * dwArg04, Eq_233 * dwArg08, ptr32 & esiOut, ptr32 & ediOut)
{
	word32 * esp_21 = fp - 0x30;
	Eq_1245 eax_10 = dwArg08->t40B458;
	uint32 dwLoc8C_14 = dwLoc8C & 0x00;
	do
	{
		uint32 ecx_23 = dwLoc8C_14 + 0x01;
		dwLoc8C_14 = ecx_23;
		if (ecx_23 == 0x26)
		{
			esp_21 = esp_21 - 0x04;
			*esp_21 = dwLoc10;
			eax_10 = PrintDlgExW(*esp_21);
		}
	} while (ecx_23 < 0x1F);
	struct Eq_42 ** esp_32 = esp_21 - 0x04;
	*esp_32 = (struct Eq_42 **) ebx;
	*(esp_32 - 0x04) = esi;
	*(esp_32 - 0x08) = (struct Eq_62 **) edi;
	globals->dw411739 = globals->dw411739 ^ (word32) globals->b4116B1;
	ui32 eax_56 = eax_10 ^ 13611;
	globals->a40B308[(eax_56 + 0x252A) * 0x02] = 0x00;
	union Eq_1312 * edx_132 = globals->ptr4118C1;
	*edx_132 = (union Eq_1312 *) (*edx_132 & (word32) globals->b411705);
	globals->dw4116D9 = globals->dw4116D9 | *globals->ptr411835;
	globals->dw411725 = globals->dw411725 & dwLoc01AC;
	*(esp_32 - 0x0C) = dwArg04->dw40B454;
	*(esp_32 - 0x10) = 0x0040B308;
	globals->t4116C1.u1 = 0x00411651;
	globals->t4116C1 = globals->t4116C1 - 4265621;
	globals->t4116C1 = globals->t4116C1 & 4265557;
	*(esp_32 - 0x14) = 0x03;
	*(esp_32 - 0x18) = fp - 0x30;
	ui32 edx_157 = 0xFEF6;
	ui32 ecx_172 = 0xFEF5;
	ptr32 eax_183 = fp - 0x30;
	word32 * esp_185 = esp_32 - 0x18;
	if (4294942005 != 0x00)
	{
		struct Eq_300 * eax_295 = globals->ptr40B2C4;
		globals->dw4116D1 = globals->dw4116D1 - 0x00411689 - (0xFEF6 < globals->t4116C5);
		word32 * eax_306 = eax_295->ptr000C;
		*(esp_32 - 0x1C) = *eax_306;
		*(esp_32 - 0x20) = globals->dw40B56C;
		struct Eq_3437 * esp_313;
		word32 ebp_314;
		byte SCZO_315;
		word32 eax_316;
		byte SZO_317;
		byte C_318;
		word32 ecx_319;
		byte Z_320;
		word32 ebx_321;
		word32 edx_322;
		word32 esi_323;
		word32 edi_324;
		word16 ax_325;
		word16 cx_326;
		word16 dx_327;
		globals->ptr40B568();
		<anonymous> * eax_328 = globals->ptr40B508;
		esp_313->ptr0014 = 0x0040B308;
		word32 ebp_335;
		byte SCZO_336;
		byte SZO_338;
		byte C_339;
		word32 ecx_340;
		byte Z_341;
		word32 ebx_342;
		word32 edx_343;
		word32 esi_344;
		word32 edi_345;
		word16 ax_346;
		word16 cx_347;
		word16 dx_348;
		eax_328();
		ecx_172 = dwArg04->dw40B458 ^ 13611;
		edx_157 = dwArg08->t40B458 ^ 13611;
	}
	if (eax_183 != (ecx_172 + 0x4A54) + edx_157)
	{
		uint32 dwLocE8_238 = dwLocE8 & 0x00;
		do
		{
			uint32 eax_245 = dwLocE8_238 + 0x01;
			dwLocE8_238 = eax_245;
			if (eax_245 == 33)
			{
				union Eq_83 * esp_276 = esp_185 - 0x04;
				*esp_276 = 0x00;
				*(esp_276 - 0x04) = dwLoc28;
				*(esp_276 - 0x08) = dwLoc2C;
				*(esp_276 - 0x0C) = 34339;
				*(esp_276 - 0x10) = 29285;
				*(esp_276 - 0x14) = dwLoc1C;
				SetWaitableTimer(*(esp_276 - 0x14), *(esp_276 - 0x10), *(esp_276 - 0x0C), *(esp_276 - 0x08), *(esp_276 - 0x04), *esp_276);
				esp_185 = esp_276 - 0x14;
			}
		} while (eax_245 < 0x14);
		globals->ptr40B494->dw0000 = 0x00;
		*globals->ptr40B2C4->ptr000C = 0x00;
	}
	struct Eq_3484 * esp_228 = esp_185 + 0x01;
	word32 edi_227;
	*ediOut = *esp_185;
	word32 esi_229;
	*esiOut = esp_228->dw0000;
	return esp_228->ptr0004;
}

// 00407978: Register word32 fn00407978(Register word32 esi, Register out ptr32 edxOut, Register out Eq_2885 silOut)
word32 fn00407978(word32 esi, ptr32 & edxOut, Eq_2885 & silOut)
{
	word32 * esp_27 = fp - 0x18;
	if (0x00 != 0x00)
	{
		ui32 * eax_93 = globals->ptr4118D1;
		*eax_93 = *eax_93 & globals->dw411671;
		ui32 * edx_99 = globals->ptr411821;
		*edx_99 = *edx_99 | globals->dw4116DD;
		globals->dw4116B9 = globals->dw4116B9 ^ globals->dw411685;
	}
	union Eq_83 * eax_14 = globals->ptr40B070;
	globals->t411641 = (word32) globals->t411641 ^ dwLoc48;
	Eq_83 eax_20 = *eax_14;
	uint32 dwLoc3C_23 = dwLoc3C & 0x00;
	while (dwLoc3C_23 < 0x13)
	{
		if (dwLoc3C_23 == 0x1E)
		{
			esp_27 = esp_27 - 0x04;
			*esp_27 = ~0x1002;
			eax_20 = FindTextW(*esp_27);
		}
		dwLoc3C_23 = dwLoc3C_23 + 0x01;
	}
	word32 eax_48 = *globals->ptr40B074;
	globals->t4116F5 = (word32) globals->t4116F5 ^ *globals->ptr411899;
	word32 * esp_57 = esp_27 - 0x04;
	*esp_57 = esi;
	globals->dw41167D = globals->dw41167D + 0x7363;
	globals->t40B2D4 = eax_20;
	*(esp_57 - 0x04) = 0x04;
	globals->dw40B2D8 = eax_48 + (*(esp_57 - 0x04) - globals->t40B2D4);
	word32 edx_55;
	*edxOut = 13611;
	word32 eax_78 = ~0x1003;
	byte sil_81;
	*silOut = (byte) *esp_57;
	if (globals->t40B2D4 == 0x00)
		eax_78 = ~0x1002;
	return (eax_78 ^ 13611) + 0x252A;
}

// 00407AAD: void fn00407AAD(Register word32 ecx, Register (ptr Eq_42) ebx, Register ptr32 ebp, Register word32 esi, Register uint32 edi)
void fn00407AAD(word32 ecx, Eq_42 * ebx, ptr32 ebp, word32 esi, uint32 edi)
{
	globals->dw4116AD = globals->dw4116AD - 0x00411705;
	globals->dw4116AD = globals->dw4116AD | 0x004116D9;
	globals->dw4116AD = globals->dw4116AD + 0x0041170D;
	globals->ptr40B474 = null;
	word32 esi_37;
	word32 edi_38;
	word32 ebx_174;
	struct Eq_300 * ecx_105;
	if (fn00404A3A(ecx, ebx, fp - 0x04, esi, edi, out ecx_105, out ebx_174, out esi_37, out edi_38) != 0x00)
	{
		*(fp - 0x1C) = esi_37;
		*(fp - 0x20) = edi_38;
		ptr32 esp_112 = fp - 0x20;
		ui32 edi_176 = ~0x110F;
		word32 esi_175 = 13611;
		do
		{
			if (edi_176 == ~0x1022)
			{
				globals->ptr40B474 = fp;
				goto l00407C6E;
			}
			if (edi_176 == ~0x100C)
			{
				*(fp - 0x3C) = 0x17;
				while (*(fp - 0x3C) != 0x00)
				{
					if (*(fp - 0x3C) == 0x1C)
					{
						int32 * esp_122 = esp_112 - 0x04;
						*esp_122 = 30308;
						*(esp_122 - 0x04) = 18100;
						*(esp_122 - 0x08) = 32373;
						GetPixel(*(esp_122 - 0x08), *(esp_122 - 0x04), *esp_122);
						esp_112 = esp_122 - 0x08;
					}
					*(fp - 0x3C) = *(fp - 0x3C) - 0x01;
				}
				if (globals->ptr40B474 == null)
					goto l00407C56;
				*(fp - 0x48) = 0x01;
				if (*(fp - 0x48) > 0x1001)
				{
					globals->dw41165D = globals->dw41165D - *globals->ptr4118F1 - (*(fp - 0x48) < 0x1001);
					*(fp - 88) = fp - 0x54;
					ui32 * eax_151 = *(fp - 88);
					*eax_151 = *eax_151 | 0x0D65;
				}
				word32 * eax_140 = globals->ptr40B474;
				ecx_105 = globals->ptr40B0F0;
				*eax_140 = ecx_105 + *eax_140 / 0x0040;
			}
			else if (edi_176 == ~0x11C2)
			{
				globals->dw40B2FC = globals->dw40B488;
				*(fp - 0x50) = *(fp - 0x50) - *globals->ptr411831;
				globals->dw40B300 = globals->dw40B48C;
				globals->dw40B304 = globals->dw40B490;
				globals->ptr40B2F8 = fp - 0x0C;
				word32 eax_177 = fn00405402(fp - 0x0C, ecx_105, ebx_174, fp - 0x04, esi_175, edi_176, ebp, out ebx_174, out esi_175, out edi_176);
				ecx_105 = globals->ptr40B494;
				ecx_105->dw0000 = eax_177;
			}
			else
			{
l00407C56:
				ecx_105 = **(fp - 0x10) - *(fp - 0x08) *s 0x00051501 | *(fp - 0x08);
				*(fp - 0x08) = (struct Eq_300 **) ecx_105;
			}
l00407C6E:
			ui32 eax_79 = *(fp - 0x14) ^ esi_175;
			globals->dw411731 = globals->dw411731 ^ 4265561;
			edi_176 = (edi_176 ^ esi_175) - eax_79 - 0x252A ^ esi_175;
		} while (edi_176 != ~0x1003);
	}
}

