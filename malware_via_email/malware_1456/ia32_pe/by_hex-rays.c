/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// double __userpurge start@<st0>(int@<eax>, int@<edx>, int@<ecx>, int@<ebx>, int@<ebp>, int@<edi>, int@<esi>, double result@<st0>, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int);

//-------------------------------------------------------------------------
// Data declarations

int dword_43A000[512] =
{
  -1876295519,
  88416000,
  324143972,
  -54674222,
  -1848402945,
  1428447186,
  1219118352,
  1947234854,
  -100331399,
  -142640264,
  -1856454801,
  104883664,
  -1046741861,
  139552681,
  -469194541,
  -1219366929,
  242726911,
  1685340709,
  1482178602,
  659925284,
  -267186108,
  1062748721,
  321912193,
  1727631835,
  -2146425817,
  419119872,
  -2131326051,
  -2098528336,
  318443539,
  223078139,
  -2138860551,
  282591612,
  70842442,
  1187544209,
  -269522856,
  1679809007,
  416584479,
  1670618398,
  1130151129,
  353592694,
  -1790754784,
  -652282301,
  -677321676,
  -1396244464,
  -1210358738,
  -1781132798,
  1194126720,
  -426633663,
  1501665866,
  -1368826238,
  1132706212,
  1256472708,
  1602562970,
  -1706367354,
  -2007202037,
  -1833327442,
  -1974171330,
  1764465226,
  -28931262,
  -1931049842,
  -864004848,
  -66669064,
  873983387,
  -355963784,
  -1690891755,
  -328863776,
  1999901911,
  1580933151,
  -1317748727,
  1352337160,
  328216100,
  384340990,
  -740748700,
  -464236145,
  1178646786,
  1678479441,
  -1876731614,
  573456387,
  1109866332,
  84237358,
  -1177495831,
  -1259751200,
  -1712375304,
  -285532011,
  -1833310640,
  374407790,
  1764446837,
  1400349870,
  1256459073,
  1700484282,
  1257149013,
  1645631162,
  1768530007,
  1488561326,
  -462333626,
  1512806986,
  787045244,
  1566313360,
  851203350,
  1751002010,
  283533144,
  1082210368,
  254058726,
  1082457151,
  -124672529,
  1016857503,
  -938008484,
  -933070508,
  1971417605,
  542933363,
  1551852567,
  1651639769,
  1868168041,
  2056645658,
  -596050672,
  -828802928,
  -1039229517,
  -486018173,
  740160769,
  -1332852741,
  -803480028,
  286561567,
  -469016304,
  -467094780,
  1085888823,
  1988005934,
  -469004161,
  7947266,
  1613640377,
  1256675077,
  2116609543,
  315223826,
  112950170,
  -619453404,
  517941779,
  335239711,
  -98335249,
  -1383065243,
  2130884031,
  375676972,
  1174620436,
  630944839,
  66865244,
  543595819,
  1174410362,
  -1848761213,
  402531128,
  -1382817290,
  1164268340,
  1878620182,
  -252168562,
  -1880394209,
  444082724,
  1810230885,
  -333971418,
  -1723395584,
  590543723,
  775951895,
  367997339,
  -1064159242,
  1147182528,
  1109168616,
  1562306318,
  636259871,
  1352483590,
  -1891571180,
  473992080,
  -1483989390,
  -19717055,
  706577604,
  487270500,
  571440880,
  -115515079,
  341896697,
  1117898819,
  1435704381,
  479338712,
  141690088,
  -1977920391,
  -2005172709,
  271588752,
  275524865,
  -2033184665,
  1337233407,
  -1604477618,
  287864897,
  396402154,
  -1763894840,
  -938313151,
  -2123209602,
  2087985244,
  96999269,
  391855740,
  -2039347768,
  408389767,
  -2088165283,
  -1382397311,
  -658367831,
  -1538637767,
  1106154171,
  759326486,
  1764465217,
  1147487150,
  -426591883,
  1180845386,
  -1532073685,
  1245923177,
  1217408538,
  778289225,
  1256459184,
  38576203,
  1924043449,
  -509325955,
  860807938,
  -1871310001,
  1890478379,
  -1146850945,
  -1989005632,
  -1536039565,
  1957576891,
  41519477,
  1991131323,
  -403386761,
  1249436416,
  1995981120,
  -1757937896,
  -535233736,
  -1649910291,
  -785649855,
  -768928668,
  -1494287269,
  1436247909,
  1476406500,
  -786433839,
  1878990756,
  413662655,
  1247672721,
  1708727086,
  -1692755460,
  -669832104,
  107081590,
  -614538,
  -363773237,
  -1458253677,
  1388492292,
  -1057762927,
  -15244030,
  1343356783,
  1709987881,
  1709704426,
  1002478565,
  -359537595,
  935907088,
  325287351,
  1039399760,
  405822452,
  -306559575,
  -1576940554,
  -864185360,
  415761176,
  927800120,
  1427361012,
  -537344056,
  -1127741929,
  -1142000180,
  1140064879,
  -1714916104,
  1293153357,
  -1829759986,
  296957803,
  298331458,
  1949264944,
  1203238619,
  944806700,
  -62140141,
  -1623205858,
  -843460042,
  205571084,
  -1169309550,
  40755703,
  402979008,
  219205733,
  -440993975,
  -1403656338,
  1310032133,
  -2028733484,
  981179358,
  553653264,
  1694024706,
  -832111742,
  83564253,
  406456096,
  -610752040,
  -2123769146,
  -1885071068,
  1962330891,
  1155547339,
  -534031104,
  802352612,
  1295317199,
  1268591691,
  -1624764664,
  -1368136670,
  -569637523,
  302648598,
  -1108054418,
  -462350628,
  -1725948502,
  945756241,
  -1791374292,
  1402507685,
  -1840219642,
  1465965761,
  1600269029,
  2143289265,
  -1857791077,
  1326508243,
  589571332,
  2024284450,
  157515129,
  -478437576,
  63642443,
  -1086076517,
  -873065165,
  -1069127178,
  951795800,
  1104286712,
  411115328,
  -956510451,
  -1459099895,
  -1687908878,
  1424113613,
  -463651844,
  -1246143701,
  335022509,
  1846213700,
  994049740,
  368677848,
  -1711729962,
  1653477722,
  -1023666597,
  -74461257,
  10174752,
  -352037989,
  474192836,
  2073781779,
  1114180971,
  381915384,
  2087981080,
  884137395,
  1225658945,
  1496896403,
  -1036591979,
  -663868165,
  -1209395727,
  1813842630,
  -1583073297,
  118100950,
  -596101530,
  670949122,
  -123618301,
  -1619479689,
  1390301497,
  -478278949,
  -325648947,
  1270535579,
  -694248487,
  1343256576,
  -504476825,
  243107105,
  -266324272,
  729551406,
  2014575312,
  2125184284,
  1208604722,
  389028245,
  2122092977,
  2067894372,
  377017100,
  306385522,
  1234276895,
  1775000985,
  1553003092,
  605106393,
  43897288,
  1110886521,
  -551301071,
  479531093,
  282339730,
  254095940,
  474470617,
  1873548944,
  725848767,
  1996073090,
  1171519483,
  341186203,
  -728498946,
  1195787244,
  -2072996371,
  1684747788,
  -1841558095,
  -1655526361,
  731091083,
  1817775504,
  187641705,
  -940088761,
  117140151,
  357760760,
  -1828321288,
  1993913390,
  -119084321,
  1795756471,
  1291061788,
  741024178,
  1167971052,
  405170198,
  1725307410,
  1215579065,
  577100046,
  1343772083,
  907491858,
  1177620260,
  221749541,
  -329380334,
  1796395768,
  699537697,
  701996823,
  -743301740,
  -1440984113,
  -1352388606,
  1432693612,
  -1306310932,
  -1232013757,
  554657254,
  -640810909,
  503689795,
  409801579,
  -1865230064,
  -590125812,
  -1643310844,
  1145506017,
  1663484827,
  478280297,
  280005417,
  1226312639,
  -1089512614,
  475867991,
  670585444,
  -614329300,
  651712214,
  856473571,
  -402516387,
  -65277841,
  -268988042,
  483554847,
  -392970009,
  722671471,
  1994091437,
  554111363,
  1142040850,
  542527433,
  420777458,
  -748218348,
  -1720816174,
  476909061,
  1266683237,
  -570462436,
  -1944262554,
  207002381,
  73783083,
  1453307375,
  -1295253752,
  201327980,
  385560580,
  -500488549,
  -151007387,
  4481824,
  46767222,
  -794921232,
  -452617418,
  1527107062,
  1117507849,
  -1659108832,
  -31073299,
  43764379,
  2116276259,
  676816323,
  -1422105955,
  -296065,
  342268702,
  201062849,
  1981274065,
  1651616957,
  1735001112,
  -806317293,
  -239403600,
  1179572113,
  -169339967,
  1707027441,
  1860747529,
  -1895279981,
  -1943941716,
  237084993,
  1749820749,
  767262466,
  1533219615,
  321960200,
  -1118700574,
  -147789380,
  -526694665,
  -1138951311,
  529551969
}; // weak


//----- (00445D20) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
double __userpurge start@<st0>(
        int a1@<eax>,
        int a2@<edx>,
        int a3@<ecx>,
        int a4@<ebx>,
        int a5@<ebp>,
        int a6@<edi>,
        int a7@<esi>,
        double result@<st0>,
        int a9,
        int a10,
        int a11,
        int a12,
        int a13,
        int a14,
        int a15,
        int a16,
        int a17,
        int a18,
        int a19,
        int a20,
        int a21,
        int a22,
        int a23,
        int a24,
        int a25,
        int a26,
        int a27,
        int a28,
        int a29,
        int a30,
        int a31,
        int a32,
        int a33,
        int a34,
        int a35,
        int a36,
        int a37,
        int a38,
        int a39,
        int a40,
        int a41,
        int a42,
        int a43,
        int a44,
        int a45,
        int a46,
        int a47,
        int a48,
        int a49,
        int a50,
        int a51,
        int a52,
        int a53,
        int a54,
        int a55,
        int a56,
        int a57,
        int a58,
        int a59,
        int a60,
        int a61,
        int a62,
        int a63)
{
  int v64; // eax
  int v65; // eax
  int v66; // edx
  int v67; // ecx
  unsigned int v68; // eax
  char v69; // dl
  int *v70; // esi
  int *v71; // edi
  unsigned int v72; // ebp
  char v73; // al
  bool v74; // cf
  int v75; // ebx
  int v76; // ebx
  int v77; // ett
  unsigned int v78; // eax
  bool v79; // cf
  int v80; // ebx
  int v81; // ebx
  int v82; // ett
  bool v83; // zf
  int v84; // ebx
  int v85; // ett
  unsigned int v86; // eax
  unsigned int v87; // eax
  int v88; // eax
  bool v89; // cf
  int v90; // ebx
  int v91; // ebx
  int v92; // ett
  BOOL v93; // ecx
  bool v94; // cf
  int v95; // ebx
  int v96; // ett
  int v97; // ecx
  int v98; // ecx
  bool v99; // cf
  int v100; // ebx
  int v101; // ebx
  int v102; // ett
  bool v103; // zf
  int v104; // ebx
  int v105; // ett
  unsigned int v106; // ecx
  char *v107; // edx
  char v108; // al
  int v109; // eax
  bool v110; // cc
  int *v111; // esi
  char *v112; // edi
  int v113; // ecx
  char v114; // al
  unsigned __int8 v115; // al
  int v116; // eax
  int v117; // eax
  char v118; // t0
  unsigned __int8 v119; // bl
  char *v120; // edi
  int v121; // eax
  int *v122; // ebx
  int v123; // ebp
  char v124; // al
  char *v125; // ecx
  unsigned __int8 v126; // al
  int v127; // eax
  void (__usercall *v128)(int *, int, int, int *); // ebp
  int *v129; // edi
  _DWORD *v130; // ecx
  int v131; // ebx
  int v132; // edi
  int *v133; // eax
  _DWORD *v134; // [esp-Ch] [ebp-B8h]
  _DWORD v135[4]; // [esp-8h] [ebp-B4h] BYREF
  int v136; // [esp+8h] [ebp-A4h] BYREF
  int v137; // [esp+Ch] [ebp-A0h] BYREF
  char *v138; // [esp+10h] [ebp-9Ch]
  int *v139; // [esp+14h] [ebp-98h]
  int v140; // [esp+18h] [ebp-94h]
  int v141; // [esp+1Ch] [ebp-90h]
  int v142; // [esp+20h] [ebp-8Ch]
  int v143; // [esp+24h] [ebp-88h]
  _DWORD *v144; // [esp+28h] [ebp-84h]
  int v145; // [esp+2Ch] [ebp-80h]
  int v146; // [esp+30h] [ebp-7Ch]
  int v147; // [esp+34h] [ebp-78h]
  _DWORD v148[19]; // [esp+38h] [ebp-74h] BYREF
  int v149; // [esp+84h] [ebp-28h]

  v147 = a7;
  v146 = a6;
  v145 = a5;
  v144 = v148;
  v143 = a4;
  v142 = a3;
  v141 = a2;
  v140 = a1;
  v70 = dword_43A000;
  v71 = &dword_43A000[-58368];
  v139 = &dword_43A000[-58368];
  v72 = -1;
LABEL_4:
  v76 = *v70;
  v74 = (unsigned int)v70++ < 0xFFFFFFFC;
  v77 = v74 + v76;
  v74 = __CFADD__(v74, v76) | __CFADD__(v76, v77);
  v75 = v76 + v77;
  while ( v74 )
  {
    v73 = *(_BYTE *)v70;
    v70 = (int *)((char *)v70 + 1);
    *(_BYTE *)v71 = v73;
    v71 = (int *)((char *)v71 + 1);
LABEL_3:
    v74 = __CFADD__(v75, v75);
    v75 *= 2;
    if ( !v75 )
      goto LABEL_4;
  }
  v78 = 1;
  while ( 1 )
  {
    v79 = __CFADD__(v75, v75);
    v80 = 2 * v75;
    if ( !v80 )
    {
      v81 = *v70;
      v74 = (unsigned int)v70++ < 0xFFFFFFFC;
      v82 = v74 + v81;
      v79 = __CFADD__(v74, v81) | __CFADD__(v81, v82);
      v80 = v81 + v82;
    }
    v78 += v79 + v78;
    v74 = __CFADD__(v80, v80);
    v83 = 2 * v80 == 0;
    v75 = 2 * v80;
    if ( v74 )
    {
      if ( !v83 )
        break;
      v84 = *v70;
      v74 = (unsigned int)v70++ < 0xFFFFFFFC;
      v85 = v74 + v84;
      v74 = __CFADD__(v74, v84) | __CFADD__(v84, v85);
      v75 = v84 + v85;
      if ( v74 )
        break;
    }
  }
  v74 = v78 < 3;
  v86 = v78 - 3;
  if ( v74 )
  {
LABEL_15:
    v89 = __CFADD__(v75, v75);
    v90 = 2 * v75;
    if ( !v90 )
    {
      v91 = *v70;
      v74 = (unsigned int)v70++ < 0xFFFFFFFC;
      v92 = v74 + v91;
      v89 = __CFADD__(v74, v91) | __CFADD__(v91, v92);
      v90 = v91 + v92;
    }
    v93 = v89;
    v94 = __CFADD__(v90, v90);
    v75 = 2 * v90;
    if ( !v75 )
    {
      v95 = *v70;
      v74 = (unsigned int)v70++ < 0xFFFFFFFC;
      v96 = v74 + v95;
      v94 = __CFADD__(v74, v95) | __CFADD__(v95, v96);
      v75 = v95 + v96;
    }
    v97 = v93 + v94 + v93;
    if ( !v97 )
    {
      v98 = 1;
      while ( 1 )
      {
        v99 = __CFADD__(v75, v75);
        v100 = 2 * v75;
        if ( !v100 )
        {
          v101 = *v70;
          v74 = (unsigned int)v70++ < 0xFFFFFFFC;
          v102 = v74 + v101;
          v99 = __CFADD__(v74, v101) | __CFADD__(v101, v102);
          v100 = v101 + v102;
        }
        v98 += v99 + v98;
        v74 = __CFADD__(v100, v100);
        v103 = 2 * v100 == 0;
        v75 = 2 * v100;
        if ( v74 )
        {
          if ( !v103 )
            break;
          v104 = *v70;
          v74 = (unsigned int)v70++ < 0xFFFFFFFC;
          v105 = v74 + v104;
          v74 = __CFADD__(v74, v104) | __CFADD__(v104, v105);
          v75 = v104 + v105;
          if ( v74 )
            break;
        }
      }
      v97 = v98 + 2;
    }
    v106 = (v72 < 0xFFFFF300) + v97 + 1;
    v107 = (char *)v71 + v72;
    if ( v72 <= 0xFFFFFFFC )
    {
      do
      {
        v109 = *(_DWORD *)v107;
        v107 += 4;
        *v71++ = v109;
        v110 = v106 <= 4;
        v106 -= 4;
      }
      while ( !v110 );
      v71 = (int *)((char *)v71 + v106);
    }
    else
    {
      do
      {
        v108 = *v107++;
        *(_BYTE *)v71 = v108;
        v71 = (int *)((char *)v71 + 1);
        --v106;
      }
      while ( v106 );
    }
    goto LABEL_3;
  }
  v87 = v86 << 8;
  LOBYTE(v87) = *(_BYTE *)v70;
  v70 = (int *)((char *)v70 + 1);
  v88 = ~v87;
  if ( v88 )
  {
    v72 = v88;
    goto LABEL_15;
  }
  v111 = v139;
  v112 = (char *)(v139 + 7168);
  v113 = 82;
LABEL_33:
  v114 = *v112++;
  v115 = v114 + 24;
  do
  {
    if ( v115 > 1u || *v112 )
      goto LABEL_33;
    v116 = *(_DWORD *)v112;
    LOWORD(v116) = BYTE1(*(_DWORD *)v112);
    v117 = __ROL4__(v116, 16);
    v118 = v117;
    LOBYTE(v117) = BYTE1(v117);
    BYTE1(v117) = v118;
    v119 = v112[4] + 24;
    *(_DWORD *)v112 = (char *)v111 + v117 - (_DWORD)v112;
    v112 += 5;
    v115 = v119;
    --v113;
  }
  while ( v113 );
  v120 = (char *)(v111 + 68608);
  while ( 1 )
  {
    v121 = *(_DWORD *)v120;
    if ( !*(_DWORD *)v120 )
      break;
    v122 = (int *)((char *)v111 + *((_DWORD *)v120 + 1));
    v120 += 8;
    v123 = ((int (__cdecl *)(int, int, int, int, int, _DWORD *, int, int, int))v111[71190])(
             (int)v111 + v121 + 284580,
             v140,
             v141,
             v142,
             v143,
             v144,
             v145,
             v146,
             v147);
    while ( 1 )
    {
      v124 = *v120++;
      if ( !v124 )
        break;
      v125 = v120;
      v138 = v120;
      v126 = v124 - 1;
      do
      {
        if ( !v125 )
          break;
        v83 = *v120++ == (char)v126;
        --v125;
      }
      while ( !v83 );
      v127 = ((int (__cdecl *)(int, char *))v111[71191])(v123, v138);
      if ( !v127 )
      {
        v121 = ((int (*)(void))v111[71195])();
        goto LABEL_47;
      }
      *v122++ = v127;
    }
  }
LABEL_47:
  v128 = (void (__usercall *)(int *, int, int, int *))v111[71192];
  v129 = v111 - 1024;
  v136 = v121;
  v128(v111 - 1024, 4096, 4, &v136);
  *((_BYTE *)v129 + 479) &= ~0x80u;
  *((_BYTE *)v129 + 519) &= ~0x80u;
  ((void (__cdecl *)(int *, int, _DWORD, _DWORD *))v128)(v111 - 1024, 4096, v135[0], v135);
  v130 = v134;
  v131 = v135[0];
  v132 = v135[3];
  v133 = &v137 - 32;
  do
    v136 = 0;
  while ( &v136 != v133 );
  while ( 1 )
  {
    v64 = (*(int (__usercall **)@<eax>(_DWORD *@<ecx>, double@<st0>))((char *)v133 + 65))(v130, result);
    v149 = (unsigned __int16)__ES__;
    *(_BYTE *)(v64 + 70) = __ROL1__(*(_BYTE *)(v64 + 70), 46);
    v65 = MEMORY[0x5240496A](v149) + 1;
    v130 = (_DWORD *)(v67 - 1);
    if ( !v130 )
    {
      MEMORY[0xE8EB005F] = __SS__;
      *(_DWORD *)v131 ^= v132;
      *(_BYTE *)(v65 >> 31) ^= (unsigned __int16)(v65 >> 31) >> 8;
      JUMPOUT(0x4408C9);
    }
    v68 = (v65 & 0x544F2075) - 470710528;
    if ( __SETP__(v68, 0) )
      break;
    *(_BYTE *)(v131 + 8) &= BYTE1(v131);
    v148[18] = (unsigned __int16)__CS__;
    *(_DWORD *)(v66 + 46982365) |= v131;
    v133 = (int *)(v68 + 1);
  }
  v69 = v149;
  if ( v68 <= 0xDAEA2F92 )
    JUMPOUT(0x4408C5);
  v74 = __CFSHL__(*v130, 28);
  *v130 <<= 28;
  v83 = *(_BYTE *)(v131 + 6) == (unsigned __int8)(v74 + v68);
  *(_BYTE *)(v131 + 6) -= v74 + v68;
  if ( v83 )
    JUMPOUT(0x4408BF);
  *(_BYTE *)v130 &= v69;
  return result;
}
// 4408C4: positive sp value 74 has been found
// 4408C4: control flows out of bounds to 4408C9
// 4408FD: control flows out of bounds to 4408C5
// 440906: control flows out of bounds to 4408BF
// 445D20: could not find valid save-restore pair for ebx
// 445D20: could not find valid save-restore pair for ebp
// 445D20: could not find valid save-restore pair for edi
// 440881: variable 'v66' is possibly undefined
// 44089D: variable 'v67' is possibly undefined
// 445D20: too many input arguments, some ignored
// 43A000: using guessed type int dword_43A000[512];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
