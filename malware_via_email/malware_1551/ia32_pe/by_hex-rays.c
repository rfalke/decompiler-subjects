/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// char __usercall start@<al>(int a1@<eax>, __int16 a2@<dx>, unsigned int a3@<ecx>, int a4@<ebx>, int a5@<edi>, int a6@<esi>);


//----- (00401237) --------------------------------------------------------
char __usercall start@<al>(int a1@<eax>, __int16 a2@<dx>, unsigned int a3@<ecx>, int a4@<ebx>, int a5@<edi>, int a6@<esi>)
{
  int v7; // esi
  int v8; // edx
  unsigned __int8 v11; // dh
  _BYTE *v13; // edx
  int v14; // eax
  bool v15; // cf
  bool v16; // of
  bool v17; // tt
  int v18; // eax
  __int16 v19; // cx
  int v20; // esi
  char v21; // cc
  int v24; // edx
  unsigned int v25; // esi
  unsigned int v26; // edx
  unsigned int v28; // ecx
  __int16 v29; // dx
  unsigned int v35; // esi
  int v36; // ecx
  bool v37; // cc
  _BYTE *v38; // ecx
  char v42; // of
  char v43; // cl
  int v44; // esi
  _BYTE *v49; // eax

  v15 = a3 < 0x376D945B;
  v28 = a3 - 929928283;
  v29 = a2 - v28;
  v35 = (a1 + (a4 ^ ((a5 | a6) + 1241375061))) | 0xD7FB7A65;
  v36 = v28 - 1906043909 + 1;
  v37 = ((v15 + a5 - 1246100463) | 0x15E627DCu) < 0xFC6787F0 || v36 == -1;
  v38 = (_BYTE *)(v36 + 1);
  if ( !v37 && v37 )
  {
    *v38 += 64;
    __asm { jmp     dword ptr [eax] }
  }
  v20 = a1 + v35;
  ++BYTE1(a4);
  LOBYTE(a4) = a4 - ((unsigned __int16)(v29 - 18118) >> 8);
  _EAX = a4 ^ a1;
  v21 = (_EAX < 0) ^ v16;
  LOBYTE(_EAX) = BYTE1(a4);
  if ( v21 || !v21 )
  {
    _ECX = _EAX;
    LOBYTE(_EAX) = __ROR1__(BYTE1(a4), 8);
    BYTE1(_EAX) = (unsigned __int8)(BYTE1(_ECX) | __ROR1__(BYTE1(_EAX), SBYTE1(a4))) >> _ECX;
    BYTE1(a4) |= _EAX;
    BYTE1(_ECX) = -BYTE1(_ECX);
    v44 = v20 - 596413859;
    _EBX = v44 ^ a4;
    LOBYTE(_ECX) = 59;
    BYTE1(_EAX) ^= 0x25u;
    LOBYTE(_EBX) = BYTE1(_EBX) ^ (_EBX - 1) ^ 0x22;
    __asm { rcr     bh, cl }
    v7 = v44 + 1489358382;
    v8 = 1472781957;
    __asm { rcr     ch, cl }
    BYTE1(_EBX) = _EAX;
    if ( __SETP__(1472781957, 0) || !__SETP__(1472781957, 0) )
    {
      __asm { fnclex }
      _ECX = 0;
      do
      {
        __asm { smsw    eax }
        if ( ++_ECX == 2 )
          return _EAX;
      }
      while ( (_EAX & 8) != 0 );
      do
        __asm { smsw    eax }
      while ( (_EAX & 2) == 0 );
      _DH = __ROR1__(-34, 25);
      BYTE1(_ECX) = 117;
      __asm { rcr     ch, cl }
      _EAX = 0;
      _ECX = -1176962856;
      BYTE1(_EBX) &= 0x98u;
      __asm { rcr     dh, cl }
      LOBYTE(_ECX) = __ROL1__(-40, 13);
      __asm { rcl     bl, cl }
      _EBX = _EBX - 1;
      v8 = 0;
      _ECX = _ECX | 0xCE7EB64D;
      LOBYTE(_EBX) = __ROL1__(_EBX, _ECX);
      BYTE1(_EBX) = __ROR1__(BYTE1(_EBX), _ECX);
      __asm { rcr     bl, cl }
      LOBYTE(_ECX) = _ECX - 1;
      LOBYTE(_ECX) = _EBX | _ECX;
      v7 -= _EBX;
      __asm { int     2Eh; DOS 2+ internal - EXECUTE COMMAND }
      _ECX = _ECX ^ 0x23A9DA09;
      LOBYTE(_EBX) = (_BYTE)_EBX << _ECX;
      if ( ((_EBX & 0x80u) != 0) != v42 || ((_EBX & 0x80u) != 0) == v42 )
      {
        v43 = _ECX & 0xAD;
        LOBYTE(_EAX) = MEMORY[0xFFFFFFFF];
        if ( _EAX != -1073741778 )
        {
          _BL = (((unsigned __int8)(v7 + 104) | 0xCB) + 70) << v43;
          _DL = __ROR1__(v43, 20);
          _CL = _BL | v43;
          __asm
          {
            rcr     bl, cl
            rcr     dl, cl
          }
          JUMPOUT(0x401033);
        }
        JUMPOUT(0x4013A3);
      }
      LOBYTE(_ECX) = MEMORY[0] + _ECX;
      ++*(_DWORD *)_ECX;
    }
    else
    {
      *(_BYTE *)_EAX |= _EAX;
      v11 = __ROL1__(8, 28);
      BYTE1(v8) = (v11 < BYTE1(_EAX)) + v11 - BYTE1(_EAX) - 12;
      LOBYTE(_EAX) = 1;
      LOBYTE(_ECX) = BYTE1(_ECX) - 112;
      _EBX = 672580270;
    }
    BYTE1(v8) |= _EBX;
    LOBYTE(_ECX) = _ECX - BYTE1(v8);
    BYTE1(_ECX) = _EAX | 0xFE;
    v24 = _ECX + v8 + 798793477;
    v25 = v7 - 1;
    BYTE1(v24) |= (unsigned __int8)_EAX | 0xFE;
    BYTE1(_EBX) ^= 0x5Bu;
    BYTE1(_ECX) = ~(_EAX | 0xFE);
    v26 = _EBX + v24;
    LOBYTE(_EBX) = v26 | _EBX;
    HIWORD(_EAX) = 17252;
    LOBYTE(v26) = v26 + 1;
    BYTE1(_EAX) = -64 << _ECX;
    LOBYTE(_EAX) = 4;
    v15 = v26 < v25;
    v13 = (_BYTE *)(v26 - v25);
    v14 = v15 + _EAX - 1164589535;
    BYTE1(_EBX) = 64 << _ECX;
    LOBYTE(v14) = v14 + 1;
    if ( !__SETP__(v14, 0) && __SETP__(v14, 0) )
    {
      *v13 = *v13;
      *(_DWORD *)(_EBX + 1088064472) += _ECX;
      LOBYTE(v14) = v14 & 0x32;
      __asm { rcr     cl, cl }
      v15 = __CFADD__((_BYTE)v13, 95);
      v16 = __OFADD__(95, (_BYTE)v13);
      LOBYTE(v13) = (_BYTE)v13 + 95;
      if ( !v16 && v16 )
      {
        v17 = v15;
        v15 = __CFADD__(v15, *v13) | __CFADD__((_BYTE)v14, v15 + *v13);
        *v13 += v14 + v17;
        *(_BYTE *)(v14 + 32) += v14 + v15;
        v18 = v14 - (__CFADD__(BYTE1(_ECX), BYTE1(v13)) - 2137510603);
        HIBYTE(v19) = v18 | BYTE1(_ECX);
        LOBYTE(v18) = v18 - 59;
        LOBYTE(v19) = (unsigned __int8)~(_BYTE)_ECX >> ~(_BYTE)_ECX;
        LOBYTE(v19) = (unsigned __int8)v19 >> v19;
        BYTE1(v18) |= (unsigned __int16)(v18 + v19) >> 8;
        v49 = (_BYTE *)(v18 - 902389551);
        if ( !__SETP__(v49, 0) && __SETP__(v49, 0) )
        {
          *v49 &= (unsigned __int8)v49;
          JUMPOUT(0x401488);
        }
        JUMPOUT(0x40115F);
      }
      JUMPOUT(0x40134B);
    }
    _BH = BYTE1(_EBX) - (BYTE1(v13) ^ (unsigned __int8)v13);
    _CL = __ROL1__(
            (BYTE1(v13) + (_BYTE)_ECX - (__CFADD__(BYTE1(v14), -68) + 125)) << (BYTE1(v13)
                                                                              + _ECX
                                                                              - (__CFADD__(BYTE1(v14), -68)
                                                                               + 125)),
            (BYTE1(v13) + (_BYTE)_ECX - (__CFADD__(BYTE1(v14), -68) + 125)) << (BYTE1(v13)
                                                                              + _ECX
                                                                              - (__CFADD__(BYTE1(v14), -68)
                                                                               + 125)));
    __asm
    {
      rcl     bh, cl
      rcl     bh, cl
    }
    JUMPOUT(0x40108D);
  }
  *(_BYTE *)(2 * _EAX) += BYTE1(a4);
  return _EAX;
}
// 401167: control flows out of bounds to 401169
// 401234: control flows out of bounds to 401236
// 401485: control flows out of bounds to 401488
// 40127C: control flows out of bounds to 401033
// 4010F4: control flows out of bounds to 4013A3
// 4012D7: control flows out of bounds to 40108D
// 4010A0: control flows out of bounds to 40134B
// 401165: control flows out of bounds to 40113A
// 401479: control flows out of bounds to 40115F
// 401053: conditional instruction was optimized away because of 'ch.1>=4u'
// 401059: conditional instruction was optimized away because of 'ch.1>=4u'
// 40114C: conditional instruction was optimized away because of 'dl.1==85'
// 401152: conditional instruction was optimized away because of 'dl.1==85'
// 401332: conditional instruction was optimized away because of 'edx.4==0'
// 40133B: conditional instruction was optimized away because of 'edx.4==0'
// 401341: conditional instruction was optimized away because of 'edx.4==0'
// 401396: conditional instruction was optimized away because of 'ebx.4>=1'
// 40111C: variable 'v16' is possibly undefined
// 4012F1: variable 'v42' is possibly undefined

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
