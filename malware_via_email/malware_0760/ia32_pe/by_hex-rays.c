/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall sub_401006(int@<eax>);
int sub_401041();
// void __usercall sub_4010B4(int@<eax>, int@<ecx>, int@<ebx>, int@<edi>);
// void __usercall sub_401108(int@<ecx>, int@<edi>, int@<esi>);
// void __usercall sub_401120(int@<edx>, int@<ebx>, int@<edi>, int@<esi>);
// int __usercall sub_40114E@<eax>(int@<ebx>, int@<esi>, int@<ecx>, int@<edi>);
// int __usercall sub_401169@<eax>(int@<edx>, int@<ecx>, int@<ebx>, int@<edi>, int@<esi>, int@<eax>);
// int __usercall sub_401188@<eax>(int@<eax>, int@<ecx>, int@<ebx>, int@<edi>);
void sub_4011A5();
// void __usercall sub_4011D5(int@<eax>, int@<edx>, int@<ecx>, __int32@<edi>);
// void __usercall sub_401275(int@<eax>, int@<ecx>, __int32@<edi>);
// void __usercall sub_40139B(int@<eax>, int@<ecx>, int@<ebx>, int@<edi>);
// void __usercall sub_401411(int@<edx>, int@<ecx>, int@<edi>);
// void __usercall sub_4014E8(char@<al>, int@<ecx>);
// void __usercall sub_401527(int@<edx>, int@<ecx>, int@<esi>);
// int __usercall sub_4015ED@<eax>(int@<ecx>, int@<edi>);
int sub_401602();
// void __usercall sub_401693(char@<ah>, int@<edx>, int@<ecx>);
// int __usercall sub_40244F@<eax>(int@<ecx>, int@<edx>, int@<ebx>, int@<edi>, int@<ebp>);
// int __usercall sub_40246A@<eax>(char@<dl>, int@<ecx>, __int32@<ebx>, char@<dil>, int@<ebp>);
// int __usercall sub_402486@<eax>(__int32@<edx>, int@<ecx>, int@<ebp>);
// void __usercall sub_40249F(int@<ebp>);
// void __usercall sub_4024B8(int@<ebp>);
void sub_4024FA();
// void __usercall sub_40258C(int@<eax>, int@<edx>, __int16@<cx>, int@<edi>, int@<esi>);
// void __usercall sub_40260F(int@<edx>, __int32@<edi>, int@<esi>);
// void __usercall sub_40264D(int@<eax>, __int32@<edi>, int@<edx>, __int16@<cx>, int@<esi>);
// void __usercall sub_40271A(int@<edx>, int@<ecx>, __int32@<edi>);
void sub_402734();
// void __usercall sub_402840(char@<al>, int@<edx>, int@<ecx>, int@<ebx>, int@<ebp>);
void __fastcall sub_402860(int, __int16);
void sub_4028C4();
void __fastcall sub_402957(int, __int16);
void __fastcall sub_40297C(int, __int16);
void __fastcall sub_402996(int, __int16);
// void __usercall sub_402A10(int@<eax>, int@<edx>, unsigned int@<ecx>, __int16@<bx>);
void sub_402A91();
// void __usercall sub_402AD8(int@<edx>, __int16@<cx>, __int16@<bx>, int@<edi>, int@<esi>);
// void __usercall sub_402AEE(__int16@<ax>, int@<edx>, int@<ecx>, __int16@<bx>, int@<edi>, int@<esi>);
// void __usercall sub_402B22(int@<eax>, __int32@<edi>, int@<edx>, int@<ecx>);
// void __usercall sub_402BE5(int@<eax>, __int32@<edx>, int@<ecx>, __int16@<bx>, int@<edi>);
// void __usercall sub_402C47(int@<eax>, __int16@<cx>, __int16@<bx>, int@<edi>, int@<esi>);
// void __usercall sub_402C68(char@<al>, int@<edx>, __int16@<cx>, __int16@<bx>, int@<edi>, int@<esi>);
// int __usercall sub_402CF1@<eax>(__int32@<edx>, int _ECX@<ecx>, int@<ebp>);
void __fastcall sub_402DB1(int, char);
void sub_402DD3();
// void __usercall sub_402E0E(__int32@<edi>);
int sub_402E5F();
// void __usercall sub_402E9A(int@<edx>, unsigned int@<ecx>, char@<bl>);
// void __usercall sub_402EE8(__int32@<edi>, __int32@<esi>);
void sub_402F27();
void sub_402F46();
void sub_402FA5();
void sub_402FDD();
void sub_403013();
void sub_403068();
void __fastcall sub_40309E(int, int);
void sub_403145();
// void __usercall sub_403182(int@<ebp>);
// void __usercall sub_4031D6(__int32@<ebx>);
void __fastcall sub_40320B(int, int);
void sub_40322C();
// void __usercall sub_403289(int@<edx>, __int16@<cx>, int@<edi>);
void sub_403305();
void sub_403322();
// void __usercall sub_40333D(int@<eax>, int@<edx>, int@<ecx>, __int16@<bx>, int@<edi>, int@<esi>);
// int __usercall sub_40339C@<eax>(int@<edx>, __int16@<cx>, __int16@<bx>);

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN loc_40107B; // weak
_UNKNOWN loc_401093; // weak
_UNKNOWN loc_401221; // weak
_UNKNOWN loc_401344; // weak
_UNKNOWN loc_401378; // weak
_UNKNOWN loc_401445; // weak
_UNKNOWN loc_4014CF; // weak
_UNKNOWN loc_401544; // weak
_UNKNOWN loc_40157E; // weak
_UNKNOWN loc_40167A; // weak
_UNKNOWN loc_402434; // weak
_UNKNOWN loc_402513; // weak
_UNKNOWN loc_402550; // weak
_UNKNOWN loc_402571; // weak
_UNKNOWN loc_40266B; // weak
_UNKNOWN loc_402688; // weak
_UNKNOWN loc_4026AA; // weak
_UNKNOWN loc_4026C6; // weak
_UNKNOWN loc_4026DE; // weak
_UNKNOWN loc_4026FB; // weak
_UNKNOWN loc_402754; // weak
_UNKNOWN loc_402872; // weak
_UNKNOWN loc_402919; // weak
_UNKNOWN loc_402937; // weak
_UNKNOWN loc_402A70; // weak
_UNKNOWN loc_402ABC; // weak
_UNKNOWN loc_402B81; // weak
_UNKNOWN loc_402CBE; // weak
_UNKNOWN loc_402D36; // weak
_UNKNOWN loc_402E21; // weak
_UNKNOWN loc_402E3C; // weak
_UNKNOWN loc_402E7D; // weak
_UNKNOWN loc_402F66; // weak
_UNKNOWN loc_4030E6; // weak
_UNKNOWN loc_403194; // weak
_UNKNOWN loc_403266; // weak


//----- (00401006) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401006(int a1@<eax>)
{
  ((void (__thiscall *)(int))loc_401344)(a1);
  MEMORY[0x44CFF84B]();
  JUMPOUT(0x401026);
}
// 40100A: positive sp value 4 has been found
// 401021: control flows out of bounds to 401026

//----- (00401041) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int sub_401041()
{
  sub_401602();
  return MEMORY[0x24648DE8]();
}
// 401045: positive sp value 4 has been found

//----- (004010B4) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4010B4(int a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>)
{
  sub_401188(a1, a2, a3 + 2, ((a3 + 2) ^ a1 ^ (a2 | a4)) - 1);
  JUMPOUT(0x4010CE);
}
// 4010B8: positive sp value 4 has been found
// 4010C9: control flows out of bounds to 4010CE

//----- (00401108) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401108(int a1@<ecx>, int a2@<edi>, int a3@<esi>)
{
  int v3; // edi
  int v4; // edx

  v3 = a1 | a2;
  sub_401041();
  MEMORY[0xE93FF994]();
  sub_401120(v4, 0, v3, a3 + 2);
}
// 40110C: positive sp value 4 has been found
// 40111C: variable 'v4' is possibly undefined

//----- (00401120) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401120(int a1@<edx>, int a2@<ebx>, int a3@<edi>, int a4@<esi>)
{
  int v4; // esi
  int v5; // ebx
  int v6; // eax
  int v7; // ecx
  char v8; // zf
  void *v9; // [esp+28h] [ebp-4h]
  void *retaddr; // [esp+2Ch] [ebp+0h]

  *(&retaddr - 12) = v9;
  v4 = a4 - 2;
  v5 = a1 + a3 + a2;
  sub_4011A5();
  v6 = MEMORY[0xE8B48634]();
  if ( !v8 )
    JUMPOUT(0x401137);
  sub_4010B4(v6, v4 + v7, (v4 + v7) ^ v5, a3);
  if ( !v8 )
    JUMPOUT(0x4011B7);
  JUMPOUT(0x4011DC);
}
// 401124: positive sp value 4 has been found
// 401135: control flows out of bounds to 401137
// 4011B5: control flows out of bounds to 4011B7
// 4011B5: control flows out of bounds to 4011DC
// 401135: variable 'v8' is possibly undefined
// 4011AB: variable 'v7' is possibly undefined

//----- (0040114E) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_40114E@<eax>(int a1@<ebx>, int a2@<esi>, int a3@<ecx>, int a4@<edi>)
{
  int v4; // esi
  int v5; // ebx
  __int64 v6; // rax
  int v7; // ecx
  void *v9; // [esp+1Ch] [ebp-4h]
  void *retaddr; // [esp+20h] [ebp+0h]

  *(&retaddr - 9) = v9;
  v4 = a2 ^ a1;
  v5 = a3 ^ v4;
  v6 = ((__int64 (__thiscall *)(int))((char *)&loc_401544 + 4))(v4 + 1);
  return sub_401169(SHIDWORD(v6), v7, v5, a4 - v4, v5 ^ v4, v6 & 0xE8FFE8E8);
}
// 401152: positive sp value 4 has been found
// 401165: variable 'v7' is possibly undefined

//----- (00401169) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_401169@<eax>(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>, int a6@<eax>)
{
  int v6; // ecx
  int v7; // edx
  int v8; // ebx
  int v9; // eax
  int v10; // ecx
  char v11; // zf
  void *v13; // [esp+18h] [ebp-4h]
  void *retaddr; // [esp+1Ch] [ebp+0h]

  *(&retaddr - 8) = v13;
  v6 = a4 + a2;
  v7 = v6 ^ (a3 + a1);
  v8 = a6 ^ (a4 | a3);
  v9 = ((int (__fastcall *)(int, int))((char *)&loc_40157E + 1))(a5 | v6, v7 + 1);
  if ( v11 )
    JUMPOUT(0x40116B);
  return sub_401188(v9 & 0xFF74FF25, v10, v8, a4);
}
// 40116D: positive sp value 4 has been found
// 401181: control flows out of bounds to 40116B
// 401181: variable 'v11' is possibly undefined
// 401184: variable 'v10' is possibly undefined

//----- (00401188) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_401188@<eax>(int a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>)
{
  int v4; // ecx
  int v5; // ebx

  v4 = a4 + a2;
  v5 = v4 + a3;
  LOBYTE(v4) = a1;
  LOBYTE(v5) = 31;
  sub_40139B(a1, v4, v5, a1 ^ a4);
  return MEMORY[0x2574E874]();
}
// 40118C: positive sp value 4 has been found

//----- (004011A5) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4011A5()
{
  void *v0; // [esp+8h] [ebp-4h]
  void *retaddr; // [esp+Ch] [ebp+0h]

  *(&retaddr - 4) = v0;
  JUMPOUT(0x4011AB);
}
// 4011A9: positive sp value 4 has been found
// 4011AA: control flows out of bounds to 4011AB

//----- (004011D5) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4011D5(int a1@<eax>, int a2@<edx>, int a3@<ecx>, __int32 a4@<edi>)
{
  int v4; // [esp-8h] [ebp-Ch]
  __int32 v5; // [esp-4h] [ebp-8h] BYREF

  _InterlockedExchange(&v5, a4);
  sub_401108(a3 - (a1 ^ v4) - a2, a2, v5);
  JUMPOUT(0x4011F3);
}
// 4011E4: positive sp value 8 has been found
// 4011EE: control flows out of bounds to 4011F3
// 4011DC: variable 'v4' is possibly undefined

//----- (00401275) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401275(int a1@<eax>, int a2@<ecx>, __int32 a3@<edi>)
{
  __int32 v3; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v3, a3);
  ((void (__thiscall *)(int))((char *)&loc_401445 + 1))(a1 ^ a2);
  JUMPOUT(0x40128A);
}
// 40127B: positive sp value 4 has been found
// 401285: control flows out of bounds to 40128A

//----- (0040139B) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40139B(int a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>)
{
  int v4; // ebx
  char v5; // zf
  void *v6; // [esp+24h] [ebp-4h]
  void *retaddr; // [esp+28h] [ebp+0h]

  *(&retaddr - 11) = v6;
  v4 = a4 | a3;
  LOBYTE(a2) = BYTE1(a1) - v4;
  sub_401275(a1, (v4 ^ a2) - v4 + 1, 1);
  MEMORY[0xE928FC2F]();
  if ( !v5 )
  {
    MEMORY[0x464784F]();
    JUMPOUT(0x4013C2);
  }
  JUMPOUT(0x4013BC);
}
// 40139F: positive sp value 4 has been found
// 4013BD: control flows out of bounds to 4013C2
// 4013BB: control flows out of bounds to 4013BC
// 4013BB: variable 'v5' is possibly undefined

//----- (00401411) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401411(int a1@<edx>, int a2@<ecx>, int a3@<edi>)
{
  void *v3; // [esp+18h] [ebp-4h]
  void *retaddr; // [esp+1Ch] [ebp+0h]

  *(&retaddr - 8) = v3;
  ((void (__fastcall *)(int, int))loc_401093)(a3 + a2, a1 + 1);
  MEMORY[0x263FFD28]();
  MEMORY[0x24449DA2]();
  JUMPOUT(0x40142E);
}
// 401415: positive sp value 4 has been found
// 401429: control flows out of bounds to 40142E

//----- (004014E8) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4014E8(char a1@<al>, int a2@<ecx>)
{
  int v2; // ecx

  v2 = a2 + 1;
  BYTE1(v2) += a1;
  ((void (__thiscall *)(int))((char *)&loc_401221 + 2))(v2);
  MEMORY[0xE93F8A04]();
  JUMPOUT(0x401505);
}
// 4014EC: positive sp value 4 has been found
// 401500: control flows out of bounds to 401505

//----- (00401527) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401527(int a1@<edx>, int a2@<ecx>, int a3@<esi>)
{
  char v3; // zf
  void *v4; // [esp+10h] [ebp-4h]
  void *retaddr; // [esp+14h] [ebp+0h]

  *(&retaddr - 6) = v4;
  ((void (__fastcall *)(int, int))loc_401378)(a2 + 24, a3 ^ a1);
  if ( !v3 )
    JUMPOUT(0x401549);
  JUMPOUT(0x401543);
}
// 40152B: positive sp value 4 has been found
// 401544: control flows out of bounds to 401549
// 401542: control flows out of bounds to 401543
// 401542: variable 'v3' is possibly undefined

//----- (004015ED) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_4015ED@<eax>(int a1@<ecx>, int a2@<edi>)
{
  ((void (__thiscall *)(int))loc_40107B)(a2 ^ a1);
  return sub_401602();
}
// 4015F2: positive sp value 4 has been found

//----- (00401602) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int sub_401602()
{
  void *v1; // [esp+2Ch] [ebp-4h]
  void *retaddr; // [esp+30h] [ebp+0h]

  *(&retaddr - 13) = v1;
  ((void (*)(void))loc_4014CF)();
  return MEMORY[0xE9240489]();
}
// 401606: positive sp value 4 has been found

//----- (00401693) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401693(char a1@<ah>, int a2@<edx>, int a3@<ecx>)
{
  int v3; // edi

  v3 = a2;
  LOBYTE(a2) = a1;
  ((void (__thiscall *)(int))loc_40167A)(a3 - (a2 | v3));
  JUMPOUT(0x4016BB);
}
// 401697: positive sp value 4 has been found
// 4016B6: control flows out of bounds to 4016BB

//----- (0040244F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_40244F@<eax>(int a1@<ecx>, int a2@<edx>, int a3@<ebx>, int a4@<edi>, int a5@<ebp>)
{
  int v5; // edx
  char v6; // dl
  int v7; // ecx

  LOBYTE(a2) = BYTE1(a1) + a2;
  v5 = a2 - a1;
  BYTE1(v5) = -BYTE1(v5);
  ((void (__fastcall *)(int, int))((char *)&loc_4030E6 + 4))(a1, v5 - 1);
  MEMORY[0xE9290D69]();
  return sub_40246A(v6, v7, a4 ^ a3, a4 ^ a3 | a4, a5);
}
// 402453: positive sp value 4 has been found
// 402466: variable 'v6' is possibly undefined
// 402466: variable 'v7' is possibly undefined

//----- (0040246A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_40246A@<eax>(char a1@<dl>, int a2@<ecx>, __int32 a3@<ebx>, char a4@<dil>, int a5@<ebp>)
{
  __int32 v5; // edx
  int v6; // ecx
  __int32 v8; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v8, a3);
  sub_402DB1(a2, a1 + 1 - a4);
  MEMORY[0x3F49F8]();
  return sub_402486(v5, v6, a5);
}
// 402470: positive sp value 4 has been found
// 402485: variable 'v5' is possibly undefined
// 402485: variable 'v6' is possibly undefined

//----- (00402486) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_402486@<eax>(__int32 a1@<edx>, int a2@<ecx>, int a3@<ebp>)
{
  sub_402CF1(a1, a2, a3);
  return MEMORY[0x25E874FF]();
}
// 40248A: positive sp value 4 has been found

//----- (0040249F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40249F(int a1@<ebp>)
{
  sub_4028C4();
  MEMORY[0xE93F98DD]();
  sub_4024B8(a1);
}
// 4024A3: positive sp value 4 has been found

//----- (004024B8) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4024B8(int a1@<ebp>)
{
  if ( (((int (*)(void))loc_4026AA)() & 0xFF7425FF) != 0 )
  {
    --*(_DWORD *)(a1 - 1962662812);
    JUMPOUT(0x4024DD);
  }
  JUMPOUT(0x4024FC);
}
// 4024C1: positive sp value 4 has been found
// 4024D7: control flows out of bounds to 4024DD
// 4024D5: control flows out of bounds to 4024FC

//----- (004024FA) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4024FA()
{
  void *v0; // [esp+Ch] [ebp-4h]
  void *retaddr; // [esp+10h] [ebp+0h]

  *(&retaddr - 5) = v0;
  ((void (*)(void))loc_402550)();
  MEMORY[0x8F660E17]();
  JUMPOUT(0x402518);
}
// 4024FE: positive sp value 4 has been found
// 402513: control flows out of bounds to 402518

//----- (0040258C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40258C(int a1@<eax>, int a2@<edx>, __int16 a3@<cx>, int a4@<edi>, int a5@<esi>)
{
  __int16 v5; // bx

  LOBYTE(v5) = a1 + a3;
  HIBYTE(v5) = -((unsigned __int16)(a1 + a3) >> 8);
  sub_402C47(a1, a3, v5, a2 ^ (a5 + a4), a5);
  MEMORY[0x2474AFB0]();
  JUMPOUT(0x4025B9);
}
// 4025B4: positive sp value 8 has been found
// 4025B7: control flows out of bounds to 4025B9

//----- (0040260F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40260F(int a1@<edx>, __int32 a2@<edi>, int a3@<esi>)
{
  __int32 v3; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v3, a2);
  ((void (__fastcall *)(int, int))loc_4026C6)(a1, a3 ^ a1);
  MEMORY[0x8DB50F2E]();
  JUMPOUT(0x40262F);
}
// 402617: positive sp value 4 has been found
// 40262A: control flows out of bounds to 40262F

//----- (0040264D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40264D(int a1@<eax>, __int32 a2@<edi>, int a3@<edx>, __int16 a4@<cx>, int a5@<esi>)
{
  __int32 v5; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v5, a2);
  sub_40258C(a1 + 3341716, a3, a4, a3 | (a1 + 3341716) | v5, a1 + 3341716 + a5 - 1);
  MEMORY[0x8DB49B6F]();
  JUMPOUT(0x402670);
}
// 402653: positive sp value 4 has been found
// 40266B: control flows out of bounds to 402670

//----- (0040271A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40271A(int a1@<edx>, int a2@<ecx>, __int32 a3@<edi>)
{
  __int32 v3; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v3, a3);
  ((void (__fastcall *)(int, __int32))((char *)&loc_402872 + 4))(a2, a2 ^ (a1 - v3));
  sub_402734();
}
// 402720: positive sp value 4 has been found

//----- (00402734) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402734()
{
  void *v0; // [esp+1Ch] [ebp-4h]
  void *retaddr; // [esp+20h] [ebp+0h]

  *(&retaddr - 9) = v0;
  if ( (((int (__cdecl *)(int))((char *)&loc_402A70 + 5))(4204351) & 0xFFFFFFE8) != 0 )
    JUMPOUT(0x402759);
  JUMPOUT(0x402779);
}
// 402738: positive sp value 4 has been found
// 402754: control flows out of bounds to 402759
// 402752: control flows out of bounds to 402779

//----- (00402840) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402840(char a1@<al>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>)
{
  int v5; // edi
  __int16 v6; // dx
  int v7; // ecx
  int v8; // [esp+18h] [ebp-8h]
  int v9; // [esp+1Ch] [ebp-4h]

  *(&v9 - 9) = v8;
  LOBYTE(a2) = -(char)a2;
  BYTE1(a4) -= a3;
  v5 = (a2 ^ a3) - 1;
  BYTE1(a2) += a1;
  sub_40244F(a3, a2, a4, v5, a5);
  sub_402860(v7, v6);
}
// 402849: positive sp value 8 has been found
// 402840: could not find valid save-restore pair for esi
// 40285C: variable 'v7' is possibly undefined
// 40285C: variable 'v6' is possibly undefined

//----- (00402860) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_402860(int a1, __int16 a2)
{
  LOBYTE(a2) = -(char)a2;
  sub_402996(a1, a2);
  JUMPOUT(0x402877);
}
// 402866: positive sp value 4 has been found
// 402872: control flows out of bounds to 402877

//----- (004028C4) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4028C4()
{
  sub_4024FA();
  JUMPOUT(0x4028E3);
}
// 4028CA: positive sp value 4 has been found
// 4028DE: control flows out of bounds to 4028E3

//----- (00402957) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_402957(int a1, __int16 a2)
{
  __int16 v2; // dx
  int v3; // ecx
  char v4; // zf

  HIBYTE(a2) = -52;
  sub_402860(a1, a2);
  if ( v4 )
    JUMPOUT(0x402975);
  sub_40297C(v3, v2);
}
// 40295F: positive sp value 4 has been found
// 402974: control flows out of bounds to 402975
// 402976: control flows out of bounds to 402977
// 402978: control flows out of bounds to 402979
// 40297A: control flows out of bounds to 4029F0
// 402978: conditional instruction was optimized away because zf.1==0
// 402974: variable 'v4' is possibly undefined
// 40297B: variable 'v3' is possibly undefined
// 40297B: variable 'v2' is possibly undefined

//----- (0040297C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_40297C(int a1, __int16 a2)
{
  __int16 v2; // dx
  int v3; // ecx

  HIBYTE(a2) = -25;
  ((void (__fastcall *)(int, __int16))loc_402937)(a1, a2);
  MEMORY[0xE8654EBB]();
  sub_402996(v3, v2);
}
// 402987: positive sp value 4 has been found
// 402992: variable 'v3' is possibly undefined
// 402992: variable 'v2' is possibly undefined

//----- (00402996) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_402996(int a1, __int16 a2)
{
  void *v2; // [esp+14h] [ebp-4h]
  void *retaddr; // [esp+18h] [ebp+0h]

  *(&retaddr - 7) = v2;
  HIBYTE(a2) = 74;
  sub_40297C(a1, a2);
  JUMPOUT(0x4029B6);
}
// 40299A: positive sp value 4 has been found
// 4029B1: control flows out of bounds to 4029B6

//----- (00402A10) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402A10(int a1@<eax>, int a2@<edx>, unsigned int a3@<ecx>, __int16 a4@<bx>)
{
  int v4; // eax
  int v5; // edx
  void *v6; // [esp+18h] [ebp-4h]
  void *retaddr; // [esp+1Ch] [ebp+0h]

  *(&retaddr - 8) = v6;
  LOBYTE(a2) = a2 - BYTE1(a3);
  BYTE1(a2) -= HIBYTE(a4);
  HIBYTE(a4) += a1;
  v4 = a1 + 1;
  v5 = v4 | a2;
  BYTE1(v5) |= HIBYTE(a4);
  sub_402E9A(v5 - 1, a3, a4 - v4);
  MEMORY[0x75289F2F]();
  MEMORY[0x2444B15A]();
  JUMPOUT(0x402A35);
}
// 402A14: positive sp value 4 has been found
// 402A30: control flows out of bounds to 402A35

//----- (00402A91) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402A91()
{
  JUMPOUT(0x402AA9);
}
// 402A97: positive sp value 4 has been found
// 402AA8: control flows out of bounds to 402AAD
// 402A9D: control flows out of bounds to 402AA9
// 402AA6: control flows out of bounds to 402AA7

//----- (00402AD8) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402AD8(int a1@<edx>, __int16 a2@<cx>, __int16 a3@<bx>, int a4@<edi>, int a5@<esi>)
{
  int v5; // edi
  __int16 v6; // bx
  __int16 v7; // ax
  int v8; // edx
  int v9; // ecx

  HIBYTE(a2) = -HIBYTE(a2);
  v5 = a5 ^ a4;
  v6 = a3 + 1;
  sub_40339C(a1, v5 + a2 + 1, v6);
  v7 = MEMORY[0x256613ED]();
  sub_402AEE(v7, v8, v9, v6, v5, a5);
}
// 402ADC: positive sp value 4 has been found
// 402AEA: variable 'v8' is possibly undefined
// 402AEA: variable 'v9' is possibly undefined

//----- (00402AEE) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402AEE(__int16 a1@<ax>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<edi>, int a6@<esi>)
{
  char v6; // zf
  int v7; // [esp-4h] [ebp-4h]

  HIBYTE(a1) = 110;
  sub_40333D(a1, a2 + 1, v7, a4, (a2 + 1) | a5, a3 | a6);
  ((void (*)(void))((char *)&loc_401378 + 3))();
  if ( !v6 )
    JUMPOUT(0x402B09);
  JUMPOUT(0x402A96);
}
// 402AFB: positive sp value 8 has been found
// 402B07: control flows out of bounds to 402B09
// 402B07: control flows out of bounds to 402A96
// 402AFD: variable 'v7' is possibly undefined
// 402B07: variable 'v6' is possibly undefined

//----- (00402B22) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402B22(int a1@<eax>, __int32 a2@<edi>, int a3@<edx>, int a4@<ecx>)
{
  char v4; // zf

  sub_40264D(a1, a2, a3, a4, a4 - a2);
  if ( !v4 )
  {
    MEMORY[0xDC646FCD]();
    JUMPOUT(0x402B3E);
  }
  JUMPOUT(0x402B5C);
}
// 402B26: positive sp value 4 has been found
// 402B39: control flows out of bounds to 402B3E
// 402B35: control flows out of bounds to 402B5C
// 402B35: variable 'v4' is possibly undefined

//----- (00402BE5) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402BE5(int a1@<eax>, __int32 a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<edi>)
{
  __int32 v5; // edx
  char v6; // zf
  __int32 v7; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v7, a2);
  BYTE1(a1) += a3;
  v5 = a5 | v7;
  LOBYTE(v5) = -(a5 | v7);
  sub_402A10((a5 | v7) + a1, v5, a3 - 1, a4);
  if ( !v6 )
  {
    MEMORY[0x8F66147B]();
    JUMPOUT(0x402C07);
  }
  JUMPOUT(0x402C74);
}
// 402BF0: positive sp value 4 has been found
// 402C02: control flows out of bounds to 402C07
// 402BFE: control flows out of bounds to 402C74
// 402C00: control flows out of bounds to 402C76
// 402BFE: variable 'v6' is possibly undefined

//----- (00402C47) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402C47(int a1@<eax>, __int16 a2@<cx>, __int16 a3@<bx>, int a4@<edi>, int a5@<esi>)
{
  __int16 v5; // bx
  char v6; // al
  int v7; // edx
  __int16 v8; // cx

  HIBYTE(a3) ^= BYTE1(a1);
  HIBYTE(v5) = -((unsigned __int16)(a2 + a3) >> 8);
  LOBYTE(v5) = -88;
  if ( a1 != 3342027 )
    JUMPOUT(0x402BF6);
  v6 = ((int (*)(void))((char *)&loc_402513 + 4))();
  sub_402C68(v6, v7, v8, v5 ^ 0xFECB, a4, a4 ^ a5);
}
// 402C4B: positive sp value 4 has been found
// 402C59: control flows out of bounds to 402BF6
// 402C65: variable 'v7' is possibly undefined
// 402C65: variable 'v8' is possibly undefined

//----- (00402C68) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402C68(char a1@<al>, int a2@<edx>, __int16 a3@<cx>, __int16 a4@<bx>, int a5@<edi>, int a6@<esi>)
{
  __int16 v6; // cx
  int v7; // esi
  char v8; // zf
  int v9; // [esp-4h] [ebp-4h]

  HIBYTE(a4) += HIBYTE(a3);
  LOBYTE(v6) = a1 | a1 ^ a3;
  v7 = a6 - 1;
  HIBYTE(v6) = 109 - v6;
  sub_402AD8(a2, v6, a4, a5 + 2, v7);
  v9 = *(int *)((char *)&v9 + 2 * v7 + 3);
  if ( !v8 )
    JUMPOUT(0x402C86);
  JUMPOUT(0x402CF8);
}
// 402C6C: positive sp value 4 has been found
// 402C84: control flows out of bounds to 402C86
// 402C43: control flows out of bounds to 402C45
// 402CD4: control flows out of bounds to 402CD6
// 402C82: control flows out of bounds to 402CF8
// 402C25: control flows out of bounds to 402C4C
// 402C27: control flows out of bounds to 402BB6
// 402CB7: control flows out of bounds to 402CB8
// 402CD4: control flows out of bounds to 402CFB
// 402C82: variable 'v8' is possibly undefined

//----- (00402CF1) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_402CF1@<eax>(__int32 a1@<edx>, int _ECX@<ecx>, int a3@<ebp>)
{
  int v4; // ecx
  char v5; // zf
  __int32 v7; // [esp-8h] [ebp-8h] BYREF

  _InterlockedExchange(&v7, a1);
  __asm { repne lea ecx, [ecx] }
  sub_40249F(a3);
  if ( v5 )
  {
    if ( v4 )
    {
      _enable();
      JUMPOUT(0x402D89);
    }
    JUMPOUT(0x402D10);
  }
  return MEMORY[0xDC24448F]();
}
// 402D88: positive sp value 8 has been found
// 402D88: control flows out of bounds to 402D89
// 402D0F: control flows out of bounds to 402CF9
// 402D11: control flows out of bounds to 402CFB
// 402D83: control flows out of bounds to 402D10
// 402D11: conditional instruction was optimized away because zf.1==0
// 402D0D: variable 'v5' is possibly undefined
// 402D83: variable 'v4' is possibly undefined

//----- (00402DB1) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_402DB1(int a1, char a2)
{
  char v2; // bl
  __int16 v3; // dx
  int v4; // ecx
  char v5; // zf
  void *v6; // [esp+24h] [ebp-4h]
  void *retaddr; // [esp+28h] [ebp+0h]

  *(&retaddr - 11) = v6;
  v2 = a2 | 0xD2;
  ((void (*)(void))((char *)&loc_403194 + 4))();
  if ( v5 )
  {
    HIBYTE(v3) |= v2;
    sub_402957(v4, v3);
    MEMORY[0xFF661747]();
    sub_402E5F();
  }
  else
  {
    sub_402DD3();
  }
}
// 402DB5: positive sp value 4 has been found
// 402DCF: control flows out of bounds to 402E45
// 402DCF: conditional instruction was optimized away because zf.1==0
// 402DCB: variable 'v5' is possibly undefined
// 402E48: variable 'v3' is possibly undefined
// 402E55: variable 'v4' is possibly undefined

//----- (00402DD3) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402DD3()
{
  void *v0; // [esp+4h] [ebp-4h]
  void *retaddr; // [esp+8h] [ebp+0h]

  *(&retaddr - 3) = v0;
  ((void (*)(void))((char *)&loc_402E3C + 4))();
  MEMORY[0x25B51665]();
  MEMORY[0x44CFA26A]();
  JUMPOUT(0x402DF6);
}
// 402DD7: positive sp value 4 has been found
// 402DF1: control flows out of bounds to 402DF6

//----- (00402E0E) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402E0E(__int32 a1@<edi>)
{
  __int32 v2; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v2, a1);
  __asm { repne pop edi }
  ((void (*)(void))((char *)&loc_402688 + 3))();
  JUMPOUT(0x402E26);
}
// 402E13: positive sp value 4 has been found
// 402E21: control flows out of bounds to 402E26

//----- (00402E5F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int sub_402E5F()
{
  ((void (*)(void))((char *)&loc_402ABC + 2))();
  return MEMORY[0x448FFFFF]();
}
// 402E63: positive sp value 4 has been found

//----- (00402E9A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402E9A(int a1@<edx>, unsigned int a2@<ecx>, char a3@<bl>)
{
  LOBYTE(a1) = a3 | a1;
  ((void (__fastcall *)(unsigned int, int))loc_402B81)(a2 >> 15, a1);
  MEMORY[0x8D661729]();
  JUMPOUT(0x402EB5);
}
// 402E9E: positive sp value 4 has been found
// 402EB0: control flows out of bounds to 402EB5

//----- (00402EE8) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402EE8(__int32 a1@<edi>, __int32 a2@<esi>)
{
  __int32 v2; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v2, a2);
  sub_402E0E(a1);
  JUMPOUT(0x402F05);
}
// 402EF2: positive sp value 4 has been found
// 402F00: control flows out of bounds to 402F05

//----- (00402F27) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402F27()
{
  char v0; // zf
  void *v1; // [esp+Ch] [ebp-4h]
  void *retaddr; // [esp+10h] [ebp+0h]

  *(&retaddr - 5) = v1;
  if ( (sub_402E5F() & 0x25FF2574) != 0 )
  {
    sub_402F46();
  }
  else
  {
    MEMORY[0xD6CAF5A3]();
    ((void (*)(void))loc_402571)();
    if ( v0 )
      JUMPOUT(0x402F6E);
    MEMORY[0xEC24448F]();
  }
}
// 402F2B: positive sp value 4 has been found
// 402F84: control flows out of bounds to 402F6E
// 402F86: control flows out of bounds to 402FAD
// 402F84: variable 'v0' is possibly undefined

//----- (00402F46) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402F46()
{
  void *v0; // [esp+10h] [ebp-4h]
  void *retaddr; // [esp+14h] [ebp+0h]

  *(&retaddr - 6) = v0;
  ((void (*)(void))loc_402919)();
  MEMORY[0xE86617DA]();
  JUMPOUT(0x402F6B);
}
// 402F4A: positive sp value 4 has been found
// 402F66: control flows out of bounds to 402F6B

//----- (00402FA5) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402FA5()
{
  ((void (*)(void))((char *)&loc_402E7D + 4))();
  JUMPOUT(0x402FC6);
}
// 402FA9: positive sp value 4 has been found
// 402FC1: control flows out of bounds to 402FC6

//----- (00402FDD) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402FDD()
{
  int v0; // eax

  sub_402A91();
  if ( (v0 & 0xE8E8E825) != 0 )
    JUMPOUT(0x402FFA);
  JUMPOUT(0x402F87);
}
// 402FE1: positive sp value 4 has been found
// 402FF8: control flows out of bounds to 402FFA
// 402FF8: control flows out of bounds to 402F87
// 402FF3: variable 'v0' is possibly undefined

//----- (00403013) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_403013()
{
  JUMPOUT(0x40302F);
}
// 403017: positive sp value 4 has been found
// 40302E: control flows out of bounds to 403034
// 403023: control flows out of bounds to 40302F
// 403028: control flows out of bounds to 403012

//----- (00403068) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_403068()
{
  char v0; // zf
  int v1; // eax
  int v2; // ecx
  int v3; // ecx

  sub_402DD3();
  if ( !v0 )
    JUMPOUT(0x403084);
  ((void (*)(void))((char *)&loc_40266B + 4))();
  MEMORY[0x87B4A5F0]();
  ((void (*)(void))loc_4026FB)();
  v1 = MEMORY[0xFF661A24]() & 0x24448FFF;
  v3 = v2 - 1;
  if ( !v1 || !v3 )
  {
    *(_DWORD *)(v3 + 88) = ~*(_DWORD *)(v3 + 88);
    ((void (*)(void))((char *)&loc_402754 + 1))();
    if ( !v0 )
      JUMPOUT(0x403142);
    JUMPOUT(0x403141);
  }
  JUMPOUT(0x403157);
}
// 40310F: positive sp value 8 has been found
// 40307F: control flows out of bounds to 403084
// 403140: control flows out of bounds to 403142
// 40312A: control flows out of bounds to 403157
// 403140: control flows out of bounds to 403141
// 40307D: variable 'v0' is possibly undefined
// 40312A: variable 'v2' is possibly undefined

//----- (0040309E) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_40309E(int a1, int a2)
{
  void *v2; // [esp+10h] [ebp-4h]
  void *retaddr; // [esp+14h] [ebp+0h]

  *(&retaddr - 6) = v2;
  BYTE1(a2) |= a1;
  LOBYTE(a2) = -(BYTE1(a2) | a2);
  ((void (__fastcall *)(int, int))((char *)&loc_402F66 + 2))(a1, a2);
  MEMORY[0x8F65A5B4]();
  JUMPOUT(0x4030B5);
}
// 4030A2: positive sp value 4 has been found
// 4030B0: control flows out of bounds to 4030B5

//----- (00403145) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_403145()
{
  char v0; // zf
  void *v1; // [esp+1Ch] [ebp-4h]
  void *retaddr; // [esp+20h] [ebp+0h]

  *(&retaddr - 9) = v1;
  do
  {
    ((void (*)(void))loc_402434)();
    MEMORY[0x74663162]();
  }
  while ( v0 );
  JUMPOUT(0x40316A);
}
// 403149: positive sp value 4 has been found
// 403165: control flows out of bounds to 40316A
// 403163: variable 'v0' is possibly undefined

//----- (00403182) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_403182(int a1@<ebp>)
{
  sub_4024B8(a1);
  MEMORY[0x8E3FA60D]();
  JUMPOUT(0x403199);
}
// 403186: positive sp value 4 has been found
// 403194: control flows out of bounds to 403199

//----- (004031D6) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4031D6(__int32 a1@<ebx>)
{
  __int32 v2; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v2, a1);
  __asm { repne pop ebx }
  ((void (*)(void))((char *)&loc_403266 + 1))();
  MEMORY[0xFF661A63]();
  JUMPOUT(0x4031EF);
}
// 4031DD: positive sp value 4 has been found
// 4031EA: control flows out of bounds to 4031EF

//----- (0040320B) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_40320B(int a1, int a2)
{
  void *v2; // [esp+2Ch] [ebp-4h]
  void *retaddr; // [esp+30h] [ebp+0h]

  *(&retaddr - 13) = v2;
  ((void (__fastcall *)(int, int))loc_4026DE)(a1 + 1406, a2 + 1);
  sub_40322C();
}
// 40320F: positive sp value 4 has been found

//----- (0040322C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40322C()
{
  __asm { repne lea ebx, [ebx] }
  sub_403322();
  MEMORY[0xE8B5316F]();
  JUMPOUT(0x40324F);
}
// 403233: positive sp value 4 has been found
// 40324A: control flows out of bounds to 40324F

//----- (00403289) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_403289(int a1@<edx>, __int16 a2@<cx>, int a3@<edi>)
{
  char v3; // zf
  void *v4; // [esp+1Ch] [ebp-4h]
  void *retaddr; // [esp+20h] [ebp+0h]

  *(&retaddr - 9) = v4;
  HIBYTE(a2) = BYTE1(a1);
  ((void (__fastcall *)(__int16, int))((char *)&loc_402E21 + 4))(a2, a3 + a1);
  if ( !v3 )
  {
    MEMORY[0xF0647739]();
    sub_40322C();
    MEMORY[0x753FA6EB]();
    MEMORY[0x2484C1F0]();
    JUMPOUT(0x4032CB);
  }
  JUMPOUT(0x403314);
}
// 40328D: positive sp value 4 has been found
// 4032C6: control flows out of bounds to 4032CB
// 40329E: control flows out of bounds to 403314
// 40329E: variable 'v3' is possibly undefined

//----- (00403305) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_403305()
{
  char v0; // zf
  int v1; // [esp+Ch] [ebp-8h]
  int v2; // [esp+10h] [ebp-4h]

  *(&v2 - 6) = v1;
  ((void (*)(void))loc_402D36)();
  MEMORY[0xFF66331F]();
  if ( v0 )
    JUMPOUT(0x403347);
  sub_403322();
}
// 403314: positive sp value 8 has been found
// 403320: control flows out of bounds to 403347
// 403320: variable 'v0' is possibly undefined

//----- (00403322) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_403322()
{
  JUMPOUT(0x4028F8);
}
// 403328: positive sp value 4 has been found
// 403331: control flows out of bounds to 4028F8

//----- (0040333D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40333D(int a1@<eax>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<edi>, int a6@<esi>)
{
  __int16 v6; // bx
  __int32 v7; // edx
  char v8; // zf

  LOBYTE(a1) = a3 + a1;
  v6 = (a1 ^ a4) - a2;
  v7 = a2 - a6;
  LOBYTE(v7) = -(char)v7;
  LOBYTE(a1) = BYTE1(a3) ^ a1;
  HIBYTE(v6) |= BYTE1(a3);
  sub_402BE5(a1, v7, a3, v6, a5 - a3);
  MEMORY[0x74B532CF]();
  if ( !v8 )
  {
    MEMORY[0x86646FEB]();
    JUMPOUT(0x403362);
  }
  JUMPOUT(0x40335C);
}
// 403341: positive sp value 4 has been found
// 40335D: control flows out of bounds to 403362
// 40335B: control flows out of bounds to 40335C
// 40335B: variable 'v8' is possibly undefined

//----- (0040339C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_40339C@<eax>(int a1@<edx>, __int16 a2@<cx>, __int16 a3@<bx>)
{
  void *v4; // [esp+14h] [ebp-4h]
  void *retaddr; // [esp+18h] [ebp+0h]

  *(&retaddr - 7) = v4;
  LOBYTE(a3) = HIBYTE(a3);
  HIBYTE(a2) = (unsigned __int16)(a3 + 1) >> 8;
  ((void (__fastcall *)(__int16, int))((char *)&loc_402CBE + 1))(a2, a1 - 1250595570);
  MEMORY[0x25B4A82E]();
  return MEMORY[0]();
}
// 4033A0: positive sp value 4 has been found

// nfuncs=67 queued=67 decompiled=67 lumina nreq=0 worse=0 better=0
// ALL OK, 67 function(s) have been successfully decompiled
