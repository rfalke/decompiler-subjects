/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int a1@<eax>, char *a2@<edx>, int a3@<ecx>, int a4@<ebx>, unsigned int a5@<ebp>, int a6@<edi>, int a7@<esi>);

//-------------------------------------------------------------------------
// Data declarations

int dword_41D000[370] =
{
  -1,
  738454454,
  -228065746,
  -460054961,
  1187084343,
  557921164,
  -1017291938,
  1590070152,
  1532830914,
  -9732369,
  1594999939,
  29579614,
  1596349192,
  314755419,
  294665508,
  -579510693,
  1142320047,
  153162027,
  160456964,
  2041474312,
  1258564567,
  -1070382044,
  -1878376184,
  -162,
  -1735361810,
  304386134,
  151062536,
  1143081234,
  -16178680,
  1076892949,
  -78774016,
  604305149,
  571967632,
  941787153,
  504500498,
  1802331661,
  570494687,
  1746047112,
  -1873526896,
  -1682630740,
  -2008130707,
  -1874551740,
  -1576773822,
  1843880072,
  1311511958,
  296100873,
  1509871288,
  1141991515,
  -2011347882,
  1140933640,
  72418338,
  1601027336,
  788791510,
  -888912686,
  17048614,
  -1246302940,
  889776300,
  -2000025316,
  -1304126190,
  1085811460,
  193386080,
  604259848,
  867381286,
  1780650141,
  525076486,
  -638560211,
  1141470312,
  134859307,
  -323800992,
  443748852,
  1720348838,
  1010875184,
  -430173647,
  -2130156498,
  910124445,
  277469904,
  137773464,
  -1038478033,
  739521595,
  -1811826451,
  943396360,
  -1037119399,
  31197436,
  1986397188,
  615525809,
  285271332,
  1814311228,
  281116976,
  1294210680,
  860166176,
  222603896,
  2069124426,
  -2003825070,
  1437597952,
  -406600364,
  272629515,
  1074939989,
  287327266,
  546345032,
  -1073802748,
  306379197,
  -2012200432,
  100941860,
  21111809,
  269033536,
  1212715017,
  913245218,
  302111698,
  1074350134,
  1180748297,
  537936962,
  -19625323,
  138692616,
  1950615944,
  1646429188,
  937016172,
  1116742174,
  104993060,
  738279440,
  -553498623,
  814972332,
  138430498,
  1678920256,
  572670622,
  1251623432,
  -1272924755,
  -1668254576,
  298478628,
  -858016357,
  164276882,
  22596616,
  71443970,
  -644128650,
  -431355832,
  -800964498,
  1289757248,
  -1866353232,
  539636232,
  1481116052,
  807427956,
  1420059795,
  613421430,
  -261741552,
  607021913,
  1213892644,
  -1165684476,
  -1247760965,
  1780661764,
  570978368,
  -1933688764,
  899711425,
  606470574,
  1074872924,
  40922372,
  315124954,
  1932735489,
  -1968698967,
  -562930687,
  -429477652,
  981995602,
  -1098349018,
  810378928,
  70288960,
  -397922216,
  942041965,
  973217926,
  135667784,
  51538448,
  -368834541,
  1720060570,
  1624272076,
  -1903666546,
  -1333346218,
  -1979074151,
  151520476,
  286428372,
  1099118285,
  -1965815252,
  1619395585,
  764948496,
  1010828472,
  -592313976,
  1310209502,
  -1839725024,
  -2095912818,
  -1801734759,
  1107903120,
  619200646,
  -871558630,
  1819018756,
  103604806,
  -796708094,
  -1607050586,
  1352716362,
  1252929737,
  236785822,
  155643981,
  -901503958,
  1712679704,
  1210371254,
  1183993916,
  -602831296,
  40265221,
  239507046,
  -1072541672,
  -1307089056,
  1242839044,
  -1709336430,
  -736844135,
  -1600388768,
  -2079751844,
  -1539027406,
  -1761164170,
  165295518,
  -1572543930,
  429490652,
  -1273096180,
  1291226738,
  79802464,
  -219777990,
  496776422,
  916782284,
  286823144,
  855772321,
  144078430,
  1616252142,
  -1702223737,
  -2088350584,
  -2044089319,
  102514756,
  129175696,
  -151375053,
  547662522,
  -1743579508,
  1147155977,
  519489025,
  159774724,
  -333700588,
  -1726432684,
  772146185,
  450025998,
  -870720861,
  576113223,
  -1064942982,
  71817270,
  -867399648,
  241960961,
  1423624723,
  1713784838,
  -947226386,
  205152451,
  810813482,
  705481891,
  1016364776,
  -1240691659,
  1015686244,
  1885409498,
  -1129036188,
  -1329327454,
  1524203832,
  1013061210,
  -1026680404,
  483805420,
  -1605860849,
  -459536112,
  -1633405897,
  1981236265,
  1146643523,
  807823996,
  -1609133773,
  413566690,
  80568688,
  -802414425,
  -502183762,
  -194634691,
  -2071228398,
  -1071324338,
  1919430880,
  -1476492224,
  -1801111143,
  1175618140,
  33990576,
  1180207237,
  697916000,
  1644255662,
  -962322274,
  1372666530,
  2052359603,
  -1240981938,
  827086992,
  1150067378,
  1325068450,
  -1378283279,
  -929655780,
  1443639418,
  25976397,
  -1656701854,
  -592357805,
  1355949074,
  812925840,
  677393467,
  186531410,
  1056610619,
  1242201148,
  154338164,
  -896780238,
  -652896206,
  1183982280,
  1111492678,
  319753246,
  -1703007092,
  429408880,
  950587086,
  372519096,
  686835724,
  1150856312,
  -1012425036,
  1281152557,
  940706066,
  1263596844,
  -2064081311,
  -1337178095,
  -2097296622,
  712149164,
  856459671,
  212482296,
  1176084705,
  1118744256,
  874252458,
  -390801093,
  137520382,
  -773844822,
  -1072940496,
  -1027071936,
  2061624026,
  -700400064,
  1880232194,
  -1730494948,
  1121461260,
  -702140742,
  -925999040,
  761681448,
  -161455721,
  -1299941176,
  172197317,
  948483240,
  -494847908,
  -1097851856,
  -2094262746,
  1553998280,
  -851004832,
  153540116,
  -827832204,
  223351432,
  -89772582,
  -1405345754,
  -431701359,
  518526000,
  -713638266,
  -967658886,
  -100537788,
  916197586,
  -1670757709,
  102893882,
  1892457660,
  2122868906,
  1099847788,
  1211255829,
  1426348417,
  -1577114789
}; // weak


//----- (004545E0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, char *a2@<edx>, int a3@<ecx>, int a4@<ebx>, unsigned int a5@<ebp>, int a6@<edi>, int a7@<esi>)
{
  int *v7; // esi
  int *v8; // edi
  char v9; // al
  bool v10; // cf
  int v11; // ebx
  int v12; // ebx
  int v13; // ett
  int i; // eax
  bool v15; // cf
  int v16; // ebx
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  bool v20; // zf
  int v21; // ebx
  int v22; // ett
  unsigned int v23; // eax
  bool v24; // cf
  int v25; // ebx
  int v26; // ett
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  unsigned int v32; // eax
  unsigned int v33; // eax
  int v34; // eax
  bool v35; // cf
  int v36; // ebx
  int v37; // ett
  bool v38; // cf
  int v39; // ebx
  int v40; // ett
  bool v41; // cf
  int v42; // ebx
  int v43; // ebx
  int v44; // ett
  bool v45; // zf
  int v46; // ebx
  int v47; // ett
  unsigned int v48; // ecx
  char v49; // al
  int v50; // eax
  bool v51; // cc
  int *v52; // esi
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__fastcall *v61)(int, char *, int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  char *v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  unsigned int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v75 = a7;
  v74 = a6;
  v73 = a5;
  v72 = &v76;
  v71 = a4;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v7 = dword_41D000;
  v8 = &dword_41D000[-28672];
  v67 = &dword_41D000[-28672];
  while ( 1 )
  {
    v12 = *v7;
    v10 = (unsigned int)v7++ < 0xFFFFFFFC;
    v13 = v10 + v12;
    v10 = __CFADD__(v10, v12) | __CFADD__(v12, v13);
    v11 = v12 + v13;
    do
    {
      if ( v10 )
      {
        v9 = *(_BYTE *)v7;
        v7 = (int *)((char *)v7 + 1);
        *(_BYTE *)v8 = v9;
        v8 = (int *)((char *)v8 + 1);
      }
      else
      {
        for ( i = 1; ; i = v23 + v24 + v23 )
        {
          v15 = __CFADD__(v11, v11);
          v16 = 2 * v11;
          if ( !v16 )
          {
            v17 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v18 = v10 + v17;
            v15 = __CFADD__(v10, v17) | __CFADD__(v17, v18);
            v16 = v17 + v18;
          }
          v19 = i + v15 + i;
          v10 = __CFADD__(v16, v16);
          v20 = 2 * v16 == 0;
          v11 = 2 * v16;
          if ( v10 )
          {
            if ( !v20 )
              break;
            v21 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v22 = v10 + v21;
            v10 = __CFADD__(v10, v21) | __CFADD__(v21, v22);
            v11 = v21 + v22;
            if ( v10 )
              break;
          }
          v23 = v19 - 1;
          v24 = __CFADD__(v11, v11);
          v11 *= 2;
          if ( !v11 )
          {
            v25 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v26 = v10 + v25;
            v24 = __CFADD__(v10, v25) | __CFADD__(v25, v26);
            v11 = v25 + v26;
          }
        }
        v31 = 0;
        v10 = v19 < 3;
        v32 = v19 - 3;
        if ( v10 )
        {
          v35 = __CFADD__(v11, v11);
          v11 *= 2;
          if ( !v11 )
          {
            v36 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v37 = v10 + v36;
            v35 = __CFADD__(v10, v36) | __CFADD__(v36, v37);
            v11 = v36 + v37;
          }
        }
        else
        {
          v33 = v32 << 8;
          LOBYTE(v33) = *(_BYTE *)v7;
          v7 = (int *)((char *)v7 + 1);
          v34 = ~v33;
          if ( !v34 )
          {
            v52 = v67;
            v53 = (char *)(v67 + 83968);
LABEL_39:
            v54 = *(_DWORD *)v53;
            if ( *(_DWORD *)v53 )
            {
              v55 = (int *)((char *)v52 + *((_DWORD *)v53 + 1));
              v53 += 8;
              v56 = ((int (__fastcall *)(int, char *, int, int, char *, int, int, int *, unsigned int, int, int))v52[86691])(
                      v31,
                      a2,
                      (int)v52 + v54 + 346704,
                      v68,
                      v69,
                      v70,
                      v71,
                      v72,
                      v73,
                      v74,
                      v75);
              while ( 1 )
              {
                v57 = *v53++;
                if ( !v57 )
                  goto LABEL_39;
                v58 = v53;
                v66 = v53;
                v59 = v57 - 1;
                do
                {
                  if ( !v58 )
                    break;
                  v20 = *v53++ == (char)v59;
                  --v58;
                }
                while ( !v20 );
                v60 = ((int (__cdecl *)(int, char *))v52[86692])(v56, v66);
                if ( !v60 )
                  break;
                *v55++ = v60;
              }
              v54 = ((int (*)(void))v52[86696])();
            }
            v61 = (void (__fastcall *)(int, char *, int *, int, int, int *))v52[86693];
            v62 = v52 - 1024;
            v64 = v54;
            v61(v31, a2, v52 - 1024, 4096, 4, &v64);
            *((_BYTE *)v62 + 495) &= 0x7Fu;
            *((_BYTE *)v62 + 535) &= 0x7Fu;
            ((void (__cdecl *)(int *, int, int, int *))v61)(v52 - 1024, 4096, v63[0], v63);
            do
              v64 = 0;
            while ( &v64 != &v65 - 32 );
            JUMPOUT(0x417071);
          }
          v35 = v34 & 1;
          a5 = v34 >> 1;
        }
        if ( v35 )
          goto LABEL_15;
        v31 = 1;
        v38 = __CFADD__(v11, v11);
        v11 *= 2;
        if ( !v11 )
        {
          v39 = *v7;
          v10 = (unsigned int)v7++ < 0xFFFFFFFC;
          v40 = v10 + v39;
          v38 = __CFADD__(v10, v39) | __CFADD__(v39, v40);
          v11 = v39 + v40;
        }
        if ( v38 )
        {
LABEL_15:
          v27 = __CFADD__(v11, v11);
          v11 *= 2;
          if ( !v11 )
          {
            v28 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v29 = v10 + v28;
            v27 = __CFADD__(v10, v28) | __CFADD__(v28, v29);
            v11 = v28 + v29;
          }
          v30 = v31 + v27 + v31;
        }
        else
        {
          while ( 1 )
          {
            v41 = __CFADD__(v11, v11);
            v42 = 2 * v11;
            if ( !v42 )
            {
              v43 = *v7;
              v10 = (unsigned int)v7++ < 0xFFFFFFFC;
              v44 = v10 + v43;
              v41 = __CFADD__(v10, v43) | __CFADD__(v43, v44);
              v42 = v43 + v44;
            }
            v31 += v41 + v31;
            v10 = __CFADD__(v42, v42);
            v45 = 2 * v42 == 0;
            v11 = 2 * v42;
            if ( v10 )
            {
              if ( !v45 )
                break;
              v46 = *v7;
              v10 = (unsigned int)v7++ < 0xFFFFFFFC;
              v47 = v10 + v46;
              v10 = __CFADD__(v10, v46) | __CFADD__(v46, v47);
              v11 = v46 + v47;
              if ( v10 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v48 = (a5 < 0xFFFFFB00) + v30 + 2;
        a2 = (char *)v8 + a5;
        if ( a5 <= 0xFFFFFFFC )
        {
          do
          {
            v50 = *(_DWORD *)a2;
            a2 += 4;
            *v8++ = v50;
            v51 = v48 <= 4;
            v48 -= 4;
          }
          while ( !v51 );
          v8 = (int *)((char *)v8 + v48);
        }
        else
        {
          do
          {
            v49 = *a2++;
            *(_BYTE *)v8 = v49;
            v8 = (int *)((char *)v8 + 1);
            --v48;
          }
          while ( v48 );
        }
      }
      v10 = __CFADD__(v11, v11);
      v11 *= 2;
    }
    while ( v11 );
  }
}
// 454750: positive sp value 50 has been found
// 454750: control flows out of bounds to 417071
// 4546E7: variable 'v31' is possibly undefined
// 4546E7: variable 'a2' is possibly undefined
// 41D000: using guessed type int dword_41D000[370];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
