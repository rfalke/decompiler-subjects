/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

LPSTR __stdcall sub_401000(int a1, int a2);
unsigned int __fastcall sub_40108C(int a1, int a2, int a3, int a4);
// HMODULE __userpurge sub_4010F8@<eax>(int a1@<ebx>, int a2@<edi>, int a3@<esi>, int a4, int a5);
LPSTR __stdcall sub_401164(int a1, int a2, int a3, int a4);
// UINT __userpurge sub_4011CC@<eax>(int a1@<ecx>, int a2@<edi>, int a3@<esi>, int a4, int a5, int a6, int a7);
// LPSTR __userpurge sub_401228@<eax>(int a1@<ebx>, int a2, int a3, int a4);
// int __userpurge sub_401270@<eax>(int a1@<ebx>, int a2@<edi>, int a3, int a4, int a5);
// HANDLE __userpurge sub_401344@<eax>(int a1@<edx>, int a2@<ecx>, int a3@<edi>, int a4, int a5, int a6, int a7);
// _DWORD *__userpurge sub_4013B0@<eax>(int a1@<edi>, int a2, int a3, int a4);
// DWORD __userpurge sub_401414@<eax>(int a1@<edi>, int a2, int a3);
void start();
// UINT __userpurge sub_401482@<eax>(unsigned int a1@<esi>, int a2, int a3, int a4);
// HANDLE __userpurge sub_4014EA@<eax>(int a1@<eax>, int a2, int a3, int a4);
// HWND __userpurge sub_40153A@<eax>(HANDLE a1@<eax>, int a2@<ebx>, int a3@<esi>, int a4, int a5, int a6);
// HWND __userpurge sub_40159A@<eax>(int a1@<esi>, int a2, int a3, int a4);
// HANDLE __userpurge sub_40164E@<eax>(int a1@<ebx>, int a2@<edi>, int a3, int a4);
// BOOL __userpurge sub_4016B6@<eax>(int a1@<ebx>, int a2, int a3, int a4, int a5);
// HWND __userpurge sub_401716@<eax>(unsigned int a1@<ebx>, unsigned int a2@<edi>, int a3@<esi>, int a4, int a5, int a6);
// int __userpurge sub_40178A@<eax>(unsigned int a1@<edx>, unsigned int a2@<ebx>, unsigned int a3@<edi>, int a4, int a5, int a6, int a7);
// LPSTR __userpurge sub_4017DA@<eax>(int a1@<ecx>, int a2@<edi>, int a3, int a4, int a5);
// HWND __userpurge sub_40183E@<eax>(int a1@<eax>, int a2@<ebx>, int a3@<edi>, int a4@<esi>, int a5, int a6, int a7, int a8);
// int __userpurge sub_4018AA@<eax>(int a1@<ecx>, int a2@<ebx>, int a3@<edi>, int a4@<esi>, int a5, int a6, int a7);
// BOOL __stdcall IsDebuggerPresent();
// LPVOID __stdcall VirtualAlloc(LPVOID lpAddress, SIZE_T dwSize, DWORD flAllocationType, DWORD flProtect);
// DWORD __stdcall GetLogicalDrives();
// HANDLE __stdcall GetCurrentProcess();
// DWORD __stdcall GetCurrentProcessId();
// HMODULE __stdcall LoadLibraryA(LPCSTR lpLibFileName);
// int __stdcall GetThreadPriority(HANDLE hThread);
// HANDLE __stdcall GetCurrentThread();
// DWORD __stdcall GetCurrentThreadId();
// UINT __stdcall GetDriveTypeA(LPCSTR lpRootPathName);
// LPSTR __stdcall GetCommandLineA();
// HWND __stdcall GetActiveWindow();
// HWND __stdcall GetForegroundWindow();
// HWND __stdcall GetFocus();

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN loc_4012D4; // weak
_UNKNOWN unk_403050; // weak
_UNKNOWN unk_403068; // weak
_UNKNOWN unk_403098; // weak
_UNKNOWN unk_403114; // weak
_UNKNOWN unk_40311C; // weak
_UNKNOWN unk_403160; // weak
_UNKNOWN unk_403184; // weak
_UNKNOWN unk_40319C; // weak
_DWORD dword_4031A8[17] = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }; // idb
_UNKNOWN unk_4031EC; // weak
_DWORD dword_403218[13] = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }; // idb
_UNKNOWN unk_40324C; // weak
_UNKNOWN unk_403260; // weak


//----- (00401000) --------------------------------------------------------
LPSTR __stdcall sub_401000(int a1, int a2)
{
  char *v2; // eax
  char *v3; // edx
  _DWORD *v4; // edi
  int v5; // ecx
  int v7; // [esp+0h] [ebp-28h]

  while ( (unsigned int)&unk_403114 <= 0x1E9D )
    ;
  v2 = (char *)VirtualAlloc(0, 0x510u, 0x1000u, 0x40u);
  *((_DWORD *)&unk_403114 + 21) = v2;
  v3 = v2 - 419;
  v4 = &unk_403260;
  v5 = 0;
  while ( v5 != 1296 )
  {
    v5 += 4;
    ++v4;
    v7 ^= 0x5A2600CEu;
    *(_DWORD *)(v3 + 419) = *(v4 - 1);
    v3 += 4;
    *(_DWORD *)(v3 + 415) ^= 0xEA125431;
    *((_DWORD *)&unk_403114 + 53) = v3;
  }
  return GetCommandLineA();
}
// 401052: variable 'v7' is possibly undefined

//----- (0040108C) --------------------------------------------------------
unsigned int __fastcall sub_40108C(int a1, int a2, int a3, int a4)
{
  int v4; // ecx
  unsigned int v6; // [esp-4h] [ebp-110h]
  int v7; // [esp+20h] [ebp-ECh]
  int i; // [esp+DCh] [ebp-30h]

  while ( (unsigned int)(a2 + 480) <= 0xE879 )
    ;
  v6 = a2 + 480;
  GetActiveWindow();
  for ( i = 5; i; --i )
  {
    if ( v6 < 0xACEF )
      JUMPOUT(0x40108B);
    v4 = 1613495276;
  }
  sub_401000(v4, v7);
  *(_DWORD *)(v6 - 288) -= v6;
  GetFocus();
  return v6;
}
// 4010C5: control flows out of bounds to 40108B
// 4010D6: variable 'v4' is possibly undefined
// 4010D6: variable 'v7' is possibly undefined

//----- (004010F8) --------------------------------------------------------
HMODULE __userpurge sub_4010F8@<eax>(int a1@<ebx>, int a2@<edi>, int a3@<esi>, int a4, int a5)
{
  DWORD v5; // eax
  int i; // ecx
  const CHAR *v7; // edx
  HMODULE result; // eax
  int v9; // [esp+Ch] [ebp-10Ch]
  int v10; // [esp+F4h] [ebp-24h]

  while ( (unsigned int)&unk_4031EC <= 0x5D4F )
    ;
  v5 = GetLogicalDrives();
  for ( i = 0; i != 5; ++i )
  {
    a3 += a1;
    v9 += v5;
  }
  sub_401344((int)&unk_4031EC, 5, a2, v10, *((_DWORD *)&unk_4031EC + 106), 5, *((_DWORD *)&unk_4031EC + 62));
  v7 = (const CHAR *)&unk_4031EC;
  *((_DWORD *)&unk_4031EC + 6) += 54;
  do
    result = LoadLibraryA(v7 + 100);
  while ( result );
  return result;
}
// 401121: variable 'v9' is possibly undefined
// 40113E: variable 'v10' is possibly undefined
// 401152: variable 'v7' is possibly undefined

//----- (00401164) --------------------------------------------------------
LPSTR __stdcall sub_401164(int a1, int a2, int a3, int a4)
{
  int v4; // eax
  int v6; // [esp+4h] [ebp-44h]

  *((_DWORD *)&unk_403050 + 54) -= 105;
  GetFocus();
  v4 = 5;
  while ( v4 )
  {
    v6 += --v4;
    if ( (unsigned int)&unk_403050 <= 0x63B0 )
      JUMPOUT(0x401163);
  }
  *((_DWORD *)&unk_403050 + 79) -= &unk_403050;
  sub_4013B0(
    (int)&unk_403050,
    *((_DWORD *)&unk_403050 + 107),
    *((_DWORD *)&unk_403050 + 68),
    *((_DWORD *)&unk_403050 + 97));
  return GetCommandLineA();
}
// 401198: control flows out of bounds to 401163
// 401164: could not find valid save-restore pair for edi
// 40118F: variable 'v6' is possibly undefined

//----- (004011CC) --------------------------------------------------------
UINT __userpurge sub_4011CC@<eax>(int a1@<ecx>, int a2@<edi>, int a3@<esi>, int a4, int a5, int a6, int a7)
{
  int v7; // ecx
  int i; // eax
  int v10; // [esp+54h] [ebp-70h]
  int v11; // [esp+78h] [ebp-4Ch]

  while ( (unsigned int)&unk_403068 < 0xD2B7 )
    ;
  sub_40108C(a1, (int)&unk_403068, v10, a3);
  GetFocus();
  for ( i = 5; i; --i )
  {
    v7 -= 68;
    v11 &= a2;
  }
  *((_DWORD *)&unk_403068 + 31) = *((_DWORD *)&unk_403068 + 31);
  *((_DWORD *)&unk_403068 + 94) -= &unk_403068;
  return GetDriveTypeA(0);
}
// 4011E9: variable 'v10' is possibly undefined
// 401204: variable 'v7' is possibly undefined
// 401207: variable 'v11' is possibly undefined

//----- (00401228) --------------------------------------------------------
LPSTR __userpurge sub_401228@<eax>(int a1@<ebx>, int a2, int a3, int a4)
{
  int v4; // eax
  int v5; // ecx
  int i; // esi
  int v8; // [esp+34h] [ebp-40h]

  dword_4031A8[-33] |= 0x23u;
  v4 = IsDebuggerPresent();
  for ( i = 0; i != 3; ++i )
  {
    a1 -= v4;
    v5 -= dword_4031A8[-3];
  }
  sub_401270(a1, (int)dword_4031A8, v8, dword_4031A8[1], 3);
  return GetCommandLineA();
}
// 401228: could not find valid save-restore pair for edi
// 401249: variable 'v5' is possibly undefined
// 40125A: variable 'v8' is possibly undefined

//----- (00401270) --------------------------------------------------------
int __userpurge sub_401270@<eax>(int a1@<ebx>, int a2@<edi>, int a3, int a4, int a5)
{
  int v5; // edx
  int v6; // eax
  int v8; // [esp-4h] [ebp-58h]
  int v9; // [esp+44h] [ebp-10h]

  v8 = a2 - 296;
  sub_401164(*(_DWORD *)(a2 - 296 + 52), *(_DWORD *)(a2 - 296 + 312), *(_DWORD *)(a2 - 296 + 24), a2);
  *(_DWORD *)(v8 + 12) = v5;
  IsDebuggerPresent();
  v6 = a2 - 296;
  *(_DWORD *)(v8 + 48) = 5;
  do
  {
    a1 ^= 0x5FB58F4Eu;
    v9 += 122;
    --*(_DWORD *)(v6 + 48);
  }
  while ( *(_DWORD *)(v6 + 48) );
  GetThreadPriority((HANDLE)0xFFFFFFFE);
  return a2 - 296;
}
// 401298: variable 'v5' is possibly undefined
// 4012AF: variable 'v9' is possibly undefined

//----- (00401344) --------------------------------------------------------
HANDLE __userpurge sub_401344@<eax>(int a1@<edx>, int a2@<ecx>, int a3@<edi>, int a4, int a5, int a6, int a7)
{
  int v7; // esi
  int v8; // edx
  unsigned int v9; // ecx
  int v11; // [esp-4h] [ebp-100h]
  int i; // [esp+14h] [ebp-E8h]

  v11 = a1 - 348;
  sub_40159A(a1 - 348, *(_DWORD *)(a1 - 348 + 552), a1, a2);
  v7 = v11;
  GetDriveTypeA(0);
  for ( i = 3; i; --i )
  {
    v8 &= 0xFFFFFFDB;
    a3 += v7;
  }
  *(_DWORD *)(v7 + 248) += (v9 < *(_DWORD *)(v7 + 20)) + 96;
  return GetCurrentThread();
}
// 401344: could not find valid save-restore pair for esi
// 401392: variable 'v8' is possibly undefined
// 401399: variable 'v9' is possibly undefined

//----- (004013B0) --------------------------------------------------------
_DWORD *__userpurge sub_4013B0@<eax>(int a1@<edi>, int a2, int a3, int a4)
{
  int v5; // [esp+10h] [ebp-1Ch]
  int v6; // [esp+28h] [ebp-4h]

  GetActiveWindow();
  dword_403218[-29] = 0;
  do
  {
    a1 ^= dword_403218[-37];
    dword_403218[-134] -= 47;
    ++dword_403218[-29];
  }
  while ( dword_403218[-29] != 5 );
  sub_401414(a1, v6, v5);
  dword_403218[-107] ^= a1;
  GetDriveTypeA(0);
  return dword_403218;
}
// 4013F2: variable 'v6' is possibly undefined
// 4013F2: variable 'v5' is possibly undefined

//----- (00401414) --------------------------------------------------------
DWORD __userpurge sub_401414@<eax>(int a1@<edi>, int a2, int a3)
{
  int v3; // edx
  int i; // eax
  int v6; // [esp+6Ch] [ebp-54h]

  ((void (__stdcall *)(_DWORD, int, _DWORD))loc_4012D4)(
    *((_DWORD *)&unk_403160 + 105),
    v6,
    *((_DWORD *)&unk_403160 + 90));
  GetLogicalDrives();
  for ( i = 0; i != 4; ++i )
  {
    *((_DWORD *)&unk_403160 - 43) |= 0xFFFFFFBD;
    v3 -= 1127196017;
  }
  *((_DWORD *)&unk_403160 + 42) = a1;
  return GetLogicalDrives();
}
// 401438: variable 'v6' is possibly undefined
// 401457: variable 'v3' is possibly undefined

//----- (00401478) --------------------------------------------------------
void start()
{
  JUMPOUT(0x401C03);
}
// 401481: control flows out of bounds to 401C03

//----- (00401482) --------------------------------------------------------
UINT __userpurge sub_401482@<eax>(unsigned int a1@<esi>, int a2, int a3, int a4)
{
  int v4; // edx
  int v5; // ecx
  int v7; // [esp+Ch] [ebp-BCh]
  int v8; // [esp+7Ch] [ebp-4Ch]
  int v9; // [esp+B8h] [ebp-10h]

  do
  {
    v9 -= 817296938;
    GetFocus();
    v5 = 3;
    do
    {
      *((_DWORD *)&unk_40324C - 111) -= 1664243358;
      v4 -= v7;
      --v5;
    }
    while ( v5 );
    sub_401716((unsigned int)&unk_40324C, a1, a1, v8, *((_DWORD *)&unk_40324C + 95), a1);
  }
  while ( &unk_40324C == (_UNKNOWN *)25246 );
  return GetDriveTypeA(0);
}
// 401482: could not find valid save-restore pair for ebx
// 401493: variable 'v9' is possibly undefined
// 4014B0: variable 'v4' is possibly undefined
// 4014B0: variable 'v7' is possibly undefined
// 4014C7: variable 'v8' is possibly undefined

//----- (004014EA) --------------------------------------------------------
HANDLE __userpurge sub_4014EA@<eax>(int a1@<eax>, int a2, int a3, int a4)
{
  int i; // ebx
  int v6; // [esp+28h] [ebp-1Ch]
  int v7; // [esp+3Ch] [ebp-8h]

  *((_DWORD *)&unk_403098 + 63) |= a1;
  GetLogicalDrives();
  for ( i = 3; i; --i )
  {
    *((_DWORD *)&unk_403098 + 69) += 67;
    v7 += 84;
  }
  sub_40164E(0, (int)&unk_403098, v6, *((_DWORD *)&unk_403098 + 11));
  return GetCurrentThread();
}
// 4014EA: could not find valid save-restore pair for edi
// 401515: variable 'v7' is possibly undefined
// 401525: variable 'v6' is possibly undefined

//----- (0040153A) --------------------------------------------------------
HWND __userpurge sub_40153A@<eax>(HANDLE a1@<eax>, int a2@<ebx>, int a3@<esi>, int a4, int a5, int a6)
{
  char v6; // cf
  int v8; // [esp+8h] [ebp-2Ch]
  int v9; // [esp+Ch] [ebp-28h]
  int v10; // [esp+14h] [ebp-20h]
  int v11; // [esp+20h] [ebp-14h]

LABEL_1:
  a3 &= v11;
  sub_40183E((int)a1, a2, (int)&unk_403184, a3, v8, a3, *((_DWORD *)&unk_403184 + 77), v11);
  v9 = v6 + v9 - 531487401;
  a1 = GetCurrentThread();
  v10 = 3;
  do
  {
    if ( &unk_403184 == (_UNKNOWN *)27763 )
      goto LABEL_1;
    v11 += ((unsigned int)&unk_403184 < 0x6C73) + 54;
    --v10;
  }
  while ( v10 );
  return GetActiveWindow();
}
// 40153A: could not find valid save-restore pair for edi
// 401547: variable 'v11' is possibly undefined
// 401558: variable 'v8' is possibly undefined
// 40155E: variable 'v6' is possibly undefined
// 40155E: variable 'v9' is possibly undefined

//----- (0040159A) --------------------------------------------------------
HWND __userpurge sub_40159A@<eax>(int a1@<esi>, int a2, int a3, int a4)
{
  int v4; // eax
  int i; // edx
  int v6; // ecx
  int v8; // [esp+2Ch] [ebp-28h]
  int v9; // [esp+4Ch] [ebp-8h]
  int vars0; // [esp+54h] [ebp+0h]

  *(_DWORD *)(a1 - 124) &= 0xFFFFFFC9;
  v4 = IsDebuggerPresent();
  for ( i = 0; i != 5; ++i )
    v4 -= v8;
  sub_4016B6(a1 + 236, *(_DWORD *)(a1 + 480), v9, vars0, a1);
  *(_DWORD *)(a1 + 212) += v6;
  return GetFocus();
}
// 40159A: could not find valid save-restore pair for ebx
// 4015BC: variable 'v8' is possibly undefined
// 4015D3: variable 'v9' is possibly undefined
// 4015D3: variable 'vars0' is possibly undefined
// 4015D9: variable 'v6' is possibly undefined

//----- (0040164E) --------------------------------------------------------
HANDLE __userpurge sub_40164E@<eax>(int a1@<ebx>, int a2@<edi>, int a3, int a4)
{
  int v4; // edi
  bool v5; // cf
  int v7; // [esp+4h] [ebp-34h]
  unsigned int i; // [esp+Ch] [ebp-2Ch]
  int v9; // [esp+28h] [ebp-10h]
  int v10; // [esp+30h] [ebp-8h]

  v4 = a2 ^ 0xFFFFFF85;
  GetCurrentThread();
  for ( i = 0; ; ++i )
  {
    v5 = i < 4;
    if ( i == 4 )
      break;
    *((_DWORD *)&unk_40319C - 50) += v4 + v5;
    v10 |= a1;
  }
  sub_4017DA((int)&unk_40319C, v4, *((_DWORD *)&unk_40319C + 40), v9 + 1640198535, v7);
  return GetCurrentProcess();
}
// 401683: variable 'v10' is possibly undefined
// 401688: variable 'v9' is possibly undefined
// 40169C: variable 'v7' is possibly undefined

//----- (004016B6) --------------------------------------------------------
BOOL __userpurge sub_4016B6@<eax>(int a1@<ebx>, int a2, int a3, int a4, int a5)
{
  unsigned int v5; // esi
  int v6; // edx
  int v8; // [esp+24h] [ebp-18h]
  int v9; // [esp+34h] [ebp-8h]
  int v10; // [esp+38h] [ebp-4h]

  do
  {
    while ( a1 == 6926 )
      ;
    sub_401482(a1 - 180, v10, v9, *(_DWORD *)(a1 - 180 + 104));
    v5 = a1 - 180;
    v8 -= 1949373385;
    GetDriveTypeA(0);
    a1 = 3;
    do
    {
      v6 = *(_DWORD *)(v5 + 252) + (v6 | 0x65);
      --a1;
    }
    while ( a1 );
    v9 -= 117418291;
  }
  while ( v5 <= 0x9E50 );
  return IsDebuggerPresent();
}
// 4016B6: could not find valid save-restore pair for esi
// 4016D6: variable 'v10' is possibly undefined
// 4016D6: variable 'v9' is possibly undefined
// 4016DC: variable 'v8' is possibly undefined
// 4016ED: variable 'v6' is possibly undefined

//----- (00401716) --------------------------------------------------------
HWND __userpurge sub_401716@<eax>(unsigned int a1@<ebx>, unsigned int a2@<edi>, int a3@<esi>, int a4, int a5, int a6)
{
  char v6; // cf
  int v8; // [esp+D4h] [ebp-3Ch]
  int v9; // [esp+E4h] [ebp-2Ch]

LABEL_1:
  sub_40178A(a1 - 148, a1, a2, *(_DWORD *)(a1 - 148 + 52), *(_DWORD *)(a1 - 148 + 556), *(_DWORD *)(a1 - 148 + 392), v9);
  a2 += *(_DWORD *)(a1 - 204) + v6;
  a3 |= *(_DWORD *)(a1 - 556);
  IsDebuggerPresent();
  *(_DWORD *)(a1 - 256) = 5;
  do
  {
    v8 &= 0x7BA9732Bu;
    if ( a1 - 148 <= 0xAF41 )
      goto LABEL_1;
    --*(_DWORD *)(a1 - 256);
  }
  while ( *(_DWORD *)(a1 - 256) );
  return GetActiveWindow();
}
// 40173A: variable 'v9' is possibly undefined
// 401740: variable 'v6' is possibly undefined
// 401757: variable 'v8' is possibly undefined

//----- (0040178A) --------------------------------------------------------
int __userpurge sub_40178A@<eax>(unsigned int a1@<edx>, unsigned int a2@<ebx>, unsigned int a3@<edi>, int a4, int a5, int a6, int a7)
{
  int v7; // ebx
  int v8; // ett
  int v9; // ecx
  int i; // edx
  int v12; // [esp-4h] [ebp-48h]

  v8 = (__PAIR64__(a1, a3) + a2) >> 32;
  v7 = a3 + a2;
  *(_DWORD *)(a1 - 272) -= v8;
  v12 = a1 - 112;
  GetCurrentThreadId();
  for ( i = 0; i != 3; ++i )
  {
    v9 &= i;
    v7 |= a3;
  }
  sub_4014EA(v12, v9, v7, *(_DWORD *)(v12 + 344));
  *(_DWORD *)(v12 - 312) -= 32;
  GetForegroundWindow();
  return v12;
}
// 4017A6: variable 'v9' is possibly undefined

//----- (004017DA) --------------------------------------------------------
LPSTR __userpurge sub_4017DA@<eax>(int a1@<ecx>, int a2@<edi>, int a3, int a4, int a5)
{
  int v5; // ecx
  int v7; // [esp+1Ch] [ebp-3Ch]

  sub_4011CC(
    a1,
    a2,
    (int)&unk_40311C,
    *((_DWORD *)&unk_40311C + 121),
    *((_DWORD *)&unk_40311C + 34),
    a2,
    *((_DWORD *)&unk_40311C + 7));
  GetThreadPriority((HANDLE)0xFFFFFFFE);
  *((_DWORD *)&unk_40311C - 52) = 0;
  do
  {
    v5 &= v7;
    *((_DWORD *)&unk_40311C + 5) = 1131081991;
    ++*((_DWORD *)&unk_40311C - 52);
  }
  while ( *((_DWORD *)&unk_40311C - 52) != 3 );
  return GetCommandLineA();
}
// 4017DA: could not find valid save-restore pair for esi
// 401814: variable 'v7' is possibly undefined
// 401814: variable 'v5' is possibly undefined

//----- (0040183E) --------------------------------------------------------
HWND __userpurge sub_40183E@<eax>(int a1@<eax>, int a2@<ebx>, int a3@<edi>, int a4@<esi>, int a5, int a6, int a7, int a8)
{
  unsigned int v8; // ecx
  int v10; // [esp+34h] [ebp-38h]
  int v11; // [esp+38h] [ebp-34h]
  int v12; // [esp+3Ch] [ebp-30h]

  sub_4018AA(a3 - 272, a2, a3, a4, a1, v10, v11);
  *(_DWORD *)(a3 - 272 + 420) = 40;
  GetCurrentProcessId();
  v8 = a3 - 272;
  *(_DWORD *)(a3 - 272 + 144) = 0;
  while ( *(_DWORD *)(v8 + 144) != 3 )
  {
    ++*(_DWORD *)(v8 + 144);
    if ( v8 < 0xEAD3 )
      JUMPOUT(0x40183D);
    v12 += a2 + (v8 < 0xEAD3);
  }
  return GetActiveWindow();
}
// 40188D: control flows out of bounds to 40183D
// 401854: variable 'v10' is possibly undefined
// 401854: variable 'v11' is possibly undefined
// 40188F: variable 'v12' is possibly undefined

//----- (004018AA) --------------------------------------------------------
int __userpurge sub_4018AA@<eax>(int a1@<ecx>, int a2@<ebx>, int a3@<edi>, int a4@<esi>, int a5, int a6, int a7)
{
  int v7; // edx
  int i; // ecx
  int v10; // [esp-4h] [ebp-6Ch]

  while ( a1 == 61374 )
    ;
  v10 = a1 + 264;
  GetDriveTypeA(0);
  for ( i = 0; i != 3; ++i )
  {
    a3 += *(_DWORD *)(v10 + 16);
    a4 += i;
  }
  sub_401228(a2, 3, v7, v7);
  IsDebuggerPresent();
  return v10;
}
// 4018DC: variable 'v7' is possibly undefined

// nfuncs=36 queued=22 decompiled=22 lumina nreq=0 worse=0 better=0
// ALL OK, 22 function(s) have been successfully decompiled
