/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

_DWORD nullsub_1(); // weak
// char __usercall start@<al>(bool _CF@<cf>, int a2@<eax>, int a3@<edx>, int a4@<ecx>, int _EBX@<ebx>, int _EBP@<ebp>, int _EDI@<edi>, unsigned int _ESI@<esi>);


//----- (0040C398) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
char __usercall start@<al>(bool _CF@<cf>, int a2@<eax>, int a3@<edx>, int a4@<ecx>, int _EBX@<ebx>, int _EBP@<ebp>, int _EDI@<edi>, unsigned int _ESI@<esi>)
{
  bool v8; // tt
  char v10; // bh
  bool v12; // tt
  int v14; // edi
  bool v15; // cc
  char result; // al
  unsigned int v17; // edi
  char v19; // tt
  bool v21; // cf
  char v22; // tt
  char v24; // cc
  int v27; // ecx
  int v30; // edi
  int v33; // edi
  char v34; // tt
  int v35; // edx
  int v36; // eax
  int v38; // eax
  int v39; // edi
  int v43; // ebx
  int v44; // esi
  int v45; // eax
  int v46; // ecx
  int v50; // eax
  unsigned int v53; // edi
  char v54; // ah
  int v57; // edx
  int v58; // eax
  int v59; // edi
  int v60; // eax
  bool v63; // cc
  bool v64; // tt
  unsigned int v68; // edi
  bool v73; // of
  bool v74; // cc
  int v75; // edx
  char v76; // of
  int v77; // edi
  char v80; // tt
  int v81; // edi
  int v83; // edx
  int v84; // ebx
  int v87; // ecx
  unsigned int v88; // edx
  int v89; // ebx
  char v92; // dh
  int v96; // edi
  bool v97; // cf
  unsigned int v103; // edi
  int v104; // edx
  unsigned int v106; // esi
  bool v108; // cf
  int v111; // edi
  int v114; // edx
  unsigned int v115; // esi
  int v116; // eax
  char v117; // al
  int v119; // edi
  int v124; // edi
  bool v125; // cf
  bool v126; // pf
  __m64 v129; // mm0
  int v132; // edi
  int v133; // edi
  unsigned int v134; // edi
  unsigned int v136; // esi
  int v137; // edi
  int v138; // esi
  int v139; // ecx
  char v140; // of
  int v141; // ecx
  int v144; // ebx
  int v145; // edi
  _BYTE *v146; // edi
  int v147; // edx
  unsigned int v150; // esi
  bool v151; // cf
  int v153; // edi
  int v154; // edx
  unsigned int v155; // eax
  bool v156; // of
  bool v157; // cf
  int v158; // edi
  unsigned int v159; // ecx
  unsigned int v160; // esi
  unsigned int v162; // eax
  unsigned __int16 v164; // dx
  unsigned int v165; // eax
  char v166; // of
  char v167; // cl
  int v168; // edx
  bool v169; // tt
  int v170; // ecx
  unsigned int v171; // edi
  bool v172; // cf
  unsigned __int8 v173; // al
  int v174; // eax
  int v176; // edi
  bool v180; // tt
  unsigned int v181; // esi
  unsigned int v186; // ebx
  bool v187; // cc
  bool v188; // tt
  int v189; // [esp-8h] [ebp-8h]
  void *retaddr[2]; // [esp+0h] [ebp+0h]

  _ECX = (int)(_ESI + _CF + a4) >> (_ESI + _CF + a4);
  __asm { rcl     edi, cl }
  LOBYTE(_ECX) = (_BYTE)_ECX << _ECX;
  BYTE1(_ECX) >>= _ECX;
  v96 = _ESI & _EDI;
  v97 = __CFADD__((_BYTE)_ECX, -8);
  LOBYTE(_ECX) = _ECX - 8;
  _OF = __OFSUB__(BYTE1(a2)--, 1);
  if ( _OF || !_OF )
  {
    BYTE1(a3) += 9;
    LOBYTE(a3) = (BYTE1(_EBX) & 0xD4) + a3;
    LOBYTE(_ECX) = (_BYTE)_ECX << _ECX;
    BYTE1(_ECX) <<= _ECX;
    LOBYTE(_ECX) = _ECX - 109;
    _CF = (unsigned __int8)a3 < 0xAu;
    LOBYTE(a3) = a3 - 10;
    v53 = _ESI;
    v54 = ((unsigned __int16)(a2 + 1) >> 8) - (_CF + 81);
    if ( !__SETP__(v54, 0) && __SETP__(v54, 0) )
    {
      _ESI = -741169128;
      BYTE1(a3) = __ROL1__(BYTE1(a3), _ECX);
      __asm { rcl     esi, cl }
      v57 = __ROL4__(a3, _ECX);
      LOBYTE(v57) = v57 + 1;
      LOBYTE(_ECX) = (_BYTE)_ECX << _ECX;
      return ((int (__fastcall *)(int, unsigned int))nullsub_1)(_ECX, v53 & v57);
    }
LABEL_94:
    JUMPOUT(0x40C708);
  }
  *(_DWORD *)(a2 + 1639273962) += a2 + v97;
LABEL_4:
  _EAX = _ESI ^ a2;
  __asm { rcr     esi, cl }
  LOBYTE(_EAX) = _EAX + 52;
  __asm { rcl     eax, cl }
  --BYTE1(_ECX);
  v103 = v96 - 1;
  LOBYTE(_ECX) = _ECX & 0xC;
  v104 = _EAX;
  LOBYTE(_ECX) = _ECX ^ 0xF3;
  BYTE1(v104) = BYTE1(_EAX) << _ECX;
  BYTE1(_ECX) -= _EAX;
  v75 = _ECX ^ v104;
  _CF = _ESI < v103;
  _ESI = _ESI - v103;
  v73 = __OFSUB__((_BYTE)v75, 1);
  v74 = _CF || (_BYTE)v75 == 1;
  _SF = (char)(v75 - 1) < 0;
  LOBYTE(v75) = v75 - 1;
  if ( !v74 && v74 )
  {
    if ( _SF != v73 )
LABEL_87:
      JUMPOUT(0x40C7DF);
    goto LABEL_35;
  }
  BYTE1(v75) <<= _ECX;
  __asm { rcr     eax, cl }
  v50 = _EBX & _EAX;
  v96 = __ROL4__(v103, _ECX);
  LOBYTE(v50) = (unsigned __int8)(v50 - BYTE1(_ECX)) >> _ECX;
  _EAX = _ESI + __CFSHL__(v75, _ECX) + v50;
  _EDX = v96 | __ROL4__(v75, _ECX);
  SBYTE1(_EAX) >>= _ECX;
  LOBYTE(_EDX) = __ROR1__(6, _ECX);
  v136 = __ROR4__(_ESI, _ECX);
  LOBYTE(_EAX) = (__ROL1__((unsigned __int8)(_EAX - (__CFSHR__(6, _ECX) + BYTE1(_EAX))) >> _ECX, _ECX) - 1) & 0xCA;
  __asm { rcl     al, cl }
  LOBYTE(_EAX) = BYTE1(_EBX) | _EAX;
  v156 = __OFADD__(1124200895, _EBX);
  _EBX += 1124200895;
  if ( !v156 && v156 )
  {
    --_EBP;
    __asm { fcmovbe st, st }
    _ECX |= *(_DWORD *)_EAX;
    v157 = 0;
    while ( 1 )
    {
      LOBYTE(_ECX) = _ECX - (v157 + 57);
      BYTE1(_EBX) = BYTE1(_EDX);
      v158 = v96 - _EBX;
      v159 = _ECX << _ECX;
      BYTE1(_EBX) = _EDX | BYTE1(_EDX);
      _CF = v136 < v159;
      v160 = v136 - v159;
      BYTE1(v159) += BYTE1(_EDX) + _CF;
      LOBYTE(_EBX) = (_BYTE)_EBX << v159;
      LOBYTE(v159) = BYTE1(_EAX) ^ v159;
      _ESI = v160 >> v159;
      _ECX = v159 << v159;
      __asm { rcr     bh, cl }
      LOBYTE(_ECX) = BYTE1(_EAX) | _ECX;
      _CF = __CFSHL__(v158, _ECX);
      v39 = v158 << _ECX;
      ++_EDX;
      LOBYTE(_ECX) = _EAX;
      __asm { rcr     esi, cl }
      LOBYTE(_ECX) = _EAX - (__CFSHL__(v39, _EAX) + BYTE1(_EDX));
      v106 = __ROL4__(_ESI, _ECX);
      LOBYTE(_EBX) = (_EAX | _EBX) + 1 - BYTE1(_EAX);
      BYTE1(_ECX) = BYTE1(_EBX) & ((BYTE1(_ECX) - (_CF - 85)) ^ 0x4E);
      __asm { rcl     bl, cl }
      v108 = v106 < _EAX;
      _ESI = v106 - _EAX;
      v59 = (v39 << _EAX) + 1;
      v8 = v108;
      _CF = __CFADD__(v108, (_BYTE)_ECX);
      LOBYTE(_ECX) = v8 + _ECX;
      _CF |= __CFADD__((_BYTE)_ECX, 113);
      LOBYTE(_ECX) = _ECX + 113;
      _ECX = v59 + _CF + _ECX;
      LOBYTE(_ECX) = (char)_ECX >> _ECX;
      v10 = BYTE1(_EBX) << _ECX;
      if ( _EDX == 20050547 )
        break;
      _BH = (char)(v10 + 122) >> _ECX;
      LOBYTE(_ECX) = BYTE1(_EDX) | (BYTE1(_ECX) + _ECX);
      _ECX = __ROL4__(_ECX, _ECX);
      BYTE1(_ECX) = (BYTE1(_ECX) - 1) ^ 0x15;
      __asm
      {
        rcr     bh, cl
        rcl     esi, cl
      }
      if ( !(_EAX & 1) )
        goto LABEL_87;
LABEL_52:
      v133 = v59 >> _ECX;
      LOBYTE(_ECX) = (char)_ECX >> _ECX;
      __asm
      {
        rcr     cl, cl
        rcl     cl, cl
      }
      LOBYTE(_EBX) = _EBX + 1;
      LOBYTE(_ECX) = _ECX - 1;
      BYTE1(_ECX) >>= _ECX;
      v134 = _EDX & v133;
      LOBYTE(_ECX) = (char)_ECX >> _ECX;
      BYTE1(_ECX) += BYTE1(_EDX);
      _ECX = _EDX | _ECX;
      v136 = _ESI >> _ECX;
      __asm { rcl     ecx, cl }
      BYTE1(_EBX) = (_EDX - 1) & 0x3B;
      LOBYTE(_ECX) = _ECX - 89;
      BYTE1(_ECX) >>= _ECX;
      __asm { rcr     ebx, cl }
      _EAX = __GS__;
      BYTE1(_ECX) <<= _ECX;
      v96 = v134 >> _ECX;
      _ECX = _EBX ^ _ECX;
      v157 = BYTE1(_EBX) < (unsigned __int8)_ECX;
      BYTE1(_EBX) -= _ECX;
      if ( !v157 && v157 )
      {
        _enable();
        __asm { fucomi  st, st(4) }
        v174 = __GS__ + 1020037456;
        __asm { rcr     dl, cl }
        BYTE1(v174) = _ECX ^ ((unsigned __int16)(__GS__ - 30384) >> 8);
        _ESI = v174 + v136 - 1;
        _CF = __CFSHL__(v174, _ECX);
        a2 = v174 << _ECX;
        LOBYTE(a2) = (_EBX + _CF + a2) & 0x7D;
        goto LABEL_4;
      }
    }
    __asm
    {
      rcr     ah, cl
      rcr     dh, cl
    }
    v38 = v59;
    LOBYTE(_ECX) = BYTE1(v59);
    LOBYTE(v38) = v59 - _EDX;
    return __ROL4__(v38, _ECX);
  }
  v30 = v96 + 1;
  v35 = v30 + _EDX;
  _EDI = _EBX | v30;
  __asm
  {
    rcl     edi, cl
    rcl     ah, cl
  }
  LOBYTE(_EAX) = _EBX & _EAX;
  v33 = (_EDI << _ECX) - _EAX;
  _CF = __CFADD__((_BYTE)_EAX, 92);
  LOBYTE(_EAX) = _EAX + 92;
  v34 = _CF + _ECX;
  _CF = BYTE1(v35) < (unsigned __int8)(_CF + _ECX);
  BYTE1(v35) -= v34;
  LOBYTE(v35) = v35 - (_CF + BYTE1(_EAX));
  v36 = _ECX | _EAX;
  v155 = (unsigned int)(v36 << _ECX) >> _ECX;
  if ( _EBX != 519624925 )
    goto LABEL_94;
  v117 = _ECX & (v155 | 0xDD);
  _EDX = ((unsigned int)(v33 + v35) >> _ECX) - v33;
  __asm { rcr     dl, cl }
  v119 = _ECX;
  _CF = __CFADD__(_EDX, _ECX);
  _ECX = _EDX + _ECX;
  _ESI = _EDX ^ (_EDX + (__CFADD__(_CF, -35) | __CFADD__(_CF - 35, 6)) + v136);
  LOBYTE(_ECX) = _ECX - (__CFADD__(v117, 66) - 34);
  BYTE1(_ECX) = __ROL1__(BYTE1(_ECX), _ECX);
  __asm
  {
    rcr     dl, cl
    rcl     cl, cl
  }
  LOBYTE(_ECX) = _ECX & 0x26;
  v124 = v119 + 1;
  v125 = __CFADD__(_ECX, _EDX);
  v126 = __SETP__(_ECX + _EDX, 0);
  _EDX = _ECX + _EDX;
  LOBYTE(_EBX) = BYTE1(_ECX);
  __asm { rcr     cl, cl }
  v129 = _mm_cvtsi32_si64(0x10C13D1Eu);
  if ( v126 || !v126 )
  {
    LOBYTE(_ECX) = _ECX - (v125 + _ESI) - 1;
    _EAX = __ROL4__(281099550, _ECX);
    _CF = BYTE1(_ECX) < (unsigned __int8)(__CFSHL__(281099550, _ECX) + BYTE1(_EDX));
    LOBYTE(_EBX) = BYTE1(_ECX) - (__CFSHL__(281099550, _ECX) + BYTE1(_EDX));
    __asm { rcr     edx, cl }
    LOBYTE(_EAX) = _EDX + _CF + _EAX;
    __asm { rcl     eax, cl }
    _ECX = _mm_cvtsi64_si32(v129);
    BYTE1(_EBX) = __CFSHR__(_EAX - ((BYTE1(_EAX) < (unsigned __int8)_EBX) + BYTE1(_EDX)), _ECX) + 0x80;
    __asm { rcl     ebx, cl }
    if ( _ECX != 281099550 )
      JUMPOUT(0x40C608);
    _ECX = 0;
    __asm { rcr     ecx, cl }
    JUMPOUT(0x40C4DC);
  }
  if ( v126 )
    JUMPOUT(0x40C487);
  v189 = v124;
  _ECX = *(_DWORD *)(_EBP + 1423753739) + v125 + _ECX;
  __asm { rcl     ecx, cl }
  LOBYTE(_EBX) = (_BYTE)_EBX << _ECX;
  v87 = _EDX ^ _ECX;
  _CF = BYTE1(_EDX) < (unsigned __int8)v124;
  BYTE1(_EDX) -= v124;
  v132 = 281099550 << v87;
  LOBYTE(_EBX) = _EBX - 1;
  HIWORD(v45) = 0;
  LOBYTE(_EDX) = __ROL1__(_CF + _EDX + 3, v87);
  LOBYTE(v87) = _EDX;
  v88 = _EDX - 1;
  LOBYTE(v88) = v88 & 0x3A;
  v89 = _ESI ^ _EBX;
  BYTE1(v45) = v89;
  _ECX = v87 - v88;
  _EDX = 0;
  LOBYTE(v45) = -43;
  _EBX = __ROR4__(v89 - _ECX, _ECX);
  LOBYTE(_EBX) = _EBX - 80;
  BYTE1(v45) ^= BYTE1(_EBX);
  LOBYTE(_ECX) = -119;
  __asm { rcr     ebx, cl }
  v68 = _ECX + v132;
  __asm
  {
    rcl     esi, cl
    int     2Eh; DOS 2+ internal - EXECUTE COMMAND
  }
  LOBYTE(_ECX) = -1;
  if ( !__CFSHR__(-119, -119) && __CFSHR__(-119, -119) )
    JUMPOUT(0x40C271);
  _ECX = v45 + __CFSHR__(-119, -119) + _ECX;
  LOBYTE(_EBX) = -114;
  BYTE1(_ECX) = 81;
  BYTE1(_EBX) = __ROR1__(BYTE1(_EBX), _ECX);
  v43 = _EBX << _ECX;
  v44 = _ECX | _ESI;
  LOBYTE(v45) = MEMORY[0xFFFFFFFF];
  if ( v45 == -1073741778 )
  {
    __asm { rcl     ah, cl }
    v111 = v68 - _ECX;
    _ESI = v44 << _ECX;
    v83 = __ROR4__(0, _ECX);
    v84 = (v43 - 1) << _ECX;
    BYTE1(v84) ^= 0x27u;
    ++BYTE1(v83);
    v169 = __CFSHL__(v83, _ECX);
    v168 = __ROL4__(v83, _ECX);
    BYTE1(_ECX) = __ROL1__(-87, _ECX) - (v169 - 65);
    v170 = v168 + _ECX;
    v171 = __ROL4__(v111, v170);
    SBYTE1(v168) >>= v170;
    _CF = __CFSHL__(v168, v170);
    _EDX = v168 << v170;
    v172 = (unsigned __int8)v84 < (unsigned __int8)(_CF - 65);
    _EAX = 3;
    if ( !v172 && v172 )
    {
      __asm { outsd }
      v173 = __inbyte(_EDX);
      JUMPOUT(0x40C360);
    }
    _CF = v171 < _ESI;
    v17 = v171 - _ESI;
    v19 = _CF - 1;
    _CF = (unsigned __int8)_EDX < (unsigned __int8)(_CF - 1);
    LOBYTE(_EDX) = _EDX - v19;
    _ECX = v170 + 1;
    _EBX = v84 - 1;
    v22 = _CF + 21;
    v21 = (unsigned __int8)_ECX < (unsigned __int8)(_CF + 21);
    LOBYTE(_ECX) = _ECX - v22;
    __asm { rcl     ecx, cl }
    v24 = ((char)(_EBX + 1) < 0) ^ __OFADD__(1, (_BYTE)_EBX);
    LOBYTE(_EBX) = _EBX + 1;
    if ( v24 || !v24 )
    {
      LOBYTE(_EDX) = _EDX - (v21 + BYTE1(_EDX));
      v46 = _ECX - _ESI;
      v103 = v17 - (__CFSHR__(_EBX - 1, v46) + _EDX);
      BYTE1(_EBX) += 37;
      LOBYTE(_EBX) = BYTE1(v46);
      _ECX = v46 - _EBX;
      LOBYTE(_ECX) = BYTE1(_EDX) | _ECX;
LABEL_35:
      _EDX = 0;
      _EBX = _ECX + _EBX;
      LOBYTE(_EBX) = __ROR1__(_EBX, _ECX) >> _ECX;
      v59 = _ESI + v103;
      _ECX = 0;
      if ( v76 || !v76 )
      {
        BYTE1(_EBX) += 45;
        BYTE1(_ECX) = 61;
        __GS__ = _EAX;
        _ECX = _ECX - 1;
        _ESI = _ESI >> _ECX;
        LOBYTE(_EBX) = _EAX + _EBX - _ECX - 1;
        __asm { rcl     ebx, cl }
        _ECX = __ROR4__(_ECX, _ECX);
        v186 = _EBX >> _ECX;
        _ZF = v186 == 0;
        v188 = __CFSHL__(v186, _ECX);
        _EBX = __ROL4__(v186, _ECX);
        v187 = v188 || _ZF;
        if ( !v188 && !_ZF && v187 )
        {
          __asm
          {
            fmul    dword ptr [ebp+78h]
            int     77h; IRQ15 - AT/XT286/PS50+ - RESERVED
          }
          *(_BYTE *)(_EBX - 24) = 0;
          MEMORY[0] -= 180617216;
          __asm { retf    0E5B7h }
        }
        goto LABEL_52;
      }
      __asm { icebp }
LABEL_38:
      v77 = __ROL4__(v59, _ECX);
      __asm { rcr     esi, cl }
      BYTE1(_EDX) >>= _ECX;
      _CF = __CFSHL__(_ECX, _ECX);
      _ECX = _ECX << _ECX;
      v80 = _CF - 24;
      v81 = _EBX + (BYTE1(_ECX) < (unsigned __int8)(_CF - 24)) + v77;
      _EBX = v81 | _EBX;
      _CF = __CFADD__(v81, _EBX);
      LOWORD(_EBX) = v81 + _EBX;
      BYTE1(_ECX) = _CF + BYTE1(_ECX) - v80 + 55;
      _DX = (_EDX << _ECX) - _EBX;
      __asm
      {
        rcl     ecx, cl
        rcr     dh, cl
        rcr     bl, cl
      }
      JUMPOUT(0x40C1E9);
    }
    __asm { into }
    LOBYTE(_EAX) = -49;
    LOBYTE(_EDX) = __ROL1__(_EDX, _ECX);
    BYTE1(_EDX) = (BYTE1(_EBX) & (BYTE1(_EDX) - _EBX)) - _EDX;
    _ECX = _EDX;
    __asm { rcr     dl, cl }
    LOBYTE(_ECX) = _ECX - 1;
    _ECX = _EBX ^ _ECX;
    __asm { rcr     ah, cl }
    _EAX = _EAX + 1;
    v146 = (_BYTE *)(368311645 - _EBX + 1);
    BYTE1(_EDX) ^= 0x87u;
    v147 = _EBX | _EDX;
    LOBYTE(_ECX) = _ECX - BYTE1(v147);
    LOBYTE(_EAX) = (_BYTE)_EAX << _ECX;
    v150 = _ECX | (_ESI - 1);
    v151 = __CFSHR__(v147, _ECX);
    _EDX = v147 >> _ECX;
    if ( !v151 && _EDX != 0 && (v151 || _EDX == 0) )
    {
      *v146 = *(_BYTE *)v150;
      *(_BYTE *)(_EAX + 8 * _ECX - 759038458) |= BYTE1(_EDX);
      __asm { fld     dword ptr [eax-31DCE50Fh] }
      v153 = __ROL4__(368311645 - _EBX + 2, _ECX) << _ECX;
      v154 = _EDX >> _ECX;
      LOBYTE(_EBX) = _EBX ^ 0x4F;
      LOBYTE(_EAX) = BYTE1(_EAX) & ((_EAX ^ 0x4B) - 45);
      _EAX = v153 ^ _EAX;
      LOBYTE(_ECX) = (unsigned __int8)_ECX >> _ECX;
      BYTE1(_EAX) = v154;
      _CF = __CFSHR__(v154, _ECX);
      _EDX = v154 >> _ECX;
      LOBYTE(_EAX) = _CF + _EAX - 127;
      __asm { rcr     dh, cl }
      BYTE1(_EBX) += BYTE1(_EAX);
      v144 = _EBX + 1;
      BYTE1(_EDX) ^= 0x59u;
      v145 = v153 >> _ECX;
      _CF = __CFSHR__(v144, _ECX);
      _EBX = v144 >> _ECX;
      LOBYTE(_EAX) = __ROR4__(_EBX + _CF + _EAX, _ECX);
      LOWORD(_ECX) = -26131;
      _EDX = __ROL4__(_EBX & _EDX, 237);
      LOWORD(_EBX) = _EBX | 0x9956;
      _CF = __CFSHL__(_ECX, -19);
      _ECX = _ECX << 13;
      LOBYTE(_EAX) = _EAX - (_CF + _EBX);
      LOBYTE(_EBX) = (_BYTE)_EBX << _ECX;
      __asm { rcr     dh, cl }
      BYTE1(_ECX) -= _EAX;
      __asm { rcl     al, cl }
      v27 = _ECX << _ECX;
      LOBYTE(v27) = (_BYTE)v27 << v27;
      _ECX = v27 << v27;
      LOBYTE(_ECX) = _ECX + 51;
      v12 = __CFSHL__(_ECX, _ECX);
      LOBYTE(_ECX) = __ROL1__(_ECX, _ECX);
      LOBYTE(_EBX) = v12 + _EBX + 68;
      v14 = _ECX | v145;
      v15 = SBYTE1(_ECX) <= (unsigned __int8)_EDX;
      BYTE1(_ECX) -= _EDX;
      v38 = v150;
      if ( v15 || !v15 )
      {
        BYTE1(v38) = BYTE1(v150) - BYTE1(_EBX);
        _ESI = _EBX + (v150 >> _ECX);
        v139 = __ROR4__(_ECX, _ECX);
        _CF = __CFSHR__(v38, v139);
        _EAX = v38 >> v139;
        _OF = __OFADD__(_CF, v139);
        v141 = _CF + v139;
        v140 = _OF | __OFADD__(_ESI, v141);
        _ECX = _ESI + v141;
        if ( !((_ECX < 0) ^ v140 | (_ECX == 0)) && (_ECX < 0) ^ v140 | (_ECX == 0) )
        {
          __asm { outsd }
          JUMPOUT(0x40C58B);
        }
        __asm { rcl     al, cl }
        _CF = __CFADD__(BYTE1(_EBX), 74);
        BYTE1(_EBX) += 74;
        BYTE1(_EAX) -= _CF + 116;
        v92 = _EAX & _EDX;
        LOBYTE(_EAX) = _EBX | _EAX;
        LOBYTE(_ECX) = _ECX | 0xEE;
        BYTE1(_ECX) = __ROR1__(BYTE1(_ECX), _ECX);
        LOBYTE(_EBX) = (_BYTE)_EBX << _ECX;
        BYTE1(_EDX) = BYTE1(_EBX) ^ v92;
        _EDX = v14 + _EDX;
        v58 = _EBX + (_ESI | _EAX);
        v59 = v58 | v14;
        v60 = __ROL4__(v58, _ECX);
        _CF = __CFADD__(BYTE1(_ECX), 12);
        BYTE1(_ECX) += 12;
        _ZF = BYTE1(_ECX) == (unsigned __int8)(_CF + BYTE1(v60));
        BYTE1(_ECX) -= _CF + BYTE1(v60);
        v64 = __CFSHR__(BYTE1(_EBX), _ECX);
        BYTE1(_EBX) = __ROR1__(BYTE1(_EBX), _ECX);
        v63 = v64 || _ZF;
        if ( !v64 && !_ZF && v63 )
          JUMPOUT(0x40C226);
        goto LABEL_38;
      }
      __outdword(1u, v150);
      return __ROL4__(v38, _ECX);
    }
    LOBYTE(_EDX) = -17;
    _CF = BYTE1(_EAX) < BYTE1(_EDX);
    BYTE1(_EAX) -= BYTE1(_EDX);
    v176 = _EAX | (unsigned int)&v146[-_CF - _EBX];
    _ECX = _ECX - _EAX;
    __asm { rcr     edx, cl }
    ++BYTE1(_EDX);
    v180 = __CFSHL__(_ECX, _ECX);
    _ECX = __ROL4__(_ECX, _ECX);
    BYTE1(_EAX) += _EBX + v180;
    v181 = v150 - 1;
    __asm { rcr     edx, cl }
    _ECX = _ECX >> _ECX;
    v114 = _EBX ^ _EDX;
    LOBYTE(v114) = (_EBX | (BYTE1(_ECX) - BYTE1(_EAX))) ^ v114;
    v116 = (_EAX - 1) << _ECX;
    v115 = v181 << _ECX;
    LOBYTE(v116) = (_BYTE)v116 << _ECX;
    if ( __SETP__(v116, 0) || !__SETP__(v116, 0) )
    {
      BYTE1(v116) ^= 0xABu;
      LOBYTE(v116) = v116 + 76;
      BYTE1(v114) = -34;
      __asm { rcl     cl, cl }
      v137 = __ROR4__(v114 & v176, _ECX);
      v138 = (int)(v115 << _ECX) >> _ECX;
      if ( !__SETP__(v138, 0) && __SETP__(v138, 0) )
        JUMPOUT(0x40C567);
      HIBYTE(v164) = _EBX | 0xDE;
      _CF = __CFSHL__(BYTE1(v116), _ECX);
      BYTE1(v116) <<= _ECX;
      v162 = v137 + _CF + v116;
      BYTE1(_ECX) = 28;
      __asm { rcr     ecx, cl }
      LOBYTE(v164) = -126;
      BYTE1(v162) = BYTE1(_EBX) + (BYTE1(v162) >> _ECX);
      v165 = v162 >> _ECX;
      v167 = (unsigned __int8)_ECX >> _ECX;
      if ( !((v167 < 0) ^ v166 | (v167 == 0)) && (v167 < 0) ^ v166 | (v167 == 0) )
      {
        __outbyte(v164, v165 - 1);
        JUMPOUT(0x40C6D5);
      }
      JUMPOUT(0x40C757);
    }
    result = MK_FP(retaddr[0], retaddr[0])();
  }
  else
  {
    BYTE1(_EDX) = 87;
    __asm
    {
      rcr     dh, cl
      rcr     edx, cl
      rcl     edx, cl
    }
    result = (_EDX | MEMORY[0xFFFFFFFF]) - 1;
  }
  return result;
}
// 40BEF0: positive sp value 4 has been found
// 40BF38: control flows out of bounds to 40BF3A
// 40C027: control flows out of bounds to 40C029
// 40C14C: control flows out of bounds to 40C152
// 40C19C: control flows out of bounds to 40C19E
// 40C1C1: control flows out of bounds to 40C1C2
// 40C224: control flows out of bounds to 40C226
// 40C270: control flows out of bounds to 40C271
// 40C561: control flows out of bounds to 40C567
// 40C588: control flows out of bounds to 40C58B
// 40C60B: inconsistent fpu stack
// 40C6D4: control flows out of bounds to 40C6D5
// 40C23A: control flows out of bounds to 40C7DF
// 40C5B0: control flows out of bounds to 40C608
// 40C7A3: control flows out of bounds to 40C1E9
// 40C19C: control flows out of bounds to 40C122
// 40C1D2: control flows out of bounds to 40C708
// 40C34B: control flows out of bounds to 40C4DC
// 40C4D5: control flows out of bounds to 40C487
// 40C6C3: control flows out of bounds to 40C757
// 40C722: control flows out of bounds to 40C360
// 40BF2E: conditional instruction was optimized away because of 'edx.4==131F273'
// 40C021: conditional instruction was optimized away because of 'ecx.4>=0'
// 40C0F1: conditional instruction was optimized away because of 'edx.4==0'
// 40C1BB: conditional instruction was optimized away because of 'edx.4!=0'
// 40C355: conditional instruction was optimized away because of 'cl.1>=1'
// 40C403: conditional instruction was optimized away because of 'edi.4>=0'
// 40C641: conditional instruction was optimized away because of 'al.1>=DDu'
// 40C64B: conditional instruction was optimized away because of 'al.1>=DDu'
// 40C72C: conditional instruction was optimized away because of 'ch.1>=0'
// 40BF24: conditional instruction was optimized away because of 'edx.4==131F273'
// 40C2A9: variable 'v76' is possibly undefined
// 40C6C3: variable 'v166' is possibly undefined
// 40C7E8: variable 'v189' is possibly undefined
// 40BF3B: using guessed type _DWORD nullsub_1();

// nfuncs=2 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
