/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// int __usercall sub_401019@<eax>(int a1@<eax>);
// void __usercall start(int a1@<ebx>, int a2@<edi>);
// LPSTR __stdcall GetCommandLineA();

//-------------------------------------------------------------------------
// Data declarations

char byte_401041[3] = { 'Ù', '\0', 'L' }; // weak
_UNKNOWN loc_4010F2; // weak


//----- (00401019) --------------------------------------------------------
int __usercall sub_401019@<eax>(int a1@<eax>)
{
  return a1 << 23;
}

//----- (004011E6) --------------------------------------------------------
void __usercall start(int a1@<ebx>, int a2@<edi>)
{
  LPSTR v2; // eax
  int v3; // edi
  void **v4; // ecx
  void *v5; // eax
  int v6; // edx
  int v7; // edi
  _DWORD *v8; // eax
  int *v9; // ecx
  char *i; // edi
  char *v11; // edi
  int v12; // edx
  int v13; // eax
  void *retaddr; // [esp+4h] [ebp+0h] BYREF

  v2 = GetCommandLineA();
  v3 = (int)retaddr + a2 + 1;
  sub_401019((int)v2);
  v4 = &retaddr;
  do
  {
    v5 = *v4;
    v4 = (void **)((char *)v4 - 1);
    v3 = ~v3;
  }
  while ( v5 != (void *)-1 );
  v6 = (int)&loc_4010F2;
  v7 = v3 + 215766651;
  v8 = retaddr;
  do
  {
    v8 = (_DWORD *)((char *)v8 + 1);
    HIWORD(v7) &= HIWORD(a1);
    v6 = -v6;
  }
  while ( *v8 != loc_4010F2 );
  v9 = (int *)retaddr;
  for ( i = &byte_401041[(_DWORD)retaddr]; ; i = &v11[-v13] )
  {
    v13 = *v9;
    v9 = (int *)((char *)v9 + 1);
    v11 = &i[v13];
    v12 = *(_DWORD *)&byte_401041[10] ^ v13;
    LOWORD(v13) = v13 - 2;
    if ( !v12 )
      break;
  }
  __asm { retn }
}

// nfuncs=2 queued=2 decompiled=2 lumina nreq=0 worse=0 better=0
// ALL OK, 2 function(s) have been successfully decompiled
