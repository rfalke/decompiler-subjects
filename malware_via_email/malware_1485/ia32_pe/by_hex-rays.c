/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebp>);

//-------------------------------------------------------------------------
// Data declarations

int dword_439000[512] =
{
  -4618,
  1270907136,
  57165176,
  1919467255,
  32077902,
  609524739,
  1449357800,
  -1208012731,
  1417215999,
  -83689407,
  -834513304,
  1877967308,
  1006633078,
  15925504,
  53542734,
  -145966141,
  1673002939,
  1740800286,
  -344641166,
  1254031472,
  1652038516,
  -829751210,
  1879039881,
  1258295935,
  1783457979,
  -2085043332,
  -2117042952,
  1702122691,
  876826457,
  -302599525,
  -967806994,
  1162572642,
  287001415,
  1815627520,
  1211511120,
  -80253142,
  -2006371622,
  268486209,
  1240163466,
  -678751627,
  -135039,
  -2117878791,
  1399943919,
  -1697709239,
  1673003209,
  56178503,
  2118730695,
  500694911,
  1869607094,
  1689802355,
  1494497396,
  -834580115,
  -1224146432,
  -948962369,
  1884190322,
  1322648408,
  -3976749,
  1135644693,
  -2006,
  -131220001,
  -244187121,
  1732689990,
  -888977470,
  63147334,
  457750737,
  1806963734,
  -563690722,
  6898722,
  -1229304897,
  474723357,
  206009422,
  -668195605,
  -39820885,
  1475047279,
  -635816909,
  1634648449,
  263878518,
  -507561434,
  916155935,
  236645190,
  5453897,
  608471880,
  989559804,
  1320841403,
  -474663850,
  373640550,
  1701867707,
  1865921596,
  1117176641,
  -217996721,
  306853563,
  1875115858,
  1733882390,
  954827081,
  673805940,
  -234665472,
  -620263490,
  1682532863,
  -2126296759,
  -1470934546,
  1421113579,
  386844783,
  1760491564,
  678183280,
  1090928961,
  -77867261,
  804792447,
  -1073715200,
  1609361582,
  -1958985725,
  138447865,
  -2031067304,
  897005686,
  -260423004,
  -469102035,
  1113584546,
  -2081963761,
  -17136416,
  637613300,
  185101138,
  1113079308,
  1481174144,
  14159437,
  -53452387,
  179354440,
  -1938657250,
  390211516,
  16297783,
  1684697022,
  1682030946,
  1316338265,
  -1241517532,
  1683000003,
  -931762194,
  1455312997,
  -1204721550,
  -606355472,
  -1171119862,
  -1639158448,
  1211582702,
  1790591737,
  809850986,
  -43469347,
  -1773596259,
  1639273929,
  1589852125,
  1122334455,
  386001927,
  -1754071804,
  337085860,
  -313520369,
  -1080145470,
  17386478,
  -328166329,
  -633227483,
  -2129461071,
  654584336,
  -322179810,
  -322135189,
  -321210488,
  -750647004,
  -232938038,
  1623059692,
  -882593183,
  -1829924680,
  1071685344,
  1307572692,
  -261283384,
  -195931500,
  91249441,
  -631419503,
  -661153905,
  -330924885,
  1074183285,
  -974322039,
  -24928758,
  1630399892,
  1178080277,
  1948451934,
  -1474287853,
  1574503451,
  1875065238,
  1190367708,
  1902683195,
  -1152902941,
  -2039264836,
  169908716,
  -1286336921,
  -1754019785,
  271089132,
  1444228870,
  929484541,
  387509343,
  334256416,
  807537179,
  731393612,
  218345907,
  932644207,
  -125431150,
  946733437,
  1391768726,
  -1659741223,
  -2087576723,
  1403027173,
  717423059,
  331380287,
  -1410555546,
  1998135639,
  224909945,
  440593456,
  1626115679,
  -2118841462,
  761256035,
  -1082922572,
  -874976003,
  565984384,
  -332132894,
  2020207643,
  484731097,
  58016586,
  -306773556,
  -244784487,
  174815825,
  -685384468,
  -2088007730,
  -675199808,
  -1892294330,
  461642094,
  -1457701544,
  400139288,
  -1334911726,
  463984775,
  242692258,
  -322383843,
  1139744077,
  -999297986,
  1499465964,
  1320018496,
  -534702911,
  1280015260,
  772647345,
  1426174095,
  -1749703149,
  49028598,
  71099437,
  1327833508,
  1672464851,
  485285785,
  602692531,
  1305007436,
  -1595682396,
  -1386296978,
  -1689136366,
  1202406394,
  1548592732,
  1259668855,
  1439400581,
  -612660936,
  835486162,
  -834892004,
  -1753281555,
  -765774899,
  -1927018622,
  -231103062,
  1101331125,
  336371323,
  1582167452,
  1697943251,
  -101079200,
  -956008929,
  993128565,
  -1192443073,
  481034967,
  1035096940,
  1674043185,
  763654967,
  -1984661974,
  2015391031,
  -1947438875,
  -85152539,
  1813332551,
  -1590544720,
  -1207616713,
  -223705467,
  1007170934,
  1166083044,
  -885419121,
  1498778240,
  430608861,
  -2013861546,
  -576831045,
  1313670039,
  926804913,
  -1792791075,
  1594201367,
  -1120682174,
  -946148735,
  -1946049245,
  -2046568231,
  -319218554,
  -1457129728,
  66066680,
  -176350370,
  -1954958574,
  96306734,
  -499581520,
  404939150,
  -577790160,
  -254604168,
  -368561211,
  -742739590,
  1287495776,
  32294233,
  20730755,
  -403490958,
  -1319288852,
  728213203,
  14937150,
  -1153702912,
  -447525495,
  1729198983,
  2080895651,
  -1664397387,
  -1163274330,
  -1158081351,
  -2116984522,
  985394325,
  -1192463818,
  561671481,
  -1246457787,
  726169507,
  -1153267744,
  2106901324,
  507721728,
  -1492163976,
  -1615059041,
  498287070,
  492024681,
  94057222,
  37228177,
  -1780632268,
  1268875424,
  -1340246779,
  -853053997,
  2132717165,
  -617228308,
  1522276879,
  -1189854918,
  -2058007054,
  911108117,
  -1877935618,
  -812826087,
  -1024882099,
  -279750725,
  -1479553519,
  -1297192018,
  167448554,
  -1512830515,
  1238616832,
  948303571,
  -1052158457,
  -769794878,
  19680958,
  851353367,
  1175986470,
  295656838,
  -1920123159,
  1525085848,
  -169066520,
  1746524245,
  -2123544533,
  881806735,
  -874888777,
  -1843894828,
  1975426542,
  -1356258436,
  -78735360,
  1337815345,
  -203716757,
  -1324687089,
  1144359609,
  1881664519,
  -306878372,
  48095059,
  -1581400973,
  629792837,
  -2104619460,
  2133429641,
  -934185893,
  -988095963,
  -21040896,
  917786022,
  -1534593253,
  -1910992103,
  -147597566,
  -949888611,
  -513497415,
  2087488872,
  149157540,
  -459879609,
  -691669531,
  -1056460495,
  1869157100,
  1108219801,
  -1002394319,
  414618327,
  1553280023,
  -1841201915,
  -2072055953,
  -1069501011,
  -1243341840,
  398963585,
  660439385,
  500897426,
  -1953954282,
  -1338361346,
  1209242180,
  1901296660,
  -49347756,
  -464415202,
  -176040099,
  -1458305953,
  1854091480,
  1330186658,
  -1933447605,
  194753656,
  2137457010,
  1968641235,
  1201667189,
  -220918945,
  -1193168950,
  1357694459,
  -1375398645,
  1773765993,
  -566203255,
  965812431,
  1354791181,
  -2129728548,
  40444486,
  -1961957108,
  -749766299,
  1291947558,
  -703257589,
  -1861489346,
  1142274220,
  -1808913727,
  410593051,
  1617658490,
  -1923200634,
  -478612244,
  1299590484,
  -1485425794,
  -1403665749,
  -656990963,
  -434776071,
  1275126214,
  -243745864,
  1110513897,
  -543854113,
  -316109632,
  -2073414400,
  -1455370075,
  -1088189670,
  -116466874,
  868154377,
  433316353,
  -2127754437,
  -1512009573,
  -606373891,
  1441616712,
  -1655239444,
  902210465,
  523450159,
  1445775567,
  521882913,
  -1250835397,
  1232531931,
  1394606659,
  1925800404,
  1609134205,
  1651155846,
  -2134534051,
  -1043110775,
  -1086880498,
  -906576442,
  -1390147627,
  -2005877613,
  -920525962,
  1165658834,
  -485470801,
  1567058132,
  1218500131,
  -2108103374,
  -1091852727,
  -1681922584,
  -707115053,
  -1339612242,
  -763763350,
  61202483,
  1902583933,
  -1166644848,
  -2110911620,
  -1231921189,
  148330648,
  320952360,
  1803242106,
  864911547,
  1824706580,
  499381326,
  -1357932097,
  -488285324,
  -34458211
}; // weak


//----- (004459C0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebp>)
{
  int *v4; // esi
  int *v5; // edi
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  int i; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  unsigned int v16; // eax
  bool v17; // zf
  int v18; // ebx
  int v19; // ett
  unsigned int v20; // eax
  bool v21; // cf
  int v22; // ebx
  int v23; // ett
  bool v24; // cf
  int v25; // ebx
  int v26; // ett
  int v27; // ecx
  int v28; // ecx
  unsigned int v29; // eax
  unsigned int v30; // eax
  int v31; // eax
  bool v32; // cf
  int v33; // ebx
  int v34; // ett
  bool v35; // cf
  int v36; // ebx
  int v37; // ett
  bool v38; // cf
  int v39; // ebx
  int v40; // ebx
  int v41; // ett
  bool v42; // zf
  int v43; // ebx
  int v44; // ett
  unsigned int v45; // ecx
  char *v46; // edx
  char v47; // al
  int v48; // eax
  bool v49; // cc
  int *v50; // esi
  int *v51; // edi
  int v52; // ecx
  char v53; // al
  unsigned __int8 v54; // al
  int v55; // eax
  int v56; // eax
  char v57; // t0
  unsigned __int8 v58; // bl
  char *v59; // edi
  int v60; // eax
  int *v61; // ebx
  int v62; // ebp
  char v63; // al
  char *v64; // ecx
  unsigned __int8 v65; // al
  int v66; // eax
  void (__cdecl *v67)(int *, int, int, int *); // ebp
  int *v68; // edi
  int v69[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v70; // [esp+2Ch] [ebp-80h] BYREF
  int v71; // [esp+30h] [ebp-7Ch] BYREF
  char *v72; // [esp+34h] [ebp-78h]
  int *v73; // [esp+38h] [ebp-74h]
  int v74; // [esp+3Ch] [ebp-70h]
  int v75; // [esp+40h] [ebp-6Ch]
  int v76; // [esp+44h] [ebp-68h]
  int v77; // [esp+48h] [ebp-64h]
  int *v78; // [esp+4Ch] [ebp-60h]
  int v79; // [esp+50h] [ebp-5Ch]
  int v80; // [esp+54h] [ebp-58h]
  int v81; // [esp+58h] [ebp-54h]
  int v82; // [esp+5Ch] [ebp-50h] BYREF

  v78 = &v82;
  v76 = a3;
  v75 = a2;
  v74 = a1;
  v4 = dword_439000;
  v5 = &dword_439000[-57344];
  v73 = &dword_439000[-57344];
  while ( 1 )
  {
    v9 = *v4;
    v7 = (unsigned int)v4++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v4;
        v4 = (int *)((char *)v4 + 1);
        *(_BYTE *)v5 = v6;
        v5 = (int *)((char *)v5 + 1);
      }
      else
      {
        for ( i = 1; ; i = v20 + v21 + v20 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v16 = i + v12 + i;
          v7 = __CFADD__(v13, v13);
          v17 = 2 * v13 == 0;
          v8 = 2 * v13;
          if ( v7 )
          {
            if ( !v17 )
              break;
            v18 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v19 = v7 + v18;
            v7 = __CFADD__(v7, v18) | __CFADD__(v18, v19);
            v8 = v18 + v19;
            if ( v7 )
              break;
          }
          v20 = v16 - 1;
          v21 = __CFADD__(v8, v8);
          v8 *= 2;
          if ( !v8 )
          {
            v22 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v23 = v7 + v22;
            v21 = __CFADD__(v7, v22) | __CFADD__(v22, v23);
            v8 = v22 + v23;
          }
        }
        v28 = 0;
        v7 = v16 < 3;
        v29 = v16 - 3;
        if ( v7 )
        {
          v32 = __CFADD__(v8, v8);
          v8 *= 2;
          if ( !v8 )
          {
            v33 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v34 = v7 + v33;
            v32 = __CFADD__(v7, v33) | __CFADD__(v33, v34);
            v8 = v33 + v34;
          }
        }
        else
        {
          v30 = v29 << 8;
          LOBYTE(v30) = *(_BYTE *)v4;
          v4 = (int *)((char *)v4 + 1);
          v31 = ~v30;
          if ( !v31 )
          {
            v50 = v73;
            v51 = v73;
            v52 = 40;
            while ( 1 )
            {
              v53 = *(_BYTE *)v51;
              v51 = (int *)((char *)v51 + 1);
              v54 = v53 + 24;
              while ( v54 <= 1u && *(_BYTE *)v51 == 1 )
              {
                v55 = *v51;
                LOWORD(v55) = BYTE1(*v51);
                v56 = __ROL4__(v55, 16);
                v57 = v56;
                LOBYTE(v56) = BYTE1(v56);
                BYTE1(v56) = v57;
                v58 = *((_BYTE *)v51 + 4) + 24;
                *v51 = (int)v50 + v56 - (_DWORD)v51;
                v51 = (int *)((char *)v51 + 5);
                v54 = v58;
                if ( !--v52 )
                {
                  v59 = (char *)(v50 + 68608);
LABEL_44:
                  v60 = *(_DWORD *)v59;
                  if ( *(_DWORD *)v59 )
                  {
                    v61 = (int *)((char *)v50 + *((_DWORD *)v59 + 1));
                    v59 += 8;
                    v62 = ((int (__cdecl *)(int, int, int, int, int, int *, int, int, int))v50[71265])(
                            (int)v50 + v60 + 284900,
                            v74,
                            v75,
                            v76,
                            v77,
                            v78,
                            v79,
                            v80,
                            v81);
                    while ( 1 )
                    {
                      v63 = *v59++;
                      if ( !v63 )
                        goto LABEL_44;
                      v64 = v59;
                      v72 = v59;
                      v65 = v63 - 1;
                      do
                      {
                        if ( !v64 )
                          break;
                        v17 = *v59++ == (char)v65;
                        --v64;
                      }
                      while ( !v17 );
                      v66 = ((int (__cdecl *)(int, char *))v50[71266])(v62, v72);
                      if ( !v66 )
                        break;
                      *v61++ = v66;
                    }
                    v60 = ((int (*)(void))v50[71270])();
                  }
                  v67 = (void (__cdecl *)(int *, int, int, int *))v50[71267];
                  v68 = v50 - 1024;
                  v70 = v60;
                  v67(v50 - 1024, 4096, 4, &v70);
                  *((_BYTE *)v68 + 463) &= 0x7Fu;
                  *((_BYTE *)v68 + 503) &= 0x7Fu;
                  v67(v50 - 1024, 4096, v69[0], v69);
                  do
                    v70 = 0;
                  while ( &v70 != &v71 - 32 );
                  JUMPOUT(0x4010EC);
                }
              }
            }
          }
          v32 = v31 & 1;
          a4 = v31 >> 1;
        }
        if ( v32 )
          goto LABEL_15;
        v28 = 1;
        v35 = __CFADD__(v8, v8);
        v8 *= 2;
        if ( !v8 )
        {
          v36 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v37 = v7 + v36;
          v35 = __CFADD__(v7, v36) | __CFADD__(v36, v37);
          v8 = v36 + v37;
        }
        if ( v35 )
        {
LABEL_15:
          v24 = __CFADD__(v8, v8);
          v8 *= 2;
          if ( !v8 )
          {
            v25 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v26 = v7 + v25;
            v24 = __CFADD__(v7, v25) | __CFADD__(v25, v26);
            v8 = v25 + v26;
          }
          v27 = v28 + v24 + v28;
        }
        else
        {
          while ( 1 )
          {
            v38 = __CFADD__(v8, v8);
            v39 = 2 * v8;
            if ( !v39 )
            {
              v40 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v41 = v7 + v40;
              v38 = __CFADD__(v7, v40) | __CFADD__(v40, v41);
              v39 = v40 + v41;
            }
            v28 += v38 + v28;
            v7 = __CFADD__(v39, v39);
            v42 = 2 * v39 == 0;
            v8 = 2 * v39;
            if ( v7 )
            {
              if ( !v42 )
                break;
              v43 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v44 = v7 + v43;
              v7 = __CFADD__(v7, v43) | __CFADD__(v43, v44);
              v8 = v43 + v44;
              if ( v7 )
                break;
            }
          }
          v27 = v28 + 2;
        }
        v45 = (a4 < 0xFFFFFB00) + v27 + 2;
        v46 = (char *)v5 + a4;
        if ( a4 <= 0xFFFFFFFC )
        {
          do
          {
            v48 = *(_DWORD *)v46;
            v46 += 4;
            *v5++ = v48;
            v49 = v45 <= 4;
            v45 -= 4;
          }
          while ( !v49 );
          v5 = (int *)((char *)v5 + v45);
        }
        else
        {
          do
          {
            v47 = *v46++;
            *(_BYTE *)v5 = v47;
            v5 = (int *)((char *)v5 + 1);
            --v45;
          }
          while ( v45 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 445B63: positive sp value 50 has been found
// 445B63: control flows out of bounds to 4010EC
// 439000: using guessed type int dword_439000[512];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
