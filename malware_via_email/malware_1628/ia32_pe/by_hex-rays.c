/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __userpurge start(bool a1@<cf>, __int16 a2@<ax>, int _EDX@<edx>, int _ECX@<ecx>, unsigned int a5@<ebx>, int a6@<edi>, unsigned int a7@<esi>, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);


//----- (0040C6C1) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __userpurge start(bool a1@<cf>, __int16 a2@<ax>, int _EDX@<edx>, int _ECX@<ecx>, unsigned int a5@<ebx>, int a6@<edi>, unsigned int a7@<esi>, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  int v64; // esi
  int v66; // esi
  bool v67; // tt
  int v71; // edi
  unsigned int v73; // ebx
  int v75; // edx
  int v76; // ebx
  int v78; // ebx
  int v79; // esi
  __int16 v81; // dx
  bool v83; // zf
  __int16 v89; // ax
  unsigned int v91; // esi
  int v92; // esi
  signed int v93; // edx
  int v94; // ebx
  int v96; // ecx

  v89 = a2 - 1;
  LOBYTE(v89) = -55;
  __asm { rcl     ecx, 16h }
  LOWORD(_ECX) = _ECX + 1;
  v91 = a7 >> _ECX;
  LOBYTE(_ECX) = _ECX | 0xE3;
  BYTE1(_ECX) = -BYTE1(_ECX);
  BYTE1(_EDX) += ((unsigned __int16)(_EDX + a1 + v89) >> 8) + (BYTE1(_ECX) != 0);
  v92 = __ROL4__(v91, 6);
  LOBYTE(a5) = BYTE1(_EDX);
  LOBYTE(_EDX) = ~(_BYTE)_EDX - _ECX;
  __asm { rcl     edx, 15h }
  LOBYTE(_ECX) = _ECX - 1;
  _ECX <<= 8;
  BYTE1(_ECX) += _ECX;
  LOWORD(_ECX) = _EDX | _ECX;
  BYTE1(a5) ^= _ECX;
  LOBYTE(_ECX) = BYTE1(_EDX) | _ECX;
  __asm { rcl     ecx, 1Eh }
  BYTE1(_EDX) = -34;
  BYTE1(a5) -= 61;
  LOWORD(a5) = v92 | a5;
  __asm
  {
    rcl     dl, cl
    rcl     cl, cl
  }
  v96 = _ECX << _ECX;
  BYTE1(v96) &= 0x23u;
  _ECX = v96 << v96;
  LOWORD(_EDX) = (unsigned __int16)_EDX >> _ECX;
  __asm { rcl     cx, cl }
  _ESI = __ROR4__(v92, 16);
  BYTE1(_EDX) = __ROR1__(BYTE1(_EDX), _ECX);
  v71 = _EDX & (__ROR4__(-a6, 1) << 21);
  BYTE1(a5) -= 73;
  LOBYTE(a5) = (unsigned __int8)a5 >> _ECX;
  a1 = __CFSHR__(v71, _ECX);
  LOWORD(v71) = (__int16)v71 >> _ECX;
  v73 = a5 >> 14;
  BYTE1(_EDX) = BYTE1(_ECX) | (BYTE1(_EDX) - (a1 + _EDX));
  LOBYTE(_EDX) = __ROL1__(_EDX, _ECX) << _ECX;
  BYTE1(_ECX) ^= 0x8Bu;
  LOBYTE(_ECX) = _ECX + 94;
  _EDX >>= 15;
  _ECX = -_ECX;
  BYTE1(_EDX) -= (_ECX != 0) + v73;
  __asm
  {
    rcr     si, cl
    rcl     ch, cl
  }
  _ECX = _ESI ^ _ECX;
  LOBYTE(_EDX) = v73 & _EDX;
  BYTE1(_ECX) += _ECX;
  _EDX <<= 25;
  v78 = _ECX;
  LOWORD(_ECX) = -(__int16)_ECX;
  __asm { rcl     cx, cl }
  v78 *= 4;
  LOBYTE(v78) = ~(_BYTE)v78;
  LOWORD(_EDX) = _EDX - _ECX;
  BYTE1(_EDX) &= 0x5Du;
  v75 = _EDX >> _ECX;
  BYTE1(v75) <<= _ECX;
  LOWORD(_ESI) = __ROL2__(_ESI, _ECX);
  a1 = __CFSHL__(v78, _ECX);
  v76 = v78 << _ECX;
  --v75;
  --BYTE1(_ECX);
  LOBYTE(v76) = v76 - BYTE1(_ECX);
  v79 = _ECX | (v71 + a1 + _ESI);
  a1 = __CFSHR__(BYTE1(v76), _ECX);
  BYTE1(v76) >>= _ECX;
  v94 = v76 - 1;
  LOBYTE(v75) = v75 - (a1 + 94);
  BYTE1(_ECX) += 63;
  _ECX = _ECX << _ECX;
  LOBYTE(_ECX) = (char)_ECX >> _ECX;
  v93 = v75 | 0xAC7DE9BA;
  LOBYTE(v94) = BYTE1(_ECX) & v94;
  LOWORD(_ECX) = -(__int16)_ECX;
  _EDI = v71 - v93;
  LOBYTE(v94) = __ROL1__(v94, _ECX) >> _ECX;
  LOWORD(v93) = v93 & 0xE9BA;
  LOWORD(_ECX) = v79;
  _EDX = v93 >> 11;
  v83 = _EDX == 0;
  __asm
  {
    rcr     cl, cl
    rcr     dl, cl
  }
  if ( !v83 && v83 )
  {
    _ECX = _ECX - 1;
    if ( !v83 || !_ECX )
    {
      __asm { rcr     cx, cl }
      LOBYTE(_EDX) = (char)_EDX >> _CX;
      _DH = ((unsigned __int16)(_EDX << _CX) >> 8) + 1;
      __asm { rcl     dh, cl }
      JUMPOUT(0x40BF33);
    }
    JUMPOUT(0x40C6CB);
  }
  v64 = v79 + 1;
  LOBYTE(_ECX) = (((_BYTE)_ECX != 0) - _ECX - 70) | 0xBA;
  _ECX = _ECX + 1;
  v67 = __CFSHL__(v64, 22);
  v66 = __ROL4__(v64, 22);
  LOWORD(_ECX) = _ECX - (v67 + (_WORD)v94);
  BYTE1(_ECX) &= 0xE9u;
  a1 = (unsigned __int16)v66 < (unsigned __int16)_ECX;
  LOWORD(v66) = v66 - _ECX;
  __asm { rcr     edi, 18h }
  BYTE1(_EDX) = _ECX;
  LOBYTE(v94) = _ECX + a1 + v94;
  a1 = __CFSHL__(v94, _ECX);
  LOBYTE(v94) = (_BYTE)v94 << _ECX;
  _EBX = v66 - 1 + a1 + v94;
  v81 = (unsigned __int16)_EDX >> _ECX;
  __asm { rcl     ecx, 2 }
  BYTE1(_ECX) &= HIBYTE(v81);
  __asm { rcr     cx, cl }
  LOWORD(_EBX) = _ECX & _EBX;
  __asm { rcr     ebx, 1Eh }
  JUMPOUT(0x40C83F);
}
// 40C348: positive sp value 1C has been found
// 40BFD6: control flows out of bounds to 40BFD7
// 40C285: control flows out of bounds to 40C287
// 40C2E6: inconsistent fpu stack
// 40C7F1: control flows out of bounds to 40C7F2
// 40C83E: control flows out of bounds to 40C843
// 40C964: control flows out of bounds to 40C966
// 40C039: control flows out of bounds to 40C03A
// 40C46B: control flows out of bounds to 40C8DD
// 40C4B0: control flows out of bounds to 40C90E
// 40C68F: control flows out of bounds to 40BF33
// 40C7CA: control flows out of bounds to 40BFAA
// 40C938: control flows out of bounds to 341ABF6F
// 40BEFF: control flows out of bounds to 40C937
// 40BFC8: control flows out of bounds to 40C8AF
// 40C0B4: control flows out of bounds to 40C93C
// 40C117: control flows out of bounds to 40C100
// 40C240: control flows out of bounds to 40C250
// 40C277: control flows out of bounds to 40C5CB
// 40C29A: control flows out of bounds to 40C83F
// 40C483: control flows out of bounds to 40C5A7
// 40C559: control flows out of bounds to 40C57A
// 40C673: control flows out of bounds to 40C6CB
// 40C87B: control flows out of bounds to 40C1D7
// 40C889: control flows out of bounds to 40C820
// 40C8E7: control flows out of bounds to 40C8FB
// 40C932: control flows out of bounds to 40C8F5
// 40C934: control flows out of bounds to 40C93B
// 40C1CE: conditional instruction was optimized away because of 'di.2!=0'
// 40C2A2: conditional instruction was optimized away because of 'dl.1!=0'
// 40C39A: conditional instruction was optimized away because of 'edx.4!=0'
// 40C7EB: conditional instruction was optimized away because of 'cx.2!=0'
// 40C6C1: too many input arguments, some ignored

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
