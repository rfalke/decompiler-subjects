/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// char __usercall start@<al>(unsigned int _EAX@<eax>, int@<edx>, int@<ecx>, unsigned int@<ebx>, int@<esi>);


//----- (0040111A) --------------------------------------------------------
char __usercall start@<al>(unsigned int _EAX@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebx>, int a5@<esi>)
{
  unsigned int v5; // edx
  unsigned int v6; // esi
  unsigned int v7; // ecx
  unsigned int v8; // edx
  unsigned int v9; // edi
  int v12; // eax
  char v13; // dh
  int v14; // edi
  int v15; // ecx
  int v16; // edx
  int v19; // edi
  char v20; // cl
  bool v21; // cc
  int v22; // edi
  char v23; // al
  unsigned int v24; // edx
  char v25; // cl
  char v27; // bh
  int v28; // ecx
  int v29; // eax
  unsigned int v30; // ecx
  int v31; // edi
  unsigned int v32; // eax
  unsigned int v33; // edx
  bool v34; // cf
  unsigned int v35; // esi
  unsigned int v37; // edx
  unsigned int v38; // ebx
  bool v39; // cc
  char v40; // cl
  char v42; // cl
  _BYTE *v43; // edx
  int v44; // edi
  int v45; // edx
  bool v46; // cf
  unsigned int v48; // esi
  char v49; // cc
  unsigned int v50; // esi
  char v51; // cc
  unsigned int v52; // edx
  bool v53; // zf
  unsigned int v54; // ecx
  int v56; // eax
  int v57; // esi
  int v58; // edx
  bool v59; // cc
  int savedregs; // [esp+0h] [ebp+0h]

  v14 = a2 - a4;
  v6 = _EAX + (a3 | a5) + 1766597943;
  v7 = v6 + 1;
  v48 = v6 - 427025441;
  v45 = v7 + 295106102;
  v44 = (v7 | (v48 + v14 + 1151931569)) - 1;
  _ECX = v48 ^ 0x27802419;
  v49 = ((int)(v48 + 549766145) < 0) ^ __OFADD__(549766145, v48) | (v48 == -549766145);
  v35 = v48 + 549766145;
  if ( v49 || !v49 )
  {
    v8 = _ECX + v45;
    v9 = _ECX;
    v34 = __CFSHR__(_EAX, _ECX);
    LOBYTE(_EAX) = (char)_EAX >> _ECX;
    _EBX = -1218734960;
    LOBYTE(v8) = (_BYTE)v8 << _ECX;
    BYTE1(v8) = -108;
    BYTE1(_ECX) += 104;
    v30 = _ECX - 1;
    BYTE1(_EAX) = ~(v34 + BYTE1(_EAX) - 62);
    v31 = v30 ^ (v9 - 1);
    v32 = _EAX | 0x2806C3D6;
    v33 = v8 + 656250793;
    v19 = v31 - 1745723565;
    LOBYTE(v33) = v33 - 39;
    LOBYTE(_EBX) = --BYTE1(v33);
    v20 = (((unsigned __int8)v30 >> v30) | 0x8B) + 1;
    v21 = v19 < 1;
    v22 = v19 - 1;
    __asm { fnclex }
    if ( !v21 && v21 )
    {
      ++*(_DWORD *)(v32 - 1160675070);
      v23 = BYTE1(v33) + v32;
      v24 = v33 - 980829512;
      v25 = v20 | 0x60;
      v43 = (_BYTE *)(v24 + 758941536);
      v42 = v25 | 0x94;
      SBYTE1(v43) >>= v42;
      if ( !__CFADD__(v42, v23) && v42 + v23 != 0 && (__CFADD__(v42, v23) || v42 + v23 == 0) )
      {
        *v43 = *v43;
        JUMPOUT(0x4014E2);
      }
      JUMPOUT(0x401479);
    }
    _ECX = 0;
    while ( 1 )
    {
      __asm { smsw    eax }
      if ( ++_ECX == 2 )
        break;
      if ( (_EAX & 8) == 0 )
      {
        do
          __asm { smsw    eax }
        while ( (_EAX & 2) == 0 );
        BYTE1(_ECX) += 23;
        v56 = v22 | _EAX;
        v57 = v56 | (_EBX + 1530167196);
        __asm { rcr     bl, cl }
        v27 = -108
            - ((__CFADD__(__CFSHL__(BYTE1(v33), _ECX), v56) | __CFADD__(__CFSHL__(BYTE1(v33), _ECX) + v56, -551634570))
             - 66);
        v57 &= 0x9CA454F3;
        v28 = v57 | _ECX;
        v29 = 0;
        HIWORD(v16) = HIWORD(v22);
        BYTE1(v28) = ~(v27 | BYTE1(v28));
        LOBYTE(v28) = (_BYTE)v28 << v28;
        BYTE1(v16) = v22 + 118 + BYTE1(v22);
        LOBYTE(v16) = v22 + 118;
        v15 = v28 - v16;
        LOBYTE(v16) = 0;
        LOBYTE(v15) = ((unsigned int)(v57 + 1) < 0x6A2C6534) + v15 - 116 - 64;
        _ECX = v15 & 0x579511C5;
        __asm { int     2Eh; DOS 2+ internal - EXECUTE COMMAND }
        v40 = -__ROR1__(_ECX, _ECX);
        v39 = v40 < 1;
        _CL = ~v40;
        if ( !v39 && v39 )
          JUMPOUT(0x401375);
        __asm { rcr     cl, cl }
        LOBYTE(v29) = MEMORY[0xFFFFFFFF];
        if ( v29 != -1073741778 )
          JUMPOUT(0x40123E);
        BYTE1(v16) = -51;
        BYTE1(_ECX) = -75;
        v12 = (unsigned __int8)__ROL1__(0, _ECX);
        v13 = (_ECX ^ ((unsigned __int16)(v16 - 13425) >> 8)) + 1;
        if ( !__SETP__(v13, 0) && __SETP__(v13, 0) )
        {
          *(_DWORD *)_ECX += v12;
          JUMPOUT(0x4010F3);
        }
        JUMPOUT(0x4011DB);
      }
    }
  }
  else
  {
    v46 = 0;
    *(_BYTE *)(_EAX + 64) &= _EAX;
    while ( 1 )
    {
      LOBYTE(v45) = (_BYTE)v45 << _ECX;
      BYTE1(a4) = ~BYTE1(a4);
      BYTE1(_ECX) = BYTE1(_ECX) - (v46 - 126) + 62;
      v50 = v35 + 1;
      LOBYTE(_ECX) = __ROR1__(-(char)_ECX, 2);
      v52 = v45 - a4;
      v51 = ((char)(v52 + BYTE1(v52)) < 0) ^ __OFADD__((_BYTE)v52, BYTE1(v52)) | ((_BYTE)v52 + BYTE1(v52) == 0);
      BYTE1(v52) += v52;
      if ( !v51 )
      {
        if ( v51 )
          break;
      }
      __asm { rcl     ch, cl }
      BYTE1(_ECX) = _CH - 1;
      LOBYTE(v52) = BYTE1(_ECX) | v52;
      BYTE1(v52) |= 0x3Bu;
      v5 = v44 + v52;
      LOBYTE(v5) = BYTE1(a4) | v5;
      _EAX = v50 ^ 0x95608DAA;
      LOBYTE(_EAX) = (unsigned __int8)_EAX >> _ECX;
      _EBX = v50;
      LOBYTE(_ECX) = v50;
      BYTE1(_ECX) += __CFADD__((_BYTE)v5, 36) + 81;
      LOBYTE(v5) = __ROR1__(v5 + 36, v50);
      v34 = v50 < _EAX;
      v35 = v50 - _EAX;
      __asm { rcr     bh, cl }
      if ( v34 || !v34 )
        return _EAX;
      *(_BYTE *)_ECX &= _EAX;
      ++*(_DWORD *)(9 * v44);
      v37 = v5 & 0x8A3C50F0;
      v38 = _EBX + 888889862;
      LOBYTE(v37) = _ECX;
      LOBYTE(v38) = (char)((_BYTE)v38 << _ECX) >> _ECX;
      _ECX |= 0x1F08AA76u;
      v58 = (_ECX | v37) & 0x2575205D;
      BYTE1(_EAX) = __ROR1__(BYTE1(_EAX), 21);
      LOBYTE(_ECX) = _EAX + _ECX;
      LOBYTE(v38) = BYTE1(v58) ^ v38;
      v59 = SBYTE1(_EAX) < (unsigned __int8)v38;
      BYTE1(_EAX) -= v38;
      if ( !v59 && v59 )
      {
        *(_BYTE *)_EAX = *(_BYTE *)_EAX;
        *(_DWORD *)(_EAX - 24) += _EAX;
        savedregs = (unsigned __int16)__CS__;
        JUMPOUT(0x4014E5);
      }
      LOBYTE(v38) = -(char)v38;
      LOBYTE(_EAX) = _ECX;
      v44 = -482856263;
      v45 = v58 & 0x5CC8FB0A;
      BYTE1(_ECX) = -127;
      LOBYTE(_ECX) = (_ECX + 100) | 0xDB;
      LOBYTE(v45) = BYTE1(v38) | v45;
      SBYTE1(v45) >>= _ECX;
      BYTE1(_EAX) <<= _ECX;
      v46 = v38 < _ECX;
      a4 = v38 - _ECX;
      if ( !v46 && v46 )
      {
        *(_BYTE *)_ECX += _EAX + v46;
        JUMPOUT(0x4013D6);
      }
    }
    v53 = (_BYTE)_EAX + *(_BYTE *)(_EAX - 771587926) == 0;
    *(_BYTE *)(_EAX - 771587926) += _EAX;
    __asm { aad     81h }
    v54 = _ECX - 1;
    if ( !v53 && v54 )
      JUMPOUT(0x40141A);
  }
  return _EAX;
}
// 401038: control flows out of bounds to 40103A
// 4010F1: control flows out of bounds to 4010F3
// 401184: control flows out of bounds to 401185
// 4011A5: control flows out of bounds to 4011A7
// 401255: control flows out of bounds to 401257
// 401373: control flows out of bounds to 401375
// 4013D4: control flows out of bounds to 4013D6
// 4014E4: control flows out of bounds to 4014E5
// 40129C: control flows out of bounds to 40123E
// 4013A7: control flows out of bounds to 4014E2
// 4010E5: control flows out of bounds to 4011DB
// 401391: control flows out of bounds to 401479
// 40147C: control flows out of bounds to 40141A
// 40119E: conditional instruction was optimized away because dh.1>=3B
// 401204: conditional instruction was optimized away because ch.1>=0
// 401231: conditional instruction was optimized away because esi.4>=0
// 4012E4: conditional instruction was optimized away because ebx.4>=0

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
