/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int a1@<eax>, char *a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>);

//-------------------------------------------------------------------------
// Data declarations

int dword_435000[512] =
{
  -1876295519,
  1409369600,
  708837152,
  1162552522,
  1279610450,
  1143878195,
  -46004,
  822149119,
  2097165874,
  -1649635522,
  1185529084,
  -2003452259,
  276249207,
  -1656406665,
  -1246195021,
  -37776316,
  -1869152309,
  1144520700,
  50530532,
  -50557239,
  78625349,
  -1229636227,
  -2620010,
  486513663,
  -1908099394,
  2013056921,
  -1870117334,
  7142538,
  -38043666,
  -787154665,
  169100271,
  947848018,
  -227577356,
  1870742226,
  92257151,
  -663129682,
  16530281,
  82722836,
  -1167296198,
  28809215,
  397257511,
  -1627985291,
  402528255,
  376546570,
  731531885,
  -1301367447,
  -426591836,
  -1402425489,
  -1368839280,
  -1704283287,
  1798203691,
  -1177394000,
  1699407506,
  1764452024,
  1739498670,
  1212300970,
  687628442,
  -363260756,
  401447932,
  612406324,
  -620037882,
  -1996288905,
  -654820608,
  991960951,
  -1741944496,
  1997005917,
  -1875982148,
  75496979,
  905873658,
  -1195536577,
  1085866724,
  194035114,
  -810212764,
  775947152,
  657961166,
  -374329790,
  1010435561,
  -151928462,
  -388688808,
  -864455415,
  180154079,
  81601907,
  -1097263427,
  1230819927,
  -1196572773,
  1955973143,
  -1162245797,
  1955978533,
  -1598321130,
  1230819973,
  -1247103885,
  882231453,
  -1215252905,
  387997138,
  -1189695056,
  1463051641,
  -1286044494,
  1887445258,
  -1609913342,
  2115914116,
  1224977656,
  -277670767,
  1085919388,
  -1783066578,
  -469004146,
  44013826,
  -2010234695,
  196262291,
  -75133212,
  -667623499,
  -33778133,
  -1803756396,
  1735336565,
  528751931,
  -169013497,
  -1879588835,
  841244956,
  2045983991,
  1643970040,
  1711917079,
  -1254684476,
  1551987346,
  546544160,
  -1476016105,
  1701970325,
  -1157264292,
  -523872451,
  -26211644,
  874826223,
  -939077533,
  715980164,
  -1270989378,
  1761809403,
  -175506909,
  1803436412,
  -1943208443,
  1226111624,
  -1733580285,
  196266359,
  1898645499,
  -124334966,
  -931943836,
  -734291878,
  -715975,
  2138602885,
  -1990993855,
  362026665,
  349856387,
  -1862607588,
  392557493,
  151161334,
  -1645426069,
  412192178,
  392878290,
  -939343138,
  829891461,
  -230228286,
  1908419587,
  -1830246260,
  195151939,
  -1846300174,
  1126220989,
  -352797583,
  -938380783,
  888271020,
  -224467832,
  1135612627,
  -993751931,
  -269422105,
  -1920523199,
  -317385231,
  -934004472,
  -254674804,
  1917065994,
  1223225471,
  -1196482290,
  1073178359,
  -243012102,
  -1056834340,
  -57934720,
  1185063860,
  1912478651,
  -1800581967,
  1911225796,
  -1773141684,
  -937965314,
  -2003668475,
  1551987352,
  -2121232352,
  -771368612,
  -937989541,
  1684763141,
  367684453,
  -160595130,
  -1539754814,
  -1402563909,
  -1961448026,
  -1360450662,
  -1347605074,
  -426591863,
  -1449547702,
  -1532073685,
  193309326,
  -1415951644,
  -1191009105,
  -1062893934,
  -1415272817,
  -1599607797,
  -1064209760,
  -1582415688,
  731526050,
  329496681,
  -1332503398,
  -1656036341,
  730892702,
  -442552599,
  730896541,
  -1986449687,
  -1195337067,
  -828690752,
  -395228524,
  -1683212281,
  -67855852,
  779091789,
  -1325331432,
  61698372,
  -125289017,
  1737047751,
  -122160265,
  738769373,
  339588332,
  -207340045,
  360576075,
  -2060540239,
  -142680066,
  1964017973,
  -1061914854,
  60437759,
  1939532429,
  1610612561,
  1023084162,
  1525171704,
  1031650862,
  -51500001,
  -977470185,
  -1098317644,
  112721803,
  159974404,
  -1445516169,
  -66683640,
  -1124102193,
  -469754089,
  406707099,
  1173631067,
  1996117673,
  474932731,
  -199192193,
  955524099,
  616169248,
  463900087,
  -80538425,
  549200902,
  -642836478,
  350091066,
  -1586116456,
  245497624,
  -1374610412,
  -1682585253,
  821896237,
  -1069076628,
  -76694938,
  -2835337,
  504384317,
  208879412,
  -588702922,
  2114732072,
  922897708,
  753990621,
  -1994856428,
  -1525870532,
  -1656702709,
  91413371,
  944699777,
  277348119,
  -839946504,
  35777597,
  -2105011160,
  -303556842,
  552022909,
  874002951,
  -865769047,
  -931044499,
  193939481,
  2070276012,
  -331084614,
  135015353,
  1991694356,
  -1482582039,
  -458788416,
  578012175,
  -228663291,
  383702841,
  821955085,
  926377722,
  -1442287110,
  -1116353295,
  800078324,
  1234507292,
  -356542319,
  1062714518,
  158228681,
  2008244778,
  1065199799,
  -536880911,
  -397411324,
  -825243447,
  -1785445171,
  -1492545647,
  -1674303497,
  1996733903,
  868200229,
  1730955001,
  -1258592773,
  349485996,
  -1397932289,
  1087180831,
  153781900,
  -844560629,
  -1303971494,
  273998547,
  -1391939113,
  -592603745,
  1157567497,
  886508048,
  1714907007,
  989402623,
  -1233840642,
  -1218277635,
  890736634,
  -858005122,
  2011995053,
  686549183,
  -1003657,
  -843878899,
  346974653,
  -199834756,
  -1378307568,
  -645809036,
  1069736466,
  815117780,
  754696758,
  -115526546,
  170571754,
  938437661,
  -12934840,
  915015434,
  -553460588,
  1357892605,
  -1281682355,
  -1110084716,
  171397682,
  -36838530,
  -713621354,
  2000005050,
  -1796457826,
  1265089788,
  -2061377042,
  909905533,
  305066188,
  -96720004,
  1374721043,
  -667779513,
  427378697,
  2103311324,
  -1872462704,
  1071683393,
  302495124,
  1044977815,
  1763750207,
  1135609416,
  606359071,
  2032212836,
  837652323,
  -921820356,
  -575193964,
  -1191429892,
  1257015186,
  2096121652,
  566845434,
  1858617497,
  1629427012,
  397934347,
  2007580663,
  3702544,
  -307516753,
  -934862092,
  -2006228128,
  -1304687183,
  1739664519,
  2136603772,
  1494061255,
  801335660,
  -982693913,
  392869801,
  -1492970262,
  -1210206485,
  -1031862568,
  1528040170,
  -259585539,
  180885514,
  -330552053,
  -2042258114,
  -93550972,
  1432762984,
  162939794,
  -1278310077,
  226882745,
  -21226231,
  1296489743,
  -909212541,
  -2046796274,
  350767724,
  -76808642,
  -2023408737,
  -817936276,
  -643108673,
  34233131,
  12150215,
  608014406,
  179752716,
  -1876827255,
  -1880325780,
  -2028024084,
  -163371980,
  284459519,
  946290569,
  -388188606,
  2000963345,
  -2090828134,
  703604271,
  -1073980313,
  -272378137,
  -1152781224,
  -1997491769,
  751564990,
  -692709963,
  254173944,
  -52491073,
  1572273926,
  -1711013126,
  -217900163,
  200331930,
  -637239508,
  1864097206,
  -2084044805,
  -31331331,
  2089352745,
  625273699,
  -132515761,
  1715440628,
  -770342015,
  1710260589,
  -1716027423,
  -257458085,
  -510856984,
  -941573513,
  749898043,
  65592283,
  -457542731,
  -387912699,
  -2570179,
  2012878812,
  -1995520054,
  -1695792093,
  1937581424,
  469942209,
  -633572710,
  157018487,
  -860981443,
  -1182824074,
  2003955714,
  -806455514,
  796839740,
  -18983031,
  1908734847,
  -223620978,
  771263095,
  1038554901,
  1369111355,
  -191980116,
  -537104705,
  -7633404,
  2099453055,
  -1045781957,
  502596863,
  465187015,
  -1819689108,
  1083172030,
  1214795981,
  -1592909502,
  191815461,
  528764003,
  -457743361,
  251649209,
  -1107440617,
  -1135493696,
  1896642474,
  1632694295,
  1841224786,
  320830522,
  -1980738654,
  187488231
}; // weak


//----- (0043BD20) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, char *a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>)
{
  int *v7; // esi
  int *v8; // edi
  unsigned int v9; // ebp
  char v10; // al
  bool v11; // cf
  int v12; // ebx
  int v13; // ebx
  int v14; // ett
  unsigned int v15; // eax
  bool v16; // cf
  int v17; // ebx
  int v18; // ebx
  int v19; // ett
  bool v20; // zf
  int v21; // ebx
  int v22; // ett
  int v23; // ecx
  unsigned int v24; // eax
  unsigned int v25; // eax
  int v26; // eax
  bool v27; // cf
  int v28; // ebx
  int v29; // ebx
  int v30; // ett
  BOOL v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ett
  int v35; // ecx
  int v36; // ecx
  bool v37; // cf
  int v38; // ebx
  int v39; // ebx
  int v40; // ett
  bool v41; // zf
  int v42; // ebx
  int v43; // ett
  unsigned int v44; // ecx
  char v45; // al
  int v46; // eax
  bool v47; // cc
  int *v48; // esi
  char *v49; // edi
  int v50; // eax
  int *v51; // ebx
  int v52; // ebp
  char v53; // al
  char *v54; // ecx
  unsigned __int8 v55; // al
  int v56; // eax
  void (__fastcall *v57)(int, char *, int *, int, int, int *); // ebp
  int *v58; // edi
  int v59[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v60; // [esp+2Ch] [ebp-80h] BYREF
  int v61; // [esp+30h] [ebp-7Ch] BYREF
  char *v62; // [esp+34h] [ebp-78h]
  int *v63; // [esp+38h] [ebp-74h]
  int v64; // [esp+3Ch] [ebp-70h]
  char *v65; // [esp+40h] [ebp-6Ch]
  int v66; // [esp+44h] [ebp-68h]
  int v67; // [esp+48h] [ebp-64h]
  int *v68; // [esp+4Ch] [ebp-60h]
  int v69; // [esp+50h] [ebp-5Ch]
  int v70; // [esp+54h] [ebp-58h]
  int v71; // [esp+58h] [ebp-54h]
  int v72; // [esp+5Ch] [ebp-50h] BYREF

  v71 = a7;
  v70 = a6;
  v69 = a5;
  v68 = &v72;
  v67 = a4;
  v66 = a3;
  v65 = a2;
  v64 = a1;
  v7 = dword_435000;
  v8 = &dword_435000[-53248];
  v63 = &dword_435000[-53248];
  v9 = -1;
  while ( 1 )
  {
    v13 = *v7;
    v11 = (unsigned int)v7++ < 0xFFFFFFFC;
    v14 = v11 + v13;
    v11 = __CFADD__(v11, v13) | __CFADD__(v13, v14);
    v12 = v13 + v14;
    do
    {
      if ( v11 )
      {
        v10 = *(_BYTE *)v7;
        v7 = (int *)((char *)v7 + 1);
        *(_BYTE *)v8 = v10;
        v8 = (int *)((char *)v8 + 1);
      }
      else
      {
        v15 = 1;
        while ( 1 )
        {
          v16 = __CFADD__(v12, v12);
          v17 = 2 * v12;
          if ( !v17 )
          {
            v18 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v19 = v11 + v18;
            v16 = __CFADD__(v11, v18) | __CFADD__(v18, v19);
            v17 = v18 + v19;
          }
          v15 += v16 + v15;
          v11 = __CFADD__(v17, v17);
          v20 = 2 * v17 == 0;
          v12 = 2 * v17;
          if ( v11 )
          {
            if ( !v20 )
              break;
            v21 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v22 = v11 + v21;
            v11 = __CFADD__(v11, v21) | __CFADD__(v21, v22);
            v12 = v21 + v22;
            if ( v11 )
              break;
          }
        }
        v23 = 0;
        v11 = v15 < 3;
        v24 = v15 - 3;
        if ( !v11 )
        {
          v25 = v24 << 8;
          LOBYTE(v25) = *(_BYTE *)v7;
          v7 = (int *)((char *)v7 + 1);
          v26 = ~v25;
          if ( !v26 )
          {
            v48 = v63;
            v49 = (char *)(v63 + 58368);
LABEL_33:
            v50 = *(_DWORD *)v49;
            if ( *(_DWORD *)v49 )
            {
              v51 = (int *)((char *)v48 + *((_DWORD *)v49 + 1));
              v49 += 8;
              v52 = ((int (__fastcall *)(int, char *, int, int, char *, int, int, int *, int, int, int))v48[62720])(
                      v23,
                      a2,
                      (int)v48 + v50 + 250680,
                      v64,
                      v65,
                      v66,
                      v67,
                      v68,
                      v69,
                      v70,
                      v71);
              while ( 1 )
              {
                v53 = *v49++;
                if ( !v53 )
                  goto LABEL_33;
                v54 = v49;
                v62 = v49;
                v55 = v53 - 1;
                do
                {
                  if ( !v54 )
                    break;
                  v20 = *v49++ == (char)v55;
                  --v54;
                }
                while ( !v20 );
                v56 = ((int (__cdecl *)(int, char *))v48[62721])(v52, v62);
                if ( !v56 )
                  break;
                *v51++ = v56;
              }
              v50 = ((int (*)(void))v48[62725])();
            }
            v57 = (void (__fastcall *)(int, char *, int *, int, int, int *))v48[62722];
            v58 = v48 - 1024;
            v60 = v50;
            v57(v23, a2, v48 - 1024, 4096, 4, &v60);
            *((_BYTE *)v58 + 495) &= 0x7Fu;
            *((_BYTE *)v58 + 535) &= 0x7Fu;
            ((void (__cdecl *)(int *, int, int, int *))v57)(v48 - 1024, 4096, v59[0], v59);
            do
              v60 = 0;
            while ( &v60 != &v61 - 32 );
            JUMPOUT(0x4193CA);
          }
          v9 = v26;
        }
        v27 = __CFADD__(v12, v12);
        v28 = 2 * v12;
        if ( !v28 )
        {
          v29 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v30 = v11 + v29;
          v27 = __CFADD__(v11, v29) | __CFADD__(v29, v30);
          v28 = v29 + v30;
        }
        v31 = v27;
        v32 = __CFADD__(v28, v28);
        v12 = 2 * v28;
        if ( !v12 )
        {
          v33 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v34 = v11 + v33;
          v32 = __CFADD__(v11, v33) | __CFADD__(v33, v34);
          v12 = v33 + v34;
        }
        v35 = v31 + v32 + v31;
        if ( !v35 )
        {
          v36 = 1;
          while ( 1 )
          {
            v37 = __CFADD__(v12, v12);
            v38 = 2 * v12;
            if ( !v38 )
            {
              v39 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v40 = v11 + v39;
              v37 = __CFADD__(v11, v39) | __CFADD__(v39, v40);
              v38 = v39 + v40;
            }
            v36 += v37 + v36;
            v11 = __CFADD__(v38, v38);
            v41 = 2 * v38 == 0;
            v12 = 2 * v38;
            if ( v11 )
            {
              if ( !v41 )
                break;
              v42 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v43 = v11 + v42;
              v11 = __CFADD__(v11, v42) | __CFADD__(v42, v43);
              v12 = v42 + v43;
              if ( v11 )
                break;
            }
          }
          v35 = v36 + 2;
        }
        v44 = (v9 < 0xFFFFF300) + v35 + 1;
        a2 = (char *)v8 + v9;
        if ( v9 <= 0xFFFFFFFC )
        {
          do
          {
            v46 = *(_DWORD *)a2;
            a2 += 4;
            *v8++ = v46;
            v47 = v44 <= 4;
            v44 -= 4;
          }
          while ( !v47 );
          v8 = (int *)((char *)v8 + v44);
        }
        else
        {
          do
          {
            v45 = *a2++;
            *(_BYTE *)v8 = v45;
            v8 = (int *)((char *)v8 + 1);
            --v44;
          }
          while ( v44 );
        }
      }
      v11 = __CFADD__(v12, v12);
      v12 *= 2;
    }
    while ( v12 );
  }
}
// 43BE78: positive sp value 50 has been found
// 43BE78: control flows out of bounds to 4193CA
// 43BE0F: variable 'v23' is possibly undefined
// 43BE0F: variable 'a2' is possibly undefined
// 435000: using guessed type int dword_435000[512];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
