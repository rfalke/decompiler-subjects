/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

_DWORD __far start(); // weak


//----- (00408269) --------------------------------------------------------
#error "408565: cannot convert to microcode (funcsize=488)"

//----- (004094E9) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
char __usercall sub_4094E9@<al>(__int16 a1@<ax>, unsigned int _EDX@<edx>, __int16 a3@<cx>, char _BH@<bh>, int _EDI@<edi>, int a6@<esi>, double a7@<st2>)
{
  signed int v7; // edi
  __int16 v8; // bx
  int v10; // ecx
  char v12; // bl
  char v13; // dl
  bool v14; // of
  bool v15; // cc
  int v16; // edi
  char v17; // of
  unsigned int i; // eax
  signed int v20; // eax
  int v22; // eax
  unsigned int v28; // ebx
  unsigned int v30; // ebx
  char v33; // of
  int v34; // ebx
  char v38; // cl
  int v40; // esi
  __int16 v42; // ax
  int v45; // edi
  _BYTE *v47; // esi
  int v49; // edx
  int v51; // [esp-8h] [ebp-8h]
  int v52; // [esp-4h] [ebp-4h]
  void *retaddr[2]; // [esp+0h] [ebp+0h]

  v38 = __ROL1__(a3, 24);
  __asm { rcl     bh, 19h }
  LOBYTE(_EDX) = a1 + _EDX;
  v40 = ~a6;
  LOBYTE(a1) = 2 * a1;
  HIBYTE(a1) -= 76;
  LOBYTE(a3) = v38 << v38;
  BYTE1(_EDX) = __ROR1__(BYTE1(_EDX), a3);
  v42 = a1 << a3;
  _EBX = 32696798;
  if ( v42 < 0 != _OF || v42 < 0 == _OF )
  {
    LOBYTE(_EBX) = -34 - (__CFSHL__(a3, a3) + 115);
    _ECX = 4231835;
    for ( i = 1; i; i = BYTE1(i) + (unsigned __int8)i + HIWORD(i) - 311 )
    {
      _ECX = (unsigned int)(_ECX - 1) >> 15 << 15;
      if ( _ECX < 0 != v17 || _ECX < 0 == v17 )
        JUMPOUT(0x4092B7);
      LOBYTE(i) = i + 127;
      _EDX = (unsigned __int8)i;
      _EBX = BYTE1(i);
    }
    v20 = _ECX;
    _SF = *(_DWORD *)(v20 + 60) + v20 < 0;
    v22 = *(_DWORD *)(v20 + 60) + v20;
    if ( v22 >= 0 && _SF )
    {
      _EAX = 447453791 * *(_DWORD *)(_EDI - 2080407188);
      __asm
      {
        repne sub ebx, 66777D28h
        rcr     di, cl
      }
      BYTE1(_EDX) &= BYTE1(_ECX);
      __asm { rcl     dx, cl }
      LOBYTE(_EDX) = 32 * _EDX;
      BYTE1(_EDX) = (BYTE1(_EDX) >> 3) - (__CFSHR__(BYTE1(_EDX), 3) + _ECX);
      __asm
      {
        rcr     edx, 3
        rcr     dl, 8
      }
      LOBYTE(_EDX) = ~(_BYTE)_EDX;
      BYTE1(_EDX) |= (unsigned __int8)_EBX | 0x4F;
      v49 = _EDI & _EDX;
      LOBYTE(v49) = -74;
      if ( _EBX == -1719106856 )
        JUMPOUT(0x4091B8);
      __asm
      {
        rcr     di, cl
        rcl     eax, cl
      }
      _AX = __ROL2__(_EAX, _ECX);
      __asm { rcl     al, 0Ch }
      v28 = v49 & _EBX | 0xF1DB26F9;
      LOBYTE(v28) = v28 - 104;
      BYTE1(v28) = __ROL1__(BYTE1(v28), _ECX);
      LOBYTE(_AX) = *(_BYTE *)v40 ^ 0x35;
      LOWORD(v28) = _AX + v28;
      v30 = v28 + 237673946;
      BYTE1(v30) += HIBYTE(_AX);
      _CF = __CFSHL__(v30, 14);
      v34 = v30 << 14;
      _DL = ~(_BYTE)_AX;
      __asm { rcr     dl, cl }
      if ( !((v34 < 0) ^ v33 | (v34 == 0)) && (v34 < 0) ^ v33 | (v34 == 0) )
      {
        *(_BYTE *)(_ECX - 740362679) -= _CF + _ECX;
        JUMPOUT(0x409435);
      }
      JUMPOUT(0x40945D);
    }
    (*(void (__cdecl **)(signed int))(_ECX + *(_DWORD *)(_ECX + *(_DWORD *)(v22 + 128) + 16)))(_ECX);
    __asm { rcl     edx, 1Ch }
    JUMPOUT(0x409345);
  }
  _CL = v51;
  *(double *)_EDX = a7;
  BYTE1(_EBX) = _EDX - 23;
  v45 = _EDI - (__CFADD__((_BYTE)_EDX, -23) + 888203675);
  _EDX = v45 | _EDX;
  ++BYTE1(_EDX);
  v47 = (_BYTE *)(v40 + 1);
  LOBYTE(_EDX) = BYTE1(v51) + ((unsigned __int8)_EDX < 0x97u) + _EDX + 105 - 67;
  ++_EDX;
  v7 = v45 | 0xFFDA00CF;
  LOBYTE(_EDX) = __ROR1__(_EDX, v51);
  v8 = (__PAIR16__((unsigned __int16)(_EBX + 11350) >> 8, __ROR1__(52, 28)) - 13312) ^ 0x6037;
  BYTE1(_EDX) = HIBYTE(v8);
  __asm { rcr     edx, cl }
  v10 = v51 - 1;
  if ( __OFSUB__(v51, 1) || !__OFSUB__(v51, 1) )
  {
    v12 = BYTE1(v10) & v8 ^ 0xF6;
    v13 = v12 & ((char)_EDX >> v10);
    LOWORD(v7) = v7 - 1;
    v14 = __OFSUB__(v7, __CFSHR__(v12, 15) + 1249509687);
    v15 = v7 <= __CFSHR__(v12, 15) + 1249509687;
    v16 = v7 - (__CFSHR__(v12, 15) + 1249509687);
    if ( !v15 && v15 )
    {
      __outbyte(0xB0u, v42);
      if ( !v14 )
      {
        *v47 = v42;
        JUMPOUT(0x409512);
      }
      *(_BYTE *)(v52 - 124) += v13;
      JUMPOUT(0x4091C6);
    }
    _EDI = v10 ^ v16;
    __asm { rcr     edi, 1Ah }
    _DL = -HIBYTE(v42);
    __asm { rcr     dl, 9 }
    JUMPOUT(0x4092E8);
  }
  return MK_FP(retaddr[0], retaddr[0])(v10, _EDX);
}
// 409135: positive sp value 8 has been found
// 4091B6: control flows out of bounds to 4091B8
// 4091C5: control flows out of bounds to 4091C6
// 409239: control flows out of bounds to 40923B
// 4094E6: control flows out of bounds to 4094E8
// 40935C: control flows out of bounds to 409235
// 409460: control flows out of bounds to 409435
// 409582: control flows out of bounds to 4092E8
// 4095A2: control flows out of bounds to 409512
// 40922F: control flows out of bounds to 40928C
// 4092AC: control flows out of bounds to 4092B7
// 409453: control flows out of bounds to 40945D
// 4094E6: control flows out of bounds to 409530
// 4095E7: control flows out of bounds to 409345
// 40933C: conditional instruction was optimized away because of 'edi.4>=9100883Eu'
// 4093DF: conditional instruction was optimized away because of 'edi.4 in (1..360778C5)'
// 409507: variable '_OF' is possibly undefined
// 40950E: variable 'v51' is possibly undefined
// 4091C1: variable 'v52' is possibly undefined
// 4092AC: variable 'v17' is possibly undefined
// 409453: variable 'v33' is possibly undefined

// nfuncs=2 queued=2 decompiled=2 lumina nreq=0 worse=0 better=0
#error "There were 1 decompilation failure(s) on 2 function(s)"
