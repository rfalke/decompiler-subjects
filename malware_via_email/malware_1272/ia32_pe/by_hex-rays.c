/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

_DWORD __far start(); // weak
// char __usercall sub_4094E9@<al>(__int16@<ax>, unsigned int _EDX@<edx>, __int16@<cx>, char _BH@<bh>, int _EDI@<edi>, int@<esi>, double@<st2>);


//----- (00408269) --------------------------------------------------------
#error "408565: cannot convert to microcode (funcsize=488)"

//----- (004094E9) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
char __usercall sub_4094E9@<al>(
        __int16 a1@<ax>,
        unsigned int _EDX@<edx>,
        __int16 a3@<cx>,
        char _BH@<bh>,
        int _EDI@<edi>,
        int a6@<esi>,
        double a7@<st2>)
{
  signed int v7; // edi
  __int16 v8; // bx
  int v10; // ecx
  char v12; // bl
  char v13; // dl
  bool v14; // of
  bool v15; // cc
  int v16; // edi
  char v17; // of
  unsigned int i; // eax
  signed int v20; // eax
  int v22; // eax
  unsigned int v29; // ebx
  unsigned int v31; // ebx
  char v34; // of
  int v35; // ebx
  char v39; // cl
  int v41; // esi
  __int16 v43; // ax
  int v47; // edi
  _BYTE *v49; // esi
  int v51; // edx
  int v53; // [esp-8h] [ebp-8h]
  int v54; // [esp-4h] [ebp-4h]
  void *retaddr[2]; // [esp+0h] [ebp+0h]

  v39 = __ROL1__(a3, 24);
  __asm { rcl     bh, 19h }
  LOBYTE(_EDX) = a1 + _EDX;
  v41 = ~a6;
  LOBYTE(a1) = 2 * a1;
  HIBYTE(a1) -= 76;
  LOBYTE(a3) = v39 << v39;
  BYTE1(_EDX) = __ROR1__(BYTE1(_EDX), a3);
  v43 = a1 << a3;
  _EBX = 32696798;
  if ( v43 < 0 != _OF || v43 < 0 == _OF )
  {
    LOBYTE(_EBX) = -34 - (__CFSHL__(a3, a3) + 115);
    _ECX = 4231835;
    for ( i = 1; i; i = BYTE1(i) + (unsigned __int8)i + HIWORD(i) - 311 )
    {
      _ECX = (unsigned int)(_ECX - 1) >> 15 << 15;
      if ( _ECX < 0 != v17 || _ECX < 0 == v17 )
        JUMPOUT(0x4092B7);
      LOBYTE(i) = i + 127;
      _EDX = (unsigned __int8)i;
      _EBX = BYTE1(i);
    }
    v20 = _ECX;
    _SF = *(_DWORD *)(v20 + 60) + v20 < 0;
    v22 = *(_DWORD *)(v20 + 60) + v20;
    if ( v22 >= 0 && _SF )
    {
      _EAX = 447453791 * *(_DWORD *)(_EDI - 2080407188);
      __asm
      {
        repne sub ebx, 66777D28h
        rcr     di, cl
      }
      BYTE1(_EDX) &= BYTE1(_ECX);
      __asm { rcl     dx, cl }
      LOBYTE(_EDX) = 32 * _EDX;
      BYTE1(_EDX) = (BYTE1(_EDX) >> 3) - (__CFSHR__(BYTE1(_EDX), 3) + _ECX);
      __asm
      {
        rcr     edx, 3
        rcr     dl, 8
      }
      LOBYTE(_EDX) = ~(_BYTE)_EDX;
      BYTE1(_EDX) |= (unsigned __int8)_EBX | 0x4F;
      v51 = _EDI & _EDX;
      LOBYTE(v51) = -74;
      if ( _EBX == -1719106856 )
        JUMPOUT(0x4091B8);
      __asm
      {
        rcr     di, cl
        rcl     eax, cl
      }
      _AX = __ROL2__(_EAX, _ECX);
      __asm { rcl     al, 0Ch }
      v29 = v51 & _EBX | 0xF1DB26F9;
      LOBYTE(v29) = v29 - 104;
      BYTE1(v29) = __ROL1__(BYTE1(v29), _ECX);
      LOBYTE(_AX) = *(_BYTE *)v41 ^ 0x35;
      LOWORD(v29) = _AX + v29;
      v31 = v29 + 237673946;
      BYTE1(v31) += HIBYTE(_AX);
      _CF = __CFSHL__(v31, 14);
      v35 = v31 << 14;
      _DL = ~(_BYTE)_AX;
      __asm { rcr     dl, cl }
      if ( !((v35 < 0) ^ v34 | (v35 == 0)) && (v35 < 0) ^ v34 | (v35 == 0) )
      {
        *(_BYTE *)(_ECX - 740362679) -= _CF + _ECX;
        JUMPOUT(0x409435);
      }
      JUMPOUT(0x40945D);
    }
    (*(void (__cdecl **)(signed int))(_ECX + *(_DWORD *)(_ECX + *(_DWORD *)(v22 + 128) + 16)))(_ECX);
    __asm { rcl     edx, 1Ch }
    JUMPOUT(0x409345);
  }
  _CL = v53;
  __asm { fst     qword ptr [edx] }
  *(double *)_EDX = _RT1;
  BYTE1(_EBX) = _EDX - 23;
  v47 = _EDI - (__CFADD__((_BYTE)_EDX, -23) + 888203675);
  _EDX = v47 | _EDX;
  ++BYTE1(_EDX);
  v49 = (_BYTE *)(v41 + 1);
  LOBYTE(_EDX) = BYTE1(v53) + ((unsigned __int8)_EDX < 0x97u) + _EDX + 105 - 67;
  ++_EDX;
  v7 = v47 | 0xFFDA00CF;
  LOBYTE(_EDX) = __ROR1__(_EDX, v53);
  v8 = (__PAIR16__((unsigned __int16)(_EBX + 11350) >> 8, __ROR1__(52, 28)) - 13312) ^ 0x6037;
  BYTE1(_EDX) = HIBYTE(v8);
  __asm { rcr     edx, cl }
  v10 = v53 - 1;
  if ( __OFSUB__(v53, 1) || !__OFSUB__(v53, 1) )
  {
    v12 = BYTE1(v10) & v8 ^ 0xF6;
    v13 = v12 & ((char)_EDX >> v10);
    LOWORD(v7) = v7 - 1;
    v14 = __OFSUB__(v7, __CFSHR__(v12, 15) + 1249509687);
    v15 = v7 <= __CFSHR__(v12, 15) + 1249509687;
    v16 = v7 - (__CFSHR__(v12, 15) + 1249509687);
    if ( !v15 && v15 )
    {
      __outbyte(0xB0u, v43);
      if ( !v14 )
      {
        *v49 = v43;
        JUMPOUT(0x409512);
      }
      *(_BYTE *)(v54 - 124) += v13;
      JUMPOUT(0x4091C6);
    }
    _EDI = v10 ^ v16;
    __asm { rcr     edi, 1Ah }
    _DL = -HIBYTE(v43);
    __asm { rcr     dl, 9 }
    JUMPOUT(0x4092E8);
  }
  return MK_FP(retaddr[0], retaddr[0])(v10, _EDX);
}
// 409135: positive sp value 8 has been found
// 409511: inconsistent fpu stack
// 4091B6: control flows out of bounds to 4091B8
// 4091C5: control flows out of bounds to 4091C6
// 409239: control flows out of bounds to 40923B
// 4094E6: control flows out of bounds to 4094E8
// 40935C: control flows out of bounds to 409235
// 409460: control flows out of bounds to 409435
// 409582: control flows out of bounds to 4092E8
// 4095A2: control flows out of bounds to 409512
// 40922F: control flows out of bounds to 40928C
// 4092AC: control flows out of bounds to 4092B7
// 409453: control flows out of bounds to 40945D
// 4094E6: control flows out of bounds to 409530
// 4095E7: control flows out of bounds to 409345
// 40933C: conditional instruction was optimized away because edi.4>=9100883Eu
// 4093DF: conditional instruction was optimized away because edi.4 is in (1..360778C5)
// 409507: variable '_OF' is possibly undefined
// 40950E: variable 'v53' is possibly undefined
// 4091C1: variable 'v54' is possibly undefined
// 4092AC: variable 'v17' is possibly undefined
// 409453: variable 'v34' is possibly undefined

// nfuncs=2 queued=2 decompiled=2 lumina nreq=0 worse=0 better=0
#error "There were 1 decompilation failure(s) on 2 function(s)"
