/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

void start();

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN unk_409000; // weak
int dword_4091C8 = 522709319; // weak
int dword_409243 = -1333097829; // weak
int dword_409275 = 2030367969; // weak
int dword_409332 = 2126128880; // weak
_UNKNOWN unk_4093D4; // weak
_UNKNOWN unk_40944C; // weak
_UNKNOWN unk_409474; // weak


//----- (00407A80) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void start()
{
  int v0; // ebx
  _DWORD *v1; // eax
  _DWORD v2[12]; // [esp-8h] [ebp-40h] BYREF
  int v3; // [esp+28h] [ebp-10h]
  unsigned int v4[2]; // [esp+2Ch] [ebp-Ch] BYREF
  int *v5; // [esp+34h] [ebp-4h]
  int savedregs; // [esp+38h] [ebp+0h] BYREF

  v2[5] = 8;
  v2[4] = 375286973;
  v2[3] = 50;
  v2[2] = &savedregs;
  v2[1] = 4225994;
  v2[0] = NtCurrentTeb()->NtTib.ExceptionList;
  __writefsdword(0, (unsigned int)v2);
  MEMORY[0xD82FB05F] = dword_409275;
  __writefsdword(0x27D04FA1u, v4[0]);
  v0 = 262769;
  do
  {
    v1 = (_DWORD *)&unk_409000;
    do
    {
      v5 = (int *)&unk_4093D4;
      *v1 += 10922;
      *v1 -= 4513;
      v5 = &dword_4091C8;
      ++v1;
    }
    while ( v1 != (_DWORD *)&unk_409474 );
    v5 = &dword_409243 + 3;
    --v0;
  }
  while ( v0 );
  v5 = &savedregs;
  v4[1] = 4231168;
  v4[0] = (unsigned int)NtCurrentTeb()->NtTib.ExceptionList;
  __writefsdword(0, (unsigned int)v4);
  if ( *(_UNKNOWN **)((char *)&dword_409332 + 1) != &unk_40944C )
    v3 = -1661076996;
  v4[0] = 87861882;
  v3 = -1316142310;
  v2[11] = 176;
  JUMPOUT(0x407000);
}
// 407C00: positive sp value C has been found
// 408004: control flows out of bounds to 407000
// 409109: using guessed type int dword_409109;
// 409131: using guessed type int dword_409131;
// 409178: using guessed type int dword_409178;
// 4091C8: using guessed type int dword_4091C8;
// 409243: using guessed type int dword_409243;
// 409275: using guessed type int dword_409275;
// 40931A: using guessed type int dword_40931A;
// 409332: using guessed type int dword_409332;
// 40946C: using guessed type int dword_40946C;

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
