/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <math.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

void sub_401093();
void sub_4010C3();
void sub_40111D();
// int __usercall sub_401197@<eax>(int result@<eax>);
void sub_4011D0();
void sub_40133F();
// void __usercall sub_402241(char@<cf>, int@<eax>, __int16@<dx>, __int16@<bx>, int@<edi>);
// void __usercall sub_40232E(int _EAX@<eax>, __int64 *@<edx>, int@<ecx>, __int16@<bx>, int@<edi>);
void sub_4023E6();
// void __usercall sub_402440(unsigned __int8@<al>, _BYTE *@<ebx>, int@<esi>);
// void __usercall sub_402461(int _EAX@<eax>, char@<dh>, __int16@<cx>, _BYTE *@<ebx>, int@<esi>);
void __fastcall sub_402559(int, __int64 *);
void __noreturn sub_40259F(); // weak
// void __usercall sub_402605(__int16@<ax>, int@<edx>, int@<ecx>, __int16@<bx>, int@<esi>);
// void __usercall sub_4026B0(char@<cf>, char@<ah>, int@<edx>, __int16@<bx>, int@<esi>);
_DWORD sub_40271E(); // weak
void sub_4027F6();
void sub_40282B();
// void __usercall sub_4028FD(char@<al>, char@<cl>, char@<bh>, char@<dil>);
void sub_402937();
void sub_402962();
void sub_402A6E();
// __int16 __usercall sub_402B2B@<ax>(int@<eax>, int@<edx>, __int16@<cx>, int@<ebx>, int@<edi>, int@<esi>);
// int __usercall sub_402C23@<eax>(int@<edx>, __int16@<bx>);
// int __usercall sub_402C7E@<eax>(int@<eax>, int@<edx>, char@<ch>, __int16@<bx>, int _ESI@<esi>);
// void __usercall sub_402D76(char@<cf>, char@<dl>, int@<ecx>, __int16@<bx>, __int32@<esi>, double@<st4>, double@<st0>);
void sub_402E6A();

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN loc_4022DC; // weak
_UNKNOWN loc_40253D; // weak
_UNKNOWN loc_4028B9; // weak
_UNKNOWN loc_4028E0; // weak
_UNKNOWN loc_4029A8; // weak
_UNKNOWN loc_402D57; // weak
_UNKNOWN loc_402E8C; // weak


//----- (00401093) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_401093()
{
  int v0; // [esp+28h] [ebp-8h]
  int v1; // [esp+2Ch] [ebp-4h]

  *(&v1 - 13) = v0;
  JUMPOUT(0x401321);
}
// 401477: positive sp value 8 has been found
// 401424: control flows out of bounds to 401426
// 40147D: control flows out of bounds to 401482
// 40141F: control flows out of bounds to 401445
// 401422: control flows out of bounds to 401423
// 401450: control flows out of bounds to 401321
// 40141D: conditional instruction was optimized away because ecx.4!=0
// 40145B: conditional instruction was optimized away because dh.1<3Cu

//----- (004010C3) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4010C3()
{
  void *v0; // [esp+8h] [ebp-4h]
  void *retaddr; // [esp+Ch] [ebp+0h]

  *(&retaddr - 4) = v0;
  JUMPOUT(0x4013B4);
}
// 4010C7: positive sp value 4 has been found
// 401240: control flows out of bounds to 4013B4

//----- (0040111D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40111D()
{
  void *v0; // [esp+28h] [ebp-4h]
  void *retaddr; // [esp+2Ch] [ebp+0h]

  *(&retaddr - 12) = v0;
  JUMPOUT(0x40106E);
}
// 401121: positive sp value 4 has been found
// 40113F: control flows out of bounds to 401141
// 40112A: control flows out of bounds to 40106E
// 40113D: control flows out of bounds to 401166
// 401132: conditional instruction was optimized away because ebx.4!=0

//----- (0040115A) --------------------------------------------------------
#error "401316: cannot convert to microcode (funcsize=140)"

//----- (00401197) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_401197@<eax>(int result@<eax>)
{
  if ( !result )
    JUMPOUT(0x401466);
  return result;
}
// 401276: positive sp value 8 has been found
// 40127C: control flows out of bounds to 401466

//----- (004011D0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4011D0()
{
  int v0; // [esp+4h] [ebp-8h]
  int v1; // [esp+8h] [ebp-4h]

  *(&v1 - 4) = v0;
  JUMPOUT(0x401025);
}
// 4011DD: positive sp value 8 has been found
// 4011F0: control flows out of bounds to 4011F3
// 4011DF: control flows out of bounds to 401025
// 4011EE: control flows out of bounds to 401204

//----- (0040133F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40133F()
{
  JUMPOUT(0x4013E9);
}
// 401343: positive sp value 4 has been found
// 40135D: inconsistent fpu stack
// 401375: control flows out of bounds to 401179
// 401350: control flows out of bounds to 4013E9
// 401356: conditional instruction was optimized away because esi.4>=1

//----- (00402241) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402241(char a1@<cf>, int a2@<eax>, __int16 a3@<dx>, __int16 a4@<bx>, int a5@<edi>)
{
  _DWORD *v5; // edi
  char v6; // bl

  LOBYTE(a4) = a1 + a4 + 101;
  v5 = (_DWORD *)(a5 + 1);
  v6 = a3 + a4 - 1 - ((unsigned __int16)(a3 + a4) >> 8);
  if ( !__SETP__(v6, 0) && __SETP__(v6, 0) )
  {
    *v5 = a2;
    JUMPOUT(0x402D92);
  }
  JUMPOUT(0x402201);
}
// 402BE3: positive sp value 1C has been found
// 4021FE: control flows out of bounds to 402201
// 402D09: control flows out of bounds to 402D0A
// 402EC4: control flows out of bounds to 402EC5
// 402EDF: control flows out of bounds to 402EE2
// 4021E0: control flows out of bounds to 402DFF
// 40286B: control flows out of bounds to FF2532C4
// 402B98: control flows out of bounds to 40248A
// 40235F: control flows out of bounds to 402D92
// 402B81: control flows out of bounds to 402B33
// 402369: conditional instruction was optimized away because esi.4!=0

//----- (0040232E) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40232E(int _EAX@<eax>, __int64 *a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<edi>)
{
  int v5; // edi
  char v6; // bl
  int v7; // esi
  __int16 v8; // bx
  __int16 v9; // ax
  int v10; // ecx
  bool v11; // cf
  int v12; // edx
  char *v13; // edi
  char v14; // bh
  void *v15; // [esp+28h] [ebp-4h]
  void *retaddr; // [esp+2Ch] [ebp+0h]

  *(&retaddr - 12) = v15;
  LOBYTE(a4) = a4 - a3;
  v5 = a5 - 1;
  v6 = ~(((unsigned __int16)(a4 - 1) >> 8) ^ (a4 - 1));
  v13 = (char *)a2 + v5 + _EAX - 1;
  v14 = -(char)((v6 | 0x6D) + 1);
  if ( !__OFSUB__(v14, 1) && __OFSUB__(v14, 1) )
  {
    __asm { frstor  byte ptr [eax-34h] }
    BYTE1(a3) = -(char)((v6 | 0x6D) + 1);
    LOBYTE(a3) = BYTE1(a2) + 1;
    ((void (__usercall __noreturn *)(int@<ecx>, double@<st0>))sub_40259F)(a3, (double)*a2);
  }
  v7 = _EAX | (a3 - _EAX - (_DWORD)v13 + 1);
  LOBYTE(v8) = _EAX - 8 + -v6 - 4;
  HIBYTE(v8) = _EAX;
  v9 = ((int (*)(void))loc_4029A8)();
  v11 = *(_BYTE *)(v10 - 80) != 0;
  *(_BYTE *)(v10 - 80) = -*(_BYTE *)(v10 - 80);
  sub_4026B0(v11, (unsigned __int16)(v9 + 1) >> 8, v12, v8, v7);
}
// 402332: positive sp value 4 has been found
// 402786: bad sp value at call
// 4026AB: variable 'v10' is possibly undefined
// 4026AF: variable 'v12' is possibly undefined
// 40259F: using guessed type void __noreturn sub_40259F();

//----- (004023E6) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4023E6()
{
  JUMPOUT(0x402771);
}
// 4023F1: positive sp value 4 has been found
// 402D33: control flows out of bounds to 402771

//----- (00402440) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402440(unsigned __int8 a1@<al>, _BYTE *a2@<ebx>, int a3@<esi>)
{
  int v3; // esi
  char v6; // dh
  __int16 v7; // cx
  void *v8; // [esp+28h] [ebp-4h]
  void *retaddr; // [esp+2Ch] [ebp+0h]

  *(&retaddr - 12) = v8;
  BYTE1(a2) = -BYTE1(a2);
  v3 = a1 ^ a3;
  LOBYTE(a2) = a1 + 100;
  _EAX = ((int (*)(void))loc_402D57)();
  __asm { aam     0C4h ; 'Ä' }
  LOBYTE(_EAX) = MEMORY[0x7193B26];
  sub_402461(_EAX, v6, v7, a2, v3);
}
// 402444: positive sp value 4 has been found
// 40245D: variable 'v6' is possibly undefined
// 40245D: variable 'v7' is possibly undefined

//----- (00402461) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402461(int _EAX@<eax>, char a2@<dh>, __int16 a3@<cx>, _BYTE *a4@<ebx>, int a5@<esi>)
{
  char v5; // dh
  __int16 v7; // dx
  __int16 v8; // ax
  int v9; // ecx
  int v10; // edx
  void *v11; // [esp+20h] [ebp-4h]
  void *retaddr; // [esp+24h] [ebp+0h]

  *(&retaddr - 10) = v11;
  HIBYTE(a3) = a3;
  v5 = _EAX | (-a2 - 2);
  *a4 = a3;
  if ( !(((char)(_EAX + v5) < 0) ^ __OFADD__((_BYTE)_EAX, v5) | ((_BYTE)_EAX + v5 == 0))
    && ((char)(_EAX + v5) < 0) ^ __OFADD__((_BYTE)_EAX, v5) | ((_BYTE)_EAX + v5 == 0) )
  {
    _disable();
    __asm { aad     0A0h ; ' ' }
    JUMPOUT(0x402B84);
  }
  HIBYTE(v7) = ~(a3 ^ BYTE1(_EAX));
  LOBYTE(v7) = 51 - a3;
  v8 = ((int (__fastcall *)(__int16, __int16))((char *)&loc_402E8C + 2))(a3, v7);
  LOBYTE(v9) = -87;
  sub_402605(v8, v10, v9, (__int16)a4, a5);
}
// 402292: positive sp value 4 has been found
// 4022D1: control flows out of bounds to 402B84
// 402461: could not find valid save-restore pair for ebp
// 402604: variable 'v10' is possibly undefined
// 402604: variable 'v9' is possibly undefined

//----- (00402559) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_402559(int a1, __int64 *a2)
{
  __int16 v2; // bx
  __int16 v3; // bx
  int v4; // ecx

  v2 = a1 - (_WORD)a2;
  LOBYTE(v2) = a1;
  v3 = v2 - (_WORD)a2;
  LOBYTE(v3) = HIBYTE(v3);
  sub_40232E(*(_DWORD *)(a1 + 60) + a1, a2, a1, v3, a1 - (_DWORD)a2);
  ((void (__cdecl *)(_DWORD))loc_4022DC)(*(_DWORD *)(v4 << 15));
  JUMPOUT(0x4023AC);
}
// 402392: positive sp value 4 has been found
// 4023AB: control flows out of bounds to 4023AC
// 402AC9: control flows out of bounds to 402ACB
// 402DE5: control flows out of bounds to 402DE6
// 402646: control flows out of bounds to 402609
// 402AC3: control flows out of bounds to 402315
// 402640: conditional instruction was optimized away because edi.4>=0
// 402DDF: conditional instruction was optimized away because bh.1==0
// 402DC8: variable 'v4' is possibly undefined

//----- (0040259F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __noreturn sub_40259F()
{
  void *v2; // [esp+14h] [ebp-4h]
  void *retaddr; // [esp+18h] [ebp+0h]

  *(&retaddr - 7) = v2;
  sub_402A6E();
  ++_AL;
  __asm { das }
  JUMPOUT(0x24547E1B);
}
// 4025A3: positive sp value 4 has been found
// 4025BF: control flows out of bounds to 24547E1B
// 4025BA: variable '_AL' is possibly undefined
// 40259F: using guessed type void __noreturn sub_40259F();

//----- (00402605) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402605(__int16 a1@<ax>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<esi>)
{
  __int16 v5; // ax

  v5 = (a2 | a1) - 1;
  BYTE1(a3) = -BYTE1(a3);
  LOBYTE(a2) = 109;
  BYTE1(a2) = 1 - (HIBYTE(a4) - 1);
  sub_4026B0(0, HIBYTE(v5) + 1, a2 - a3, a4 + 2780, a5);
}
// 402609: positive sp value 4 has been found

//----- (004026B0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4026B0(char a1@<cf>, char a2@<ah>, int a3@<edx>, __int16 a4@<bx>, int a5@<esi>)
{
  int v5; // edx
  void *v6; // [esp+28h] [ebp-4h]
  void *retaddr; // [esp+2Ch] [ebp+0h]

  *(&retaddr - 12) = v6;
  LOBYTE(a3) = a3 - (a1 + 59);
  v5 = a3 - 1 - a5;
  BYTE1(v5) = a2 + BYTE1(v5) - 1;
  sub_402C23(v5, a4);
  JUMPOUT(0x4026CF);
}
// 4026B4: positive sp value 4 has been found
// 4026C9: control flows out of bounds to 4026CF

//----- (0040271E) --------------------------------------------------------
#error "4021C5: cannot convert to microcode (funcsize=30)"

//----- (004027F6) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4027F6()
{
  sub_402937();
  __asm { rcl     dword ptr [edi+eax*2], 80h }
  JUMPOUT(0x402BE4);
}
// 4027FA: positive sp value 4 has been found
// 40281E: control flows out of bounds to 402BE4

//----- (0040282B) --------------------------------------------------------
void sub_40282B()
{
  JUMPOUT(0x402373);
}
// 402841: control flows out of bounds to 402373

//----- (004028FD) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4028FD(char a1@<al>, char a2@<cl>, char a3@<bh>, char a4@<dil>)
{
  char v4; // di
  char v5; // al
  bool v6; // cc
  char v7; // al
  int v8; // [esp+20h] [ebp-8h]
  char v9; // [esp+24h] [ebp-4h]
  char v10; // [esp+25h] [ebp-3h]

  *((_DWORD *)&v9 - 11) = v8;
  v4 = ((a2 + 42) | a1 | a4) + 1;
  ((int (*)(void))loc_4028E0)();
  v5 = v4 + __CFADD__(v10 | a3, -65) + (v10 | a3) - 65 - 40;
  v6 = v5 < 1;
  v7 = v5 - 1;
  if ( !v6 && v6 )
  {
    MEMORY[0x33063ECA] = v7;
    JUMPOUT(0x402A40);
  }
  JUMPOUT(0x40286D);
}
// 4021D1: positive sp value 8 has been found
// 402A39: control flows out of bounds to 402A40
// 402E16: control flows out of bounds to 40286D
// 402A62: conditional instruction was optimized away because ah.1!=0

//----- (00402937) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402937()
{
  JUMPOUT(0x402919);
}
// 4027AD: positive sp value 4 has been found
// 4027BB: control flows out of bounds to 402919
// 4027C7: conditional instruction was optimized away because edi.4!=0

//----- (00402962) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402962()
{
  JUMPOUT(0x402E4C);
}
// 4024B6: positive sp value 8 has been found
// 4021A5: control flows out of bounds to 4021AB
// 402973: control flows out of bounds to 402E4C
// 40254D: control flows out of bounds to 402BBA
// 40297A: control flows out of bounds to 402958
// 402E35: control flows out of bounds to 402A31
// 402E44: control flows out of bounds to 402DD4

//----- (00402A6E) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402A6E()
{
  void *v0; // [esp+Ch] [ebp-4h]
  void *retaddr; // [esp+10h] [ebp+0h]

  *(&retaddr - 5) = v0;
  JUMPOUT(0x402737);
}
// 402A72: positive sp value 4 has been found
// 402A81: control flows out of bounds to 402737

//----- (00402B2B) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
__int16 __usercall sub_402B2B@<ax>(
        int a1@<eax>,
        int a2@<edx>,
        __int16 a3@<cx>,
        int a4@<ebx>,
        int a5@<edi>,
        int a6@<esi>)
{
  int v6; // ebx
  __int16 v7; // ax
  int v8; // ebx
  char v9; // dl
  __int16 v10; // cx
  int v11; // edi
  __int16 result; // ax
  int v13; // edi
  int v14; // [esp+28h] [ebp-8h]
  int v15; // [esp+2Ch] [ebp-4h]

  *(&v15 - 13) = v14;
  v13 = a6 + (a1 ^ (a5 + 1)) - 1 - a2;
  if ( a2 != -1505005471 )
    JUMPOUT(0x402779);
  v9 = 97 - v13;
  BYTE1(a1) |= a4;
  v10 = a1 + a3 - 1;
  LOBYTE(a1) = a4;
  v11 = v13 + 1;
  BYTE1(a1) = BYTE1(a1) + 90 - a4;
  BYTE1(a4) ^= (_BYTE)a4 + v9;
  LOBYTE(a4) = -(char)a4;
  LOBYTE(v7) = ((_BYTE)a4 != 0) + a1 + 73;
  v6 = v11 ^ (a4 + 1);
  LOBYTE(v6) = v6 - HIBYTE(v7)++;
  if ( !__OFSUB__(BYTE1(v6) | HIBYTE(v10), 1) && __OFSUB__(BYTE1(v6) | HIBYTE(v10), 1) )
  {
    MEMORY[0x10106D46] = v7;
    v8 = v15 | v6;
    LOBYTE(v8) = (BYTE1(v11) ^ v8) - (__CFADD__((_BYTE)v15, BYTE1(v8)) - 46) + 1 - (__CFADD__((_BYTE)v15, -91) - 27);
    BYTE1(v8) = BYTE1(v15) - (a6 ^ (v15 - 91));
    sub_402440(v15, (_BYTE *)v8, a6);
    __asm { iret }
    JUMPOUT(0x402A09);
  }
  HIBYTE(v7) = -HIBYTE(v7);
  result = v7 - 1;
  HIBYTE(result) -= (BYTE1(v11) != 0xFF) + 126;
  return result;
}
// 402318: positive sp value 8 has been found
// 402A08: control flows out of bounds to 402A09
// 4023AE: control flows out of bounds to 402779

//----- (00402C23) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_402C23@<eax>(int a1@<edx>, __int16 a2@<bx>)
{
  __int16 v2; // ax
  __int16 v3; // bx
  char v4; // cl
  int v5; // ecx
  __int16 v7; // ax
  char v8; // cf
  __int16 v9; // dx
  __int16 v10; // si

  LOBYTE(a1) = ~(_BYTE)a1;
  v7 = ((int (__fastcall *)(_BYTE, int, __int16))((char *)&loc_40253D + 2))(a2, a1, a2);
  v10 = v9 + v8 + v7 + 8051;
  v2 = a2 + v10;
  LOBYTE(a2) = 38;
  v3 = ((v9 | v10) - v2) ^ a2;
  sub_402E6A();
  __readeflags();
  LOBYTE(v5) = v4 - (v8 + HIBYTE(v3));
  return ((int (__thiscall *)(int))sub_40271E)(v5);
}
// 402C2F: positive sp value 4 has been found
// 402C60: control flows out of bounds to 402C66
// 402C5D: control flows out of bounds to 402C89
// 402C56: conditional instruction was optimized away because eax.4!=0
// 402C4C: variable 'v9' is possibly undefined
// 402C39: variable 'v8' is possibly undefined
// 40271B: variable 'v4' is possibly undefined
// 40271D: variable 'v5' is possibly undefined
// 40271E: using guessed type _DWORD sub_40271E();

//----- (00402C7E) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_402C7E@<eax>(int a1@<eax>, int a2@<edx>, char a3@<ch>, __int16 a4@<bx>, int _ESI@<esi>)
{
  bool v5; // cf
  int v6; // edx
  char v7; // ch
  __int16 v8; // cx
  int result; // eax
  char v10; // cc
  int v11; // edx
  int v12; // [esp+Ch] [ebp-8h]
  int v13; // [esp+10h] [ebp-4h]

  *(&v13 - 6) = v12;
  v7 = (BYTE1(a2) ^ a3) - 1;
  v11 = a2 + 1;
  HIBYTE(v8) = a4 ^ v7;
  result = _ESI | a1;
  v10 = ((char)(v11 + BYTE1(v11)) < 0) ^ __OFADD__((_BYTE)v11, BYTE1(v11));
  BYTE1(v11) += v11;
  if ( v10 || !v10 )
  {
    LOBYTE(result) = result - 1;
    v5 = __CFADD__(BYTE1(result), -63);
    LOBYTE(v8) = -56;
    BYTE1(result) = BYTE1(result) - 63 + 1;
    LOBYTE(v11) = 1 - (v11 - (v5 + 13));
    sub_402605(result, v11, v8, a4, _ESI);
    v12 = v6;
    JUMPOUT(0x402290);
  }
  __asm { outsb }
  __outdword(v11, result);
  return result;
}
// 402CA4: positive sp value 8 has been found
// 40228F: control flows out of bounds to 402290
// 40228F: variable 'v6' is possibly undefined

//----- (00402D76) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402D76(
        char a1@<cf>,
        char a2@<dl>,
        int a3@<ecx>,
        __int16 a4@<bx>,
        __int32 a5@<esi>,
        double a6@<st4>,
        double a7@<st0>)
{
  _BYTE *v7; // esi
  __int16 v8; // dx
  __int64 v9; // rax
  char v10; // ch
  int v11; // ecx
  char v12; // dl
  _BYTE *v13; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange((volatile __int32 *)&v13, a5);
  v7 = v13;
  LOBYTE(a3) = ~(_BYTE)a3;
  LOBYTE(v8) = a2 - (a1 + 117);
  HIBYTE(v8) = a3;
  BYTE1(a3) ^= a4;
  v9 = ((__int64 (__fastcall *)(int, __int16))loc_4028B9)(a3, v8);
  LOBYTE(v9) = v9 + 17;
  LODWORD(v9) = (a6 < a7) + (_DWORD)v9 - 2133657937;
  LOBYTE(v9) = HIBYTE(a4) ^ v9;
  sub_402C7E(v9, SHIDWORD(v9), v10, a4, (int)v7);
  *v7 |= v11;
  *(_BYTE *)(v11 + 59) += v12;
  JUMPOUT(0x402DA7);
}
// 402D7E: positive sp value 4 has been found
// 402DA4: control flows out of bounds to 402DA7
// 402D9D: variable 'v10' is possibly undefined
// 402DA2: variable 'v11' is possibly undefined
// 402DA4: variable 'v12' is possibly undefined

//----- (00402E6A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402E6A()
{
  void *v0; // [esp+4h] [ebp-4h]
  void *retaddr; // [esp+8h] [ebp+0h]

  *(&retaddr - 3) = v0;
  JUMPOUT(0x40266E);
}
// 402401: positive sp value 4 has been found
// 402E8C: control flows out of bounds to 402E91
// 402416: control flows out of bounds to 40266E
// 402E82: conditional instruction was optimized away because bl.1>=0

// nfuncs=28 queued=28 decompiled=28 lumina nreq=0 worse=0 better=0
#error "There were 2 decompilation failure(s) on 28 function(s)"
