/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebp>);

//-------------------------------------------------------------------------
// Data declarations

int dword_43C000[512] =
{
  -1,
  -919384320,
  1162200705,
  -2125826445,
  876956864,
  50391296,
  -2130670459,
  1499870953,
  862698358,
  -33589769,
  -208994217,
  -2077697533,
  -445188128,
  26085186,
  -844887708,
  163860326,
  -1290988513,
  -1312197614,
  -1904183765,
  -802613759,
  920937662,
  -232497394,
  -906129744,
  1216028091,
  2098174495,
  -463470514,
  391411383,
  313201973,
  -2099745674,
  -1455326959,
  -635485381,
  523251397,
  -1199868590,
  935924219,
  1158445889,
  -588308988,
  690400573,
  2109135000,
  -2057890142,
  1114377686,
  154017264,
  -847766243,
  197278693,
  800983523,
  1786180215,
  291569785,
  195852561,
  -630922847,
  -613526180,
  561041689,
  -64154177,
  -916771800,
  969082075,
  -866041447,
  1995202024,
  538006326,
  1743266661,
  -1182035225,
  -913171581,
  1707173443,
  840884900,
  1875837424,
  -1498193300,
  -752263016,
  949193587,
  -1755450662,
  30020492,
  -230847568,
  626704672,
  1330024114,
  -1574848567,
  325756314,
  -1206112690,
  -975231882,
  391497299,
  1690006203,
  196140008,
  -2034136561,
  -608343575,
  -318214384,
  730185989,
  86226081,
  708809708,
  -1651667321,
  -1912440782,
  1987877889,
  -1146679343,
  -191956173,
  914465598,
  -1450279135,
  -1757579890,
  -1225289499,
  -1436020945,
  1365219376,
  -12123294,
  -277661687,
  1551518540,
  -1053082289,
  -333985581,
  2028568064,
  768878222,
  1755964326,
  203984577,
  1689987829,
  2079025896,
  -1223733821,
  -1788217085,
  261553332,
  -1833260817,
  68711811,
  939815840,
  474732966,
  1298749043,
  -297573461,
  1521821509,
  1414304192,
  91181091,
  -1335926300,
  131854593,
  -2144700907,
  1855679233,
  -842528343,
  -787630194,
  1111468976,
  212983747,
  -2087364943,
  1671201599,
  -1291507873,
  260171913,
  1153762853,
  1936691293,
  -206634675,
  546232571,
  -1689462764,
  1640568273,
  2037632317,
  947532359,
  -2133051848,
  1254650962,
  189114602,
  1635120688,
  958014801,
  566833023,
  -167311289,
  -1827682079,
  616437679,
  -461897261,
  -82351501,
  -107281361,
  944512180,
  1866801124,
  -1826788321,
  1446433452,
  1954742649,
  1802682401,
  213863979,
  1938721,
  1074856798,
  1903599090,
  -1630955449,
  -2058607853,
  -26295236,
  -1911682303,
  1880723992,
  -1848090252,
  358684248,
  -1260697917,
  366505078,
  -1053702189,
  -1369606331,
  -809804280,
  52038935,
  365505812,
  221517783,
  273692489,
  -1554591904,
  355908477,
  195608993,
  493507445,
  408210297,
  1425044807,
  1443377114,
  26584846,
  962416725,
  627983238,
  -219580744,
  1383204049,
  427692212,
  1537101483,
  -2002053557,
  908558909,
  2006103381,
  757436068,
  193080910,
  696672150,
  -1022104266,
  -182904287,
  -359754847,
  -332330037,
  -846258083,
  1924275272,
  -428050687,
  -1704712433,
  -1254125264,
  1537483046,
  2038017460,
  -1312270257,
  -1373888727,
  -985175038,
  -737964343,
  -1341456371,
  -651972324,
  -380446459,
  20908902,
  -1478207741,
  324806787,
  -620659911,
  1703269555,
  -1896349407,
  -1759112308,
  1741145319,
  -83854971,
  289615612,
  -1903623730,
  803537669,
  566713633,
  26401352,
  -938086624,
  1085043,
  776624154,
  -1782002017,
  920061224,
  -348961508,
  1565250533,
  607011003,
  -2026367100,
  1330666868,
  -760326497,
  1148586893,
  -1046123655,
  1130556744,
  1462972067,
  252951385,
  451246540,
  1301907867,
  319557137,
  1134675225,
  775994543,
  -43967656,
  1447166982,
  1275611804,
  511821965,
  2312458,
  443476499,
  -1623057948,
  282119485,
  593307018,
  -1508574473,
  -1819668216,
  -548717550,
  456417652,
  351079771,
  1103322073,
  -2115677392,
  1168883575,
  842232222,
  330367391,
  558072899,
  -1332974703,
  -342246514,
  1885136133,
  183571314,
  -926455386,
  553790804,
  -255342227,
  -1414123455,
  -572097280,
  1462174699,
  -880046392,
  -687062099,
  -1082880560,
  -2027687520,
  795009116,
  547834465,
  337042376,
  1745011813,
  122074420,
  1983651561,
  -1293931747,
  1955172353,
  1108957128,
  -1678944099,
  -148652716,
  -540982468,
  1372741681,
  1843221921,
  -1710370582,
  357617936,
  -1012659774,
  -2091736471,
  -387644221,
  1722262353,
  -1511463934,
  451855036,
  -322101170,
  167330240,
  -625275356,
  -1205652672,
  -1067243481,
  -1689390576,
  193406715,
  1864622678,
  427201930,
  1483401763,
  866904934,
  997341569,
  1300280706,
  -2109785365,
  553810013,
  1675959182,
  587471388,
  -2040182450,
  -1459158622,
  201063448,
  -329480761,
  453844903,
  224235157,
  -923971097,
  529453843,
  1706126048,
  1066333371,
  -1177508543,
  160490678,
  -500120242,
  1191393194,
  205183384,
  458838788,
  -1243837148,
  557847748,
  -1142675715,
  1675968198,
  172533029,
  -1187688756,
  -1415213510,
  487432970,
  -1564921742,
  1214416199,
  877430441,
  -464880511,
  1395573401,
  -1448162850,
  1023530301,
  942407896,
  702907014,
  -472186108,
  -1501218676,
  954829606,
  778352197,
  -180127155,
  -1416802047,
  474609632,
  1372802069,
  -975221039,
  1185141475,
  -1997981035,
  457812325,
  -877328619,
  -460332860,
  856557389,
  1275719782,
  293709553,
  690054265,
  549671680,
  1512106925,
  -1023170880,
  -2079112972,
  -312092111,
  -1876040666,
  1736973540,
  714475914,
  2041512317,
  189034707,
  -1241274727,
  543258514,
  1027794333,
  961592840,
  -229952235,
  -1518720810,
  -1175436925,
  -802295876,
  -1904870289,
  2123844893,
  -527720445,
  -1045298784,
  349554240,
  431324889,
  -1532055197,
  1680813701,
  1208844215,
  1292048033,
  454247436,
  -1350291304,
  1485864851,
  1572092613,
  1811220967,
  -686056298,
  762913052,
  1131119203,
  688405923,
  1155800036,
  26379547,
  1639026309,
  792265425,
  508145931,
  1834550088,
  -409813456,
  -1612365614,
  2107215196,
  219171407,
  1564627335,
  1435468881,
  582296353,
  -2115165994,
  -697738671,
  -770668553,
  1243959395,
  1126666807,
  471681096,
  -1141750909,
  1035582765,
  -1513673238,
  593310278,
  -1872110832,
  1484986575,
  -1963633632,
  -982020215,
  -1904134070,
  499320328,
  -731361375,
  -1512663096,
  -1578551178,
  892295908,
  -2020575036,
  7456536,
  -1244442045,
  1729946639,
  -1832341933,
  -1053256216,
  220597253,
  1766923307,
  132615368,
  772159713,
  -1619841780,
  1350065217,
  -2098624022,
  102859738,
  -1948033750,
  -783716065,
  -1341191035,
  -455081606,
  1365823720,
  -1588269584,
  -1084775667,
  1919056645,
  -470734639,
  -775749216,
  -686091919,
  46520597,
  -2101156807,
  1716509383,
  1026658631,
  870501565,
  1349732457,
  660245616,
  46698360,
  1027870089,
  403409369,
  -731881991,
  1548608442,
  387229208,
  673963875,
  -978579942,
  -1220209937,
  932601922,
  1136130880,
  597773325,
  404130630,
  563544999,
  1634224403,
  -2109700470,
  -234157037,
  859597478,
  518821248,
  778315514,
  1951484188,
  -1049514717,
  392794010,
  413755607,
  -1526651857,
  -1317791698,
  -1321520845,
  -365576996,
  -1787180605,
  -352995845,
  1246185708,
  827100977,
  -1408853177,
  1570621391,
  1885178795,
  1367006466,
  -2037500048,
  -1923603695
}; // weak


//----- (00448210) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebp>)
{
  int *v4; // esi
  int *v5; // edi
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  int i; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  unsigned int v16; // eax
  bool v17; // zf
  int v18; // ebx
  int v19; // ett
  unsigned int v20; // eax
  bool v21; // cf
  int v22; // ebx
  int v23; // ett
  bool v24; // cf
  int v25; // ebx
  int v26; // ett
  int v27; // ecx
  int v28; // ecx
  unsigned int v29; // eax
  unsigned int v30; // eax
  int v31; // eax
  bool v32; // cf
  int v33; // ebx
  int v34; // ett
  bool v35; // cf
  int v36; // ebx
  int v37; // ett
  bool v38; // cf
  int v39; // ebx
  int v40; // ebx
  int v41; // ett
  bool v42; // zf
  int v43; // ebx
  int v44; // ett
  unsigned int v45; // ecx
  char *v46; // edx
  char v47; // al
  int v48; // eax
  bool v49; // cc
  int *v50; // esi
  int *v51; // edi
  int v52; // ecx
  char v53; // al
  unsigned __int8 v54; // al
  int v55; // eax
  int v56; // eax
  char v57; // t0
  unsigned __int8 v58; // bl
  char *v59; // edi
  int v60; // eax
  int *v61; // ebx
  int v62; // ebp
  char v63; // al
  char *v64; // ecx
  unsigned __int8 v65; // al
  int v66; // eax
  void (__cdecl *v67)(int *, int, int, int *); // ebp
  int *v68; // edi
  int v69[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v70; // [esp+2Ch] [ebp-80h] BYREF
  int v71; // [esp+30h] [ebp-7Ch] BYREF
  char *v72; // [esp+34h] [ebp-78h]
  int *v73; // [esp+38h] [ebp-74h]
  int v74; // [esp+3Ch] [ebp-70h]
  int v75; // [esp+40h] [ebp-6Ch]
  int v76; // [esp+44h] [ebp-68h]
  int v77; // [esp+48h] [ebp-64h]
  int *v78; // [esp+4Ch] [ebp-60h]
  int v79; // [esp+50h] [ebp-5Ch]
  int v80; // [esp+54h] [ebp-58h]
  int v81; // [esp+58h] [ebp-54h]
  int v82; // [esp+5Ch] [ebp-50h] BYREF

  v78 = &v82;
  v76 = a3;
  v75 = a2;
  v74 = a1;
  v4 = dword_43C000;
  v5 = &dword_43C000[-60416];
  v73 = &dword_43C000[-60416];
  while ( 1 )
  {
    v9 = *v4;
    v7 = (unsigned int)v4++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v4;
        v4 = (int *)((char *)v4 + 1);
        *(_BYTE *)v5 = v6;
        v5 = (int *)((char *)v5 + 1);
      }
      else
      {
        for ( i = 1; ; i = v20 + v21 + v20 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v16 = i + v12 + i;
          v7 = __CFADD__(v13, v13);
          v17 = 2 * v13 == 0;
          v8 = 2 * v13;
          if ( v7 )
          {
            if ( !v17 )
              break;
            v18 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v19 = v7 + v18;
            v7 = __CFADD__(v7, v18) | __CFADD__(v18, v19);
            v8 = v18 + v19;
            if ( v7 )
              break;
          }
          v20 = v16 - 1;
          v21 = __CFADD__(v8, v8);
          v8 *= 2;
          if ( !v8 )
          {
            v22 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v23 = v7 + v22;
            v21 = __CFADD__(v7, v22) | __CFADD__(v22, v23);
            v8 = v22 + v23;
          }
        }
        v28 = 0;
        v7 = v16 < 3;
        v29 = v16 - 3;
        if ( v7 )
        {
          v32 = __CFADD__(v8, v8);
          v8 *= 2;
          if ( !v8 )
          {
            v33 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v34 = v7 + v33;
            v32 = __CFADD__(v7, v33) | __CFADD__(v33, v34);
            v8 = v33 + v34;
          }
        }
        else
        {
          v30 = v29 << 8;
          LOBYTE(v30) = *(_BYTE *)v4;
          v4 = (int *)((char *)v4 + 1);
          v31 = ~v30;
          if ( !v31 )
          {
            v50 = v73;
            v51 = v73;
            v52 = 43;
            while ( 1 )
            {
              v53 = *(_BYTE *)v51;
              v51 = (int *)((char *)v51 + 1);
              v54 = v53 + 24;
              while ( v54 <= 1u && !*(_BYTE *)v51 )
              {
                v55 = *v51;
                LOWORD(v55) = BYTE1(*v51);
                v56 = __ROL4__(v55, 16);
                v57 = v56;
                LOBYTE(v56) = BYTE1(v56);
                BYTE1(v56) = v57;
                v58 = *((_BYTE *)v51 + 4) + 24;
                *v51 = (int)v50 + v56 - (_DWORD)v51;
                v51 = (int *)((char *)v51 + 5);
                v54 = v58;
                if ( !--v52 )
                {
                  v59 = (char *)(v50 + 70656);
LABEL_44:
                  v60 = *(_DWORD *)v59;
                  if ( *(_DWORD *)v59 )
                  {
                    v61 = (int *)((char *)v50 + *((_DWORD *)v59 + 1));
                    v59 += 8;
                    v62 = ((int (__cdecl *)(int, int, int, int, int, int *, int, int, int))v50[74116])(
                            (int)v50 + v60 + 296224,
                            v74,
                            v75,
                            v76,
                            v77,
                            v78,
                            v79,
                            v80,
                            v81);
                    while ( 1 )
                    {
                      v63 = *v59++;
                      if ( !v63 )
                        goto LABEL_44;
                      v64 = v59;
                      v72 = v59;
                      v65 = v63 - 1;
                      do
                      {
                        if ( !v64 )
                          break;
                        v17 = *v59++ == (char)v65;
                        --v64;
                      }
                      while ( !v17 );
                      v66 = ((int (__cdecl *)(int, char *))v50[74117])(v62, v72);
                      if ( !v66 )
                        break;
                      *v61++ = v66;
                    }
                    v60 = ((int (*)(void))v50[74121])();
                  }
                  v67 = (void (__cdecl *)(int *, int, int, int *))v50[74118];
                  v68 = v50 - 1024;
                  v70 = v60;
                  v67(v50 - 1024, 4096, 4, &v70);
                  *((_BYTE *)v68 + 527) &= 0x7Fu;
                  *((_BYTE *)v68 + 567) &= 0x7Fu;
                  v67(v50 - 1024, 4096, v69[0], v69);
                  do
                    v70 = 0;
                  while ( &v70 != &v71 - 32 );
                  JUMPOUT(0x4395A3);
                }
              }
            }
          }
          v32 = v31 & 1;
          a4 = v31 >> 1;
        }
        if ( v32 )
          goto LABEL_15;
        v28 = 1;
        v35 = __CFADD__(v8, v8);
        v8 *= 2;
        if ( !v8 )
        {
          v36 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v37 = v7 + v36;
          v35 = __CFADD__(v7, v36) | __CFADD__(v36, v37);
          v8 = v36 + v37;
        }
        if ( v35 )
        {
LABEL_15:
          v24 = __CFADD__(v8, v8);
          v8 *= 2;
          if ( !v8 )
          {
            v25 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v26 = v7 + v25;
            v24 = __CFADD__(v7, v25) | __CFADD__(v25, v26);
            v8 = v25 + v26;
          }
          v27 = v28 + v24 + v28;
        }
        else
        {
          while ( 1 )
          {
            v38 = __CFADD__(v8, v8);
            v39 = 2 * v8;
            if ( !v39 )
            {
              v40 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v41 = v7 + v40;
              v38 = __CFADD__(v7, v40) | __CFADD__(v40, v41);
              v39 = v40 + v41;
            }
            v28 += v38 + v28;
            v7 = __CFADD__(v39, v39);
            v42 = 2 * v39 == 0;
            v8 = 2 * v39;
            if ( v7 )
            {
              if ( !v42 )
                break;
              v43 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v44 = v7 + v43;
              v7 = __CFADD__(v7, v43) | __CFADD__(v43, v44);
              v8 = v43 + v44;
              if ( v7 )
                break;
            }
          }
          v27 = v28 + 2;
        }
        v45 = (a4 < 0xFFFFFB00) + v27 + 2;
        v46 = (char *)v5 + a4;
        if ( a4 <= 0xFFFFFFFC )
        {
          do
          {
            v48 = *(_DWORD *)v46;
            v46 += 4;
            *v5++ = v48;
            v49 = v45 <= 4;
            v45 -= 4;
          }
          while ( !v49 );
          v5 = (int *)((char *)v5 + v45);
        }
        else
        {
          do
          {
            v47 = *v46++;
            *(_BYTE *)v5 = v47;
            v5 = (int *)((char *)v5 + 1);
            --v45;
          }
          while ( v45 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 4483B3: positive sp value 50 has been found
// 4483B3: control flows out of bounds to 4395A3
// 43C000: using guessed type int dword_43C000[512];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
