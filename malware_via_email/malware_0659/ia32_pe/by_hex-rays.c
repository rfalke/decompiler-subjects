/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

double sub_401027(); // weak
// void __usercall sub_401074(int a1@<eax>, int a2@<ecx>, int a3@<ebx>);
// void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<esi>);
double sub_40111B(); // weak
void sub_401134();
void sub_40116C();
// void __usercall sub_4011A3(int a1@<edx>, int a2@<ebx>);
// void __usercall sub_40122B(char a1@<al>, char a2@<dl>, int a3@<ecx>, char a4@<bl>, int a5@<esi>);
// void __usercall sub_401265(int a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4@<esi>);
// void __usercall sub_40127F(int a1@<eax>, int a2@<ecx>);
void sub_401FE0();
double sub_402060(); // weak
// void __usercall sub_40209A(__int32 a2@<edx>, int ebx0@<ebx>, int a3@<ebp>, unsigned int a4@<esi>);
// void __usercall sub_4020BD(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, unsigned int a7@<esi>);
// int __userpurge sub_4020E3@<eax>(char a1@<al>, __int16 a2@<dx>, char a3@<bl>, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
// int __userpurge sub_40211E@<eax>(int a1@<eax>, int a2@<ecx>, int a3@<ebx>, double a4@<st6>, double a5@<st5>, double a6@<st4>, double a7@<st3>, double a8@<st2>, double a9@<st1>, double a10@<st0>, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
// void __usercall sub_402175(int a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4@<esi>);
// void __usercall sub_402197(_BYTE *a1@<edx>, char a2@<ch>, int a3@<ebx>, int a4@<edi>, __int32 a5@<esi>);
_DWORD sub_402241(); // weak
// void __usercall sub_402258(__int32 a1@<edx>, int a2@<ebp>, int a3@<edi>);
void sub_402295();
void sub_4022B3();
// void __usercall sub_402397(int a1@<edx>, int a2@<edi>, __int32 a3@<esi>);
void sub_4023CC();
// void __usercall sub_402418(__int16 a1@<ax>, int a2@<edx>, int a3@<ebx>, _BYTE *a4@<edi>, int a5@<esi>);
// void __usercall sub_402448(int a1@<ecx>, int a2@<edi>);
void sub_40245C();
// void __usercall sub_402493(int a1@<eax>, __int16 a2@<cx>, __int32 a3@<edi>, int a4@<esi>);
void sub_4024AA();
// void __usercall sub_4024C1(_BYTE *a1@<edx>, char a2@<cl>, int a3@<ebx>, int a4@<edi>, __int32 a5@<esi>);
// void __usercall sub_4024FB(int a1@<eax>, void *a2@<edx>, char a3@<cl>, int a4@<ebx>, int a5@<edi>, __int32 *a6@<esi>, double a7@<st6>, double a8@<st5>, double a9@<st4>, double a10@<st3>, double a11@<st2>, double a12@<st1>, double a13@<st0>);
// void __usercall sub_402513(int a1@<eax>, __int32 a2@<edx>, int a3@<ecx>, int a4@<ebx>, __int32 *a5@<esi>, double a6@<st6>, double a7@<st5>, double a8@<st4>, double a9@<st3>, double a10@<st2>, double a11@<st1>, double a12@<st0>);
// void __usercall sub_402534(__int32 a1@<eax>, int _ESI@<esi>);
void sub_40256F();
void sub_402586();
void sub_4025C2();
// int __userpurge sub_402615@<eax>(int a1@<edx>, _BYTE *a2@<edi>, __int16 ax0@<ax>, int ebx0@<ebx>, int esi0@<esi>, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60);
// int __userpurge sub_402636@<eax>(int a1@<eax>, char a2@<dl>, int a3@<ecx>, int a4@<ebx>, int a5@<edi>, int a6@<esi>, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
// void __usercall sub_402655(__int32 a1@<edx>, int a2@<ecx>, char a3@<bh>);
void sub_4026C6();
_DWORD sub_402701(); // weak
// void __usercall sub_402720(int a1@<eax>);
// void __usercall sub_402739(int a1@<eax>, int a2@<ecx>, int a3@<ebx>, _BYTE *a4@<esi>, int a5@<edi>);
double sub_402754(); // weak
// void __usercall sub_40278E(int a1@<ebp>, int a2@<edi>);
// void __usercall sub_4027C5(char a1@<al>, __int32 a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>, double a8@<st6>, double a9@<st5>, double a10@<st4>, double a11@<st3>, double a12@<st2>, double a13@<st1>, double a14@<st0>);
// void __usercall sub_4027DA(int a1@<eax>, void *a2@<edx>, char a3@<cl>, int a4@<ebx>, int a5@<edi>, __int32 *a6@<esi>, double a7@<st6>, double a8@<st5>, double a9@<st4>, double a10@<st3>, double a11@<st2>, double a12@<st1>, double a13@<st0>);
// void __usercall sub_4027F3(int a1@<eax>, __int16 a2@<cx>, int _EBX@<ebx>, __int32 a4@<edi>, int _ESI@<esi>);
void sub_40281A();
// void __usercall sub_402851(int a1@<ebx>, __int32 a2@<esi>);
void sub_402989();
// void __usercall sub_4029DA(int a1@<eax>, int a2@<ebx>);
void sub_402A2D();
// void __usercall sub_402A47(int a1@<eax>, int a2@<ecx>, _BYTE *a3@<esi>);
void sub_402A7D();
// void __usercall sub_402A95(__int32 a1@<eax>);
// void __usercall sub_402AE5(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>);
void __fastcall sub_402B29(int a1, int a2);
void sub_402B46();
// void __usercall sub_402B72(int a1@<ecx>, int a2@<edi>);
// void __usercall sub_402BF7(int a1@<ecx>, int a2@<esi>);
// void __usercall sub_402C12(int a1@<ecx>, int _EDI@<edi>, int _ESI@<esi>);
// void __usercall sub_402C6B(__int32 a1@<ebx>);
// void __usercall sub_402C81(int a1@<edx>, __int16 a2@<cx>, int a3@<ebx>);
_DWORD sub_402CB8(); // weak
// void __usercall sub_402D45(int a1@<edx>, int a2@<ebx>, int a3@<ebp>, int a4@<edi>);
// void __usercall sub_402D62(_DWORD *a1@<eax>, int a2@<ebx>, int a3@<ebp>, int a4@<edi>);
// void __usercall sub_402D7D(__int32 a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4@<ebp>, int a5@<edi>);
// void __usercall sub_402E18(char a1@<al>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<ebp>, __int32 a6@<edi>, int a7@<esi>);
void sub_402E52();
// void __usercall sub_402F0D(__int16 a1@<ax>, int a2@<edx>, __int16 a3@<cx>, int a4@<ebx>, int a5@<edi>);
// void __usercall sub_402F2F(char a1@<cl>, int a2@<ebx>);
// void __usercall sub_402F49(int a1@<edx>, int a2@<ecx>, int a3@<ebx>);
// void __usercall sub_402FA0(__int32 a1@<edx>, int a2@<ebp>, int a3@<edi>);

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN loc_4010CC; // weak
_UNKNOWN loc_401102; // weak
_UNKNOWN loc_40114C; // weak
_UNKNOWN loc_401212; // weak
_UNKNOWN loc_401248; // weak
_UNKNOWN loc_401295; // weak
_UNKNOWN loc_401FFA; // weak
_UNKNOWN sub_402104; // weak
_UNKNOWN loc_402154; // weak
_UNKNOWN loc_4021CF; // weak
_UNKNOWN loc_40220A; // weak
_UNKNOWN loc_402223; // weak
_UNKNOWN loc_4022E6; // weak
_UNKNOWN locret_40231C; // weak
_UNKNOWN loc_402375; // weak
_UNKNOWN loc_4023B2; // weak
_UNKNOWN loc_4023FD; // weak
_UNKNOWN loc_40246D; // weak
_UNKNOWN loc_4024E1; // weak
_UNKNOWN loc_40259D; // weak
_UNKNOWN loc_4025E1; // weak
_UNKNOWN loc_4025FA; // weak
_UNKNOWN loc_402689; // weak
_UNKNOWN loc_4026DA; // weak
_UNKNOWN loc_4027AD; // weak
_UNKNOWN loc_4028A0; // weak
_UNKNOWN loc_4028C4; // weak
_UNKNOWN loc_4028DE; // weak
_UNKNOWN loc_4028FB; // weak
_UNKNOWN loc_402918; // weak
_UNKNOWN loc_40299F; // weak
_UNKNOWN loc_4029B4; // weak
_UNKNOWN loc_4029F3; // weak
_UNKNOWN loc_402A11; // weak
_UNKNOWN loc_402A5F; // weak
_UNKNOWN loc_402AAF; // weak
_UNKNOWN loc_402BC2; // weak
_UNKNOWN loc_402DAC; // weak
_UNKNOWN loc_402DFF; // weak
_UNKNOWN loc_402EB3; // weak
_UNKNOWN loc_402EC8; // weak
_UNKNOWN loc_402F61; // weak
_UNKNOWN loc_402F82; // weak
_UNKNOWN loc_402FD5; // weak


//----- (00401027) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401027(int a1@<eax>, int a2@<ecx>, char a3@<bl>)
{
  __asm { rep pop edx }
  BYTE1(a2) = -BYTE1(a2);
  BYTE1(_EDX) -= a3;
  ((void (__fastcall *)(int, int))((char *)&loc_401212 + 1))(a2, a1 + _EDX);
  JUMPOUT(0x40103E);
}
// 40102C: positive sp value 4 has been found
// 40103B: control flows out of bounds to 40103E

//----- (00401074) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401074(int a1@<eax>, int a2@<ecx>, int a3@<ebx>)
{
  ((void (__thiscall *)(int))sub_40111B)(a3 + a1 + a2 - 1);
  JUMPOUT(0x401093);
}
// 40107A: positive sp value 4 has been found
// 40108D: control flows out of bounds to 401093
// 40111B: using guessed type double sub_40111B();

//----- (004010E7) --------------------------------------------------------
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<esi>)
{
  ((void (__fastcall *)(int, int))loc_4010CC)((a4 - (a5 - a1) + 1) | a3, a4 + a2);
  JUMPOUT(0x401108);
}
// 401102: control flows out of bounds to 401108

//----- (0040111B) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40111B(int a1@<edx>, int a2@<ecx>, int a3@<edi>)
{
  int v3; // edx
  _DWORD *v4; // edi
  _DWORD *v5; // esi
  char v6; // of
  void *v7; // [esp+20h] [ebp-4h]
  void *retaddr; // [esp+24h] [ebp+0h]

  *(&retaddr - 10) = v7;
  v3 = a2 ^ a1;
  v4 = (_DWORD *)(v3 + a3);
  v5 = (_DWORD *)(v3 - (_DWORD)v4 - 1);
  sub_401134();
  if ( !v6 )
    JUMPOUT(0x4010FD);
  *v4 = *v5;
  sub_401134();
}
// 40111F: positive sp value 4 has been found
// 40112E: control flows out of bounds to 4010FD
// 40112E: variable 'v6' is possibly undefined

//----- (00401134) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_401134()
{
  double v0; // st7
  int v3; // edx

  v0 = sub_401027();
  __asm { aas }
  *(_DWORD *)(v3 + 1150248194) = (int)v0;
  JUMPOUT(0x401152);
}
// 401138: positive sp value 4 has been found
// 40114C: control flows out of bounds to 401152
// 40114C: variable 'v3' is possibly undefined
// 401027: using guessed type double sub_401027();

//----- (0040116C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40116C()
{
  int v0; // [esp+1Ch] [ebp-8h]
  int v1; // [esp+20h] [ebp-4h]

  *(&v1 - 10) = v0;
  ((void (*)(void))((char *)&loc_401295 + 4))();
  __asm { iret }
}
// 401185: positive sp value 8 has been found
// 401185: control flows out of bounds to 401186

//----- (004011A3) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4011A3(int a1@<edx>, int a2@<ebx>)
{
  ((void (__fastcall *)(int, int))((char *)&loc_401102 + 3))(a2 + 1, a1);
  JUMPOUT(0x4011BD);
}
// 4011AB: positive sp value 4 has been found
// 4011B8: control flows out of bounds to 4011BD

//----- (0040122B) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40122B(char a1@<al>, char a2@<dl>, int a3@<ecx>, char a4@<bl>, int a5@<esi>)
{
  __int16 v5; // dx
  int v6; // ecx
  int v7; // ecx

  BYTE1(a3) = a3;
  HIBYTE(v5) = -a2;
  LOBYTE(v5) = a4 | -a2;
  v6 = a5 | a3;
  LOBYTE(v6) = a1 + v6;
  ((void (__fastcall *)(int, __int16))((char *)&loc_40114C + 4))(v6, v5);
  *(_BYTE *)(v7 + 1687006725) -= a4;
  JUMPOUT(0x40124E);
}
// 401235: positive sp value 4 has been found
// 401248: control flows out of bounds to 40124E
// 401248: variable 'v7' is possibly undefined

//----- (00401265) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401265(int a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4@<esi>)
{
  int v4; // eax
  int v5; // ecx
  void *v6; // [esp+14h] [ebp-4h]
  void *retaddr; // [esp+18h] [ebp+0h]

  *(&retaddr - 7) = v6;
  sub_401074(a1, a2, a1 ^ a3);
  *(_DWORD *)(v4 - 120853061) &= a4;
  sub_40127F(v4, v5);
}
// 401269: positive sp value 4 has been found
// 401279: variable 'v4' is possibly undefined
// 40127A: variable 'v5' is possibly undefined

//----- (0040127F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40127F(int a1@<eax>, int a2@<ecx>)
{
  void *v2; // [esp+Ch] [ebp-4h]
  void *retaddr; // [esp+10h] [ebp+0h]

  *(&retaddr - 5) = v2;
  ((void (__thiscall *)(int))((char *)&loc_401248 + 4))((a1 | a2) - a1);
  JUMPOUT(0x40129A);
}
// 401283: positive sp value 4 has been found
// 401295: control flows out of bounds to 40129A

//----- (00401FE0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_401FE0()
{
  unsigned __int8 v0; // al

  ((void (*)(void))((char *)&loc_4021CF + 5))();
  __outbyte(0x4Du, v0);
  JUMPOUT(0x402000);
}
// 401FE6: positive sp value 4 has been found
// 401FFA: control flows out of bounds to 402000
// 401FF8: variable 'v0' is possibly undefined

//----- (00402060) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402060()
{
  char v0; // al
  void *v1; // [esp+24h] [ebp-4h]
  void *retaddr; // [esp+28h] [ebp+0h]

  *(&retaddr - 11) = v1;
  sub_402295();
  MEMORY[0x89130A71] = v0;
  JUMPOUT(0x40207F);
}
// 402064: positive sp value 4 has been found
// 40207A: control flows out of bounds to 40207F
// 40207A: variable 'v0' is possibly undefined

//----- (0040209A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40209A(__int32 a2@<edx>, int ebx0@<ebx>, int a3@<ebp>, unsigned int a4@<esi>)
{
  __int64 v5; // rax
  int v6; // ecx
  __int32 v7; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v7, a2);
  v5 = ((__int64 (*)(void))sub_402701)();
  sub_4020BD(v5, SHIDWORD(v5), v6, ebx0, a3, a4, a4);
}
// 4020A5: positive sp value 4 has been found
// 4020B8: variable 'v6' is possibly undefined
// 402701: using guessed type _DWORD sub_402701();

//----- (004020BD) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4020BD(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, unsigned int a7@<esi>)
{
  int v7; // edi
  int v8; // edi
  unsigned int v9; // ecx
  int v10; // eax
  int v11; // ecx
  char v12; // cf

  v7 = a6 + 1;
  if ( a1 == -194109320 )
  {
    BYTE1(a2) += a3;
    BYTE1(a3) |= 0x20u;
    ((void (__fastcall *)(int, int))((char *)&loc_402A5F + 4))(a3, a2);
    __halt();
  }
  v8 = a4 + v7;
  LOBYTE(a1) = a3;
  v9 = a7 | a3;
  LOBYTE(v9) = a4 | v9;
  v10 = v9 ^ a7 ^ a1;
  v11 = a7;
  LOBYTE(v11) = -(char)a7;
  LOBYTE(v10) = BYTE1(v10);
  sub_402739(v10, v11, a4, (_BYTE *)a7, v8);
  *(_DWORD *)(a5 + 31) -= v12 + v8;
  JUMPOUT(0x40271F);
}
// 4020C1: positive sp value 4 has been found
// 40271C: control flows out of bounds to 40271F
// 40271C: variable 'v12' is possibly undefined

//----- (004020E3) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
int __userpurge sub_4020E3@<eax>(char a1@<al>, __int16 a2@<dx>, char a3@<bl>, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  unsigned __int8 v65; // bl
  unsigned __int8 v66; // cl

  __asm { repne pop ecx }
  LOBYTE(a2) = 76;
  v65 = ((_BYTE)_ECX << 7) | (((unsigned __int16)(((_WORD)_ECX << 15) + a2) >> 8) + (a1 | a3) - a1);
  ((void (*)(void))loc_4025FA)();
  if ( v65 <= v66 )
    JUMPOUT(0x402117);
  return ((int (*)(void))sub_402104)();
}
// 4020E8: positive sp value 4 has been found
// 4020FE: control flows out of bounds to 402117
// 402103: bad sp value at call
// 4020FE: variable 'v66' is possibly undefined
// 4020E3: too many input arguments, some ignored

//----- (00402104) --------------------------------------------------------
#error "402119: positive sp value has been found (funcsize=11)"

//----- (0040211E) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
int __userpurge sub_40211E@<eax>(int a1@<eax>, int a2@<ecx>, int a3@<ebx>, double a4@<st6>, double a5@<st5>, double a6@<st4>, double a7@<st3>, double a8@<st2>, double a9@<st1>, double a10@<st0>, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  int v64; // ebx
  int v65; // eax
  void *v67; // [esp+24h] [ebp-4h]
  void *retaddr[2]; // [esp+28h] [ebp+0h]

  retaddr[-11] = v67;
  BYTE1(a3) = 93;
  v64 = a1 ^ a3;
  v65 = ((__int64 (__fastcall *)(int, _DWORD))((char *)&loc_402918 + 3))(a2, (unsigned __int8)a1);
  LOBYTE(v65) = v65 & 0x7A;
  *(_BYTE *)(v65 - 117) += v64;
  ((void (__usercall *)(double@<st0>, double@<st1>, double@<st2>, double@<st3>, double@<st4>, double@<st5>, double@<st6>, double@<st7>))((char *)&loc_4029B4 + 3))(
    a10,
    a9,
    a8,
    a7,
    a6,
    a5,
    a4,
    (double)*(__int16 *)v64);
  return MK_FP(retaddr[0], retaddr[0])();
}
// 402122: positive sp value 4 has been found
// 40214F: bad sp value at call
// 40211E: too many input arguments, some ignored

//----- (00402175) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402175(int a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4@<esi>)
{
  __int32 v4; // esi
  int v5; // ebx
  __int64 v6; // rax
  char v8; // ch
  int v9; // [esp+1Ch] [ebp-8h]
  int v10; // [esp+20h] [ebp-4h]

  *(&v10 - 10) = v9;
  BYTE1(a3) = BYTE1(a1);
  LOBYTE(a3) = BYTE1(a2) + a3;
  v4 = a2 + a4;
  v5 = a1 ^ a3;
  BYTE1(v5) = BYTE1(a2);
  v6 = ((__int64 (*)(void))((char *)&loc_402EC8 + 4))();
  __asm { lock pop edi }
  sub_402197((_BYTE *)HIDWORD(v6), v8, v5, _EDI, v4);
}
// 402191: positive sp value 8 has been found
// 402196: variable 'v8' is possibly undefined

//----- (00402197) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402197(_BYTE *a1@<edx>, char a2@<ch>, int a3@<ebx>, int a4@<edi>, __int32 a5@<esi>)
{
  int v5; // edx
  int v6; // ebx
  int v7; // ecx
  int v10; // [esp+24h] [ebp-8h]
  int v11; // [esp+28h] [ebp-4h]

  *(&v11 - 12) = v10;
  *a1 = a2;
  ((void (*)(void))((char *)&loc_4028A0 + 4))();
  BYTE1(v5) = 125;
  v6 = a5 | a3;
  BYTE1(v6) = 70;
  ((void (__fastcall *)(int, int))((char *)&loc_402F61 + 5))(v7 - v6, v5);
  _InterlockedExchange((volatile __int32 *)((a5 | a4) - 1), a5);
  __asm { bound   ecx, [edx-76FD2786h] }
  JUMPOUT(0x4021D5);
}
// 4021BB: positive sp value 8 has been found
// 4021CF: control flows out of bounds to 4021D5
// 4021C2: variable 'v7' is possibly undefined
// 4021C8: variable 'v5' is possibly undefined

//----- (00402241) --------------------------------------------------------
#error "402254: cannot convert to microcode (funcsize=9)"

//----- (00402258) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402258(__int32 a1@<edx>, int a2@<ebp>, int a3@<edi>)
{
  int v3; // eax
  int v6; // ecx
  _BYTE *v7; // eax
  bool v8; // pf
  __int32 v9; // [esp-8h] [ebp-8h] BYREF

  _InterlockedExchange(&v9, a1);
  v3 = ((int (*)(void))((char *)&loc_4027AD + 1))();
  LOBYTE(v3) = 74;
  __asm { insd }
  LOBYTE(v6) = v6 ^ 0x38;
  sub_40278E(a2, v3 ^ (v6 | a3));
  v8 = __SETP__((_BYTE)v7, 86);
  LOBYTE(v7) = (_BYTE)v7 - 86;
  *v7 = __ROL1__(*v7, 1);
  __asm { into }
  if ( !v8 )
    JUMPOUT(0x4022C2);
  sub_402295();
}
// 402278: positive sp value 8 has been found
// 402293: control flows out of bounds to 4022C2
// 402278: variable 'v6' is possibly undefined
// 40228D: variable 'v7' is possibly undefined

//----- (00402295) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402295()
{
  ((void (*)(void))((char *)&loc_402F82 + 3))();
  sub_4022B3();
}
// 4022B1: positive sp value 8 has been found

//----- (004022B3) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4022B3()
{
  int v0; // [esp+1Ch] [ebp-8h]
  int v1; // [esp+20h] [ebp-4h]

  *(&v1 - 10) = v0;
  sub_402E52();
  sub_40281A();
  JUMPOUT(0x4022EB);
}
// 4022CE: positive sp value 8 has been found
// 4022E6: control flows out of bounds to 4022EB

//----- (00402397) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402397(int a1@<edx>, int a2@<edi>, __int32 a3@<esi>)
{
  int v5; // ecx
  __int32 v6; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v6, a3);
  _EAX = ((int (__cdecl *)(_DWORD))loc_4025E1)(*(_DWORD *)(a1 + 8));
  __asm { aam     0E8h ; 'è' }
  ++*(_BYTE *)(a2 + 4 * v5);
  JUMPOUT(0x4023B5);
}
// 4023A0: positive sp value 4 has been found
// 4023B2: control flows out of bounds to 4023B5
// 4023B2: variable 'v5' is possibly undefined

//----- (004023CC) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4023CC()
{
  unsigned __int8 v0; // al

  ((void (*)(void))((char *)&loc_4028FB + 1))();
  v0 = __inbyte(0x8Du);
  JUMPOUT(0x4023E7);
}
// 4023D0: positive sp value 4 has been found
// 4023E5: control flows out of bounds to 4023E7

//----- (00402418) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402418(__int16 a1@<ax>, int a2@<edx>, int a3@<ebx>, _BYTE *a4@<edi>, int a5@<esi>)
{
  int v5; // [esp-A6B9h] [ebp-A6B9h]
  int v6; // [esp-A6B5h] [ebp-A6B5h]
  int v7; // [esp-A6B1h] [ebp-A6B1h]
  int v8; // [esp-A6ADh] [ebp-A6ADh]
  int v9; // [esp-A6A9h] [ebp-A6A9h]
  int v10; // [esp-A6A5h] [ebp-A6A5h]
  int v11; // [esp-A6A1h] [ebp-A6A1h]
  int v12; // [esp-A69Dh] [ebp-A69Dh]
  int v13; // [esp-A699h] [ebp-A699h]
  int v14; // [esp-A695h] [ebp-A695h]
  int v15; // [esp-A691h] [ebp-A691h]
  int v16; // [esp-A68Dh] [ebp-A68Dh]
  int v17; // [esp-A689h] [ebp-A689h]
  int v18; // [esp-A685h] [ebp-A685h]
  int v19; // [esp-A681h] [ebp-A681h]
  int v20; // [esp-A67Dh] [ebp-A67Dh]
  int v21; // [esp-A679h] [ebp-A679h]
  int v22; // [esp-A675h] [ebp-A675h]
  int v23; // [esp-A671h] [ebp-A671h]
  int v24; // [esp-A66Dh] [ebp-A66Dh]
  int v25; // [esp-A669h] [ebp-A669h]
  int v26; // [esp-A665h] [ebp-A665h]
  int v27; // [esp-A661h] [ebp-A661h]
  int v28; // [esp-A65Dh] [ebp-A65Dh]
  int v29; // [esp-A659h] [ebp-A659h]
  int v30; // [esp-A655h] [ebp-A655h]
  int v31; // [esp-A651h] [ebp-A651h]
  int v32; // [esp-A64Dh] [ebp-A64Dh]
  int v33; // [esp-A649h] [ebp-A649h]
  int v34; // [esp-A645h] [ebp-A645h]
  int v35; // [esp-A641h] [ebp-A641h]
  int v36; // [esp-A63Dh] [ebp-A63Dh]
  int v37; // [esp-A639h] [ebp-A639h]
  int v38; // [esp-A635h] [ebp-A635h]
  int v39; // [esp-A631h] [ebp-A631h]
  int v40; // [esp-A62Dh] [ebp-A62Dh]
  int v41; // [esp-A629h] [ebp-A629h]
  int v42; // [esp-A625h] [ebp-A625h]
  int v43; // [esp-A621h] [ebp-A621h]
  int v44; // [esp-A61Dh] [ebp-A61Dh]
  int v45; // [esp-A619h] [ebp-A619h]
  int v46; // [esp-A615h] [ebp-A615h]
  int v47; // [esp-A611h] [ebp-A611h]
  int v48; // [esp-A60Dh] [ebp-A60Dh]
  int v49; // [esp-A609h] [ebp-A609h]
  int v50; // [esp-A605h] [ebp-A605h]
  int v51; // [esp-A601h] [ebp-A601h]
  int v52; // [esp-A5FDh] [ebp-A5FDh]
  int v53; // [esp-A5F9h] [ebp-A5F9h]
  int v54; // [esp-A5F5h] [ebp-A5F5h]
  int v55; // [esp-A5F1h] [ebp-A5F1h]
  int v56; // [esp-A5EDh] [ebp-A5EDh]
  int v57; // [esp-A5E9h] [ebp-A5E9h]
  int v58; // [esp-A5E5h] [ebp-A5E5h]
  int v59; // [esp-A5E1h] [ebp-A5E1h]
  int v60; // [esp-A5DDh] [ebp-A5DDh]
  int v61; // [esp-A5D9h] [ebp-A5D9h]

  BYTE1(a2) = -BYTE1(a2);
  *(_DWORD *)a4 = sub_402615(
                    a2,
                    a4,
                    a1 + 2,
                    a3,
                    a5,
                    12288,
                    v5,
                    v6,
                    v7,
                    v8,
                    v9,
                    v10,
                    v11,
                    v12,
                    v13,
                    v14,
                    v15,
                    v16,
                    v17,
                    v18,
                    v19,
                    v20,
                    v21,
                    v22,
                    v23,
                    v24,
                    v25,
                    v26,
                    v27,
                    v28,
                    v29,
                    v30,
                    v31,
                    v32,
                    v33,
                    v34,
                    v35,
                    v36,
                    v37,
                    v38,
                    v39,
                    v40,
                    v41,
                    v42,
                    v43,
                    v44,
                    v45,
                    v46,
                    v47,
                    v48,
                    v49,
                    v50,
                    v51,
                    v52,
                    v53,
                    v54,
                    v55,
                    v56,
                    v57,
                    v58,
                    v59,
                    v60,
                    v61);
  JUMPOUT(0x402432);
}
// 40242C: positive sp value A6BD has been found
// 40242F: control flows out of bounds to 402432
// 402427: variable 'v5' is possibly undefined
// 402427: variable 'v6' is possibly undefined
// 402427: variable 'v7' is possibly undefined
// 402427: variable 'v8' is possibly undefined
// 402427: variable 'v9' is possibly undefined
// 402427: variable 'v10' is possibly undefined
// 402427: variable 'v11' is possibly undefined
// 402427: variable 'v12' is possibly undefined
// 402427: variable 'v13' is possibly undefined
// 402427: variable 'v14' is possibly undefined
// 402427: variable 'v15' is possibly undefined
// 402427: variable 'v16' is possibly undefined
// 402427: variable 'v17' is possibly undefined
// 402427: variable 'v18' is possibly undefined
// 402427: variable 'v19' is possibly undefined
// 402427: variable 'v20' is possibly undefined
// 402427: variable 'v21' is possibly undefined
// 402427: variable 'v22' is possibly undefined
// 402427: variable 'v23' is possibly undefined
// 402427: variable 'v24' is possibly undefined
// 402427: variable 'v25' is possibly undefined
// 402427: variable 'v26' is possibly undefined
// 402427: variable 'v27' is possibly undefined
// 402427: variable 'v28' is possibly undefined
// 402427: variable 'v29' is possibly undefined
// 402427: variable 'v30' is possibly undefined
// 402427: variable 'v31' is possibly undefined
// 402427: variable 'v32' is possibly undefined
// 402427: variable 'v33' is possibly undefined
// 402427: variable 'v34' is possibly undefined
// 402427: variable 'v35' is possibly undefined
// 402427: variable 'v36' is possibly undefined
// 402427: variable 'v37' is possibly undefined
// 402427: variable 'v38' is possibly undefined
// 402427: variable 'v39' is possibly undefined
// 402427: variable 'v40' is possibly undefined
// 402427: variable 'v41' is possibly undefined
// 402427: variable 'v42' is possibly undefined
// 402427: variable 'v43' is possibly undefined
// 402427: variable 'v44' is possibly undefined
// 402427: variable 'v45' is possibly undefined
// 402427: variable 'v46' is possibly undefined
// 402427: variable 'v47' is possibly undefined
// 402427: variable 'v48' is possibly undefined
// 402427: variable 'v49' is possibly undefined
// 402427: variable 'v50' is possibly undefined
// 402427: variable 'v51' is possibly undefined
// 402427: variable 'v52' is possibly undefined
// 402427: variable 'v53' is possibly undefined
// 402427: variable 'v54' is possibly undefined
// 402427: variable 'v55' is possibly undefined
// 402427: variable 'v56' is possibly undefined
// 402427: variable 'v57' is possibly undefined
// 402427: variable 'v58' is possibly undefined
// 402427: variable 'v59' is possibly undefined
// 402427: variable 'v60' is possibly undefined
// 402427: variable 'v61' is possibly undefined

//----- (00402448) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402448(int a1@<ecx>, int a2@<edi>)
{
  unsigned __int16 v3; // dx
  unsigned __int8 v4; // al
  int v5; // [esp-4h] [ebp-4h]

  __asm { rep pop ebx }
  sub_402B72(a1 + 1, a2);
  v5 = (unsigned __int16)__ES__;
  v4 = __inbyte(v3);
  __asm
  {
    into
    retf
  }
}
// 40244D: positive sp value 4 has been found
// 402458: variable 'v3' is possibly undefined

//----- (0040245C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40245C()
{
  sub_4024AA();
  JUMPOUT(0x402477);
}
// 402460: positive sp value 4 has been found
// 40246D: control flows out of bounds to 402477

//----- (00402493) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402493(int a1@<eax>, __int16 a2@<cx>, __int32 a3@<edi>, int a4@<esi>)
{
  int v4; // ebx

  HIWORD(v4) = HIWORD(a4);
  BYTE1(v4) = 105;
  LOBYTE(v4) = a1;
  sub_4027F3(a1, a2, v4, a3, a4 + 1);
  sub_4024AA();
}
// 4024A7: positive sp value 8 has been found

//----- (004024AA) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4024AA()
{
  void *v0; // [esp+24h] [ebp-4h]
  void *retaddr; // [esp+28h] [ebp+0h]

  *(&retaddr - 11) = v0;
  JUMPOUT(0x4024B0);
}
// 4024AE: positive sp value 4 has been found
// 4024AE: control flows out of bounds to 4024B0

//----- (004024C1) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4024C1(_BYTE *a1@<edx>, char a2@<cl>, int a3@<ebx>, int a4@<edi>, __int32 a5@<esi>)
{
  unsigned __int8 v5; // al

  sub_402197(a1, a2, a3, a4, a5);
  v5 = __inbyte(0xA9u);
  JUMPOUT(0x4024E1);
}
// 4024C5: positive sp value 4 has been found
// 4024DF: control flows out of bounds to 4024E1

//----- (004024FB) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4024FB(int a1@<eax>, void *a2@<edx>, char a3@<cl>, int a4@<ebx>, int a5@<edi>, __int32 *a6@<esi>, double a7@<st6>, double a8@<st5>, double a9@<st4>, double a10@<st3>, double a11@<st2>, double a12@<st1>, double a13@<st0>)
{
  int v13; // ebx
  int v14; // eax
  int v16; // ecx
  int v17; // [esp+18h] [ebp-8h]
  void *v18; // [esp+1Ch] [ebp-4h]
  void *retaddr; // [esp+20h] [ebp+0h]

  *(&retaddr - 9) = v18;
  LOBYTE(a1) = a1 - a3;
  v18 = a2;
  v13 = a4 - 2;
  BYTE1(v13) ^= BYTE1(a1);
  sub_402C12(a1, a5, (int)a6);
  __asm { insd }
  v17 = v13;
  if ( v16 != 1 )
    JUMPOUT(0x4024F3);
  sub_402513(v14, _EDX, 0, v13, a6, a7, a8, a9, a10, a11, a12, a13);
}
// 4024FF: positive sp value 4 has been found
// 402511: control flows out of bounds to 4024F3
// 402511: variable 'v16' is possibly undefined
// 402512: variable 'v14' is possibly undefined
// 402512: variable '_EDX' is possibly undefined

//----- (00402513) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402513(int a1@<eax>, __int32 a2@<edx>, int a3@<ecx>, int a4@<ebx>, __int32 *a5@<esi>, double a6@<st6>, double a7@<st5>, double a8@<st4>, double a9@<st3>, double a10@<st2>, double a11@<st1>, double a12@<st0>)
{
  __int32 v12[3712]; // [esp-3A02h] [ebp-3A02h] BYREF

  _InterlockedExchange(v12, a2);
  sub_40211E(
    a1,
    a3,
    a4 - 1,
    a6,
    a7,
    a8,
    a9,
    a10,
    a11,
    a12,
    v12[1],
    v12[2],
    v12[3],
    v12[4],
    v12[5],
    v12[6],
    v12[7],
    v12[8],
    v12[9],
    v12[10],
    v12[11],
    v12[12],
    v12[13],
    v12[14],
    v12[15],
    v12[16],
    v12[17],
    v12[18],
    v12[19],
    v12[20],
    v12[21],
    v12[22],
    v12[23],
    v12[24],
    v12[25],
    v12[26],
    v12[27],
    v12[28],
    v12[29],
    v12[30],
    v12[31],
    v12[32],
    v12[33],
    v12[34],
    v12[35],
    v12[36],
    v12[37],
    v12[38],
    v12[39],
    v12[40],
    v12[41],
    v12[42],
    v12[43],
    v12[44],
    v12[45],
    v12[46],
    v12[47],
    v12[48],
    v12[49],
    v12[50],
    v12[51],
    v12[52],
    v12[53]);
  sub_402534(*a5, (int)(a5 + 1));
}
// 40252C: positive sp value 3A02 has been found

//----- (00402534) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402534(__int32 a1@<eax>, int _ESI@<esi>)
{
  __int32 v3; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v3, a1);
  __asm { rep pop eax }
  ((void (*)(void))((char *)&loc_40259D + 5))();
  __asm { rcr     byte ptr [esi-73h], 64h }
  JUMPOUT(0x402552);
}
// 402539: positive sp value 4 has been found
// 40254E: control flows out of bounds to 402552

//----- (0040256F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40256F()
{
  sub_402754();
  sub_402586();
}
// 402575: positive sp value 4 has been found
// 402754: using guessed type double sub_402754();

//----- (00402586) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402586()
{
  sub_402CB8();
  JUMPOUT(0x4025A3);
}
// 40258A: positive sp value 4 has been found
// 40259D: control flows out of bounds to 4025A3
// 402CB8: using guessed type _DWORD sub_402CB8();

//----- (004025C2) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4025C2()
{
  ((void (*)(void))((char *)&loc_402BC2 + 4))();
  __asm { lock pop ebp }
  JUMPOUT(0x402596);
}
// 4025DB: positive sp value 8 has been found
// 4025DB: control flows out of bounds to 402596

//----- (00402615) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __userpurge sub_402615@<eax>(int a1@<edx>, _BYTE *a2@<edi>, __int16 ax0@<ax>, int ebx0@<ebx>, int esi0@<esi>, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60)
{
  int v66; // ecx
  int v67; // esi
  int v68; // eax
  char v69; // dl
  int v70; // ecx

  v66 = a1;
  BYTE1(ebx0) |= (unsigned __int16)(ax0 - esi0) >> 8;
  v67 = ebx0 + (a1 | esi0);
  LOBYTE(v66) = -(char)a1;
  v68 = ((int (__thiscall *)(int))loc_4023FD)(v66);
  *a2 = v68;
  return sub_402636(
           v68,
           v69,
           v70,
           ebx0,
           (int)(a2 + 1),
           v67,
           a3,
           a4,
           a5,
           a6,
           a7,
           a8,
           a9,
           a10,
           a11,
           a12,
           a13,
           a14,
           a15,
           a16,
           a17,
           a18,
           a19,
           a20,
           a21,
           a22,
           a23,
           a24,
           a25,
           a26,
           a27,
           a28,
           a29,
           a30,
           a31,
           a32,
           a33,
           a34,
           a35,
           a36,
           a37,
           a38,
           a39,
           a40,
           a41,
           a42,
           a43,
           a44,
           a45,
           a46,
           a47,
           a48,
           a49,
           a50,
           a51,
           a52,
           a53,
           a54,
           a55,
           a56,
           a57,
           a58,
           a59);
}
// 40261B: positive sp value 4 has been found
// 402635: variable 'v69' is possibly undefined
// 402635: variable 'v70' is possibly undefined
// 402615: too many input arguments, some ignored

//----- (00402636) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __userpurge sub_402636@<eax>(int a1@<eax>, char a2@<dl>, int a3@<ecx>, int a4@<ebx>, int a5@<edi>, int a6@<esi>, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  int result; // eax
  void *v65; // [esp+8h] [ebp-4h]
  void *retaddr; // [esp+Ch] [ebp+0h]

  *(&retaddr - 4) = v65;
  LOBYTE(a3) = 86;
  BYTE1(a3) = a2 | 0xDC;
  result = ((int (__thiscall *)(int))((char *)&loc_402A11 + 1))(a6 + a4 - a1 - 1 + a3);
  *(_DWORD *)(a5 - a6) = result;
  return result;
}
// 40263A: positive sp value 4 has been found
// 402636: too many input arguments, some ignored

//----- (00402655) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402655(__int32 a1@<edx>, int a2@<ecx>, char a3@<bh>)
{
  __int16 v4; // bx
  int v5; // eax
  __int32 v6[2]; // [esp-8h] [ebp-8h] BYREF
  void *retaddr; // [esp+0h] [ebp+0h] BYREF

  _InterlockedExchange(v6, a1);
  __asm { rep pop edx }
  HIBYTE(v4) = -a3;
  LOBYTE(v4) = a2;
  v5 = ((int (__fastcall *)(int, __int16))loc_4024E1)(a2, v4);
  v6[1] = (__int32)&retaddr;
  MEMORY[0x96F79944] = v5;
  JUMPOUT(0x402672);
}
// 40265E: positive sp value 8 has been found
// 402670: control flows out of bounds to 402672

//----- (004026C6) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4026C6()
{
  void *v0; // [esp+10h] [ebp-4h]
  void *retaddr; // [esp+14h] [ebp+0h]

  *(&retaddr - 6) = v0;
  v0 = &loc_4026DA;
  JUMPOUT(0x4026E2);
}
// 4026A4: positive sp value 4 has been found
// 4026E1: control flows out of bounds to 4026E3
// 4026A7: control flows out of bounds to 4026A8
// 4026D5: control flows out of bounds to 4026E2

//----- (00402720) --------------------------------------------------------
void __usercall sub_402720(int a1@<eax>)
{
  sub_4029DA(a1, 48128);
  __asm { iret }
}
// 402737: control flows out of bounds to 402738

//----- (00402739) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402739(int a1@<eax>, int a2@<ecx>, int a3@<ebx>, _BYTE *a4@<esi>, int a5@<edi>)
{
  int v5; // edi
  int v6; // edx

  BYTE1(a2) = a2;
  v5 = a5 - a2 - 1;
  LOBYTE(a1) = BYTE1(a3) | a1;
  BYTE1(a2) = -73;
  sub_402A47(a1, a2, a4);
  *(_DWORD *)a4 |= a3;
  sub_402754(v6, a3, v5);
}
// 40273D: positive sp value 4 has been found
// 402753: variable 'v6' is possibly undefined

//----- (00402754) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402754(int a1@<edx>, int a2@<ebx>, int a3@<edi>)
{
  sub_402851(a2, a1 ^ (a3 - a2));
  JUMPOUT(0x402770);
}
// 402758: positive sp value 4 has been found
// 40276B: control flows out of bounds to 402770

//----- (0040278E) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40278E(int a1@<ebp>, int a2@<edi>)
{
  char v2; // ch
  void *v3; // [esp+Ch] [ebp-4h]
  void *retaddr; // [esp+10h] [ebp+0h]

  *(&retaddr - 5) = v3;
  sub_4026C6();
  *(_BYTE *)(a2 + 8 * a1 + 574173300) &= v2;
  JUMPOUT(0x4027B3);
}
// 402792: positive sp value 4 has been found
// 4027AD: control flows out of bounds to 4027B3
// 4027A6: variable 'v2' is possibly undefined

//----- (004027C5) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4027C5(char a1@<al>, __int32 a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>, double a8@<st6>, double a9@<st5>, double a10@<st4>, double a11@<st3>, double a12@<st2>, double a13@<st1>, double a14@<st0>)
{
  void *v15; // edx
  char v16; // cl
  int v18; // edi
  __int32 *v19; // esi
  int v20; // [esp-20h] [ebp-20h]
  void *v21; // [esp-1Ch] [ebp-1Ch]
  char v22; // [esp-18h] [ebp-18h]
  int v23; // [esp-14h] [ebp-14h]
  int v24; // [esp-8h] [ebp-8h]
  __int32 *v25; // [esp-4h] [ebp-4h]

  BYTE1(a4) |= a1;
  LOBYTE(a4) = a2 ^ a4;
  sub_402D7D(a2, a3, a4, a5, a7 | (a6 - 1));
  _EAX = v20;
  v15 = v21;
  v16 = v22;
  _EBX = v23;
  v18 = v24;
  v19 = v25;
  LOBYTE(_EAX) = v20 & 0x7B;
  __asm { xlat }
  sub_4027DA(_EAX, v15, v16, _EBX, v18, v19, a8, a9, a10, a11, a12, a13, a14);
}
// 4027D7: positive sp value 24 has been found
// 4027D6: variable 'v20' is possibly undefined
// 4027D6: variable 'v21' is possibly undefined
// 4027D6: variable 'v22' is possibly undefined
// 4027D6: variable 'v23' is possibly undefined
// 4027D6: variable 'v24' is possibly undefined
// 4027D6: variable 'v25' is possibly undefined

//----- (004027DA) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4027DA(int a1@<eax>, void *a2@<edx>, char a3@<cl>, int a4@<ebx>, int a5@<edi>, __int32 *a6@<esi>, double a7@<st6>, double a8@<st5>, double a9@<st4>, double a10@<st3>, double a11@<st2>, double a12@<st1>, double a13@<st0>)
{
  int v13; // eax
  int v14; // ebx
  int v15; // eax
  __int16 v16; // cx

  v13 = a5 | a1;
  BYTE1(v13) = 35;
  LOBYTE(a4) = 125;
  v14 = v13 + a4;
  sub_4024FB(v13, a2, (unsigned __int8)a2 | a3, v14, a5, a6, a7, a8, a9, a10, a11, a12, a13);
  sub_4027F3(v15, v16, v14, _InterlockedExchange((volatile __int32 *)(v15 - 1788131497), a5), (int)a6);
}
// 4027DE: positive sp value 4 has been found
// 4027EE: variable 'v15' is possibly undefined
// 4027EE: variable 'v16' is possibly undefined

//----- (004027F3) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4027F3(int a1@<eax>, __int16 a2@<cx>, int _EBX@<ebx>, __int32 a4@<edi>, int _ESI@<esi>)
{
  char v5; // cf
  char v6; // zf
  __int32 v8; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v8, a4);
  BYTE1(_EBX) -= HIBYTE(a2);
  LOBYTE(_EBX) = a2 | _EBX;
  if ( a1 != 3342027 )
  {
    sub_402586();
    if ( v5 | v6 )
      JUMPOUT(0x4024BD);
    JUMPOUT(0x402539);
  }
  ((void (*)(void))((char *)&locret_40231C + 2))();
  __asm { bound   edx, [ebx+esi*4-7Bh] }
  sub_40281A();
}
// 4024B0: positive sp value 4 has been found
// 4024BB: control flows out of bounds to 4024BD
// 4024BB: control flows out of bounds to 402539
// 4024BB: variable 'v5' is possibly undefined
// 4024BB: variable 'v6' is possibly undefined

//----- (0040281A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40281A()
{
  ((void (*)(void))((char *)&loc_402689 + 2))();
  JUMPOUT(0x40283D);
}
// 40281E: positive sp value 4 has been found
// 402838: control flows out of bounds to 40283D

//----- (00402851) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402851(int a1@<ebx>, __int32 a2@<esi>)
{
  char v3; // sf
  __int32 v4; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v4, a2);
  __asm { rep pop esi }
  ((void (*)(void))((char *)&loc_4028DE + 3))();
  if ( v3 )
  {
    MEMORY[0x8D9B2CB8] = a1;
    JUMPOUT(0x402870);
  }
  JUMPOUT(0x4028E0);
}
// 402856: positive sp value 4 has been found
// 40286B: control flows out of bounds to 402870
// 402867: control flows out of bounds to 4028E0
// 402867: variable 'v3' is possibly undefined

//----- (00402989) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
void sub_402989()
{
  int v0; // [esp-39E2h] [ebp-39FEh]
  __int16 v1; // [esp-39DEh] [ebp-39FAh]

  *((_DWORD *)&v1 - 8) = v0;
  ((void (*)(void))sub_402104)();
  JUMPOUT(0x4029A5);
}
// 40299C: positive sp value 39FE has been found
// 40299F: control flows out of bounds to 4029A5
// 402997: bad sp value at call

//----- (004029DA) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4029DA(int a1@<eax>, int a2@<ebx>)
{
  int v2; // ebx
  int v3; // [esp+1Ch] [ebp-8h]
  void *v4; // [esp+20h] [ebp-4h]
  void *retaddr; // [esp+24h] [ebp+0h]

  *(&retaddr - 10) = v4;
  LOBYTE(a1) = a2;
  v2 = a1 | a2;
  ((void (__cdecl *)(int))sub_402241)(64);
  v3 = v2;
  JUMPOUT(0x4029F8);
}
// 4029DE: positive sp value 4 has been found
// 4029F3: control flows out of bounds to 4029F8
// 402241: using guessed type _DWORD sub_402241();

//----- (00402A2D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402A2D()
{
  sub_401FE0();
  JUMPOUT(0x402A46);
}
// 402A33: positive sp value 8 has been found
// 402A45: control flows out of bounds to 402A46

//----- (00402A47) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402A47(int a1@<eax>, int a2@<ecx>, _BYTE *a3@<esi>)
{
  __asm { repne pop edx }
  BYTE1(a2) += a1;
  LOBYTE(a2) = *a3;
  sub_402A95(a2 + a1);
  JUMPOUT(0x402A69);
}
// 402A4C: positive sp value 4 has been found
// 402A5F: control flows out of bounds to 402A69

//----- (00402A7D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402A7D()
{
  __int32 v0; // eax

  sub_402060();
  sub_402A95(v0);
}
// 402A85: positive sp value 4 has been found
// 402A90: variable 'v0' is possibly undefined
// 402060: using guessed type double sub_402060();

//----- (00402A95) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402A95(__int32 a1@<eax>)
{
  char v1; // cf
  char v2; // zf
  __int32 v3; // [esp-8h] [ebp-8h] BYREF

  _InterlockedExchange(&v3, a1);
  ((void (*)(void))loc_402DFF)();
  if ( !(v1 | v2) )
    JUMPOUT(0x402AB9);
  sub_401FE0();
  JUMPOUT(0x402A46);
}
// 402A33: positive sp value 8 has been found
// 402AAF: control flows out of bounds to 402AB9
// 402A45: control flows out of bounds to 402A46
// 402AAC: variable 'v1' is possibly undefined
// 402AAC: variable 'v2' is possibly undefined

//----- (00402AE5) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402AE5(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>)
{
  int v4; // ecx
  int v5; // edx
  int v6; // ecx
  char v7; // pf

  BYTE1(a3) ^= a1;
  v4 = a2 - 1 - a4 - a4;
  BYTE1(v4) |= BYTE1(a1);
  sub_402F49(a1, v4, a3);
  ((void (*)(void))loc_402223)();
  if ( v7 )
    JUMPOUT(0x402AB2);
  sub_402B29(v6, v5);
}
// 402AE9: positive sp value 4 has been found
// 402B26: control flows out of bounds to 402AB2
// 402B26: variable 'v7' is possibly undefined
// 402B28: variable 'v6' is possibly undefined
// 402B28: variable 'v5' is possibly undefined

//----- (00402B29) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_402B29(int a1, int a2)
{
  void *v3; // [esp+18h] [ebp-4h]
  void *retaddr; // [esp+1Ch] [ebp+0h]

  *(&retaddr - 8) = v3;
  BYTE1(a2) ^= a1;
  ((void (__fastcall *)(int, int, int))((char *)&loc_402FD5 + 3))(a1, a2, 4205366);
  __asm { jmp     dword ptr [edx] }
}
// 402B2D: positive sp value 4 has been found

//----- (00402B46) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402B46()
{
  ((void (*)(void))((char *)&loc_4028C4 + 3))();
  JUMPOUT(0x402B61);
}
// 402B4A: positive sp value 4 has been found
// 402B5C: control flows out of bounds to 402B61

//----- (00402B72) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402B72(int a1@<ecx>, int a2@<edi>)
{
  int v2; // ecx

  v2 = a1 - a2;
  LOBYTE(v2) = BYTE1(v2) ^ v2;
  ((void (__thiscall *)(int))loc_402154)(v2 + 1);
  JUMPOUT(0x402B8E);
}
// 402B76: positive sp value 4 has been found
// 402B89: control flows out of bounds to 402B8E

//----- (00402BF7) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402BF7(int a1@<ecx>, int a2@<esi>)
{
  int v2; // esi
  int v3; // ecx
  bool v4; // of
  int v5; // esi
  int v6; // [esp-4h] [ebp-4h]

  v2 = a1 ^ a2;
  ((void (*)(void))((char *)&loc_40220A + 1))();
  v4 = __OFADD__(1, v2);
  v5 = v2 + 1;
  if ( !v4 )
    JUMPOUT(0x402BF1);
  sub_402C12(v3, v6, v5);
}
// 402C0F: positive sp value 8 has been found
// 402C10: control flows out of bounds to 402BF1
// 402C11: variable 'v3' is possibly undefined
// 402C11: variable 'v6' is possibly undefined

//----- (00402C12) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402C12(int a1@<ecx>, int _EDI@<edi>, int _ESI@<esi>)
{
  void *v3; // [esp+10h] [ebp-4h]
  void *retaddr; // [esp+14h] [ebp+0h]

  *(&retaddr - 6) = v3;
  LOBYTE(a1) = -(char)a1;
  ((void (__thiscall *)(int))((char *)&loc_40246D + 5))(a1);
  __asm { rcr     dword ptr [edi+esi*8], 8Ch }
  JUMPOUT(0x402C30);
}
// 402C16: positive sp value 4 has been found
// 402C2A: control flows out of bounds to 402C30

//----- (00402C6B) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402C6B(__int32 a1@<ebx>)
{
  int v1; // ebx
  __int16 v2; // cx
  int v3; // edx
  __int32 v4; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v4, a1);
  v1 = v4;
  ((void (*)(void))loc_402DAC)();
  LOBYTE(v3) = HIBYTE(v2) | 0x13;
  sub_402C81(v3, v2, v1);
}
// 402C71: positive sp value 4 has been found
// 402C7D: variable 'v2' is possibly undefined
// 402C80: variable 'v3' is possibly undefined

//----- (00402C81) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402C81(int a1@<edx>, __int16 a2@<cx>, int a3@<ebx>)
{
  HIBYTE(a2) = a3;
  *(_BYTE *)(((int (__fastcall *)(__int16, int))((char *)&loc_402EB3 + 1))(a2, a1 + 872708455) + 2 * a3 + 608473041) = a3;
  JUMPOUT(0x402CA3);
}
// 402C8A: positive sp value 4 has been found
// 402C9C: control flows out of bounds to 402CA3

//----- (00402CB8) --------------------------------------------------------
#error "402CBB: cannot convert to microcode (funcsize=2)"

//----- (00402D45) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402D45(int a1@<edx>, int a2@<ebx>, int a3@<ebp>, int a4@<edi>)
{
  int v4; // edi
  int v5; // ecx
  _DWORD *v6; // eax
  void *v7; // [esp+2Ch] [ebp-4h]
  void *retaddr; // [esp+30h] [ebp+0h]

  *(&retaddr - 13) = v7;
  v4 = a4 - 1 - a1;
  ((void (*)(void))loc_402375)();
  v6 = (_DWORD *)MEMORY[0x45ED3FC4](v5 + 1);
  sub_402D62(v6, a2, a3, v4);
}
// 402D49: positive sp value 4 has been found
// 402D5B: variable 'v5' is possibly undefined

//----- (00402D62) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402D62(_DWORD *a1@<eax>, int a2@<ebx>, int a3@<ebp>, int a4@<edi>)
{
  int v6; // ecx
  void *v7; // [esp+8h] [ebp-4h]
  void *retaddr; // [esp+Ch] [ebp+0h]

  *(&retaddr - 4) = v7;
  BYTE1(a2) = *a1 - (BYTE1(*a1) ^ (BYTE1(a1) + BYTE1(a2)));
  ((void (*)(void))((char *)&loc_40299F + 3))();
  __asm { insd }
  sub_402D7D(_EDX, v6, a2, a3, a4);
}
// 402D66: positive sp value 4 has been found
// 402D79: variable '_EDX' is possibly undefined
// 402D79: variable 'v6' is possibly undefined

//----- (00402D7D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402D7D(__int32 a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4@<ebp>, int a5@<edi>)
{
  int v5; // edi
  int v6; // ebx
  _BYTE *v8; // eax
  char v9; // cl
  int v10; // ecx
  void *v11; // [esp+4h] [ebp-4h]
  void *retaddr; // [esp+8h] [ebp+0h]

  v5 = a1 ^ (a3 | a2 | a5);
  v6 = a1 | a3;
  v8 = (_BYTE *)((int (*)(void))((char *)&loc_402AAF + 1))();
  *(&retaddr - 4) = v11;
  sub_4024C1(v8, v9, v6, v5, a1);
  *(_DWORD *)(v10 - 84) += a4;
  JUMPOUT(0x402DAC);
}
// 402D9A: positive sp value 8 has been found
// 402DA9: control flows out of bounds to 402DAC
// 402DA3: variable 'v9' is possibly undefined
// 402DA9: variable 'v10' is possibly undefined

//----- (00402E18) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402E18(char a1@<al>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<ebp>, __int32 a6@<edi>, int a7@<esi>)
{
  int v7; // ecx
  char v8; // cf
  __int32 v9; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v9, a6);
  v7 = a3 - a2;
  HIBYTE(a4) = (a1 - a4 - 1) | 0x66;
  BYTE1(v7) ^= a4;
  sub_402AE5(a2, v7, a4, a7 | v9);
  *(_DWORD *)(a5 + 55) = v8 + *(_DWORD *)(a5 + 55) - 113;
  JUMPOUT(0x402E3A);
}
// 402E22: positive sp value 4 has been found
// 402E36: control flows out of bounds to 402E3A
// 402E36: variable 'v8' is possibly undefined

//----- (00402E52) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402E52()
{
  char v0; // sf
  char v1; // of

  ((void (*)(void))((char *)&loc_401FFA + 1))();
  if ( v0 == v1 )
    JUMPOUT(0x402E6E);
  JUMPOUT(0x402DFC);
}
// 402E60: positive sp value 8 has been found
// 402E69: control flows out of bounds to 402E6E
// 402E65: control flows out of bounds to 402DFC
// 402E65: variable 'v0' is possibly undefined
// 402E65: variable 'v1' is possibly undefined

//----- (00402F0D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402F0D(__int16 a1@<ax>, int a2@<edx>, __int16 a3@<cx>, int a4@<ebx>, int a5@<edi>)
{
  int v5; // ebx
  char v6; // cl

  BYTE1(a4) = 80;
  v5 = (a5 - a2) | a4;
  BYTE1(v5) -= (unsigned __int16)(a3 + a1) >> 8;
  ((void (*)(void))((char *)&loc_4029F3 + 3))();
  sub_402F2F(v6, v5);
}
// 402F11: positive sp value 4 has been found
// 402F2E: variable 'v6' is possibly undefined

//----- (00402F2F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402F2F(char a1@<cl>, int a2@<ebx>)
{
  int v2; // ebx
  int v3; // edx
  int v4; // ecx

  v2 = a2 - 1;
  BYTE1(v2) = v2 ^ a1;
  ((void (*)(void))((char *)&loc_4023B2 + 2))();
  sub_402F49(v3, v4 - 1, v2);
}
// 402F35: positive sp value 4 has been found
// 402F48: variable 'v3' is possibly undefined
// 402F48: variable 'v4' is possibly undefined

//----- (00402F49) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402F49(int a1@<edx>, int a2@<ecx>, int a3@<ebx>)
{
  ((void (__fastcall *)(int, int))((char *)&loc_4022E6 + 4))(a3 | a2, a1 + 3069);
  JUMPOUT(0x402F67);
}
// 402F4D: positive sp value 4 has been found
// 402F61: control flows out of bounds to 402F67

//----- (00402FA0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402FA0(__int32 a1@<edx>, int a2@<ebp>, int a3@<edi>)
{
  sub_402258(a1, a2, a3);
  JUMPOUT(0x402FBF);
}
// 402FA6: positive sp value 4 has been found
// 402FB8: control flows out of bounds to 402FBF

// nfuncs=75 queued=74 decompiled=74 lumina nreq=0 worse=0 better=0
#error "There were 3 decompilation failure(s) on 74 function(s)"
