// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401000: Register word16 fn00401000(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word16 fn00401000(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_9 = 7727050 - dwLoc18;
	word32 eax_13 = DPB(eax_9, AddAtomA(0x00404000), 0);
	if ((word32) AddAtomA(0x00404000) != 0x00)
	{
		Mem26[0x0040416C:word32] = eax_9;
		word32 dwLoc0C_27 = 0x00;
		while (true)
		{
			word16 ax_35 = (word16) dwLoc0C_27;
			if (dwLoc0C_27 >= dwArg0C)
				break;
			Mem49[dwArg04 + dwLoc0C_27:byte] = Mem26[dwArg08 + dwLoc0C_27:byte];
			dwLoc0C_27 = dwLoc0C_27 + 0x01;
		}
		return ax_35;
	}
	else
		ExitProcess(0x05347887);
}

// 00401090: void fn00401090(Register word16 ax, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn00401090(word16 ax, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_11 = DPB(eax, AddAtomW(0x00404010), 0);
	word16 ax_12 = AddAtomW(0x00404010);
	Mem15[0x00404184:word32] = 1635326126;
	if ((word32) ax_12 != 0x00)
	{
		if (dwArg0C >=u 0x01)
		{
			byte dl_71 = Mem15[dwArg04 + 0x00:byte];
			word32 dwLoc0C_114 = 0x01;
			word32 dwLoc1C_109 = 0x00;
			do
			{
				word32 edx_91 = dwLoc0C_114 + 0x01;
				byte cl_88 = Mem15[dwArg04 + dwLoc0C_114:byte];
				dwLoc0C_114 = edx_91;
				if ((word32) cl_88 == (word32) dl_71)
				{
					if ((word32) Mem15[dwArg04 + edx_91:byte] == 0x00)
					{
						Mem146[dwArg08 + dwLoc1C_109:byte] = dl_71;
						dwLoc1C_109 = dwLoc1C_109 + 0x01;
						dwLoc0C_114 = edx_91 + 0x01;
					}
					else
					{
						word32 eax_179 = fn00401260(fp - 0x14, dwArg04 + edx_91) + edx_91;
						dwLoc0C_114 = fn00401260(fp - 44, dwArg04 + eax_179) + eax_179;
						word32 dwLoc20_197 = 0x00;
						while (dwLoc20_197 <u dwLoc14)
						{
							Mem218[dwArg08 + dwLoc1C_109:byte] = Mem15[dwArg08 + (dwLoc1C_109 - dwLoc2C):byte];
							dwLoc1C_109 = dwLoc1C_109 + 0x01;
							dwLoc20_197 = dwLoc20_197 + 0x01;
						}
					}
				}
				else
				{
					Mem230[dwArg08 + dwLoc1C_109:byte] = cl_88;
					Mem237[0x004041A4:word32] = Mem230[0x00404194:word32] + Mem230[0x00404194:word32];
					dwLoc1C_109 = dwLoc1C_109 + 0x01;
				}
			} while (dwLoc0C_114 <u dwArg0C);
		}
	}
	else
	{
		Mem23[0x00404184:word32] = ~0x08D0CDE3;
		ExitProcess(0x07744646);
	}
}

// 00401260: Register word32 fn00401260(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn00401260(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc0C_13 = 0x00;
	word32 dwLoc24_15 = 0x00;
	do
	{
		word32 ecx_18 = (word32) Mem0[dwArg08 + 0x00:byte];
		Mem31[0x00404190:word32] = Mem0[0x00404170:word32] *s Mem0[0x00404190:word32] >> (byte) Mem0[0x00404190:word32] << (byte) dwLoc08;
		word32 ecx_36 = dwLoc0C_13 << 0x07 | ecx_18 & 0x7F;
		word32 ecx_45 = dwLoc24_15 + 0x01;
		dwArg08 = dwArg08 + 0x01;
		dwLoc0C_13 = ecx_36;
		dwLoc08 = Mem31[0x00404168:word32] << (byte) dwLoc18;
		dwLoc24_15 = ecx_45;
	} while ((ecx_18 & 0x80) != 0x00);
	Mem55[dwArg04 + 0x00:word32] = ecx_36;
	return ecx_45;
}

// 004012F0: Register word32 fn004012F0(Stack word32 dwArg04)
word32 fn004012F0(word32 dwArg04)
{
	word32 eax_43;
	word32 eax_35 = CreateFileA(dwArg04, 0x80000000, 0x01, 0x00, 0x03, 0x80, 0x00);
	if (eax_35 == ~0x00)
		eax_43 = 0x00;
	else
		eax_43 = eax_35;
	return eax_43;
}

// 00401360: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
	Mem17[0x004041A4:word32] = WaitMessage;
	word32 edx_28 = Mem17[0x00404170:word32] + Mem17[0x00404170:word32] >> (byte) (912170 - dwLoc0C);
	Mem35[0x00404194:word32] = 1222167 << (byte) (dwLoc0C + Mem17[0x00404190:word32]);
	Mem44[0x00404194:word32] = Mem35[0x004041A4:word32] >> (byte) (dwLoc24 *s dwLoc18 + Mem35[0x00404170:word32]);
	Mem50[0x00404190:word32] = Mem44[0x00404168:word32] *s Mem44[0x00404194:word32] + dwLoc24 *s 450866;
	Mem55[0x00404190:word32] = dwLoc24 << (byte) edx_28;
	Mem64[0x004041A4:word32] = 500640 << (byte) dwLoc18 << (byte) (edx_28 *s 0x0005FBB8);
	Mem65[0x00404194:word32] = 0x000D0666;
	word32 edx_70 = dwLoc0C >> (byte) dwLoc18;
	Mem87[0x00404194:word32] = 0x00075B07 - edx_70;
	GetModuleHandleA(0x00);
	Mem92[0x00404190:word32] = 1632201;
	LoadIconA(GetModuleHandleA(0x00), 0x00);
	Mem106[0x00404190:word32] = Mem92[0x00404190:word32] - 0x000C40A2 - Mem92[0x00404170:word32] + dwLoc0C;
	LoadCursorA(0x00, 0x7F00);
	Mem122[0x004041A4:word32] = 0x00043C90 >> (byte) dwLoc18;
	word32 eax_132 = DPB(dwLoc18 - Mem122[0x00404170:word32], RegisterClassA(fp - 0x70), 0);
	word32 dwLoc24_71 = edx_70;
	if ((word32) RegisterClassA(fp - 0x70) != 0x00)
	{
		if (dwArg08 != 0x01)
			Mem979[0x0040418C:word32] = 0x00;
		else
		{
			Mem980[0x0040418C:word32] = 0x01;
			Mem982[0x00404178:word32] = dwArg04;
		}
		CreateWindowExA(0x00, 0x004040CC, 0x004040AC, 0x01, 164164, 7419718, 6262, 0x00774934, 0x00, 0x00, GetModuleHandleA(0x00), 0x00);
		word32 eax_347 = Mem122[0x00404168:word32] + edx_70 << (byte) (Mem122[0x00404194:word32] - 777770);
		word32 esp_352 = fp - 0x0210;
		if (GetBinaryTypeA(0x004040DC, fp - 116) != 0x00)
			ExitProcess(1590134);
		word32 dwLoc30_371;
		Mem368[0x00404168:word32] = VkKeyScanW;
		if (Mem368[0x0040418C:word32] == 0x00)
		{
			esp_352 = fp - 0x0214;
			dwLoc30_371 = GetModuleHandleA(0x00);
		}
		else
			dwLoc30_371 = dwArg04;
		Mem375[0x00404190:word32] = SetWindowLongW;
		Mem386[0x0040416C:word32] = Mem375[0x00404184:word32] - (Mem375[0x0040416C:word32] + 3437500) *s Mem375[0x00404184:word32];
		Mem396[0x0040416C:word32] = Mem386[0x0040416C:word32] *s 294494 << (byte) Mem386[0x00404184:word32];
		word32 esp_398 = esp_352 - 0x04;
		Mem399[esp_398 + 0x00:word32] = fp - 0x88;
		IsRectEmpty(Mem399[esp_398 + 0x00:(ptr RECT)]);
		word32 ecx_403 = Mem399[0x0040416C:word32] *s 3623657 - 6064453;
		Mem408[0x00404170:word32] = wvsprintfA;
		word32 edx_411 = dwLoc30_371 + Mem408[dwLoc30_371 + 0x3C:word32];
		Mem414[0x0040416C:word32] = Mem408[0x0040416C:word32];
		Mem416[esp_398 - 0x04 + 0x00:word32] = 0x00;
		Mem418[esp_398 - 0x08 + 0x00:word32] = 0x00;
		Mem421[esp_398 - 0x0C + 0x00:word32] = GetModuleHandleA(Mem418[esp_398 - 0x08 + 0x00:LPCSTR]);
		Mem423[esp_398 - 0x10 + 0x00:word32] = 0x00;
		Mem425[esp_398 - 0x14 + 0x00:word32] = 0x00;
		Mem427[esp_398 - 0x18 + 0x00:word32] = 416117;
		Mem429[esp_398 - 0x1C + 0x00:word32] = 599365;
		Mem431[esp_398 - 0x20 + 0x00:word32] = 0x01841188;
		Mem433[esp_398 - 0x24 + 0x00:word32] = 0x9956;
		Mem435[esp_398 - 0x28 + 0x00:word32] = 0x01;
		Mem437[esp_398 - 44 + 0x00:word32] = 0x004040FC;
		Mem439[esp_398 - 0x30 + 0x00:word32] = 0x00404124;
		Mem441[esp_398 - 0x34 + 0x00:word32] = 0x00;
		word32 eax_442 = CreateWindowExA(Mem441[esp_398 - 0x34 + 0x00:DWORD], Mem441[esp_398 - 0x30 + 0x00:LPCSTR], Mem441[esp_398 - 44 + 0x00:LPCSTR], Mem441[esp_398 - 0x28 + 0x00:DWORD], Mem441[esp_398 - 0x24 + 0x00:int32], Mem441[esp_398 - 0x20 + 0x00:int32], Mem441[esp_398 - 0x1C + 0x00:int32], Mem441[esp_398 - 0x18 + 0x00:int32], Mem441[esp_398 - 0x14 + 0x00:HWND], Mem441[esp_398 - 0x10 + 0x00:HMENU], Mem441[esp_398 - 0x0C + 0x00:HINSTANCE], Mem441[esp_398 - 0x08 + 0x00:LPVOID]);
		Mem449[0x00404184:word32] = 0x00 >> (byte) ecx_403;
		Mem456[0x00404190:word32] = CharToOemBuffW;
		word32 edx_466 = ((word32) Mem456[edx_411 + 0x06:word16] - 0x01) *s 0x28 + ((edx_411 + 0x18) + (word32) Mem456[edx_411 + 0x14:word16]);
		word32 eax_482 = (uint32) ((uint64) (uint32) (Mem456[edx_466 + 0x10:word32] - 0x01 + Mem456[edx_411 + 0x3C:word32]) /u Mem456[edx_411 + 0x3C:word32]) *s Mem456[edx_411 + 0x3C:word32] + Mem456[edx_466 + 0x14:word32];
		Mem486[0x00404168:word32] = SetRectEmpty;
		Mem488[esp_398 - 0x38 + 0x00:word32] = 0x0200;
		word32 eax_490 = fn004027D0(dwArg00);
		if (eax_490 != 0x00)
		{
			Mem501[0x00404170:word32] = ValidateRgn;
			Mem503[esp_398 - 0x38 + 0x00:word32] = 0x0200;
			Mem506[esp_398 - 0x3C + 0x00:word32] = eax_490;
			Mem509[esp_398 - 0x40 + 0x00:word32] = dwLoc30_371;
			GetModuleFileNameA(Mem509[esp_398 - 0x40 + 0x00:HMODULE], Mem509[esp_398 - 0x3C + 0x00:LPSTR], Mem509[esp_398 - 0x38 + 0x00:DWORD]);
			Mem522[esp_398 - 0x44 + 0x00:word32] = fp - 0x018C;
			Mem524[esp_398 - 0x48 + 0x00:word32] = 0xFF;
			Mem527[esp_398 - 0x4C + 0x00:word32] = GetDesktopWindow();
			Mem530[esp_398 - 0x50 + 0x00:word32] = GetDC(Mem527[esp_398 - 0x4C + 0x00:HWND]);
			GetTextFaceA(Mem530[esp_398 - 0x50 + 0x00:HDC], Mem530[esp_398 - 0x4C + 0x00:int32], Mem530[esp_398 - 0x48 + 0x00:LPSTR]);
			Mem545[0x00404170:word32] = Mem530[0x00404170:word32] << ~0x51;
			Mem548[esp_398 - 0x54 + 0x00:word32] = eax_490;
			word32 eax_549 = fn004012F0(dwArg00);
			if (eax_549 != 0x00)
			{
				Mem563[0x00404190:word32] = edx_70 * 0x02 + Mem548[0x004041A4:word32] + edx_70;
				Mem565[0x00404170:word32] = SetWinEventHook;
				Mem567[esp_398 - 0x54 + 0x00:word32] = 0x00;
				Mem570[esp_398 - 88 + 0x00:word32] = eax_549;
				word32 eax_572 = GetFileSize(Mem570[esp_398 - 88 + 0x00:HANDLE], Mem570[esp_398 - 0x54 + 0x00:LPDWORD]) - eax_482;
				Mem577[0x004041A4:word32] = CloseWindow;
				if (eax_572 != 0x00)
				{
					Mem587[esp_398 - 0x5C + 0x00:word32] = eax_572 + 0x10;
					word32 eax_588 = fn004027D0(dwArg00);
					if (eax_588 != 0x00)
					{
						Mem601[0x00404194:word32] = Mem587[0x00404170:word32] + 969879 + dwLoc18;
						Mem603[esp_398 - 0x5C + 0x00:word32] = 0x00;
						Mem605[esp_398 - 0x60 + 0x00:word32] = 0x00;
						Mem608[esp_398 - 100 + 0x00:word32] = eax_482;
						Mem611[esp_398 - 0x68 + 0x00:word32] = eax_549;
						SetFilePointer(Mem611[esp_398 - 0x68 + 0x00:HANDLE], Mem611[esp_398 - 100 + 0x00:LONG], Mem611[esp_398 - 0x60 + 0x00:PLONG], Mem611[esp_398 - 0x5C + 0x00:DWORD]);
						Mem614[esp_398 - 0x6C + 0x00:word32] = 0x00;
						Mem617[esp_398 - 0x70 + 0x00:word32] = fp - 0x38;
						Mem620[esp_398 - 116 + 0x00:word32] = eax_572;
						Mem623[esp_398 - 0x78 + 0x00:word32] = eax_588;
						Mem626[esp_398 - 0x7C + 0x00:word32] = eax_549;
						if (ReadFile(Mem626[esp_398 - 0x7C + 0x00:HANDLE], Mem626[esp_398 - 0x78 + 0x00:LPVOID], Mem626[esp_398 - 116 + 0x00:DWORD], Mem626[esp_398 - 0x70 + 0x00:LPDWORD], Mem626[esp_398 - 0x6C + 0x00:LPOVERLAPPED]) != 0x00)
						{
							Mem637[0x00404194:word32] = FlashWindow;
							Mem641[0x00404170:word32] = eax_347 *s edx_70 >> ~0x2F;
							Mem644[esp_398 - 0x80 + 0x00:word32] = eax_549;
							CloseHandle(Mem644[esp_398 - 0x80 + 0x00:HANDLE]);
							Mem647[0x00404170:word32] = GetShellWindow;
							if (dwLoc38 == eax_572)
							{
								Mem658[0x004041A4:word32] = CreateAcceleratorTableA;
								word32 eax_673 = GetDesktopWindow();
								Mem678[esp_398 - 0x84 + 0x00:word32] = fp - 404;
								Mem681[esp_398 - 0x88 + 0x00:word32] = eax_673;
								if (ClientToScreen(Mem681[esp_398 - 0x88 + 0x00:HWND], Mem681[esp_398 - 0x84 + 0x00:LPPOINT]) != 0x00)
								{
									Mem693[0x00404170:word32] = 0x00 >> (byte) Mem681[0x00404194:word32];
									Mem694[0x004041A4:word32] = ~0x00;
									Mem697[esp_398 - 0x8C + 0x00:word32] = fp - 0x01A4;
									Mem699[esp_398 - 0x90 + 0x00:word32] = 0x00404130;
									word32 eax_700 = GetBinaryTypeW(Mem699[esp_398 - 0x90 + 0x00:LPCWSTR], Mem699[esp_398 - 0x8C + 0x00:LPDWORD]);
									Mem710[0x00404170:word32] = Mem699[0x00404170:word32] *s Mem699[0x004041A4:word32] >> (byte) Mem699[0x00404190:word32] << (byte) Mem699[0x00404194:word32];
									if (eax_700 == 0x00)
									{
										Mem723[esp_398 - 0x94 + 0x00:word32] = 0x40;
										word32 eax_726 = eax_588 - 0x40 + eax_572;
										Mem728[esp_398 - 0x98 + 0x00:word32] = eax_726;
										Mem731[esp_398 - 0x9C + 0x00:word32] = eax_588;
										fn00401000(dwArg00, dwArg04, dwArg08);
										Mem737[0x004041A4:word32] = SetWindowPlacement;
										Mem738[0x0040416C:word32] = 2087097;
										Mem740[esp_398 - 0x94 + 0x00:word32] = 0x00404150;
										word32 eax_741 = DPB(eax_726, AddAtomA(Mem740[esp_398 - 0x94 + 0x00:LPCSTR]), 0);
										if ((word32) AddAtomA(Mem740[esp_398 - 0x94 + 0x00:LPCSTR]) != 0x00)
										{
											word32 ecx_754 = Mem740[eax_588 + 0x00:word32];
											Mem757[0x004041A4:word32] = ReleaseDC;
											Mem758[0x0040416C:word32] = 7915954;
											Mem760[esp_398 - 0x98 + 0x00:word32] = 0x00292D50;
											Mem768[0x00404184:word32] = 0xF5520950;
											word32 eax_770 = Mem768[eax_588 + 0x04:word32];
											word32 dwLoc10_772 = 0x00;
											while (dwLoc10_772 <u ecx_754)
											{
												Mem781[0x00404170:word32] = CreateMDIWindowW;
												Mem788[eax_588 + dwLoc10_772 + 0x08:word32] = Mem781[eax_588 + dwLoc10_772 + 0x08:word32] ^ 44666;
												dwLoc24_71 = 951293 - Mem788[0x00404168:word32] + dwLoc18;
												dwLoc10_772 = dwLoc10_772 + 0x08;
											}
											Mem800[esp_398 - 0x9C + 0x00:word32] = eax_770;
											Mem803[0x00404188:word32] = fn004027D0(dwArg00);
											if (Mem803[0x00404188:word32] != 0x00)
											{
												word32 esp_859;
												Mem811[esp_398 - 0x9C + 0x00:word32] = ecx_754;
												Mem814[esp_398 - 0xA0 + 0x00:word32] = Mem811[0x00404188:word32];
												Mem819[esp_398 - 0xA4 + 0x00:word32] = eax_588 + 0x08;
												word16 ax_809 = (word16) ecx_754;
												fn00401090(ax_809, dwArg00, dwArg04, dwArg08);
												Mem823[esp_398 - 0x9C + 0x00:word32] = 0x00401CB4;
												word32 eax_825 = Mem823[esp_398 - 0x9C + 0x00:word32];
												Mem831[0x004041A4:word32] = dwLoc24_71 + 76416 >> ~0x42;
												Mem834[4211100:word32] = Mem831[fs:0x18:word32];
												Mem841[0x00404174:word32] = edi;
												Mem842[0x00404164:word32] = esi;
												Mem843[0x00404180:word32] = ebx;
												Mem848[0x0040417C:word32] = fp - 0x04;
												Mem854[0x00404194:word32] = Mem848[0x00404170:word32] >> (byte) (Mem848[0x004041A4:word32] + 0x00037709);
												if (Mem854[0x0040418C:word32] != 0x00)
												{
													Mem933[esp_398 - 0x9C + 0x00:word32] = eax_825 - Mem854[0x00404178:word32];
													fn00401D90(fp - 0x04, dwArg00);
													esp_859 = esp_398 - 0x98;
												}
												else
												{
													Mem937[esp_398 - 0x9C + 0x00:word32] = 0x00;
													Mem943[esp_398 - 0xA0 + 0x00:word32] = eax_825 - GetModuleHandleA(Mem937[(esp_398 - 0x9C) + 0x00:LPCSTR]);
													fn00401D90(fp - 0x04, dwArg00);
													esp_859 = esp_398 - 0x9C;
												}
												word32 esp_861 = esp_859 - 0x04;
												Mem862[esp_861 + 0x00:word32] = Mem854[0x00404188:word32];
												if (fn00402010(fp - 0x04, dwArg00) != 0x00)
												{
													Mem881[0x00404168:word32] = 332000 >> (byte) (Mem862[0x00404194:word32] - Mem862[(fp - 0x24) + 0x00:word32]);
													Mem889[fp - 0x24 + 0x00:word32] = Mem881[0x00404170:word32] >> 0x19 >> (byte) (Mem881[0x00404168:word32] + Mem881[(fp - 0x14) + 0x00:word32]);
													Mem898[fp - 0x18 + 0x00:word32] = 870330 << (byte) Mem889[0x00404170:word32] >> (byte) Mem889[0x004041A4:word32];
													word32 eax_904 = Mem898[fp - 0x0C + 0x00:word32] << 0x25 >> (byte) Mem898[(fp - 0x0C) + 0x00:word32];
													Mem905[0x00404190:word32] = eax_904;
													word32 ecx_909 = Mem905[fp - 0x14 + 0x00:word32];
													byte cl_910 = (byte) ecx_909;
													word32 edx_911 = Mem905[0x00404168:word32] + 0x1D90 >> cl_910;
													Mem913[fp - 0x14 + 0x00:word32] = edx_911;
													word32 esp_914;
													word32 ebp_915;
													byte SCZO_916;
													word32 ebx_917;
													word32 esi_918;
													word32 edi_919;
													word32 eax_920;
													word32 ecx_921;
													word32 edx_922;
													byte cl_923;
													word16 ax_924;
													byte SZO_925;
													byte C_926;
													byte Z_927;
													selector fs_928;
													Mem913[0x004041A0:word32]();
													return eax_920;
												}
												else
												{
													Mem870[esp_861 + 0x00:word32] = Mem862[0x00404188:word32];
													fn00402790(dwArg00);
													Mem874[esp_861 + 0x00:word32] = 0x0196;
													ExitProcess(Mem874[esp_861 + 0x00:UINT]);
												}
											}
											else
											{
												Mem807[esp_398 - 0x9C + 0x00:word32] = 0x0245;
												ExitProcess(Mem807[esp_398 - 0x9C + 0x00:UINT]);
											}
										}
										else
										{
											Mem748[0x00404184:word32] = 2271423;
											Mem750[esp_398 - 0x98 + 0x00:word32] = 1397303;
											ExitProcess(Mem750[esp_398 - 0x98 + 0x00:UINT]);
										}
									}
									else
									{
										Mem721[esp_398 - 0x94 + 0x00:word32] = 600;
										ExitProcess(Mem721[esp_398 - 0x94 + 0x00:UINT]);
									}
								}
								else
								{
									Mem687[esp_398 - 0x8C + 0x00:word32] = 0x9273;
									ExitProcess(Mem687[esp_398 - 0x8C + 0x00:UINT]);
								}
							}
						}
					}
				}
			}
		}
	}
	return 0x00;
}

// 00401D90: void fn00401D90(Register word32 ebp, Stack word32 dwArg04)
void fn00401D90(word32 ebp, word32 dwArg04)
{
	word32 dwLoc3C_22;
	Mem18[0x00404168:word32] = Mem0[0x00404194:word32] *s 0x0001CCDC << (byte) (dwLoc20 *s 726989);
	word32 esp_25 = fp - 0x40;
	if (Mem18[0x0040418C:word32] != 0x00)
		dwLoc3C_22 = Mem18[0x00404178:word32];
	else
	{
		esp_25 = fp - 0x44;
		dwLoc3C_22 = GetModuleHandleA(0x00);
	}
	if (dwLoc3C_22 != 0x00)
	{
		word32 eax_76 = dwLoc3C_22 + Mem18[dwLoc3C_22 + 0x3C:word32];
		word32 esp_78 = esp_25 - 0x04;
		Mem79[esp_78 + 0x00:word32] = 0x40;
		Mem81[esp_78 - 0x04 + 0x00:word32] = 0x3000;
		Mem85[esp_78 - 0x08 + 0x00:word32] = Mem81[eax_76 + 0x50:word32];
		Mem87[esp_78 - 0x0C + 0x00:word32] = 0x00;
		Mem89[0x00404198:word32] = VirtualAlloc(Mem87[esp_78 - 0x0C + 0x00:LPVOID], Mem87[esp_78 - 0x08 + 0x00:SIZE_T], Mem87[esp_78 - 0x04 + 0x00:DWORD], Mem87[esp_78 + 0x00:DWORD]);
		if (Mem89[0x00404198:word32] != 0x00)
		{
			byte cl_97 = (byte) (0x000F0C02 - Mem89[0x00404168:word32]);
			Mem105[esp_78 - 0x10 + 0x00:word32] = Mem89[eax_76 + 0x50:word32];
			Mem108[esp_78 - 0x14 + 0x00:word32] = dwLoc3C_22;
			word32 ecx_109 = Mem108[0x00404198:word32];
			Mem111[esp_78 - 0x18 + 0x00:word32] = ecx_109;
			word16 ax_115 = fn00401000(dwArg00, dwArg04, dwArg08);
			word32 eax_99 = 0x000BCEE8 >> cl_97;
			word32 edx_118 = Mem111[0x00404198:word32] - dwLoc3C_22;
			if (Mem111[eax_76 + 0xA4:word32] != 0x00)
			{
				word32 dwLoc14_153 = dwLoc3C_22 + Mem111[eax_76 + 0xA0:word32];
				while (Mem111[dwLoc14_153 + 0x04:word32] != 0x00)
				{
					Mem173[0x00404194:word32] = eax_99 >> ~0x22 << (byte) (855590 - Mem111[0x00404190:word32]);
					word32 ecx_177 = Mem173[dwLoc14_153 + 0x04:word32] - 0x08 >>u 0x01;
					Mem189[0x004041A4:word32] = dwLoc08 >> (byte) dwLoc1C >> (byte) (Mem173[0x004041A4:word32] *s dwLoc08);
					Mem199[0x00404190:word32] = dwLoc2C + Mem189[0x004041A4:word32] + Mem189[0x00404194:word32] << ~0x79;
					word32 eax_191 = dwLoc14_153 + 0x08;
					word32 dwLoc0C_200 = 0x00;
					while (dwLoc0C_200 <u ecx_177)
					{
						if ((word32) eax_191[dwLoc0C_200 * 0x02] >> 0x0C == 0x03)
							Mem245[Mem199[0x00404198:word32] + Mem199[dwLoc14_153 + 0x00:word32] + ((word32) eax_191[dwLoc0C_200 * 0x02] & 0x0FFF):word32] = Mem199[Mem199[0x00404198:word32] + Mem199[dwLoc14_153 + 0x00:word32] + ((word32) eax_191[dwLoc0C_200 * 0x02] & 0x0FFF):word32] + edx_118;
						dwLoc0C_200 = dwLoc0C_200 + 0x01;
					}
					dwLoc14_153 = dwLoc14_153 + Mem199[dwLoc14_153 + 0x04:word32];
				}
			}
			Mem130[esp_78 - 0x10 + 0x00:word32] = dwArg04;
			word32 eax_133 = Mem130[esp_78 - 0x10 + 0x00:word32] + Mem130[0x00404198:word32];
			word32 esp_137;
			word32 ebp_138;
			byte SCZO_139;
			word32 esi_140;
			word32 eax_141;
			word32 ecx_142;
			byte cl_143;
			byte Z_144;
			byte SZO_145;
			byte C_146;
			word32 edx_147;
			word16 ax_148;
			eax_133();
		}
	}
}

// 00402010: Register word32 fn00402010(Register word32 ebp, Stack word32 dwArg04)
word32 fn00402010(word32 ebp, word32 dwArg04)
{
	word32 eax_278;
	word32 edx_16 = dwArg04 + Mem0[dwArg04 + 0x3C:word32];
	word32 dwLoc2C_124 = edx_16 + 0x18 + (word32) Mem0[edx_16 + 0x14:word16];
	word32 eax_33 = VirtualAlloc(0x00, Mem0[edx_16 + 0x50:word32], 0x3000, 0x40);
	if (eax_33 == 0x00)
	{
		eax_278 = 0x00;
		return eax_278;
	}
	word32 eax_97 = 413146 - Mem0[0x00404190:word32] >> (byte) dwLoc30;
	fn00401000(eax_33, dwArg04, Mem0[dwArg04 + 0x3C:word32] + 0x0138 + (word32) Mem0[edx_16 + 0x06:word16] *s 0x28);
	word32 esp_115 = fp - 0x68;
	word32 dwLoc10_117 = 0x00;
	while (dwLoc10_117 <u (word32) Mem0[edx_16 + 0x06:word16])
	{
		Mem140[0x004041A4:word32] = dwLoc08 << (byte) (Mem0[0x004041A4:word32] + eax_97);
		if (Mem140[dwLoc2C_124 + 0x14:word32] != 0x00 && Mem140[dwLoc2C_124 + 0x10:word32] != 0x00)
		{
			fn00401000(eax_33 + Mem140[dwLoc2C_124 + 0x0C:word32], dwArg04 + Mem140[dwLoc2C_124 + 0x14:word32], (uint32) ((uint64) (uint32) (Mem140[dwLoc2C_124 + 0x10:word32] - 0x01 + Mem140[edx_16 + 0x3C:word32]) /u Mem140[edx_16 + 0x3C:word32]) *s Mem140[edx_16 + 0x3C:word32]);
			esp_115 = fp - 0x68;
		}
		Mem156[0x00404170:word32] = dwLoc20 << (byte) Mem140[0x00404168:word32];
		dwLoc2C_124 = dwLoc2C_124 + 0x28;
		dwLoc10_117 = dwLoc10_117 + 0x01;
	}
	word32 eax_201 = eax_33 + Mem0[eax_33 + 0x3C:word32];
	word32 dwLoc54_207 = eax_33 + Mem0[eax_201 + 0x80:word32];
	while (Mem0[dwLoc54_207 + 0x10:word32] != 0x00)
	{
		esp_115 = esp_115 - 0x04;
		Mem227[esp_115 + 0x00:word32] = eax_33 + Mem0[dwLoc54_207 + 0x0C:word32];
		word32 eax_228 = GetModuleHandleA(Mem227[esp_115 + 0x00:LPCSTR]);
		word32 dwLoc18_229 = eax_228;
		if (eax_228 == 0x00)
		{
			if (Mem227[0x0040418C:word32] != 0x00)
			{
				eax_278 = 0x00;
				return eax_278;
			}
			Mem354[esp_115 - 0x04 + 0x00:word32] = eax_33 + Mem227[dwLoc54_207 + 0x0C:word32];
			word32 eax_355 = LoadLibraryA(Mem354[esp_115 - 0x04 + 0x00:LPCSTR]);
			Mem361[0x00404194:word32] = dwLoc08 - Mem354[0x00404168:word32] *s 0x000CC011;
			esp_115 = esp_115 - 0x04;
			dwLoc18_229 = eax_355;
			if (eax_355 == 0x00)
			{
				eax_278 = 0x00;
				return eax_278;
			}
		}
		word32 dwLoc40_242;
		word32 dwLoc28_241;
		dwLoc30 = Mem227[0x00404194:word32] + 0x00091D85;
		if (Mem227[dwLoc54_207 + 0x00:word32] != 0x00)
		{
			dwLoc28_241 = eax_33 + Mem227[dwLoc54_207 + 0x00:word32];
			dwLoc40_242 = eax_33 + Mem227[dwLoc54_207 + 0x10:word32];
		}
		else
		{
			dwLoc28_241 = eax_33 + Mem227[dwLoc54_207 + 0x10:word32];
			dwLoc40_242 = eax_33 + Mem227[dwLoc54_207 + 0x00:word32];
		}
		word32 dwLoc14_245 = 0x00;
		if (Mem227[dwLoc54_207 + 0x10:word32] != 0x00 && Mem227[dwLoc54_207 + 0x00:word32] != 0x00)
			dwLoc14_245 = 0x01;
		while (Mem227[dwLoc28_241 + 0x00:word32] != 0x00)
		{
			Mem263[0x00404194:word32] = Mem227[0x00404168:word32] *s 169860 - Mem227[0x00404170:word32];
			if ((Mem263[dwLoc28_241 + 0x00:word32] & 0x80000000) != 0x00)
			{
				word32 esp_302 = esp_115 - 0x04;
				Mem303[esp_302 + 0x00:word32] = Mem263[dwLoc28_241 + 0x00:word32] & 0x7FFFFFFF;
				Mem306[esp_302 - 0x04 + 0x00:word32] = dwLoc18_229;
				Mem309[dwLoc28_241 + 0x00:word32] = GetProcAddress(Mem306[esp_302 - 0x04 + 0x00:HMODULE], Mem306[esp_302 + 0x00:LPCSTR]);
			}
			else
			{
				word32 esp_314 = esp_115 - 0x04;
				Mem315[esp_314 + 0x00:word32] = Mem263[dwLoc28_241 + 0x00:word32] + 0x02 + eax_33;
				Mem318[esp_314 - 0x04 + 0x00:word32] = dwLoc18_229;
				Mem321[dwLoc28_241 + 0x00:word32] = GetProcAddress(Mem318[esp_314 - 0x04 + 0x00:HMODULE], Mem318[esp_314 + 0x00:LPCSTR]);
			}
			esp_115 = esp_115 - 0x08;
			if (Mem263[dwLoc28_241 + 0x00:word32] == 0x00)
			{
				eax_278 = 0x00;
				return eax_278;
			}
			if (dwLoc14_245 != 0x00)
				Mem296[dwLoc40_242 + 0x00:word32] = Mem263[dwLoc28_241 + 0x00:word32];
			dwLoc28_241 = dwLoc28_241 + 0x04;
			dwLoc40_242 = dwLoc40_242 + 0x04;
		}
		dwLoc54_207 = dwLoc54_207 + 0x14;
	}
	if (Mem0[0x0040418C:word32] != 0x00)
	{
		word32 edx_670 = Mem0[0x00404178:word32] - Mem0[eax_201 + 0x34:word32];
		if (Mem0[eax_201 + 0xA4:word32] != 0x00)
		{
			word32 dwLoc1C_679 = eax_33 + Mem0[eax_201 + 0xA0:word32];
			while (Mem0[dwLoc1C_679 + 0x04:word32] != 0x00)
			{
				word32 edx_696 = Mem0[dwLoc1C_679 + 0x04:word32] - 0x08 >>u 0x01;
				word32 eax_699 = dwLoc1C_679 + 0x08;
				word32 dwLoc10_702 = 0x00;
				while (dwLoc10_702 <u edx_696)
				{
					dwLoc30 = 90301 << (byte) Mem0[0x00404190:word32];
					if ((word32) eax_699[dwLoc10_702 * 0x02] >> 0x0C == 0x03)
						Mem750[eax_33 + Mem0[dwLoc1C_679 + 0x00:word32] + ((word32) eax_699[dwLoc10_702 * 0x02] & 0x0FFF):word32] = Mem0[eax_33 + Mem0[dwLoc1C_679 + 0x00:word32] + ((word32) eax_699[dwLoc10_702 * 0x02] & 0x0FFF):word32] + edx_670;
					dwLoc10_702 = dwLoc10_702 + 0x01;
				}
				dwLoc1C_679 = dwLoc1C_679 + Mem0[dwLoc1C_679 + 0x04:word32];
			}
		}
	}
	word32 esp_386 = esp_115 - 0x04;
	Mem387[esp_386 + 0x00:word32] = 0x00;
	Mem391[esp_386 - 0x04 + 0x00:word32] = Mem387[eax_201 + 0x50:word32];
	Mem393[esp_386 - 0x08 + 0x00:word32] = 0x00;
	Mem395[esp_386 - 0x0C + 0x00:word32] = 0x04;
	Mem397[esp_386 - 0x10 + 0x00:word32] = 0x00;
	Mem399[esp_386 - 0x14 + 0x00:word32] = ~0x00;
	word32 eax_400 = CreateFileMappingA(Mem399[esp_386 - 0x14 + 0x00:HANDLE], Mem399[esp_386 - 0x10 + 0x00:LPSECURITY_ATTRIBUTES], Mem399[esp_386 - 0x0C + 0x00:DWORD], Mem399[esp_386 - 0x08 + 0x00:DWORD], Mem399[esp_386 - 0x04 + 0x00:DWORD], Mem399[esp_386 + 0x00:LPCSTR]);
	if (eax_400 == 0x00)
	{
		eax_278 = 0x00;
		return eax_278;
	}
	Mem412[0x00404168:word32] = dwLoc08 *s 0x000238DD *s 667266;
	if (Mem412[0x0040418C:word32] != 0x00)
	{
		Mem637[esp_386 - 0x18 + 0x00:word32] = Mem412[0x00404178:word32];
		Mem639[esp_386 - 0x1C + 0x00:word32] = 0x00;
		Mem641[esp_386 - 0x20 + 0x00:word32] = 0x00;
		Mem643[esp_386 - 0x24 + 0x00:word32] = 0x00;
		Mem645[esp_386 - 0x28 + 0x00:word32] = 0x22;
		Mem648[esp_386 - 44 + 0x00:word32] = eax_400;
		Mem650[0x00404198:word32] = MapViewOfFileEx(Mem648[esp_386 - 44 + 0x00:HANDLE], Mem648[esp_386 - 0x28 + 0x00:DWORD], Mem648[esp_386 - 0x24 + 0x00:DWORD], Mem648[esp_386 - 0x20 + 0x00:DWORD], Mem648[esp_386 - 0x1C + 0x00:SIZE_T], Mem648[esp_386 - 0x18 + 0x00:LPVOID]);
	}
	else
	{
		Mem654[esp_386 - 0x18 + 0x00:word32] = Mem412[eax_201 + 0x34:word32];
		Mem656[esp_386 - 0x1C + 0x00:word32] = 0x00;
		Mem658[esp_386 - 0x20 + 0x00:word32] = 0x00;
		Mem660[esp_386 - 0x24 + 0x00:word32] = 0x00;
		Mem662[esp_386 - 0x28 + 0x00:word32] = 0x22;
		Mem665[esp_386 - 44 + 0x00:word32] = eax_400;
		Mem667[0x00404198:word32] = MapViewOfFileEx(Mem665[esp_386 - 44 + 0x00:HANDLE], Mem665[esp_386 - 0x28 + 0x00:DWORD], Mem665[esp_386 - 0x24 + 0x00:DWORD], Mem665[esp_386 - 0x20 + 0x00:DWORD], Mem665[esp_386 - 0x1C + 0x00:SIZE_T], Mem665[esp_386 - 0x18 + 0x00:LPVOID]);
	}
	word32 esp_418 = esp_115 - 0x30;
	if (Mem412[0x00404198:word32] == 0x00)
	{
		word32 esp_499;
		Mem491[0x00404190:word32] = dwLoc30 - dwLoc20 *s 0x00073224;
		if (Mem491[0x0040418C:word32] != 0x00)
		{
			Mem583[esp_418 - 0x04 + 0x00:word32] = Mem491[0x00404178:word32];
			esp_499 = esp_418 - 0x04;
			if (UnmapViewOfFile(Mem583[esp_418 - 0x04 + 0x00:LPCVOID]) == 0x00)
			{
				Mem595[esp_418 - 0x08 + 0x00:word32] = 0x8000;
				Mem597[esp_418 - 0x0C + 0x00:word32] = 0x00;
				Mem600[esp_418 - 0x10 + 0x00:word32] = Mem597[0x00404178:word32];
				esp_499 = esp_418 - 0x10;
				if (VirtualFree(Mem600[esp_418 - 0x10 + 0x00:LPVOID], Mem600[esp_418 - 0x0C + 0x00:SIZE_T], Mem600[esp_418 - 0x08 + 0x00:DWORD]) == 0x00)
				{
					eax_278 = 0x00;
					return eax_278;
				}
			}
		}
		else
		{
			Mem613[esp_418 - 0x04 + 0x00:word32] = Mem491[eax_201 + 0x34:word32];
			esp_499 = esp_418 - 0x04;
			if (UnmapViewOfFile(Mem613[esp_418 - 0x04 + 0x00:LPCVOID]) == 0x00)
			{
				Mem619[esp_418 - 0x08 + 0x00:word32] = 0x8000;
				Mem621[esp_418 - 0x0C + 0x00:word32] = 0x00;
				Mem625[esp_418 - 0x10 + 0x00:word32] = Mem621[eax_201 + 0x34:word32];
				esp_499 = esp_418 - 0x10;
				if (VirtualFree(Mem625[esp_418 - 0x10 + 0x00:LPVOID], Mem625[esp_418 - 0x0C + 0x00:SIZE_T], Mem625[esp_418 - 0x08 + 0x00:DWORD]) == 0x00)
				{
					eax_278 = 0x00;
					return eax_278;
				}
			}
		}
		if (Mem491[0x0040418C:word32] != 0x00)
		{
			word32 esp_549 = esp_499 - 0x04;
			Mem550[esp_549 + 0x00:word32] = Mem491[0x00404178:word32];
			Mem552[esp_549 - 0x04 + 0x00:word32] = 0x00;
			Mem554[esp_549 - 0x08 + 0x00:word32] = 0x00;
			Mem556[esp_549 - 0x0C + 0x00:word32] = 0x00;
			Mem558[esp_549 - 0x10 + 0x00:word32] = 0x22;
			Mem561[esp_549 - 0x14 + 0x00:word32] = eax_400;
			Mem563[0x00404198:word32] = MapViewOfFileEx(Mem561[esp_549 - 0x14 + 0x00:HANDLE], Mem561[esp_549 - 0x10 + 0x00:DWORD], Mem561[esp_549 - 0x0C + 0x00:DWORD], Mem561[esp_549 - 0x08 + 0x00:DWORD], Mem561[esp_549 - 0x04 + 0x00:SIZE_T], Mem561[esp_549 + 0x00:LPVOID]);
		}
		else
		{
			word32 esp_566 = esp_499 - 0x04;
			Mem567[esp_566 + 0x00:word32] = Mem491[eax_201 + 0x34:word32];
			Mem569[esp_566 - 0x04 + 0x00:word32] = 0x00;
			Mem571[esp_566 - 0x08 + 0x00:word32] = 0x00;
			Mem573[esp_566 - 0x0C + 0x00:word32] = 0x00;
			Mem575[esp_566 - 0x10 + 0x00:word32] = 0x22;
			Mem578[esp_566 - 0x14 + 0x00:word32] = eax_400;
			Mem580[0x00404198:word32] = MapViewOfFileEx(Mem578[esp_566 - 0x14 + 0x00:HANDLE], Mem578[esp_566 - 0x10 + 0x00:DWORD], Mem578[esp_566 - 0x0C + 0x00:DWORD], Mem578[esp_566 - 0x08 + 0x00:DWORD], Mem578[esp_566 - 0x04 + 0x00:SIZE_T], Mem578[esp_566 + 0x00:LPVOID]);
		}
		esp_418 = esp_499 - 0x18;
		if (Mem491[0x00404198:word32] == 0x00)
		{
			if (Mem491[0x0040418C:word32] != 0x00)
			{
				Mem522[esp_418 - 0x04 + 0x00:word32] = 0x40;
				Mem524[esp_418 - 0x08 + 0x00:word32] = 0x3000;
				Mem528[esp_418 - 0x0C + 0x00:word32] = Mem524[eax_201 + 0x50:word32];
				Mem531[esp_418 - 0x10 + 0x00:word32] = Mem528[0x00404178:word32];
				Mem533[0x00404198:word32] = VirtualAlloc(Mem531[esp_418 - 0x10 + 0x00:LPVOID], Mem531[esp_418 - 0x0C + 0x00:SIZE_T], Mem531[esp_418 - 0x08 + 0x00:DWORD], Mem531[esp_418 - 0x04 + 0x00:DWORD]);
			}
			else
			{
				Mem535[esp_418 - 0x04 + 0x00:word32] = 0x40;
				Mem537[esp_418 - 0x08 + 0x00:word32] = 0x3000;
				Mem541[esp_418 - 0x0C + 0x00:word32] = Mem537[eax_201 + 0x50:word32];
				Mem545[esp_418 - 0x10 + 0x00:word32] = Mem541[eax_201 + 0x34:word32];
				Mem547[0x00404198:word32] = VirtualAlloc(Mem545[esp_418 - 0x10 + 0x00:LPVOID], Mem545[esp_418 - 0x0C + 0x00:SIZE_T], Mem545[esp_418 - 0x08 + 0x00:DWORD], Mem545[esp_418 - 0x04 + 0x00:DWORD]);
			}
			esp_418 = esp_499 - 0x28;
			if (Mem491[0x00404198:word32] == 0x00)
			{
				eax_278 = 0x00;
				return eax_278;
			}
		}
	}
	Mem430[0x00404168:word32] = 66040 << (byte) (dwLoc08 *s 0x00099797);
	word32 esp_433 = esp_418 - 0x04;
	Mem434[esp_433 + 0x00:word32] = Mem430[eax_201 + 0x50:word32];
	Mem437[esp_433 - 0x04 + 0x00:word32] = eax_33;
	Mem440[esp_433 - 0x08 + 0x00:word32] = Mem437[0x00404198:word32];
	fn00401000(dwArg00, dwArg04, dwArg08);
	if (Mem440[0x0040418C:word32] != 0x00)
	{
		Mem476[esp_433 + 0x00:word32] = Mem440[0x00404198:word32] + Mem440[eax_201 + 0x28:word32];
		Mem479[esp_433 - 0x04 + 0x00:word32] = Mem476[0x00404178:word32];
		fn00402640(dwArg00, dwArg04);
	}
	else
	{
		Mem484[esp_433 + 0x00:word32] = Mem440[0x00404198:word32];
		fn00402720(dwArg00);
	}
	Mem454[0x004041A0:word32] = Mem440[0x00404198:word32] + Mem440[eax_201 + 0x28:word32];
	Mem457[eax_201 + 0x28:word32] = Mem454[0x004041A0:word32];
	eax_278 = 0x01;
	return eax_278;
}

// 00402640: void fn00402640(Stack word32 dwArg04, Stack word32 dwArg08)
void fn00402640(word32 dwArg04, word32 dwArg08)
{
	word32 ecx_24 = Mem0[Mem0[Mem0[Mem0[4211100:word32] + 0x30:word32] + 0x0C:word32] + 0x0C:word32];
	word32 eax_8 = Mem0[0x004041A4:word32];
	word32 dwLoc1C_25 = ecx_24;
	while (0x01 != 0x00 && dwLoc1C_25 != 0x00)
	{
		Mem70[0x00404194:word32] = 0x000DCC0D - dwLoc28 - dwLoc18;
		if (Mem70[dwLoc1C_25 + 0x18:word32] == dwArg04)
		{
			Mem79[dwLoc1C_25 + 0x1C:word32] = dwArg08;
			return;
		}
		word32 ecx_87 = Mem70[dwLoc1C_25 + 0x00:word32];
		dwLoc18 = eax_8 + 771728 >> 0x1E << ~0x34;
		dwLoc1C_25 = ecx_87;
		if (ecx_87 == ecx_24)
			return;
	}
}

// 00402720: void fn00402720(Stack word32 dwArg04)
void fn00402720(word32 dwArg04)
{
	word32 ecx_13 = Mem0[4211100:word32];
	Mem20[0x00404190:word32] = 38391 << (byte) Mem0[0x00404170:word32];
	Mem34[Mem20[ecx_13 + 0x30:word32] + 0x08:word32] = dwArg04;
	Mem46[0x00404170:word32] = dwLoc10 >> (byte) (Mem34[0x004041A4:word32] + Mem34[0x00404194:word32]) << (byte) dwLoc0C;
}

// 00402790: void fn00402790(Stack word32 dwArg04)
void fn00402790(word32 dwArg04)
{
	HeapFree(GetProcessHeap(), 0x00, dwArg04);
}

// 004027D0: Register word32 fn004027D0(Stack word32 dwArg04)
word32 fn004027D0(word32 dwArg04)
{
	return HeapAlloc(GetProcessHeap(), 0x00, dwArg04);
}

