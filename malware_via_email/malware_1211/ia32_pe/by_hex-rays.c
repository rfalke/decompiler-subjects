/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>);

//-------------------------------------------------------------------------
// Data declarations

int dword_40C000[512] =
{
  -1834309089,
  -1996488960,
  1555657271,
  511312750,
  1796780158,
  -1758553702,
  -924850741,
  408710158,
  159408193,
  1555657445,
  370502964,
  -1520739549,
  -879284644,
  531424772,
  -2138637272,
  -9518,
  -2030388865,
  -1090491573,
  3435084,
  -947791477,
  846756193,
  -74721533,
  -36108823,
  1510010367,
  66588988,
  1281670898,
  -964624384,
  1783181642,
  -32500972,
  -226567242,
  1969797184,
  1527663379,
  888085042,
  1308643942,
  -541380661,
  1127443206,
  303255376,
  861268857,
  533083989,
  1492631904,
  642598224,
  -2126269363,
  802877423,
  842486527,
  -2138355851,
  -1090845824,
  772162161,
  1191199808,
  -9453578,
  -2117008565,
  1902917571,
  2035596809,
  324670818,
  67135552,
  -301998304,
  -863282177,
  863758723,
  101182400,
  2067858180,
  1977289547,
  1964588533,
  -143196233,
  -1072971007,
  879606532,
  1220709169,
  -1877831495,
  1330398588,
  -143018113,
  -903151551,
  594044951,
  -809286848,
  1265063540,
  -160896639,
  1944968189,
  838103605,
  632864839,
  -1959531490,
  603613130,
  -1226993937,
  1866828782,
  -1789424278,
  -628407310,
  -872697154,
  1950434807,
  -148955284,
  1400464830,
  -682095565,
  -611909641,
  1715914481,
  1215087395,
  -1957596333,
  1877508545,
  -546501022,
  1489005950,
  1666793231,
  1130622475,
  -606412685,
  1908336485,
  1114405099,
  1061099070,
  15301063,
  -304416660,
  520929667,
  344092263,
  1146048336,
  803320030,
  246958987,
  -1893001053,
  1380806199,
  -613263539,
  387903343,
  1311859752,
  1012617284,
  1246385396,
  -64265698,
  -1569541642,
  1090543167,
  1936451860,
  263217524,
  -1225877578,
  -563896304,
  -1185442233,
  1325675117,
  -72304906,
  1866330551,
  -1606239899,
  410407489,
  -126034753,
  1710479623,
  1096815044,
  -956104604,
  -613399877,
  124648301,
  972870,
  1361397771,
  -1102096562,
  1658809533,
  -463984819,
  1297313099,
  1488961892,
  184249684,
  887874287,
  -1715125429,
  366599589,
  -39747589,
  -805056117,
  790974955,
  -1346585010,
  1723843595,
  -2022673598,
  2145247676,
  1466913217,
  32196717,
  1198254142,
  -530285205,
  -1025688524,
  1281474487,
  -880055736,
  1281848443,
  1204350831,
  -239667394,
  1493226946,
  -2140385673,
  -117209717,
  431868743,
  -1654072054,
  -281141917,
  1831946104,
  548982751,
  1501324909,
  -683015974,
  -549275573,
  2076274296,
  -812427872,
  -947173043,
  -551828552,
  1067359478,
  -1203675870,
  1147396342,
  -1378289101,
  -1581751427,
  -1031687672,
  937276755,
  -657445513,
  396529006,
  1948304382,
  -1237913238,
  1981826209,
  -1008975019,
  -5418648,
  783137583,
  -2080075651,
  210458736,
  609520420,
  273778948,
  -239301634,
  34882247,
  285147246,
  -360602812,
  -59283406,
  1210987515,
  70783282,
  22217475,
  1393023235,
  -512000210,
  52625663,
  -2013198400,
  471602304,
  57744388,
  1573584918,
  -7272588,
  -1209201665,
  -2044852280,
  1208189100,
  125840181,
  287055713,
  -2056083449,
  1879047964,
  30546175,
  -2133001709,
  -2062803984,
  -1207833344,
  1005757,
  -2122317607,
  -820484488,
  -75497713,
  -1660739841,
  1994544189,
  68987393,
  1276430116,
  914564609,
  -184288862,
  -1424093703,
  -1023706167,
  297843931,
  740036487,
  -1790317568,
  1255278444,
  -2046894230,
  -1811728513,
  -972829184,
  636784624,
  2048858371,
  -2128813687,
  402615685,
  -2145384450,
  -382635825,
  11914170,
  1125056993,
  309279772,
  1879047959,
  645701887,
  1177945871,
  -1727963776,
  1153456227,
  -1209515992,
  60295087,
  -77004662,
  -2131305473,
  1542724991,
  726521414,
  -2097049808,
  1141512197,
  1831504899,
  -1677796157,
  1895891323,
  1437603699,
  25205015,
  480425009,
  -1211958378,
  -1342095249,
  122615880,
  419833735,
  -657063895,
  -1195069,
  -272039555,
  -1929317748,
  -1006528640,
  942909315,
  -32028478,
  51346479,
  2139112132,
  -1014234968,
  -1652351997,
  -1256097915,
  -544342244,
  -1954496038,
  -1627322798,
  593133639,
  537780608,
  889318919,
  -2132033538,
  -1440006920,
  50835579,
  1045044250,
  473761598,
  -664815717,
  -1659612995,
  1354640249,
  1028922415,
  -2139551131,
  -2421792,
  -672219155,
  1357555942,
  1623393196,
  -667745351,
  -1224665572,
  1090306047,
  -2145648251,
  2106802831,
  -185182848,
  -466276959,
  780730559,
  -612742487,
  477589502,
  146920451,
  402907676,
  -1590883483,
  1875256424,
  1029701343,
  -571271807,
  1694743068,
  -1262289145,
  1057219901,
  -2135791367,
  -507806849,
  513148297,
  1718133975,
  53576967,
  -515474687,
  -2048027110,
  -1556975653,
  67210409,
  -542661185,
  -1871379653,
  -10542,
  408286277,
  -1526247552,
  20565478,
  -270746223,
  481493360,
  -1211959778,
  1898081197,
  -837008893,
  48521513,
  -18959056,
  32052991,
  989919410,
  484736621,
  1494945031,
  -60915568,
  -1224737375,
  -886513825,
  59520013,
  -1527077171,
  2138138871,
  372742940,
  42577334,
  -1087574384,
  -1555469985,
  -64000289,
  1409787905,
  1445422353,
  -263840169,
  -1585391703,
  -1074001679,
  -2145882176,
  -1507035848,
  194202896,
  22414105,
  26252724,
  901164543,
  1189031557,
  2331042,
  135176756,
  -1583223638,
  -1898975056,
  -42030336,
  -2094756081,
  -1074332225,
  -526377937,
  -1433760253,
  482205554,
  -2113897287,
  111158743,
  -302592509,
  18807919,
  60227781,
  -487489810,
  1234132225,
  1366942478,
  -1334911182,
  -430498576,
  -350675892,
  19362699,
  -512335194,
  -197394442,
  -51960358,
  -258841316,
  -1403892736,
  -1010983403,
  -1217854,
  -1061084929,
  -449474663,
  -1877404770,
  26050794,
  -1570668463,
  -570434193,
  1962411606,
  -389346716,
  -1428298468,
  11287941,
  1879011033,
  589794797,
  136176387,
  110430053,
  -2141389604,
  -744110907,
  -69107713,
  764478440,
  -643958497,
  -1267117858,
  1459096448,
  -2134015147,
  2108731652,
  1521546979,
  57344965,
  -1885688965,
  -71328000,
  920649269,
  780169982,
  483127466,
  -2012104260,
  -1733612032,
  -1111787777,
  -469676211,
  1009356232,
  -495583428,
  -50308322,
  1859665797,
  1115749487,
  1145453569,
  1736492243,
  60547616,
  -2089058987,
  -777825313,
  -2011407930,
  879920122,
  -777163064,
  -546366710,
  60802183,
  287113386,
  -2083912730,
  -1137821981,
  -161492259,
  1773338814,
  -687013100,
  402527728,
  344018654,
  141561638,
  120810791,
  1754338333,
  -1330273420,
  124054916,
  -922131962,
  -1137762854,
  -61838761,
  -1451455742,
  -1840501383,
  -1078462936,
  -198136357,
  -2097937630,
  -1322509195,
  -1388707709,
  -313221900,
  33545071,
  2080489827,
  -357972217,
  -1116463274,
  18266398,
  -1093247701,
  -592774275,
  1259900669,
  -2061013241,
  234884051,
  2064063012,
  503316449,
  1075846016,
  -2020122196,
  -2142239822,
  -1980299515,
  59140789,
  -18875155,
  919762687,
  1437409624,
  -1448470183,
  -478138388,
  1453213824,
  131924829,
  -748625930,
  -299481610,
  -2047724025,
  -1100676739,
  -81340414,
  -1728646945,
  987431081,
  478576080,
  19957713,
  -386530305,
  669199789,
  -1564517450,
  -2021760355
}; // weak


//----- (00412E70) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  int *v3; // esi
  int *v4; // edi
  unsigned int v5; // ebp
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  unsigned int v11; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  bool v16; // zf
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  unsigned int v20; // eax
  int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ebx
  int v25; // ett
  BOOL v26; // ecx
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ebx
  int v35; // ett
  bool v36; // zf
  int v37; // ebx
  int v38; // ett
  unsigned int v39; // ecx
  char *v40; // edx
  char v41; // al
  int v42; // eax
  bool v43; // cc
  int *v44; // esi
  char *v45; // edi
  int v46; // ecx
  char v47; // al
  unsigned __int8 v48; // al
  int v49; // eax
  int v50; // eax
  char v51; // t0
  unsigned __int8 v52; // bl
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__cdecl *v61)(int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  int v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v72 = &v76;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v3 = dword_40C000;
  v4 = &dword_40C000[-11264];
  v67 = &dword_40C000[-11264];
  v5 = -1;
  while ( 1 )
  {
    v9 = *v3;
    v7 = (unsigned int)v3++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v3;
        v3 = (int *)((char *)v3 + 1);
        *(_BYTE *)v4 = v6;
        v4 = (int *)((char *)v4 + 1);
      }
      else
      {
        v11 = 1;
        while ( 1 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v11 += v12 + v11;
          v7 = __CFADD__(v13, v13);
          v16 = 2 * v13 == 0;
          v8 = 2 * v13;
          if ( v7 )
          {
            if ( !v16 )
              break;
            v17 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v18 = v7 + v17;
            v7 = __CFADD__(v7, v17) | __CFADD__(v17, v18);
            v8 = v17 + v18;
            if ( v7 )
              break;
          }
        }
        v7 = v11 < 3;
        v19 = v11 - 3;
        if ( !v7 )
        {
          v20 = v19 << 8;
          LOBYTE(v20) = *(_BYTE *)v3;
          v3 = (int *)((char *)v3 + 1);
          v21 = ~v20;
          if ( !v21 )
          {
            v44 = v67;
            v45 = (char *)(v67 + 1024);
            v46 = 104;
            while ( 1 )
            {
              v47 = *v45++;
              v48 = v47 + 24;
              while ( v48 <= 1u && *v45 == 5 )
              {
                v49 = *(_DWORD *)v45;
                LOWORD(v49) = BYTE1(*(_DWORD *)v45);
                v50 = __ROL4__(v49, 16);
                v51 = v50;
                LOBYTE(v50) = BYTE1(v50);
                BYTE1(v50) = v51;
                v52 = v45[4] + 24;
                *(_DWORD *)v45 = (char *)v44 + v50 - (_DWORD)v45;
                v45 += 5;
                v48 = v52;
                if ( !--v46 )
                {
                  v53 = (char *)(v44 + 0x4000);
LABEL_38:
                  v54 = *(_DWORD *)v53;
                  if ( *(_DWORD *)v53 )
                  {
                    v55 = (int *)((char *)v44 + *((_DWORD *)v53 + 1));
                    v53 += 8;
                    v56 = ((int (__cdecl *)(int, int, int, int, int, int *, int, int, int))v44[22472])(
                            (int)v44 + v54 + 89808,
                            v68,
                            v69,
                            v70,
                            v71,
                            v72,
                            v73,
                            v74,
                            v75);
                    while ( 1 )
                    {
                      v57 = *v53++;
                      if ( !v57 )
                        goto LABEL_38;
                      v58 = v53;
                      v66 = v53;
                      v59 = v57 - 1;
                      do
                      {
                        if ( !v58 )
                          break;
                        v16 = *v53++ == (char)v59;
                        --v58;
                      }
                      while ( !v16 );
                      v60 = ((int (__cdecl *)(int, char *))v44[22473])(v56, v66);
                      if ( !v60 )
                        break;
                      *v55++ = v60;
                    }
                    v54 = ((int (*)(void))v44[22477])();
                  }
                  v61 = (void (__cdecl *)(int *, int, int, int *))v44[22474];
                  v62 = v44 - 1024;
                  v64 = v54;
                  v61(v44 - 1024, 4096, 4, &v64);
                  *((_BYTE *)v62 + 479) &= 0x7Fu;
                  *((_BYTE *)v62 + 519) &= 0x7Fu;
                  v61(v44 - 1024, 4096, v63[0], v63);
                  do
                    v64 = 0;
                  while ( &v64 != &v65 - 32 );
                  JUMPOUT(0x4020FB);
                }
              }
            }
          }
          v5 = v21;
        }
        v22 = __CFADD__(v8, v8);
        v23 = 2 * v8;
        if ( !v23 )
        {
          v24 = *v3;
          v7 = (unsigned int)v3++ < 0xFFFFFFFC;
          v25 = v7 + v24;
          v22 = __CFADD__(v7, v24) | __CFADD__(v24, v25);
          v23 = v24 + v25;
        }
        v26 = v22;
        v27 = __CFADD__(v23, v23);
        v8 = 2 * v23;
        if ( !v8 )
        {
          v28 = *v3;
          v7 = (unsigned int)v3++ < 0xFFFFFFFC;
          v29 = v7 + v28;
          v27 = __CFADD__(v7, v28) | __CFADD__(v28, v29);
          v8 = v28 + v29;
        }
        v30 = v26 + v27 + v26;
        if ( !v30 )
        {
          v31 = 1;
          while ( 1 )
          {
            v32 = __CFADD__(v8, v8);
            v33 = 2 * v8;
            if ( !v33 )
            {
              v34 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v35 = v7 + v34;
              v32 = __CFADD__(v7, v34) | __CFADD__(v34, v35);
              v33 = v34 + v35;
            }
            v31 += v32 + v31;
            v7 = __CFADD__(v33, v33);
            v36 = 2 * v33 == 0;
            v8 = 2 * v33;
            if ( v7 )
            {
              if ( !v36 )
                break;
              v37 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v38 = v7 + v37;
              v7 = __CFADD__(v7, v37) | __CFADD__(v37, v38);
              v8 = v37 + v38;
              if ( v7 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v39 = (v5 < 0xFFFFF300) + v30 + 1;
        v40 = (char *)v4 + v5;
        if ( v5 <= 0xFFFFFFFC )
        {
          do
          {
            v42 = *(_DWORD *)v40;
            v40 += 4;
            *v4++ = v42;
            v43 = v39 <= 4;
            v39 -= 4;
          }
          while ( !v43 );
          v4 = (int *)((char *)v4 + v39);
        }
        else
        {
          do
          {
            v41 = *v40++;
            *(_BYTE *)v4 = v41;
            v4 = (int *)((char *)v4 + 1);
            --v39;
          }
          while ( v39 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 412FFF: positive sp value 50 has been found
// 412FFF: control flows out of bounds to 4020FB
// 40C000: using guessed type int dword_40C000[512];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
