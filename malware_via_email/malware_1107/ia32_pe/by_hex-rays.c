/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// char __usercall start@<al>(int _EAX@<eax>, int a2@<edx>, char a3@<cl>, int a4@<ebx>, int _EBP@<ebp>, unsigned int a6@<edi>, int a7@<esi>);


//----- (00406DEF) --------------------------------------------------------
char __usercall start@<al>(int _EAX@<eax>, int a2@<edx>, char a3@<cl>, int a4@<ebx>, int _EBP@<ebp>, unsigned int a6@<edi>, int a7@<esi>)
{
  bool v10; // tt
  int v12; // ecx
  unsigned int v16; // edx
  int v19; // edx
  _BYTE *v26; // edi
  _BYTE *v29; // esi
  unsigned int v30; // edi
  char v31; // cl
  int v32; // esi
  unsigned int v33; // edx
  int v34; // edi
  int v39; // edx
  unsigned int v44; // edx
  int v45; // edi
  int v46; // esi
  unsigned int v47; // edx
  int v48; // ebx
  int v50; // et0
  void *v51; // esp
  int v52; // edx
  bool v53; // zf
  unsigned int v54; // ecx
  bool v55; // cf
  int v58; // ecx
  int *v59; // eax
  unsigned int v60; // ecx
  unsigned int v61; // ecx
  unsigned int v62; // edx
  unsigned int v63; // ecx
  int v64; // edx
  int v67; // edi
  __int16 v69; // cx
  int v71; // ecx
  unsigned int v72; // esi
  char v73; // dh
  char v75; // dh
  int v76; // edi
  unsigned int v78; // edx
  int v81; // ecx
  char v84; // dl
  unsigned int v85; // edi
  unsigned int v86; // ett
  char v87; // dh
  int v91; // edx
  __int16 v93; // dx
  char v94; // cl
  char v95; // dh
  int v96; // ebx
  _BOOL2 v100; // tt
  unsigned __int16 v101; // tt
  unsigned __int32 v104; // eax
  unsigned int v107; // kr00_4
  int v109; // [esp-8h] [ebp-8h] BYREF
  unsigned int v110; // [esp-4h] [ebp-4h]
  void *retaddr[2]; // [esp+0h] [ebp+0h]

  v96 = a4 + 1;
  LOWORD(a2) = v96 + a2;
  v93 = __ROL4__(a2, 14);
  v94 = a3 - v93;
  BYTE1(_EAX) = (char)~BYTE1(_EAX) >> v94;
  v95 = __ROR1__(HIBYTE(v93), v94);
  LOBYTE(v96) = v96 | 0xD8;
  _ECX = v96;
  _ESI = a7 + 1240718835;
  v84 = v96;
  v55 = __CFSHL__(_EAX, v96);
  LOBYTE(_EAX) = (_BYTE)_EAX << v96;
  v86 = v55 + 509688092;
  v55 = a6 < v86;
  v85 = a6 - v86;
  v87 = v55 + v95 + 69;
  __asm { rcr     cl, cl }
  LOBYTE(v96) = v96 + 108;
  if ( _EAX == -774703355 )
  {
    *(_DWORD *)(v96 + 72) += v85;
    __asm { fisttp  qword ptr [esi-3Fh] }
    LOBYTE(_EAX) = 4;
    __asm
    {
      aad     84h ; '„'
      fild    word ptr [ecx-2FF7422Dh]
    }
    JUMPOUT(0x406C12);
  }
  _EBX = _ECX ^ v96;
  LOBYTE(_EBX) = _EBX - v84;
  BYTE1(_EBX) <<= _ECX;
  BYTE1(_ECX) = __ROR1__(BYTE1(_ECX), 10);
  LOBYTE(_ECX) = __ROL1__(_ECX, 30);
  __asm { rcr     si, cl }
  LOBYTE(_ECX) = -(char)_ECX;
  v71 = _ECX << 25;
  LOBYTE(v71) = ~(_BYTE)v71;
  SBYTE1(_EBX) >>= v71;
  v72 = __ROL4__(_ESI, 18);
  v73 = BYTE1(v71) | v87;
  _ECX = -v71;
  __asm { rcl     cl, cl }
  v75 = v73 | 0xFD;
  HIWORD(v76) = 26468;
  _BH = v75 + __CFSHR__(BYTE1(_EBX), 24);
  _ECX = v72;
  __asm { rcr     bh, cl }
  if ( _EAX == -1352659285 )
  {
    BYTE1(_EAX) = 14 - MEMORY[0xF675546A];
    __asm { icebp }
    BYTE1(_ECX) = ((char)((MEMORY[0xF675546A] > 0xEu) + BYTE1(v72) - 99) >> 7)
                - (__CFSHR__((MEMORY[0xF675546A] > 0xEu) + BYTE1(v72) - 99, 24)
                 - 88);
    __asm { rcl     cl, cl }
    v58 = _ECX << 9;
    LOBYTE(v58) = (_BYTE)v58 << v58;
    v59 = *(int **)(_EAX + 144);
    _ESI = v72 >> 23;
    LOBYTE(v58) = __ROR1__(__ROR1__(v58, v58), 12);
    __asm { rcr     esi, 0Ch }
    _EAX = *v59;
    if ( v58 << 21 == -445092390 )
    {
      v107 = __readeflags();
      v110 = v107;
      __asm
      {
        fiadd   word ptr [ebx+12D2F796h]
        fld     qword ptr [ebp+eax*8-7E0DD49Ah]
      }
      JUMPOUT(0x2B06978A);
    }
    JUMPOUT(0x4068E2);
  }
  _EDX = __ROR4__(1631824896, 28);
  LOWORD(_EDX) = (unsigned __int16)_EDX >> v72;
  LOWORD(v76) = _EBX ^ __ROR2__(8578 >> v72, v72);
  LOBYTE(_ECX) = BYTE1(v72) + v72;
  BYTE1(_EBX) ^= _EBX;
  v26 = (_BYTE *)(v76 - 1503879121);
  LOBYTE(_EBX) = __ROR1__(_EBX, BYTE1(v72) + v72);
  if ( v72 == -871722094 )
  {
    _EAX = *(_DWORD *)(_EDX - 2) + _EAX;
    v110 = _EBX;
    v109 = -2114772122;
    LOBYTE(_EAX) = _EAX | 0x8F;
    _ESI = (_BYTE *)(_EAX & 0x1A48);
    LOBYTE(_ECX) = _ECX ^ 0x5D;
    BYTE1(_ECX) = (BYTE1(_ECX) - 41) | 0xC0;
    BYTE1(_EDX) <<= _ECX;
    if ( _EAX == 2108069029 )
    {
      __asm { aam     0AEh ; '®' }
      *v26 = *_ESI;
      v29 = _ESI - 1;
      v30 = (unsigned int)(v26 - 1);
      *(_BYTE *)_EBX ^= 0xD2u;
      _enable();
      LOWORD(v30) = (unsigned __int16)v29 | v30;
      v31 = _EBX | _ECX;
      LOBYTE(_EBX) = _EBX + 1;
      LOBYTE(_EDX) = _EDX | 0x3B;
      if ( _EBX != -1769045784 )
      {
        __asm { rcr     dl, 0Eh }
        LOBYTE(_EBX) = __ROL1__(_EBX + 1 - BYTE1(_EAX), v31 + 73);
        __asm { rcl     bh, 0Bh }
        LOWORD(v29) = ~(_WORD)v29;
        _ECX = -158990131;
        BYTE1(_EDX) = -1;
        __asm { rcl     cl, 0Ah }
        _EDI = v30 | 0x51704FA7;
        __asm { rcr     dl, cl }
        LOBYTE(_EDX) = __ROL1__(_EDX, 20);
        v55 = __CFSHR__(_EDX, 16);
        v78 = HIWORD(_EDX);
        LOBYTE(v78) = ((_BYTE)_EBX + v55 + (_BYTE)v78) << _ECX;
        LOBYTE(_ECX) = -31;
        v55 = __CFSHR__(_EDI, -31);
        _EDI >>= 1;
        __asm { rcr     bl, cl }
        LOBYTE(_EBX) = _EBX - 1;
        BYTE1(v78) = __ROL1__(v78 + v55 + __ROL1__(BYTE1(v78), 6), 225);
        BYTE1(_EBX) = -__ROL1__(BYTE1(_EBX), 10);
        __asm { rcr     edi, 10h }
        v78 |= 0x68A0016Fu;
        LOBYTE(v78) = ~(_BYTE)v78;
        v55 = __CFSHR__(v78, -31);
        LOBYTE(v78) = (char)v78 >> 1;
        BYTE1(v78) -= v55 - 53;
        _EBX = _EBX | 0x1E2C5543;
        v19 = __ROR4__(v78, 225);
        BYTE1(v19) += v19;
        LOBYTE(_ECX) = __ROL1__(-62, 4) - (__CFSHL__(-62, 4) - 103);
        __asm { rcl     ecx, cl }
        _ESI = _EBX + __ROL4__(v29, 225);
        v91 = __ROR4__(v19, 8);
        _EBX >>= 3;
        BYTE1(_EBX) += BYTE1(_ECX) + __CFSHR__(v91, 11) + 1;
        LOWORD(_EBX) = _EBX - 1;
        _EDX = __ROR4__(v91, 11) - 1622188587;
        _ECX = __ROL4__(_ECX, _ECX);
        LOWORD(_EDI) = (_WORD)_EDI << _ECX;
        __asm { rcl     bx, cl }
        v55 = __CFSHL__(_EDX, 8);
        LOBYTE(_EDX) = 0;
        v100 = v55;
        v55 = __CFADD__(v55, (_WORD)_ECX);
        LOWORD(_ECX) = v100 + _ECX;
        v55 |= __CFADD__((_WORD)_EAX, (_WORD)_ECX);
        LOWORD(_ECX) = _EAX + _ECX;
        v101 = v55 + (_WORD)_ESI;
        v55 = (unsigned __int16)_ECX < v101;
        LOWORD(_ECX) = _ECX - v101;
        _ECX = _ECX - (v55 + 1190698516);
        _EBX = ((unsigned int)__CFSHL__(_EDI, 13) + _EBX + 1594927462) >> 10;
        __asm { rcl     bh, cl }
        _EDI = ~(_EDI << 13);
        __asm
        {
          rcr     edx, 1Dh
          rcr     edi, 1Bh
        }
        v81 = _ECX & 0x743DD65D;
        LOWORD(_ESI) = (__int16)_ESI >> v81;
        BYTE1(v81) |= v81;
        while ( v81 == -1421374103 )
        {
          __asm { outsd }
          *(_WORD *)(_ESI - 780015217) = __FS__;
        }
        JUMPOUT(0x406EEE);
      }
      return _EAX;
    }
    LOBYTE(_ECX) = _ECX + 1;
    LOWORD(v26) = (unsigned __int16)v26 >> _ECX;
    v55 = __CFSHR__(__ROL1__(_EBX, _ECX), 28);
    LOBYTE(_EBX) = 0;
    LOBYTE(_EDX) = BYTE1(_ECX) + v55 + _EDX;
    LOBYTE(_ECX) = _ECX - ((_EBX < 0x61F8DB97) + 56);
    _EBX = _EBX << 9;
    LOBYTE(_EBX) = 50;
    __asm { rcr     ebx, cl }
    LOBYTE(_EBX) = -(char)_EBX;
    BYTE1(_EDX) = ((_BYTE)_EBX != 0) + BYTE1(_EDX) - 14;
    __asm { rcl     dl, cl }
    LOBYTE(_EBX) = BYTE1(_EAX) ^ __ROL1__(__ROR1__(_EBX, 21), 9);
    _EBX = __ROR4__(_EBX + 340777888, 20);
    v55 = __CFSHR__(_EDX, 24);
    v44 = HIBYTE(_EDX);
    v60 = _ECX - (v55 + _EBX);
    LOBYTE(_EBX) = v60 & _EBX;
    v61 = (v60 & 0xB7DE6DDB) - 1598975989;
    v55 = __CFADD__((_BYTE)v61, -110);
    LOBYTE(v61) = v61 - 110;
    _ECX = v61 - (v55 - 1011372988);
    v55 = v44 < (unsigned int)__CFSHL__(v26, 5) + _EAX;
    v62 = v44 - (__CFSHL__(v26, 5) + _EAX);
    LOBYTE(_ECX) = v55 + _ECX - 88;
    BYTE1(v62) <<= _ECX;
    __asm { rcl     bl, cl }
    v39 = _EAX + v62;
    LOBYTE(_ECX) = _EBX + (_EAX | _ECX);
    LOBYTE(v39) = (char)(v39 - 91) >> _ECX;
    BYTE1(v39) = BYTE1(_EAX);
    LOWORD(_EBX) = (__int16)_EBX >> _ECX;
    v55 = __CFSHL__(BYTE1(_EBX), _ECX);
    BYTE1(_EBX) <<= _ECX;
    LOWORD(v39) = v39 - (v55 + (_WORD)_EBX);
    _EDI = __ROR4__(__ROL4__(v26, 5) << 7, 24);
    LOBYTE(_EBX) = (BYTE1(_ECX) < (unsigned __int8)_ECX) + _EBX - 23;
    __asm { rcl     esi, 12h }
    v10 = __CFSHL__(_EBX, _ECX);
    LOBYTE(_EBX) = __ROL1__(_EBX, _ECX);
    BYTE1(_ECX) = BYTE1(_ECX) - _ECX - 1;
    LOWORD(_ECX) = _ECX - (v10 + (_WORD)_EAX);
    _EBX = _EBX & 0xCAD7D2E5;
    SBYTE1(v39) >>= 7;
    LOWORD(_EBX) = _ECX + _EBX;
    LOBYTE(v39) = BYTE1(_ECX) + v39;
    __asm { rcl     edi, cl }
    LOWORD(_ECX) = _EAX + _ECX;
    LOWORD(_EDI) = (_WORD)_EDI + 1;
    ++BYTE1(_EBX);
    if ( _ESI == (_BYTE *)2053789566 )
    {
      __asm { outsd }
      *_EDI = *_ESI;
      JUMPOUT(0x406793);
    }
    LOBYTE(_ECX) = (char)_ECX >> 6;
    v63 = _ECX >> 15;
    BYTE1(v63) += 14;
    _ECX = v63 & 0xDBF8D25;
    v64 = v39 << _ECX;
    SBYTE1(v64) >>= 7;
    v33 = v64 ^ 0xFAED5697;
    LOBYTE(_ECX) = _ECX + 1;
    LOBYTE(v33) = (_BYTE)v33 << _ECX;
    __asm
    {
      rcr     edi, cl
      rcr     ch, 1Bh
      rcr     ch, 10h
    }
    v55 = _EBX < 0x81BCD979;
    if ( _EBX == -2118329991 )
    {
      __asm { ficomp  dword ptr [ecx+edi] }
      LOBYTE(_ECX) = 17;
      goto LABEL_25;
    }
    BYTE1(_EBX) <<= _ECX;
    _EBX = _EBX - 748517955;
    __asm { rcl     bl, cl }
    _EBX = _EBX ^ 0x3025F03B;
    LOWORD(_ECX) = (_WORD)_ECX << _ECX;
    v12 = _ECX << 20;
    LOWORD(v33) = v12;
    BYTE1(v12) &= 0x30u;
    v32 = v12;
    LOBYTE(v33) = BYTE1(v12) & v33;
    _ECX = v12 - 329744659;
    LOWORD(_EBX) = BYTE1(_EAX) ^ (unsigned __int8)_EBX;
    LOBYTE(_ECX) = (char)_ECX >> 2;
    __asm { rcr     bl, cl }
    v34 = (32 * _EDI) >> 12;
    LOBYTE(_EBX) = _ECX | _EBX;
    __asm
    {
      rcr     cx, cl
      rcl     bx, cl
    }
    LOBYTE(v33) = v33 - BYTE1(_EAX);
    v45 = __ROR4__(v34, 28);
    BYTE1(_EBX) = 0;
    LOWORD(v45) = (unsigned __int8)_EBX | (unsigned __int16)v45;
    v46 = v32 + 190140716;
    v47 = v33 << 24;
    if ( v47 == 886827157 )
    {
      v48 = _EBX ^ 0x34DBE895;
      _EAX += 289276251;
      LOBYTE(_EAX) = _EAX | 0x80;
      __DS__ = MEMORY[0x10AEB6BC];
      LOWORD(v46) = v45 ^ v46;
      if ( v45 != 1636761573 )
        JUMPOUT(0x406804);
      *MK_FP(MEMORY[0x10AEB6BC], v48 - 1053199949) = *MK_FP(MEMORY[0x10AEB6BC], v48 - 1053199949) - _ECX;
      __outbyte(0x1Eu, _EAX);
      LOWORD(v48) = _ECX & v48;
      v55 = __CFADD__(v48, -2058851554);
      _EBX = v48 - 2058851554;
      LOWORD(v46) = _EBX + v55 + (_WORD)v46;
      BYTE1(_ECX) += 28;
      if ( v46 != -986101758 )
        JUMPOUT(0x406600);
      v50 = _EAX;
      v51 = alloca(-986101758);
      LOBYTE(_EAX) = 0;
      v52 = _ECX;
      v53 = MEMORY[0xC5394825] == ((unsigned int)&v109 < 0xC5394802) + _ECX;
      MEMORY[0xC5394825] = (__PAIR64__(MEMORY[0xC5394825], &v109) - __PAIR64__(_ECX, -986101758)) >> 32;
      __asm { fcomp5  st(2), st }
      v54 = v50 - 1;
      if ( v53 && v54 )
        JUMPOUT(0x4067B6);
      __asm { rcl     byte ptr [ebx-80h], 0C8h }
      MEMORY[0xD21CF0C1] = 0;
      _disable();
      BYTE1(v54) = BYTE1(_EBX);
      v33 = v52 & 0xC99A3923;
      __asm { rcl     ebx, 1Ch }
      LOWORD(_EBX) = _EBX + 3;
      LOBYTE(v33) = 48;
      v55 = __CFSHR__(v54, 4);
      _ECX = v54 >> 4;
LABEL_25:
      LOBYTE(v33) = v33 - (v55 + _ECX);
      _EDX = v33 >> 17;
      LOBYTE(_ECX) = _ECX | 0x3D;
      v67 = _EDX ^ 0x294D0E6C;
      _AL = (_BYTE)_EAX << _ECX;
      __asm { rcl     ch, cl }
      LOBYTE(_EDX) = BYTE1(_ECX) + _EDX;
      _CX = _EDX & _ECX;
      __asm
      {
        rcl     bh, cl
        rcl     al, cl
      }
      BYTE1(_EDX) &= _EDX;
      _EDX >>= 18;
      LOBYTE(_CX) = _CX ^ 0x81;
      __asm { rcl     dh, 3 }
      HIBYTE(_CX) = -HIBYTE(_CX);
      LOBYTE(_CX) = ~(_BYTE)_CX;
      __asm { rcr     ch, cl }
      if ( v67 == -2090830305 )
        JUMPOUT(0x406CFB);
      JUMPOUT(0x406F48);
    }
    LOWORD(_ECX) = _ECX - _EAX;
    LOBYTE(v47) = v47 - (__CFSHR__(v45, 13) + BYTE1(_EAX));
    _EDI = __ROL4__(v45 >> 13, 16);
    _ECX = __ROR4__(_ECX, 9);
    __asm { rcr     edi, cl }
    v16 = v47 >> 7;
    if ( _ECX != -371079041 )
      JUMPOUT(0x4067DA);
    __asm { fisttp  dword ptr [eax-16247FB0h] }
    if ( v16 == -1 )
      LOBYTE(_EAX) = 46;
    else
      LOBYTE(_EAX) = *(_BYTE *)(v16 - 1);
    if ( _EAX == -1073741778 )
      JUMPOUT(0x40683E);
    LOBYTE(_EAX) = _EAX + 28;
  }
  else
  {
    LOWORD(v26) = __ROR2__((_WORD)v26, _ECX);
    LOBYTE(_EBX) = 100;
    BYTE1(_EBX) = __ROL1__(BYTE1(_EBX), _ECX);
    LOBYTE(_EDX) = BYTE1(_EDX) + _EDX;
    LOBYTE(_ECX) = 0;
    _ECX = _ECX >> 21;
    BYTE1(_ECX) = 0;
    if ( v72 != 2044956332 )
    {
      HIBYTE(v69) = __ROR1__(0, _ECX);
      LOBYTE(v69) = _ECX - 1;
      BYTE1(_EBX) >>= v69;
      _CX = __ROR2__(v69, v69);
      if ( _EBX == 439209457 )
        JUMPOUT(0x406A61);
      __asm { rcr     cx, cl }
      JUMPOUT(0x4065CE);
    }
    __debugbreak();
    *(_DWORD *)v26 = _EAX;
    if ( v26 != (_BYTE *)-307945774 )
    {
      __asm { rcr     dl, cl }
      BYTE1(_EDX) ^= 0x79u;
      __asm { rcr     edx, 0Ch }
      JUMPOUT(0x406C89);
    }
    v104 = __indword(0x5Cu);
    LOBYTE(_EAX) = MK_FP(retaddr[0], retaddr[0])(_ECX, _EDX);
  }
  return _EAX;
}
// 40631D: control flows out of bounds to 406323
// 40647B: inconsistent fpu stack
// 406792: control flows out of bounds to 406793
// 406C80: control flows out of bounds to 406C82
// 406CF5: control flows out of bounds to 406CFB
// 40631D: control flows out of bounds to 4065CE
// 4068DE: control flows out of bounds to 80667684
// 406BC9: control flows out of bounds to 662CFAF1
// 406C92: control flows out of bounds to CE37C34
// 406DE5: control flows out of bounds to 406C89
// 406F52: control flows out of bounds to 2B06978A
// 406475: control flows out of bounds to 4067DA
// 4067FC: control flows out of bounds to 406804
// 406824: control flows out of bounds to 406600
// 406834: control flows out of bounds to 4067B6
// 406A3F: control flows out of bounds to 406A61
// 406B63: control flows out of bounds to 40683E
// 406BB9: control flows out of bounds to 406EEE
// 406C90: control flows out of bounds to 406C12
// 406CF5: control flows out of bounds to 406F48
// 406E80: control flows out of bounds to 406EC5
// 406F3E: control flows out of bounds to 4068E2
// 4068D7: conditional instruction was optimized away because of 'edx.4==6143AC04'
// 406BC6: conditional instruction was optimized away because of 'ecx.4==AB478D69'
// 406E80: conditional instruction was optimized away because of 'esi.4==79E38EAC'

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
