/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>);

//-------------------------------------------------------------------------
// Data declarations

int dword_102F000[2452]; // weak
int dword_1031650[15]; // weak
int dword_103168C; // weak
int dword_1031690; // weak
int dword_1031694; // weak
int dword_10316A0; // weak
int dword_142A000[512] =
{
  -419495938,
  -1845483776,
  -1045013658,
  101818368,
  184565136,
  13948672,
  2146120625,
  785905663,
  -973064139,
  1560887312,
  136608907,
  318897768,
  30327134,
  -513,
  -1055332415,
  12196079,
  -1056961026,
  -100597302,
  1210598027,
  1614223464,
  63422815,
  -537921738,
  1949841919,
  -1053950,
  1699515344,
  -1889219447,
  1633651205,
  292085385,
  -1745355969,
  30392704,
  -1824522055,
  -217986623,
  1511204004,
  -277823,
  -1106837505,
  -804977244,
  -1996175679,
  19818546,
  -1051103228,
  -503380799,
  107062784,
  1206509312,
  -268947978,
  1896315783,
  1124135680,
  1759909394,
  -728760055,
  -268513281,
  1192200966,
  -1996484414,
  -83481,
  -1194384991,
  536883200,
  17154241,
  -20049922,
  -1995404296,
  -199312937,
  -171293291,
  -108461429,
  -687374146,
  484315006,
  -251591474,
  -2020893819,
  1042071681,
  -1153542151,
  -1912799233,
  831229960,
  -167902821,
  -1862473341,
  626536959,
  1520111376,
  267411439,
  1448254393,
  -17018736,
  -1866036972,
  1354772824,
  -43949,
  270860222,
  1509249784,
  502601219,
  400228866,
  -1712291339,
  -116797493,
  981530690,
  -268968457,
  770471168,
  1478063352,
  -293507776,
  378208649,
  -2097168385,
  -1878476665,
  1514078612,
  69485707,
  29745857,
  -138568752,
  750763911,
  -1690793114,
  -111672667,
  1006118736,
  236969776,
  -53543938,
  -855635774,
  -1051192574,
  -14482232,
  536840166,
  409519066,
  294333504,
  -1983651073,
  -2049312,
  117933855,
  97186671,
  6344737,
  -1045575373,
  -122897785,
  -537740225,
  1174642463,
  271315081,
  -317533563,
  -527376562,
  1200478,
  -1976170668,
  -2016401146,
  -2013757456,
  -2051081784,
  -411041280,
  1463716613,
  1878126782,
  -123110340,
  570854194,
  982213632,
  -313021097,
  2035351483,
  1921770121,
  102283784,
  372814730,
  1124069802,
  1354726896,
  -666905149,
  1506069400,
  -1989869775,
  -151126033,
  79986959,
  -423954342,
  1399858126,
  -360604924,
  1728199870,
  1090689529,
  454553721,
  1761152120,
  1488978177,
  -144682671,
  931907568,
  1557502761,
  -552859712,
  -1039958018,
  1399327371,
  -1993577255,
  -2065149491,
  -1570740046,
  -9502720,
  -15409161,
  -104625706,
  1610147969,
  1747487193,
  -327291957,
  1778598485,
  -6561911,
  -276697095,
  1748445416,
  -265978630,
  -645293823,
  -52500095,
  -1673537143,
  359150077,
  723563696,
  -61105241,
  1349314691,
  943715487,
  -352132579,
  -788448182,
  1380995467,
  1619221596,
  1370492443,
  -2062803499,
  -971632675,
  123930319,
  629260681,
  802747230,
  1177680440,
  376381544,
  805504880,
  1476682680,
  337143983,
  513667204,
  822551280,
  -95534,
  -1071702141,
  -226456126,
  -183465811,
  -270384907,
  134578367,
  -597698272,
  -1962438145,
  818053399,
  -1033507002,
  1220083764,
  -10474866,
  -833008,
  16827360,
  135041361,
  424154368,
  1368402432,
  -1560202927,
  1596974789,
  -1075793648,
  14098860,
  1605744896,
  -1301546658,
  98919340,
  6706871,
  1813287656,
  -1073845253,
  -733485794,
  -150986752,
  -248052241,
  84302080,
  290652217,
  1717417490,
  10963327,
  1792147586,
  -550105239,
  503372814,
  -37805133,
  601292884,
  4254464,
  -1300583168,
  226905074,
  -1073742047,
  -1812965511,
  -837951673,
  1398761817,
  -1529316392,
  -612682796,
  727312239,
  -33,
  -598070529,
  778389321,
  1228036964,
  711662016,
  -212876455,
  -1115072117,
  -2051032293,
  -2120629611,
  -70,
  -2020958721,
  -1565292388,
  -1464823393,
  -1984131919,
  -976005307,
  -2055087363,
  1896321427,
  -753709247,
  -268435630,
  1473379327,
  1336039875,
  -875138064,
  688036357,
  -205697703,
  313147869,
  -1805659018,
  -46209,
  330301439,
  1607170918,
  1405770105,
  1103829753,
  1502546907,
  1408891493,
  1710100472,
  -486813657,
  -34195,
  861600767,
  2112854103,
  1235077383,
  1373534623,
  -279480280,
  995745744,
  127620891,
  -6739565,
  -1275068417,
  -407869025,
  328694140,
  83578697,
  127553607,
  1896420233,
  -1594201918,
  -1430941874,
  -14088230,
  -1073807361,
  1369248701,
  298679033,
  486252931,
  -190490281,
  -1874267749,
  1502370715,
  1286948097,
  -262145,
  -2020705343,
  -249300809,
  1547655243,
  1548171176,
  1111860303,
  -1999542912,
  961493232,
  -20,
  -1406188801,
  446188489,
  1464738585,
  721304025,
  -1268963021,
  1473928376,
  -1777880629,
  1487690151,
  -36,
  900278527,
  1220893286,
  1602935018,
  1570388316,
  775539319,
  1025156671,
  1398628019,
  -1931957176,
  -175,
  179834111,
  -1556521064,
  666805196,
  -1440260722,
  1465096805,
  -1342416418,
  -933761381,
  -1369596324,
  -31457330,
  -783522817,
  2049157187,
  -1441028035,
  1851374216,
  -614760501,
  1214145373,
  -1383233,
  1342177279,
  -656697245,
  -1312151280,
  -2062232832,
  -1818735879,
  1340806478,
  689066202,
  1604594024,
  -8337016,
  1392508927,
  -390793189,
  -1944892558,
  304648323,
  -795299104,
  1372607213,
  27952907,
  1343243408,
  -12167224,
  117440511,
  315563525,
  -909514543,
  -1340468981,
  1402395419,
  -368488875,
  1191433800,
  245708745,
  -12531692,
  -1,
  1606767022,
  155109345,
  253155073,
  1203645776,
  1138673817,
  1527879509,
  -1949022085,
  -8393373,
  -603979777,
  832869203,
  -1360757304,
  1129660945,
  188059593,
  23930334,
  565737921,
  -1757326087,
  -1946540712,
  -268437313,
  1565288369,
  -1505221675,
  1634063449,
  -1163707713,
  -2804828,
  -1811939329,
  1529958724,
  -599010724,
  410289240,
  1277463777,
  -712032779,
  -1932397786,
  -244936049,
  -547686571,
  671088639,
  374322009,
  1560718018,
  -538468175,
  1209711244,
  -245900038,
  1490448804,
  -1498780705,
  -1,
  1632393137,
  1998295472,
  609307430,
  -582158885,
  54550819,
  -1417585059,
  -1034624935,
  351204635,
  -1,
  -270239185,
  988908287,
  320567516,
  1079323851,
  -614473773,
  -905361085,
  295344033,
  1061093984,
  -1,
  1582516835,
  -268703090,
  -601497164,
  -1233429876,
  1903784857,
  2024090622,
  1715751213,
  751263540,
  -1,
  1465747293,
  -680898820,
  -716745398,
  447867993,
  -2040764596,
  -1485198942,
  -1933607602,
  1305677866,
  -1,
  -627720333,
  -1499087505,
  -1963244145,
  -174294431,
  -1168562091,
  -205550608,
  1445350172,
  1342577778,
  -1,
  2068171659,
  427274545,
  1944590670,
  -1974513384,
  627877498,
  -2032177154,
  2105450560,
  89427924,
  -1473,
  1159564037,
  1258986027,
  -13929968,
  1244152716,
  1935155923,
  727181784,
  -54282,
  1673199615,
  1817432383,
  659987692,
  -1633136226,
  -1424979012,
  1900955293,
  1696143688,
  649358475,
  2147428872,
  782761983,
  1559039601,
  1738687259,
  -1943134997,
  -272761592,
  -87876246,
  -1510634727,
  -5750757,
  1979711487,
  -1962000558,
  -1608970451,
  1989484095,
  1326803544,
  1267490739,
  474947844,
  1060367654,
  -48816786,
  -67108897,
  778126565,
  1327969384,
  -407299441,
  -1660233554,
  -848400547,
  618416223,
  -1879107247
}; // weak


//----- (01431000) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  int *v3; // esi
  int *v4; // edi
  unsigned int v5; // ebp
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  int i; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  unsigned int v16; // eax
  bool v17; // zf
  int v18; // ebx
  int v19; // ebx
  int v20; // ett
  unsigned int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ett
  unsigned int v25; // eax
  unsigned int v26; // eax
  int v27; // eax
  bool v28; // cf
  int v29; // ebx
  int v30; // ett
  BOOL v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ett
  int v35; // ecx
  int v36; // ecx
  bool v37; // cf
  int v38; // ebx
  int v39; // ebx
  int v40; // ett
  bool v41; // zf
  int v42; // ebx
  int v43; // ett
  unsigned int v44; // ecx
  char *v45; // edx
  char v46; // al
  int v47; // eax
  bool v48; // cc
  int *v49; // esi
  int *v50; // edi
  int v51; // ecx
  char v52; // al
  unsigned __int8 v53; // al
  int v54; // eax
  int v55; // eax
  char v56; // t0
  unsigned __int8 v57; // bl
  char *v58; // edi
  int v59; // eax
  int *v60; // ebx
  int v61; // ebp
  char v62; // al
  char *v63; // ecx
  char v64; // al
  int v65; // eax
  void (__cdecl *v66)(int *, int, int, int *); // ebp
  int *v67; // edi
  int v68[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v69; // [esp+2Ch] [ebp-80h] BYREF
  int v70; // [esp+30h] [ebp-7Ch] BYREF
  char *v71; // [esp+34h] [ebp-78h]
  int *v72; // [esp+38h] [ebp-74h]
  int v73; // [esp+3Ch] [ebp-70h]
  int v74; // [esp+40h] [ebp-6Ch]
  int v75; // [esp+44h] [ebp-68h]
  int v76; // [esp+48h] [ebp-64h]
  int *v77; // [esp+4Ch] [ebp-60h]
  int v78; // [esp+50h] [ebp-5Ch]
  int v79; // [esp+54h] [ebp-58h]
  int v80; // [esp+58h] [ebp-54h]
  int v81; // [esp+5Ch] [ebp-50h] BYREF

  v77 = &v81;
  v75 = a3;
  v74 = a2;
  v73 = a1;
  v3 = dword_142A000;
  v4 = &dword_142A000[-4236288];
  v72 = &dword_142A000[-4236288];
  v5 = -1;
  while ( 1 )
  {
    v9 = *v3;
    v7 = (unsigned int)v3++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v3;
        v3 = (int *)((char *)v3 + 1);
        *(_BYTE *)v4 = v6;
        v4 = (int *)((char *)v4 + 1);
      }
      else
      {
        for ( i = 1; ; i = v21 + v22 + v21 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v16 = i + v12 + i;
          v7 = __CFADD__(v13, v13);
          v17 = 2 * v13 == 0;
          v18 = 2 * v13;
          if ( v7 )
          {
            if ( !v17 )
              break;
            v19 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v20 = v7 + v19;
            v7 = __CFADD__(v7, v19) | __CFADD__(v19, v20);
            v18 = v19 + v20;
            if ( v7 )
              break;
          }
          v21 = v16 - 1;
          v22 = __CFADD__(v18, v18);
          v8 = 2 * v18;
          if ( !v8 )
          {
            v23 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v24 = v7 + v23;
            v22 = __CFADD__(v7, v23) | __CFADD__(v23, v24);
            v8 = v23 + v24;
          }
        }
        v7 = v16 < 3;
        v25 = v16 - 3;
        if ( v7 )
        {
          v28 = __CFADD__(v18, v18);
          v18 *= 2;
          if ( !v18 )
          {
            v29 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v30 = v7 + v29;
            v28 = __CFADD__(v7, v29) | __CFADD__(v29, v30);
            v18 = v29 + v30;
          }
        }
        else
        {
          v26 = v25 << 8;
          LOBYTE(v26) = *(_BYTE *)v3;
          v3 = (int *)((char *)v3 + 1);
          v27 = ~v26;
          if ( !v27 )
          {
            v49 = v72;
            v50 = v72;
            v51 = 6;
            while ( 1 )
            {
              v52 = *(_BYTE *)v50;
              v50 = (int *)((char *)v50 + 1);
              v53 = v52 + 24;
              while ( v53 <= 1u && !*(_BYTE *)v50 )
              {
                v54 = *v50;
                LOWORD(v54) = BYTE1(*v50);
                v55 = __ROL4__(v54, 16);
                v56 = v55;
                LOBYTE(v55) = BYTE1(v55);
                BYTE1(v55) = v56;
                v57 = *((_BYTE *)v50 + 4) + 24;
                *v50 = (int)v49 + v55 - (_DWORD)v50;
                v50 = (int *)((char *)v50 + 5);
                v53 = v57;
                if ( !--v51 )
                {
                  v58 = (char *)dword_102F000 + (_DWORD)v49;
LABEL_41:
                  v59 = *(_DWORD *)v58;
                  if ( *(_DWORD *)v58 )
                  {
                    v60 = (int *)((char *)v49 + *((_DWORD *)v58 + 1));
                    v58 += 8;
                    v61 = (*(int (__cdecl **)(char *, int, int, int, int, int *, int, int, int))((char *)&dword_103168C
                                                                                               + (_DWORD)v49))(
                            (char *)dword_1031650 + (_DWORD)v49 + v59,
                            v73,
                            v74,
                            v75,
                            v76,
                            v77,
                            v78,
                            v79,
                            v80);
                    while ( 1 )
                    {
                      v62 = *v58++;
                      if ( !v62 )
                        goto LABEL_41;
                      v63 = v58;
                      v71 = v58;
                      v64 = v62 - 1;
                      do
                      {
                        if ( !v63 )
                          break;
                        v17 = *v58++ == v64;
                        --v63;
                      }
                      while ( !v17 );
                      v65 = (*(int (__cdecl **)(int, char *))((char *)&dword_1031690 + (_DWORD)v49))(v61, v71);
                      if ( !v65 )
                        break;
                      *v60++ = v65;
                    }
                    v59 = (*(int (**)(void))((char *)&dword_10316A0 + (_DWORD)v49))();
                  }
                  v66 = *(void (__cdecl **)(int *, int, int, int *))((char *)&dword_1031694 + (_DWORD)v49);
                  v67 = v49 - 1024;
                  v69 = v59;
                  v66(v49 - 1024, 4096, 4, &v69);
                  *((_BYTE *)v67 + 799) &= 0x7Fu;
                  *((_BYTE *)v67 + 839) &= 0x7Fu;
                  v66(v49 - 1024, 4096, v68[0], v68);
                  do
                    v69 = 0;
                  while ( &v69 != &v70 - 32 );
                  JUMPOUT(0x4011B9);
                }
              }
            }
          }
          v28 = v27 & 1;
          v5 = v27 >> 1;
        }
        v31 = v28;
        v32 = __CFADD__(v18, v18);
        v8 = 2 * v18;
        if ( !v8 )
        {
          v33 = *v3;
          v7 = (unsigned int)v3++ < 0xFFFFFFFC;
          v34 = v7 + v33;
          v32 = __CFADD__(v7, v33) | __CFADD__(v33, v34);
          v8 = v33 + v34;
        }
        v35 = v31 + v32 + v31;
        if ( !v35 )
        {
          v36 = 1;
          while ( 1 )
          {
            v37 = __CFADD__(v8, v8);
            v38 = 2 * v8;
            if ( !v38 )
            {
              v39 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v40 = v7 + v39;
              v37 = __CFADD__(v7, v39) | __CFADD__(v39, v40);
              v38 = v39 + v40;
            }
            v36 += v37 + v36;
            v7 = __CFADD__(v38, v38);
            v41 = 2 * v38 == 0;
            v8 = 2 * v38;
            if ( v7 )
            {
              if ( !v41 )
                break;
              v42 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v43 = v7 + v42;
              v7 = __CFADD__(v7, v42) | __CFADD__(v42, v43);
              v8 = v42 + v43;
              if ( v7 )
                break;
            }
          }
          v35 = v36 + 2;
        }
        v44 = (v5 < 0xFFFFFB00) + v35 + 1;
        v45 = (char *)v4 + v5;
        if ( v5 <= 0xFFFFFFFC )
        {
          do
          {
            v47 = *(_DWORD *)v45;
            v45 += 4;
            *v4++ = v47;
            v48 = v44 <= 4;
            v44 -= 4;
          }
          while ( !v48 );
          v4 = (int *)((char *)v4 + v44);
        }
        else
        {
          do
          {
            v46 = *v45++;
            *(_BYTE *)v4 = v46;
            v4 = (int *)((char *)v4 + 1);
            --v44;
          }
          while ( v44 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 143119F: positive sp value 50 has been found
// 143119F: control flows out of bounds to 4011B9
// 102F000: using guessed type int dword_102F000[2452];
// 1031650: using guessed type int dword_1031650[15];
// 103168C: using guessed type int dword_103168C;
// 1031690: using guessed type int dword_1031690;
// 1031694: using guessed type int dword_1031694;
// 10316A0: using guessed type int dword_10316A0;
// 142A000: using guessed type int dword_142A000[512];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
