/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __userpurge sub_407B68(int _ECX@<ecx>, int _EBX@<ebx>, int@<ebp>, int@<esi>, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int);

//-------------------------------------------------------------------------
// Data declarations

char byte_407B59[3] = { 'Á', '×', '\x14' }; // weak


//----- (00406250) --------------------------------------------------------
#error "406250: function frame is wrong (funcsize=0)"

//----- (00407B68) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
void __userpurge sub_407B68(
        int _ECX@<ecx>,
        int _EBX@<ebx>,
        int a3@<ebp>,
        int a4@<esi>,
        int a5,
        int a6,
        int a7,
        int a8,
        int a9,
        int a10,
        int a11,
        int a12,
        int a13,
        int a14,
        int a15,
        int a16,
        int a17,
        int a18,
        int a19,
        int a20,
        int a21,
        int a22,
        int a23,
        int a24,
        int a25,
        int a26,
        int a27,
        int a28,
        int a29,
        int a30,
        int a31,
        int a32,
        int a33,
        int a34,
        int a35,
        int a36,
        int a37,
        int a38,
        int a39,
        int a40,
        int a41,
        int a42,
        int a43,
        int a44,
        int a45,
        int a46,
        int a47,
        int a48,
        int a49,
        int a50,
        int a51,
        int a52,
        int a53,
        int a54,
        int a55,
        int a56,
        int a57,
        int a58,
        int a59,
        int a60,
        int a61,
        int a62,
        int a63)
{
  unsigned int i; // eax
  bool v72; // tt
  _BYTE *v77; // esi
  int v79; // eax
  int v80; // edx
  unsigned int v86; // eax
  bool v87; // cf
  unsigned int v88; // eax
  unsigned int v89; // ett
  bool v90; // tt
  unsigned int v92; // ebx
  _BYTE *v94; // eax
  unsigned int v96; // ecx
  unsigned int v97; // esi
  bool v101; // zf
  _BYTE v103[57770]; // [esp-E1CAh] [ebp-E1CAh] BYREF
  int v104; // [esp-20h] [ebp-20h]
  int v105; // [esp-1Ch] [ebp-1Ch]
  unsigned int v106; // [esp-18h] [ebp-18h]
  _BYTE *v107; // [esp-14h] [ebp-14h]
  int v108; // [esp-10h] [ebp-10h]
  int v109; // [esp-Ch] [ebp-Ch]
  unsigned int v110; // [esp-8h] [ebp-8h]
  _BYTE v111[4]; // [esp-4h] [ebp-4h] BYREF

  _ESI = a4 & 0x8AB62B7D;
  _BH = (unsigned __int8)(BYTE1(_EBX) - 44) >> _ECX;
  __asm { rcl     bh, cl }
  if ( _ECX == -678862668 )
    __asm { retn    0E1D2h }
  __asm { rcr     ebx, 16h }
  for ( i = 4225753; *(_DWORD *)i != 9460301; i = (i - 1) & 0xFFFFF000 )
    ;
  v79 = (*(int (__cdecl **)(unsigned int))(i
                                         + *(_DWORD *)(i
                                                     + *(_DWORD *)&byte_407B59[*(_DWORD *)(i + 60) - 4225753 + i]
                                                     + 16)))(i);
  HIWORD(_ECX) = HIWORD(v109);
  v92 = v110;
  SBYTE1(v80) >>= v109;
  LOBYTE(_ECX) = (unsigned __int8)v109 >> v109;
  _EAX = v79 << 13;
  BYTE1(_ECX) = BYTE1(v80) + BYTE1(v109);
  if ( _ECX == 1497734215 )
  {
    HIWORD(_ECX) = -13002;
    v94 = v111;
    _CX = 19422;
    __asm { rcl     cl, 11h }
    LOBYTE(_ECX) = ~(_BYTE)_CX;
    __asm
    {
      rcr     ch, 0Ch
      rcl     esi, 1Dh
    }
    if ( v80 == 1763983128 )
      JUMPOUT(0x407EF9);
    _ECX = _ECX | 0x90D7DF35;
    BYTE1(_ECX) ^= v110;
    __asm { rcl     ecx, 1Ch }
    _ECX = _ECX << _ECX;
    __asm { rcr     esi, cl }
    LOBYTE(_ECX) = _ECX ^ BYTE1(_ECX);
    v77 = &v111[_ESI];
    BYTE1(_ECX) = ~(_BYTE)_ECX;
    __asm { rcl     cl, 8 }
    v97 = __ROL4__(v77, 29);
    v96 = _ECX & 0xCBDABD44;
    BYTE1(v96) ^= 0x4Eu;
    LOBYTE(v96) = 0;
    LOWORD(v97) = (unsigned __int16)v111 + v97;
    _ECX = v96 >> 14;
    v87 = __CFADD__(BYTE1(_ECX), (_BYTE)_ECX);
    LOBYTE(_ECX) = BYTE1(_ECX) + _ECX;
    LOWORD(_ECX) = v80 - 22769 + v87 + (_WORD)_ECX;
    if ( v110 == -365891288 )
    {
      LOBYTE(v94) = __inbyte(0xA9u);
      _ECX = MEMORY[0xEA30F128] + (v110 < 0xEA30F128) + _ECX;
      _EAX = __ROL4__(v94 + 1, 255) | 0x6616C0C0;
      v87 = v97 < _EAX;
      _ESI = (_BYTE *)(v97 - _EAX);
      LOBYTE(v92) = BYTE1(v80) + v87 + 40;
      LOWORD(v80) = v80 - ((__CFADD__(v87, 40) | __CFADD__(BYTE1(v80), v87 + 40)) + v92);
      LOWORD(v92) = ~(_WORD)v92;
      while ( 1 )
      {
        v87 = __CFSHR__(_EAX, _ECX);
        LOWORD(_ESI) = ~((_WORD)_ESI + 1);
        LOBYTE(_EAX) = __ROR1__((char)_EAX >> _ECX, _ECX);
        BYTE1(_ECX) = __ROL1__(BYTE1(_ECX), 17);
        BYTE1(_EAX) = v80 & (v87 + BYTE1(_EAX) + 116);
        if ( v92 != 1134440353 )
          break;
        v101 = *_ESI == MEMORY[0xF207DE36];
        if ( (char)(*_ESI++ - MEMORY[0xF207DE36]) >= 0 )
        {
          __asm { outsb }
          JUMPOUT(0x4081C0);
        }
        __asm { aas }
        if ( v101 )
        {
          LOBYTE(v92) = BYTE1(v80) & 0xA1;
          v110 = (unsigned int)_ESI;
          v109 = -234365385;
          v108 = a3 + 1;
          v107 = v111;
          v106 = v92;
          v105 = _ECX;
          v104 = v80;
          *(_DWORD *)&v103[57766] = _EAX;
          JUMPOUT(0x40814D);
        }
      }
      LOWORD(_ESI) = __ROR2__((_WORD)_ESI, _ECX);
      _ESI = _ESI - 1264282294;
      _AL = (_ECX | -(_EAX | 0xE)) - 117;
      LOWORD(_ESI) = (unsigned __int16)_ESI >> _ECX;
      __asm
      {
        rcr     al, cl
        rcl     esi, 17h
      }
      BYTE1(_ECX) = ~BYTE1(_ECX);
      if ( _ECX != 1260516686 )
        JUMPOUT(0x407D10);
    }
    else
    {
      __asm { rcr     ecx, 15h }
      if ( !v80 )
        JUMPOUT(0x407EBB);
    }
    if ( v92 == -2009749178 )
      JUMPOUT(0x74813DF2);
    JUMPOUT(0x407EF0);
  }
  LOBYTE(_DX) = (_ECX < 0x59459C47) + v80 + 85;
  v72 = __CFSHR__(BYTE1(_EAX), _ECX);
  BYTE1(_EAX) = __ROR1__(BYTE1(_EAX), _ECX);
  __asm { rcr     ecx, 5 }
  HIBYTE(_DX) = BYTE1(v80) + 1;
  LOWORD(_ESI) = _ESI - (v72 + (_WORD)v110);
  __asm { rcr     al, cl }
  LOWORD(_ECX) = _DX + _ECX;
  __asm { rcl     ch, cl }
  v86 = (_EAX | 0xA6B71EE7) - _ESI;
  __asm { rcl     cx, cl }
  v89 = __CFSHL__(BYTE1(_ECX), _ECX) - 1385651541;
  v87 = v86 < v89;
  v88 = v86 - v89;
  v90 = v87;
  v87 = __CFADD__(v87, (_BYTE)v88);
  LOBYTE(v88) = v90 + v88;
  v87 |= __CFADD__((_BYTE)v88, 125);
  LOBYTE(v88) = v88 + 125;
  BYTE1(v88) -= v87 + v110 - 106;
  __asm { rcr     dh, 1Dh }
  if ( v88 == -251474690 )
  {
    __asm { iret }
    JUMPOUT(0x407FA3);
  }
  JUMPOUT(0x407B93);
}
// 407C0D: positive sp value E1CA has been found
// 407EED: control flows out of bounds to 407EF0
// 407EF8: control flows out of bounds to 407EF9
// 407F1F: control flows out of bounds to 407F20
// 407FA9: inconsistent fpu stack
// 407FB4: control flows out of bounds to 407FBA
// 40814C: control flows out of bounds to 40814D
// 4081BF: control flows out of bounds to 4081C0
// 407FA2: control flows out of bounds to 407FA3
// 407D0B: control flows out of bounds to 74813DF2
// 407AC7: control flows out of bounds to 407EBB
// 4080E0: control flows out of bounds to 407D10
// 407F99: control flows out of bounds to 407B93
// 407E38: bad sp value at call
// 407F18: conditional instruction was optimized away because edi.4==69243F18
// 407C76: variable 'v80' is possibly undefined
// 407B68: too many input arguments, some ignored

// nfuncs=2 queued=2 decompiled=2 lumina nreq=0 worse=0 better=0
#error "There were 1 decompilation failure(s) on 2 function(s)"
