/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, char *@<edx>, int@<ecx>, int@<ebx>, unsigned int@<ebp>, int@<edi>, int@<esi>);

//-------------------------------------------------------------------------
// Data declarations

int dword_419000[321] =
{
  -1,
  -118032625,
  2010844292,
  -701734330,
  -797072268,
  -402151016,
  -998024355,
  1566268944,
  1593910467,
  -152178954,
  616745310,
  1153728798,
  298015506,
  -1962398912,
  1714708166,
  146483798,
  268976193,
  -619437532,
  582604669,
  1992439071,
  -1727526814,
  -13228988,
  -1006633537,
  287312129,
  1141982240,
  604512802,
  286654228,
  151011680,
  155453832,
  -1223606271,
  443154376,
  537919765,
  571543588,
  153270408,
  -621552832,
  -2011625033,
  18096160,
  302520654,
  -1275391608,
  155938407,
  27066670,
  268977153,
  1040127753,
  550645171,
  469016584,
  1074794648,
  -652196728,
  1087989253,
  -2135659248,
  1143087122,
  -617162467,
  -2012208916,
  1074301652,
  540164289,
  92528641,
  303667074,
  1080135304,
  1795321217,
  1242178736,
  -1114085149,
  1078029531,
  156651029,
  1886381065,
  243358471,
  316508188,
  1096859168,
  -2070455501,
  320864360,
  -1713797530,
  -1616709114,
  356128290,
  1523374118,
  -662814680,
  -263294417,
  201641390,
  546849893,
  -1064907854,
  137655812,
  -303245722,
  -1205228279,
  23840797,
  -2061465594,
  -1228891295,
  -1542446512,
  1827289074,
  509031117,
  -627993276,
  -632085932,
  -1540333477,
  -2001584680,
  -1030942216,
  1284442892,
  -1154276096,
  1688132121,
  284237888,
  -1422386990,
  -83691864,
  1610678288,
  -1014323029,
  2147422183,
  287613602,
  557842980,
  135301184,
  272900641,
  -26288201,
  541362212,
  268535944,
  554078352,
  572653968,
  574767617,
  -608700892,
  42467823,
  -1878457840,
  -1878515142,
  1078069330,
  1143047202,
  -38929144,
  -1877997337,
  136331908,
  24650242,
  1141375268,
  -1874591471,
  -1092691077,
  155329640,
  605045282,
  537921826,
  16794128,
  1979843216,
  862958992,
  1074877648,
  -1037827514,
  1540984329,
  -697899341,
  -2073629564,
  1073809582,
  -1050960382,
  -1839687271,
  608626360,
  554262148,
  1718301998,
  556149872,
  639721652,
  1747366709,
  504661224,
  -1810067959,
  -1142328567,
  550927515,
  -1404287968,
  -1808366560,
  1527044918,
  545526820,
  270657060,
  -2071399326,
  -161059813,
  1112543480,
  151543322,
  58866222,
  1187001211,
  1116768273,
  474219674,
  1723182432,
  1245995036,
  1082428994,
  165257745,
  561273708,
  136583169,
  816727732,
  -1151662902,
  1109428258,
  552484972,
  1150861346,
  -1609227342,
  -930551800,
  1347207664,
  2047902928,
  146688017,
  -508988363,
  138414180,
  17188036,
  -2091380696,
  771834088,
  1276206818,
  1831872352,
  471337002,
  -871786136,
  -126686516,
  405936842,
  -1235172669,
  1183065320,
  -1441762600,
  1565633742,
  1175471393,
  1145633288,
  182550849,
  1017922714,
  879102226,
  577509763,
  978849296,
  -2063401890,
  739663937,
  -463468256,
  549624730,
  -1232041424,
  545584734,
  874186664,
  2086992008,
  159745424,
  -1877673268,
  79096266,
  -1140191898,
  -999677332,
  -1041487694,
  -1000701236,
  -767417114,
  274787341,
  443994222,
  -1741474884,
  -824302951,
  -2046156634,
  42909984,
  718701633,
  1075993602,
  -663706063,
  -699120989,
  -2108512182,
  -268165755,
  -799397652,
  504131082,
  1345581194,
  19533173,
  333905919,
  176675713,
  -226373385,
  711285377,
  -1068842367,
  -654871649,
  -100663301,
  -511583437,
  -621328491,
  -947792137,
  81759653,
  -772330261,
  16835457,
  -4977367,
  -1958292545,
  -561840064,
  -638106807,
  51959681,
  -420642524,
  -839887141,
  338749706,
  335210880,
  67880449,
  -308970,
  -671613217,
  82739522,
  -145538430,
  1408664030,
  1090917337,
  984821805,
  641526261,
  -1178618822,
  -1977775235,
  84558552,
  -1020538927,
  -2118312567,
  2098534977,
  413163231,
  -563625438,
  957712886,
  1915110296,
  800695622,
  -226293064,
  1141979746,
  1166636897,
  -65598168,
  898333563,
  862508786,
  -1794274831,
  1135190845,
  49403810,
  1064270639,
  350192087,
  1032439841,
  -77081171,
  601476972,
  2001720523,
  -1987191206,
  1827576629,
  1262350064,
  -840466097,
  1681682634,
  202874861,
  282704898,
  335872,
  -699826168,
  -610398391,
  892389309,
  82237102,
  -575220200,
  -1620076085,
  1502224563,
  843220142,
  -1810558266,
  -586293167,
  -2120735053,
  -1426640099,
  559317227,
  -1149083424,
  67171122,
  -1691015232,
  -83468867,
  1524505379,
  57088549,
  1980358360,
  1027821215,
  743393051,
  1418036127,
  -536886785,
  -2062614274,
  -913268183
}; // weak


//----- (0044D4B0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(
        int a1@<eax>,
        char *a2@<edx>,
        int a3@<ecx>,
        int a4@<ebx>,
        unsigned int a5@<ebp>,
        int a6@<edi>,
        int a7@<esi>)
{
  int *v7; // esi
  int *v8; // edi
  char v9; // al
  bool v10; // cf
  int v11; // ebx
  int v12; // ebx
  int v13; // ett
  int i; // eax
  bool v15; // cf
  int v16; // ebx
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  bool v20; // zf
  int v21; // ebx
  int v22; // ett
  unsigned int v23; // eax
  bool v24; // cf
  int v25; // ebx
  int v26; // ett
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  unsigned int v32; // eax
  unsigned int v33; // eax
  int v34; // eax
  bool v35; // cf
  int v36; // ebx
  int v37; // ett
  bool v38; // cf
  int v39; // ebx
  int v40; // ett
  bool v41; // cf
  int v42; // ebx
  int v43; // ebx
  int v44; // ett
  bool v45; // zf
  int v46; // ebx
  int v47; // ett
  unsigned int v48; // ecx
  char v49; // al
  int v50; // eax
  bool v51; // cc
  int *v52; // esi
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__fastcall *v61)(int, char *, int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  char *v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  unsigned int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v75 = a7;
  v74 = a6;
  v73 = a5;
  v72 = &v76;
  v71 = a4;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v7 = dword_419000;
  v8 = &dword_419000[-24576];
  v67 = &dword_419000[-24576];
  while ( 1 )
  {
    v12 = *v7;
    v10 = (unsigned int)v7++ < 0xFFFFFFFC;
    v13 = v10 + v12;
    v10 = __CFADD__(v10, v12) | __CFADD__(v12, v13);
    v11 = v12 + v13;
    do
    {
      if ( v10 )
      {
        v9 = *(_BYTE *)v7;
        v7 = (int *)((char *)v7 + 1);
        *(_BYTE *)v8 = v9;
        v8 = (int *)((char *)v8 + 1);
      }
      else
      {
        for ( i = 1; ; i = v23 + v24 + v23 )
        {
          v15 = __CFADD__(v11, v11);
          v16 = 2 * v11;
          if ( !v16 )
          {
            v17 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v18 = v10 + v17;
            v15 = __CFADD__(v10, v17) | __CFADD__(v17, v18);
            v16 = v17 + v18;
          }
          v19 = i + v15 + i;
          v10 = __CFADD__(v16, v16);
          v20 = 2 * v16 == 0;
          v11 = 2 * v16;
          if ( v10 )
          {
            if ( !v20 )
              break;
            v21 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v22 = v10 + v21;
            v10 = __CFADD__(v10, v21) | __CFADD__(v21, v22);
            v11 = v21 + v22;
            if ( v10 )
              break;
          }
          v23 = v19 - 1;
          v24 = __CFADD__(v11, v11);
          v11 *= 2;
          if ( !v11 )
          {
            v25 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v26 = v10 + v25;
            v24 = __CFADD__(v10, v25) | __CFADD__(v25, v26);
            v11 = v25 + v26;
          }
        }
        v31 = 0;
        v10 = v19 < 3;
        v32 = v19 - 3;
        if ( v10 )
        {
          v35 = __CFADD__(v11, v11);
          v11 *= 2;
          if ( !v11 )
          {
            v36 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v37 = v10 + v36;
            v35 = __CFADD__(v10, v36) | __CFADD__(v36, v37);
            v11 = v36 + v37;
          }
        }
        else
        {
          v33 = v32 << 8;
          LOBYTE(v33) = *(_BYTE *)v7;
          v7 = (int *)((char *)v7 + 1);
          v34 = ~v33;
          if ( !v34 )
          {
            v52 = v67;
            v53 = (char *)(v67 + 76800);
LABEL_39:
            v54 = *(_DWORD *)v53;
            if ( *(_DWORD *)v53 )
            {
              v55 = (int *)((char *)v52 + *((_DWORD *)v53 + 1));
              v53 += 8;
              v56 = ((int (__fastcall *)(int, char *, int, int, char *, int, int, int *, unsigned int, int, int))v52[79379])(
                      v31,
                      a2,
                      (int)v52 + v54 + 317436,
                      v68,
                      v69,
                      v70,
                      v71,
                      v72,
                      v73,
                      v74,
                      v75);
              while ( 1 )
              {
                v57 = *v53++;
                if ( !v57 )
                  goto LABEL_39;
                v58 = v53;
                v66 = v53;
                v59 = v57 - 1;
                do
                {
                  if ( !v58 )
                    break;
                  v20 = *v53++ == (char)v59;
                  --v58;
                }
                while ( !v20 );
                v60 = ((int (__cdecl *)(int, char *))v52[79380])(v56, v66);
                if ( !v60 )
                  break;
                *v55++ = v60;
              }
              v54 = ((int (*)(void))v52[79384])();
            }
            v61 = (void (__fastcall *)(int, char *, int *, int, int, int *))v52[79381];
            v62 = v52 - 1024;
            v64 = v54;
            v61(v31, a2, v52 - 1024, 4096, 4, &v64);
            *((_BYTE *)v62 + 543) &= ~0x80u;
            *((_BYTE *)v62 + 583) &= ~0x80u;
            ((void (__cdecl *)(int *, int, int, int *))v61)(v52 - 1024, 4096, v63[0], v63);
            do
              v64 = 0;
            while ( &v64 != &v65 - 32 );
            JUMPOUT(0x415FE9);
          }
          v35 = v34 & 1;
          a5 = v34 >> 1;
        }
        if ( v35 )
          goto LABEL_15;
        v31 = 1;
        v38 = __CFADD__(v11, v11);
        v11 *= 2;
        if ( !v11 )
        {
          v39 = *v7;
          v10 = (unsigned int)v7++ < 0xFFFFFFFC;
          v40 = v10 + v39;
          v38 = __CFADD__(v10, v39) | __CFADD__(v39, v40);
          v11 = v39 + v40;
        }
        if ( v38 )
        {
LABEL_15:
          v27 = __CFADD__(v11, v11);
          v11 *= 2;
          if ( !v11 )
          {
            v28 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v29 = v10 + v28;
            v27 = __CFADD__(v10, v28) | __CFADD__(v28, v29);
            v11 = v28 + v29;
          }
          v30 = v31 + v27 + v31;
        }
        else
        {
          while ( 1 )
          {
            v41 = __CFADD__(v11, v11);
            v42 = 2 * v11;
            if ( !v42 )
            {
              v43 = *v7;
              v10 = (unsigned int)v7++ < 0xFFFFFFFC;
              v44 = v10 + v43;
              v41 = __CFADD__(v10, v43) | __CFADD__(v43, v44);
              v42 = v43 + v44;
            }
            v31 += v41 + v31;
            v10 = __CFADD__(v42, v42);
            v45 = 2 * v42 == 0;
            v11 = 2 * v42;
            if ( v10 )
            {
              if ( !v45 )
                break;
              v46 = *v7;
              v10 = (unsigned int)v7++ < 0xFFFFFFFC;
              v47 = v10 + v46;
              v10 = __CFADD__(v10, v46) | __CFADD__(v46, v47);
              v11 = v46 + v47;
              if ( v10 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v48 = (a5 < 0xFFFFFB00) + v30 + 2;
        a2 = (char *)v8 + a5;
        if ( a5 <= 0xFFFFFFFC )
        {
          do
          {
            v50 = *(_DWORD *)a2;
            a2 += 4;
            *v8++ = v50;
            v51 = v48 <= 4;
            v48 -= 4;
          }
          while ( !v51 );
          v8 = (int *)((char *)v8 + v48);
        }
        else
        {
          do
          {
            v49 = *a2++;
            *(_BYTE *)v8 = v49;
            v8 = (int *)((char *)v8 + 1);
            --v48;
          }
          while ( v48 );
        }
      }
      v10 = __CFADD__(v11, v11);
      v11 *= 2;
    }
    while ( v11 );
  }
}
// 44D620: positive sp value 50 has been found
// 44D620: control flows out of bounds to 415FE9
// 44D5B7: variable 'v31' is possibly undefined
// 44D5B7: variable 'a2' is possibly undefined
// 419000: using guessed type int dword_419000[321];
// 44D4B0: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
