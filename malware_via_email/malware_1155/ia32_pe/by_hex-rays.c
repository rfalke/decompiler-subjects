/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

int nullsub_1(); // weak
// void __usercall start(int a1@<ecx>, int a2@<ebx>);
// void __stdcall __noreturn ExitThread(DWORD dwExitCode);

//-------------------------------------------------------------------------
// Data declarations

char byte_4010B7 = '\0'; // weak


//----- (004010E2) --------------------------------------------------------
void __usercall start(int a1@<ecx>, int a2@<ebx>)
{
  _DWORD **v2; // eax
  _DWORD *v3; // ecx
  char *v4; // edi
  int *v5; // esi
  int v6; // edi
  int v7; // eax
  int v8; // [esp-8h] [ebp-8h] BYREF
  int v9; // [esp-4h] [ebp-4h]
  int *retaddr; // [esp+0h] [ebp+0h] BYREF

  LOWORD(a1) = a1 + 119;
  if ( (unsigned __int8)(-38 - *((_BYTE *)retaddr + 7)) != 74 )
  {
    v9 = a1;
    v8 = -1427463409;
    ExitThread((DWORD)retaddr + 7);
  }
  HIWORD(v2) = 18;
  LOWORD(v2) = (unsigned __int16)&retaddr;
  v3 = *v2;
  v4 = &byte_4010B7;
  do
  {
    v3 = (_DWORD *)((char *)v3 + 1);
    v4 = (char *)(a2 ^ (unsigned int)&v4[a2]);
  }
  while ( *v3 != *(_DWORD *)(&byte_4010B7 + 38) );
  v5 = retaddr;
  v6 = (int)nullsub_1 + 378584269;
  do
  {
    v7 = *v5;
    v5 = (int *)((char *)v5 + 1);
    v6 >>= 30;
  }
  while ( *(_DWORD *)((char *)nullsub_1 + 9) != v7 );
  v9 = *((unsigned __int16 *)v3 - 1) + 4176981;
  v8 = (int)NtCurrentTeb()->NtTib.ExceptionList;
  __writefsdword(0, (unsigned int)&v8);
  __asm { retn }
}
// 401020: using guessed type int nullsub_1();
// 4010B7: using guessed type char byte_4010B7;

// nfuncs=2 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
