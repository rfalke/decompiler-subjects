// subject_data.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

Eq_2 g_t405000 = // 00405000
	{
		&g_t4050
	};
Eq_2 g_t405004 = // 00405004
	{
		&g_t5400
	};
Eq_2320 g_a405008[] = // 00405008
	{
	};
Eq_2 g_t4090CC = // 004090CC
	{
		null
	};
word32 g_dw4090D0 = 0x00; // 004090D0
word32 g_dw4090D4 = 0x00; // 004090D4
Eq_2 g_t4090D8 = // 004090D8
	{
		null
	};
ptr32 g_ptr4090DC = 0x00; // 004090DC
word32 g_dw4090E0 = 0x00; // 004090E0
Eq_2 g_t4090E4 = // 004090E4
	{
		null
	};
word32 g_dw4090E8 = 0x00; // 004090E8
struct Eq_844 * g_ptr4090EC = null; // 004090EC
<anonymous> * g_ptr4090F0 = null; // 004090F0
// subject_text.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

<anonymous> * __imp__RegOpenKeyA = &g_t244A; // 00401000
<anonymous> * __imp__COMCTL32.dll_17 = &g_t80000011; // 00401008
<anonymous> * __imp__LoadLibraryA = &g_t23CA; // 00401010
<anonymous> * __imp__CreateFileMappingA = &g_t23DA; // 00401014
<anonymous> * __imp__GetProcAddress = &g_t23B8; // 00401018
<anonymous> * __imp__HeapAlloc = &g_t2400; // 0040101C
<anonymous> * __imp__GetProcessHeap = &g_t240C; // 00401020
<anonymous> * __imp__GetModuleHandleA = &g_t23A4; // 00401024
<anonymous> * __imp__CreateFileA = &g_t2396; // 00401028
<anonymous> * __imp__VirtualAlloc = &g_t23F0; // 0040102C
<anonymous> * __imp__GetCommandLineA = &g_t2384; // 00401030
<anonymous> * __imp__DialogBoxParamA = &g_t242C; // 00401038
// 00401040: void fn00401040(Stack Eq_2 dwArg04, Stack Eq_2 dwArg08, Stack Eq_2 dwArg0C)
// Called from:
//      fn00401610
//      fn00402000
void fn00401040(Eq_2 dwArg04, Eq_2 dwArg08, Eq_2 dwArg0C)
{
	GetCommandLineA();
	Eq_2 dwLoc08_34;
	for (dwLoc08_34 = 0x00; dwLoc08_34 < dwArg0C; ++dwLoc08_34)
		Mem27[dwArg04 + dwLoc08_34:byte] = Mem14[dwArg08 + dwLoc08_34:byte];
}

// 00401140: Register Eq_2 Win32CrtStartup()
Eq_2 Win32CrtStartup()
{
	ptr32 fp;
	word32 ebx;
	word32 esi;
	word32 edi;
	struct Eq_22 * fs;
	Eq_23 tLoc18;
	Eq_2 dwArg04;
	COMCTL32.dll!Ordinal_17();
	esp_19->tFFFFFFFC.u0 = 0x00;
	Eq_2 eax_27 = GetModuleHandleA(esp_19->tFFFFFFFC.u1);
	esp_19->tFFFFFFFC.u0 = (DLGPROC) &tLoc18;
	esp_19->tFFFFFFF8.u0 = 0x00409058;
	esp_19->tFFFFFFF4.u0 = 0x80000002;
	if (RegOpenKeyA(esp_19->tFFFFFFF4.u0, esp_19->tFFFFFFF8.u1, esp_19->tFFFFFFFC.u1) == 0x00)
	{
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		if ((dwArg04 & 0xFFFF) != 0x00)
			g_dw4090E8 = 0x00;
		else
			g_dw4090E8 = 0x01;
		if (g_dw4090E8 != 0x00)
			g_t4090D8.u0 = (DLGPROC) dwArg04;
		Eq_2 edx_210 = g_t405000.u0;
		Eq_2 ecx_213 = g_t405004.u0;
		Eq_2 dwLoc08_479;
		for (dwLoc08_479 = 0x00; dwLoc08_479 < edx_210; dwLoc08_479 += 0x08)
			Mem424[dwLoc08_479 + 0x00405008:word32] = Mem217[dwLoc08_479 + 0x00405008:word32] ^ 1222211;
		esp_19->tFFFFFFFC.u0 = (DLGPROC) ecx_213;
		fn00401FD0(esp_19->tFFFFFFFC.u0);
		g_t4090E4.u0 = (DLGPROC) dwLoc08_479;
		esp_19->tFFFFFFFC.u0 = (DLGPROC) edx_210;
		esp_19->tFFFFFFF8.u0 = g_t4090E4.u0;
		esp_19->tFFFFFFF4.u0 = 0x00405008;
		fn00402180(esp_19->tFFFFFFF4.u0, esp_19->tFFFFFFF8.u0, esp_19->tFFFFFFFC.u0);
		g_dw4090D4 = edi;
		g_dw4090D0 = esi;
		g_dw4090E0 = ebx;
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		esp_19->tFFFFFFFC.u0 = 0x00;
		GetModuleHandleA(esp_19->tFFFFFFFC.u1);
		g_ptr4090EC = fs->ptr0018;
		g_ptr4090DC = fp - 4;
		if (g_dw4090E8 != 0x00)
		{
			esp_19->tFFFFFFFC.u0 = (DLGPROC) dwArg04;
			esp_19->tFFFFFFF8.u0 = (DLGPROC) (0x004015B0 - dwArg04);
			fn00402000(esp_19->tFFFFFFF8.u0, esp_19->tFFFFFFFC.u0);
		}
		else
		{
			esp_19->tFFFFFFFC.u0 = (DLGPROC) eax_27;
			esp_19->tFFFFFFF8.u0 = (DLGPROC) (0x004015B0 - eax_27);
			fn00402000(esp_19->tFFFFFFF8.u0, esp_19->tFFFFFFFC.u0);
		}
		esp_19->tFFFFFFFC.u0 = g_t4090E4.u0;
		fn00401610(esp_19->tFFFFFFFC.u0);
		Eq_2 eax_412;
		g_ptr4090F0();
		return eax_412;
	}
	else
	{
		esp_19->tFFFFFFFC.u0 = 0x00;
		esp_19->tFFFFFFF8.u0 = 0x004010C0;
		esp_19->tFFFFFFF4.u0 = 0x00;
		esp_19->tFFFFFFF0.u0 = 1000;
		esp_19->tFFFFFFEC.u0 = (DLGPROC) eax_27;
		DialogBoxParamA(esp_19->tFFFFFFEC.u1, esp_19->tFFFFFFF0.u1, esp_19->tFFFFFFF4.u0, esp_19->tFFFFFFF8.u0, esp_19->tFFFFFFFC.u0);
		return 0x00;
	}
}

// 004015F0: void fn004015F0(Stack Eq_2 dwArg04, Stack Eq_2 dwArg08)
// Called from:
//      fn00401610
void fn004015F0(Eq_2 dwArg04, Eq_2 dwArg08)
{
	GetProcAddress(dwArg04, dwArg08);
}

// 00401610: void fn00401610(Stack Eq_2 dwArg04)
// Called from:
//      Win32CrtStartup
void fn00401610(Eq_2 dwArg04)
{
	ptr32 fp;
	Eq_919 eax_20 = GetProcAddress(GetModuleHandleA(0x00409080), 0x00409070);
	word32 edx_27 = dwArg04 + Mem24[dwArg04 + 60:word32];
	struct Eq_938 * dwLoc28_1004 = &edx_27->w0014 + 2 + (word32) edx_27->w0014 / 84;
	Eq_2 eax_44 = VirtualAlloc(0x00, edx_27->t0050.u0, 0x3000, 0x40);
	if (eax_44 == 0x00)
		return;
	Eq_919 eax_57 = GetProcAddress(GetModuleHandleA(0x0040909C), 0x00409090);
	fn00401040(eax_44, dwArg04, (word32) dwArg04.u2[0x0F].dw003C + 252 + (word32) edx_27->w0006 *s 0x28);
	up32 dwLoc0C_1006;
	for (dwLoc0C_1006 = 0x00; dwLoc0C_1006 < (word32) edx_27->w0006; ++dwLoc0C_1006)
	{
		if (dwLoc28_1004->dw0014 != 0x00 && dwLoc28_1004->dw0010 != 0x00)
			fn00401040(eax_44 + Mem806[dwLoc28_1004 + 0x0C:word32], dwArg04 + Mem801[dwLoc28_1004 + 20:word32], CONVERT(CONVERT(Mem85[dwLoc28_1004 + 16:word32] - 1 + Mem85[edx_27 + 60:word32], word32, uint64) /u Mem85[edx_27 + 60:word32], word32, uint32) *s Mem85[edx_27 + 60:word32]);
		++dwLoc28_1004;
	}
	word32 ecx_94 = eax_44 + Mem91[eax_44 + 60:word32];
	Eq_1001 eax_111 = CreateFileMappingA((void *) ~0x00, null, 0x04, 0x00, ecx_94.u0->t0050.u0, 0x00);
	if (eax_111 == null)
		return;
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	word32 dwLoc4C_900 = eax_44 + Mem113[ecx_94 + 0x80:word32];
	while (dwLoc4C_900.u0[4] != 0x00)
	{
		Eq_1601 dwLoc34_1081;
		Eq_1602 dwLoc24_1071;
		word32 eax_673 = LoadLibraryA(eax_44 + Mem299[dwLoc4C_900 + 0x0C:word32]);
		if (dwLoc4C_900.u1->t0000.u0 != 0x00)
		{
			dwLoc24_1071 = eax_44 + Mem675[dwLoc4C_900 + 0x00:word32];
			dwLoc34_1081 = eax_44 + Mem691[dwLoc4C_900 + 16:word32];
		}
		else
		{
			dwLoc24_1071 = eax_44 + Mem675[dwLoc4C_900 + 16:word32];
			dwLoc34_1081 = eax_44 + Mem682[dwLoc4C_900 + 0x00:word32];
		}
		word32 dwLoc18_977 = 0x00;
		if (dwLoc4C_900.u0[4] != 0x00 && ((dwLoc4C_900.u1)->t0000).u0 != 0x00)
			dwLoc18_977 = 0x01;
		while (dwLoc24_1071.u1->t0000.u0 != 0x00)
		{
			if ((dwLoc24_1071.u1->t0000.u0 & 0x80000000) != 0x00)
			{
				ui32 eax_738 = dwLoc24_1071.u1->t0000.u0;
				fn004015F0(eax_673, eax_738 & 0x7FFFFFFF);
				dwLoc24_1071.u1->t0000.u0 = eax_738 & 0x7FFFFFFF;
			}
			else
			{
				word32 eax_725 = Mem707[dwLoc24_1071 + 0x00:word32] + 2 + eax_44;
				fn004015F0(eax_673, eax_725);
				dwLoc24_1071.u1->t0000.u0 = (struct Eq_2378 *) eax_725;
			}
			if (dwLoc24_1071.u1->t0000.u0 == 0x00)
				return;
			if (dwLoc18_977 != 0x00)
				dwLoc34_1081.u1->t0000.u0 = dwLoc24_1071.u1->t0000.u0;
			dwLoc24_1071 += 0x04;
			dwLoc34_1081 += 0x04;
		}
		dwLoc4C_900 += 0x14;
	}
	if (g_dw4090E8 != 0x00)
	{
		word32 edx_307 = g_t4090D8.u0 - ((ecx_94.u0)->t0034).u0;
		if (ecx_94.u0->dw00A4 != 0x00)
		{
			word32 dwLoc20_905 = eax_44 + Mem308[ecx_94 + 0xA0:word32];
			while (dwLoc20_905.u0[1] != 0x00)
			{
				uint32 edx_621 = dwLoc20_905.u0[1] - 0x08 >> 0x01;
				word32 dwLoc44_960 = dwLoc20_905 + 0x08;
				uint32 dwLoc0C_961;
				for (dwLoc0C_961 = 0x00; dwLoc0C_961 < edx_621; ++dwLoc0C_961)
				{
					if ((word32) *((word32) dwLoc44_960 + dwLoc0C_961 * 0x02) >> 0x0C == 0x03)
						Mem661[eax_44 + Mem629[dwLoc20_905 + 0x00:word32] + (CONVERT(dwLoc44_960[dwLoc0C_961 * 0x02], word16, word32) & 0x0FFF):word32] = Mem629[eax_44 + Mem629[dwLoc20_905 + 0x00:word32] + (CONVERT(dwLoc44_960[dwLoc0C_961 * 0x02], word16, word32) & 0x0FFF):word32] + edx_307;
				}
				dwLoc20_905 += Mem629[dwLoc20_905 + 4:word32];
			}
		}
	}
	Eq_919 eax_333 = GetProcAddress(GetModuleHandleA(0x004090BC), 0x004090AC);
	if (g_dw4090E8 != 0x00)
		g_t4090CC.u0 = (DLGPROC) eax_333();
	else
		g_t4090CC.u0 = (DLGPROC) eax_333();
	struct Eq_1803 * esp_396 = fp - 0x68;
	if (g_t4090CC.u0 == 0x00)
	{
		ptr32 esp_401;
		if (g_dw4090E8 != 0x00)
		{
			esp_401 = fp - 0x6C;
			if (eax_20() == 0x00)
			{
				esp_401 = fp - 0x78;
				if (eax_57() == 0x00)
					return;
			}
		}
		else
		{
			esp_401 = fp - 0x6C;
			if (eax_20() == 0x00)
			{
				esp_401 = fp - 0x78;
				if (eax_57() == 0x00)
					return;
			}
		}
		if (g_dw4090E8 != 0x00)
		{
			struct Eq_1940 * esp_498 = esp_401 - 4;
			esp_498->t0000.u0 = g_t4090D8.u0;
			esp_498->dwFFFFFFFC = 0x00;
			esp_498->dwFFFFFFF8 = 0x00;
			esp_498->dwFFFFFFF4 = 0x00;
			esp_498->dwFFFFFFF0 = 0x22;
			esp_498->tFFFFFFEC = eax_111;
			g_t4090CC.u0 = (DLGPROC) eax_333();
		}
		else
		{
			struct Eq_1910 * esp_473 = esp_401 - 4;
			esp_473->t0000.u0 = ecx_94.u0->t0034.u0;
			esp_473->dwFFFFFFFC = 0x00;
			esp_473->dwFFFFFFF8 = 0x00;
			esp_473->dwFFFFFFF4 = 0x00;
			esp_473->dwFFFFFFF0 = 0x22;
			esp_473->tFFFFFFEC = eax_111;
			g_t4090CC.u0 = (DLGPROC) eax_333();
		}
		esp_396 = esp_401 - 24;
		if (g_t4090CC.u0 == 0x00)
		{
			if (g_dw4090E8 == 0x00)
			{
				esp_396->tFFFFFFFC.u0 = 0x40;
				esp_396->tFFFFFFF8.u0 = 0x3000;
				esp_396->tFFFFFFF4.u0 = ecx_94.u0->t0050.u0;
				esp_396->tFFFFFFF0.u0 = ecx_94.u0->t0034.u0;
				g_t4090CC.u0 = (DLGPROC) VirtualAlloc(esp_396->tFFFFFFF0.u1, esp_396->tFFFFFFF4.u0, esp_396->tFFFFFFF8.u0, esp_396->tFFFFFFFC.u0);
			}
			else
			{
				esp_396->tFFFFFFFC.u0 = 0x40;
				esp_396->tFFFFFFF8.u0 = 0x3000;
				esp_396->tFFFFFFF4.u0 = ecx_94.u0->t0050.u0;
				esp_396->tFFFFFFF0.u0 = g_t4090D8.u0;
				g_t4090CC.u0 = (DLGPROC) VirtualAlloc(esp_396->tFFFFFFF0.u1, esp_396->tFFFFFFF4.u0, esp_396->tFFFFFFF8.u0, esp_396->tFFFFFFFC.u0);
			}
		}
	}
	struct Eq_1809 * esp_559 = esp_396 - 4;
	esp_559->t0000.u0 = ecx_94.u0->t0050.u0;
	esp_559->tFFFFFFFC.u0 = (DLGPROC) eax_44;
	esp_559->tFFFFFFF8.u0 = g_t4090CC.u0;
	fn00401040(esp_559->tFFFFFFF8.u0, esp_559->tFFFFFFFC.u0, esp_559->t0000.u0);
	if (g_dw4090E8 != 0x00)
	{
		Mem589[esp_559 + 0x00:word32] = Mem566[0x004090CC<p32>:word32] + Mem566[ecx_94 + 40:word32];
		esp_559->tFFFFFFFC.u0 = g_t4090D8.u0;
		fn00401F60(esp_559->tFFFFFFFC.u0, esp_559->t0000.u0);
	}
	else
	{
		esp_559->t0000.u0 = g_t4090CC.u0;
		fn00402150(esp_559->t0000.u0);
	}
	Mem609[0x004090F0<p32>:word32] = Mem604[0x004090CC<p32>:word32] + Mem604[ecx_94 + 40:word32];
	ecx_94.u0->ptr0028 = g_ptr4090F0;
}

// 00401F60: void fn00401F60(Stack Eq_2 dwArg04, Stack Eq_2 dwArg08)
// Called from:
//      fn00401610
void fn00401F60(Eq_2 dwArg04, Eq_2 dwArg08)
{
	struct Eq_2054 * ecx_15 = g_ptr4090EC->ptr0030->ptr000C->ptr000C;
	struct Eq_2054 * dwLoc0C_61 = ecx_15;
	while (dwLoc0C_61 != null)
	{
		if (dwLoc0C_61->t0018.u0 == dwArg04)
		{
			dwLoc0C_61->t001C.u0 = (DLGPROC) dwArg08;
			return;
		}
		struct Eq_2054 * eax_37 = dwLoc0C_61->ptr0000;
		dwLoc0C_61 = eax_37;
		if (eax_37 == ecx_15)
			return;
	}
}

// 00401FD0: void fn00401FD0(Stack Eq_2 dwArg04)
// Called from:
//      Win32CrtStartup
void fn00401FD0(Eq_2 dwArg04)
{
	HeapAlloc(GetProcessHeap(), 0x00, dwArg04);
}

// 00402000: void fn00402000(Stack Eq_2 dwArg04, Stack Eq_2 dwArg08)
// Called from:
//      Win32CrtStartup
void fn00402000(Eq_2 dwArg04, Eq_2 dwArg08)
{
	Eq_2 dwLoc20_156;
	if (g_dw4090E8 != 0x00)
		dwLoc20_156 = Mem11[0x004090D8<p32>:word32];
	else
		dwLoc20_156 = dwArg08;
	word32 eax_22 = dwLoc20_156 + Mem19[dwLoc20_156 + 60:word32];
	g_t4090CC.u0 = (DLGPROC) VirtualAlloc(0x00, eax_22->t0050.u0, 0x3000, 0x40);
	if (g_t4090CC.u0 == 0x00)
		return;
	fn00401040(g_t4090CC.u0, dwLoc20_156, eax_22->t0050.u0);
	int32 ecx_58 = g_t4090CC.u0 - dwLoc20_156;
	if (eax_22->dw00A4 != 0x00)
	{
		word32 dwLoc0C_168 = dwLoc20_156 + Mem59[eax_22 + 0xA0:word32];
		while (dwLoc0C_168->t0004.u0 != 0x00)
		{
			uint32 ecx_95 = dwLoc0C_168->t0004.u0 - 0x08 >> 0x01;
			word16 dwLoc1C_178[] = (char *) &dwLoc0C_168->t0004 + 4;
			uint32 dwLoc08_179;
			for (dwLoc08_179 = 0x00; dwLoc08_179 < ecx_95; ++dwLoc08_179)
			{
				if ((word32) dwLoc1C_178[dwLoc08_179] >> 0x0C == 0x03)
					Mem135[Mem103[0x004090CC<p32>:word32] + Mem103[dwLoc0C_168 + 0x00:word32] + (CONVERT(dwLoc1C_178[dwLoc08_179 * 0x02], word16, word32) & 0x0FFF):word32] = Mem103[Mem103[0x004090CC<p32>:word32] + Mem103[dwLoc0C_168 + 0x00:word32] + (CONVERT(dwLoc1C_178[dwLoc08_179 * 0x02], word16, word32) & 0x0FFF):word32] + ecx_58;
			}
			dwLoc0C_168 += dwLoc0C_168->t0004.u0 / 8;
		}
	}
	word32 edx_76 = dwArg04 + Mem74[0x004090CC<p32>:word32];
	edx_76();
}

// 00402150: void fn00402150(Stack Eq_2 dwArg04)
// Called from:
//      fn00401610
void fn00402150(Eq_2 dwArg04)
{
	g_ptr4090EC->ptr0030->t0008.u0 = (DLGPROC) dwArg04;
}

// 00402180: void fn00402180(Stack Eq_23 dwArg04, Stack Eq_2 dwArg08, Stack Eq_2 dwArg0C)
// Called from:
//      Win32CrtStartup
void fn00402180(Eq_23 dwArg04, Eq_2 dwArg08, Eq_2 dwArg0C)
{
	Eq_2206 tLoc20;
	Eq_2207 tLoc10;
	Eq_2 dwLoc0C_129 = 0x01;
	Eq_12 cl_12 = *dwArg04;
	int32 dwLoc18_132 = 0x00;
	do
	{
		byte al_19 = Mem16[dwArg04 + dwLoc0C_129:byte];
		++dwLoc0C_129;
		if ((word32) al_19 == (word32) cl_12)
		{
			if ((word32) *((word32) dwArg04 + ((word32) dwLoc0C_129 + 1)) == 0x00)
			{
				dwArg08.u5[dwLoc18_132] = (char) cl_12;
				++dwLoc18_132;
				dwLoc0C_129 += 0x02;
			}
			else
			{
				int32 eax_60 = fn00402280(&tLoc10, dwArg04.u0 + ((word32) dwLoc0C_129 + 1) / 4) + ((word32) dwLoc0C_129 + 1);
				dwLoc0C_129 = fn00402280(&tLoc20, dwArg04.u0 + eax_60 / 4) + eax_60;
				up32 dwLoc1C_147;
				for (dwLoc1C_147 = 0x00; dwLoc1C_147 < tLoc10; ++dwLoc1C_147)
				{
					dwArg08.u5[dwLoc18_132] = dwArg08.u5[dwLoc18_132 - tLoc20];
					++dwLoc18_132;
				}
			}
		}
		else
		{
			dwArg08.u5[dwLoc18_132] = al_19;
			++dwLoc18_132;
		}
	} while (dwLoc0C_129 < dwArg0C);
}

// 00402280: Register word32 fn00402280(Stack (ptr32 ui32) dwArg04, Stack (ptr32 byte) dwArg08)
// Called from:
//      fn00402180
word32 fn00402280(ui32 * dwArg04, byte * dwArg08)
{
	ui32 dwLoc08_44 = 0x00;
	word32 dwLoc10_45 = 0x00;
	do
	{
		ui32 ecx_15 = (word32) *dwArg08;
		ui32 ecx_25 = ecx_15 & 0x7F | dwLoc08_44 << 0x07;
		++dwArg08;
		dwLoc08_44 = ecx_25;
		++dwLoc10_45;
	} while ((ecx_15 & 0x80) != 0x00);
	*dwArg04 = ecx_25;
	return dwLoc10_45;
}

word32 g_dw402344 = 0x244A; // 00402344
word32 g_dw40234C = 0x80000011; // 0040234C
word32 g_dw402354 = 0x23CA; // 00402354
word32 g_dw402358 = 0x23DA; // 00402358
word32 g_dw40235C = 9144; // 0040235C
word32 g_dw402360 = 0x2400; // 00402360
word32 g_dw402364 = 9228; // 00402364
word32 g_dw402368 = 0x23A4; // 00402368
word32 g_dw40236C = 9110; // 0040236C
word32 g_dw402370 = 9200; // 00402370
word32 g_dw402374 = 9092; // 00402374
word32 g_dw40237C = 0x242C; // 0040237C
