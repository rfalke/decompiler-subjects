/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

_DWORD nullsub_1(); // weak
// unsigned int __usercall start@<eax>(int a1@<eax>, unsigned int a2@<edx>, char a3@<cl>, unsigned int a4@<ebx>, int a5@<esi>);


//----- (0040C42B) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
unsigned int __usercall start@<eax>(int a1@<eax>, unsigned int a2@<edx>, char a3@<cl>, unsigned int a4@<ebx>, int a5@<esi>)
{
  int v5; // ebx
  int v9; // ebx
  int v10; // eax
  unsigned int result; // eax
  int v19; // edi
  int v28; // ecx
  unsigned int v30; // ebx
  bool v31; // zf
  bool v35; // cf
  int *v36; // eax
  unsigned int v37; // eax
  int v38; // eax
  BOOL v39; // ett
  unsigned int v40; // edx
  int v41; // eax
  unsigned int v45; // edx
  int v46; // eax
  int v47; // ebx
  unsigned int v48; // edx
  int v50; // eax
  int v51; // eax
  int v56; // ebx
  unsigned int v57; // edx
  int v58; // ebx
  int v60; // ebx
  int v61; // edx
  int v63; // edx
  int v64; // ebx
  unsigned int v67; // edx
  int v68; // edi
  bool v72; // tt
  unsigned __int8 v73; // tt
  unsigned int v75; // eax

  v35 = a2 < a4;
  v48 = a2 - a4;
  BYTE1(a4) += v48 + v35;
  _EDI = -a4;
  v48 >>= 2;
  LOBYTE(a1) = ~(_BYTE)a1;
  v50 = __ROL4__(a1, a3 - 91);
  __asm { rcr     edi, 2 }
  v35 = __CFADD__(a5, v50);
  v51 = a5 + v50;
  LOBYTE(v48) = BYTE1(v51);
  _EDI *= 2;
  _ECX = v48;
  v48 >>= 4;
  LOBYTE(a4) = BYTE1(_ECX) & a4;
  LOBYTE(v51) = BYTE1(a4) + v35 + v51 - v48;
  LOBYTE(v48) = (char)v48 >> _ECX;
  v9 = a4 << 11;
  BYTE1(v51) = -BYTE1(v51);
  LOBYTE(_ECX) = _ECX - 1;
  v35 = __CFADD__(BYTE1(v51) != 0, v51);
  v10 = (BYTE1(v51) != 0) + v51;
  v35 |= __CFADD__(_EDI, v10);
  v10 += _EDI;
  __asm { rcr     cl, cl }
  v39 = v35;
  v35 = __CFADD__(v35, v10);
  v38 = v39 + v10;
  v35 |= __CFADD__(v48, v38);
  v38 += v48;
  _ECX = v38 + v35 + _ECX;
  ++_EDI;
  v40 = v48 - _EDI;
  BYTE1(v40) = -116;
  v35 = __CFSHL__(v38, _ECX);
  v41 = v38 << _ECX;
  LOBYTE(v41) = 19;
  _EDX = v9 + v35 + v40;
  __asm { rcl     dl, cl }
  _EAX = __ROR4__(v41, 6);
  __asm { rcl     eax, 8 }
  LOBYTE(_ECX) = __CFSHL__((unsigned __int16)(v9 - 1) >> 8, _ECX - 52)
               + _ECX
               - 52
               + 92
               - ((__CFADD__(__CFSHL__((unsigned __int16)(v9 - 1) >> 8, _ECX - 52), _ECX - 52) | __CFADD__(
                                                                                                   __CFSHL__(
                                                                                                     (unsigned __int16)(v9 - 1) >> 8,
                                                                                                     _ECX - 52)
                                                                                                 + _ECX
                                                                                                 - 52,
                                                                                                   92))
                - 59);
  _EDI = -_EDI;
  LOBYTE(_ECX) = (_BYTE)_ECX << _ECX;
  __asm
  {
    rcl     edx, cl
    rcl     edi, 18h
  }
  v35 = __CFSHR__(_EDI, 5);
  _EDI = _EDI >> 5;
  BYTE1(_EAX) -= v35 + 80;
  v28 = _ECX << _ECX;
  _EAX = __ROR4__(_EAX, v28);
  v30 = _EDI - 684580118;
  LOBYTE(_EDX) = _EDX + 111;
  v31 = _EDX + v28 == 0;
  _ECX = _EDX + v28;
  __asm { rcr     edx, 0Ch }
  if ( v31 || !v31 )
  {
    __asm { rcr     ah, cl }
    _ECX = __ROL4__(_ECX, 27);
    BYTE1(v30) -= BYTE1(_ECX);
    LOBYTE(_EDX) = BYTE1(_ECX) & ((_EDX + 48) ^ 0x28);
    v60 = (__PAIR64__(v30 - _EAX, v30) - (_EAX | 0xD73222EA00000000ui64)) >> 32;
    BYTE1(_EDX) = BYTE1(_ECX) ^ 0xC3;
    v61 = __ROR4__(_EDX, 12);
    __asm { rcl     edi, 0Eh }
    LOBYTE(v60) = _ECX;
    v35 = __CFSHL__(_EAX, _ECX);
    LOBYTE(_EAX) = (_BYTE)_EAX << _ECX;
    BYTE1(v60) = 71;
    LOBYTE(v61) = v61 - (v35 + BYTE1(_EAX));
    v63 = __ROL4__(v61, _ECX);
    v64 = v60 - v63;
    BYTE1(v63) += v64;
    __asm { rcr     edi, cl }
    _EAX = _EAX & 0xD73222EA;
    LOBYTE(_EAX) = _EAX ^ 0x98;
    LOBYTE(_ECX) = v63 ^ _ECX;
    LOBYTE(v63) = v63 - 48;
    LOBYTE(_ECX) = (char)_ECX >> _ECX;
    v56 = v64 - (__CFSHL__(v63, 2) + _ECX);
    _ECX >>= 15;
    v57 = (unsigned int)((4 * v63) << _ECX) >> 11;
    BYTE1(v56) = BYTE1(v57);
    BYTE1(v57) += _ECX;
    v5 = -v56;
    _ECX = __ROR4__(_ECX, _ECX);
    __asm { rcl     eax, cl }
    BYTE1(_ECX) = (BYTE1(_ECX) ^ 0x43) - _EAX;
    LOBYTE(v5) = (unsigned __int8)v5 >> _ECX;
    BYTE1(_EAX) |= 0x22u;
    v5 |= 0xD73222EA;
    LOBYTE(v57) = v57 & 0xB2;
    BYTE1(v5) -= BYTE1(_EAX);
    LOBYTE(_ECX) = _ECX & 0x8E;
    v67 = v57 << _ECX;
    v68 = (_EAX & (_EDI + 1)) << _ECX;
    _ECX = _ECX << _ECX;
    __asm { rcr     ecx, cl }
    --_ECX;
    v35 = __CFADD__(v67, _EAX);
    _EAX = v67 + _EAX;
    BYTE1(v67) -= v35 + 16;
    LOBYTE(v67) = (_BYTE)v67 << _ECX;
    v72 = __CFSHL__(_ECX, _ECX);
    LOBYTE(_ECX) = __ROL1__(_ECX, _ECX);
    LOBYTE(v5) = v72 + v5 - 72;
    SBYTE1(_ECX) >>= _ECX;
    v35 = (unsigned __int8)_ECX < 0x19u;
    LOBYTE(_ECX) = _ECX - 25;
    SBYTE1(_ECX) >>= _ECX;
    _EBX = v67 ^ (v67 + v35 + v5);
    --BYTE1(_EBX);
    _ECX = _ECX >> _ECX;
    BYTE1(_EAX) &= 0xBu;
    __asm { rcl     eax, 1Ah }
    _EDI = -4096 * (v68 - _EBX);
    BYTE1(_EBX) = __ROL1__(BYTE1(_EBX) & 0xBB, _ECX) + 1;
    BYTE1(_ECX) = (_EAX - BYTE1(_ECX)) | 0x1C;
    __asm { rcl     bh, cl }
    LOWORD(_EBX) = _EBX - _EAX;
    __asm { rcr     edi, 4 }
    BYTE1(_EAX) += ((unsigned __int8)_EBX < 0xB8u) + 31;
    LOBYTE(_EAX) = (unsigned __int8)_EAX >> _ECX;
    LOBYTE(_ECX) = BYTE1(_EAX) & _ECX;
    LOBYTE(_EBX) = _EBX - 51;
    __asm { rcr     bh, cl }
    v37 = _EAX >> _ECX;
    LOBYTE(v37) = _EBX ^ v37;
    LOBYTE(_ECX) = _ECX & 0xDA;
    BYTE1(_ECX) ^= _EBX;
    BYTE1(v37) = ((unsigned __int16)__ROL4__(v37, _ECX) >> 8) | 0x6F;
    LOBYTE(_ECX) = (unsigned __int8)_ECX >> _ECX;
    _ECX = (int)(_ECX - (__CFSHR__(BYTE1(v37), _ECX) + _EDI)) >> (_ECX - (__CFSHR__(BYTE1(v37), _ECX) + _EDI));
    __asm { rcr     edi, cl }
    JUMPOUT(0x40C4B8);
  }
  __asm { fbstp   tbyte ptr [edx-0Ah] }
  *(double *)(_EDX - 10) = _RT1;
  v35 = __CFADD__((_BYTE)_EAX, (_BYTE)_ECX);
  LOBYTE(_ECX) = _EAX + _ECX;
  if ( !_ECX )
    JUMPOUT(0x40C2DD);
  LOBYTE(_ECX) = _ECX - (v35 + 30);
  v36 = *(int **)(_EAX + 144);
  LOBYTE(_EDX) = BYTE1(_ECX) + _EDX;
  LOBYTE(v30) = 22 - _EDI;
  BYTE1(v30) = __ROL1__(BYTE1(v30), _ECX);
  _ESI = -684580118 - (_DWORD)v36;
  LOBYTE(_ECX) = ~(_BYTE)_ECX;
  _EDI = __ROR4__(_EDI, 8);
  __asm { rcr     edi, cl }
  v19 = __ROR4__(_EDI, _ECX);
  __asm { rcr     cl, cl }
  _EDI = __ROR4__(v19, 10);
  __asm { rcl     edi, 7 }
  v46 = *v36;
  v47 = __ROL4__(v30, 12);
  BYTE1(_EDX) = v46;
  BYTE1(_ECX) = (char)(BYTE1(_ECX) ^ 0x25) >> _ECX;
  BYTE1(v47) = __ROR1__(BYTE1(v47), _ECX) + 1;
  v58 = _EDX + v47;
  LOBYTE(v58) = BYTE1(v58) + __CFADD__((_BYTE)_EDX, 7) + v58;
  LOBYTE(_ECX) = (_ECX + 56) & 0x1A;
  --v58;
  _ECX = v46 | _ECX;
  _ESI >>= 5;
  v73 = __CFSHL__(v58, _ECX);
  LOBYTE(v58) = __ROL1__(v58, _ECX);
  __asm { rcr     ch, cl }
  v73 -= 8;
  LOBYTE(_ECX) = (BYTE1(v58) < v73) + _ECX - 28;
  BYTE1(v58) = (char)(BYTE1(v58) - v73) >> _ECX;
  _EDI = _EDI >> _ECX;
  __asm { rcl     esi, 1Ah }
  LOBYTE(_EDX) = __ROR1__(_EDX + 7, _ECX);
  v75 = *(_DWORD *)(v46 + 8) & 0xEEEEEEEE;
  _ESI = _ESI - v75;
  _EBX = v58 >> _ECX;
  __asm
  {
    rcr     ch, cl
    rcr     edx, cl
    rcl     edi, cl
    rcl     esi, cl
    rcr     bl, cl
  }
  BYTE1(_EBX) = __CFSHR__(_EDI, 19) + BYTE1(_EBX) - 4;
  BYTE1(_ECX) ^= 0xEu;
  __asm { rcl     cl, cl }
  result = v75 + 286331154;
  LOBYTE(_ECX) = __CFSHR__(_EBX, _ECX) + _ECX - 34;
  __asm { rcr     cl, cl }
  LOBYTE(_EDX) = _EDX + 1;
  v45 = __ROR4__(_EDX, _ECX);
  LOBYTE(v45) = (_BYTE)v45 << _ECX;
  if ( !result )
  {
    ++BYTE1(v45);
    LOBYTE(_ECX) = v45 >> 27;
    BYTE1(_ECX) -= 103;
    __asm
    {
      rcl     ecx, 1
      int     2Eh; DOS 2+ internal - EXECUTE COMMAND
    }
    if ( MEMORY[0xFFFFFFFF] == -1073741778 )
      JUMPOUT(0x40C518);
    result = __ROR4__(MEMORY[0xFFFFFFFF], 6);
  }
  return result;
}
// 40C87E: positive sp value 4 has been found
// 40C0EF: control flows out of bounds to 40C0F1
// 40C2D3: inconsistent fpu stack
// 40C319: control flows out of bounds to 40C31F
// 40C375: control flows out of bounds to 40C377
// 40C378: control flows out of bounds to 40C379
// 40C3EC: control flows out of bounds to 40C3ED
// 40C4DF: control flows out of bounds to 40C4E5
// 40C517: control flows out of bounds to 40C519
// 40C7A0: control flows out of bounds to 40C7A1
// 40C7EA: control flows out of bounds to 40C7F0
// 40C8FD: control flows out of bounds to 40C903
// 40C3A7: control flows out of bounds to 40C3A8
// 40C184: control flows out of bounds to 40C143
// 40C1DC: control flows out of bounds to 40C5BB
// 40C659: control flows out of bounds to 40C518
// 40C6C7: control flows out of bounds to 40C2D8
// 40C83F: control flows out of bounds to 40C4B8
// 40C856: control flows out of bounds to 40C926
// 40C898: control flows out of bounds to 40C77E
// 40C12E: control flows out of bounds to 40C68C
// 40C2D9: control flows out of bounds to 40C2DD
// 40C4D7: control flows out of bounds to 40C731
// 40C913: control flows out of bounds to 40C884
// 40C931: control flows out of bounds to 40C920
// 40BFA9: conditional instruction was optimized away because of 'eax.4!=0'
// 40C0E6: conditional instruction was optimized away because of 'esi.4!=0'
// 40C2A1: conditional instruction was optimized away because of 'bh.1!=0'
// 40C319: conditional instruction was optimized away because of 'cl.1!=0'
// 40C33D: conditional instruction was optimized away because of 'ecx.4!=0'
// 40C39D: conditional instruction was optimized away because of 'bl.1!=0'
// 40C3DE: conditional instruction was optimized away because of 'eax.4!=0'
// 40C3E6: conditional instruction was optimized away because of 'eax.4!=0'
// 40C4AE: conditional instruction was optimized away because of 'edi.4!=0'
// 40C50C: conditional instruction was optimized away because of 'esi.4!=0'
// 40C681: conditional instruction was optimized away because of 'al.1!=0'
// 40C774: conditional instruction was optimized away because of 'bl.1!=0'
// 40C7EA: conditional instruction was optimized away because of 'ch.1!=0'
// 40C81B: conditional instruction was optimized away because of 'dh.1!=0'
// 40C8D7: conditional instruction was optimized away because of 'ebx.4!=0'
// 40C049: using guessed type _DWORD nullsub_1();

// nfuncs=2 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
