/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

_DWORD sub_401045(); // weak
// void __usercall start(int a1@<ebx>, int a2@<esi>);
void sub_40109A();
void sub_4010E3();
// void __usercall sub_401124(int a1@<ebp>, int a2@<edi>);
_DWORD sub_4012A5(); // weak
_DWORD sub_401352(); // weak
_DWORD sub_40143F(); // weak
_DWORD sub_401497(); // weak


//----- (00401045) --------------------------------------------------------
#error "401039: cannot convert to microcode (funcsize=26)"

//----- (00401083) --------------------------------------------------------
void __usercall start(int a1@<ebx>, int a2@<esi>)
{
  _EBX = (a2 | (a2 + a1)) - 1;
  sub_40109A();
  __asm { rep xor ecx, ebx }
  JUMPOUT(0x40115F);
}
// 4013DC: control flows out of bounds to 40115F

//----- (0040109A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40109A()
{
  __asm { repne mov cx, cx }
  JUMPOUT(0x4010B0);
}
// 40107C: positive sp value 4 has been found
// 4010AF: control flows out of bounds to 4010B5
// 401081: control flows out of bounds to 401082
// 4010A7: control flows out of bounds to 4010B0

//----- (004010E3) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4010E3()
{
  void *v0; // [esp+2Ch] [ebp-4h]
  void *retaddr; // [esp+30h] [ebp+0h]

  *(&retaddr - 13) = v0;
  JUMPOUT(0x4012EA);
}
// 4010E7: positive sp value 4 has been found
// 401104: control flows out of bounds to 4010C1
// 4010F2: control flows out of bounds to 4012EA
// 401102: control flows out of bounds to 4010E1
// 4010FC: conditional instruction was optimized away because of 'ecx.4>=0'

//----- (00401124) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401124(int a1@<ebp>, int a2@<edi>)
{
  int v4; // ecx
  int v5; // [esp+18h] [ebp-8h]
  int v6; // [esp+1Ch] [ebp-4h]

  *(&v6 - 9) = v5;
  _EAX = ((int (__thiscall *)(int))sub_401497)(~a2);
  __asm
  {
    aam     0AAh ; 'ª'
    aaa
  }
  *(_DWORD *)(a1 + 33825892) &= v4;
  JUMPOUT(0x401147);
}
// 401140: positive sp value 8 has been found
// 401141: control flows out of bounds to 401147
// 401141: variable 'v4' is possibly undefined
// 401497: using guessed type _DWORD sub_401497();

//----- (004012A5) --------------------------------------------------------
#error "401297: cannot convert to microcode (funcsize=59)"

//----- (00401352) --------------------------------------------------------
#error "40123E: cannot convert to microcode (funcsize=50)"

//----- (0040143F) --------------------------------------------------------
#error "4011A6: call analysis failed (funcsize=48)"

//----- (00401497) --------------------------------------------------------
#error "40149A: cannot convert to microcode (funcsize=2)"

// nfuncs=9 queued=9 decompiled=9 lumina nreq=0 worse=0 better=0
#error "There were 5 decompilation failure(s) on 9 function(s)"
