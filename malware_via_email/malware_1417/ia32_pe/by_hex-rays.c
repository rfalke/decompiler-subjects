/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall sub_404449(__int16 _AL@<ax>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<edi>, int a6@<ebp>, int a7@<esi>, double a8@<st7>, double a9@<st6>, double a10@<st5>, double a11@<st4>, double a12@<st3>, double a13@<st2>, double a14@<st1>, double a15@<st0>, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
// void __userpurge sub_404464(__int16 a1@<ax>, int _EDX@<edx>, int _ECX@<ecx>, unsigned int _EBX@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>, double a8@<st7>, double a9@<st6>, double a10@<st5>, double a11@<st4>, double a12@<st3>, double a13@<st2>, double a14@<st1>, double a15@<st0>, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
// void __usercall sub_4044FB(__int16 a1@<ax>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<ebp>, int a6@<esi>, double a7@<st7>, double a8@<st6>, double a9@<st1>, double a10@<st0>, double a11@<st3>, double a12@<st2>, double a13@<st5>, double a14@<st4>);
// double __userpurge sub_40452A@<st0>(unsigned int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebx>, int a5@<edi>, _BYTE *a6@<esi>, double a7@<st7>, double a8@<st6>, double a9@<st1>, double result@<st0>, int ebp0@<ebp>, double st4_0@<st3>, double st5_0@<st2>, double st2_0@<st5>, double st3_0@<st4>, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58);
void sub_40456C();
void sub_4045B4();
double sub_4045C5(); // weak
// void __userpurge sub_40471D(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
// double __usercall sub_40476E@<st0>(char a1@<cf>, __int16 a2@<dx>, char _CL@<cl>, unsigned int _EBX@<ebx>, int a5@<ebp>, unsigned int a6@<edi>, int a7@<esi>, double a8@<st7>, double a9@<st6>, double result@<st0>, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
void sub_404785();
// void __usercall sub_4048A1(char _AH@<ah>, int _EBX@<ebx>, int a3@<edi>);
// int __usercall sub_4048CE@<eax>(__int16 a1@<ax>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<ebp>, int a6@<esi>, double a7@<st7>, double a8@<st6>, double a9@<st1>, double a10@<st0>, double a11@<st3>, double a12@<st2>, double a13@<st5>, double a14@<st4>);
// int __usercall sub_4048E3@<eax>(__int16 a1@<ax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebx>, int _EBP@<ebp>, int a6@<esi>, double a7@<st7>, double a8@<st6>, double a9@<st1>, double a10@<st0>, double a11@<st3>, double a12@<st2>, double a13@<st5>, double a14@<st4>);
// void __userpurge start(char _CL@<cl>, char _BH@<bh>, int a3@<edi>, int a4@<esi>, double st0_0@<st7>, double st1_0@<st6>, double st2_0@<st5>, double st3_0@<st4>, double st4_0@<st3>, double st5_0@<st2>, double st6_0@<st1>, double st7_0@<st0>, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55);
// void __usercall sub_404A27(int _ECX@<ecx>, __int16 a2@<ax>, int a3@<edx>, unsigned int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>, double a8@<st7>, double a9@<st6>, double a10@<st5>, double a11@<st4>, double a12@<st3>, double a13@<st2>, double a14@<st1>, double a15@<st0>);
// void __usercall sub_404AE6(__int16 a1@<ax>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<ebp>, int a6@<esi>, double a7@<st7>, double a8@<st6>, double a9@<st1>, double a10@<st0>, double a11@<st3>, double a12@<st2>, double a13@<st5>, double a14@<st4>, int a15@<edi>);
// int __userpurge sub_405B32@<eax>(char a1@<al>, int a2@<ebx>, int a3@<esi>, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
void sub_405C50();
// void __usercall sub_405CAF(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, _DWORD *a4@<edi>, double a5@<st0>);
// void __usercall sub_405D00(char a1@<ah>, int _EDX@<edx>, int _ECX@<ecx>, int a4@<ebx>, int a5@<edi>, char *a6@<esi>);
// __int64 __usercall sub_405DBD@<edx:eax>(char a1@<cl>, int _EBX@<ebx>);
// __int64 __usercall sub_405DCC@<edx:eax>(__int16 a1@<dx>, __int16 a2@<bx>);
// void __usercall sub_405DE0(__int16 _AX@<ax>, int a2@<edx>, int _ECX@<ecx>, int a4@<ebx>, int a5@<edi>, int a6@<esi>);
// void __usercall sub_405E22(bool a1@<cf>, unsigned __int16 a2@<ax>, int a3@<edx>, int _ECX@<ecx>, int _EBX@<ebx>, int a6@<edi>);
// void __usercall sub_405EF1(char a1@<cf>, char a2@<al>, int _EDX@<edx>, int a4@<ecx>, char a5@<bh>, int a6@<edi>);
// void __usercall sub_405FB8(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, _DWORD *a4@<edi>, double a5@<st0>);
// void __usercall sub_40605E(__int16 a1@<cx>, int a2@<ebx>, int _EDI@<edi>, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
// void __userpurge sub_4060A7(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62);
// int __userpurge sub_406145@<eax>(int a1@<eax>, int _EDX@<edx>, int _ECX@<ecx>, unsigned __int8 a4@<bh>, int _EDI@<edi>, __int16 a6@<si>, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
// void __usercall sub_406194(unsigned int a1@<edx>, int a2@<ecx>, int a3@<edi>, int a4@<esi>);
// double __userpurge sub_40622F@<st0>(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, _DWORD *a4@<edi>, double a5@<st0>, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
double sub_406280(); // weak
// void __userpurge sub_4062B0(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
// void __usercall sub_4062CE(bool a1@<cf>, unsigned __int16 a2@<ax>, int a3@<edx>, int _ECX@<ecx>, int a5@<ebx>, int a6@<edi>, _BYTE *_ESI@<esi>);

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN loc_40462B; // weak
_UNKNOWN loc_4047A2; // weak
_UNKNOWN loc_4047FA; // weak
_UNKNOWN sub_404838; // weak
_UNKNOWN loc_404910; // weak
_UNKNOWN loc_404923; // weak
_UNKNOWN loc_404A0E; // weak
_UNKNOWN sub_405B99; // weak
_UNKNOWN sub_405C64; // weak
_UNKNOWN loc_405E6A; // weak
_UNKNOWN loc_405FE4; // weak
_UNKNOWN loc_406360; // weak


//----- (00404449) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_404449(__int16 _AL@<ax>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<edi>, int a6@<ebp>, int a7@<esi>, double a8@<st7>, double a9@<st6>, double a10@<st5>, double a11@<st4>, double a12@<st3>, double a13@<st2>, double a14@<st1>, double a15@<st0>, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  BYTE1(a2) -= 102;
  HIBYTE(a4) -= 35;
  if ( a3 != 1487348681 )
  {
    LOWORD(a3) = __ROR2__(a3, a3);
    BYTE1(a3) -= ((unsigned __int8)a4 < BYTE1(a3)) + 21;
    if ( a2 == 1607484656 )
    {
      BYTE1(a3) = ~BYTE1(a3);
      if ( a5 == -1033680732 )
        JUMPOUT(0x40499A);
      BYTE1(a3) = __ROL1__(BYTE1(a3), 11);
      ((void (__thiscall *)(int))loc_4047A2)(a3);
      JUMPOUT(0x404752);
    }
    _ECX = a3 >> a3;
    __asm { rcr     ecx, cl }
    JUMPOUT(0x404620);
  }
  __asm { repne test al, 7 }
  sub_404464(
    _AL,
    a2,
    a3,
    a4,
    a6,
    a5,
    a7,
    a8,
    a9,
    a10,
    a11,
    a12,
    a13,
    a14,
    a15,
    a16,
    a17,
    a18,
    a19,
    a20,
    a21,
    a22,
    a23,
    a24,
    a25,
    a26,
    a27,
    a28,
    a29,
    a30,
    a31,
    a32,
    a33,
    a34,
    a35,
    a36,
    a37,
    a38,
    a39,
    a40,
    a41,
    a42,
    a43,
    a44,
    a45,
    a46,
    a47,
    a48,
    a49,
    a50,
    a51,
    a52,
    a53,
    a54,
    a55,
    a56,
    a57,
    a58,
    a59,
    a60,
    a61,
    a62,
    a63);
}
// 40473A: positive sp value 8 has been found
// 40461D: control flows out of bounds to 404620
// 404750: control flows out of bounds to 404752
// 404998: control flows out of bounds to 40499A

//----- (00404464) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __userpurge sub_404464(__int16 a1@<ax>, int _EDX@<edx>, int _ECX@<ecx>, unsigned int _EBX@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>, double a8@<st7>, double a9@<st6>, double a10@<st5>, double a11@<st4>, double a12@<st3>, double a13@<st2>, double a14@<st1>, double a15@<st0>, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  LOBYTE(_EBX) = BYTE1(_ECX);
  __asm { rcr     bx, cl }
  BYTE1(_EDX) = 0;
  BYTE1(_ECX) = __ROL1__(BYTE1(_ECX), 5);
  _ECX = __ROL4__(_ECX, 15);
  if ( _EBX == 1253322414 )
  {
    *(_BYTE *)(a5 + 131056097) = __ROL1__(*(_BYTE *)(a5 + 131056097), 1);
    BYTE1(_ECX) = __ROR1__(BYTE1(_ECX), _ECX);
    LOBYTE(_EBX) = 0;
    __asm { into }
    *(_BYTE *)(a6 & 0x6B518C5C) &= sub_4048E3(
                                     a1,
                                     _EDX ^ 0xB69640F4,
                                     _ECX,
                                     _EBX,
                                     a5,
                                     a7,
                                     a8,
                                     a9,
                                     a14,
                                     a15,
                                     a12,
                                     a13,
                                     a10,
                                     a11);
    __asm { retn    8DE9h }
  }
  __asm
  {
    rcl     dh, cl
    rcr     ecx, 0Ch
  }
  if ( _ECX == -28539226 )
    JUMPOUT(0x43E80B67);
  JUMPOUT(0x40451A);
}
// 404468: positive sp value 4 has been found
// 404833: control flows out of bounds to 43E80B67
// 40482D: control flows out of bounds to 40451A
// 404464: too many input arguments, some ignored

//----- (004044FB) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4044FB(__int16 a1@<ax>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<ebp>, int a6@<esi>, double a7@<st7>, double a8@<st6>, double a9@<st1>, double a10@<st0>, double a11@<st3>, double a12@<st2>, double a13@<st5>, double a14@<st4>)
{
  char v15; // fl
  __int16 v16; // [esp-8h] [ebp-8h]

  _EAX = sub_4048CE(a1 & 0x3D1F, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14);
  BYTE1(_EAX) = v15;
  LOWORD(_EAX) = v16 | _EAX;
  _EAX |= 0xCAE4156B;
  __asm { rcl     ah, 0Ah }
  LOBYTE(_EAX) = 0;
  if ( _EAX == -1743443878 )
    __asm { iret }
  JUMPOUT(0x404890);
}
// 40451A: positive sp value C has been found
// 404893: control flows out of bounds to 404894
// 404889: control flows out of bounds to 404890
// 40488D: control flows out of bounds to 4048F5
// 40451E: variable 'v16' is possibly undefined

//----- (0040452A) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
double __userpurge sub_40452A@<st0>(unsigned int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebx>, int a5@<edi>, _BYTE *a6@<esi>, double a7@<st7>, double a8@<st6>, double a9@<st1>, double result@<st0>, int ebp0@<ebp>, double st4_0@<st3>, double st5_0@<st2>, double st2_0@<st5>, double st3_0@<st4>, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58)
{
  int v64; // esi
  int v65; // ecx
  __int16 v66; // ax
  int v67; // edx
  __int16 v68; // ax
  int v69; // ecx
  __int64 v70; // rax
  int v71; // ecx
  int v72; // ecx
  int v73; // ecx
  _BYTE *v74; // esi
  int v75; // ecx
  unsigned int v76; // eax
  bool v77; // zf
  unsigned int v79; // edi
  int v80; // eax
  unsigned __int8 v81; // al
  unsigned __int16 v82; // dx
  int v83; // esi
  int v84; // edx
  unsigned int v85; // ecx
  char v86; // pf
  bool v88; // cf
  int v90; // ecx
  int v91; // ecx
  int v93[11653]; // [esp-B616h] [ebp-B616h] BYREF

  while ( 1 )
  {
    LOBYTE(a4) = a4 - 81;
    if ( a4 == 677131876 )
      break;
    v67 = (unsigned int)a6 & a2;
    v68 = a1 & 0x90D1 ^ 0xA4FB;
    LOBYTE(v67) = HIBYTE(v68) + (v67 ^ 0xB4);
    sub_404AE6(v68, v67, a3, a4, ebp0, (int)a6, a7, a8, a9, result, st4_0, st5_0, st2_0, st3_0, a5);
    a3 = v69 - 1;
    if ( !a3 )
    {
      v70 = ((__int64 (__usercall *)@<edx:eax>(double@<st0>, double@<st1>, double@<st2>, double@<st3>, double@<st4>, double@<st5>, double@<st6>, double@<st7>))((char *)&loc_4047FA + 4))(
              result,
              a9,
              st5_0,
              st4_0,
              st3_0,
              st2_0,
              a8,
              a7);
      MEMORY[0x4905A4B5] = v70;
      sub_4044FB(v70, SHIDWORD(v70), v71, a4, ebp0, (int)a6, a7, a8, a9, result, st4_0, st5_0, st2_0, st3_0);
      return result;
    }
  }
  __outdword(0x2Au, a1);
  __outbyte(0xD2u, a1);
  v72 = a3 - 1;
  if ( (a2 & a5) != 0 && v72 )
    JUMPOUT(0x404502);
  v73 = v72 - 1;
  if ( !v73 )
  {
    if ( a5 != 1597589297 )
      JUMPOUT(0x4048FA);
    v73 = v93[0];
  }
  v93[0] = (int)a6;
  LOBYTE(a1) = *a6;
  v74 = a6 + 1;
  v75 = __ROL4__(v73, 6);
  v76 = a1 >> v75;
  LOWORD(v76) = v76 + 13924;
  v77 = v74 == (_BYTE *)1;
  _ESI = (int)(v74 - 1);
  if ( !v77 )
    JUMPOUT(0x40478C);
  v65 = v75 - a5;
  if ( a5 == -334083961 )
  {
    v83 = _ESI + 1;
    ((void (__cdecl *)(int))((char *)&loc_404923 + 1))(v93[0]);
    if ( v86 )
    {
      if ( v84 == 1250163517 )
        JUMPOUT(0x404659);
      JUMPOUT(0x4049AF);
    }
    _BH = 0;
    v88 = v85 < 0xC0146CBF;
    if ( v85 != -1072403265 )
    {
      __asm { rcl     bh, 13h }
      JUMPOUT(0x404AF5);
    }
    do
    {
      __debugbreak();
      *(double *)(v83 - 2132266339) = a8;
      _EAX = __indword(v84);
      __asm { aaa }
      v83 -= v88 - 1755320999;
      a8 = ((double (*)(void))sub_404838)();
      v91 = v90 - 1;
    }
    while ( !v77 && v91 );
  }
  else
  {
    LOBYTE(a4) = a4 - BYTE1(v76);
    BYTE1(a4) = __ROL1__(BYTE1(a4), v65);
    v79 = a5 << v65;
    v80 = ~v76;
    if ( a2 == -634946687 )
    {
      sub_40476E(
        1,
        60840,
        v65,
        a4,
        v80,
        v79,
        _ESI,
        a7,
        a8,
        result,
        v93[0],
        v93[1],
        v93[2],
        v93[3],
        v93[4],
        v93[5],
        v93[6],
        v93[7],
        v93[8],
        v93[9],
        v93[10],
        v93[11],
        v93[12],
        v93[13],
        v93[14],
        v93[15],
        v93[16],
        v93[17],
        v93[18],
        v93[19],
        v93[20],
        v93[21],
        v93[22],
        v93[23],
        v93[24],
        v93[25],
        v93[26],
        v93[27],
        v93[28],
        v93[29],
        v93[30],
        v93[31],
        v93[32],
        v93[33],
        v93[34],
        v93[35],
        v93[36],
        v93[37],
        v93[38],
        v93[39],
        v93[40],
        v93[41],
        v93[42],
        v93[43],
        v93[44],
        v93[45],
        v93[46],
        v93[47],
        v93[48],
        v93[49],
        v93[50],
        v93[51],
        v93[52]);
      __asm { outsd }
      __outbyte(v82, v81);
      if ( !__OFSUB__(v79, 1) )
        JUMPOUT(0x404987);
      sub_4045B4();
    }
    else
    {
      LOWORD(_ESI) = _ESI - 1;
      v64 = _ESI + 1;
      BYTE1(v65) = __ROR1__(BYTE1(v65), v65);
      HIBYTE(v66) = 0;
      LOBYTE(a4) = a4 - v65;
      if ( v79 != 806407443 )
        JUMPOUT(0x40468A);
      LOBYTE(v66) = __inbyte(0xE9u);
      sub_404449(
        v66,
        a2,
        v65,
        a4,
        806407443,
        ebp0,
        v64 - (_DWORD)v93,
        a7,
        a8,
        st2_0,
        st3_0,
        st4_0,
        st5_0,
        a9,
        result,
        a11,
        a12,
        a13,
        a14,
        a15,
        a16,
        a17,
        a18,
        a19,
        a20,
        a21,
        a22,
        a23,
        a24,
        a25,
        a26,
        a27,
        a28,
        a29,
        a30,
        a31,
        a32,
        a33,
        a34,
        a35,
        a36,
        a37,
        a38,
        a39,
        a40,
        a41,
        a42,
        a43,
        a44,
        a45,
        a46,
        a47,
        a48,
        a49,
        a50,
        a51,
        a52,
        a53,
        a54,
        a55,
        a56,
        a57,
        a58);
    }
  }
  return result;
}
// 404698: positive sp value B61A has been found
// 4045EE: control flows out of bounds to 4048FA
// 404621: control flows out of bounds to 404987
// 404AE1: control flows out of bounds to 404AF5
// 40453F: control flows out of bounds to 404502
// 40443C: control flows out of bounds to 40468A
// 40463D: control flows out of bounds to 4049AF
// 404643: control flows out of bounds to 404659
// 404646: control flows out of bounds to 40478C
// 404693: bad sp value at call
// 40453B: variable 'a1' is possibly undefined
// 404539: variable 'a2' is possibly undefined
// 4044E4: variable 'v69' is possibly undefined
// 4044FA: variable 'v71' is possibly undefined
// 4045AF: variable 'v82' is possibly undefined
// 4045AF: variable 'v81' is possibly undefined
// 40463D: variable 'v84' is possibly undefined
// 40466B: variable 'v86' is possibly undefined
// 404678: variable 'v85' is possibly undefined
// 40468D: variable 'v88' is possibly undefined
// 404698: variable 'v90' is possibly undefined
// 404698: variable 'v77' is possibly undefined
// 40452A: too many input arguments, some ignored

//----- (0040456C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40456C()
{
  ((void (*)(void))((char *)&loc_404910 + 2))();
  JUMPOUT(0x404504);
}
// 404570: positive sp value 4 has been found
// 40457C: control flows out of bounds to 404504

//----- (004045B4) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4045B4()
{
  sub_404785();
  JUMPOUT(0x40484F);
}
// 4045B8: positive sp value 4 has been found
// 404422: control flows out of bounds to 40484F

//----- (004045C5) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4045C5()
{
  JUMPOUT(0x40453C);
}
// 4045C9: positive sp value 4 has been found
// 4045CC: control flows out of bounds to 40453C

//----- (0040471D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __userpurge sub_40471D(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  __asm { rcr     dl, 6 }
  JUMPOUT(0x4049F0);
}
// 404721: positive sp value 4 has been found
// 40472F: control flows out of bounds to 4049F0

//----- (0040476E) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
double __usercall sub_40476E@<st0>(char a1@<cf>, __int16 a2@<dx>, char _CL@<cl>, unsigned int _EBX@<ebx>, int a5@<ebp>, unsigned int a6@<edi>, int a7@<esi>, double a8@<st7>, double a9@<st6>, double result@<st0>, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  unsigned int v75; // edi
  int v77; // edx
  char v78; // al
  bool v79; // zf
  _BYTE *v80; // ecx
  int v81; // eax
  int v82; // ebp
  unsigned int v83; // eax
  unsigned __int16 v84; // dx
  _BYTE *v85; // ecx
  __int64 v86; // rax
  int v87; // ecx
  int v88; // eax
  int v89; // edx
  int v90; // et1
  unsigned int v91; // eax
  unsigned int v92; // et2
  unsigned int v93; // kr00_4
  _DWORD *v94; // ecx
  unsigned int v95; // [esp-B616h] [ebp-B616h]
  _BYTE v96[46610]; // [esp-B612h] [ebp-B612h] BYREF

  v75 = _EBX + (a6 < (unsigned int)a1 - 1786977506) + a6 - (a1 - 1786977506);
  _DX = a2 + 1;
  __asm
  {
    rcl     bx, cl
    rcr     dx, cl
  }
  if ( v75 == -502462936 )
  {
    __asm { insb }
    __writeeflags(v95);
    sub_40471D(
      a11,
      a12,
      a13,
      a14,
      a15,
      a16,
      a17,
      a18,
      a19,
      a20,
      a21,
      a22,
      a23,
      a24,
      a25,
      a26,
      a27,
      a28,
      a29,
      a30,
      a31,
      a32,
      a33,
      a34,
      a35,
      a36,
      a37,
      a38,
      a39,
      a40,
      a41,
      a42,
      a43,
      a44,
      a45,
      a46,
      a47,
      a48,
      a49,
      a50,
      a51,
      a52,
      a53,
      a54,
      a55,
      a56,
      a57,
      a58,
      a59,
      a60,
      a61,
      a62,
      a63,
      a64,
      a65,
      a66,
      a67,
      a68,
      a69,
      a70,
      a71,
      a72,
      a73);
  }
  else
  {
    sub_40456C();
    MEMORY[0x3875ECB9]();
    if ( *(_WORD *)(v77 - 2) == 11981 )
    {
      sub_405C50();
      if ( v79 )
        JUMPOUT(0x404B35);
      __asm { icebp }
      LOBYTE(v84) = v95;
      v81 = MEMORY[0x9235E5A4] - 555543609;
      *(_DWORD *)(a7 - 1830912454) &= v75;
      v82 = a5 + 1;
      v83 = v81 - 1249209819;
      *(_BYTE *)v83 &= BYTE1(v83);
      *v80 &= BYTE1(_EBX);
      HIBYTE(v84) = 29;
      v79 = ((unsigned int)v96 & *(_DWORD *)v80) == 0;
      *(_DWORD *)v80 &= (unsigned int)v96;
      v85 = v80 - 1;
      if ( !v79 || !v85 )
      {
        v86 = MEMORY[0x2025CA95](v85, v83 + 760389307);
        while ( 1 )
        {
          *(_DWORD *)(3 * HIDWORD(v86) + 0x20CE3919) &= _EBX;
          *(_BYTE *)v86 &= BYTE1(v86);
          *(_DWORD *)(_EBX - 119) = v86;
          v90 = v86;
          v88 = HIDWORD(v86);
          v89 = v90;
          ++v82;
          v91 = v88 + 1042399013;
          ++v75;
          while ( 1 )
          {
            *(_DWORD *)(v75 + 486095137) &= v75;
            *(_DWORD *)v87 &= (unsigned int)v96;
            BYTE1(v87) += *(_BYTE *)(v87 + 4 * a7);
            BYTE1(v91) = -25;
            v92 = v91;
            ++v82;
            LODWORD(v86) = v89 + 555345701;
            HIDWORD(v86) = v92 - 1;
            v93 = __readeflags();
            a9 = a9 + *(double *)&v96[v82 + 115];
            _EBX = v93;
            *(_BYTE *)(v87 + 8 * (v92 - 1) - 90) |= BYTE1(v93);
            __outdword(0xDu, v86);
            v79 = ((unsigned int)v96 & *(_DWORD *)v87) == 0;
            *(_DWORD *)v87-- &= (unsigned int)v96;
            if ( v79 )
            {
              if ( v87 )
                break;
            }
            ++a7;
            MEMORY[0x21254F00](v87);
            result = a8 - result;
            *v94 &= (unsigned int)v96;
            v87 = 1956434263;
            v89 = -1675550428;
            MEMORY[0x749CD157] &= (unsigned int)v96;
            v91 = v93;
            v75 += 6;
            if ( __SETP__(v75, 0) )
              JUMPOUT(0x404C40);
          }
        }
      }
      __outdword(v84, v83);
      LOBYTE(v83) = v83 | 0xCE;
      ((void (__fastcall *)(_BYTE *, unsigned int, int))((char *)&loc_404A0E + 3))(v85, v95 - v83, v82);
    }
    else
    {
      result = sub_4045C5();
      *(_BYTE *)v75 = v78;
    }
  }
  return result;
}
// 404B7E: positive sp value B61A has been found
// 404C3E: control flows out of bounds to 404C40
// 404B8A: control flows out of bounds to 404B35
// 404B79: bad sp value at call
// 40471C: variable 'v95' is possibly undefined
// 404A55: variable 'v77' is possibly undefined
// 404A66: variable 'v78' is possibly undefined
// 404B8A: variable 'v79' is possibly undefined
// 404BA9: variable 'v80' is possibly undefined
// 404BDA: variable 'v87' is possibly undefined
// 404C28: variable 'v94' is possibly undefined
// 40476E: too many input arguments, some ignored
// 4045C5: using guessed type double sub_4045C5();

//----- (00404785) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_404785()
{
  JUMPOUT(0x40465E);
}
// 404789: positive sp value 4 has been found
// 404797: control flows out of bounds to 40465E

//----- (00404838) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __userpurge sub_404838(char a1@<cf>, int a2@<edx>, char a3@<cl>, int a4@<edi>, int a5@<esi>, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  unsigned __int32 v67; // eax
  int v68; // esi

  BYTE1(a2) -= a1 - 125;
  if ( a2 == 1007912631 )
  {
    __asm { icebp }
    _EDI = a4 & 0x6F80561C;
    __asm { rcr     edi, 1Ah }
    if ( __ROR4__(_EDI, 1) == -1154248672 )
      JUMPOUT(0x404874);
    v68 = a5 - 513022283;
    _CL = __ROL1__(a3, a3);
    __asm { rcr     cl, cl }
    if ( __ROL4__(v68, 6) == -1909801837 )
    {
      v67 = __indword(0xADC0u);
      JUMPOUT(0x404A90);
    }
    JUMPOUT(0x404A55);
  }
  JUMPOUT(0x4049C8);
}
// 40483C: positive sp value 4 has been found
// 404873: control flows out of bounds to 404874
// 404A8E: control flows out of bounds to 404A90
// 404B53: control flows out of bounds to 404B54
// 404964: control flows out of bounds to 4049C8
// 404A8A: control flows out of bounds to 404A55
// 404B51: control flows out of bounds to 404AE0
// 404838: too many input arguments, some ignored

//----- (004048A1) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4048A1(char _AH@<ah>, int _EBX@<ebx>, int a3@<edi>)
{
  __asm
  {
    rcl     ebx, 8
    rcr     ah, 13h
  }
  if ( a3 == -1778951311 )
    JUMPOUT(0x4048C2);
  JUMPOUT(0x404670);
}
// 4046D0: positive sp value 4 has been found
// 4048BD: control flows out of bounds to 4048C2
// 404765: control flows out of bounds to 404670

//----- (004048CE) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_4048CE@<eax>(__int16 a1@<ax>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<ebp>, int a6@<esi>, double a7@<st7>, double a8@<st6>, double a9@<st1>, double a10@<st0>, double a11@<st3>, double a12@<st2>, double a13@<st5>, double a14@<st4>)
{
  HIBYTE(a4) = 127;
  if ( a2 != 1218340598 )
    JUMPOUT(0x404B15);
  return sub_4048E3(a1, 1218340598, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14);
}
// 4048D2: positive sp value 4 has been found
// 4048DA: control flows out of bounds to 404B15

//----- (004048E3) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_4048E3@<eax>(__int16 a1@<ax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebx>, int _EBP@<ebp>, int a6@<esi>, double a7@<st7>, double a8@<st6>, double a9@<st1>, double a10@<st0>, double a11@<st3>, double a12@<st2>, double a13@<st5>, double a14@<st4>)
{
  int v15; // eax
  int result; // eax
  _BYTE *v17; // esi
  int v22; // [esp-ED2Eh] [ebp-ED2Eh]
  int v23; // [esp-ED2Ah] [ebp-ED2Ah]
  int v24; // [esp-ED26h] [ebp-ED26h]
  int v25; // [esp-ED22h] [ebp-ED22h]
  int v26; // [esp-ED1Eh] [ebp-ED1Eh]
  int v27; // [esp-ED1Ah] [ebp-ED1Ah]
  int v28; // [esp-ED16h] [ebp-ED16h]
  int v29; // [esp-ED12h] [ebp-ED12h]
  int v30; // [esp-ED0Eh] [ebp-ED0Eh]
  int v31; // [esp-ED0Ah] [ebp-ED0Ah]
  int v32; // [esp-ED06h] [ebp-ED06h]
  int v33; // [esp-ED02h] [ebp-ED02h]
  int v34; // [esp-ECFEh] [ebp-ECFEh]
  int v35; // [esp-ECFAh] [ebp-ECFAh]
  int v36; // [esp-ECF6h] [ebp-ECF6h]
  int v37; // [esp-ECF2h] [ebp-ECF2h]
  int v38; // [esp-ECEEh] [ebp-ECEEh]
  int v39; // [esp-ECEAh] [ebp-ECEAh]
  int v40; // [esp-ECE6h] [ebp-ECE6h]
  int v41; // [esp-ECE2h] [ebp-ECE2h]
  int v42; // [esp-ECDEh] [ebp-ECDEh]
  int v43; // [esp-ECDAh] [ebp-ECDAh]
  int v44; // [esp-ECD6h] [ebp-ECD6h]
  int v45; // [esp-ECD2h] [ebp-ECD2h]
  int v46; // [esp-ECCEh] [ebp-ECCEh]
  int v47; // [esp-ECCAh] [ebp-ECCAh]
  int v48; // [esp-ECC6h] [ebp-ECC6h]
  int v49; // [esp-ECC2h] [ebp-ECC2h]
  int v50; // [esp-ECBEh] [ebp-ECBEh]
  int v51; // [esp-ECBAh] [ebp-ECBAh]
  int v52; // [esp-ECB6h] [ebp-ECB6h]
  int v53; // [esp-ECB2h] [ebp-ECB2h]
  int v54; // [esp-ECAEh] [ebp-ECAEh]
  int v55; // [esp-ECAAh] [ebp-ECAAh]
  int v56; // [esp-ECA6h] [ebp-ECA6h]
  int v57; // [esp-ECA2h] [ebp-ECA2h]
  int v58; // [esp-EC9Eh] [ebp-EC9Eh]
  int v59; // [esp-EC9Ah] [ebp-EC9Ah]
  int v60; // [esp-EC96h] [ebp-EC96h]
  int v61; // [esp-EC92h] [ebp-EC92h]
  int v62; // [esp-EC8Eh] [ebp-EC8Eh]
  int v63; // [esp-EC8Ah] [ebp-EC8Ah]
  int v64; // [esp-EC86h] [ebp-EC86h]
  int v65; // [esp-EC82h] [ebp-EC82h]
  int v66; // [esp-EC7Eh] [ebp-EC7Eh]
  int v67; // [esp-EC7Ah] [ebp-EC7Ah]
  int v68; // [esp-EC76h] [ebp-EC76h]
  int v69; // [esp-EC72h] [ebp-EC72h]

  HIBYTE(a1) = -46;
  sub_40452A(
    a1,
    a2,
    a3,
    a4,
    -2120660907,
    (_BYTE *)a6,
    a7,
    a8,
    a9,
    a10,
    _EBP,
    a11,
    a12,
    a13,
    a14,
    v22,
    v23,
    v24,
    v25,
    v26,
    v27,
    v28,
    v29,
    v30,
    v31,
    v32,
    v33,
    v34,
    v35,
    v36,
    v37,
    v38,
    v39,
    v40,
    v41,
    v42,
    v43,
    v44,
    v45,
    v46,
    v47,
    v48,
    v49,
    v50,
    v51,
    v52,
    v53,
    v54,
    v55,
    v56,
    v57,
    v58,
    v59,
    v60,
    v61,
    v62,
    v63,
    v64,
    v65,
    v66,
    v67,
    v68,
    v69);
  result = v15 - 1;
  v17 = (_BYTE *)__ROL4__(a6 >> _ECX, 2);
  if ( result == 2118156146 )
  {
    MEMORY[0x7E407F72] = *v17;
    __asm { repne sbb [ebp-3EFBDB9Ch], ecx }
    JUMPOUT(0x404917);
  }
  --BYTE1(result);
  return result;
}
// 4048F6: positive sp value ED32 has been found
// 404910: control flows out of bounds to 404917
// 4048F1: inconsistent fpu stack
// 4048F1: variable 'v22' is possibly undefined
// 4048F1: variable 'v23' is possibly undefined
// 4048F1: variable 'v24' is possibly undefined
// 4048F1: variable 'v25' is possibly undefined
// 4048F1: variable 'v26' is possibly undefined
// 4048F1: variable 'v27' is possibly undefined
// 4048F1: variable 'v28' is possibly undefined
// 4048F1: variable 'v29' is possibly undefined
// 4048F1: variable 'v30' is possibly undefined
// 4048F1: variable 'v31' is possibly undefined
// 4048F1: variable 'v32' is possibly undefined
// 4048F1: variable 'v33' is possibly undefined
// 4048F1: variable 'v34' is possibly undefined
// 4048F1: variable 'v35' is possibly undefined
// 4048F1: variable 'v36' is possibly undefined
// 4048F1: variable 'v37' is possibly undefined
// 4048F1: variable 'v38' is possibly undefined
// 4048F1: variable 'v39' is possibly undefined
// 4048F1: variable 'v40' is possibly undefined
// 4048F1: variable 'v41' is possibly undefined
// 4048F1: variable 'v42' is possibly undefined
// 4048F1: variable 'v43' is possibly undefined
// 4048F1: variable 'v44' is possibly undefined
// 4048F1: variable 'v45' is possibly undefined
// 4048F1: variable 'v46' is possibly undefined
// 4048F1: variable 'v47' is possibly undefined
// 4048F1: variable 'v48' is possibly undefined
// 4048F1: variable 'v49' is possibly undefined
// 4048F1: variable 'v50' is possibly undefined
// 4048F1: variable 'v51' is possibly undefined
// 4048F1: variable 'v52' is possibly undefined
// 4048F1: variable 'v53' is possibly undefined
// 4048F1: variable 'v54' is possibly undefined
// 4048F1: variable 'v55' is possibly undefined
// 4048F1: variable 'v56' is possibly undefined
// 4048F1: variable 'v57' is possibly undefined
// 4048F1: variable 'v58' is possibly undefined
// 4048F1: variable 'v59' is possibly undefined
// 4048F1: variable 'v60' is possibly undefined
// 4048F1: variable 'v61' is possibly undefined
// 4048F1: variable 'v62' is possibly undefined
// 4048F1: variable 'v63' is possibly undefined
// 4048F1: variable 'v64' is possibly undefined
// 4048F1: variable 'v65' is possibly undefined
// 4048F1: variable 'v66' is possibly undefined
// 4048F1: variable 'v67' is possibly undefined
// 4048F1: variable 'v68' is possibly undefined
// 4048F1: variable 'v69' is possibly undefined
// 4048F6: variable 'v15' is possibly undefined
// 4048FB: variable '_ECX' is possibly undefined

//----- (0040499B) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
void __userpurge start(char _CL@<cl>, char _BH@<bh>, int a3@<edi>, int a4@<esi>, double st0_0@<st7>, double st1_0@<st6>, double st2_0@<st5>, double st3_0@<st4>, double st4_0@<st3>, double st5_0@<st2>, double st6_0@<st1>, double st7_0@<st0>, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55)
{
  char v72; // zf
  unsigned __int8 v73; // al
  unsigned __int16 v74; // dx
  int v75; // ecx
  int v77; // ebp
  __int16 v79; // bx
  __int16 v80; // ax
  int v81; // ecx
  int v82; // edx
  int v83; // [esp-1A344h] [ebp-1A344h]
  int v84; // [esp-1A340h] [ebp-1A340h]
  int v85; // [esp-1A33Ch] [ebp-1A33Ch]
  int v86; // [esp-1A338h] [ebp-1A338h]
  int v87; // [esp-1A334h] [ebp-1A334h]
  int v88; // [esp-1A330h] [ebp-1A330h]
  int v89; // [esp-1A32Ch] [ebp-1A32Ch]
  int v90; // [esp-1A328h] [ebp-1A328h]
  int v91; // [esp-1A324h] [ebp-1A324h]
  int v92; // [esp-1A320h] [ebp-1A320h]
  int v93; // [esp-1A31Ch] [ebp-1A31Ch]
  int v94; // [esp-1A318h] [ebp-1A318h]
  int v95; // [esp-1A314h] [ebp-1A314h]
  int v96; // [esp-1A310h] [ebp-1A310h]
  int v97; // [esp-1A30Ch] [ebp-1A30Ch]
  int v98; // [esp-1A308h] [ebp-1A308h]
  int v99; // [esp-1A304h] [ebp-1A304h]
  int v100; // [esp-1A300h] [ebp-1A300h]
  int v101; // [esp-1A2FCh] [ebp-1A2FCh]
  int v102; // [esp-1A2F8h] [ebp-1A2F8h]
  int v103; // [esp-1A2F4h] [ebp-1A2F4h]
  int v104; // [esp-1A2F0h] [ebp-1A2F0h]
  int v105; // [esp-1A2ECh] [ebp-1A2ECh]
  int v106; // [esp-1A2E8h] [ebp-1A2E8h]
  int v107; // [esp-1A2E4h] [ebp-1A2E4h]
  int v108; // [esp-1A2E0h] [ebp-1A2E0h]
  int v109; // [esp-1A2DCh] [ebp-1A2DCh]
  int v110; // [esp-1A2D8h] [ebp-1A2D8h]
  int v111; // [esp-1A2D4h] [ebp-1A2D4h]
  int v112; // [esp-1A2D0h] [ebp-1A2D0h]
  int v113; // [esp-1A2CCh] [ebp-1A2CCh]
  int v114; // [esp-1A2C8h] [ebp-1A2C8h]
  int v115; // [esp-1A2C4h] [ebp-1A2C4h]
  int v116; // [esp-1A2C0h] [ebp-1A2C0h]
  int v117; // [esp-1A2BCh] [ebp-1A2BCh]
  int v118; // [esp-1A2B8h] [ebp-1A2B8h]
  int v119; // [esp-1A2B4h] [ebp-1A2B4h]
  int v120; // [esp-1A2B0h] [ebp-1A2B0h]
  int v121; // [esp-1A2ACh] [ebp-1A2ACh]
  int v122; // [esp-1A2A8h] [ebp-1A2A8h]
  int v123; // [esp-1A2A4h] [ebp-1A2A4h]
  int v124; // [esp-1A2A0h] [ebp-1A2A0h]
  int v125; // [esp-1A29Ch] [ebp-1A29Ch]
  int v126; // [esp-1A298h] [ebp-1A298h]
  int v127; // [esp-1A294h] [ebp-1A294h]
  int v128; // [esp-1A290h] [ebp-1A290h]
  int v129; // [esp-1A28Ch] [ebp-1A28Ch]
  int v130; // [esp-1A288h] [ebp-1A288h]
  int v131; // [esp-1A284h] [ebp-1A284h]
  int v132; // [esp-1A280h] [ebp-1A280h]
  int v133; // [esp-1A27Ch] [ebp-1A27Ch]
  int v134; // [esp-1A278h] [ebp-1A278h]
  int v135; // [esp-1A274h] [ebp-1A274h]
  int v136; // [esp-1A270h] [ebp-1A270h]
  int v137; // [esp-1A26Ch] [ebp-1A26Ch]
  int v138; // [esp-1A268h] [ebp-1A268h]
  int v139; // [esp-1A264h] [ebp-1A264h]
  int v140; // [esp-1A260h] [ebp-1A260h]
  int v141; // [esp-1A25Ch] [ebp-1A25Ch]
  int v142; // [esp-1A258h] [ebp-1A258h]
  int v143; // [esp-1A254h] [ebp-1A254h]
  int v144; // [esp-1A250h] [ebp-1A250h]
  int v145; // [esp-1A24Ch] [ebp-1A24Ch]
  int v146; // [esp-ED2Eh] [ebp-ED2Eh]
  char v147; // [esp-ED2Ah] [ebp-ED2Ah]
  char v148; // [esp-ED29h] [ebp-ED29h]
  int v149; // [esp-ED26h] [ebp-ED26h]
  int v151; // [esp-ED22h] [ebp-ED22h]
  int v152; // [esp-ED1Eh] [ebp-ED1Eh]
  int v153; // [esp-ED1Ah] [ebp-ED1Ah]
  int v154; // [esp-ED16h] [ebp-ED16h]
  int v155; // [esp-ED12h] [ebp-ED12h]
  int v156; // [esp-ED0Eh] [ebp-ED0Eh]
  int v157; // [esp-ED0Ah] [ebp-ED0Ah]
  int v158; // [esp-ED06h] [ebp-ED06h]
  int v159; // [esp-ED02h] [ebp-ED02h]
  int v160; // [esp-ECFEh] [ebp-ECFEh]
  int v161; // [esp-ECFAh] [ebp-ECFAh]
  int v162; // [esp-ECF6h] [ebp-ECF6h]
  int v163; // [esp-ECF2h] [ebp-ECF2h]
  int v164; // [esp-ECEEh] [ebp-ECEEh]
  int v165; // [esp-ECEAh] [ebp-ECEAh]
  int v166; // [esp-ECE6h] [ebp-ECE6h]
  int v167; // [esp-ECE2h] [ebp-ECE2h]
  int v168; // [esp-ECDEh] [ebp-ECDEh]
  int v169; // [esp-ECDAh] [ebp-ECDAh]
  int v170; // [esp-ECD6h] [ebp-ECD6h]
  int v171; // [esp-ECD2h] [ebp-ECD2h]
  int v172; // [esp-ECCEh] [ebp-ECCEh]
  int v173; // [esp-ECCAh] [ebp-ECCAh]
  int v174; // [esp-ECC6h] [ebp-ECC6h]
  int v175; // [esp-ECC2h] [ebp-ECC2h]
  int v176; // [esp-ECBEh] [ebp-ECBEh]
  int v177; // [esp-ECBAh] [ebp-ECBAh]
  int v178; // [esp-ECB6h] [ebp-ECB6h]
  int v179; // [esp-ECB2h] [ebp-ECB2h]
  int v180; // [esp-ECAEh] [ebp-ECAEh]
  int v181; // [esp-ECAAh] [ebp-ECAAh]
  int v182; // [esp-ECA6h] [ebp-ECA6h]
  int v183; // [esp-ECA2h] [ebp-ECA2h]
  int v184; // [esp-EC9Eh] [ebp-EC9Eh]
  int v185; // [esp-EC9Ah] [ebp-EC9Ah]
  int v186; // [esp-EC96h] [ebp-EC96h]
  int v187; // [esp-EC92h] [ebp-EC92h]
  int v188; // [esp-EC8Eh] [ebp-EC8Eh]
  int v189; // [esp-EC8Ah] [ebp-EC8Ah]
  int v190; // [esp-EC86h] [ebp-EC86h]
  int v191; // [esp-EC82h] [ebp-EC82h]
  int v192; // [esp-EC7Eh] [ebp-EC7Eh]
  int v193; // [esp-EC7Ah] [ebp-EC7Ah]
  int v194; // [esp-EC76h] [ebp-EC76h]
  int v195; // [esp-EC72h] [ebp-EC72h]
  int v196; // [esp-EC6Eh] [ebp-EC6Eh]
  int v197; // [esp-EC6Ah] [ebp-EC6Ah]

  LOWORD(a4) = (_WORD)a4 << _CL;
  __asm { rcr     cl, 0Ah }
  sub_40471D(
    v83,
    v84,
    v85,
    v86,
    v87,
    v88,
    v89,
    v90,
    v91,
    v92,
    v93,
    v94,
    v95,
    v96,
    v97,
    v98,
    v99,
    v100,
    v101,
    v102,
    v103,
    v104,
    v105,
    v106,
    v107,
    v108,
    v109,
    v110,
    v111,
    v112,
    v113,
    v114,
    v115,
    v116,
    v117,
    v118,
    v119,
    v120,
    v121,
    v122,
    v123,
    v124,
    v125,
    v126,
    v127,
    v128,
    v129,
    v130,
    v131,
    v132,
    v133,
    v134,
    v135,
    v136,
    v137,
    v138,
    v139,
    v140,
    v141,
    v142,
    v143,
    v144,
    v145);
  _ECX = v75 - 1;
  if ( !v72 || !_ECX )
  {
    v77 = v146;
    __outbyte(v74, v73);
    __asm { rcl     bh, cl }
    sub_4045B4();
    LOBYTE(v79) = v147;
    HIBYTE(v79) = -v148;
    BYTE1(v81) = 0;
    sub_404449(
      v80 | 0xC142,
      v82,
      v81,
      v79 - (__CFSHR__(a4, v81) + (_WORD)v82),
      a3,
      v77,
      a4 >> v81,
      st0_0,
      st1_0,
      st2_0,
      st3_0,
      st4_0,
      st5_0,
      st6_0,
      st7_0,
      v149,
      v151,
      v152,
      v153,
      v154,
      v155,
      v156,
      v157,
      v158,
      v159,
      v160,
      v161,
      v162,
      v163,
      v164,
      v165,
      v166,
      v167,
      v168,
      v169,
      v170,
      v171,
      v172,
      v173,
      v174,
      v175,
      v176,
      v177,
      v178,
      v179,
      v180,
      v181,
      v182,
      v183,
      v184,
      v185,
      v186,
      v187,
      v188,
      v189,
      v190,
      v191,
      v192,
      v193,
      v194,
      v195,
      v196,
      v197);
    __asm { retf    0B612h }
  }
  if ( v72 )
    JUMPOUT(0x404A14);
  ((void (*)(void))loc_40462B)();
  JUMPOUT(0x4046FC);
}
// 4046F8: positive sp value 1A344 has been found
// 404A0E: control flows out of bounds to 404A14
// 4046FB: control flows out of bounds to 4046FC
// 4046F3: bad sp value at call
// 4049A3: variable 'v83' is possibly undefined
// 4049A3: variable 'v84' is possibly undefined
// 4049A3: variable 'v85' is possibly undefined
// 4049A3: variable 'v86' is possibly undefined
// 4049A3: variable 'v87' is possibly undefined
// 4049A3: variable 'v88' is possibly undefined
// 4049A3: variable 'v89' is possibly undefined
// 4049A3: variable 'v90' is possibly undefined
// 4049A3: variable 'v91' is possibly undefined
// 4049A3: variable 'v92' is possibly undefined
// 4049A3: variable 'v93' is possibly undefined
// 4049A3: variable 'v94' is possibly undefined
// 4049A3: variable 'v95' is possibly undefined
// 4049A3: variable 'v96' is possibly undefined
// 4049A3: variable 'v97' is possibly undefined
// 4049A3: variable 'v98' is possibly undefined
// 4049A3: variable 'v99' is possibly undefined
// 4049A3: variable 'v100' is possibly undefined
// 4049A3: variable 'v101' is possibly undefined
// 4049A3: variable 'v102' is possibly undefined
// 4049A3: variable 'v103' is possibly undefined
// 4049A3: variable 'v104' is possibly undefined
// 4049A3: variable 'v105' is possibly undefined
// 4049A3: variable 'v106' is possibly undefined
// 4049A3: variable 'v107' is possibly undefined
// 4049A3: variable 'v108' is possibly undefined
// 4049A3: variable 'v109' is possibly undefined
// 4049A3: variable 'v110' is possibly undefined
// 4049A3: variable 'v111' is possibly undefined
// 4049A3: variable 'v112' is possibly undefined
// 4049A3: variable 'v113' is possibly undefined
// 4049A3: variable 'v114' is possibly undefined
// 4049A3: variable 'v115' is possibly undefined
// 4049A3: variable 'v116' is possibly undefined
// 4049A3: variable 'v117' is possibly undefined
// 4049A3: variable 'v118' is possibly undefined
// 4049A3: variable 'v119' is possibly undefined
// 4049A3: variable 'v120' is possibly undefined
// 4049A3: variable 'v121' is possibly undefined
// 4049A3: variable 'v122' is possibly undefined
// 4049A3: variable 'v123' is possibly undefined
// 4049A3: variable 'v124' is possibly undefined
// 4049A3: variable 'v125' is possibly undefined
// 4049A3: variable 'v126' is possibly undefined
// 4049A3: variable 'v127' is possibly undefined
// 4049A3: variable 'v128' is possibly undefined
// 4049A3: variable 'v129' is possibly undefined
// 4049A3: variable 'v130' is possibly undefined
// 4049A3: variable 'v131' is possibly undefined
// 4049A3: variable 'v132' is possibly undefined
// 4049A3: variable 'v133' is possibly undefined
// 4049A3: variable 'v134' is possibly undefined
// 4049A3: variable 'v135' is possibly undefined
// 4049A3: variable 'v136' is possibly undefined
// 4049A3: variable 'v137' is possibly undefined
// 4049A3: variable 'v138' is possibly undefined
// 4049A3: variable 'v139' is possibly undefined
// 4049A3: variable 'v140' is possibly undefined
// 4049A3: variable 'v141' is possibly undefined
// 4049A3: variable 'v142' is possibly undefined
// 4049A3: variable 'v143' is possibly undefined
// 4049A3: variable 'v144' is possibly undefined
// 4049A3: variable 'v145' is possibly undefined
// 4049A8: variable 'v75' is possibly undefined
// 4049A8: variable 'v72' is possibly undefined
// 4049AD: variable 'v146' is possibly undefined
// 4049AE: variable 'v74' is possibly undefined
// 4049AE: variable 'v73' is possibly undefined
// 4049C4: variable 'v147' is possibly undefined
// 4049CB: variable 'v148' is possibly undefined
// 4049C6: variable 'v80' is possibly undefined
// 4049D7: variable 'v82' is possibly undefined
// 4049D7: variable 'v81' is possibly undefined
// 4049D7: variable 'v149' is possibly undefined
// 4049D7: variable 'v151' is possibly undefined
// 4049D7: variable 'v152' is possibly undefined
// 4049D7: variable 'v153' is possibly undefined
// 4049D7: variable 'v154' is possibly undefined
// 4049D7: variable 'v155' is possibly undefined
// 4049D7: variable 'v156' is possibly undefined
// 4049D7: variable 'v157' is possibly undefined
// 4049D7: variable 'v158' is possibly undefined
// 4049D7: variable 'v159' is possibly undefined
// 4049D7: variable 'v160' is possibly undefined
// 4049D7: variable 'v161' is possibly undefined
// 4049D7: variable 'v162' is possibly undefined
// 4049D7: variable 'v163' is possibly undefined
// 4049D7: variable 'v164' is possibly undefined
// 4049D7: variable 'v165' is possibly undefined
// 4049D7: variable 'v166' is possibly undefined
// 4049D7: variable 'v167' is possibly undefined
// 4049D7: variable 'v168' is possibly undefined
// 4049D7: variable 'v169' is possibly undefined
// 4049D7: variable 'v170' is possibly undefined
// 4049D7: variable 'v171' is possibly undefined
// 4049D7: variable 'v172' is possibly undefined
// 4049D7: variable 'v173' is possibly undefined
// 4049D7: variable 'v174' is possibly undefined
// 4049D7: variable 'v175' is possibly undefined
// 4049D7: variable 'v176' is possibly undefined
// 4049D7: variable 'v177' is possibly undefined
// 4049D7: variable 'v178' is possibly undefined
// 4049D7: variable 'v179' is possibly undefined
// 4049D7: variable 'v180' is possibly undefined
// 4049D7: variable 'v181' is possibly undefined
// 4049D7: variable 'v182' is possibly undefined
// 4049D7: variable 'v183' is possibly undefined
// 4049D7: variable 'v184' is possibly undefined
// 4049D7: variable 'v185' is possibly undefined
// 4049D7: variable 'v186' is possibly undefined
// 4049D7: variable 'v187' is possibly undefined
// 4049D7: variable 'v188' is possibly undefined
// 4049D7: variable 'v189' is possibly undefined
// 4049D7: variable 'v190' is possibly undefined
// 4049D7: variable 'v191' is possibly undefined
// 4049D7: variable 'v192' is possibly undefined
// 4049D7: variable 'v193' is possibly undefined
// 4049D7: variable 'v194' is possibly undefined
// 4049D7: variable 'v195' is possibly undefined
// 4049D7: variable 'v196' is possibly undefined
// 4049D7: variable 'v197' is possibly undefined
// 40499B: too many input arguments, some ignored

//----- (00404A27) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_404A27(int _ECX@<ecx>, __int16 a2@<ax>, int a3@<edx>, unsigned int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>, double a8@<st7>, double a9@<st6>, double a10@<st5>, double a11@<st4>, double a12@<st3>, double a13@<st2>, double a14@<st1>, double a15@<st0>)
{
  int v17; // [esp-8DE9h] [ebp-8DE9h]
  int v18; // [esp-8DE5h] [ebp-8DE5h]
  int v19; // [esp-8DE1h] [ebp-8DE1h]
  int v20; // [esp-8DDDh] [ebp-8DDDh]
  int v21; // [esp-8DD9h] [ebp-8DD9h]
  int v22; // [esp-8DD5h] [ebp-8DD5h]
  int v23; // [esp-8DD1h] [ebp-8DD1h]
  int v24; // [esp-8DCDh] [ebp-8DCDh]
  int v25; // [esp-8DC9h] [ebp-8DC9h]
  int v26; // [esp-8DC5h] [ebp-8DC5h]
  int v27; // [esp-8DC1h] [ebp-8DC1h]
  int v28; // [esp-8DBDh] [ebp-8DBDh]
  int v29; // [esp-8DB9h] [ebp-8DB9h]
  int v30; // [esp-8DB5h] [ebp-8DB5h]
  int v31; // [esp-8DB1h] [ebp-8DB1h]
  int v32; // [esp-8DADh] [ebp-8DADh]
  int v33; // [esp-8DA9h] [ebp-8DA9h]
  int v34; // [esp-8DA5h] [ebp-8DA5h]
  int v35; // [esp-8DA1h] [ebp-8DA1h]
  int v36; // [esp-8D9Dh] [ebp-8D9Dh]
  int v37; // [esp-8D99h] [ebp-8D99h]
  int v38; // [esp-8D95h] [ebp-8D95h]
  int v39; // [esp-8D91h] [ebp-8D91h]
  int v40; // [esp-8D8Dh] [ebp-8D8Dh]
  int v41; // [esp-8D89h] [ebp-8D89h]
  int v42; // [esp-8D85h] [ebp-8D85h]
  int v43; // [esp-8D81h] [ebp-8D81h]
  int v44; // [esp-8D7Dh] [ebp-8D7Dh]
  int v45; // [esp-8D79h] [ebp-8D79h]
  int v46; // [esp-8D75h] [ebp-8D75h]
  int v47; // [esp-8D71h] [ebp-8D71h]
  int v48; // [esp-8D6Dh] [ebp-8D6Dh]
  int v49; // [esp-8D69h] [ebp-8D69h]
  int v50; // [esp-8D65h] [ebp-8D65h]
  int v51; // [esp-8D61h] [ebp-8D61h]
  int v52; // [esp-8D5Dh] [ebp-8D5Dh]
  int v53; // [esp-8D59h] [ebp-8D59h]
  int v54; // [esp-8D55h] [ebp-8D55h]
  int v55; // [esp-8D51h] [ebp-8D51h]
  int v56; // [esp-8D4Dh] [ebp-8D4Dh]
  int v57; // [esp-8D49h] [ebp-8D49h]
  int v58; // [esp-8D45h] [ebp-8D45h]
  int v59; // [esp-8D41h] [ebp-8D41h]
  int v60; // [esp-8D3Dh] [ebp-8D3Dh]
  int v61; // [esp-8D39h] [ebp-8D39h]
  int v62; // [esp-8D35h] [ebp-8D35h]
  int v63; // [esp-8D31h] [ebp-8D31h]
  int v64; // [esp-8D2Dh] [ebp-8D2Dh]

  __asm { rcr     cl, cl }
  LOBYTE(a2) = (char)a2 >> 7;
  BYTE1(a4) = __ROR1__(BYTE1(a4), 14);
  sub_404464(
    a2 - (__CFSHL__(a6, 11) + 29484),
    a3,
    _ECX >> 3,
    a4,
    a5,
    a6 << 11,
    a7,
    a8,
    a9,
    a10,
    a11,
    a12,
    a13,
    a14,
    a15,
    v17,
    v18,
    v19,
    v20,
    v21,
    v22,
    v23,
    v24,
    v25,
    v26,
    v27,
    v28,
    v29,
    v30,
    v31,
    v32,
    v33,
    v34,
    v35,
    v36,
    v37,
    v38,
    v39,
    v40,
    v41,
    v42,
    v43,
    v44,
    v45,
    v46,
    v47,
    v48,
    v49,
    v50,
    v51,
    v52,
    v53,
    v54,
    v55,
    v56,
    v57,
    v58,
    v59,
    v60,
    v61,
    v62,
    v63,
    v64);
  __asm { insd }
  JUMPOUT(0x404614);
}
// 404612: positive sp value 8DED has been found
// 404613: control flows out of bounds to 404614
// 40460D: variable 'v17' is possibly undefined
// 40460D: variable 'v18' is possibly undefined
// 40460D: variable 'v19' is possibly undefined
// 40460D: variable 'v20' is possibly undefined
// 40460D: variable 'v21' is possibly undefined
// 40460D: variable 'v22' is possibly undefined
// 40460D: variable 'v23' is possibly undefined
// 40460D: variable 'v24' is possibly undefined
// 40460D: variable 'v25' is possibly undefined
// 40460D: variable 'v26' is possibly undefined
// 40460D: variable 'v27' is possibly undefined
// 40460D: variable 'v28' is possibly undefined
// 40460D: variable 'v29' is possibly undefined
// 40460D: variable 'v30' is possibly undefined
// 40460D: variable 'v31' is possibly undefined
// 40460D: variable 'v32' is possibly undefined
// 40460D: variable 'v33' is possibly undefined
// 40460D: variable 'v34' is possibly undefined
// 40460D: variable 'v35' is possibly undefined
// 40460D: variable 'v36' is possibly undefined
// 40460D: variable 'v37' is possibly undefined
// 40460D: variable 'v38' is possibly undefined
// 40460D: variable 'v39' is possibly undefined
// 40460D: variable 'v40' is possibly undefined
// 40460D: variable 'v41' is possibly undefined
// 40460D: variable 'v42' is possibly undefined
// 40460D: variable 'v43' is possibly undefined
// 40460D: variable 'v44' is possibly undefined
// 40460D: variable 'v45' is possibly undefined
// 40460D: variable 'v46' is possibly undefined
// 40460D: variable 'v47' is possibly undefined
// 40460D: variable 'v48' is possibly undefined
// 40460D: variable 'v49' is possibly undefined
// 40460D: variable 'v50' is possibly undefined
// 40460D: variable 'v51' is possibly undefined
// 40460D: variable 'v52' is possibly undefined
// 40460D: variable 'v53' is possibly undefined
// 40460D: variable 'v54' is possibly undefined
// 40460D: variable 'v55' is possibly undefined
// 40460D: variable 'v56' is possibly undefined
// 40460D: variable 'v57' is possibly undefined
// 40460D: variable 'v58' is possibly undefined
// 40460D: variable 'v59' is possibly undefined
// 40460D: variable 'v60' is possibly undefined
// 40460D: variable 'v61' is possibly undefined
// 40460D: variable 'v62' is possibly undefined
// 40460D: variable 'v63' is possibly undefined
// 40460D: variable 'v64' is possibly undefined

//----- (00404AE6) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_404AE6(__int16 a1@<ax>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<ebp>, int a6@<esi>, double a7@<st7>, double a8@<st6>, double a9@<st1>, double a10@<st0>, double a11@<st3>, double a12@<st2>, double a13@<st5>, double a14@<st4>, int a15@<edi>)
{
  char v15; // cl
  int v16; // ecx
  int v17; // edx
  void *retaddr; // [esp+0h] [ebp+0h] BYREF

  LOWORD(a3) = a1 ^ a3;
  sub_4044FB(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14);
  LOBYTE(v16) = v15 - ((unsigned int)&retaddr & 0x8E924722);
  sub_404A27(
    v16,
    (unsigned int)&retaddr & 0x8E924722,
    v17,
    a4,
    a5,
    (a15 & 0x308B6DB1) << 8,
    a6,
    a7,
    a8,
    a13,
    a14,
    a11,
    a12,
    a9,
    a10);
  __asm { iret }
}
// 404AEA: positive sp value 4 has been found
// 404B16: control flows out of bounds to 404B17
// 404B04: variable 'v15' is possibly undefined
// 404B0C: variable 'v16' is possibly undefined
// 404B0C: variable 'v17' is possibly undefined

//----- (00405B32) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __userpurge sub_405B32@<eax>(char a1@<al>, int a2@<ebx>, int a3@<esi>, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  int result; // eax

  LOBYTE(result) = a1 - 27;
  if ( a2 != -1987573732 )
  {
    if ( a3 == 1496163411 )
    {
      MEMORY[0x648D935B] = a2;
      JUMPOUT(0x406079);
    }
    JUMPOUT(0x405FA8);
  }
  return result;
}
// 405B36: positive sp value 4 has been found
// 405E7B: control flows out of bounds to 406079
// 405E60: control flows out of bounds to 405FA8
// 405B32: too many input arguments, some ignored

//----- (00405B99) --------------------------------------------------------
#error "405FA7: cannot convert to microcode (funcsize=44)"

//----- (00405C50) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
void sub_405C50()
{
  ((void (*)(void))sub_405B99)();
  JUMPOUT(0x4060F1);
}
// 4060EC: positive sp value 2A03 has been found
// 4060EE: control flows out of bounds to 4060F1
// 4060E7: bad sp value at call

//----- (00405C64) --------------------------------------------------------
#error "405C64: stack frame is too big (funcsize=0)"

//----- (00405CAF) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_405CAF(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, _DWORD *a4@<edi>, double a5@<st0>)
{
  char v5; // pf
  int v6; // [esp-FDF9h] [ebp-FDF9h]
  int v7; // [esp-FDF5h] [ebp-FDF5h]
  int v8; // [esp-FDF1h] [ebp-FDF1h]
  int v9; // [esp-FDEDh] [ebp-FDEDh]
  int v10; // [esp-FDE9h] [ebp-FDE9h]
  int v11; // [esp-FDE5h] [ebp-FDE5h]
  int v12; // [esp-FDE1h] [ebp-FDE1h]
  int v13; // [esp-FDDDh] [ebp-FDDDh]
  int v14; // [esp-FDD9h] [ebp-FDD9h]
  int v15; // [esp-FDD5h] [ebp-FDD5h]
  int v16; // [esp-FDD1h] [ebp-FDD1h]
  int v17; // [esp-FDCDh] [ebp-FDCDh]
  int v18; // [esp-FDC9h] [ebp-FDC9h]
  int v19; // [esp-FDC5h] [ebp-FDC5h]
  int v20; // [esp-FDC1h] [ebp-FDC1h]
  int v21; // [esp-FDBDh] [ebp-FDBDh]
  int v22; // [esp-FDB9h] [ebp-FDB9h]
  int v23; // [esp-FDB5h] [ebp-FDB5h]
  int v24; // [esp-FDB1h] [ebp-FDB1h]
  int v25; // [esp-FDADh] [ebp-FDADh]
  int v26; // [esp-FDA9h] [ebp-FDA9h]
  int v27; // [esp-FDA5h] [ebp-FDA5h]
  int v28; // [esp-FDA1h] [ebp-FDA1h]
  int v29; // [esp-FD9Dh] [ebp-FD9Dh]
  int v30; // [esp-FD99h] [ebp-FD99h]
  int v31; // [esp-FD95h] [ebp-FD95h]
  int v32; // [esp-FD91h] [ebp-FD91h]
  int v33; // [esp-FD8Dh] [ebp-FD8Dh]
  int v34; // [esp-FD89h] [ebp-FD89h]
  int v35; // [esp-FD85h] [ebp-FD85h]
  int v36; // [esp-FD81h] [ebp-FD81h]
  int v37; // [esp-FD7Dh] [ebp-FD7Dh]
  int v38; // [esp-FD79h] [ebp-FD79h]
  int v39; // [esp-FD75h] [ebp-FD75h]
  int v40; // [esp-FD71h] [ebp-FD71h]
  int v41; // [esp-FD6Dh] [ebp-FD6Dh]
  int v42; // [esp-FD69h] [ebp-FD69h]
  int v43; // [esp-FD65h] [ebp-FD65h]
  int v44; // [esp-FD61h] [ebp-FD61h]
  int v45; // [esp-FD5Dh] [ebp-FD5Dh]
  int v46; // [esp-FD59h] [ebp-FD59h]
  int v47; // [esp-FD55h] [ebp-FD55h]
  int v48; // [esp-FD51h] [ebp-FD51h]
  int v49; // [esp-FD4Dh] [ebp-FD4Dh]
  int v50; // [esp-FD49h] [ebp-FD49h]
  int v51; // [esp-FD45h] [ebp-FD45h]
  int v52; // [esp-FD41h] [ebp-FD41h]
  int v53; // [esp-FD3Dh] [ebp-FD3Dh]
  int v54; // [esp-FD39h] [ebp-FD39h]
  int v55; // [esp-FD35h] [ebp-FD35h]
  int v56; // [esp-FD31h] [ebp-FD31h]
  int v57; // [esp-FD2Dh] [ebp-FD2Dh]
  int v58; // [esp-FD29h] [ebp-FD29h]
  int v59; // [esp-FD25h] [ebp-FD25h]
  int v60; // [esp-FD21h] [ebp-FD21h]
  int v61; // [esp-FD1Dh] [ebp-FD1Dh]
  int v62; // [esp-FD19h] [ebp-FD19h]
  int v63; // [esp-FD15h] [ebp-FD15h]

  sub_40622F(
    a1,
    a2,
    a3,
    a4,
    a5,
    v6,
    v7,
    v8,
    v9,
    v10,
    v11,
    v12,
    v13,
    v14,
    v15,
    v16,
    v17,
    v18,
    v19,
    v20,
    v21,
    v22,
    v23,
    v24,
    v25,
    v26,
    v27,
    v28,
    v29,
    v30,
    v31,
    v32,
    v33,
    v34,
    v35,
    v36,
    v37,
    v38,
    v39,
    v40,
    v41,
    v42,
    v43,
    v44,
    v45,
    v46,
    v47,
    v48,
    v49,
    v50,
    v51,
    v52,
    v53,
    v54,
    v55,
    v56,
    v57,
    v58,
    v59,
    v60,
    v61,
    v62,
    v63);
  if ( !v5 )
    JUMPOUT(0x405CC2);
  JUMPOUT(0x405CB0);
}
// 405CBE: positive sp value FDFD has been found
// 405CC0: control flows out of bounds to 405CC2
// 405CB9: inconsistent fpu stack
// 405CC0: control flows out of bounds to 405CB0
// 405CB9: variable 'v6' is possibly undefined
// 405CB9: variable 'v7' is possibly undefined
// 405CB9: variable 'v8' is possibly undefined
// 405CB9: variable 'v9' is possibly undefined
// 405CB9: variable 'v10' is possibly undefined
// 405CB9: variable 'v11' is possibly undefined
// 405CB9: variable 'v12' is possibly undefined
// 405CB9: variable 'v13' is possibly undefined
// 405CB9: variable 'v14' is possibly undefined
// 405CB9: variable 'v15' is possibly undefined
// 405CB9: variable 'v16' is possibly undefined
// 405CB9: variable 'v17' is possibly undefined
// 405CB9: variable 'v18' is possibly undefined
// 405CB9: variable 'v19' is possibly undefined
// 405CB9: variable 'v20' is possibly undefined
// 405CB9: variable 'v21' is possibly undefined
// 405CB9: variable 'v22' is possibly undefined
// 405CB9: variable 'v23' is possibly undefined
// 405CB9: variable 'v24' is possibly undefined
// 405CB9: variable 'v25' is possibly undefined
// 405CB9: variable 'v26' is possibly undefined
// 405CB9: variable 'v27' is possibly undefined
// 405CB9: variable 'v28' is possibly undefined
// 405CB9: variable 'v29' is possibly undefined
// 405CB9: variable 'v30' is possibly undefined
// 405CB9: variable 'v31' is possibly undefined
// 405CB9: variable 'v32' is possibly undefined
// 405CB9: variable 'v33' is possibly undefined
// 405CB9: variable 'v34' is possibly undefined
// 405CB9: variable 'v35' is possibly undefined
// 405CB9: variable 'v36' is possibly undefined
// 405CB9: variable 'v37' is possibly undefined
// 405CB9: variable 'v38' is possibly undefined
// 405CB9: variable 'v39' is possibly undefined
// 405CB9: variable 'v40' is possibly undefined
// 405CB9: variable 'v41' is possibly undefined
// 405CB9: variable 'v42' is possibly undefined
// 405CB9: variable 'v43' is possibly undefined
// 405CB9: variable 'v44' is possibly undefined
// 405CB9: variable 'v45' is possibly undefined
// 405CB9: variable 'v46' is possibly undefined
// 405CB9: variable 'v47' is possibly undefined
// 405CB9: variable 'v48' is possibly undefined
// 405CB9: variable 'v49' is possibly undefined
// 405CB9: variable 'v50' is possibly undefined
// 405CB9: variable 'v51' is possibly undefined
// 405CB9: variable 'v52' is possibly undefined
// 405CB9: variable 'v53' is possibly undefined
// 405CB9: variable 'v54' is possibly undefined
// 405CB9: variable 'v55' is possibly undefined
// 405CB9: variable 'v56' is possibly undefined
// 405CB9: variable 'v57' is possibly undefined
// 405CB9: variable 'v58' is possibly undefined
// 405CB9: variable 'v59' is possibly undefined
// 405CB9: variable 'v60' is possibly undefined
// 405CB9: variable 'v61' is possibly undefined
// 405CB9: variable 'v62' is possibly undefined
// 405CB9: variable 'v63' is possibly undefined
// 405CC0: variable 'v5' is possibly undefined

//----- (00405D00) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_405D00(char a1@<ah>, int _EDX@<edx>, int _ECX@<ecx>, int a4@<ebx>, int a5@<edi>, char *a6@<esi>)
{
  int v8; // ecx
  int v9; // edi

  __asm { rcr     dh, cl }
  _ECX = _ECX << 19;
  LOBYTE(_EDX) = (char)_EDX >> 7;
  __asm { rcl     ecx, cl }
  v8 = a5 & _ECX;
  LOBYTE(v8) = v8 - 1;
  v9 = a4 | a5;
  BYTE1(_EDX) += a1;
  if ( v8 == 2060245521 )
    JUMPOUT(0x4061CC);
  __asm { rcr     edx, 8 }
  LOBYTE(v8) = -116;
  LOWORD(v8) = v8 - 1;
  sub_405EF1(0, *a6, _EDX, v8, SBYTE1(a4), v9);
  JUMPOUT(0x406321);
}
// 405D04: positive sp value 4 has been found
// 4061CA: control flows out of bounds to 4061CC
// 406320: control flows out of bounds to 406321

//----- (00405DBD) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
__int64 __usercall sub_405DBD@<edx:eax>(char a1@<cl>, int _EBX@<ebx>)
{
  __int64 result; // rax

  BYTE1(_EBX) <<= a1;
  _AL = ((int (*)(void))loc_406360)();
  LOBYTE(_EBX) = 0;
  __asm { xlat }
  return sub_405DCC(SWORD2(result), _EBX);
}
// 405DC1: positive sp value 4 has been found
// 405DCB: variable 'result' is possibly undefined

//----- (00405DCC) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
__int64 __usercall sub_405DCC@<edx:eax>(__int16 a1@<dx>, __int16 a2@<bx>)
{
  __int64 result; // rax

  WORD2(result) = a2 & a1;
  return result;
}
// 405DD0: positive sp value 4 has been found

//----- (00405DE0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_405DE0(__int16 _AX@<ax>, int a2@<edx>, int _ECX@<ecx>, int a4@<ebx>, int a5@<edi>, int a6@<esi>)
{
  int v8; // [esp-29FFh] [ebp-29FFh]
  int v9; // [esp-29FBh] [ebp-29FBh]
  int v10; // [esp-29F7h] [ebp-29F7h]
  int v11; // [esp-29F3h] [ebp-29F3h]
  int v12; // [esp-29EFh] [ebp-29EFh]
  int v13; // [esp-29EBh] [ebp-29EBh]
  int v14; // [esp-29E7h] [ebp-29E7h]
  int v15; // [esp-29E3h] [ebp-29E3h]
  int v16; // [esp-29DFh] [ebp-29DFh]
  int v17; // [esp-29DBh] [ebp-29DBh]
  int v18; // [esp-29D7h] [ebp-29D7h]
  int v19; // [esp-29D3h] [ebp-29D3h]
  int v20; // [esp-29CFh] [ebp-29CFh]
  int v21; // [esp-29CBh] [ebp-29CBh]
  int v22; // [esp-29C7h] [ebp-29C7h]
  int v23; // [esp-29C3h] [ebp-29C3h]
  int v24; // [esp-29BFh] [ebp-29BFh]
  int v25; // [esp-29BBh] [ebp-29BBh]
  int v26; // [esp-29B7h] [ebp-29B7h]
  int v27; // [esp-29B3h] [ebp-29B3h]
  int v28; // [esp-29AFh] [ebp-29AFh]
  int v29; // [esp-29ABh] [ebp-29ABh]
  int v30; // [esp-29A7h] [ebp-29A7h]
  int v31; // [esp-29A3h] [ebp-29A3h]
  int v32; // [esp-299Fh] [ebp-299Fh]
  int v33; // [esp-299Bh] [ebp-299Bh]
  int v34; // [esp-2997h] [ebp-2997h]
  int v35; // [esp-2993h] [ebp-2993h]
  int v36; // [esp-298Fh] [ebp-298Fh]
  int v37; // [esp-298Bh] [ebp-298Bh]
  int v38; // [esp-2987h] [ebp-2987h]
  int v39; // [esp-2983h] [ebp-2983h]
  int v40; // [esp-297Fh] [ebp-297Fh]
  int v41; // [esp-297Bh] [ebp-297Bh]
  int v42; // [esp-2977h] [ebp-2977h]
  int v43; // [esp-2973h] [ebp-2973h]
  int v44; // [esp-296Fh] [ebp-296Fh]
  int v45; // [esp-296Bh] [ebp-296Bh]
  int v46; // [esp-2967h] [ebp-2967h]
  int v47; // [esp-2963h] [ebp-2963h]
  int v48; // [esp-295Fh] [ebp-295Fh]
  int v49; // [esp-295Bh] [ebp-295Bh]
  int v50; // [esp-2957h] [ebp-2957h]
  int v51; // [esp-2953h] [ebp-2953h]
  int v52; // [esp-294Fh] [ebp-294Fh]
  int v53; // [esp-294Bh] [ebp-294Bh]
  int v54; // [esp-2947h] [ebp-2947h]
  int v55; // [esp-2943h] [ebp-2943h]
  int v56; // [esp-293Fh] [ebp-293Fh]
  int v57; // [esp-293Bh] [ebp-293Bh]
  int v58; // [esp-2937h] [ebp-2937h]
  int v59; // [esp-2933h] [ebp-2933h]
  int v60; // [esp-292Fh] [ebp-292Fh]
  int v61; // [esp-292Bh] [ebp-292Bh]
  int v62; // [esp-2927h] [ebp-2927h]
  int v63; // [esp-2923h] [ebp-2923h]
  int v64; // [esp-291Fh] [ebp-291Fh]
  int v65; // [esp-291Bh] [ebp-291Bh]
  int v66; // [esp-2917h] [ebp-2917h]

  LOBYTE(_ECX) = __ROR1__(_ECX, _ECX);
  __asm { rcr     ah, cl }
  BYTE1(a2) &= _AX;
  __asm { rcr     ch, cl }
  ((void (__fastcall *)(int, int))sub_406280)(_ECX, a2);
  BYTE1(a4) ^= *(_BYTE *)(a4 + 8 * _EAX - 64);
  __asm { repne aas }
  sub_405B32(
    _EAX,
    a4,
    a6,
    a5,
    v8,
    v9,
    v10,
    v11,
    v12,
    v13,
    v14,
    v15,
    v16,
    v17,
    v18,
    v19,
    v20,
    v21,
    v22,
    v23,
    v24,
    v25,
    v26,
    v27,
    v28,
    v29,
    v30,
    v31,
    v32,
    v33,
    v34,
    v35,
    v36,
    v37,
    v38,
    v39,
    v40,
    v41,
    v42,
    v43,
    v44,
    v45,
    v46,
    v47,
    v48,
    v49,
    v50,
    v51,
    v52,
    v53,
    v54,
    v55,
    v56,
    v57,
    v58,
    v59,
    v60,
    v61,
    v62,
    v63,
    v64,
    v65,
    v66);
  JUMPOUT(0x405E38);
}
// 405E0D: positive sp value 2A03 has been found
// 405E0D: control flows out of bounds to 405E38
// 405DF4: variable '_EAX' is possibly undefined
// 405E08: variable 'v8' is possibly undefined
// 405E08: variable 'v9' is possibly undefined
// 405E08: variable 'v10' is possibly undefined
// 405E08: variable 'v11' is possibly undefined
// 405E08: variable 'v12' is possibly undefined
// 405E08: variable 'v13' is possibly undefined
// 405E08: variable 'v14' is possibly undefined
// 405E08: variable 'v15' is possibly undefined
// 405E08: variable 'v16' is possibly undefined
// 405E08: variable 'v17' is possibly undefined
// 405E08: variable 'v18' is possibly undefined
// 405E08: variable 'v19' is possibly undefined
// 405E08: variable 'v20' is possibly undefined
// 405E08: variable 'v21' is possibly undefined
// 405E08: variable 'v22' is possibly undefined
// 405E08: variable 'v23' is possibly undefined
// 405E08: variable 'v24' is possibly undefined
// 405E08: variable 'v25' is possibly undefined
// 405E08: variable 'v26' is possibly undefined
// 405E08: variable 'v27' is possibly undefined
// 405E08: variable 'v28' is possibly undefined
// 405E08: variable 'v29' is possibly undefined
// 405E08: variable 'v30' is possibly undefined
// 405E08: variable 'v31' is possibly undefined
// 405E08: variable 'v32' is possibly undefined
// 405E08: variable 'v33' is possibly undefined
// 405E08: variable 'v34' is possibly undefined
// 405E08: variable 'v35' is possibly undefined
// 405E08: variable 'v36' is possibly undefined
// 405E08: variable 'v37' is possibly undefined
// 405E08: variable 'v38' is possibly undefined
// 405E08: variable 'v39' is possibly undefined
// 405E08: variable 'v40' is possibly undefined
// 405E08: variable 'v41' is possibly undefined
// 405E08: variable 'v42' is possibly undefined
// 405E08: variable 'v43' is possibly undefined
// 405E08: variable 'v44' is possibly undefined
// 405E08: variable 'v45' is possibly undefined
// 405E08: variable 'v46' is possibly undefined
// 405E08: variable 'v47' is possibly undefined
// 405E08: variable 'v48' is possibly undefined
// 405E08: variable 'v49' is possibly undefined
// 405E08: variable 'v50' is possibly undefined
// 405E08: variable 'v51' is possibly undefined
// 405E08: variable 'v52' is possibly undefined
// 405E08: variable 'v53' is possibly undefined
// 405E08: variable 'v54' is possibly undefined
// 405E08: variable 'v55' is possibly undefined
// 405E08: variable 'v56' is possibly undefined
// 405E08: variable 'v57' is possibly undefined
// 405E08: variable 'v58' is possibly undefined
// 405E08: variable 'v59' is possibly undefined
// 405E08: variable 'v60' is possibly undefined
// 405E08: variable 'v61' is possibly undefined
// 405E08: variable 'v62' is possibly undefined
// 405E08: variable 'v63' is possibly undefined
// 405E08: variable 'v64' is possibly undefined
// 405E08: variable 'v65' is possibly undefined
// 405E08: variable 'v66' is possibly undefined
// 406280: using guessed type double sub_406280();

//----- (00405E22) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_405E22(bool a1@<cf>, unsigned __int16 a2@<ax>, int a3@<edx>, int _ECX@<ecx>, int _EBX@<ebx>, int a6@<edi>)
{
  _DWORD *v7; // edi
  int v8; // edx
  unsigned __int32 v10; // eax
  unsigned __int16 v11; // ax
  unsigned __int16 v12; // tt

  v12 = a1 + (_WORD)a3;
  a1 = a2 < v12;
  v11 = a2 - v12;
  BYTE1(_EBX) = (BYTE1(_EBX) - (a1 + 126)) | 0x6A;
  v7 = (_DWORD *)(a6 ^ 0xB4B553A3);
  __asm { rcr     ecx, 1Eh }
  a1 = (unsigned __int16)v7 < v11;
  LOWORD(v7) = (_WORD)v7 - v11;
  v8 = a3 - (a1 - 1377228420);
  LOWORD(v8) = (_WORD)v8 << _ECX;
  if ( _ECX == -1769207784 )
    JUMPOUT(0x405C33);
  __asm { rcl     ebx, 2 }
  if ( v8 == -674603671 )
  {
    *_EBX = (__PAIR64__(*_EBX, -674603671) - __PAIR64__(_ECX, -674603671)) >> 32;
    JUMPOUT(0x40627C);
  }
  LOBYTE(v8) = __ROL1__(v8, 18);
  BYTE1(_EBX) += 41;
  if ( _ECX == 831410156 )
  {
    LOBYTE(v8) = 112;
    *v7 = __ROR4__(*v7, 1);
    v10 = __indword(v8);
  }
  BYTE1(v8) &= _ECX;
  sub_405DCC(v8, (__int16)_EBX);
  JUMPOUT(0x405C9B);
}
// 405C05: positive sp value 8 has been found
// 405C96: control flows out of bounds to 405C9B
// 406121: control flows out of bounds to 406127
// 40627A: control flows out of bounds to 40627C
// 405BF8: control flows out of bounds to 405C33
// 405BFA: control flows out of bounds to 405C39
// 405E22: could not find valid save-restore pair for ebp
// 405BFA: conditional instruction was optimized away because of 'ecx.4==968C0818'

//----- (00405EF1) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_405EF1(char a1@<cf>, char a2@<al>, int _EDX@<edx>, int a4@<ecx>, char a5@<bh>, int a6@<edi>)
{
  unsigned __int32 v8; // eax
  int v10; // edi

  BYTE1(a4) = (BYTE1(a4) >> 1) | (a1 << 7);
  if ( a6 == -1151201524 )
    JUMPOUT(0x405F08);
  LOWORD(a4) = (_WORD)a4 << a4;
  _AL = a2 ^ 0xC5;
  v10 = a6 + 275754088;
  LOBYTE(a4) = _AL | (a5 + a4);
  if ( a4 == -556960638 )
    JUMPOUT(0x4061EF);
  __asm { rcl     edx, 10h }
  if ( (v10 ^ _EDX) == 1150665070 )
  {
    __asm { daa }
    v8 = __indword(0x48u);
    JUMPOUT(0x405BDD);
  }
  JUMPOUT(0x405F07);
}
// 405BC0: positive sp value 4 has been found
// 405F06: control flows out of bounds to 405F08
// 405BDB: control flows out of bounds to 405BDD
// 405EA5: control flows out of bounds to 405EA7
// 406189: control flows out of bounds to 40618E
// 4061EE: control flows out of bounds to 4061EF
// 406189: control flows out of bounds to 405F07

//----- (00405FB8) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_405FB8(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, _DWORD *a4@<edi>, double a5@<st0>)
{
  int v7; // [esp-B963h] [ebp-B963h]
  int v8; // [esp-B95Fh] [ebp-B95Fh]
  int v9; // [esp-B95Bh] [ebp-B95Bh]
  int v10; // [esp-B957h] [ebp-B957h]
  int v11; // [esp-B953h] [ebp-B953h]
  int v12; // [esp-B94Fh] [ebp-B94Fh]
  int v13; // [esp-B94Bh] [ebp-B94Bh]
  int v14; // [esp-B947h] [ebp-B947h]
  int v15; // [esp-B943h] [ebp-B943h]
  int v16; // [esp-B93Fh] [ebp-B93Fh]
  int v17; // [esp-B93Bh] [ebp-B93Bh]
  int v18; // [esp-B937h] [ebp-B937h]
  int v19; // [esp-B933h] [ebp-B933h]
  int v20; // [esp-B92Fh] [ebp-B92Fh]
  int v21; // [esp-B92Bh] [ebp-B92Bh]
  int v22; // [esp-B927h] [ebp-B927h]
  int v23; // [esp-B923h] [ebp-B923h]
  int v24; // [esp-B91Fh] [ebp-B91Fh]
  int v25; // [esp-B91Bh] [ebp-B91Bh]
  int v26; // [esp-B917h] [ebp-B917h]
  int v27; // [esp-B913h] [ebp-B913h]
  int v28; // [esp-B90Fh] [ebp-B90Fh]
  int v29; // [esp-B90Bh] [ebp-B90Bh]
  int v30; // [esp-B907h] [ebp-B907h]
  int v31; // [esp-B903h] [ebp-B903h]
  int v32; // [esp-B8FFh] [ebp-B8FFh]
  int v33; // [esp-B8FBh] [ebp-B8FBh]
  int v34; // [esp-B8F7h] [ebp-B8F7h]
  int v35; // [esp-B8F3h] [ebp-B8F3h]
  int v36; // [esp-B8EFh] [ebp-B8EFh]
  int v37; // [esp-B8EBh] [ebp-B8EBh]
  int v38; // [esp-B8E7h] [ebp-B8E7h]
  int v39; // [esp-B8E3h] [ebp-B8E3h]
  int v40; // [esp-B8DFh] [ebp-B8DFh]
  int v41; // [esp-B8DBh] [ebp-B8DBh]
  int v42; // [esp-B8D7h] [ebp-B8D7h]
  int v43; // [esp-B8D3h] [ebp-B8D3h]
  int v44; // [esp-B8CFh] [ebp-B8CFh]
  int v45; // [esp-B8CBh] [ebp-B8CBh]
  int v46; // [esp-B8C7h] [ebp-B8C7h]
  int v47; // [esp-B8C3h] [ebp-B8C3h]
  int v48; // [esp-B8BFh] [ebp-B8BFh]
  int v49; // [esp-B8BBh] [ebp-B8BBh]
  int v50; // [esp-B8B7h] [ebp-B8B7h]
  int v51; // [esp-B8B3h] [ebp-B8B3h]
  int v52; // [esp-B8AFh] [ebp-B8AFh]
  int v53; // [esp-B8ABh] [ebp-B8ABh]
  int v54; // [esp-B8A7h] [ebp-B8A7h]
  int v55; // [esp-B8A3h] [ebp-B8A3h]
  int v56; // [esp-B89Fh] [ebp-B89Fh]
  int v57; // [esp-B89Bh] [ebp-B89Bh]
  int v58; // [esp-B897h] [ebp-B897h]
  int v59; // [esp-B893h] [ebp-B893h]
  int v60; // [esp-B88Fh] [ebp-B88Fh]
  int v61; // [esp-B88Bh] [ebp-B88Bh]
  int v62; // [esp-B887h] [ebp-B887h]
  int v63; // [esp-B883h] [ebp-B883h]
  int v64; // [esp-B87Fh] [ebp-B87Fh]
  int v65; // [esp-B87Bh] [ebp-B87Bh]
  int v66; // [esp-B877h] [ebp-B877h]
  int v67; // [esp-B873h] [ebp-B873h]
  int v68; // [esp-B86Fh] [ebp-B86Fh]

  LOWORD(a4) = (__int16)a4 >> a2;
  sub_405CAF(a1, a2, a3, a4, a5);
  __asm { rcl     cl, 1Dh }
  _AX = (_WORD)a4 + 10403;
  __asm { rcl     ah, cl }
  sub_4060A7(
    v7,
    v8,
    v9,
    v10,
    v11,
    v12,
    v13,
    v14,
    v15,
    v16,
    v17,
    v18,
    v19,
    v20,
    v21,
    v22,
    v23,
    v24,
    v25,
    v26,
    v27,
    v28,
    v29,
    v30,
    v31,
    v32,
    v33,
    v34,
    v35,
    v36,
    v37,
    v38,
    v39,
    v40,
    v41,
    v42,
    v43,
    v44,
    v45,
    v46,
    v47,
    v48,
    v49,
    v50,
    v51,
    v52,
    v53,
    v54,
    v55,
    v56,
    v57,
    v58,
    v59,
    v60,
    v61,
    v62,
    v63,
    v64,
    v65,
    v66,
    v67,
    v68);
  JUMPOUT(0x4063B7);
}
// 4063B2: positive sp value B967 has been found
// 4063B2: control flows out of bounds to 4063B7
// 4063AD: variable 'v7' is possibly undefined
// 4063AD: variable 'v8' is possibly undefined
// 4063AD: variable 'v9' is possibly undefined
// 4063AD: variable 'v10' is possibly undefined
// 4063AD: variable 'v11' is possibly undefined
// 4063AD: variable 'v12' is possibly undefined
// 4063AD: variable 'v13' is possibly undefined
// 4063AD: variable 'v14' is possibly undefined
// 4063AD: variable 'v15' is possibly undefined
// 4063AD: variable 'v16' is possibly undefined
// 4063AD: variable 'v17' is possibly undefined
// 4063AD: variable 'v18' is possibly undefined
// 4063AD: variable 'v19' is possibly undefined
// 4063AD: variable 'v20' is possibly undefined
// 4063AD: variable 'v21' is possibly undefined
// 4063AD: variable 'v22' is possibly undefined
// 4063AD: variable 'v23' is possibly undefined
// 4063AD: variable 'v24' is possibly undefined
// 4063AD: variable 'v25' is possibly undefined
// 4063AD: variable 'v26' is possibly undefined
// 4063AD: variable 'v27' is possibly undefined
// 4063AD: variable 'v28' is possibly undefined
// 4063AD: variable 'v29' is possibly undefined
// 4063AD: variable 'v30' is possibly undefined
// 4063AD: variable 'v31' is possibly undefined
// 4063AD: variable 'v32' is possibly undefined
// 4063AD: variable 'v33' is possibly undefined
// 4063AD: variable 'v34' is possibly undefined
// 4063AD: variable 'v35' is possibly undefined
// 4063AD: variable 'v36' is possibly undefined
// 4063AD: variable 'v37' is possibly undefined
// 4063AD: variable 'v38' is possibly undefined
// 4063AD: variable 'v39' is possibly undefined
// 4063AD: variable 'v40' is possibly undefined
// 4063AD: variable 'v41' is possibly undefined
// 4063AD: variable 'v42' is possibly undefined
// 4063AD: variable 'v43' is possibly undefined
// 4063AD: variable 'v44' is possibly undefined
// 4063AD: variable 'v45' is possibly undefined
// 4063AD: variable 'v46' is possibly undefined
// 4063AD: variable 'v47' is possibly undefined
// 4063AD: variable 'v48' is possibly undefined
// 4063AD: variable 'v49' is possibly undefined
// 4063AD: variable 'v50' is possibly undefined
// 4063AD: variable 'v51' is possibly undefined
// 4063AD: variable 'v52' is possibly undefined
// 4063AD: variable 'v53' is possibly undefined
// 4063AD: variable 'v54' is possibly undefined
// 4063AD: variable 'v55' is possibly undefined
// 4063AD: variable 'v56' is possibly undefined
// 4063AD: variable 'v57' is possibly undefined
// 4063AD: variable 'v58' is possibly undefined
// 4063AD: variable 'v59' is possibly undefined
// 4063AD: variable 'v60' is possibly undefined
// 4063AD: variable 'v61' is possibly undefined
// 4063AD: variable 'v62' is possibly undefined
// 4063AD: variable 'v63' is possibly undefined
// 4063AD: variable 'v64' is possibly undefined
// 4063AD: variable 'v65' is possibly undefined
// 4063AD: variable 'v66' is possibly undefined
// 4063AD: variable 'v67' is possibly undefined
// 4063AD: variable 'v68' is possibly undefined

//----- (0040605E) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40605E(__int16 a1@<cx>, int a2@<ebx>, int _EDI@<edi>, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  int v66; // ebx
  __int64 v67; // rax
  char v69; // cl
  int v70; // ecx
  _BYTE *v71; // eax

  BYTE1(a2) &= HIBYTE(a1);
  __asm { rcl     edi, 1Ch }
  v66 = a2 - 461463844;
  v67 = sub_405DBD(a1, v66);
  __asm { rcr     ch, 12h }
  LOBYTE(v70) = v69 - (__CFSHR__(HIDWORD(v67), 7) - 114);
  BYTE1(v70) = ~_CH;
  v71 = (_BYTE *)((int (__fastcall *)(int, _DWORD, int, _DWORD))loc_405FE4)(
                   v70,
                   HIDWORD(v67) >> 7,
                   74,
                   (unsigned __int16)__DS__);
  __asm { insd }
  if ( *(_DWORD *)(_EDX + 110) >> 21 != 1127211777 )
    JUMPOUT(0x406254);
  *v71 ^= BYTE1(v66);
  _enable();
  sub_4060A7(
    a4,
    a5,
    a6,
    a7,
    a8,
    a9,
    a10,
    a11,
    a12,
    a13,
    a14,
    a15,
    a16,
    a17,
    a18,
    a19,
    a20,
    a21,
    a22,
    a23,
    a24,
    a25,
    a26,
    a27,
    a28,
    a29,
    a30,
    a31,
    a32,
    a33,
    a34,
    a35,
    a36,
    a37,
    a38,
    a39,
    a40,
    a41,
    a42,
    a43,
    a44,
    a45,
    a46,
    a47,
    a48,
    a49,
    a50,
    a51,
    a52,
    a53,
    a54,
    a55,
    a56,
    a57,
    a58,
    a59,
    a60,
    a61,
    a62,
    a63,
    a64,
    a65);
}
// 406062: positive sp value 4 has been found
// 40609D: control flows out of bounds to 406254
// 406081: variable 'v69' is possibly undefined
// 406086: variable 'v70' is possibly undefined
// 40608C: variable '_EDX' is possibly undefined
// 40605E: too many input arguments, some ignored

//----- (004060A7) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __userpurge sub_4060A7(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62)
{
  __asm { rcr     dx, cl }
  JUMPOUT(0x4060F1);
}
// 406142: positive sp value C has been found
// 4060BB: inconsistent fpu stack
// 405F8C: control flows out of bounds to 405F8E
// 4060B3: control flows out of bounds to 4060F1
// 4060A7: could not find valid save-restore pair for esi

//----- (00406145) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
int __userpurge sub_406145@<eax>(int a1@<eax>, int _EDX@<edx>, int _ECX@<ecx>, unsigned __int8 a4@<bh>, int _EDI@<edi>, __int16 a6@<si>, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  void *retaddr[2]; // [esp+0h] [ebp+0h]

  __asm { rcl     edx, cl }
  LOBYTE(_ECX) = a4;
  __asm { rcl     edi, cl }
  LOBYTE(_EDX) = __ROL1__(_EDX - a1, 12);
  LOWORD(_ECX) = __PAIR16__(BYTE1(_ECX), a4) + 256;
  __asm { rcr     dx, cl }
  LOBYTE(_ECX) = a4 << a4;
  if ( _ECX != 465571694 )
  {
    LOWORD(_EDI) = a6 | _EDI;
    if ( _EDI == -250258246 )
    {
      MEMORY[0x8CA54C3] = a1;
      JUMPOUT(0x40622F);
    }
    JUMPOUT(0x4060BD);
  }
  return MK_FP(retaddr[0], retaddr[0])(465571694, _EDX);
}
// 405C1B: positive sp value 4 has been found
// 4061F8: control flows out of bounds to 4060BD
// 40622B: control flows out of bounds to 40622F
// 405C31: bad sp value at call
// 406145: too many input arguments, some ignored

//----- (00406194) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_406194(unsigned int a1@<edx>, int a2@<ecx>, int a3@<edi>, int a4@<esi>)
{
  unsigned int v4; // edx
  int v5; // ecx

  v4 = (a4 ^ a1) >> 25;
  --BYTE1(a2);
  v5 = a2 ^ 0x353E6308;
  if ( a3 == 832666775 )
  {
    ((void (__fastcall *)(_DWORD, unsigned int))sub_405C64)(__ROR4__(v5, v5), v4);
    JUMPOUT(0x405CD2);
  }
  JUMPOUT(0x406092);
}
// 405CD0: positive sp value 8 has been found
// 405CD0: control flows out of bounds to 405CD2
// 405CC2: control flows out of bounds to 406092

//----- (0040622F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
double __userpurge sub_40622F@<st0>(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, _DWORD *a4@<edi>, double a5@<st0>, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  bool v64; // cf
  int v65; // ecx

  LOBYTE(a2) = a3 + 120 + __CFADD__(a3, -1394477960) + a2;
  v64 = __CFSHL__(a2, a2);
  v65 = a2 << a2;
  if ( v64 + a1 != 1665165062 )
    JUMPOUT(0x405B60);
  *a4 &= 0x8122A647;
  return *(float *)v65 - a5;
}
// 406233: positive sp value 4 has been found
// 406249: control flows out of bounds to 405B60
// 40622F: too many input arguments, some ignored

//----- (00406280) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_406280(char a1@<ah>, int _ECX@<ecx>, char a3@<bh>)
{
  BYTE1(_ECX) += a1 + __CFSHL__(a3, _ECX);
  __asm { rcl     ecx, 4 }
  JUMPOUT(0x40637C);
}
// 406284: positive sp value 4 has been found
// 40628E: control flows out of bounds to 40637C

//----- (004062B0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __userpurge sub_4062B0(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  JUMPOUT(0x405F43);
}
// 4062B4: positive sp value 4 has been found
// 4062BF: control flows out of bounds to 405F43
// 4062B0: too many input arguments, some ignored

//----- (004062CE) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4062CE(bool a1@<cf>, unsigned __int16 a2@<ax>, int a3@<edx>, int _ECX@<ecx>, int a5@<ebx>, int a6@<edi>, _BYTE *_ESI@<esi>)
{
  __int16 v7; // ax

  LOBYTE(a2) = ~(_BYTE)a2;
  __asm { rcl     si, cl }
  sub_405E22(a1, a2, a3, _ECX, a5, a6);
  *_ESI = (unsigned __int16)(a1 + v7 - 15305) >> 8;
  ((void (*)(void))((char *)&loc_405E6A + 3))();
  JUMPOUT(0x405DA7);
}
// 405D9F: positive sp value 2A07 has been found
// 405DA5: control flows out of bounds to 405DA7
// 405D9A: bad sp value at call
// 4062DC: variable 'a1' is possibly undefined
// 4062DC: variable 'v7' is possibly undefined

// nfuncs=37 queued=37 decompiled=37 lumina nreq=0 worse=0 better=0
#error "There were 2 decompilation failure(s) on 37 function(s)"
