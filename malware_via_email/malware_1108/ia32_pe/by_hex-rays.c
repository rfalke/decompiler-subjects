/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <math.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int a1@<eax>, int a2@<edx>, int _ECX@<ecx>, unsigned int a4@<ebx>, int a5@<ebp>, unsigned int a6@<edi>, int _ESI@<esi>);
double sub_407E58(); // weak


//----- (004067B7) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int _ECX@<ecx>, unsigned int a4@<ebx>, int a5@<ebp>, unsigned int a6@<edi>, int _ESI@<esi>)
{
  unsigned int v9; // edi
  bool v10; // cf
  int v13; // edx
  __int32 v14; // ecx
  int v19; // eax
  int v23; // edi
  int v25; // ecx
  int v28; // edx
  int v29; // ebx
  bool v31; // tt
  __int16 v36; // ax
  char v37; // al
  bool v38; // tt
  int v39; // eax
  char v40; // tt
  _BYTE *v41; // esi
  unsigned __int32 v43; // eax
  int v53; // ebx
  unsigned __int8 v55; // al
  int v56; // eax
  int v58; // edx
  BOOL v59; // ett
  __int16 v61; // ax
  int v62; // edi
  int v64; // eax
  bool v65; // tt
  unsigned int v66; // ebx
  __int16 v68; // bx
  __int16 v69; // kr00_2
  int v71; // ecx
  __int16 v72; // ax
  int v74; // ebx
  char v78; // tt
  __int32 v82; // ecx
  unsigned int v83; // edi
  unsigned int v94; // edx
  int v95; // ebx
  int v99; // edi
  int v100; // eax
  int v109; // edi
  __int32 v111; // eax
  int v113; // ecx
  char v114; // fl
  int v117; // ecx
  volatile __int32 *v120; // esi
  bool v121; // pf
  unsigned int v124; // edi
  int v125; // ecx
  unsigned int v126; // edi
  unsigned int v127; // edi
  char v129; // cc
  unsigned int v130; // edi
  bool v131; // cc
  bool v135; // cc
  unsigned int v137; // edi
  __int16 v138; // fps
  char v142; // cf
  bool v143; // zf
  bool v144; // tt
  unsigned int v147; // edi
  bool v149; // of
  unsigned int v150; // et2
  _BYTE *v153; // edi
  bool v154; // cf
  int v155; // edi
  __int16 v159; // [esp-10h] [ebp-10h]
  _DWORD *v160; // [esp-Ch] [ebp-Ch]
  unsigned int v161; // [esp-8h] [ebp-8h] BYREF
  __int32 v162; // [esp-4h] [ebp-4h]
  void *retaddr[2]; // [esp+0h] [ebp+0h] BYREF

  BYTE1(a2) = __ROL1__(BYTE1(a2), 13);
  v38 = __CFSHR__(a2, _ECX);
  LOBYTE(a2) = __ROR1__(a2, _ECX);
  BYTE1(a1) += BYTE1(a2) + v38;
  LOBYTE(a4) = 0;
  LOWORD(_ESI) = a2 | __ROR2__(_ESI, _ECX);
  _EDX = a2 + 104034975;
  _EBX = a4 >> 28;
  LOBYTE(_EDX) = __ROR1__(_EDX, _ECX);
  LOBYTE(_ECX) = ~(_BYTE)_ECX;
  _EDI = a6 >> 1;
  LOBYTE(a1) = BYTE1(_ECX) ^ a1;
  __asm { rcr     edi, cl }
  BYTE1(_EBX) = (BYTE1(_EBX) >> _ECX) - BYTE1(_ECX);
  v109 = _EDI | 0x64FCFDB1;
  LOBYTE(_EBX) = ~(_BYTE)_EBX;
  LOWORD(a1) = _EBX + a1;
  LOBYTE(_EBX) = __ROL1__(_EBX, _ECX);
  BYTE1(_EBX) = __ROL1__(BYTE1(_EBX), _ECX);
  _EDI = _ECX + v109;
  v19 = __ROR4__(a1, _ECX);
  LOBYTE(_EDX) = __ROL1__(_EDX, 26);
  if ( _EDX == -667095274 )
  {
    __asm { outsd }
    v56 = v19 - 1058003982;
    __asm
    {
      rcr     dword ptr [edx], 1
      rcr     bx, cl
      rcl     bh, 19h
    }
    _ESI = _ESI | 0xD7B021F6;
    __asm
    {
      rcr     cl, 19h
      rcr     esi, 11h
    }
    _CL -= 117;
    v23 = __ROL4__((unsigned int)(_EDI + 1) >> 9, _CL);
    HIWORD(_EDX) = -10180;
    LOWORD(v23) = v23 - 1;
    _CL |= 0xD7u;
    __asm { rcl     cl, cl }
    _EDI = v23 ^ 0xE523E06E;
    __asm { rcl     di, cl }
    HIWORD(_ECX) = 29541;
    HIWORD(_ESI) = 10234;
    if ( v56 == -1419246423 )
    {
      HIWORD(v53) = -30070;
      HIWORD(_ECX) = -29981;
      v55 = __inbyte(0xEF17u);
      LOBYTE(v56) = MEMORY[0xD83CEF16];
      if ( v56 == -1073741778 )
      {
        v72 = __ROL4__(-1073741778, 22);
        LOBYTE(v72) = v72 ^ 0xA1;
        BYTE1(v53) = -80;
        LOWORD(_ESI) = -4746;
        _AL = __ROR1__(v72, 169);
        __asm { rcl     al, 13h }
        BYTE1(_EDX) = 97;
        LOBYTE(_EDX) = __CFSHR__(_ESI, 24) + __ROR1__(-86, 169) + 97;
        BYTE1(_ECX) = -112;
        v28 = _EDX >> 1;
        if ( HIBYTE(_ESI) == 505863629 )
          JUMPOUT(0x406642);
        LOBYTE(v53) = -109 - HIBYTE(v72);
        LOBYTE(_ECX) = v28 + __CFADD__((unsigned __int16)__ROL4__(v53, 7) >> 8, -19) - 127;
        _DH = ((BYTE1(v28) & 0x31) - _ECX) & 0x90;
        __asm { rcl     dh, cl }
        if ( _ECX == 914413852 )
          JUMPOUT(0x406DDC);
        JUMPOUT(0x406F34);
      }
      return;
    }
    LOWORD(_ESI) = -19917;
    LOWORD(_EDI) = -(__int16)_EDI;
    v83 = _EDI << 15;
    LOBYTE(_ECX) = 63;
    LOWORD(_EBX) = 0;
    v40 = v56 & 1;
    v39 = __ROR4__(v56, 1);
    if ( v40 )
    {
      __asm { rcr     esi, 2 }
      _EBX = (char *)(_EBX - 1);
      __asm
      {
        rcr     ebx, 0Fh
        rcl     bh, 7
      }
      JUMPOUT(0x406F55);
    }
    v41 = (_BYTE *)__ROR4__(v83 ^ _ESI, 14);
    _EDI = v83 - (_DWORD)v41;
    LOBYTE(_EBX) = 0;
    if ( v39 == -1544161461 )
    {
      __outdword(0xF6u, 0xA3F5F74B);
      v43 = __indword(0xDu);
      __asm
      {
        rcl     edi, cl
        rcl     di, cl
      }
      JUMPOUT(0x406571);
    }
    BYTE1(_ECX) = 0;
    __asm
    {
      rcr     ecx, cl
      rcl     bh, 1Ah
      rcr     ebx, cl
    }
    BYTE1(_EBX) <<= _ECX;
    LOBYTE(_ECX) = _ECX | 0x33;
    LOBYTE(_EBX) = (_BYTE)_EBX << _ECX;
    LOWORD(_EBX) = -(__int16)_EBX;
    BYTE1(_EBX) += BYTE1(_ECX) + ((_WORD)_EBX != 0);
    LOBYTE(_EBX) = (_EBX + 1) ^ 0x84;
    v25 = (_ECX << _ECX) - (__CFSHL__(_ECX, _ECX) + _EDI);
    BYTE1(_EBX) &= BYTE1(v25);
    LOWORD(_EBX) = (_WORD)_EBX << v25;
    LOBYTE(_EBX) = _EBX + 51;
    sub_407E58();
    _EAX = _InterlockedExchange((volatile __int32 *)(_EBX - 54), v111);
    __asm { aad     0B4h ; '´' }
    v117 = v113 - 1;
    if ( _ZF || !v117 )
    {
      *(_DWORD *)(_EBX - 1387445362) = __ROL4__(*(_DWORD *)(_EBX - 1387445362), 1);
      __halt();
    }
    __asm { aaa }
    __writeeflags(v161);
    _EBP = -1115849940;
    __asm
    {
      insd
      icebp
    }
    if ( _SF != _OF )
    {
      _disable();
      _ZF = (BYTE1(_EDX) & *(_BYTE *)(3 * (_DWORD)v41 + 0x2E2E6F52)) == 0;
      *(_BYTE *)(3 * (_DWORD)v41 + 0x2E2E6F52) &= BYTE1(_EDX);
      v125 = v117 - 1;
      if ( _ZF || !v125 )
        JUMPOUT(0x40709E);
      JUMPOUT(0x40708A);
    }
    BYTE1(v117) = 53;
    _CF = _EAX < 0x7E76713F;
    LOBYTE(_EAX) = *v41;
    __DS__ = v162;
    v120 = (volatile __int32 *)(v41 + 2);
    _OF = __OFSUB__(v117, 1);
    _ECX = v117 - 1;
    _ZF = _ECX == 0;
    v121 = __SETP__(_ECX, 0);
    _SF = _ECX < 0;
    BYTE1(_EAX) = v114;
    *(_DWORD *)_ECX &= _EBX;
    MEMORY[0xBD7D7B69] += v120;
    *(_DWORD _cs *)(_EDI + 15546) = __ROL4__(*(_DWORD _cs *)(_EDI + 15546), 1);
    _EDX = (_DWORD *)(_EDX - 1);
    do
    {
      v124 = _EDI | 0xFFFFFFA8;
      if ( MEMORY[0xBD7D7AF2] <= 0x4Cu )
        JUMPOUT(0x407058);
      v126 = v124 + 1;
      _CF = __CFADD__(MEMORY[0xBD7D7AF2] < 0x4Cu, *(_DWORD *)(_ECX + 1984743047)) | __CFADD__(
                                                                                      (MEMORY[0xBD7D7AF2] < 0x4Cu)
                                                                                    + *(_DWORD *)(_ECX + 1984743047),
                                                                                      10);
      *(_DWORD *)(_ECX + 1984743047) += (MEMORY[0xBD7D7AF2] < 0x4Cu) + 10;
      v129 = _CF || v126 == -1;
      v127 = v126 + 1;
      if ( v129 )
        JUMPOUT(0x4070EF);
      _EDI = v127 + 1;
      __asm { aam     7Ah ; 'z' }
      _EAX = _EAX | 0xF068CCAD;
      _CF = __CFSHL__(*(_DWORD *)(_EBX - 296926322), 1);
      *(_DWORD *)(_EBX - 296926322) = __ROL4__(*(_DWORD *)(_EBX - 296926322), 1);
      __asm { rcr     ecx, 0E1h }
      _OF = __OFADD__(_CF, *(_DWORD *)(_ECX - 121)) | __OFADD__(118, _CF + *(_DWORD *)(_ECX - 121));
      v129 = (_CF + *(_DWORD *)(_ECX - 121) + 118 < 0) ^ _OF | (_CF + *(_DWORD *)(_ECX - 121) == -118);
      *(_DWORD *)(_ECX - 121) += _CF + 118;
      v162 = _EAX;
      __asm { aaa }
      if ( !_OF )
        JUMPOUT(0x4070F7);
    }
    while ( v129 );
    v130 = _EDI - 1;
    __asm { rcr     byte ptr [ebp+3Fh], cl }
    *(_BYTE *)(v130 - 125) <<= _ECX;
    _ZF = *(_BYTE *)(v130 + 1986466367) + BYTE1(_EAX) == 0;
    v131 = __CFADD__(*(_BYTE *)(v130 + 1986466367), BYTE1(_EAX)) || _ZF;
    _EBP = v162;
    _EAX = retaddr;
    if ( !_ZF )
    {
      LOBYTE(_EBX) = _EBX - *(_BYTE *)(v130 + 774886219);
      *(_BYTE *)v120 >>= 1;
      _OF = __OFSUB__(BYTE1(_ECX), *(_BYTE *)(_ECX + 1846465062));
      v135 = BYTE1(_ECX) <= *(_BYTE *)(_ECX + 1846465062);
      BYTE1(_ECX) -= *(_BYTE *)(_ECX + 1846465062);
      __outdword((unsigned __int16)_EDX, (unsigned int)retaddr);
      __asm { das }
      if ( v135 )
        JUMPOUT(0x4070BC);
      __asm { das }
      if ( v135 )
      {
LABEL_82:
        v137 = v130 - 1;
        __asm
        {
          repne push 0FFFFFFE7h
          rcl     dword ptr [edx+2E3FBD6Eh], 1
        }
        _CF = __CFADD__(*(_DWORD *)(_ECX - 2016246873), -125);
        *(_DWORD *)(_ECX - 2016246873) -= 125;
        v144 = _CF;
        v142 = __CFADD__(_CF, (unsigned __int16)retaddr >> 8) | __CFADD__(
                                                                  *(_BYTE *)(v137 - 122),
                                                                  _CF + ((unsigned __int16)retaddr >> 8));
        BYTE1(_EAX) = *(_BYTE *)(v137 - 122) + v144 + ((unsigned __int16)retaddr >> 8);
        v143 = BYTE1(_EAX) == 0;
        __asm { aad     4Eh ; 'N' }
        if ( (char)(*(_BYTE *)(v137 - 122) + v144 + ((unsigned __int16)retaddr >> 8)) < 0 != (__OFADD__(
                                                                                                v144,
                                                                                                (unsigned __int16)retaddr >> 8) | __OFADD__(*(_BYTE *)(v137 - 122), v144 + ((unsigned __int16)retaddr >> 8))) )
        {
          __asm { aam     7Fh }
          if ( v143 )
          {
            v161 = _EBX;
            v160 = (_DWORD *)_ECX;
            *(_DWORD _ds *)(v137 + _EBX - 31865) = v142 + *(_DWORD _ds *)(v137 + _EBX - 31865) - 47;
            v147 = v137 + 4;
            LOBYTE(_EAX) = -89;
            _ZF = (_EBX & *(_DWORD *)_ECX) == 0;
            *(_DWORD *)_ECX &= _EBX;
            if ( _ZF )
            {
              _EBP = _InterlockedExchange((volatile __int32 *)0x83262622, _EBP);
              *(_DWORD *)(_EBX + 1600943758) = __ROL4__(*(_DWORD *)(_EBX + 1600943758), 1);
              _EAX = _ECX;
              BYTE1(_EAX) = 117;
              __asm { rep add al, 0F8h ; 'ø' }
              if ( !_ZF )
                JUMPOUT(0x4071AC);
              *(_DWORD _cs *)(v147 + _EBP + 27278) = __ROL4__(*(_DWORD _cs *)(v147 + _EBP + 27278), 1);
              v149 = __OFSUB__(BYTE1(_ECX), MEMORY[0x83262622]);
              BYTE1(_ECX) -= MEMORY[0x83262622];
              v150 = _EAX;
              _EAX = _EBX;
              _EBX = v150;
              while ( 1 )
              {
                v160 = (_DWORD *)_ECX;
                _EBP = _InterlockedExchange((volatile __int32 *)(_ECX - 1452846701), _EBP);
                if ( __SETP__(BYTE1(_ECX), 0) )
                  break;
                v159 = -83;
                if ( !v149 )
                {
                  if ( MEMORY[0x83262637] > BYTE1(_ECX) )
                  {
                    __asm { aas }
                    *(_DWORD *)(_ECX - 8) &= _EBX;
                    JUMPOUT(0xFFA7D);
                  }
                  JUMPOUT(0x407186);
                }
              }
            }
            else
            {
              if ( __SETP__(_EAX & 0xA9CE5193, 0) )
                JUMPOUT(0x4071CE);
              v159 = -83;
            }
            _ESI = v160;
            v153 = (_BYTE *)(*_EDX + v147 - 1);
            v154 = __CFSHR__(*(_DWORD *)((char *)v160 - 73), 38);
            *(_DWORD *)((char *)v160 - 73) >>= 6;
            if ( v154 )
            {
              __asm { outsb }
              _CF = __CFSHR__(*((_BYTE *)v160 - 63), _ECX);
              *((_BYTE *)v160 - 63) >>= _ECX;
              __asm { outsb }
              _CF = __CFADD__(_CF, BYTE1(_EBX)) | __CFADD__(*v153, _CF + BYTE1(_EBX));
              __outbyte(0x51u, _EAX);
              _OF = __OFADD__(1, v153);
              v155 = (int)(v153 + 1);
              _ZF = v155 == 0;
              v121 = __SETP__(v155, 0);
              _SF = v155 < 0;
              BYTE1(_EAX) = v114;
              __asm { bound   ebp, cs:[eax] }
              *(_WORD *)(_EBP + v155 + 1309770582) = v138;
              __asm { aas }
              *(_DWORD *)_EAX += _ECX;
              _EAX = *(_DWORD *)(_EBP - 18) ^ _EAX;
              _CF = __CFADD__(*(_DWORD *)_ECX, -121);
              *(_DWORD *)_ECX -= 121;
              __asm { aas }
              MEMORY[0x670E51E6] += _ECX + _CF;
              __asm { retf    262Ch }
            }
            *v160 -= v154 + _EBX;
            JUMPOUT(0x6EEA3243);
          }
          JUMPOUT(0x4070E5);
        }
        JUMPOUT(0x40712B);
      }
      __asm { das }
      if ( !_OF )
        JUMPOUT(0x4070B4);
      __asm { ffree   st(6) }
      _ZF = (*(_DWORD *)(_EBP + 33) & 0x19) == 0;
      v131 = _ZF;
      *(_DWORD *)(_EBP + 33) &= 0x19u;
      if ( !_ZF )
        JUMPOUT(0x407159);
      _EBP = _InterlockedExchange(v120, _EBP);
    }
    if ( v131 )
      JUMPOUT(0x407170);
    goto LABEL_82;
  }
  _ECX = _ECX << _ECX;
  LOBYTE(_EBX) = -(char)_EBX;
  LOBYTE(v19) = __ROR1__(v19, 11);
  _EAX = ~v19;
  __asm { rcl     eax, cl }
  LOBYTE(_EDX) = BYTE1(_EBX) + ((unsigned __int8)_EBX < 0x2Eu) + _EDX;
  LOBYTE(_ECX) = BYTE1(_ECX) | _ECX;
  LOBYTE(_EBX) = ~(_EBX - 46);
  _CF = BYTE1(_EBX) < BYTE1(_ECX);
  BYTE1(_EBX) -= BYTE1(_ECX);
  LOWORD(_EAX) = _EAX - (_CF + (_WORD)_EDI);
  BYTE1(_EDX) = ~BYTE1(_EDX);
  if ( _EBX == 553059138 )
  {
    __asm { aas }
    __writeeflags(0x3FC3C2E7u);
    while ( 1 )
    {
      __asm { rcr     edi, 10h }
      BYTE1(_EDX) = __ROL1__(BYTE1(_EDX), _ECX);
      _EDX = _ESI + _EDX;
      LOBYTE(_ECX) = _ECX - 1;
      LOBYTE(_EDX) = -(char)_EDX;
      BYTE1(_EBX) = __ROL1__(BYTE1(_EBX), 24);
      if ( _ECX == -1382404714 )
        break;
      __asm { rcl     dh, 0Ah }
      BYTE1(_EDX) = _DH - 1;
      _ECX = _ECX - (((unsigned __int8)_EAX < 0xD0u) - 1963494477);
      LOBYTE(_EAX) = (char)(_EAX + 48) >> 7;
      if ( _EAX != 2005288481 )
      {
        HIBYTE(_CX) = BYTE1(_ECX) + 7;
        LOBYTE(_CX) = (char)_ECX >> 6;
        BYTE1(_EDX) -= BYTE1(_EBX);
        __asm { rcr     bh, cl }
        LOBYTE(_EBX) = -(char)_EBX;
        _CX = _EDX + ((_BYTE)_EBX != 0) + _CX;
        LOBYTE(_EBX) = _EBX + 111;
        v64 = _EAX & 0x506AB877;
        _CF = __CFSHL__(_EBX, _CX);
        v66 = _EBX << _CX;
        BYTE1(_EDX) = _CX;
        v62 = _EDI - 341988492 - (_CF - 732342750);
        if ( v64 == 840887775 )
          JUMPOUT(0xA88EB015);
        while ( 1 )
        {
          __asm { rcl     cx, cl }
          v68 = (_WORD)v66 << _CX;
          LOBYTE(v68) = (char)v68 >> 7;
          _EDX = __ROL4__(_EDX, 22);
          LOWORD(_EDX) = ~(_WORD)_EDX;
          HIBYTE(v68) += v64;
          BYTE1(v64) = __ROL1__(BYTE1(v64), _CX);
          v61 = v64 | 0x1538;
          LOBYTE(v64) = HIBYTE(v68) | v61;
          v62 ^= 0x7FA72EFDu;
          LOBYTE(v68) = HIBYTE(v68) + v68;
          BYTE1(_EDX) *= 32;
          BYTE1(v64) = (HIBYTE(v61) >> _CX) | 0xBB;
          v65 = __CFSHR__(v68, _CX);
          LOBYTE(v66) = __ROR1__(v68, _CX);
          BYTE1(v66) = (HIBYTE(v68) - (v65 - 61)) << _CX;
          if ( v62 != 1259328121 )
            break;
          LOBYTE(v64) = (v64 ^ 0x44) & 0x36;
        }
        JUMPOUT(0x406E1B);
      }
      __outdword(_EDX, 0x77864621u);
      LOBYTE(_ECX) = BYTE1(_EBX) & _ECX;
      _CF = __CFADD__(_EBX, *(_DWORD *)_EBX);
      *(_DWORD *)_EBX += _EBX;
      _EDX = 1115145528;
      __asm { rcl     ecx, 19h }
      _EAX = -255277792;
      __asm { rcr     cx, cl }
      _EBX = (_EBX - (_CF - 1094072751)) & 0x77CEA9FF;
    }
    if ( a5 == -1 )
      JUMPOUT(0x406B9D);
  }
  else
  {
    v99 = _EDI << 26;
    v100 = __ROR4__(_EAX, 29);
    LOBYTE(_ECX) = __ROR1__(_ECX & 0xCE, _ECX & 0xCE);
    _EBX = (char *)(v100 + _EBX);
    BYTE1(_EBX) |= 0x44u;
    __asm { rcr     bh, 0Dh }
    if ( _EBX == (char *)1084210092 )
      __asm { retf    0E680h }
    LOWORD(_EDX) = (unsigned __int16)_EBX | _EDX;
    LOBYTE(v100) = (_BYTE)v100 << _ECX;
    v36 = _ECX | v100;
    v94 = (_EDX ^ 0xF059FB4A) - 1;
    _ECX = v99 + _ECX;
    v37 = __ROR2__(v36, _ECX);
    BYTE1(v94) = (BYTE1(v94) + 1) & 0xF;
    LOWORD(_ECX) = _ECX + 1;
    LOWORD(_ECX) = v94 | _ECX;
    LOBYTE(v94) = -(char)v94;
    LOBYTE(_ECX) = v37 ^ __ROR1__(_ECX, 14);
    if ( _ECX == 1019874418 )
      JUMPOUT(0x406DA3);
    __asm
    {
      rcr     ebx, 1Dh
      rcl     ecx, 3
    }
    LOBYTE(_ECX) = __ROR1__(_ECX, _ECX);
    _EAX = 465207592;
    BYTE1(v94) = -90;
    v95 = (_ECX + (_EBX ^ 0x2A23BAB4)) >> 29;
    _ECX = _ECX + 1;
    __asm { rcl     eax, cl }
    if ( v95 == -2025448413 )
    {
      __outbyte(v94, _EAX);
      JUMPOUT(0x406C0C);
    }
    LOBYTE(v95) = v95 + 1;
    v29 = v99 ^ v95;
    LOWORD(v29) = v29 - 1;
    BYTE1(_ECX) += _ECX;
    _EDI = _ECX ^ v29 & v99;
    LOBYTE(_ECX) = ~(_BYTE)_ECX;
    _EAX = __ROL4__(_EAX, _ECX);
    v74 = v29 | 0x45D6456F;
    BYTE1(v94) = -34;
    LOBYTE(v94) = BYTE1(_EAX) + v94;
    LOWORD(v74) = v74 - v94;
    v10 = v94 < 0x709982FA;
    if ( v94 == 1889108730 )
    {
      ++_ESI;
      _EAX = -314455205;
      __asm { rcr     edi, 13h }
      BYTE1(v94) = -4;
      LOBYTE(v74) = 0;
      v9 = _EDI >> _ECX;
      v31 = __CFSHR__(v94, _ECX);
      _EDX = __ROR4__(v94, _ECX);
      _CF = v31;
      goto LABEL_23;
    }
    while ( 1 )
    {
      LOWORD(_EAX) = _EAX - (v10 + (_WORD)_ESI);
      LOBYTE(v74) = __ROL1__(v74, 5);
      LOBYTE(_EAX) = 0;
      v14 = _ECX - 1269584507;
      _EAX = ~_EAX;
      v13 = v74;
      LOBYTE(v14) = (unsigned __int8)v14 >> v14;
      __asm { rcr     eax, 5 }
      if ( _EAX == 383106882 )
        break;
      LOBYTE(_EAX) = BYTE1(_EAX) + (_EAX < 0x16D5BF42) + _EAX;
      BYTE1(v13) = __ROL1__(BYTE1(v74), v14);
      _CL = v74;
      _EDX = __ROL4__(v13, 2);
      __asm { rcr     ax, cl }
      LOBYTE(_EDX) = (unsigned __int8)_EDX >> v74;
      LOBYTE(v14) = 0;
      BYTE1(v14) = _EDX;
      __asm
      {
        rcl     edx, 8
        rcl     eax, 5
      }
      if ( _ESI == -1921631514 )
        JUMPOUT(0x406520);
      _CF = __CFSHR__(_EDX, v14);
      LOBYTE(_EDX) = (unsigned __int8)_EDX >> v14;
      v59 = _CF;
      _CF = __CFADD__(_CF, _EDX);
      v58 = v59 + _EDX;
      _CF |= __CFADD__(_EDI, v58);
      _EDX = _EDI + v58;
      LOBYTE(_EDX) = _EDX - (_CF + BYTE1(_EDX));
      BYTE1(_EDX) = __ROL1__(BYTE1(_EDX), v14);
      if ( v14 == 1070099819 )
        JUMPOUT(0x406929);
      LOBYTE(v14) = 0;
      v74 = -1201292168;
      LOBYTE(_EAX) = _EAX ^ 0x4B;
      v9 = _EDI | 0xFD0227D0;
      v71 = _EAX | -v14;
      v10 = _EDX < 0x8355500C;
      if ( _EDX != -2091560948 )
      {
        LOBYTE(v71) = (unsigned __int8)v71 >> v71;
        v74 = 1892382960;
        BYTE1(v71) = __CFSHL__(-1201292168, 1) + BYTE1(v71) - 126;
        _CF = __CFADD__(BYTE1(v71), 2);
        BYTE1(v71) += 2;
        LOBYTE(_EDX) = _CF + _EDX + 15;
        LOWORD(_EDX) = (_WORD)_EDX << v71;
        BYTE1(_EDX) = 0;
        if ( v71 != -2022539982 )
        {
          v69 = v9 - _ESI;
          LOBYTE(_EAX) = _EAX ^ 0x78;
          HIWORD(v71) = HIWORD(_ESI) | ((__PAIR64__(v71, v9) - __PAIR64__(_ESI, _ESI)) >> 48);
          BYTE1(v71) = BYTE1(_EAX) & HIBYTE(v69);
          LOBYTE(v71) = (char)(_EAX & v69) >> 2;
          __asm { rcl     ah, 0Eh }
          if ( v71 == 491485839 )
            JUMPOUT(0x406A72);
          JUMPOUT(0x4064C5);
        }
        _ECX = __ROL4__(-2022539982, 1);
        _CF = (unsigned __int8)_EDX < *(_BYTE *)_EAX;
        _EAX = (int)&v161;
        v78 = _CF;
        _CF = __CFADD__(_CF, BYTE1(_ECX));
        BYTE1(_ECX) += v78;
        _CF |= __CFADD__((unsigned __int8)&v161, BYTE1(_ECX));
        BYTE1(_ECX) += (unsigned __int8)&v161;
LABEL_23:
        _EDX = _EDX - (_CF + 1492266179);
        __asm
        {
          rcl     edx, cl
          rcl     ax, cl
        }
        _DX = __CFSHL__(_EAX, 22) + (_WORD)_EDX - 26771;
        __asm { rcl     dh, 0Eh }
        BYTE1(_ECX) = (char)(_DX | BYTE1(_ECX)) >> 7;
        v82 = _ECX - v74;
        LOWORD(v9) = v74 ^ v9;
        _EDI = v9 - v82;
        BYTE1(v82) >>= 6;
        if ( v82 == 1493839385 )
          JUMPOUT(0x406903);
        _CL = 93;
        __asm { rcl     di, cl }
        _CL = 0;
        __asm { rcr     dl, cl }
        _DL = v74;
        __asm { rcr     edi, cl }
        if ( _ESI == 1789683728 )
          JUMPOUT(0x406890);
        _CL = -5;
        __asm { rcl     dl, cl }
        _CL = 25;
        __asm { rcl     cl, cl }
        JUMPOUT(0x406D4B);
      }
      _EDI = v161;
      LOBYTE(_EAX) = 80;
      __asm { bound   edi, [edx-24h] }
      _ECX = v162;
    }
    __debugbreak();
  }
}
// 40705B: positive sp value 8 has been found
// 406856: control flows out of bounds to 40685C
// 40688F: control flows out of bounds to 406890
// 4068FE: control flows out of bounds to 406903
// 406926: control flows out of bounds to 406929
// 406A6C: control flows out of bounds to 406A72
// 406C0B: control flows out of bounds to 406C0C
// 406DA1: control flows out of bounds to 406DA3
// 406E1D: control flows out of bounds to 406E20
// 4063FF: control flows out of bounds to 406400
// 40651F: control flows out of bounds to 406520
// 406548: control flows out of bounds to 406549
// 406641: control flows out of bounds to 406642
// 406790: control flows out of bounds to 406791
// 40709C: control flows out of bounds to 40709E
// 4069DB: control flows out of bounds to 406E1B
// 406E90: control flows out of bounds to 406F55
// 40633E: control flows out of bounds to 40646A
// 4065E5: control flows out of bounds to A88EB015
// 406F66: control flows out of bounds to 406829
// 40720E: control flows out of bounds to 6EEA3243
// 406856: control flows out of bounds to 406571
// 406A6C: control flows out of bounds to 4064C5
// 406BB6: control flows out of bounds to 406B9D
// 406BB8: control flows out of bounds to 406BB7
// 406D45: control flows out of bounds to 406D83
// 406E11: control flows out of bounds to 406F34
// 406E1A: control flows out of bounds to 406DDC
// 4063F8: control flows out of bounds to 4065E2
// 40678A: control flows out of bounds to 406D4B
// 407072: control flows out of bounds to 4070B0
// 407085: control flows out of bounds to 4070AD
// 40709C: control flows out of bounds to 40708A
// 4070AC: control flows out of bounds to 407058
// 4070B9: control flows out of bounds to 4070EF
// 4070D6: control flows out of bounds to 4070F7
// 407105: control flows out of bounds to 4070BC
// 40710F: control flows out of bounds to 4070B4
// 40711A: control flows out of bounds to 407159
// 40711E: control flows out of bounds to 407170
// 407140: control flows out of bounds to 40712B
// 407144: control flows out of bounds to 4070E5
// 40716C: control flows out of bounds to 4071AC
// 40718B: control flows out of bounds to 407186
// 40719E: control flows out of bounds to 4071CE
// 4071A0: control flows out of bounds to 4071D0
// 406BB8: conditional instruction was optimized away because of 'ecx.4==AD9A2D96'
// 40678A: conditional instruction was optimized away because of 'esi.4==7E72C400'
// 407072: conditional instruction was optimized away because of 'edi.4>=FFFFFFA8u'
// 407077: conditional instruction was optimized away because of 'edi.4>=FFFFFFA8u'
// 406FEF: variable 'v111' is possibly undefined
// 406FF4: variable 'v113' is possibly undefined
// 406FF4: variable '_ZF' is possibly undefined
// 40704D: variable '_SF' is possibly undefined
// 40704D: variable '_OF' is possibly undefined
// 40706E: variable '_EDX' is possibly undefined
// 4071F3: variable 'v159' is possibly undefined
// 407E58: using guessed type double sub_407E58();

//----- (00407E58) --------------------------------------------------------
#error "407DFD: cannot convert to microcode (funcsize=211)"

// nfuncs=2 queued=2 decompiled=2 lumina nreq=0 worse=0 better=0
#error "There were 1 decompilation failure(s) on 2 function(s)"
