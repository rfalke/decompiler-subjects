/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, int@<edx>, int@<ecx>, unsigned int@<ebp>);

//-------------------------------------------------------------------------
// Data declarations

int dword_433000[512] =
{
  -1,
  -964605696,
  825643079,
  1238600514,
  -2126328061,
  1095190979,
  16836918,
  -1962905936,
  1147781104,
  -1207959590,
  611583602,
  3795712,
  1986521729,
  54525952,
  -1192129593,
  -553044156,
  602898394,
  1258303150,
  50388486,
  1041649358,
  265207937,
  -37961797,
  1388250846,
  -1053949849,
  -1142197193,
  1447673600,
  1533200141,
  922745723,
  1841262921,
  -2123871647,
  945113833,
  1895824980,
  -620741611,
  1189989375,
  1445610215,
  1238434666,
  63933279,
  -1678278198,
  -76742644,
  834337629,
  239301685,
  1198870341,
  292247994,
  -16799657,
  1810561919,
  558519889,
  1388478785,
  -1889250964,
  1438187590,
  -1949330832,
  2145075927,
  1472195951,
  1176218721,
  1284625923,
  -1185398272,
  -151040510,
  -1955266697,
  880392662,
  -1391243933,
  -334102679,
  -126598704,
  1048963,
  -33717745,
  -1359745289,
  1479844865,
  -667926216,
  1122334455,
  1844704003,
  -1153656859,
  15927554,
  -208538646,
  -2131561520,
  -207632307,
  -214692729,
  -1762058315,
  150207583,
  -1978613535,
  1144058670,
  2106561434,
  1044348935,
  206922739,
  -164119813,
  -2079451285,
  -2095899337,
  116123460,
  1700944868,
  -92101052,
  1873833228,
  67404644,
  45160814,
  -1755288468,
  -1610866554,
  -27569464,
  813429260,
  1365404659,
  -404851646,
  1978815546,
  -970072929,
  -1930201588,
  1212184325,
  263239624,
  838064420,
  -322302478,
  -61978192,
  1236046542,
  1663532064,
  220353551,
  1929674737,
  -1240616337,
  423850783,
  227792001,
  289109234,
  239461032,
  1614480307,
  1597184337,
  -162134317,
  298943536,
  1454749861,
  167323382,
  15479440,
  -428135387,
  298123066,
  1264681492,
  -201789298,
  -1249026218,
  -1868886528,
  -1672592929,
  -1006094176,
  -383687248,
  383506539,
  1741630599,
  -1980556456,
  -323242882,
  1403348273,
  153223176,
  643498108,
  1389720786,
  942470088,
  -1222330688,
  49930374,
  1103681864,
  -672599206,
  -460991712,
  376582487,
  -1325996065,
  197342787,
  1296241436,
  -1045405408,
  806390584,
  51594511,
  19247938,
  -1724517617,
  1724542693,
  67191814,
  1012724480,
  -458046654,
  -512157165,
  -378278936,
  -2001548948,
  908394647,
  250643208,
  -1413629166,
  -295313693,
  -1057779911,
  703725591,
  -1822116980,
  1354503038,
  205299469,
  2076993906,
  -203164762,
  -649934275,
  -1139212432,
  -819751908,
  1495986675,
  2135105912,
  1676467564,
  -1393326827,
  935990112,
  897934426,
  1853066643,
  667333251,
  -355770053,
  -854257512,
  603139338,
  903394063,
  1941465006,
  1480603040,
  2121927102,
  1324676147,
  775602777,
  -947584983,
  -1066250861,
  557563404,
  -328961015,
  271660128,
  4431996,
  774904614,
  367615939,
  -1639388131,
  -1066895423,
  -1876980302,
  313199027,
  -217889821,
  -1820550054,
  604987949,
  -1890310943,
  260268109,
  1780322636,
  -1302336269,
  1013288974,
  1484390528,
  -1604266295,
  940936990,
  -663027498,
  1692484700,
  -917703103,
  1243471718,
  1293267824,
  206004424,
  1389945863,
  -1503190666,
  1632848917,
  -935500402,
  1879086330,
  2002529664,
  -1558709991,
  -1913122216,
  -1766043857,
  -553411853,
  -733163423,
  532774873,
  941208202,
  119561249,
  76545794,
  -161234794,
  -2013395436,
  -402496731,
  75597930,
  -534466537,
  -1512189103,
  -1022354663,
  -775193502,
  1298941078,
  -1394698436,
  -344481629,
  1663068749,
  1428921731,
  406077798,
  -1210629710,
  -2071967706,
  -1841905517,
  1801583918,
  -60561005,
  -1488846810,
  943488685,
  -972753051,
  576628662,
  -149186621,
  2036655269,
  283865715,
  -427166845,
  373934662,
  -1802565736,
  -1936937579,
  -1331252687,
  1885585009,
  171280200,
  -1932820297,
  -643955699,
  1040598777,
  -1740000711,
  -833206283,
  -1406743962,
  2054885718,
  -698830279,
  -137970812,
  783462498,
  1312675934,
  -1378349902,
  1702939169,
  1531581647,
  844706311,
  400636801,
  660610136,
  -375109048,
  459578150,
  320614721,
  -348680367,
  1854152896,
  322659636,
  559186882,
  -664318124,
  -114578397,
  344460526,
  65824609,
  50795250,
  1645979506,
  -932054270,
  1290520181,
  1700940621,
  654375243,
  59728672,
  -1725210725,
  1300456665,
  293348811,
  -2127789130,
  -202443853,
  1335689221,
  752083980,
  -1060708268,
  906453216,
  1637655328,
  -490666155,
  1868227827,
  232911781,
  -656086668,
  671573392,
  -1277075417,
  2053176724,
  -1313378047,
  -923822478,
  457906334,
  1869024829,
  1279210569,
  1072904022,
  1934320860,
  800601292,
  -1329252782,
  158818794,
  672090267,
  -320274628,
  1873904911,
  -1190318666,
  -1311935477,
  -796798371,
  170078982,
  2033040171,
  -922055264,
  -1757120449,
  1117647389,
  699733473,
  -1937638591,
  818176112,
  220310446,
  643118204,
  -1307673937,
  -1995927337,
  453596415,
  -834848750,
  623649049,
  -793610767,
  8857095,
  247698148,
  -587132018,
  -302887650,
  1113659109,
  -875176717,
  -1047559424,
  -1596170229,
  247481108,
  -2012434580,
  404141567,
  763287837,
  -669809960,
  1630579812,
  -920997861,
  -631603789,
  -1803489763,
  -615978432,
  -1404184113,
  -925342556,
  1246429322,
  1299524632,
  633373465,
  1511819087,
  248003077,
  74389084,
  959316198,
  -526795932,
  807434924,
  936087590,
  1824900090,
  577746498,
  -652372777,
  -889620473,
  -766242659,
  1671887752,
  -315662249,
  907215091,
  -915595781,
  -2072957894,
  52029665,
  880634934,
  -616409349,
  -1316743134,
  278557670,
  155735638,
  2417889,
  1510822847,
  -661461182,
  1493600229,
  295252704,
  -1824835123,
  614340407,
  1695729475,
  140243926,
  106693476,
  -1352656951,
  1698366369,
  -948031311,
  1918288894,
  -2006052718,
  239789088,
  1936732835,
  -1871314622,
  990844088,
  1197859613,
  1658699250,
  -1418370044,
  712398899,
  1855270154,
  623166613,
  1000600537,
  2111326770,
  317749640,
  785097575,
  1519479024,
  633932799,
  -1885801521,
  977928416,
  -1528113576,
  650226459,
  1963928812,
  -872874745,
  1476871768,
  1769688341,
  -1064270154,
  231317309,
  739494156,
  590848383,
  -397839231,
  1977927804,
  879004032,
  -893362938,
  1096978894,
  1480808191,
  527993245,
  -1066881307,
  2143306259,
  1016988915,
  1044582459,
  -201785728,
  1024033071,
  -763291328,
  252080578,
  1334256701,
  -1928160936,
  -1173665580,
  1563515868,
  811078434,
  286317445,
  2045624338,
  1902501142,
  -1536115732,
  1957527815,
  727150363,
  2130208441,
  -896422947,
  1286778242,
  -662009266,
  -1229238421,
  -1588691363,
  108626218,
  510816787,
  -2022024883,
  1980507605,
  1528537109,
  638330559,
  1563964457,
  -1234197312,
  -38144884,
  1613881605,
  -432454621,
  -1796135897,
  857563948,
  2193628,
  1935694706,
  889723359,
  -523875624,
  1496716501,
  1979832328,
  496921032,
  611726311,
  -521923715,
  650899991,
  1189089056,
  626754705,
  491480976,
  -1041066031,
  133209488,
  2119589812,
  207122577,
  435987758,
  920130221,
  406597590,
  -2029429396,
  -2139718042,
  906267762,
  358429569,
  2024938809,
  -365914956,
  14160872
}; // weak


//----- (0043A160) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebp>)
{
  int *v4; // esi
  int *v5; // edi
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  unsigned int v11; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  bool v16; // zf
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  unsigned int v20; // eax
  int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ebx
  int v25; // ett
  BOOL v26; // ecx
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ebx
  int v35; // ett
  bool v36; // zf
  int v37; // ebx
  int v38; // ett
  unsigned int v39; // ecx
  char *v40; // edx
  char v41; // al
  int v42; // eax
  bool v43; // cc
  int *v44; // esi
  int *v45; // edi
  int v46; // ecx
  char v47; // al
  unsigned __int8 v48; // al
  int v49; // eax
  int v50; // eax
  char v51; // t0
  unsigned __int8 v52; // bl
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__cdecl *v61)(int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  int v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v72 = &v76;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v4 = dword_433000;
  v5 = &dword_433000[-51200];
  v67 = &dword_433000[-51200];
  while ( 1 )
  {
    v9 = *v4;
    v7 = (unsigned int)v4++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v4;
        v4 = (int *)((char *)v4 + 1);
        *(_BYTE *)v5 = v6;
        v5 = (int *)((char *)v5 + 1);
      }
      else
      {
        v11 = 1;
        while ( 1 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v11 += v12 + v11;
          v7 = __CFADD__(v13, v13);
          v16 = 2 * v13 == 0;
          v8 = 2 * v13;
          if ( v7 )
          {
            if ( !v16 )
              break;
            v17 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v18 = v7 + v17;
            v7 = __CFADD__(v7, v17) | __CFADD__(v17, v18);
            v8 = v17 + v18;
            if ( v7 )
              break;
          }
        }
        v7 = v11 < 3;
        v19 = v11 - 3;
        if ( !v7 )
        {
          v20 = v19 << 8;
          LOBYTE(v20) = *(_BYTE *)v4;
          v4 = (int *)((char *)v4 + 1);
          v21 = ~v20;
          if ( !v21 )
          {
            v44 = v67;
            v45 = v67;
            v46 = 46;
            while ( 1 )
            {
              v47 = *(_BYTE *)v45;
              v45 = (int *)((char *)v45 + 1);
              v48 = v47 + 24;
              while ( v48 <= 1u && !*(_BYTE *)v45 )
              {
                v49 = *v45;
                LOWORD(v49) = BYTE1(*v45);
                v50 = __ROL4__(v49, 16);
                v51 = v50;
                LOBYTE(v50) = BYTE1(v50);
                BYTE1(v50) = v51;
                v52 = *((_BYTE *)v45 + 4) + 24;
                *v45 = (int)v44 + v50 - (_DWORD)v45;
                v45 = (int *)((char *)v45 + 5);
                v48 = v52;
                if ( !--v46 )
                {
                  v53 = (char *)(v44 + 55296);
LABEL_38:
                  v54 = *(_DWORD *)v53;
                  if ( *(_DWORD *)v53 )
                  {
                    v55 = (int *)((char *)v44 + *((_DWORD *)v53 + 1));
                    v53 += 8;
                    v56 = ((int (__cdecl *)(int, int, int, int, int, int *, int, int, int))v44[60886])(
                            (int)v44 + v54 + 243304,
                            v68,
                            v69,
                            v70,
                            v71,
                            v72,
                            v73,
                            v74,
                            v75);
                    while ( 1 )
                    {
                      v57 = *v53++;
                      if ( !v57 )
                        goto LABEL_38;
                      v58 = v53;
                      v66 = v53;
                      v59 = v57 - 1;
                      do
                      {
                        if ( !v58 )
                          break;
                        v16 = *v53++ == (char)v59;
                        --v58;
                      }
                      while ( !v16 );
                      v60 = ((int (__cdecl *)(int, char *))v44[60887])(v56, v66);
                      if ( !v60 )
                        break;
                      *v55++ = v60;
                    }
                    v54 = ((int (*)(void))v44[60891])();
                  }
                  v61 = (void (__cdecl *)(int *, int, int, int *))v44[60888];
                  v62 = v44 - 1024;
                  v64 = v54;
                  v61(v44 - 1024, 4096, 4, &v64);
                  *((_BYTE *)v62 + 543) &= ~0x80u;
                  *((_BYTE *)v62 + 583) &= ~0x80u;
                  v61(v44 - 1024, 4096, v63[0], v63);
                  do
                    v64 = 0;
                  while ( &v64 != &v65 - 32 );
                  JUMPOUT(0x4010EB);
                }
              }
            }
          }
          a4 = v21;
        }
        v22 = __CFADD__(v8, v8);
        v23 = 2 * v8;
        if ( !v23 )
        {
          v24 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v25 = v7 + v24;
          v22 = __CFADD__(v7, v24) | __CFADD__(v24, v25);
          v23 = v24 + v25;
        }
        v26 = v22;
        v27 = __CFADD__(v23, v23);
        v8 = 2 * v23;
        if ( !v8 )
        {
          v28 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v29 = v7 + v28;
          v27 = __CFADD__(v7, v28) | __CFADD__(v28, v29);
          v8 = v28 + v29;
        }
        v30 = v26 + v27 + v26;
        if ( !v30 )
        {
          v31 = 1;
          while ( 1 )
          {
            v32 = __CFADD__(v8, v8);
            v33 = 2 * v8;
            if ( !v33 )
            {
              v34 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v35 = v7 + v34;
              v32 = __CFADD__(v7, v34) | __CFADD__(v34, v35);
              v33 = v34 + v35;
            }
            v31 += v32 + v31;
            v7 = __CFADD__(v33, v33);
            v36 = 2 * v33 == 0;
            v8 = 2 * v33;
            if ( v7 )
            {
              if ( !v36 )
                break;
              v37 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v38 = v7 + v37;
              v7 = __CFADD__(v7, v37) | __CFADD__(v37, v38);
              v8 = v37 + v38;
              if ( v7 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v39 = (a4 < 0xFFFFF300) + v30 + 1;
        v40 = (char *)v5 + a4;
        if ( a4 <= 0xFFFFFFFC )
        {
          do
          {
            v42 = *(_DWORD *)v40;
            v40 += 4;
            *v5++ = v42;
            v43 = v39 <= 4;
            v39 -= 4;
          }
          while ( !v43 );
          v5 = (int *)((char *)v5 + v39);
        }
        else
        {
          do
          {
            v41 = *v40++;
            *(_BYTE *)v5 = v41;
            v5 = (int *)((char *)v5 + 1);
            --v39;
          }
          while ( v39 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 43A2E3: positive sp value 50 has been found
// 43A2E3: control flows out of bounds to 4010EB
// 433000: using guessed type int dword_433000[512];
// 43A160: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
