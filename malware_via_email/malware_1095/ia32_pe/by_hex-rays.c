/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

_DWORD __cdecl sub_401140(_DWORD); // weak
// char *__usercall sub_4011E1@<eax>(char *@<eax>, int@<edx>, int@<ebx>);
// int __usercall SetFcuynvyqxr@<eax>(char@<cf>, char@<al>, int@<edx>, int@<ecx>, int@<ebx>, int@<ebp>, _BYTE *@<edi>, int@<esi>);
_DWORD __cdecl sub_4015B8(_DWORD); // weak
// HPEN __usercall sub_4015BD@<eax>(int@<ebx>, int@<ebp>, int@<edi>, int@<esi>);
// void __usercall IsMnxsqhkunm(int@<edx>, int@<ebp>, int@<esi>, int);
// void __usercall Urlnavmjr(int@<eax>, char *@<edi>);
// void __usercall start(int@<ecx>, int@<ebx>, int@<ebp>, int@<edi>, int@<esi>, int, int, int, int, int);
// void __usercall sub_401D9A(char@<al>, int@<ecx>, int@<ebx>, int@<edi>);
// HPEN __usercall sub_401E93@<eax>(int@<ebx>, int@<ebp>, int@<edi>, int@<esi>);
// HPEN __usercall sub_401EB8@<eax>(int@<ebx>, int@<esi>);
// HPEN __usercall sub_401EC7@<eax>(int@<ebx>, int@<esi>);
// void __usercall sub_401EF3(int@<edx>, int@<edi>, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int);
// void __usercall ofmswcp_7(unsigned int@<eax>, int@<ecx>, unsigned int@<edi>, int@<esi>, int, int, int, int, char, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int);

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN loc_401778; // weak
__int16 word_401806 = 0; // weak
// extern LPVOID (__stdcall *VirtualAllocEx)(HANDLE hProcess, LPVOID lpAddress, SIZE_T dwSize, DWORD flAllocationType, DWORD flProtect);
// extern HPEN (__stdcall *ExtCreatePen)(DWORD iPenStyle, DWORD cWidth, const LOGBRUSH *plbrush, DWORD cStyle, const DWORD *pstyle);
void *off_405000 = (void *)0x410CCA; // weak
int dword_4090BA = -1010580541; // weak
int dword_409116 = -1010580541; // weak
int dword_409162 = -1010580541; // weak
int dword_4091D9 = -1010580541; // weak
int dword_4092B8 = -1010580541; // weak
int dword_4092E6 = -1010580541; // weak
int dword_40933E = -1010580541; // weak
int dword_4093D2 = -1010580541; // weak
int dword_409468 = -1010580541; // weak
int dword_40948E = -1010580541; // weak
int dword_40955C = -1010580541; // weak
int dword_409693 = -1010580541; // weak
int dword_409716 = -1010580541; // weak
int dword_409809 = -1010580541; // weak
int dword_409834 = -1010580541; // weak
int dword_4099F2 = -1010580541; // weak
int dword_409AFF = -1010580541; // weak
int dword_409B78 = -1010580541; // weak
int dword_409BAC = -1010580541; // weak
int dword_409C56 = -1010580541; // weak
int dword_409CBD = -1010580541; // weak
int dword_409D0C = -1010580541; // weak
int dword_409DFC = -1010580541; // weak
int dword_409F64 = -1010580541; // weak
int dword_409FF3 = -1010580541; // weak
int dword_40A041 = -1010580541; // weak
int dword_40A0B2 = -1010580541; // weak
int dword_40A208 = -1010580541; // weak
int dword_40A25F = -1010580541; // weak
int dword_40A2A4 = -1010580541; // weak
int dword_40A2D7 = -1010580541; // weak
int dword_40A431 = -1010580541; // weak
int dword_40A491 = -1010580541; // weak
int dword_40A4CB = -1010580541; // weak
int dword_40A506 = -1010580541; // weak
int dword_40A57D = -1010580541; // weak
int dword_40A5E3 = -1010580541; // weak
int dword_40A66E = -1010580541; // weak
int dword_40A6A1 = -1010580541; // weak
int dword_40A752 = -1010580541; // weak
int dword_40A78F = -1010580541; // weak
int dword_40A7B8 = -1010580541; // weak
int dword_40A97D = -1010580541; // weak
int dword_40AABB = -1010580541; // weak
int dword_40AC3C = -1010580541; // weak
int dword_40AC5A = -1010580541; // weak
int dword_40AC87 = -1010580541; // weak
int dword_40AD6D = -1010580541; // weak
int dword_40AE1B = -1010580541; // weak
int dword_40AFA1 = -1010580541; // weak
int dword_40B090 = -1010580541; // weak
int dword_40B0E4 = -1010580541; // weak
int dword_40B0F9 = -1010580541; // weak
int dword_40B111 = -1010580541; // weak
int dword_40B1D4 = -1010580541; // weak
int dword_40B242 = -1010580541; // weak
int dword_40B2A7 = -1010580541; // weak
int dword_40B341 = -1010580541; // weak
int dword_40B36F = -1010580541; // weak
int dword_40B43D = -1010580541; // weak
int dword_40B617 = -1010580541; // weak
int dword_40B6B9 = -1010580541; // weak
int dword_40B6F3 = -1010580541; // weak
int dword_40B71F = -1010580541; // weak
int dword_40B798 = -1010580541; // weak
int dword_40B7DE = -1010580541; // weak
int dword_40B7F5 = -1010580541; // weak
int dword_40B839 = -1010580541; // weak
int dword_40B889 = -1010580541; // weak
int dword_40B90D = -1010580541; // weak
int dword_40BB5A = -1010580541; // weak
int dword_40BB81 = -1010580541; // weak
int dword_40BBBD = -1010580541; // weak
int dword_40BBDD = -1010580541; // weak
int dword_40BCB6 = -1010580541; // weak
int dword_40BE67 = -1010580541; // weak
int dword_40C0F5 = -1010580541; // weak
int dword_40C17B = -1010580541; // weak
int dword_40C207 = -1010580541; // weak
int dword_40C228 = -1010580541; // weak
int dword_40C321 = -1010580541; // weak
int dword_40C36D = -1010580541; // weak
int dword_40C38E = -1010580541; // weak
int dword_40C3F5 = -1010580541; // weak
int dword_40C40E = -1010580541; // weak
int dword_40C465 = -1010580541; // weak
int dword_40C5FE = -1010580541; // weak
int dword_40C65C = -1010580541; // weak
int dword_40C762 = -1010580541; // weak
int dword_40C8B5 = -1010580541; // weak
int dword_40C8D0 = -1010580541; // weak
int dword_40C922 = -1010580541; // weak
int dword_40C9C5 = -1010580541; // weak
int dword_40CA00 = -1010580541; // weak
int dword_40CA34 = -1010580541; // weak
int dword_40CAAE = -1010580541; // weak
int dword_40CACC = -1010580541; // weak
int dword_40CB3A = -1010580541; // weak
int dword_40CBBD = -1010580541; // weak
int dword_40CC06 = -1010580541; // weak
int dword_40CE09 = -1010580541; // weak
int dword_40CEA4 = -1010580541; // weak
int dword_40CFCD = -1010580541; // weak
int dword_40D009 = -1010580541; // weak
int dword_40D06C = -1010580541; // weak
int dword_40D0B7 = -1010580541; // weak
int dword_40D284 = -1010580541; // weak
int dword_40D359 = -1010580541; // weak
int dword_40D440 = -1010580541; // weak
int dword_40D466 = -1010580541; // weak
int dword_40D4AA = -1010580541; // weak
int dword_40D54E = -1010580541; // weak
int dword_40D5A0 = -1010580541; // weak
int dword_40D5FE = -1010580541; // weak
int dword_40D658 = -1010580541; // weak
int dword_40D6C2 = -1010580541; // weak
int dword_40D6E2 = -1010580541; // weak


//----- (00401140) --------------------------------------------------------
#error "4011BF: call analysis failed (funcsize=42)"

//----- (004011E1) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
char *__usercall sub_4011E1@<eax>(char *a1@<eax>, int a2@<edx>, int a3@<ebx>)
{
  int v3; // ebx
  int v4; // edx
  int v5; // ebx
  unsigned int *v6; // ecx
  char *v7; // edi
  char *v8; // esi
  int v9; // ebx
  int v10; // edx
  unsigned int v11; // ecx
  int v12; // ebx
  char *v13; // ebx
  int v14; // esi
  int v15; // edx
  unsigned int *v17; // [esp-Ch] [ebp-10h]
  char *v18; // [esp-8h] [ebp-Ch]

  LOBYTE(a2) = 43;
  v18 = a1;
  v3 = a3 - (_DWORD)a1;
  v4 = dword_409C56 + a2;
  if ( &word_401806 != (__int16 *)-1 )
  {
    v5 = v3 - dword_40D4AA;
    v6 = (unsigned int *)&word_401806;
    dword_40CAAE += v5;
    v7 = a1;
    LOBYTE(v4) = 1;
    v8 = a1;
    v9 = MEMORY[0x4106DC] + v5 - v4;
    v10 = v4 + 1;
    dword_40C8D0 += v10;
    while ( 1 )
    {
      BYTE1(v9) = 5;
      if ( a1 != v7 )
      {
        v17 = v6;
        dword_40CA00 += v10;
        v11 = *v6;
        if ( !v11 )
        {
          v13 = &a1[v11 + MEMORY[0x41129A] - v10];
          dword_40CA34 = v10;
          LOBYTE(v13) = 117;
          v14 = v8 - v7;
          v15 = 112 * (_DWORD)v17;
          do
          {
            *v7 = 0;
            v13 -= 2;
            dword_40A208 = v15;
            ++v7;
            v15 = v14--;
          }
          while ( v14 );
          return v18;
        }
        v12 = (unsigned __int8)v11;
        dword_409D0C += (int)&v8[v10];
        dword_40C65C = (int)&v8[MEMORY[0x410731] - v11 - dword_409162];
        qmemcpy(v7, v8, v11);
        v8 += v11;
        v7 += v11;
        v6 = v17;
        v9 = dword_40AC5A + v12;
      }
      v9 += dword_40B839;
      v8 += 16;
      ++v6;
      dword_40D06C -= v9;
      a1 = &v8[*v6];
      v10 = (int)v6 + *v6 - dword_40D440;
    }
  }
  return v18;
}
// 4012CD: positive sp value 4 has been found
// 401806: using guessed type __int16 word_401806;
// 409162: using guessed type int dword_409162;
// 409C56: using guessed type int dword_409C56;
// 409D0C: using guessed type int dword_409D0C;
// 40A208: using guessed type int dword_40A208;
// 40AC5A: using guessed type int dword_40AC5A;
// 40B839: using guessed type int dword_40B839;
// 40C65C: using guessed type int dword_40C65C;
// 40C8D0: using guessed type int dword_40C8D0;
// 40CA00: using guessed type int dword_40CA00;
// 40CA34: using guessed type int dword_40CA34;
// 40CAAE: using guessed type int dword_40CAAE;
// 40D06C: using guessed type int dword_40D06C;
// 40D440: using guessed type int dword_40D440;
// 40D4AA: using guessed type int dword_40D4AA;

//----- (004014A9) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall SetFcuynvyqxr@<eax>(
        char a1@<cf>,
        char a2@<al>,
        int a3@<edx>,
        int a4@<ecx>,
        int a5@<ebx>,
        int a6@<ebp>,
        _BYTE *a7@<edi>,
        int a8@<esi>)
{
  int result; // eax
  int v9; // ebx
  int v10; // ebx
  int v11; // [esp-110h] [ebp-110h]
  _BYTE v12[256]; // [esp-104h] [ebp-104h]
  int v13; // [esp-4h] [ebp-4h]

  LOBYTE(result) = a2 - (a1 - 96);
  do
  {
    dword_40C321 = dword_409834 + a3 + a5;
    result = (unsigned __int8)(result + 1);
    LOBYTE(a4) = v12[result];
    dword_409DFC += dword_40D5A0 + dword_40BBDD;
    v9 = 121 * result;
    dword_40B617 -= 121 * result;
    a8 = (unsigned __int8)(a8 + a4);
    LOBYTE(v9) = 48;
    v10 = v9 - dword_409F64 - 1;
    v12[result] = v12[a8];
    dword_409F64 -= v10 - result;
    v12[a8] = a4;
    a3 = (unsigned __int8)(a4 + v12[result]);
    dword_40A431 = 31 * (a4 + (unsigned __int8)v12[result]);
    a4 = (unsigned __int8)v12[a3];
    *a7++ ^= a4;
    dword_40CA00 -= a4 + 1 - dword_409468;
    a5 = 27 * result - dword_40C38E;
    dword_40A041 += a5;
    --a6;
  }
  while ( a6 );
  dword_409693 = dword_40D6C2 + 60 * v13 - 1;
  dword_40A7B8 -= v11 + dword_4091D9 - MEMORY[0x4105EC] - dword_40A208;
  return result;
}
// 4015B7: positive sp value 118 has been found
// 40159F: variable 'v11' is possibly undefined
// 4091D9: using guessed type int dword_4091D9;
// 409468: using guessed type int dword_409468;
// 409693: using guessed type int dword_409693;
// 409834: using guessed type int dword_409834;
// 409DFC: using guessed type int dword_409DFC;
// 409F64: using guessed type int dword_409F64;
// 40A041: using guessed type int dword_40A041;
// 40A208: using guessed type int dword_40A208;
// 40A431: using guessed type int dword_40A431;
// 40A7B8: using guessed type int dword_40A7B8;
// 40B617: using guessed type int dword_40B617;
// 40BBDD: using guessed type int dword_40BBDD;
// 40C321: using guessed type int dword_40C321;
// 40C38E: using guessed type int dword_40C38E;
// 40CA00: using guessed type int dword_40CA00;
// 40D5A0: using guessed type int dword_40D5A0;
// 40D6C2: using guessed type int dword_40D6C2;

//----- (004015BD) --------------------------------------------------------
HPEN __usercall sub_4015BD@<eax>(int a1@<ebx>, int a2@<ebp>, int a3@<edi>, int a4@<esi>)
{
  int v4; // edx
  int v5; // ecx
  unsigned int v6; // eax
  int v7; // eax
  HPEN result; // eax
  int v9; // ebx
  int v10; // ebx

  sub_401EB8(a1, a4);
  dword_40D0B7 = a1 - dword_409DFC;
  v6 = __readfsdword(0x18u) + 24;
  v7 = *(_DWORD *)(v6 + 28) + v6 - 9;
  dword_40A506 = v4 + v5 - 1 - dword_40CE09 - MEMORY[0x4109F0];
  dword_40AABB = MEMORY[0x4106A0] + MEMORY[0x4109F0] - dword_40C0F5 - 1;
  dword_40C3F5 += dword_40B6B9 + MEMORY[0x41098C];
  dword_40B111 += dword_4092E6 + dword_40C9C5 + dword_40B7F5 + v7;
  dword_409162 += dword_40AC3C + a3 - 1 - dword_40B889;
  result = (HPEN)(v7 - 102);
  dword_40B242 += dword_40C922 + 25 * v4;
  if ( (_BYTE)result )
  {
    v9 = 35 * v4 - 1;
    dword_40AC3C -= v9;
    LOBYTE(v9) = 31;
    result = sub_401EC7(v9 - dword_40BE67, a4);
    dword_40A2D7 = v5 + (unsigned __int16)result;
    dword_40D0B7 -= dword_4092B8 + dword_40CC06;
    dword_40A5E3 += dword_409716 + dword_40B0F9 - dword_40CE09 + 1;
    dword_40D284 += v4 + (__int16)v4 - dword_409B78;
  }
  dword_40C65C = dword_40B798 + (unsigned __int16)result;
  dword_40A78F = (unsigned __int16)v4 - a3;
  dword_40C38E -= dword_40A752 + dword_40D4AA + v5 - dword_40AE1B;
  dword_4090BA -= v4 + a2 - dword_40C5FE - dword_40955C;
  v10 = dword_40CBBD + dword_40D6E2 + dword_40B090 + dword_40D466;
  dword_40A66E += v10;
  LOBYTE(v10) = 44;
  dword_4099F2 -= MEMORY[0x4106A0] + v10 - dword_40AC87 - dword_40A4CB;
  return result;
}
// 4015D2: variable 'v4' is possibly undefined
// 4015D2: variable 'v5' is possibly undefined
// 4090BA: using guessed type int dword_4090BA;
// 409162: using guessed type int dword_409162;
// 4092B8: using guessed type int dword_4092B8;
// 4092E6: using guessed type int dword_4092E6;
// 40955C: using guessed type int dword_40955C;
// 409716: using guessed type int dword_409716;
// 409834: using guessed type int dword_409834;
// 4099F2: using guessed type int dword_4099F2;
// 409B78: using guessed type int dword_409B78;
// 409DFC: using guessed type int dword_409DFC;
// 40A2D7: using guessed type int dword_40A2D7;
// 40A4CB: using guessed type int dword_40A4CB;
// 40A506: using guessed type int dword_40A506;
// 40A5E3: using guessed type int dword_40A5E3;
// 40A66E: using guessed type int dword_40A66E;
// 40A752: using guessed type int dword_40A752;
// 40A78F: using guessed type int dword_40A78F;
// 40AABB: using guessed type int dword_40AABB;
// 40AC3C: using guessed type int dword_40AC3C;
// 40AC87: using guessed type int dword_40AC87;
// 40AE1B: using guessed type int dword_40AE1B;
// 40B090: using guessed type int dword_40B090;
// 40B0F9: using guessed type int dword_40B0F9;
// 40B111: using guessed type int dword_40B111;
// 40B242: using guessed type int dword_40B242;
// 40B6B9: using guessed type int dword_40B6B9;
// 40B798: using guessed type int dword_40B798;
// 40B7F5: using guessed type int dword_40B7F5;
// 40B889: using guessed type int dword_40B889;
// 40BE67: using guessed type int dword_40BE67;
// 40C0F5: using guessed type int dword_40C0F5;
// 40C38E: using guessed type int dword_40C38E;
// 40C3F5: using guessed type int dword_40C3F5;
// 40C465: using guessed type int dword_40C465;
// 40C5FE: using guessed type int dword_40C5FE;
// 40C65C: using guessed type int dword_40C65C;
// 40C922: using guessed type int dword_40C922;
// 40C9C5: using guessed type int dword_40C9C5;
// 40CBBD: using guessed type int dword_40CBBD;
// 40CC06: using guessed type int dword_40CC06;
// 40CE09: using guessed type int dword_40CE09;
// 40D0B7: using guessed type int dword_40D0B7;
// 40D284: using guessed type int dword_40D284;
// 40D466: using guessed type int dword_40D466;
// 40D4AA: using guessed type int dword_40D4AA;
// 40D658: using guessed type int dword_40D658;
// 40D6E2: using guessed type int dword_40D6E2;

//----- (00401799) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall IsMnxsqhkunm(int a1@<edx>, int a2@<ebp>, int a3@<esi>, int a4)
{
  char *v4; // eax
  int v5; // edx
  DWORD v6; // [esp-8h] [ebp-8h]
  DWORD v7; // [esp-4h] [ebp-4h]

  dword_40BBBD -= a1 - dword_40D5A0;
  v4 = (char *)VirtualAllocEx((HANDLE)0xFFFFFFFF, 0, 0x5510u, v6, v7);
  LOBYTE(v5) = 28;
  dword_40A491 -= a2 + dword_40AFA1 + dword_40AD6D + v5;
  dword_40B889 += dword_409FF3 + 114 * a3 - 1;
  Urlnavmjr((int)&off_405000, v4);
}
// 4017B9: positive sp value 8 has been found
// 4017B3: variable 'v6' is possibly undefined
// 4017B3: variable 'v7' is possibly undefined
// 4017BC: variable 'v5' is possibly undefined
// 405000: using guessed type void *off_405000;
// 409FF3: using guessed type int dword_409FF3;
// 40A491: using guessed type int dword_40A491;
// 40AD6D: using guessed type int dword_40AD6D;
// 40AFA1: using guessed type int dword_40AFA1;
// 40B889: using guessed type int dword_40B889;
// 40BBBD: using guessed type int dword_40BBBD;
// 40D5A0: using guessed type int dword_40D5A0;

//----- (004017FB) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall Urlnavmjr(int a1@<eax>, char *a2@<edi>)
{
  unsigned int v2; // edx

  while ( 1 )
  {
    v2 = *(_DWORD *)(a1 + 4);
    if ( !v2 )
      break;
    qmemcpy(a2, *(const void **)a1, v2);
    a2 += v2;
    a1 += 8;
  }
  JUMPOUT(0x401EF2);
}
// 401EB3: positive sp value 8 has been found
// 401EB3: control flows out of bounds to 401EF2
// 40BBDD: using guessed type int dword_40BBDD;

//----- (00401C52) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(
        int a1@<ecx>,
        int a2@<ebx>,
        int a3@<ebp>,
        int a4@<edi>,
        int a5@<esi>,
        int a6,
        int a7,
        int a8,
        int a9,
        int a10)
{
  int v10; // ecx
  int v11; // edi
  int v12; // edi
  int v13; // ebx
  int v14; // esi
  int v15; // ecx
  int v16; // edx
  char *v17; // eax
  int v18; // edx
  int v19; // ecx
  int v20; // ecx
  int v21; // edi
  int v22; // ebx
  char v23; // al
  int v24; // ecx
  char *v25; // [esp-18h] [ebp-18h]
  int v26; // [esp-18h] [ebp-18h]
  _DWORD v27[2]; // [esp-14h] [ebp-14h] BYREF
  int v28; // [esp-Ch] [ebp-Ch]
  int (*v29)(void); // [esp-4h] [ebp-4h]
  int vars0; // [esp+0h] [ebp+0h]

  dword_409BAC = dword_409116 + a1 - a3;
  v27[0] = a3;
  dword_40B2A7 += (int)v27;
  sub_401D9A(dword_40A97D + a4 + dword_40C65C - dword_409716 - dword_40BB5A, (int)v27, a2, a4);
  v11 = v10 + MEMORY[0x410687] + a4;
  dword_40A6A1 -= v11;
  v12 = dword_40D009 + v11;
  dword_409693 += a5;
  v13 = dword_40A208 - 1;
  v14 = a5 - 1;
  v25 = (char *)((int (__fastcall *)(int, int))loc_401778)(dword_40B71F + dword_409D0C + v10, dword_40CB3A + 60);
  sub_401E93(v13, (int)v27, v12 - v15, v14);
  dword_40B341 -= v14;
  v17 = sub_4011E1(v25, v16, v13);
  dword_40B617 += (int)v27 + v18 - dword_40C38E;
  sub_4015B8(v17);
  dword_40A6A1 -= 106 * (_DWORD)v27;
  v20 = dword_40BB81 + v19;
  v21 = v27[0];
  dword_40A57D -= v20;
  v22 = v28;
  dword_4093D2 = v20;
  dword_40D06C -= v26 + 2453 + MEMORY[0x410FF2] - 1 - v28;
  dword_409BAC += dword_40A4CB + vars0;
  v23 = v29();
  BYTE1(v24) = 70;
  sub_401D9A(v23, dword_40A2A4 + v24 - dword_40C922 + 1, v22, v21);
}
// 401D7C: positive sp value 14 has been found
// 401C9A: variable 'v10' is possibly undefined
// 401CCB: variable 'v15' is possibly undefined
// 401CDD: variable 'v16' is possibly undefined
// 401CE2: variable 'v18' is possibly undefined
// 401D31: variable 'v19' is possibly undefined
// 401D2C: variable 'v26' is possibly undefined
// 401D8D: variable 'v24' is possibly undefined
// 4015B8: using guessed type _DWORD __cdecl sub_4015B8(_DWORD);
// 409116: using guessed type int dword_409116;
// 4093D2: using guessed type int dword_4093D2;
// 409693: using guessed type int dword_409693;
// 409716: using guessed type int dword_409716;
// 409BAC: using guessed type int dword_409BAC;
// 409D0C: using guessed type int dword_409D0C;
// 40A208: using guessed type int dword_40A208;
// 40A2A4: using guessed type int dword_40A2A4;
// 40A4CB: using guessed type int dword_40A4CB;
// 40A57D: using guessed type int dword_40A57D;
// 40A6A1: using guessed type int dword_40A6A1;
// 40A97D: using guessed type int dword_40A97D;
// 40B2A7: using guessed type int dword_40B2A7;
// 40B341: using guessed type int dword_40B341;
// 40B617: using guessed type int dword_40B617;
// 40B71F: using guessed type int dword_40B71F;
// 40B889: using guessed type int dword_40B889;
// 40BB5A: using guessed type int dword_40BB5A;
// 40BB81: using guessed type int dword_40BB81;
// 40C38E: using guessed type int dword_40C38E;
// 40C65C: using guessed type int dword_40C65C;
// 40C922: using guessed type int dword_40C922;
// 40CB3A: using guessed type int dword_40CB3A;
// 40D009: using guessed type int dword_40D009;
// 40D06C: using guessed type int dword_40D06C;
// 40D54E: using guessed type int dword_40D54E;

//----- (00401D9A) --------------------------------------------------------
void __usercall sub_401D9A(char a1@<al>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>)
{
  int v4; // ebx

  dword_40C465 -= a2;
  dword_40D359 += a1;
  v4 = a3 - 1;
  dword_40C36D += v4;
  dword_40A506 = dword_40C207 + v4;
  dword_40B36F = 27 * (a2 - a4);
  JUMPOUT(0x401DF2);
}
// 401DEC: control flows out of bounds to 401DF2
// 40A506: using guessed type int dword_40A506;
// 40AD6D: using guessed type int dword_40AD6D;
// 40B36F: using guessed type int dword_40B36F;
// 40C207: using guessed type int dword_40C207;
// 40C36D: using guessed type int dword_40C36D;
// 40C465: using guessed type int dword_40C465;
// 40D359: using guessed type int dword_40D359;

//----- (00401EB8) --------------------------------------------------------
HPEN __usercall sub_401EB8@<eax>(int a1@<ebx>, int a2@<esi>)
{
  dword_40B1D4 = a1;
  return sub_401EC7(a1, a2);
}
// 40B1D4: using guessed type int dword_40B1D4;

//----- (00401EC7) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
HPEN __usercall sub_401EC7@<eax>(int a1@<ebx>, int a2@<esi>)
{
  int v3; // [esp-14h] [ebp-14h] BYREF
  int v4; // [esp-10h] [ebp-10h] BYREF
  LOGBRUSH v5; // [esp-Ch] [ebp-Ch] BYREF

  dword_40B36F = a2 - a1;
  return ExtCreatePen((DWORD)&v3, (DWORD)&v4, &v5, (DWORD)&v5.lbColor, &v5.lbHatch);
}
// 401EF2: positive sp value 4 has been found
// 401EC7: could not find valid save-restore pair for ebp
// 40B36F: using guessed type int dword_40B36F;

//----- (00401EF3) --------------------------------------------------------
void __usercall sub_401EF3(
        int a1@<edx>,
        int a2@<edi>,
        int a3,
        int a4,
        int a5,
        int a6,
        int a7,
        int a8,
        int a9,
        int a10,
        int a11,
        int a12,
        int a13,
        int a14,
        int a15,
        int a16,
        int a17,
        int a18,
        int a19,
        int a20,
        int a21,
        int a22,
        int a23,
        int a24,
        int a25,
        int a26,
        int a27,
        int a28,
        int a29,
        int a30,
        int a31,
        int a32,
        int a33,
        int a34,
        int a35,
        int a36,
        int a37,
        int a38,
        int a39,
        int a40,
        int a41,
        int a42,
        int a43,
        int a44,
        int a45,
        int a46,
        int a47,
        int a48,
        int a49,
        int a50,
        int a51,
        int a52,
        int a53,
        int a54,
        int a55,
        int a56,
        int a57,
        int a58,
        int a59,
        int a60,
        int a61,
        int a62,
        int a63)
{
  unsigned int v63; // eax
  int v64; // edx
  int v65; // edx
  char v66[260]; // [esp+8h] [ebp-104h]

  dword_40CACC += a1 + 1;
  v63 = 0;
  v64 = dword_40B6F3 + dword_409DFC - dword_40C65C - a3;
  dword_40C3F5 += v64;
  do
  {
    v66[v63] = v63;
    ++v63;
    v64 = a7 + v64 - a2;
    dword_40D54E -= v64;
  }
  while ( v63 < 0x100 );
  v65 = dword_40C762 + v64;
  dword_409809 -= v65;
  dword_40933E = dword_40D658 + v65 + 66;
  ofmswcp_7(
    0,
    a7,
    a5,
    0,
    a3,
    a4,
    a5,
    a6,
    a7,
    a8,
    a9,
    a10,
    a11,
    a12,
    a13,
    a14,
    a15,
    a16,
    a17,
    a18,
    a19,
    a20,
    a21,
    a22,
    a23,
    a24,
    a25,
    a26,
    a27,
    a28,
    a29,
    a30,
    a31,
    a32,
    a33,
    a34,
    a35,
    a36,
    a37,
    a38,
    a39,
    a40,
    a41,
    a42,
    a43,
    a44,
    a45,
    a46,
    a47,
    a48,
    a49,
    a50,
    a51,
    a52,
    a53,
    a54,
    a55,
    a56,
    a57,
    a58,
    a59,
    a60,
    a61);
}
// 40933E: using guessed type int dword_40933E;
// 409809: using guessed type int dword_409809;
// 409DFC: using guessed type int dword_409DFC;
// 40B6F3: using guessed type int dword_40B6F3;
// 40C3F5: using guessed type int dword_40C3F5;
// 40C65C: using guessed type int dword_40C65C;
// 40C762: using guessed type int dword_40C762;
// 40CACC: using guessed type int dword_40CACC;
// 40D54E: using guessed type int dword_40D54E;
// 40D658: using guessed type int dword_40D658;
// 401EF3: using guessed type char var_104[260];

//----- (00401F95) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall ofmswcp_7(
        unsigned int a1@<eax>,
        int a2@<ecx>,
        unsigned int a3@<edi>,
        int a4@<esi>,
        int a5,
        int a6,
        int a7,
        int a8,
        char a9,
        int a10,
        int a11,
        int a12,
        int a13,
        int a14,
        int a15,
        int a16,
        int a17,
        int a18,
        int a19,
        int a20,
        int a21,
        int a22,
        int a23,
        int a24,
        int a25,
        int a26,
        int a27,
        int a28,
        int a29,
        int a30,
        int a31,
        int a32,
        int a33,
        int a34,
        int a35,
        int a36,
        int a37,
        int a38,
        int a39,
        int a40,
        int a41,
        int a42,
        int a43,
        int a44,
        int a45,
        int a46,
        int a47,
        int a48,
        int a49,
        int a50,
        int a51,
        int a52,
        int a53,
        int a54,
        int a55,
        int a56,
        int a57,
        int a58,
        int a59,
        int a60,
        int a61,
        int a62,
        int a63)
{
  unsigned int v63; // ebp
  unsigned int v64; // ebp
  int v65; // esi
  int v66; // ebx
  int v67; // edx
  int v68; // ebx
  int v69; // esi
  int v70; // edx
  int v71; // esi
  int v72; // esi
  int v73; // [esp-10h] [ebp-18h]
  int v74; // [esp+0h] [ebp-8h]
  int v75; // [esp+4h] [ebp-4h]
  void *retaddr; // [esp+8h] [ebp+0h]

  v64 = 0;
  v65 = MEMORY[0x410C3F] + a4 - 1;
  dword_40B7DE -= v65;
  v66 = 0;
  while ( 1 )
  {
    LOBYTE(a2) = *((_BYTE *)&retaddr + v64);
    dword_40D284 += dword_40B0E4 + v65 - dword_40CEA4 + 1;
    v67 = *(unsigned __int8 *)(v75 + a1);
    v68 = a2 + v66;
    dword_40CFCD = v64 + 2 * a2 - dword_409B78 - a1;
    v70 = v68 + v67;
    v69 = v70 + a2;
    v70 = (unsigned __int8)v70;
    dword_40A6A1 -= a3 + v69 + 1 - dword_40B1D4;
    ++a1;
    v71 = v68 + dword_40BCB6 + MEMORY[0x410FD4];
    v66 = (unsigned __int8)v70;
    dword_40A506 -= MEMORY[0x410EB1] + v71;
    if ( a1 >= a3 )
      a1 = 0;
    LOBYTE(v70) = *((_BYTE *)&retaddr + (unsigned __int8)v70);
    dword_40B43D -= (unsigned __int8)a1;
    v72 = MEMORY[0x410FF2];
    *((_BYTE *)&retaddr + v64) = v70;
    dword_40A25F -= dword_40A4CB + v72 - a2 + 1;
    ++v64;
    dword_40B0E4 += dword_40948E + (__int16)a1 + 1;
    *((_BYTE *)&retaddr + v66) = a2;
    v65 = v66 - dword_40A0B2 - dword_40B90D;
    if ( v64 >= 0x100 )
    {
      dword_409AFF -= v66 + v65;
      dword_40C762 = v66 + dword_40C3F5 + v70 + 2 * a1 - dword_409CBD;
      dword_40D5FE -= v66 + dword_40C762 - a1;
      dword_409693 += dword_40C40E + a1 - v70 - 1;
      v63 = STACK[0x11C];
      dword_40C8B5 -= v73;
      dword_40A2D7 += dword_40C228 + v70 + dword_40A2D7;
      dword_40D6C2 += dword_40B1D4 - dword_40A6A1 - 1;
      if ( v63 )
      {
        dword_40C321 -= (unsigned __int8)v70;
        dword_40C17B += v74 - dword_40AFA1;
        JUMPOUT(0x4014A8);
      }
      JUMPOUT(0x401571);
    }
  }
}
// 4012CF: positive sp value 14 has been found
// 4014A5: control flows out of bounds to 4014A8
// 40147B: control flows out of bounds to 401571
// 401FC8: variable 'v75' is possibly undefined
// 401440: variable 'v73' is possibly undefined
// 401499: variable 'v74' is possibly undefined
// 40933E: using guessed type int dword_40933E;
// 40948E: using guessed type int dword_40948E;
// 409693: using guessed type int dword_409693;
// 409AFF: using guessed type int dword_409AFF;
// 409B78: using guessed type int dword_409B78;
// 409CBD: using guessed type int dword_409CBD;
// 409F64: using guessed type int dword_409F64;
// 409FF3: using guessed type int dword_409FF3;
// 40A041: using guessed type int dword_40A041;
// 40A0B2: using guessed type int dword_40A0B2;
// 40A25F: using guessed type int dword_40A25F;
// 40A2D7: using guessed type int dword_40A2D7;
// 40A4CB: using guessed type int dword_40A4CB;
// 40A506: using guessed type int dword_40A506;
// 40A6A1: using guessed type int dword_40A6A1;
// 40AABB: using guessed type int dword_40AABB;
// 40AFA1: using guessed type int dword_40AFA1;
// 40B0E4: using guessed type int dword_40B0E4;
// 40B1D4: using guessed type int dword_40B1D4;
// 40B43D: using guessed type int dword_40B43D;
// 40B7DE: using guessed type int dword_40B7DE;
// 40B90D: using guessed type int dword_40B90D;
// 40BCB6: using guessed type int dword_40BCB6;
// 40C17B: using guessed type int dword_40C17B;
// 40C228: using guessed type int dword_40C228;
// 40C321: using guessed type int dword_40C321;
// 40C3F5: using guessed type int dword_40C3F5;
// 40C40E: using guessed type int dword_40C40E;
// 40C762: using guessed type int dword_40C762;
// 40C8B5: using guessed type int dword_40C8B5;
// 40CEA4: using guessed type int dword_40CEA4;
// 40CFCD: using guessed type int dword_40CFCD;
// 40D284: using guessed type int dword_40D284;
// 40D5FE: using guessed type int dword_40D5FE;
// 40D6C2: using guessed type int dword_40D6C2;

// nfuncs=14 queued=12 decompiled=12 lumina nreq=0 worse=0 better=0
#error "There were 1 decompilation failure(s) on 12 function(s)"
