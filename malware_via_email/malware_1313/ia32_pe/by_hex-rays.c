/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// int __stdcall SaveDC(HDC hdc);
void __noreturn start(); // weak


//----- (00407808) --------------------------------------------------------
void __noreturn start()
{
  void (*v0)(void); // eax
  struct _EXCEPTION_REGISTRATION_RECORD *v1; // [esp+0h] [ebp-38h] BYREF
  int v2; // [esp+4h] [ebp-34h]
  int *v3; // [esp+8h] [ebp-30h]
  int savedregs; // [esp+38h] [ebp+0h] BYREF
  void (*retaddr)(void); // [esp+3Ch] [ebp+4h]

  v3 = &savedregs;
  v2 = 4231781;
  v1 = NtCurrentTeb()->NtTib.ExceptionList;
  __writefsdword(0, (unsigned int)&v1);
  v0 = retaddr;
  do
    v0 = (void (*)(void))((char *)v0 + 1);
  while ( (unsigned __int16)*(_DWORD *)v0 != 0xD7FF );
  v0();
  SaveDC((HDC)v2);
  v2 = 14;
  JUMPOUT(0xE);
}
// 407913: control flows out of bounds to E
// 407808: using guessed type void __noreturn start();
// 409441: using guessed type int dword_409441;

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
