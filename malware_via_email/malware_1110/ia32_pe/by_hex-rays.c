/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall sub_407F33(int _EAX@<eax>, int _EDX@<edx>, char@<cl>, int _EBX@<ebx>, int@<ebp>, int@<edi>);


//----- (00407F33) --------------------------------------------------------
void __usercall sub_407F33(int _EAX@<eax>, int _EDX@<edx>, char a3@<cl>, int _EBX@<ebx>, int a5@<ebp>, int a6@<edi>)
{
  int v7; // edx
  unsigned int v8; // ecx
  int v10; // esi
  bool v12; // cf
  unsigned int v13; // esi
  unsigned int v19; // ecx
  unsigned int v20; // ecx
  int v21; // esi
  __int16 v23; // cx
  int v25; // ecx
  int v26; // et1
  bool v27; // cf
  int v28; // edx
  char v29; // tt
  int v30; // ecx
  unsigned int i; // eax
  unsigned int v35; // ecx
  int v36; // ecx
  unsigned int v37; // esi
  int v39; // esi
  int v40; // eax
  int v41; // edx
  char v42; // cl
  int v43; // [esp-10h] [ebp-10h]

  __asm { rcl     eax, 11h }
  LOBYTE(_EBX) = BYTE1(_EAX) | _EBX;
  __asm { rcr     ebx, 0Dh }
  BYTE1(_EBX) = -78;
  _EDI = ~a6;
  LOBYTE(_EDX) = (char)_EDX >> __ROR1__(a3 ^ 0xBC, 29);
  v30 = 4226848;
  for ( i = 1; ; i = ~((BYTE1(_EAX) + (unsigned __int8)_EAX + HIWORD(_EAX)) ^ 0xFFFFFEC8) )
  {
    if ( !i )
      JUMPOUT(0x407B8C);
    v35 = (unsigned int)(v30 - 1) >> 15 << 15;
    v43 = *(_DWORD *)v35;
    if ( _EBX != 641075657 )
      JUMPOUT(0x408020);
    _EAX = i & 0x5D564817;
    v36 = a5 & v35;
    __asm { rcr     edi, 0Ch }
    ++BYTE1(v36);
    LOBYTE(v36) = v36 | 0x74;
    LOBYTE(_EAX) = 0;
    v25 = __ROR4__(v36, v36);
    v13 = v25;
    while ( 1 )
    {
      __asm { rcl     ah, 19h }
      LOWORD(_EDX) = _EAX | __ROL2__(_EDX, v25);
      LOBYTE(v25) = v25 - BYTE1(_EAX);
      _EBX += 1327;
      BYTE1(_EAX) = __ROL1__(BYTE1(_EAX), v25);
      LOBYTE(_EAX) = -33;
      v12 = __CFSHL__(_EDX, 3);
      v28 = 8 * _EDX;
      v29 = v12 + BYTE1(_EBX);
      v27 = (unsigned __int8)v28 < (unsigned __int8)(v12 + BYTE1(_EBX));
      LOBYTE(v28) = v28 - v29;
      _ECX = _EAX + v27 + v25;
      _EDX = __ROR4__(v28, 14);
      _EAX = 249819621;
      v10 = (v13 >> 14) | 0x3F4AF7F;
      BYTE1(_EAX) = -15 - BYTE1(_EBX);
      LOWORD(_EDX) = _EDI + __CFADD__(BYTE1(_ECX), -27) + (_WORD)_EDX;
      if ( _EDI == -1851040030 )
        __asm { retf }
LABEL_10:
      BYTE1(_ECX) = BYTE1(_EDX);
      _EDX = _EDX | 0x3A994E3E;
      ++BYTE1(_EAX);
      BYTE1(_EDX) = __ROL1__(BYTE1(_EDX), 25);
      LOWORD(_EDI) = (__int16)_EDI >> _ECX;
      LOWORD(_EAX) = __ROR2__(_EAX, _ECX) >> _ECX;
      if ( _EAX == -648341629 )
        JUMPOUT(0x8C5C498);
      __asm { rcl     ch, 0Eh }
      _EBX -= 1327;
      LOBYTE(_EAX) = ~(_BYTE)_EAX;
      __asm { rcr     dh, 17h }
      v41 = _EDX + 1323914933;
      _EDI = _EDI - 571909783;
      if ( _EBX == -2023177522 )
        break;
      LOBYTE(_ECX) = __ROR1__(_ECX, _ECX);
      LOBYTE(v41) = v41 + 1;
      LOBYTE(_EAX) = (char)_EAX >> _ECX;
      _EAX = _EAX - v10;
      LOBYTE(_EAX) = (_BYTE)_EAX << _ECX;
      _EDI = 2116189802;
      BYTE1(v41) = ~(BYTE1(v41) << _ECX);
      LOWORD(_ECX) = (unsigned __int16)_ECX >> _ECX;
      _EDX = v41 << _ECX;
      __asm { rcr     ch, 11h }
      BYTE1(_EDX) = (BYTE1(_EDX) + 34) & 0xD9;
      LOBYTE(_EDX) = _EDX - 91;
      __asm { rcr     eax, cl }
      v12 = _ECX < 0x1998E4B4;
      if ( _ECX == 429450420 )
      {
        LOBYTE(_EAX) = 109;
        _disable();
LABEL_7:
        _ECX -= v12 - 1777053677;
        LOBYTE(_EDX) = -(char)_EDX;
        goto LABEL_8;
      }
      LOBYTE(_EAX) = BYTE1(_EBX) + _EAX;
      _EAX &= _ECX;
      _EDI = 2859;
      LOBYTE(_ECX) = _ECX - _EBX;
      v7 = _EDX >> 14;
      LOBYTE(_EAX) = _EAX - v7;
      _EDX = _EAX | v7;
      v8 = _ECX >> 7;
      v12 = __CFSHR__(v8, v8);
      _ECX = v8 >> v8;
      __asm { rcl     dx, cl }
      LOWORD(v10) = _EAX + v12 + (_WORD)v10;
      LOWORD(_EAX) = _EAX - 1;
      v12 = _EBX < 0xD8B49D16;
      if ( _EBX != -659251946 )
        goto LABEL_7;
      BYTE1(_ECX) -= 69;
      while ( 1 )
      {
        BYTE1(_EDX) += 98;
        LOWORD(_EAX) = v10;
        v13 = -1073741824 * v10 - 74950948;
        BYTE1(_EAX) &= _EAX;
        SBYTE1(_ECX) >>= _ECX;
        _EAX = _EAX & 0x921143D1;
        v23 = _ECX - _EAX;
        HIBYTE(v23) = -HIBYTE(v23);
        BYTE1(_EDX) -= 48;
        LOBYTE(v23) = (char)v23 >> 7;
        LOWORD(_ECX) = v13 + (_EDI ^ v23);
        __asm { rcl     cl, 1Ch }
        if ( _EDX == 447517216 )
          break;
        v37 = v13 << 30;
        LOBYTE(_ECX) = (char)_ECX >> _ECX;
        LOWORD(_ECX) = _ECX - 1;
        v12 = __CFADD__((_WORD)v37, (_WORD)_EAX);
        _AX = v37 + _EAX;
        __asm { rcr     ah, cl }
        LOBYTE(_EAX) = (_EBX + v12 + BYTE1(_ECX)) ^ _AX;
        BYTE1(_EDX) = -BYTE1(_EDX);
        LOWORD(_ECX) = (unsigned __int8)_ECX ^ 0xDA;
        LOBYTE(_EAX) = (unsigned __int8)_EAX >> _ECX;
        v20 = _ECX - _EAX;
        LOBYTE(v20) = v20 ^ 0x1D;
        v21 = __ROL4__(v37, 23) + 1913363194;
        LOWORD(v21) = v21 - _EDX;
        _ECX = v20 & 0x782DE776;
        LOBYTE(_EAX) = (_EAX & 0xA9) + 104;
        if ( v21 != -690244597 )
        {
          v42 = _ECX + 1;
          *(_BYTE *)_EBX = BYTE1(_EDX);
          HIWORD(v40) = -14211;
          LOWORD(v40) = 0xAB00u >> -v42;
          if ( v40 == -1470909737 )
            JUMPOUT(0x407FF0);
          JUMPOUT(0x407BB3);
        }
        *(_DWORD *)_EAX = (__PAIR64__(*(_DWORD *)_EAX, -690244597) - __PAIR64__(_EBX, -690244597)) >> 32;
        _EAX = _EAX - 1;
        if ( _EAX >= 0 )
          JUMPOUT(0x407DE0);
LABEL_8:
        BYTE1(_EAX) &= _ECX;
        LOWORD(_EAX) = _EAX - 1;
        BYTE1(_ECX) -= _ECX;
        __asm { rcl     cl, cl }
        v12 = __CFSHR__(_EAX, _ECX);
        _EAX = (unsigned int)_EAX >> _ECX;
        BYTE1(_EAX) += _EAX + v12;
        LOBYTE(_EAX) = _EAX - BYTE1(_EAX);
        v10 = 47753790;
        BYTE1(_EDX) |= BYTE1(_EAX);
        if ( _EAX == -1201230212 )
        {
          __outdword(_EDX, 0xB866AE7C);
          BYTE1(_EAX) = *(_BYTE *)(_ECX - 1832233443);
          *(_BYTE *)(_ECX - 1832233443) = -82;
          goto LABEL_10;
        }
        LOWORD(v10) = -21954 >> _ECX;
        _EDX += 1064418120;
        _AX = _EAX - _ECX;
        __asm { rcl     ax, cl }
        LOBYTE(_ECX) = __ROL1__(_ECX, 1);
        v19 = _ECX + 1212203367;
        LOBYTE(v19) = __ROR1__(v19, 25);
        _ECX = v19 << 28;
        BYTE1(_EDX) = __ROR1__(*(_BYTE *)_EBX, 27);
        v39 = __ROR4__(__ROL4__(v10, 29) - 1500638839, 14);
        LOWORD(v39) = _EDX | v39;
        v10 = __ROR4__(v39, _ECX);
        __asm { rcl     ch, cl }
        LOBYTE(_ECX) = _ECX ^ 0x16;
      }
      v26 = _EAX & 0x3415B9D2;
      _EAX = _ECX;
      v25 = v26;
    }
    v30 = _ECX - 1;
    if ( v30 )
      JUMPOUT(0x407FF6);
    __DS__ = *(_WORD *)(_EAX - 112);
    _EDX = (unsigned __int8)_EAX;
    _EBX = BYTE1(_EAX);
  }
}
// 407B7D: control flows out of bounds to 407B80
// 407DDE: control flows out of bounds to 407DE0
// 407FEA: control flows out of bounds to 407FF0
// 407D56: control flows out of bounds to 8C5C498
// 408057: control flows out of bounds to 407D5C
// 407D98: control flows out of bounds to 407B8C
// 407F6A: control flows out of bounds to 408020
// 407FEA: control flows out of bounds to 407BB3
// 40801C: control flows out of bounds to 407FF6
// 407DDE: conditional instruction was optimized away because edi.4 is in (==B2B|==7E227E6A)
// 407E13: conditional instruction was optimized away because edi.4 is in (==B2B|==7E227E6A)
// 407E5E: conditional instruction was optimized away because eax.4<0
// 40803D: conditional instruction was optimized away because ebx.4<100u
// 40801C: conditional instruction was optimized away because ebx.4==8768C2CE
// 407D98: conditional instruction was optimized away because ecx.4 is in (==0|==407F20)

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
