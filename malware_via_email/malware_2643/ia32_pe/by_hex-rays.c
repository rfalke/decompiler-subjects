/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, char *@<edx>, int@<ecx>, int@<ebx>, unsigned int@<ebp>, int@<edi>, int@<esi>);

//-------------------------------------------------------------------------
// Data declarations

int dword_41E000[512] =
{
  -1,
  -31735722,
  -1029088772,
  -106317914,
  481032755,
  -2017825245,
  -1017422241,
  1532830788,
  -2004302717,
  1878453981,
  583227670,
  -1026991265,
  -1034082268,
  20187268,
  -1207975885,
  18788087,
  1535643967,
  739316830,
  -2145074231,
  -2147212799,
  -331316207,
  33549679,
  806426111,
  -2071461824,
  1142849604,
  604246299,
  -854227936,
  1119352468,
  1082672132,
  840990784,
  1075728405,
  1777185787,
  -1809838826,
  21701256,
  1075847748,
  -1247012476,
  -2005529765,
  292823163,
  -815848958,
  -1061979330,
  1142981860,
  -2011030780,
  885657892,
  35043349,
  321688955,
  1856898150,
  908517622,
  575799683,
  1144719940,
  -319396243,
  25454360,
  803916801,
  1530925124,
  -848439245,
  1779860086,
  1813245248,
  136479591,
  -905698283,
  468354176,
  869860874,
  813515840,
  809190596,
  1080873052,
  -1677713379,
  -2106823663,
  622182893,
  -2009016252,
  1004132112,
  538580847,
  1152975140,
  -1043714780,
  1620578349,
  1747165940,
  -1688359674,
  1363437117,
  1042573329,
  1506083932,
  209849590,
  520078302,
  -127040757,
  -2010872636,
  540448461,
  67661109,
  -1743661096,
  929702946,
  1075681396,
  14353605,
  -1196783103,
  -1343765622,
  95816362,
  -201387740,
  -2008875009,
  1075855394,
  571637826,
  562593920,
  570525732,
  -2012078048,
  1107592258,
  1433403170,
  304514226,
  1115693200,
  1216907281,
  286400772,
  1841238306,
  1109720511,
  -1876942528,
  555745592,
  1242628353,
  286794017,
  1208029714,
  1780311620,
  1145201279,
  1074823304,
  1647199422,
  -1304037652,
  539363874,
  1082138881,
  -1870396404,
  1958325292,
  82340045,
  -2074598296,
  -78013492,
  243323606,
  612909074,
  1217425938,
  -2071410640,
  -613720144,
  1107839108,
  1880222212,
  554891268,
  -842959804,
  1347036676,
  20057112,
  1449665088,
  -499832155,
  1720251520,
  -692613052,
  -53327462,
  1209195556,
  1145087560,
  1096516224,
  471004779,
  -1701814236,
  -1472061374,
  -263358794,
  1212448912,
  604292148,
  1076367676,
  -2127165040,
  105932809,
  -230125506,
  -2116322381,
  -132986256,
  609231908,
  -691009856,
  -768596060,
  -299612422,
  168301073,
  -897535124,
  -1609480156,
  -1050271212,
  705907917,
  1209549918,
  407376160,
  619495576,
  1388579508,
  810565764,
  1592149520,
  867760162,
  349084321,
  1316917384,
  -1045684902,
  -1811276176,
  -2089099198,
  -1629387851,
  -189610460,
  1833061442,
  1790279938,
  1247068292,
  -2088492714,
  77174845,
  -1968518550,
  877671458,
  1745225367,
  1147446398,
  362287206,
  -1136389422,
  -1404264790,
  637845984,
  -333363194,
  -837203950,
  -1876519078,
  79464510,
  807713234,
  -699518845,
  101461710,
  147621250,
  65688762,
  -1155948415,
  539247746,
  1717964436,
  807713303,
  -763722712,
  -494860788,
  -262870852,
  1718302770,
  1074867723,
  -2133819226,
  1034833660,
  69738572,
  306209796,
  456493030,
  -1268070872,
  76038770,
  -595719866,
  21035537,
  1726087698,
  1219702952,
  976898676,
  812026952,
  811688835,
  1754315428,
  -1425106555,
  2115519106,
  1310366784,
  2049461601,
  -1998045134,
  859507668,
  1453884424,
  -1972846508,
  -127835769,
  -125411812,
  337392432,
  -1735494046,
  1288822908,
  1585732129,
  1611793450,
  1121817776,
  945192466,
  -2018484137,
  -18573290,
  -1738129338,
  2087060489,
  -1777797116,
  2029728634,
  560245368,
  -1702208291,
  107012258,
  16293006,
  -1289506780,
  1693899973,
  1375855828,
  -523434472,
  288634396,
  1883265120,
  72224806,
  886456320,
  209924915,
  -1865921974,
  1780803584,
  -1736688857,
  1457399841,
  -986415048,
  -2044103704,
  -1873664992,
  -871889764,
  550639712,
  -2020702070,
  -300648213,
  73068066,
  1010055244,
  1778486036,
  -1878748586,
  1014523958,
  1791509016,
  -1975330176,
  705088679,
  1219136550,
  1643470981,
  939595404,
  204286032,
  293503915,
  971147318,
  1713125560,
  79882820,
  276177442,
  569678380,
  880994366,
  1785743512,
  -1295645628,
  1115809376,
  317733088,
  -1725653996,
  1186136664,
  1958743750,
  324811693,
  -91723128,
  256310360,
  805331139,
  1250087040,
  -1776791328,
  -688505120,
  -193841652,
  678339276,
  1812491330,
  1088186993,
  1916930790,
  1383492355,
  2088035344,
  -1703200184,
  1881983897,
  -1335038950,
  861507876,
  1378249788,
  -1867740604,
  -1248743239,
  -530701764,
  -364872648,
  -1902673312,
  1985149632,
  1417752737,
  -267061678,
  1387284484,
  1376538122,
  105353760,
  714490819,
  -1061854648,
  -1303591974,
  -2140644238,
  -431220374,
  1086868118,
  -1427326280,
  -1133637579,
  1656373304,
  -893308071,
  -464640428,
  -863370220,
  -400920372,
  1557827812,
  1398380926,
  1286113436,
  618308609,
  852371536,
  -558714170,
  1883248664,
  1893847244,
  -1520379197,
  -2147297170,
  -1059673070,
  2053816576,
  -523500494,
  -721526319,
  44488484,
  -377147205,
  -789309284,
  202252628,
  -2046620458,
  612647024,
  -2116526884,
  -219765055,
  18907720,
  52333230,
  290779834,
  541820000,
  -1126253550,
  -1224317380,
  1218240716,
  -1968933311,
  349060122,
  896842242,
  -515077962,
  -2010637296,
  -832953192,
  -287938511,
  555639440,
  654354578,
  571039099,
  2092336172,
  -1068470256,
  110000132,
  -1581227890,
  1123422401,
  77401656,
  575497718,
  -468517358,
  1549272621,
  -264367478,
  1720672368,
  -628481512,
  949379656,
  -1827750630,
  23262776,
  -1181360416,
  2116894954,
  1288439841,
  1826406662,
  274126036,
  495400401,
  2087757448,
  1624536594,
  2114610789,
  -1091805128,
  184889440,
  1980838514,
  -1025494874,
  881889446,
  -2096453628,
  1791755273,
  691669540,
  -2066914196,
  217326664,
  -535952358,
  -1771929360,
  -2007806410,
  1813012556,
  -824290116,
  235299920,
  -1125608538,
  490219265,
  290387168,
  1472728090,
  296450983,
  4481234,
  -2145259412,
  -117388259,
  -1861075254,
  -835629543,
  243300970,
  -1719336206,
  -1272826179,
  1410091668,
  382757895,
  704710796,
  -1046981052,
  1045463138,
  -855063365,
  67375856,
  877169352,
  613668784,
  40640732,
  1461453626,
  -2004877072,
  -862276591,
  597918024,
  1115833508,
  102055198,
  -797920109,
  1445209142,
  1377501791,
  317999174,
  941627620,
  -1930408919,
  105810308,
  -1871010285,
  940787396,
  -1500489700,
  -1055198034,
  290382489,
  2060324004,
  1891638408,
  -1236094970,
  1953988610,
  -963101958,
  -2145217020,
  -1063790417,
  -1835997183,
  1233287684,
  -30793120,
  740748942,
  -2008538772,
  183162978,
  -261012799,
  -1344745472,
  1367357464,
  655551062,
  -1777070719,
  -625934618,
  378373506,
  -1040049008,
  485576324,
  -457562522,
  -929026951,
  -1509421554,
  -1727766954,
  853121085,
  -661511448,
  821877793,
  2047879552,
  250318968,
  874537894,
  1585720980,
  -1029127934,
  -199158270,
  31565986,
  8801288,
  955278962,
  1319433921,
  257566811,
  543176714,
  618171596,
  1310276399,
  -1730665920,
  -1674233730,
  1850750980,
  -1046951296,
  -1102911996,
  -155695062,
  946254054,
  1109138440,
  24686282,
  -2141164820,
  69299242
}; // weak


//----- (00453900) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(
        int a1@<eax>,
        char *a2@<edx>,
        int a3@<ecx>,
        int a4@<ebx>,
        unsigned int a5@<ebp>,
        int a6@<edi>,
        int a7@<esi>)
{
  int *v7; // esi
  int *v8; // edi
  char v9; // al
  bool v10; // cf
  int v11; // ebx
  int v12; // ebx
  int v13; // ett
  int i; // eax
  bool v15; // cf
  int v16; // ebx
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  bool v20; // zf
  int v21; // ebx
  int v22; // ett
  unsigned int v23; // eax
  bool v24; // cf
  int v25; // ebx
  int v26; // ett
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  unsigned int v32; // eax
  unsigned int v33; // eax
  int v34; // eax
  bool v35; // cf
  int v36; // ebx
  int v37; // ett
  bool v38; // cf
  int v39; // ebx
  int v40; // ett
  bool v41; // cf
  int v42; // ebx
  int v43; // ebx
  int v44; // ett
  bool v45; // zf
  int v46; // ebx
  int v47; // ett
  unsigned int v48; // ecx
  char v49; // al
  int v50; // eax
  bool v51; // cc
  int *v52; // esi
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__fastcall *v61)(int, char *, int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  char *v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  unsigned int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v75 = a7;
  v74 = a6;
  v73 = a5;
  v72 = &v76;
  v71 = a4;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v7 = dword_41E000;
  v8 = &dword_41E000[-29696];
  v67 = &dword_41E000[-29696];
  while ( 1 )
  {
    v12 = *v7;
    v10 = (unsigned int)v7++ < 0xFFFFFFFC;
    v13 = v10 + v12;
    v10 = __CFADD__(v10, v12) | __CFADD__(v12, v13);
    v11 = v12 + v13;
    do
    {
      if ( v10 )
      {
        v9 = *(_BYTE *)v7;
        v7 = (int *)((char *)v7 + 1);
        *(_BYTE *)v8 = v9;
        v8 = (int *)((char *)v8 + 1);
      }
      else
      {
        for ( i = 1; ; i = v23 + v24 + v23 )
        {
          v15 = __CFADD__(v11, v11);
          v16 = 2 * v11;
          if ( !v16 )
          {
            v17 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v18 = v10 + v17;
            v15 = __CFADD__(v10, v17) | __CFADD__(v17, v18);
            v16 = v17 + v18;
          }
          v19 = i + v15 + i;
          v10 = __CFADD__(v16, v16);
          v20 = 2 * v16 == 0;
          v11 = 2 * v16;
          if ( v10 )
          {
            if ( !v20 )
              break;
            v21 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v22 = v10 + v21;
            v10 = __CFADD__(v10, v21) | __CFADD__(v21, v22);
            v11 = v21 + v22;
            if ( v10 )
              break;
          }
          v23 = v19 - 1;
          v24 = __CFADD__(v11, v11);
          v11 *= 2;
          if ( !v11 )
          {
            v25 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v26 = v10 + v25;
            v24 = __CFADD__(v10, v25) | __CFADD__(v25, v26);
            v11 = v25 + v26;
          }
        }
        v31 = 0;
        v10 = v19 < 3;
        v32 = v19 - 3;
        if ( v10 )
        {
          v35 = __CFADD__(v11, v11);
          v11 *= 2;
          if ( !v11 )
          {
            v36 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v37 = v10 + v36;
            v35 = __CFADD__(v10, v36) | __CFADD__(v36, v37);
            v11 = v36 + v37;
          }
        }
        else
        {
          v33 = v32 << 8;
          LOBYTE(v33) = *(_BYTE *)v7;
          v7 = (int *)((char *)v7 + 1);
          v34 = ~v33;
          if ( !v34 )
          {
            v52 = v67;
            v53 = (char *)(v67 + 82944);
LABEL_39:
            v54 = *(_DWORD *)v53;
            if ( *(_DWORD *)v53 )
            {
              v55 = (int *)((char *)v52 + *((_DWORD *)v53 + 1));
              v53 += 8;
              v56 = ((int (__fastcall *)(int, char *, int, int, char *, int, int, int *, unsigned int, int, int))v52[85721])(
                      v31,
                      a2,
                      (int)v52 + v54 + 342824,
                      v68,
                      v69,
                      v70,
                      v71,
                      v72,
                      v73,
                      v74,
                      v75);
              while ( 1 )
              {
                v57 = *v53++;
                if ( !v57 )
                  goto LABEL_39;
                v58 = v53;
                v66 = v53;
                v59 = v57 - 1;
                do
                {
                  if ( !v58 )
                    break;
                  v20 = *v53++ == (char)v59;
                  --v58;
                }
                while ( !v20 );
                v60 = ((int (__cdecl *)(int, char *))v52[85722])(v56, v66);
                if ( !v60 )
                  break;
                *v55++ = v60;
              }
              v54 = ((int (*)(void))v52[85726])();
            }
            v61 = (void (__fastcall *)(int, char *, int *, int, int, int *))v52[85723];
            v62 = v52 - 1024;
            v64 = v54;
            v61(v31, a2, v52 - 1024, 4096, 4, &v64);
            *((_BYTE *)v62 + 543) &= ~0x80u;
            *((_BYTE *)v62 + 583) &= ~0x80u;
            ((void (__cdecl *)(int *, int, int, int *))v61)(v52 - 1024, 4096, v63[0], v63);
            do
              v64 = 0;
            while ( &v64 != &v65 - 32 );
            JUMPOUT(0x417160);
          }
          v35 = v34 & 1;
          a5 = v34 >> 1;
        }
        if ( v35 )
          goto LABEL_15;
        v31 = 1;
        v38 = __CFADD__(v11, v11);
        v11 *= 2;
        if ( !v11 )
        {
          v39 = *v7;
          v10 = (unsigned int)v7++ < 0xFFFFFFFC;
          v40 = v10 + v39;
          v38 = __CFADD__(v10, v39) | __CFADD__(v39, v40);
          v11 = v39 + v40;
        }
        if ( v38 )
        {
LABEL_15:
          v27 = __CFADD__(v11, v11);
          v11 *= 2;
          if ( !v11 )
          {
            v28 = *v7;
            v10 = (unsigned int)v7++ < 0xFFFFFFFC;
            v29 = v10 + v28;
            v27 = __CFADD__(v10, v28) | __CFADD__(v28, v29);
            v11 = v28 + v29;
          }
          v30 = v31 + v27 + v31;
        }
        else
        {
          while ( 1 )
          {
            v41 = __CFADD__(v11, v11);
            v42 = 2 * v11;
            if ( !v42 )
            {
              v43 = *v7;
              v10 = (unsigned int)v7++ < 0xFFFFFFFC;
              v44 = v10 + v43;
              v41 = __CFADD__(v10, v43) | __CFADD__(v43, v44);
              v42 = v43 + v44;
            }
            v31 += v41 + v31;
            v10 = __CFADD__(v42, v42);
            v45 = 2 * v42 == 0;
            v11 = 2 * v42;
            if ( v10 )
            {
              if ( !v45 )
                break;
              v46 = *v7;
              v10 = (unsigned int)v7++ < 0xFFFFFFFC;
              v47 = v10 + v46;
              v10 = __CFADD__(v10, v46) | __CFADD__(v46, v47);
              v11 = v46 + v47;
              if ( v10 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v48 = (a5 < 0xFFFFFB00) + v30 + 2;
        a2 = (char *)v8 + a5;
        if ( a5 <= 0xFFFFFFFC )
        {
          do
          {
            v50 = *(_DWORD *)a2;
            a2 += 4;
            *v8++ = v50;
            v51 = v48 <= 4;
            v48 -= 4;
          }
          while ( !v51 );
          v8 = (int *)((char *)v8 + v48);
        }
        else
        {
          do
          {
            v49 = *a2++;
            *(_BYTE *)v8 = v49;
            v8 = (int *)((char *)v8 + 1);
            --v48;
          }
          while ( v48 );
        }
      }
      v10 = __CFADD__(v11, v11);
      v11 *= 2;
    }
    while ( v11 );
  }
}
// 453A70: positive sp value 50 has been found
// 453A70: control flows out of bounds to 417160
// 453A07: variable 'v31' is possibly undefined
// 453A07: variable 'a2' is possibly undefined
// 41E000: using guessed type int dword_41E000[512];
// 453900: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
