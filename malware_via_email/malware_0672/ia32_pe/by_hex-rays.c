/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, int@<edx>, int@<ecx>, unsigned int@<ebp>);

//-------------------------------------------------------------------------
// Data declarations

int dword_41E000[512] =
{
  -19,
  1884601856,
  -2125594624,
  1345873131,
  -1141798026,
  6906676,
  -234622837,
  376661690,
  -76087845,
  33555433,
  1223888585,
  193134856,
  -2130294272,
  -4517934,
  -1076658178,
  1934904886,
  929688193,
  441341795,
  -1958346699,
  -175896322,
  -2228369,
  1807909120,
  -1099600297,
  55856439,
  -1014940608,
  1362388280,
  1498047069,
  -1092689955,
  543107328,
  459760065,
  -1957967101,
  23023563,
  -151585025,
  1347092702,
  1480668468,
  1732701721,
  1682112588,
  -1958149965,
  -67127811,
  938443231,
  -2063498382,
  -1160576205,
  26189384,
  -285278036,
  1192737151,
  1090569010,
  -1746483777,
  1326743958,
  1506181384,
  -1101908140,
  -1948291075,
  -1587207718,
  1224278982,
  1866971975,
  1304451696,
  -1208025020,
  -1405551425,
  1499644020,
  -599173325,
  1783622478,
  662399070,
  -38014737,
  1575532399,
  -971450496,
  944264006,
  1684563646,
  -1588988008,
  2142764505,
  5390937,
  385387344,
  6382389,
  1196986,
  -11054733,
  -343951506,
  1354694796,
  -2141237426,
  1191185536,
  1107324880,
  -37908913,
  535489501,
  1984393069,
  860869171,
  443313240,
  -603998590,
  -1865689353,
  -1040544953,
  1841504606,
  1213032825,
  1984481153,
  -872453072,
  1723427241,
  493506149,
  -1587345713,
  -1226835873,
  -222431340,
  1473119042,
  1397342603,
  1666143247,
  1877343054,
  -2101368977,
  -544512471,
  912618427,
  -109847,
  451321855,
  -336430994,
  1751933970,
  361473613,
  -276493506,
  1073768119,
  -481309623,
  1807840499,
  -1112478270,
  1332942420,
  -100422583,
  -155296990,
  1751471606,
  1949875152,
  -631827669,
  1875046506,
  1018818687,
  -1887931187,
  1917076066,
  1097321547,
  -1092926857,
  -690229364,
  585034561,
  1536231376,
  1642917371,
  1644311114,
  -997995893,
  1458151436,
  -1210322727,
  1354634083,
  -377065914,
  1834497592,
  481591471,
  1555560000,
  75770148,
  1833041920,
  -1436002065,
  -2124140284,
  -975356687,
  -237213626,
  -1193083667,
  1179076206,
  309937749,
  2019324983,
  -1961997439,
  -1168862777,
  -1669924915,
  -438345699,
  15860546,
  1980368589,
  228426034,
  420844323,
  1456182162,
  997163043,
  940461640,
  991601912,
  154730619,
  140767776,
  -1066657462,
  -1469892314,
  1678133285,
  -286926525,
  201388607,
  -1651507428,
  543889948,
  67266306,
  -16314617,
  -4714468,
  -503316494,
  -532676110,
  -1291132430,
  -1174004735,
  521073168,
  -1201927756,
  -1878373134,
  -44016,
  1768488959,
  1881147251,
  862450290,
  667381089,
  -747321483,
  -891550,
  -224825841,
  -741871051,
  -64001705,
  -221184001,
  169610546,
  19478308,
  1162896189,
  21760242,
  1578696966,
  -535537511,
  -2046820353,
  190997216,
  102302209,
  475143154,
  406067476,
  160567307,
  1428091424,
  -302040820,
  69860935,
  948740916,
  -1505741527,
  1194885640,
  1361238913,
  -9414911,
  838860559,
  99746118,
  1162104643,
  634555693,
  1606773002,
  1916879968,
  -1995592620,
  -205052,
  236122879,
  -544724812,
  1408385778,
  1074912679,
  -126409526,
  1947086528,
  1355425876,
  -49,
  707061236,
  1915679312,
  1668246629,
  1468948508,
  1358047270,
  -1064144100,
  -441160407,
  1022228223,
  1466531857,
  -273405910,
  622133164,
  435703868,
  -16245,
  1478294975,
  2136229774,
  -233180669,
  -389352816,
  -2091188155,
  -915470869,
  1911710846,
  -1912628944,
  209124223,
  -1662772218,
  545226488,
  1547187712,
  -1410141410,
  1187186144,
  -54710273,
  168080269,
  134998029,
  -2001943776,
  -1946742078,
  1233777378,
  -1073815567,
  -1880987787,
  224936042,
  1154882608,
  -1723729528,
  -1989964228,
  -285212797,
  218696959,
  -1601341247,
  1709719794,
  85216034,
  -225870192,
  -1960299098,
  147760966,
  -13366286,
  -2127121153,
  326484101,
  839915842,
  272953876,
  -979969909,
  -147475,
  15892990,
  -2011723195,
  1191854096,
  -1273628446,
  207239128,
  -1293732786,
  -511705095,
  377734985,
  105428495,
  2096268617,
  -1958660346,
  113119303,
  -44949130,
  1417671094,
  18094275,
  1002617832,
  1759513358,
  411572738,
  -85983680,
  1499197375,
  -803913230,
  -2096573303,
  1967728756,
  -690790198,
  1133243360,
  -284426241,
  1025000551,
  -204856113,
  -232168692,
  -1987530575,
  -2063586111,
  1596879887,
  -2096366144,
  -572440957,
  581826343,
  -1613690682,
  -119685129,
  827377407,
  1391617728,
  1946411945,
  469771531,
  -125820402,
  -1961943,
  -355635210,
  866735851,
  -1027411285,
  681904257,
  -538709779,
  -570453007,
  152887679,
  569553954,
  1577784078,
  404892683,
  -527699236,
  1146192146,
  -209,
  -421588813,
  2029177567,
  -1467073862,
  -228127980,
  532639604,
  -84779232,
  -151857745,
  1895825407,
  59789034,
  1447442044,
  -218810373,
  -1927244871,
  2081380219,
  1911031844,
  543055858,
  -8290449,
  2084957441,
  -430368430,
  -981211080,
  -520702815,
  -53791115,
  -1946219609,
  1946567711,
  968592656,
  -567442,
  -1872467248,
  -9444547,
  -350469265,
  -1796029450,
  1183383561,
  -208037380,
  1162368707,
  -540278881,
  -1832596876,
  -2022222609,
  1498869257,
  331436551,
  1083191816,
  -204862,
  1978808448,
  -780864131,
  693693454,
  254066886,
  776255233,
  -1490178,
  -318570515,
  74068039,
  1582442592,
  669255244,
  1977628678,
  200180750,
  -426006,
  1174668479,
  -2115179705,
  610321209,
  -65089550,
  -608122958,
  -965875710,
  -11832347,
  -1393106049,
  -226673166,
  1537753276,
  908288265,
  -250564543,
  -1685775893,
  -1069547521,
  1064695556,
  -430209110,
  691936754,
  674129113,
  1526780332,
  1301151743,
  478988697,
  150008465,
  -1674775043,
  2098740525,
  1597685117,
  -50743078,
  -2096725243,
  1493535857,
  -871719704,
  -5789442,
  -209329793,
  -1064434012,
  84374994,
  284300938,
  233489270,
  -13247,
  -2034501537,
  1829758962,
  -1335790909,
  -1735529924,
  676689906,
  1459311084,
  -1983648760,
  -287080451,
  561246797,
  -166935971,
  -1006009535,
  257315828,
  856219775,
  -1073891458,
  -1499970222,
  -456957791,
  -292007214,
  617582873,
  -672705517,
  -62128308,
  1881102999,
  163250552,
  1918572614,
  1283932237,
  -721472524,
  -10,
  1190299847,
  -755881998,
  -2144991178,
  -219656109,
  -1053033075,
  -1725795060,
  -684383144,
  384823317,
  1724045566,
  1334788831,
  264267977,
  440455219,
  -238199,
  144878463,
  -196214969,
  1824373109,
  1530655432,
  1385030952,
  1867361288,
  234881010,
  1428417426,
  284503061,
  -930021183,
  1732465041,
  1110455396,
  -1239947133,
  2091974558,
  -1041184762,
  134780834,
  1307061635,
  -478151810,
  1497821688,
  -373206769,
  825459714,
  -902797629,
  1232585587,
  -952,
  1280958143,
  1947403233,
  -561442276,
  -554514522,
  126361604,
  457626756,
  -2046860814,
  -1433354313,
  -1626597824,
  207928865,
  373458343,
  -25008431,
  -127955463,
  -2138770689,
  108331324,
  674058633,
  372018786,
  -228512255,
  2147187822,
  -1950600981,
  1084004656,
  -2114477058,
  1214998567,
  -1978514692,
  197714449,
  1765109612
}; // weak


//----- (00422C60) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebp>)
{
  int *v4; // esi
  int *v5; // edi
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  unsigned int v11; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  bool v16; // zf
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  unsigned int v20; // eax
  int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ebx
  int v25; // ett
  BOOL v26; // ecx
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ebx
  int v35; // ett
  bool v36; // zf
  int v37; // ebx
  int v38; // ett
  unsigned int v39; // ecx
  char *v40; // edx
  char v41; // al
  int v42; // eax
  bool v43; // cc
  int *v44; // esi
  int *v45; // edi
  int v46; // ecx
  char v47; // al
  unsigned __int8 v48; // al
  int v49; // eax
  int v50; // eax
  char v51; // t0
  unsigned __int8 v52; // bl
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__cdecl *v61)(int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  int v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v72 = &v76;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v4 = dword_41E000;
  v5 = &dword_41E000[-29696];
  v67 = &dword_41E000[-29696];
  while ( 1 )
  {
    v9 = *v4;
    v7 = (unsigned int)v4++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v4;
        v4 = (int *)((char *)v4 + 1);
        *(_BYTE *)v5 = v6;
        v5 = (int *)((char *)v5 + 1);
      }
      else
      {
        v11 = 1;
        while ( 1 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v11 += v12 + v11;
          v7 = __CFADD__(v13, v13);
          v16 = 2 * v13 == 0;
          v8 = 2 * v13;
          if ( v7 )
          {
            if ( !v16 )
              break;
            v17 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v18 = v7 + v17;
            v7 = __CFADD__(v7, v17) | __CFADD__(v17, v18);
            v8 = v17 + v18;
            if ( v7 )
              break;
          }
        }
        v7 = v11 < 3;
        v19 = v11 - 3;
        if ( !v7 )
        {
          v20 = v19 << 8;
          LOBYTE(v20) = *(_BYTE *)v4;
          v4 = (int *)((char *)v4 + 1);
          v21 = ~v20;
          if ( !v21 )
          {
            v44 = v67;
            v45 = v67;
            v46 = 76;
            while ( 1 )
            {
              v47 = *(_BYTE *)v45;
              v45 = (int *)((char *)v45 + 1);
              v48 = v47 + 24;
              while ( v48 <= 1u && *(_BYTE *)v45 == 3 )
              {
                v49 = *v45;
                LOWORD(v49) = BYTE1(*v45);
                v50 = __ROL4__(v49, 16);
                v51 = v50;
                LOBYTE(v50) = BYTE1(v50);
                BYTE1(v50) = v51;
                v52 = *((_BYTE *)v45 + 4) + 24;
                *v45 = (int)v44 + v50 - (_DWORD)v45;
                v45 = (int *)((char *)v45 + 5);
                v48 = v52;
                if ( !--v46 )
                {
                  v53 = (char *)(v44 + 0x8000);
LABEL_38:
                  v54 = *(_DWORD *)v53;
                  if ( *(_DWORD *)v53 )
                  {
                    v55 = (int *)((char *)v44 + *((_DWORD *)v53 + 1));
                    v53 += 8;
                    v56 = ((int (__cdecl *)(int, int, int, int, int, int *, int, int, int))v44[37003])(
                            (int)v44 + v54 + 147872,
                            v68,
                            v69,
                            v70,
                            v71,
                            v72,
                            v73,
                            v74,
                            v75);
                    while ( 1 )
                    {
                      v57 = *v53++;
                      if ( !v57 )
                        goto LABEL_38;
                      v58 = v53;
                      v66 = v53;
                      v59 = v57 - 1;
                      do
                      {
                        if ( !v58 )
                          break;
                        v16 = *v53++ == (char)v59;
                        --v58;
                      }
                      while ( !v16 );
                      v60 = ((int (__cdecl *)(int, char *))v44[37004])(v56, v66);
                      if ( !v60 )
                        break;
                      *v55++ = v60;
                    }
                    v54 = ((int (*)(void))v44[37008])();
                  }
                  v61 = (void (__cdecl *)(int *, int, int, int *))v44[37005];
                  v62 = v44 - 1024;
                  v64 = v54;
                  v61(v44 - 1024, 4096, 4, &v64);
                  *((_BYTE *)v62 + 495) &= ~0x80u;
                  *((_BYTE *)v62 + 535) &= ~0x80u;
                  v61(v44 - 1024, 4096, v63[0], v63);
                  do
                    v64 = 0;
                  while ( &v64 != &v65 - 32 );
                  JUMPOUT(0x4010F8);
                }
              }
            }
          }
          a4 = v21;
        }
        v22 = __CFADD__(v8, v8);
        v23 = 2 * v8;
        if ( !v23 )
        {
          v24 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v25 = v7 + v24;
          v22 = __CFADD__(v7, v24) | __CFADD__(v24, v25);
          v23 = v24 + v25;
        }
        v26 = v22;
        v27 = __CFADD__(v23, v23);
        v8 = 2 * v23;
        if ( !v8 )
        {
          v28 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v29 = v7 + v28;
          v27 = __CFADD__(v7, v28) | __CFADD__(v28, v29);
          v8 = v28 + v29;
        }
        v30 = v26 + v27 + v26;
        if ( !v30 )
        {
          v31 = 1;
          while ( 1 )
          {
            v32 = __CFADD__(v8, v8);
            v33 = 2 * v8;
            if ( !v33 )
            {
              v34 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v35 = v7 + v34;
              v32 = __CFADD__(v7, v34) | __CFADD__(v34, v35);
              v33 = v34 + v35;
            }
            v31 += v32 + v31;
            v7 = __CFADD__(v33, v33);
            v36 = 2 * v33 == 0;
            v8 = 2 * v33;
            if ( v7 )
            {
              if ( !v36 )
                break;
              v37 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v38 = v7 + v37;
              v7 = __CFADD__(v7, v37) | __CFADD__(v37, v38);
              v8 = v37 + v38;
              if ( v7 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v39 = (a4 < 0xFFFFF300) + v30 + 1;
        v40 = (char *)v5 + a4;
        if ( a4 <= 0xFFFFFFFC )
        {
          do
          {
            v42 = *(_DWORD *)v40;
            v40 += 4;
            *v5++ = v42;
            v43 = v39 <= 4;
            v39 -= 4;
          }
          while ( !v43 );
          v5 = (int *)((char *)v5 + v39);
        }
        else
        {
          do
          {
            v41 = *v40++;
            *(_BYTE *)v5 = v41;
            v5 = (int *)((char *)v5 + 1);
            --v39;
          }
          while ( v39 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 422DE3: positive sp value 50 has been found
// 422DE3: control flows out of bounds to 4010F8
// 41E000: using guessed type int dword_41E000[512];
// 422C60: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
