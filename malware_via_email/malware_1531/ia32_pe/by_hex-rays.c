/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// int __usercall sub_40218F@<eax>(unsigned int a1@<eax>, unsigned int a2@<ecx>, int a3@<edi>);


//----- (0040218F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_40218F@<eax>(unsigned int a1@<eax>, unsigned int a2@<ecx>, int a3@<edi>)
{
  int v3; // eax
  int v4; // ebx
  unsigned int v5; // ecx
  int v6; // ebx
  int v7; // ebx
  int v8; // eax
  int v9; // ecx
  int v10; // esi
  int v11; // ecx
  int v12; // edx
  unsigned int v13; // edx
  int v14; // eax
  unsigned int v15; // ebx
  __int64 v16; // rdi
  int v17; // eax
  int v18; // esi
  int v19; // ecx
  int v20; // ebx
  int v21; // ebx
  int v22; // edx
  unsigned int v23; // edx
  int v24; // eax
  unsigned int v25; // ebx
  int v26; // edx
  bool v27; // cf
  unsigned int v28; // eax
  unsigned int v29; // ecx
  int v30; // eax
  int v31; // ecx
  int v32; // edx
  int v33; // edi
  int v34; // eax
  int v35; // ecx
  int v36; // ebx
  int v37; // eax
  int v38; // edx
  int v39; // ebx
  __int64 v41; // rcx
  int v42; // eax
  __int64 v43; // rcx
  int v44; // eax
  int v45; // eax
  int v46; // ebx
  int v47; // eax
  int v48; // eax
  unsigned int v49; // eax
  int v50; // ebx
  int v51; // eax
  int v52; // eax
  int v53; // edx
  int v54; // [esp-4h] [ebp-4h]

  v26 = a1 + a3;
  v27 = a1 < a2;
  v28 = a1 - a2;
  v29 = a2 - (v27 + v28);
  v30 = v28 - a3;
  v31 = v30 | v29;
  v7 = v30 - (v31 & (v30 - v26));
  v8 = (v30 - v26) & v31 & (v30 - v26);
  v9 = v54 + v31;
  if ( v26 == 1197144949 )
    JUMPOUT(0x40201E);
  v18 = v9;
  v19 = (v8 - v9) | (2 * v9);
  v52 = v18 - v19;
  v53 = v19 + ((v54 + 278) | (v26 - v7 - (v54 + 278)));
  v10 = v18 - (v54 + 278);
  v11 = v10 | v52 | v10 | (v52 + v19);
  v12 = v10 & v53;
  LODWORD(v16) = v54;
  v38 = v11 | (v12 - v11);
  if ( v54 == -1806348499 )
    JUMPOUT(0x40223F);
  HIDWORD(v16) = -963520331;
  v21 = (__PAIR64__(
           ((v54 + 278) | (unsigned int)(v54 + 278 - v11)) - (v38 - (v54 + 278)),
           (v54 + 278) | (unsigned int)(v54 + 278 - v11))
       - __PAIR64__(v38 - (v54 + 278), v38 - (v54 + 278))) >> 32;
  v22 = ((v54 + 963520609) & v38) - v21;
  HIDWORD(v41) = (v21 - v54) & 0xC691D8B5;
  LODWORD(v41) = HIDWORD(v41);
  v42 = v54 & (v54 + 963520609);
  v43 = v41 - v16;
  HIDWORD(v16) = 2950;
  HIDWORD(v43) -= v22;
  LODWORD(v43) = v42 + v43 - 963520331;
  v44 = v42 - v54;
  v5 = v43 - v44;
  v48 = v5 + (HIDWORD(v43) | v44) - HIDWORD(v43);
  v36 = HIDWORD(v43) - v48;
  v49 = v54 | v48;
  do
  {
    v50 = v49 & v36;
    v51 = (v5 & v49) - v50;
    if ( v5 == -1387755448 )
      JUMPOUT(0x402320);
    v20 = HIDWORD(v16)
        + v5
        + ((__PAIR64__(v50 - (int)v16, v50) - __PAIR64__(v50 & (unsigned int)v51, v16)) >> 32)
        - (v50 & v51);
    BYTE1(v5) = *(_BYTE *)v16;
    v39 = HIDWORD(v16) + v20 - v16 - v5;
    BYTE1(v5) += 120;
    if ( v5 == 970737616 )
      JUMPOUT(0x401FFB);
    v4 = HIDWORD(v16) & ((__PAIR64__((unsigned int)v16 | v5, HIDWORD(v16) | v39 | v39 | (unsigned int)v16)
                        - __PAIR64__(v16, v5)) >> 32);
    BYTE1(v5) += 85;
    v6 = v16 | (v4 - v16);
    v13 = v5;
    v14 = v5 & v16 & (HIDWORD(v16) | v16);
    BYTE1(v5) = ~BYTE1(v5);
    v15 = v14 & (HIDWORD(v16)
               + HIDWORD(v16)
               + v16
               + v6
               - ((__PAIR64__(v5, HIDWORD(v16)) + (unsigned int)(HIDWORD(v16) + v16 + v6)) >> 32));
    if ( v15 == -1409280585 )
      JUMPOUT(0x402093);
    v23 = v15 & (v16 | v13);
    v24 = (v15 - __PAIR64__(HIDWORD(v16), 0)) >> 32;
    v25 = v15 - ((v15 < __PAIR64__(HIDWORD(v16), 0)) + (_DWORD)v16);
    if ( v5 == -1623191243 )
      JUMPOUT(0x40218C);
    BYTE1(v5) = __ROL1__(BYTE1(v5), 9);
    v17 = (v24 | v23) - v5 + ((__PAIR64__(v25, v24 | v23) - __PAIR64__(HIDWORD(v16), v5)) >> 32);
    BYTE1(v5) = -BYTE1(v5);
    v37 = v17 - (v16 - HIDWORD(v16)) - v16;
    if ( (_DWORD)v16 == -18533334 )
      JUMPOUT(0x402214);
    v47 = v5 + v37;
    if ( HIDWORD(v16) == -519477230 )
      JUMPOUT(0x4022FA);
    BYTE1(v5) ^= 0xF5u;
    if ( (_DWORD)v16 + v47 == -1322762277 )
      JUMPOUT(0x4022C1);
    if ( (v5 | (unsigned int)((v5 | v16)
                            - HIDWORD(v16)
                            - v5
                            - ((__PAIR64__(v16 - ((v5 | v16) - HIDWORD(v16)), v16)
                              - __PAIR64__(v5, (v5 | (unsigned int)v16) - HIDWORD(v16))) >> 32))) == -795585765 )
      JUMPOUT(0x402129);
    *(_BYTE *)v16 = BYTE1(v5);
    if ( (_DWORD)v16 == -1266132994 )
      JUMPOUT(0x40216A);
    if ( v5 == 1909397232 )
      JUMPOUT(0x40206E);
    LODWORD(v16) = v16 + 1;
    --HIDWORD(v16);
    if ( (_DWORD)v16 == -2063390469 )
      JUMPOUT(0x402340);
    v36 = HIDWORD(v16) + 1766571334;
    if ( v5 == 187837175 )
      JUMPOUT(0x40237A);
    v49 = (__PAIR64__(
             HIDWORD(v16) & (v16 | v5 & (v16
                                       + (HIDWORD(v16) & (v16 | HIDWORD(v16)))
                                       - ((__PAIR64__(v5, v16) + (HIDWORD(v16) & ((unsigned int)v16 | HIDWORD(v16)))) >> 32))),
             v5)
         - __PAIR64__(v16, 187837175)) >> 32;
    v32 = v36 + v16 - ((__PAIR64__(v49, v36) + (unsigned int)v16) >> 32);
  }
  while ( HIDWORD(v16) );
  v33 = v16 & 0x694BBD46;
  v34 = v33 | v49;
  v35 = v32 & v5;
  v45 = v34 & 0x694BBD46;
  v46 = 1766571334 - ((v32 | (v35 - v33)) & 0x694BBD46);
  if ( -v35 == 63106105 )
    JUMPOUT(0x4022E1);
  v3 = v46 | v45;
  if ( v3 == 1164822058 )
    JUMPOUT(0x401FB8);
  return v3 - (-v35 - v46);
}
// 40200A: positive sp value 4 has been found
// 401FB2: control flows out of bounds to 401FB8
// 401FF9: control flows out of bounds to 401FFB
// 402018: control flows out of bounds to 40201E
// 40206C: control flows out of bounds to 40206E
// 40208D: control flows out of bounds to 402093
// 402127: control flows out of bounds to 402129
// 402164: control flows out of bounds to 40216A
// 402186: control flows out of bounds to 40218C
// 40220E: control flows out of bounds to 402214
// 402239: control flows out of bounds to 40223F
// 4022BB: control flows out of bounds to 4022C1
// 4022DB: control flows out of bounds to 4022E1
// 4022F8: control flows out of bounds to 4022FA
// 40231A: control flows out of bounds to 402320
// 40233A: control flows out of bounds to 402340
// 402374: control flows out of bounds to 40237A
// 402010: variable 'v54' is possibly undefined

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
