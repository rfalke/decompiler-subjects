/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebp>);

//-------------------------------------------------------------------------
// Data declarations

int dword_41C000[512] =
{
  -36937,
  2028962048,
  -1962906535,
  -380942575,
  -268369920,
  1949550351,
  854197504,
  -1677759022,
  855687236,
  -83646479,
  206264251,
  -45539506,
  267860847,
  185369988,
  -1019888128,
  1649722241,
  -754748825,
  -646348801,
  -2054010085,
  1531136480,
  1908395779,
  1500013634,
  1489472327,
  -5112961,
  1767208895,
  1824411241,
  -1957940109,
  1658389248,
  5400119,
  -151602614,
  1128979383,
  271575913,
  1699528433,
  57034057,
  -48612288,
  1711271414,
  53569388,
  -337998904,
  2011921970,
  -664504248,
  1395747513,
  -1218052129,
  71223096,
  1082905589,
  1659797776,
  -1872338313,
  -144253527,
  834339067,
  73027939,
  1731769817,
  -9677369,
  -18038803,
  1924794480,
  894258518,
  1188433666,
  -381488381,
  -33489137,
  16510391,
  -687652785,
  1336498479,
  894387965,
  1706775107,
  -1141412253,
  -781656097,
  1232695225,
  -2118015641,
  -1201187323,
  2130726478,
  2000025307,
  103962810,
  1255938369,
  -1154288418,
  1202843133,
  459469,
  649648470,
  814705043,
  -285522089,
  -2122379283,
  1484219334,
  2034977136,
  -2119548672,
  -2059319870,
  1203502527,
  57756175,
  1136755138,
  -92168334,
  2089816720,
  1879029574,
  1481260747,
  1745447424,
  4312737,
  6816618,
  369034928,
  -603983617,
  -1962565396,
  -2114444220,
  -1960997832,
  -1023314825,
  -1090514026,
  -1074179241,
  -1351436779,
  1887183946,
  -347654823,
  54657025,
  -138190377,
  1304864859,
  -1954979243,
  880003695,
  -1312589954,
  1432450203,
  186731422,
  407202674,
  2130456286,
  912551021,
  1254219523,
  -896808603,
  5259799,
  1592258021,
  641036014,
  232260374,
  2069000171,
  -1011214885,
  297517376,
  1746885070,
  -35107517,
  83015437,
  -2139081460,
  1430765557,
  -208965275,
  -647107147,
  1115293001,
  1683245146,
  -1186989904,
  653311419,
  -1958585158,
  1179465416,
  1213776732,
  -1620112645,
  -1099904834,
  197807209,
  1861113943,
  1255636719,
  543900859,
  942830534,
  -1616516209,
  -1555662474,
  2048163293,
  1309428052,
  2070827377,
  2138951096,
  373744216,
  -917093559,
  -1260436500,
  1933827565,
  -1836595558,
  1916102588,
  -126975932,
  1975961597,
  460898735,
  759185678,
  1978165248,
  2083290931,
  559019483,
  1213167959,
  -567738746,
  -256457077,
  1245897655,
  1222812355,
  1414490234,
  220744599,
  837681007,
  -745821581,
  1716502362,
  1873890664,
  -927596478,
  -619915524,
  2015379795,
  -1056421607,
  1247901044,
  1815309820,
  -2129571552,
  1180277824,
  -141859470,
  773790689,
  1058961763,
  1092965995,
  1303925326,
  1927396336,
  1698783558,
  1768077804,
  -563656817,
  381216872,
  -393718855,
  1193207451,
  -327136206,
  1123674711,
  12422193,
  804063232,
  800670012,
  246958923,
  -1317144272,
  -303990201,
  -222063356,
  -941600445,
  1267622755,
  -252510967,
  1196576567,
  -259263997,
  -1094504804,
  -1938790033,
  113236887,
  569475571,
  -410027889,
  1438284100,
  -1027870866,
  -239673022,
  899499300,
  493832889,
  321302239,
  809848642,
  2113073490,
  -253897614,
  2100924145,
  1212437588,
  1275410024,
  -549637805,
  -881672208,
  -1436399431,
  2000861728,
  1900605095,
  -80123272,
  398160063,
  1175341002,
  1908339043,
  -1183747256,
  -965919328,
  -617650372,
  1181836415,
  -335901863,
  -941744721,
  -1904782487,
  1849278422,
  -1178615282,
  1199106367,
  -768389548,
  2099488396,
  2018408503,
  -1956424083,
  -1432092319,
  -35428627,
  1146535747,
  585906261,
  1297691826,
  -613666009,
  1144460891,
  -1899094985,
  -1112434072,
  16171761,
  -876101224,
  55923061,
  -45534533,
  599490142,
  -349415189,
  1882732139,
  -1486605625,
  1452097896,
  1342550264,
  -1234674260,
  -377590796,
  52522887,
  -176047888,
  1735800299,
  1901224639,
  829305908,
  -141882442,
  611170777,
  1995404256,
  -1754648234,
  7761082,
  -1823688483,
  1131402987,
  1886679881,
  -244647029,
  1807861290,
  -1167212837,
  -1336317882,
  855200219,
  -570445260,
  -789472570,
  1087443148,
  -137428471,
  -638392970,
  54705884,
  590807075,
  600974229,
  2037531493,
  593437597,
  496175856,
  286054898,
  -45794525,
  1739603494,
  -1678170629,
  -586545629,
  -1100396002,
  221158153,
  1433825891,
  593818205,
  -4072948,
  1581313821,
  686490294,
  75191041,
  -1169965168,
  -975105651,
  -735852906,
  370968031,
  81291108,
  1872598011,
  420427442,
  641568260,
  -1087072409,
  588265660,
  676200647,
  561383270,
  613223488,
  -103205281,
  54939418,
  1612932131,
  -1613110940,
  591505143,
  -586215161,
  -457423087,
  175442866,
  -1125637242,
  -208194403,
  1443125256,
  557261603,
  49647030,
  16213074,
  -666129253,
  -536809263,
  -1341644733,
  -1884835610,
  700125520,
  785974895,
  -316455943,
  645933740,
  -818713573,
  193143595,
  110890324,
  956982512,
  228460835,
  -2138246223,
  -121938711,
  -117329314,
  -1776868409,
  1210301952,
  -1842325647,
  927934311,
  2072850457,
  -323287335,
  -200648115,
  595136002,
  -463068929,
  889545915,
  811374346,
  -1162615642,
  -1507638172,
  1642334950,
  320256,
  -1844077753,
  124000459,
  1635446531,
  1473851540,
  -275502041,
  -1241314016,
  -2081347121,
  -1945188776,
  168290835,
  1707651473,
  79053595,
  628120570,
  252960039,
  -2011709661,
  211248412,
  640950726,
  -117301950,
  1211750750,
  -1855698129,
  1815678486,
  -1806432048,
  1765437279,
  866613446,
  -1758304633,
  1834550928,
  288745861,
  -1350818482,
  841152060,
  1894948466,
  406852510,
  -2016539968,
  2114790260,
  1697706268,
  -162146208,
  8193638,
  162667752,
  1874650137,
  -1774249386,
  249831857,
  -628551786,
  1318096567,
  -13109237,
  -1292974055,
  1361299597,
  549360710,
  -1279603242,
  -121627494,
  622986094,
  -2057399922,
  -2146882560,
  1551109645,
  -1458124600,
  -99490013,
  -184873581,
  1998847216,
  1772759583,
  123791282,
  -1998869194,
  1708559882,
  788805579,
  -2039981717,
  1569966339,
  596681992,
  -228652818,
  577962617,
  -151700618,
  211611427,
  -985587234,
  1879099110,
  -1876483295,
  1470409743,
  -1872299232,
  1232423202,
  1211130220,
  1544039366,
  404587824,
  -939466795,
  658186625,
  54862655,
  -1313191302,
  -586605823,
  -812495293,
  1114167747,
  -1608304044,
  1528830538,
  -572307925,
  333259105,
  624534535,
  -409596914,
  -1857429469,
  -1335089434,
  1186994881,
  338881966,
  940611638,
  -1381567348,
  1817808732,
  -2140006842,
  79835203,
  1515300086,
  -357876984,
  -1835515332,
  2031888131,
  -465754243,
  769240898,
  20649711,
  375202242,
  -646288263,
  -1202102123,
  751211028,
  -2109597499,
  1499483584,
  -1913057754,
  -1103580372,
  -1034713730,
  624675113,
  -157173955,
  596862256,
  -1071786984,
  1828112650,
  1732819248,
  -1938612222,
  -881557172,
  1611213503,
  -1800004477,
  254923028,
  -663716713,
  -440199132,
  -1341398725,
  -175634429,
  1640134364,
  -1060927227,
  -1312746892,
  422732494,
  -1789899961,
  968713265,
  -1557378027,
  -652474253,
  1461194917,
  1192829011,
  1461935734,
  1266040232,
  728303302,
  -37982485
}; // weak


//----- (004232E0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebp>)
{
  int *v4; // esi
  int *v5; // edi
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  unsigned int v11; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  bool v16; // zf
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  unsigned int v20; // eax
  int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ebx
  int v25; // ett
  BOOL v26; // ecx
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ebx
  int v35; // ett
  bool v36; // zf
  int v37; // ebx
  int v38; // ett
  unsigned int v39; // ecx
  char *v40; // edx
  char v41; // al
  int v42; // eax
  bool v43; // cc
  int *v44; // esi
  int *v45; // edi
  int v46; // ecx
  char v47; // al
  unsigned __int8 v48; // al
  int v49; // eax
  int v50; // eax
  char v51; // t0
  unsigned __int8 v52; // bl
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__cdecl *v61)(int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  int v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v72 = &v76;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v4 = dword_41C000;
  v5 = &dword_41C000[-27648];
  v67 = &dword_41C000[-27648];
  while ( 1 )
  {
    v9 = *v4;
    v7 = (unsigned int)v4++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v4;
        v4 = (int *)((char *)v4 + 1);
        *(_BYTE *)v5 = v6;
        v5 = (int *)((char *)v5 + 1);
      }
      else
      {
        v11 = 1;
        while ( 1 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v11 += v12 + v11;
          v7 = __CFADD__(v13, v13);
          v16 = 2 * v13 == 0;
          v8 = 2 * v13;
          if ( v7 )
          {
            if ( !v16 )
              break;
            v17 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v18 = v7 + v17;
            v7 = __CFADD__(v7, v17) | __CFADD__(v17, v18);
            v8 = v17 + v18;
            if ( v7 )
              break;
          }
        }
        v7 = v11 < 3;
        v19 = v11 - 3;
        if ( !v7 )
        {
          v20 = v19 << 8;
          LOBYTE(v20) = *(_BYTE *)v4;
          v4 = (int *)((char *)v4 + 1);
          v21 = ~v20;
          if ( !v21 )
          {
            v44 = v67;
            v45 = v67;
            v46 = 77;
            while ( 1 )
            {
              v47 = *(_BYTE *)v45;
              v45 = (int *)((char *)v45 + 1);
              v48 = v47 + 24;
              while ( v48 <= 1u && !*(_BYTE *)v45 )
              {
                v49 = *v45;
                LOWORD(v49) = BYTE1(*v45);
                v50 = __ROL4__(v49, 16);
                v51 = v50;
                LOBYTE(v50) = BYTE1(v50);
                BYTE1(v50) = v51;
                v52 = *((_BYTE *)v45 + 4) + 24;
                *v45 = (int)v44 + v50 - (_DWORD)v45;
                v45 = (int *)((char *)v45 + 5);
                v48 = v52;
                if ( !--v46 )
                {
                  v53 = (char *)(v44 + 33792);
LABEL_38:
                  v54 = *(_DWORD *)v53;
                  if ( *(_DWORD *)v53 )
                  {
                    v55 = (int *)((char *)v44 + *((_DWORD *)v53 + 1));
                    v53 += 8;
                    v56 = ((int (__cdecl *)(int, int, int, int, int, int *, int, int, int))v44[38094])(
                            (int)v44 + v54 + 152256,
                            v68,
                            v69,
                            v70,
                            v71,
                            v72,
                            v73,
                            v74,
                            v75);
                    while ( 1 )
                    {
                      v57 = *v53++;
                      if ( !v57 )
                        goto LABEL_38;
                      v58 = v53;
                      v66 = v53;
                      v59 = v57 - 1;
                      do
                      {
                        if ( !v58 )
                          break;
                        v16 = *v53++ == (char)v59;
                        --v58;
                      }
                      while ( !v16 );
                      v60 = ((int (__cdecl *)(int, char *))v44[38095])(v56, v66);
                      if ( !v60 )
                        break;
                      *v55++ = v60;
                    }
                    v54 = ((int (*)(void))v44[38099])();
                  }
                  v61 = (void (__cdecl *)(int *, int, int, int *))v44[38096];
                  v62 = v44 - 1024;
                  v64 = v54;
                  v61(v44 - 1024, 4096, 4, &v64);
                  *((_BYTE *)v62 + 495) &= 0x7Fu;
                  *((_BYTE *)v62 + 535) &= 0x7Fu;
                  v61(v44 - 1024, 4096, v63[0], v63);
                  do
                    v64 = 0;
                  while ( &v64 != &v65 - 32 );
                  JUMPOUT(0x4059C2);
                }
              }
            }
          }
          a4 = v21;
        }
        v22 = __CFADD__(v8, v8);
        v23 = 2 * v8;
        if ( !v23 )
        {
          v24 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v25 = v7 + v24;
          v22 = __CFADD__(v7, v24) | __CFADD__(v24, v25);
          v23 = v24 + v25;
        }
        v26 = v22;
        v27 = __CFADD__(v23, v23);
        v8 = 2 * v23;
        if ( !v8 )
        {
          v28 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v29 = v7 + v28;
          v27 = __CFADD__(v7, v28) | __CFADD__(v28, v29);
          v8 = v28 + v29;
        }
        v30 = v26 + v27 + v26;
        if ( !v30 )
        {
          v31 = 1;
          while ( 1 )
          {
            v32 = __CFADD__(v8, v8);
            v33 = 2 * v8;
            if ( !v33 )
            {
              v34 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v35 = v7 + v34;
              v32 = __CFADD__(v7, v34) | __CFADD__(v34, v35);
              v33 = v34 + v35;
            }
            v31 += v32 + v31;
            v7 = __CFADD__(v33, v33);
            v36 = 2 * v33 == 0;
            v8 = 2 * v33;
            if ( v7 )
            {
              if ( !v36 )
                break;
              v37 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v38 = v7 + v37;
              v7 = __CFADD__(v7, v37) | __CFADD__(v37, v38);
              v8 = v37 + v38;
              if ( v7 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v39 = (a4 < 0xFFFFF300) + v30 + 1;
        v40 = (char *)v5 + a4;
        if ( a4 <= 0xFFFFFFFC )
        {
          do
          {
            v42 = *(_DWORD *)v40;
            v40 += 4;
            *v5++ = v42;
            v43 = v39 <= 4;
            v39 -= 4;
          }
          while ( !v43 );
          v5 = (int *)((char *)v5 + v39);
        }
        else
        {
          do
          {
            v41 = *v40++;
            *(_BYTE *)v5 = v41;
            v5 = (int *)((char *)v5 + 1);
            --v39;
          }
          while ( v39 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 423463: positive sp value 50 has been found
// 423463: control flows out of bounds to 4059C2
// 41C000: using guessed type int dword_41C000[512];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
