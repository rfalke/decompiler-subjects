/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, char *@<edx>, int@<ecx>, unsigned int@<ebp>);

//-------------------------------------------------------------------------
// Data declarations

int dword_434710; // weak
int dword_82C000[512] =
{
  -1,
  1443687120,
  -109817446,
  1553608136,
  1878799547,
  -1108635328,
  1091523769,
  -267081156,
  139023179,
  -1,
  1094768939,
  2024241384,
  2114962831,
  305952299,
  909567369,
  1799566319,
  -2139810785,
  -59002790,
  -1,
  1507670374,
  -1982401386,
  -1905720464,
  309661300,
  1020897552,
  1425153491,
  -772355738,
  -469140776,
  -1,
  -1240708536,
  -831069188,
  1858229870,
  -968902177,
  1481072757,
  -298036745,
  -138723408,
  787698183,
  -1,
  -721268275,
  231483240,
  -506874559,
  797408550,
  2030146189,
  1376768995,
  -360878513,
  -443475303,
  -9,
  -1794336733,
  754213403,
  -1832871083,
  -342975115,
  -241383071,
  -1204720878,
  -2054761913,
  -79,
  -1396601089,
  1245482091,
  -935731455,
  1879997445,
  759490468,
  -226965868,
  1400913059,
  -75057558,
  -155,
  -31856897,
  494007835,
  1885687599,
  751134324,
  1646361699,
  -400147065,
  -533881396,
  2039579323,
  -251,
  -421073409,
  -1304373763,
  -771433505,
  873364976,
  -1542420247,
  1249563192,
  275093497,
  -1305546291,
  -1015856,
  1657424639,
  471450731,
  764407494,
  -2078190845,
  -868050033,
  40080193,
  -4721859,
  738197503,
  -23083361,
  -1046344971,
  1599983988,
  -1200773943,
  -292480243,
  1139183259,
  -2139946741,
  -60635527,
  -436207617,
  263039676,
  1611696704,
  -462446167,
  -1523121537,
  -448725658,
  -533369153,
  -710204233,
  -246,
  210876223,
  -910247155,
  1051542744,
  -161857500,
  -1428298866,
  -1801983314,
  -1765856512,
  -31457330,
  2133145087,
  -448436824,
  -1995170298,
  504499493,
  1374324173,
  -155387011,
  -431522,
  83886079,
  1910475889,
  1245599018,
  -1875403690,
  1120556956,
  -1488258705,
  2028727701,
  -2095833661,
  -14284322,
  -536870913,
  -471993117,
  1400967833,
  -1954694793,
  -1490348940,
  -723986529,
  1398596280,
  -457710293,
  -6397662,
  -1627393665,
  1626188948,
  1716898694,
  -842121515,
  175283228,
  -720375777,
  -631737227,
  -135,
  1351698431,
  -940817755,
  -394034071,
  877305012,
  1640157267,
  1264674178,
  -1612394679,
  -1390461318,
  -126,
  165803007,
  -199409587,
  -1437521689,
  149490371,
  858964388,
  936911265,
  -1169439022,
  862165643,
  -208,
  1595180287,
  -920314606,
  -1406176283,
  2035558838,
  -713592734,
  -723600108,
  -1097123266,
  -1341637625,
  -950477,
  -699903489,
  647868657,
  -1075440089,
  1757173515,
  -907788480,
  257826746,
  -12873821,
  234762239,
  -1055125078,
  682460233,
  -781049659,
  -1006261081,
  678847607,
  -205913423,
  -18,
  -1882307841,
  1082437193,
  -292150619,
  72649393,
  2106719613,
  1990929667,
  -1228885246,
  276621561,
  -1006633157,
  -1660280065,
  756453452,
  602808597,
  1276585751,
  -284928706,
  -129512719,
  -1895145649,
  -1140850689,
  -1643271336,
  -2138811691,
  -847958200,
  -165049298,
  1519105893,
  -949645424,
  -125,
  -433986561,
  -1596205802,
  1750367801,
  875760956,
  258338305,
  1096132533,
  -646456489,
  -1001802985,
  -140,
  -648032769,
  -2027920851,
  389761882,
  -1542188447,
  1100236418,
  -399335115,
  856938910,
  -157936185,
  -150,
  1052662527,
  1127517039,
  1423486086,
  -566786467,
  -214369941,
  233405783,
  -414996122,
  -1355430784,
  -2899,
  -563105281,
  -2119712722,
  -934071942,
  454323922,
  156327225,
  -742574353,
  2042872782,
  -2269,
  -547142145,
  1027129810,
  912321543,
  1699575738,
  797477089,
  1394214040,
  -1948724649,
  -125829121,
  1620548591,
  797865845,
  1559556987,
  -1266614666,
  -753943057,
  -1717219002,
  -41871,
  855965571,
  -900052439,
  -920270792,
  -1890612899,
  -919554769,
  -199291555,
  1788491402,
  -1,
  276714856,
  1187705448,
  1811442670,
  739044261,
  232996541,
  -695727027,
  -764658147,
  -35410820,
  -1,
  -1472050684,
  678128730,
  -2050625451,
  1523405601,
  1104017713,
  -1905833932,
  872040014,
  -65152697,
  -12,
  -1566835852,
  936005271,
  203294191,
  255528497,
  789896235,
  1421104458,
  -188175801,
  -65,
  -832956777,
  169435829,
  1951564044,
  -759852519,
  -478833182,
  -1349787172,
  -6422212,
  1224736727,
  1666198138,
  -1762854652,
  -1457529710,
  -237057523,
  -2085810341,
  -2050795604,
  -65,
  -1419822337,
  1464480479,
  2113146394,
  1318153396,
  -842872207,
  1336372071,
  274580828,
  1915634887,
  -23,
  -1760462849,
  1261838769,
  2141822784,
  -663769512,
  193167374,
  -291070622,
  -1477303602,
  1049439692,
  -37,
  2012851455,
  -438316887,
  1783550025,
  -1664427610,
  -340902755,
  1521302633,
  512107088,
  -1557636169,
  -31974,
  -1528506881,
  1534257264,
  46361625,
  605279571,
  2123987648,
  1473467038,
  -2763364,
  2030043135,
  -561899815,
  559952754,
  -981308073,
  124714565,
  -903706031,
  -1733087426,
  -1555071188,
  2145543760,
  -268435459,
  400311670,
  1322047110,
  -1713921973,
  1631324206,
  -1033221443,
  1600238861,
  -147,
  -1483976193,
  -956839612,
  -1704601481,
  972681561,
  34896437,
  1357929724,
  -261753540,
  -1099546654,
  -83,
  -156430593,
  576307012,
  -1189100990,
  -644040235,
  -1645793629,
  37495310,
  1998709025,
  1758063800,
  -1006633051,
  1570036479,
  -1563194658,
  -1488058355,
  -1171578125,
  2145384795,
  -1970226363,
  -5039763,
  -1476395009,
  230146537,
  -1510145358,
  388504405,
  283029308,
  -1653937580,
  -1431279859,
  -528557086,
  -12965890,
  2130706431,
  -279889509,
  956361010,
  1901516206,
  -393104363,
  -1071658127,
  -50955021,
  1594884219,
  -14232546,
  -1644167169,
  -1357153205,
  1385002139,
  26517382,
  -207191187,
  -267383609,
  -157303710,
  374242034,
  -15375496,
  -67108865,
  -29405146,
  -1177157420,
  2114913846,
  817820741,
  1246390196,
  748478032,
  -435644784,
  -14039843,
  603979765,
  -416487618,
  1343036263,
  2025098869,
  838768573,
  -216133764,
  21488332,
  -113,
  1133170175,
  -2026895456,
  -2134600721,
  1678207372,
  508574125,
  1176440748,
  -1080483675,
  1426418598,
  -104,
  -1047792129,
  -589964716,
  -230134396,
  -2082069173,
  -784722992,
  498407722,
  1668229445,
  20263613,
  1049621716,
  88709568,
  2113428048,
  2139304821,
  -18167,
  1075544063,
  1171241063,
  827684847,
  -1137076018,
  -157983012,
  -1784991456,
  -1549462913,
  -1665362084,
  -1,
  1081839185,
  -1318799728,
  -1610334318,
  -1803161300,
  -1668595164,
  -143550747,
  -2126279692,
  -484304085,
  -1,
  -372456200,
  1905276452,
  -723906884,
  -903890612,
  350323064,
  -2129966961,
  248877761,
  939185665,
  -1,
  -990301502,
  -1852769762,
  935513096,
  2115244193,
  264311260,
  -936892440,
  -1650095821,
  26724067,
  -21505,
  676267555,
  -1306296165,
  -2031625996,
  -462205371,
  -485513287,
  2079722181,
  -48314,
  2128150527,
  -155236068,
  -532489629,
  -452489742,
  -237717247,
  -632793605,
  -1804823111,
  -1345685908,
  -33005,
  498859011,
  2064017211,
  894702965,
  -1994172778,
  -636974868,
  -2123234097
}; // weak


//----- (00834100) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, char *a2@<edx>, int a3@<ecx>, unsigned int a4@<ebp>)
{
  int *v4; // esi
  int *v5; // edi
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  int i; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  unsigned int v16; // eax
  bool v17; // zf
  int v18; // ebx
  int v19; // ebx
  int v20; // ett
  unsigned int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ett
  unsigned int v25; // eax
  unsigned int v26; // eax
  int v27; // eax
  bool v28; // cf
  int v29; // ebx
  int v30; // ett
  BOOL v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ett
  int v35; // ecx
  int v36; // ecx
  bool v37; // cf
  int v38; // ebx
  int v39; // ebx
  int v40; // ett
  bool v41; // zf
  int v42; // ebx
  int v43; // ett
  unsigned int v44; // ecx
  char v45; // al
  int v46; // eax
  bool v47; // cc
  int *v48; // esi
  int *v49; // edi
  int v50; // ecx
  char v51; // al
  int *v52; // eax
  int v53; // eax
  int v54; // eax
  char v55; // t0
  char v56; // bl
  void (__cdecl *v57)(int *, int, int, int *); // ebp
  int *v58; // edi
  int v59[4]; // [esp+10h] [ebp-90h] BYREF
  int *v60; // [esp+20h] [ebp-80h] BYREF
  _DWORD v61[8]; // [esp+24h] [ebp-7Ch] BYREF
  int v62; // [esp+44h] [ebp-5Ch] BYREF

  v61[4] = &v62;
  v61[2] = a3;
  v61[1] = a2;
  v61[0] = a1;
  v4 = dword_82C000;
  v5 = &dword_82C000[-1092608];
  v60 = &dword_82C000[-1092608];
  while ( 1 )
  {
    v9 = *v4;
    v7 = (unsigned int)v4++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v4;
        v4 = (int *)((char *)v4 + 1);
        *(_BYTE *)v5 = v6;
        v5 = (int *)((char *)v5 + 1);
      }
      else
      {
        for ( i = 1; ; i = v21 + v22 + v21 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v16 = i + v12 + i;
          v7 = __CFADD__(v13, v13);
          v17 = 2 * v13 == 0;
          v18 = 2 * v13;
          if ( v7 )
          {
            if ( !v17 )
              break;
            v19 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v20 = v7 + v19;
            v7 = __CFADD__(v7, v19) | __CFADD__(v19, v20);
            v18 = v19 + v20;
            if ( v7 )
              break;
          }
          v21 = v16 - 1;
          v22 = __CFADD__(v18, v18);
          v8 = 2 * v18;
          if ( !v8 )
          {
            v23 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v24 = v7 + v23;
            v22 = __CFADD__(v7, v23) | __CFADD__(v23, v24);
            v8 = v23 + v24;
          }
        }
        v7 = v16 < 3;
        v25 = v16 - 3;
        if ( v7 )
        {
          v28 = __CFADD__(v18, v18);
          v18 *= 2;
          if ( !v18 )
          {
            v29 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v30 = v7 + v29;
            v28 = __CFADD__(v7, v29) | __CFADD__(v29, v30);
            v18 = v29 + v30;
          }
        }
        else
        {
          v26 = v25 << 8;
          LOBYTE(v26) = *(_BYTE *)v4;
          v4 = (int *)((char *)v4 + 1);
          v27 = ~v26;
          if ( !v27 )
          {
            v48 = v60;
            v49 = v60;
            v50 = 7;
            while ( 1 )
            {
              v51 = *(_BYTE *)v49;
              v49 = (int *)((char *)v49 + 1);
              LOBYTE(v52) = v51 + 24;
              while ( (unsigned __int8)v52 <= 1u && *(_BYTE *)v49 == 2 )
              {
                v53 = *v49;
                LOWORD(v53) = BYTE1(*v49);
                v54 = __ROL4__(v53, 16);
                v55 = v54;
                LOBYTE(v54) = BYTE1(v54);
                BYTE1(v54) = v55;
                v56 = *((_BYTE *)v49 + 4) + 24;
                v52 = (int *)((char *)v48 + v54 - (_DWORD)v49);
                *v49 = (int)v52;
                v49 = (int *)((char *)v49 + 5);
                LOBYTE(v52) = v56;
                if ( !--v50 )
                {
                  v57 = *(void (__cdecl **)(int *, int, int, int *))((char *)&dword_434710 + (_DWORD)v48);
                  v58 = v48 - 1024;
                  v60 = v52;
                  ((void (__fastcall *)(_DWORD, char *, int *, int, int, int **))v57)(0, a2, v48 - 1024, 4096, 4, &v60);
                  *((_BYTE *)v58 + 799) &= ~0x80u;
                  *((_BYTE *)v58 + 839) &= ~0x80u;
                  v57(v48 - 1024, 4096, v59[0], v59);
                  do
                    v60 = 0;
                  while ( &v60 != &v61[-32] );
                  JUMPOUT(0x402126);
                }
              }
            }
          }
          v28 = v27 & 1;
          a4 = v27 >> 1;
        }
        v31 = v28;
        v32 = __CFADD__(v18, v18);
        v8 = 2 * v18;
        if ( !v8 )
        {
          v33 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v34 = v7 + v33;
          v32 = __CFADD__(v7, v33) | __CFADD__(v33, v34);
          v8 = v33 + v34;
        }
        v35 = v31 + v32 + v31;
        if ( !v35 )
        {
          v36 = 1;
          while ( 1 )
          {
            v37 = __CFADD__(v8, v8);
            v38 = 2 * v8;
            if ( !v38 )
            {
              v39 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v40 = v7 + v39;
              v37 = __CFADD__(v7, v39) | __CFADD__(v39, v40);
              v38 = v39 + v40;
            }
            v36 += v37 + v36;
            v7 = __CFADD__(v38, v38);
            v41 = 2 * v38 == 0;
            v8 = 2 * v38;
            if ( v7 )
            {
              if ( !v41 )
                break;
              v42 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v43 = v7 + v42;
              v7 = __CFADD__(v7, v42) | __CFADD__(v42, v43);
              v8 = v42 + v43;
              if ( v7 )
                break;
            }
          }
          v35 = v36 + 2;
        }
        v44 = (a4 < 0xFFFFFB00) + v35 + 1;
        a2 = (char *)v5 + a4;
        if ( a4 <= 0xFFFFFFFC )
        {
          do
          {
            v46 = *(_DWORD *)a2;
            a2 += 4;
            *v5++ = v46;
            v47 = v44 <= 4;
            v44 -= 4;
          }
          while ( !v47 );
          v5 = (int *)((char *)v5 + v44);
        }
        else
        {
          do
          {
            v45 = *a2++;
            *(_BYTE *)v5 = v45;
            v5 = (int *)((char *)v5 + 1);
            --v44;
          }
          while ( v44 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 83424F: positive sp value 5C has been found
// 83424F: control flows out of bounds to 402126
// 434710: using guessed type int dword_434710;
// 82C000: using guessed type int dword_82C000[512];
// 834100: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
