/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// double __usercall sub_402513@<st0>(int@<eax>, int@<edx>, unsigned int _ECX@<ecx>, char@<bl>, int@<ebp>, int@<edi>, int@<esi>, double result@<st0>);


//----- (00401454) --------------------------------------------------------
#error "401454: function frame is wrong (funcsize=0)"

//----- (00402513) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
double __usercall sub_402513@<st0>(
        int a1@<eax>,
        int a2@<edx>,
        unsigned int _ECX@<ecx>,
        char a4@<bl>,
        int a5@<ebp>,
        int a6@<edi>,
        int a7@<esi>,
        double result@<st0>)
{
  int v8; // ebx
  int v9; // edx
  unsigned int v10; // edx
  bool v11; // tt
  unsigned int v12; // edx
  int v13; // edi
  _BYTE *v14; // eax
  char v15; // of
  int v18; // edx
  _BYTE *v19; // eax
  char v22; // cl
  bool v23; // cf
  unsigned int v24; // ecx
  char v25; // cl
  bool v26; // tt
  int v27; // ecx
  int v28; // edx
  bool v29; // cf
  _BYTE *v30; // eax
  char v31; // ah
  bool v32; // sf
  bool v36; // tt
  int v37; // ebx
  __int16 v38; // kr00_2
  int v39; // edx
  int v40; // ebx
  bool v41; // cf
  bool v42; // pf
  int v43; // esi
  char v44; // of
  int v45; // esi
  unsigned int v46; // ebx
  unsigned int v47; // ebx
  int v48; // edx
  char v49; // bl
  bool v51; // zf
  int v52; // [esp-4h] [ebp-4h]

  BYTE1(a2) <<= _ECX;
  v49 = a2 + a4 + 1;
  BYTE1(_ECX) = __ROR1__(__ROR1__(__CFADD__(a1, -1061859113) + (a2 ^ BYTE1(_ECX)) - 42, _ECX), _ECX);
  v13 = a6 & 0x10FB0169;
  v14 = (_BYTE *)(v52 + 2281);
  _BL = __ROL1__(__ROL1__(v49, _ECX), _ECX);
  if ( v52 + 2281 < 0 != v15 || v52 + 2281 < 0 == v15 )
  {
    v52 += 2281;
    v19 = v14 - 2281;
    v25 = -(char)(((121 - ((v13 - 1) ^ ((v13 ^ a2) - v13 - a7 + 39))) ^ ((v13 ^ a2) - v13 - a7)) + 49);
    if ( !__OFSUB__(v25, 1) && __OFSUB__(v25, 1) )
    {
      *(int *)((char *)&v52 + (_DWORD)v19) += (int)v19;
      JUMPOUT(0x4022F1);
    }
    JUMPOUT(0x40255F);
  }
  LOBYTE(v14) = *(_BYTE *)_ECX + v52 - 23;
  v14[16] |= (unsigned __int8)v14;
  __asm { rcr     bl, cl }
  v18 = a2 - 1;
  LOBYTE(v18) = 8;
  v8 = v18;
  BYTE1(v8) = BYTE1(v18) + 126;
  LOBYTE(v18) = 9;
  v9 = v18 - (a7 + 1904624352);
  BYTE1(v9) &= 0x72u;
  BYTE1(v8) |= 0xD1u;
  LOBYTE(v8) = v8 - *v14;
  _EBX = v13 + v8;
  BYTE1(_ECX) = -*v14;
  while ( 1 )
  {
    __asm { rcl     bl, cl }
    LOBYTE(v9) = __ROR1__(v9, 12);
    v45 = v9;
    LOBYTE(v9) = -(char)v9;
    LOBYTE(_EBX) = __ROL1__(_EBX, _ECX);
    v46 = _ECX | (_ECX + _EBX - v13);
    BYTE1(v9) = __ROL1__(BYTE1(v9), _ECX) - _ECX;
    LOBYTE(v9) = (unsigned __int8)v14 ^ v9;
    v36 = __CFSHL__(BYTE1(_ECX), 7);
    BYTE1(_ECX) = __ROL1__(BYTE1(_ECX), 7);
    BYTE1(v46) = __ROR1__(BYTE1(v46), _ECX);
    v38 = v9 - (v36 + 9752);
    v37 = (__PAIR64__(v46, v9) - (((unsigned int)v36 + 2139825688) | 0x206D21B600000000i64)) >> 32;
    HIWORD(v39) = (v9 - ((unsigned int)v36 + 2139825688)) >> 16;
    LOBYTE(v39) = v38 + 1;
    BYTE1(v39) = __ROR1__(HIBYTE(v38) - 1, 5);
    --v37;
    --BYTE1(v37);
    v40 = v37 - v45;
    v41 = __CFADD__(v45, 473568580);
    v42 = __SETP__(v45 + 473568580, 0);
    v43 = v45 + 473568580;
    if ( !__SETP__(v43, 0) && v42 )
      JUMPOUT(0x402440);
    BYTE1(v39) = (__CFADD__(v41, BYTE1(v39)) | __CFADD__(v41 + BYTE1(v39), 26)) + v41 + BYTE1(v39) + 26 - 114;
    BYTE1(_ECX) = ~BYTE1(_ECX);
    v11 = __CFSHL__(v39, _ECX);
    LOBYTE(v39) = __ROL1__(v39, _ECX);
    LOBYTE(v40) = v40 - (v11 + 57);
    v12 = v39 | 0xC34A7064;
    BYTE1(v40) = __ROR1__(BYTE1(v14) | (SBYTE1(v40) >> _ECX), _ECX);
    LOBYTE(v12) = (BYTE1(_ECX) | (unsigned __int8)(v12 + 7)) << _ECX;
    ++v12;
    ++BYTE1(v12);
    v47 = (v43 - 1) ^ (v40 + 1);
    v48 = (v12 | 0x27F0F07B) - (__CFADD__(BYTE1(_ECX), -88) - 1980964417);
    LOBYTE(v47) = -5;
    BYTE1(v48) = __ROL1__(BYTE1(v48), _ECX);
    BYTE1(v47) = __ROL1__(BYTE1(v47), 11) - 78;
    LOBYTE(v48) = 22;
    v23 = v47 < 0xF8381008;
    _EBX = v47 + 130543608;
    __asm { rcl     bl, cl }
    BYTE1(_EBX) = BYTE1(_EBX) - (v23 - 35) + 1;
    LOBYTE(_EBX) = (_BYTE)_EBX << _ECX;
    __asm { rcl     bl, cl }
    v10 = v48 & 0x101C420C | 0x8DC3B4F3;
    __asm { rcl     bh, cl }
    LOBYTE(v10) = v10 - 1;
    ++v10;
    BYTE1(_EBX) = _ECX;
    BYTE1(v10) = (_BYTE)v14;
    _EDX = v10 - 1;
    LOBYTE(_EBX) = ((BYTE1(_ECX) - 88) ^ 0xC8) + 106;
    LOBYTE(_EDX) = __ROL1__((_BYTE)v14 + (_EDX & 0xED), _ECX);
    LOBYTE(_ECX) = _ECX - _EBX;
    LOBYTE(_EDX) = (_BYTE)_EDX << _ECX;
    __asm { rcl     ch, cl }
    BYTE1(_ECX) >>= _ECX;
    BYTE1(_EDX) = _EDX;
    *v14 = _EBX;
    __asm
    {
      rcl     cl, cl
      rcr     dl, cl
    }
    BYTE1(_EDX) += __CFADD__(v14, -2126165983) + 2;
    _EDX = (void (*)(void))(((unsigned int)(v14 - 2126165983) < 0xF3B1EDD) + _EDX + 519203136);
    LOBYTE(_ECX) = __ROL1__(_CL, 13) | 0x7D;
    __asm { rcr     dh, cl }
    v51 = v14 == (_BYTE *)-1;
    v30 = v14 + 1;
    if ( !v51 && v51 )
    {
      *(_BYTE *)_ECX |= (unsigned __int8)v30;
      _EDX();
LABEL_40:
      JUMPOUT(0x40221F);
    }
    LOBYTE(_EDX) = (_BYTE)_EDX + 1;
    --v13;
    BYTE1(_EDX) = _EBX;
    v22 = __ROL1__((_BYTE)_EDX + 1, 3);
    v23 = __ROR1__(_EBX + ((unsigned __int16)((_WORD)_EDX + 1) >> 8), v22) < (unsigned __int8)(__CFSHR__(
                                                                                                 _EBX
                                                                                               + ((unsigned __int16)((_WORD)_EDX + 1) >> 8),
                                                                                                 v22)
                                                                                             - 113);
    v24 = _EBX;
    LOBYTE(v24) = ~(_BYTE)_EBX;
    if ( !v23 && v23 )
      JUMPOUT(0x4022C6);
    v26 = __CFSHR__(v24, 29);
    LOBYTE(v24) = __ROR1__(v24, 29) - 1;
    v27 = v26 + v24 - 699629579;
    LOBYTE(v27) = BYTE1(v30) + v27;
    v28 = v13 - 1365156261;
    v29 = __CFADD__(v30, v27);
    _ECX = (unsigned int)&v30[v27];
    ++BYTE1(_ECX);
    if ( v29 || !v29 )
      JUMPOUT(0x402378);
    LOBYTE(v30) = (_BYTE)v30 + 1;
    *v30 += BYTE1(v30);
    *((_DWORD *)v30 - 32) += v30;
    BYTE1(_ECX) >>= _ECX;
    if ( v13 )
      goto LABEL_40;
    v31 = SBYTE1(v30) >> _ECX;
    LOBYTE(v28) = _EBX | 0x5B;
    LOBYTE(_ECX) = v31 + _ECX;
    v9 = v28 & 0x1D3E3D76;
    v32 = (char)(v31 - 72) < 0;
    BYTE1(v30) = v31 - 72;
    if ( SBYTE1(v30) >= 0 && v32 )
    {
      *(_BYTE *)(v9 - 2117104726) += BYTE1(_ECX);
      *(float *)(a5 - 95) = result;
      JUMPOUT(0x2B03D4FD);
    }
    LOBYTE(_ECX) = _ECX - BYTE1(v30);
    LOBYTE(_EBX) = ~(_BYTE)_EBX;
    LOBYTE(v9) = (char)v9 >> _ECX;
    BYTE1(_ECX) = (BYTE1(v9) ^ BYTE1(_ECX)) << ((char)_ECX >> _ECX);
    LOBYTE(_ECX) = v9;
    if ( ((_ECX & 0x8000) != 0) != v44 || ((_ECX & 0x8000) != 0) == v44 )
      break;
    *(_DWORD *)v9 += v30;
    v14 = v30 + 1;
    *v14 &= v9;
    *v14 |= v9;
  }
  BYTE1(v9) -= 95;
  v23 = __CFADD__(v9, 826945400);
  _DX = v9 + 12152;
  _CL = _ECX - (v23 + 59);
  __asm { rcl     dh, cl }
  return result;
}
// 402112: positive sp value 4 has been found
// 4022C4: control flows out of bounds to 4022C6
// 4022EF: control flows out of bounds to 4022F1
// 40243F: control flows out of bounds to 402440
// 402580: control flows out of bounds to 402582
// 40237E: control flows out of bounds to 2B03D4FD
// 4022E0: control flows out of bounds to 40255F
// 402341: control flows out of bounds to 402378
// 402573: control flows out of bounds to 40221F
// 40226E: conditional instruction was optimized away because ch.1>=0
// 4023DA: conditional instruction was optimized away because ecx.4>=0
// 402579: conditional instruction was optimized away because ch.1>=0
// 40220D: variable 'v15' is possibly undefined
// 4024A0: variable 'v44' is possibly undefined

// nfuncs=2 queued=2 decompiled=2 lumina nreq=0 worse=0 better=0
#error "There were 1 decompilation failure(s) on 2 function(s)"
