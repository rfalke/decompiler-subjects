/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, char *@<edx>, int@<ecx>, unsigned int@<ebp>);

//-------------------------------------------------------------------------
// Data declarations

int dword_7A6000[512] =
{
  -4325633,
  -1645018965,
  4390912,
  98175376,
  1907966099,
  117705985,
  -855586304,
  -654379013,
  -1102184208,
  1360740371,
  5636101,
  1511244616,
  -151584975,
  1418450943,
  -511637468,
  1483524967,
  -2130698568,
  -150274112,
  417513942,
  -71182559,
  -352321537,
  -2117523176,
  117375217,
  -788445696,
  1346365057,
  2039183472,
  -960403924,
  1438271243,
  -18598,
  177664751,
  1690464233,
  389625356,
  -654187147,
  -231614465,
  -525972341,
  -50705,
  326434739,
  -939406199,
  -1291481244,
  -1096480798,
  1717657511,
  -1982086525,
  -1077403170,
  -545261569,
  -150601793,
  1342159319,
  -1479411951,
  -1527577918,
  -360590807,
  -1208090797,
  -147782393,
  1515045358,
  -268369840,
  -295499127,
  -2118112774,
  -69210128,
  2132964289,
  -789061377,
  1017153603,
  -889732864,
  -268468464,
  556220,
  922794783,
  1326574019,
  -293472727,
  266334178,
  -768528386,
  372490241,
  -1017972431,
  -1481934667,
  -758171266,
  -2105821185,
  519184314,
  -592011504,
  67308171,
  -1075708124,
  2017390550,
  -1994389505,
  109792998,
  -117337158,
  -2053778921,
  -35374,
  -637333756,
  -803383112,
  814469121,
  1914695361,
  1491896598,
  -134529296,
  872418498,
  973236617,
  16619264,
  166238128,
  -536904959,
  489616382,
  2098999851,
  341690622,
  -1692558611,
  1019205879,
  -547227684,
  767557607,
  1678637505,
  -293533813,
  1389522407,
  116787902,
  1527247114,
  -1126105103,
  -2116612369,
  -738555953,
  17337099,
  228727294,
  -1241530625,
  718860161,
  1963048370,
  -1953025653,
  835793214,
  -16316394,
  -834895903,
  1489631575,
  -1049114879,
  555191048,
  -135292936,
  -201330833,
  -202099864,
  1391853965,
  358568541,
  60687228,
  -798481388,
  1606161330,
  -248908164,
  -412532632,
  1265051871,
  -50740343,
  -508559681,
  -168282113,
  -554227575,
  -1019567768,
  117096798,
  -326666155,
  -1126699006,
  1607340415,
  1195530323,
  -920937498,
  -986150413,
  536837627,
  2024116584,
  80208355,
  214548817,
  -816743488,
  -1745385796,
  -667321866,
  -564451948,
  -63824497,
  -1269337767,
  -836109292,
  1035204799,
  54510017,
  738561671,
  -273170435,
  -1326479581,
  1244258552,
  268353915,
  -394545337,
  -138573826,
  1983348761,
  -13432037,
  -2066804480,
  -387794580,
  805230641,
  -1486350393,
  -1052168700,
  -1058793014,
  -32770033,
  326132456,
  298404351,
  1356892665,
  -1630698608,
  -1933516640,
  -976391600,
  -1011234303,
  -490218303,
  -1055062049,
  -1011212552,
  -875491462,
  1006137200,
  1961511813,
  -255996415,
  1071208980,
  -890503382,
  2050980887,
  2146588865,
  2042515925,
  -1676272216,
  1443612358,
  513061463,
  -1610803703,
  -162018049,
  -1728452308,
  456756049,
  1427107837,
  -574127850,
  -771667080,
  -926816257,
  397932298,
  -270176755,
  1223817661,
  2146431594,
  -134979329,
  20163249,
  1535575891,
  126712746,
  -1105464895,
  1675246814,
  -193295675,
  1719376576,
  -788340798,
  927486959,
  400423425,
  1008263817,
  530804253,
  -1950211618,
  -57415269,
  522051826,
  -1995716250,
  -225847767,
  -417941259,
  -2095905281,
  -117321174,
  -1952725503,
  -796264434,
  1895270335,
  -52954512,
  -274991103,
  470152609,
  -126100418,
  -14429809,
  -687775952,
  -131466043,
  -83171,
  -1878762690,
  22974497,
  -61432874,
  -813173417,
  823134864,
  -33562749,
  -128844599,
  -1877904245,
  -128386986,
  563820291,
  625348098,
  -2080403515,
  -237136109,
  1048633668,
  -101747456,
  1295981172,
  -53627024,
  1508521867,
  1130840475,
  -1426182935,
  -112406921,
  83139422,
  -184424767,
  2074734849,
  1769757439,
  43073419,
  -409251495,
  -122096290,
  -516300830,
  -568197945,
  -327084711,
  1155647224,
  -1589661680,
  604766994,
  -1979121408,
  21385792,
  42803284,
  109002920,
  -801136630,
  -1290272720,
  -26649,
  -402633984,
  -2108400966,
  4726993,
  -1370923314,
  -2019903689,
  2146247765,
  15857657,
  976855,
  -208797682,
  838864043,
  -1932698364,
  -138665353,
  -570557459,
  1291847168,
  14750175,
  1926171084,
  -37688284,
  -284302336,
  2063447919,
  6815761,
  1111039651,
  748800628,
  1242112,
  -48884747,
  -1648894061,
  -570413284,
  -801299712,
  -1780643963,
  -1206779831,
  -13631619,
  -904805873,
  -1328218112,
  352360260,
  1579944192,
  859634645,
  -1224769688,
  1866139839,
  1609498753,
  1057493700,
  -369051385,
  -1743304960,
  -671088400,
  -1664360709,
  68254110,
  -1854933487,
  780951808,
  607118809,
  -2004236367,
  1249064448,
  -440271675,
  209684699,
  7274533,
  -1289828238,
  13434946,
  2092444760,
  -1845441573,
  486561024,
  497131747,
  523175801,
  23345637,
  1493217612,
  -883416192,
  -289553953,
  851950848,
  390804718,
  3783680,
  133106894,
  15104794,
  1745497747,
  2084974969,
  147879931,
  413278052,
  1547758331,
  -413790605,
  -255524688,
  1503786975,
  -604438395,
  -1144018971,
  221577453,
  -110248344,
  1157673394,
  553686286,
  -146866776,
  1300152515,
  -870306570,
  1911753,
  -1305854,
  -228271105,
  3348012,
  -667893634,
  1238434424,
  -1214472118,
  566488067,
  1613671424,
  -1877225973,
  1301921280,
  -268424260,
  1862984766,
  -1845802,
  -2055014584,
  138411896,
  978933712,
  452179383,
  16230400,
  1021684649,
  -1063158056,
  -522455945,
  -715308486,
  795856507,
  1088126956,
  1430067863,
  -1928971126,
  -1765009152,
  798336792,
  -105935118,
  1302749071,
  50689694,
  -1426049671,
  -635569794,
  -1950079461,
  -1542768119,
  7464220,
  -286111526,
  1833792815,
  -1054302168,
  1010741503,
  755874221,
  -1793254255,
  -8274801,
  -1839691777,
  -1419816046,
  592293758,
  -1682755863,
  -1569081588,
  -233701767,
  1271857151,
  -1287337678,
  -1668634914,
  -1450711670,
  192612801,
  -1905514401,
  647301014,
  354073385,
  -1025383545,
  -381625420,
  244082740,
  1022456318,
  -1253617519,
  10830151,
  -226971311,
  658462599,
  1031563,
  2013023528,
  -277966721,
  -1844907506,
  -1969524219,
  1594264065,
  -319020371,
  1504915165,
  -927870704,
  430236198,
  -1420603027,
  -1006901275,
  406194905,
  350953811,
  -891095541,
  -1191175140,
  -550507236,
  -488645104,
  -2124080876,
  48597337,
  2098704130,
  -1882094445,
  678468540,
  -5274657,
  -696282683,
  12910848,
  -230128635,
  -2083279247,
  -1499392500,
  -778587261,
  790691890,
  -1485311207,
  -2020501720,
  1909195430,
  -1167994351,
  1852820911,
  16016382,
  -930782642,
  1660815750,
  6532608,
  1403165651,
  862910203,
  81798538,
  -2032728455,
  1031472430,
  1959974823,
  -2001288979,
  -830509128,
  -1410145305,
  233295513,
  -701010955,
  1624621194,
  1715704078,
  -1442878947,
  -1442194014,
  1118955777,
  -348702537,
  -236,
  -899163649,
  -304459855,
  -707871500,
  -36279331,
  -1421775752,
  592929927,
  -1224810936,
  1534038386,
  -44531782,
  -1509455903,
  -996312527,
  -1496494594,
  -240726514,
  -637499449,
  -1348651045,
  1576534118,
  2115891580,
  1252950821,
  -911972799,
  908843269,
  -1485210020,
  -1583012096,
  977352582,
  -1069804761
}; // weak


//----- (007AD650) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, char *a2@<edx>, int a3@<ecx>, unsigned int a4@<ebp>)
{
  int *v4; // esi
  int *v5; // edi
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  int i; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  unsigned int v16; // eax
  bool v17; // zf
  int v18; // ebx
  int v19; // ebx
  int v20; // ett
  unsigned int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ett
  unsigned int v25; // eax
  unsigned int v26; // eax
  int v27; // eax
  bool v28; // cf
  int v29; // ebx
  int v30; // ett
  BOOL v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ett
  int v35; // ecx
  int v36; // ecx
  bool v37; // cf
  int v38; // ebx
  int v39; // ebx
  int v40; // ett
  bool v41; // zf
  int v42; // ebx
  int v43; // ett
  unsigned int v44; // ecx
  char v45; // al
  int v46; // eax
  bool v47; // cc
  int *v48; // esi
  int *v49; // edi
  int v50; // ecx
  char v51; // al
  int *v52; // eax
  int v53; // eax
  int v54; // eax
  char v55; // t0
  char v56; // bl
  void (__cdecl *v57)(int *, int, int, int *); // ebp
  int *v58; // edi
  int v59[4]; // [esp+10h] [ebp-90h] BYREF
  int *v60; // [esp+20h] [ebp-80h] BYREF
  _DWORD v61[8]; // [esp+24h] [ebp-7Ch] BYREF
  int v62; // [esp+44h] [ebp-5Ch] BYREF

  v61[4] = &v62;
  v61[2] = a3;
  v61[1] = a2;
  v61[0] = a1;
  v4 = dword_7A6000;
  v5 = &dword_7A6000[-955392];
  v60 = &dword_7A6000[-955392];
  while ( 1 )
  {
    v9 = *v4;
    v7 = (unsigned int)v4++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v4;
        v4 = (int *)((char *)v4 + 1);
        *(_BYTE *)v5 = v6;
        v5 = (int *)((char *)v5 + 1);
      }
      else
      {
        for ( i = 1; ; i = v21 + v22 + v21 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v16 = i + v12 + i;
          v7 = __CFADD__(v13, v13);
          v17 = 2 * v13 == 0;
          v18 = 2 * v13;
          if ( v7 )
          {
            if ( !v17 )
              break;
            v19 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v20 = v7 + v19;
            v7 = __CFADD__(v7, v19) | __CFADD__(v19, v20);
            v18 = v19 + v20;
            if ( v7 )
              break;
          }
          v21 = v16 - 1;
          v22 = __CFADD__(v18, v18);
          v8 = 2 * v18;
          if ( !v8 )
          {
            v23 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v24 = v7 + v23;
            v22 = __CFADD__(v7, v23) | __CFADD__(v23, v24);
            v8 = v23 + v24;
          }
        }
        v7 = v16 < 3;
        v25 = v16 - 3;
        if ( v7 )
        {
          v28 = __CFADD__(v18, v18);
          v18 *= 2;
          if ( !v18 )
          {
            v29 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v30 = v7 + v29;
            v28 = __CFADD__(v7, v29) | __CFADD__(v29, v30);
            v18 = v29 + v30;
          }
        }
        else
        {
          v26 = v25 << 8;
          LOBYTE(v26) = *(_BYTE *)v4;
          v4 = (int *)((char *)v4 + 1);
          v27 = ~v26;
          if ( !v27 )
          {
            v48 = v60;
            v49 = v60;
            v50 = 6;
            while ( 1 )
            {
              v51 = *(_BYTE *)v49;
              v49 = (int *)((char *)v49 + 1);
              LOBYTE(v52) = v51 + 24;
              while ( (unsigned __int8)v52 <= 1u && !*(_BYTE *)v49 )
              {
                v53 = *v49;
                LOWORD(v53) = BYTE1(*v49);
                v54 = __ROL4__(v53, 16);
                v55 = v54;
                LOBYTE(v54) = BYTE1(v54);
                BYTE1(v54) = v55;
                v56 = *((_BYTE *)v49 + 4) + 24;
                v52 = (int *)((char *)v48 + v54 - (_DWORD)v49);
                *v49 = (int)v52;
                v49 = (int *)((char *)v49 + 5);
                LOBYTE(v52) = v56;
                if ( !--v50 )
                {
                  v57 = (void (__cdecl *)(int *, int, int, int *))v48[966255];
                  v58 = v48 - 1024;
                  v60 = v52;
                  ((void (__fastcall *)(_DWORD, char *, int *, int, int, int **))v57)(0, a2, v48 - 1024, 4096, 4, &v60);
                  *((_BYTE *)v58 + 799) &= ~0x80u;
                  *((_BYTE *)v58 + 839) &= ~0x80u;
                  v57(v48 - 1024, 4096, v59[0], v59);
                  do
                    v60 = 0;
                  while ( &v60 != &v61[-32] );
                  JUMPOUT(0x40113D);
                }
              }
            }
          }
          v28 = v27 & 1;
          a4 = v27 >> 1;
        }
        v31 = v28;
        v32 = __CFADD__(v18, v18);
        v8 = 2 * v18;
        if ( !v8 )
        {
          v33 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v34 = v7 + v33;
          v32 = __CFADD__(v7, v33) | __CFADD__(v33, v34);
          v8 = v33 + v34;
        }
        v35 = v31 + v32 + v31;
        if ( !v35 )
        {
          v36 = 1;
          while ( 1 )
          {
            v37 = __CFADD__(v8, v8);
            v38 = 2 * v8;
            if ( !v38 )
            {
              v39 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v40 = v7 + v39;
              v37 = __CFADD__(v7, v39) | __CFADD__(v39, v40);
              v38 = v39 + v40;
            }
            v36 += v37 + v36;
            v7 = __CFADD__(v38, v38);
            v41 = 2 * v38 == 0;
            v8 = 2 * v38;
            if ( v7 )
            {
              if ( !v41 )
                break;
              v42 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v43 = v7 + v42;
              v7 = __CFADD__(v7, v42) | __CFADD__(v42, v43);
              v8 = v42 + v43;
              if ( v7 )
                break;
            }
          }
          v35 = v36 + 2;
        }
        v44 = (a4 < 0xFFFFFB00) + v35 + 1;
        a2 = (char *)v5 + a4;
        if ( a4 <= 0xFFFFFFFC )
        {
          do
          {
            v46 = *(_DWORD *)a2;
            a2 += 4;
            *v5++ = v46;
            v47 = v44 <= 4;
            v44 -= 4;
          }
          while ( !v47 );
          v5 = (int *)((char *)v5 + v44);
        }
        else
        {
          do
          {
            v45 = *a2++;
            *(_BYTE *)v5 = v45;
            v5 = (int *)((char *)v5 + 1);
            --v44;
          }
          while ( v44 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 7AD79F: positive sp value 5C has been found
// 7AD79F: control flows out of bounds to 40113D
// 7A6000: using guessed type int dword_7A6000[512];
// 7AD650: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
