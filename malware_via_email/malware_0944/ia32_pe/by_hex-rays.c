/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// unsigned int __usercall start@<eax>(int _EAX@<eax>, __int16 a2@<dx>, unsigned int a3@<ebx>, int a4@<ebp>, int a5@<edi>, int a6@<esi>);


//----- (004067DA) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
unsigned int __usercall start@<eax>(int _EAX@<eax>, __int16 a2@<dx>, unsigned int a3@<ebx>, int a4@<ebp>, int a5@<edi>, int a6@<esi>)
{
  unsigned int v7; // esi
  bool v9; // tt
  int v14; // edi
  int v17; // edi
  bool v18; // tt
  int v19; // esi
  unsigned int v21; // esi
  int v22; // edx
  int v23; // eax
  int v24; // ecx
  int v31; // edi
  int v33; // edi
  bool v37; // tt
  int v38; // edx
  char v39; // al
  int v40; // edx
  bool v42; // cf
  int v43; // edi
  int v46; // edx
  unsigned int v48; // esi
  unsigned int v49; // ecx
  unsigned int v50; // esi

  _ECX = a5;
  v42 = __CFSHL__(a3, a5);
  LOWORD(a3) = (_WORD)a3 << a5;
  __asm { rcl     ch, cl }
  LOWORD(a6) = a2 + v42 + (_WORD)a6;
  LOBYTE(_ECX) = BYTE1(_ECX) & a5;
  v43 = a5 - 2049888391;
  __asm
  {
    rcr     cl, cl
    rcl     eax, 2
  }
  BYTE1(_EAX) = (char)(BYTE1(_ECX) | BYTE1(_EAX)) >> _ECX;
  v18 = __CFSHR__(v43, _ECX);
  v17 = __ROR4__(v43, _ECX);
  LOBYTE(_EAX) = BYTE1(_ECX) + v18 + _EAX;
  v19 = _EAX | ~(a6 + 1737002701);
  LOBYTE(_EAX) = (char)_EAX >> 7;
  BYTE1(_EAX) = __ROL1__(BYTE1(_EAX), 12);
  __asm { rcl     ah, 7 }
  BYTE1(_ECX) = __ROL1__(BYTE1(_ECX), 4);
  __asm { rcr     cx, cl }
  LOWORD(_EAX) = ~(_WORD)_EAX;
  __asm { rcr     eax, 4 }
  v14 = __ROL4__(v17, 9);
  LOWORD(_EAX) = _EAX - 1;
  LOBYTE(_ECX) = _ECX - BYTE1(_ECX);
  LOBYTE(_EAX) = _EAX - 106;
  BYTE1(_EAX) = (SBYTE1(_EAX) >> _ECX) ^ 0x4D;
  HIWORD(v22) = 12677;
  __asm { rcr     ecx, cl }
  BYTE1(v22) = 0;
  v23 = (_EAX >> 7) & 0x6AF2F965;
  v21 = v19 ^ 0xCD3D09AD;
  LOBYTE(_ECX) = (_BYTE)_ECX << _ECX;
  LOBYTE(v23) = BYTE1(_ECX) | v23;
  LOBYTE(v22) = 79 - v23;
  LOBYTE(v23) = v23 | 0xDE;
  v24 = __ROL4__(_ECX, 1);
  if ( a3 == -246333645 )
    JUMPOUT(0x406446);
  BYTE1(v24) = 0;
  v49 = v24 - v23;
  LOWORD(v22) = v14 | v22;
  LOBYTE(v22) = v22 | 0x13;
  v50 = v21 - 1176067979;
  LOBYTE(v23) = v23 | 0xA3;
  _EDX = (v22 >> 23) - a3;
  _ECX = v49 >> v49;
  if ( _EDX == -972730546 )
    __asm { retf    5F3Eh }
  v31 = __CFSHR__(_EDX, 10) + v14 - 1670848766;
  BYTE1(v23) = (BYTE1(v23) + 15) & 0x32;
  __asm { rcl     cx, cl }
  LOBYTE(_EDX) = 0;
  LOWORD(v23) = (__int16)v23 >> _CX;
  v33 = v31 | 0x110B0128;
  LOWORD(_ECX) = _EDX + _CX;
  if ( a3 == -895386578 )
    JUMPOUT(0x4066DA);
  __asm { rcl     dh, cl }
  v7 = v50 + 1;
  BYTE1(_ECX) = (SBYTE1(_ECX) >> 7) + 17;
  v9 = __CFSHL__(BYTE1(v23), 30);
  BYTE1(v23) = __ROL1__(BYTE1(v23), 30);
  _DH = 0;
  __asm { rcl     dh, 7 }
  BYTE1(_EDX) = BYTE1(v23) + v9 + _DH;
  if ( v23 == 2060506235 )
  {
    if ( !__SETP__(2060506235, 2060506235) )
      JUMPOUT(0x40629E);
    __asm { rcr     dh, 1Ah }
    if ( a3 == -1220131573 )
    {
      __asm { fstp    tbyte ptr [ebp+52801EEEh] }
      *(double *)(a4 + 1384128238) = _RT1;
      JUMPOUT(0x406351);
    }
    _ECX = (__PAIR64__(_ECX, a3) - __PAIR64__(v33, -1220131573)) >> 32;
    _EDX = v7;
    __asm { rcr     dh, 4 }
    ++BYTE1(a3);
    _EBX = __ROR4__(a3, _ECX);
    __asm { rcr     bl, cl }
    LOBYTE(_ECX) = 123;
    v37 = __CFSHL__(BYTE1(_ECX), 123);
    BYTE1(_ECX) = __ROL1__(BYTE1(_ECX), 123);
    LOBYTE(_EDX) = v7 - (v37 + BYTE1(_EBX));
    if ( _EDX == 619006420 )
      JUMPOUT(0x4066EA);
    _EBX = v7 + _EBX;
    LOBYTE(_EBX) = _EBX - 72;
    v46 = 0;
    BYTE1(_EBX) = __ROR1__(SBYTE1(_EBX) >> 7, 123);
    v48 = (v7 | 0xDD16FC0F) ^ 0x10770564;
    if ( _EBX == -1882671855 )
    {
      BYTE1(v46) = MEMORY[0x58890988];
      __asm { rcl     bl, cl }
      LOWORD(_ECX) = _ECX + 1;
      __asm { rcl     bh, 1Dh }
      LOBYTE(_EBX) = _EBX
                   - ((__CFADD__(__CFADD__(v46, v48), v46 + v48) | __CFADD__(_ECX, __CFADD__(v46, v48) + v46 + v48))
                    - 36);
      v42 = BYTE1(_EBX) < (unsigned __int8)_EBX;
      BYTE1(_EBX) -= _EBX;
      LOBYTE(_EBX) = v42 + _EBX;
      v42 = __CFADD__(_EBX, 2110560840);
      _EBX = _EBX + 2110560840;
      LOBYTE(_EBX) = v42 + _EBX;
      __asm { rcl     ebx, 1Ah }
      JUMPOUT(0x4068F0);
    }
    _ECX = __ROR4__(_ECX, 24);
    LOWORD(_ECX) = __ROR2__((unsigned __int8)_ECX, _ECX);
    __asm
    {
      rcr     bh, cl
      rcr     ecx, 14h
    }
    JUMPOUT(0x40699B);
  }
  BYTE1(_EDX) += 24;
  v38 = _EDX | 0x662AE24E;
  v39 = v38 + v23;
  v40 = __ROR4__(v38, _ECX >> _ECX);
  BYTE1(v40) = __ROL1__(BYTE1(v40), 204);
  if ( v33 << 20 != -2126013085 )
  {
    _CL = 0;
    __asm { rcl     cl, cl }
    _DX = __ROR2__(__ROL4__(v40, __ROR4__(712224460, 26) - ((v39 != 0) + 95)) - 697, _CL);
    if ( v7 == 493474661 )
      JUMPOUT(0x406611);
    __asm { rcr     dh, cl }
    JUMPOUT(0x40686E);
  }
  return v7;
}
// 40634B: positive sp value 4 has been found
// 40634B: inconsistent fpu stack
// 40634B: control flows out of bounds to 406351
// 40660F: control flows out of bounds to 406611
// 4066E8: control flows out of bounds to 4066EA
// 4067AC: control flows out of bounds to 4067AD
// 4068EE: control flows out of bounds to 4068F0
// 4068F1: control flows out of bounds to 4068F4
// 406314: control flows out of bounds to 406315
// 406541: control flows out of bounds to 40699B
// 4065DA: control flows out of bounds to 40686E
// 40663A: control flows out of bounds to 4068A3
// 4066B9: control flows out of bounds to 68399E36
// 406312: control flows out of bounds to 40629E
// 4063BF: control flows out of bounds to 40693F
// 4064B4: control flows out of bounds to 4064AC
// 4064B6: control flows out of bounds to 406446
// 40667A: control flows out of bounds to 4066DA
// 4066B3: control flows out of bounds to 40659F
// 406312: conditional instruction was optimized away because of 'eax.4==7AD0D47B'
// 4064B6: conditional instruction was optimized away because of 'ebx.4==F1513F33'

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
