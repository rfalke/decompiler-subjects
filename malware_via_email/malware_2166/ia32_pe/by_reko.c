// subject_idata.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

word32 g_dw42A078 = 0x0002A0B1; // 0042A078
word32 g_dw42A07C = 172227; // 0042A07C
word32 g_dw42A080 = 172241; // 0042A080
word32 g_dw42A084 = 172271; // 0042A084
word32 g_dw42A088 = 0x0002A100; // 0042A088
word32 g_dw42A08C = 0x0002A113; // 0042A08C
word32 g_dw42A090 = 0x0002A125; // 0042A090
word32 g_dw42A098 = 0x0002A148; // 0042A098
word32 g_dw42A09C = 172376; // 0042A09C
// subject_text.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401005: Register Eq_2 Win32CrtStartup()
Eq_2 Win32CrtStartup()
{
	word32 ebp;
	word32 eax;
	word32 ecx;
	word32 edi;
	word32 dwArgC8;
	word32 dwArgCC;
	word32 dwArgD0;
	word32 dwArgD4;
	word32 dwArgD8;
	word32 dwArg0104;
	word32 dwArgE4;
	word32 dwArgF4;
	word32 dwArgDC;
	word32 dwArg0108;
	word32 dwArgE8;
	word32 dwArgF8;
	word32 eax_28 = 0x00 - ecx + edi - ecx + edi - ecx + edi - ecx + edi;
	fn0040105F((word16) eax_28, 81267607, eax, dwArgC8, dwArgCC, dwArgD0, dwArgD4, dwArgD8, dwArgE4, dwArgF4, dwArg0104);
	return fn0040105F((word16) eax_28, 0x00, ebp, dwArgCC, dwArgD0, dwArgD4, dwArgD8, dwArgDC, dwArgE8, dwArgF8, dwArg0108);
}

// 0040105F: Register word32 fn0040105F(Stack word16 wArg00, Stack word32 dwArg14, Stack word32 dwArg24, Stack word32 dwArgF4, Stack word32 dwArgF8, Stack word32 dwArgFC, Stack word32 dwArg0100, Stack word32 dwArg0104, Stack word32 dwArg0110, Stack word32 dwArg0120, Stack word32 dwArg0130)
// Called from:
//      Win32CrtStartup
word32 fn0040105F(word16 wArg00, word32 dwArg14, word32 dwArg24, word32 dwArgF4, word32 dwArgF8, word32 dwArgFC, word32 dwArg0100, word32 dwArg0104, word32 dwArg0110, word32 dwArg0120, word32 dwArg0130)
{
	struct Eq_50 * fs;
	word32 dwArg00;
	word16 eax_16_16_21 = SLICE(dwArg00, word16, 16);
	do
	{
		word16 * eax_22 = SEQ(eax_16_16_21, 0x00);
		word16 cx_26 = *eax_22;
		word16 * eax_43 = eax_22;
		if (cx_26 == 23117)
			goto l004010C7;
		eax_16_16_21 = SLICE(eax_22 - 0x00010000, word16, 16);
	} while (eax_22 != (word16 *) 0x00010000);
	eax_43 = eax_22 - 0x00010000;
l004010C7:
	word32 eax_84 = SEQ(SLICE(eax_43, word16, 16), 0x00);
	struct Eq_74 * ebx_245 = fn0040164A((word16) dwArg24);
	ui32 eax_270 = fs->dw0019;
	struct Eq_84 * eax_273 = (eax_270 << 0x08) + 0x01;
	struct Eq_89 * esp_298;
	struct Eq_74 * eax_299;
	struct Eq_74 * ecx_300;
	ebx_245->ptr0020();
	esp_298->ptrFFFFFFFC = eax_299;
	word16 ecx_16_16_563 = SLICE(ecx_300, word16, 16);
	uint32 eax_308 = eax_273->dw0031;
	esp_298->dw0038 = eax_308 >> 0x08;
	esp_298->ptrFFFFFFFC = eax_308 >> 0x08;
	struct Eq_74 * eax_314 = esp_298->ptrFFFFFFFC;
	esp_298->ptrFFFFFFFC = ebx_245;
	esp_298->ptrFFFFFFFC -= 0x04;
	esp_298->ptrFFFFFFF8 = (struct Eq_74 *) ((char *) eax_314 + 1);
	esp_298->ptrFFFFFFF8 = esp_298->ptrFFFFFFF8;
	esp_298->ptrFFFFFFF8 = esp_298->ptrFFFFFFF8;
	struct Eq_74 * eax_335 = esp_298->ptrFFFFFFF8;
	esp_298->ptr003C = ebx_245;
	esp_298->ptrFFFFFFF8 = eax_335;
	struct Eq_74 * eax_340 = esp_298->ptrFFFFFFF8;
	struct Eq_74 * edi_342 = esp_298->ptrFFFFFFFC;
	esp_298->ptrFFFFFFFC = eax_340;
	esp_298->ptrFFFFFFF8 = ecx_300;
	esp_298->ptrFFFFFFF4 = eax_340;
	struct Eq_74 * eax_350 = esp_298->ptrFFFFFFF4;
	esp_298->ptrFFFFFFF4 = esp_298 - 8;
	esp_298->ptrFFFFFFF0 = eax_350;
	struct Eq_74 * eax_357 = esp_298->ptrFFFFFFF0;
	esp_298->ptrFFFFFFF0 = (struct Eq_74 *) 0x40;
	esp_298->ptrFFFFFFEC = eax_357;
	struct Eq_74 * eax_363 = esp_298->ptrFFFFFFEC;
	esp_298->ptrFFFFFFEC = esp_298->ptr0020;
	esp_298->ptrFFFFFFE8 = eax_363;
	struct Eq_74 * eax_370 = esp_298->ptrFFFFFFE8;
	esp_298->ptrFFFFFFE8 = esp_298->ptr0014;
	esp_298->ptrFFFFFFE4 = eax_370;
	esp_298->ptrFFFFFFE4 = esp_298->ptrFFFFFFE4;
	struct Eq_74 * eax_382 = esp_298->ptrFFFFFFE4;
	word32 ecx_388;
	edi_342->ptr000C();
	word16 ecx_16_16_564 = SLICE(ecx_388, word16, 16);
	return fn0040133E();
}

// 0040133E: Register word32 fn0040133E()
// Called from:
//      fn0040105F
//      Nckurdj
word32 fn0040133E()
{
	byte * ecx;
	// Failed to bind call argument.
	// Please report this issue at https://github.com/uxmal/reko
	byte stackArg0 = <invalid>;
	return Hgomiqdjr(ecx, stackArg0);
}

// 00401346: Register word32 Hgomiqdjr(Register (ptr32 byte) ecx, Stack byte bArg00)
// Called from:
//      fn0040105F
//      fn0040133E
word32 Hgomiqdjr(byte * ecx, byte bArg00)
{
	word32 dwArg00;
	*ecx = (byte) dwArg00;
	// Failed to bind call argument.
	// Please report this issue at https://github.com/uxmal/reko
	// Failed to bind call argument.
	// Please report this issue at https://github.com/uxmal/reko
	// Failed to bind call argument.
	// Please report this issue at https://github.com/uxmal/reko
	// Failed to bind call argument.
	// Please report this issue at https://github.com/uxmal/reko
	Eq_255 stackArg8 = <invalid>;
	Eq_255 stackArg284 = <invalid>;
	Eq_255 stackArg312 = <invalid>;
	Eq_255 stackArg316 = <invalid>;
	return Nckurdj(stackArg8, stackArg284, stackArg312, stackArg316);
}

// 00401363: Register word32 Nckurdj(Stack Eq_255 dwArg08, Stack Eq_255 dwArg011C, Stack Eq_255 dwArg0138, Stack Eq_255 dwArg013C)
// Called from:
//      Hgomiqdjr
word32 Nckurdj(Eq_255 dwArg08, Eq_255 dwArg011C, Eq_255 dwArg0138, Eq_255 dwArg013C)
{
	struct Eq_268 * fp;
	bool Z;
	word32 dwArg00;
	word32 dwLoc28;
	if (Z)
		return fn0040133E();
	Eq_255 ecx_119 = 0x00;
	int32 esi_102 = 0x00;
	Eq_278 ebp_182 = 0x00;
	byte al_532 = (byte) dwArg00;
	word16 eax_16_16_534 = SLICE(dwArg00, word16, 16);
	do
	{
		byte ah_77 = Mem76[fp + 0x0C + ebp_182:byte];
		word32 eax_81 = SEQ(eax_16_16_534, ah_77, al_532);
		word32 edx_114 = CONVERT(Mem87[ecx_119 + dwArg08:byte] + (ah_77 + SLICE(esi_102, byte, 0)), byte, word32);
		ecx_119.u0 = (byte) ecx_119.u0 + 1;
		word24 eax_24_8_153 = SLICE(eax_81, word24, 8);
		if (ecx_119 >= dwArg011C)
		{
			ecx_119.u0 = 0x00;
			eax_24_8_153 = SLICE(eax_81, word24, 8);
		}
		byte al_151 = ((char *) &fp->t0004 + 8)[edx_114];
		word32 esi_163 = fp + 0x0C + ebp_182;
		*esi_163 = 0x00;
		*esi_163 += al_151;
		(fp - 0x0C)[edx_114 + 0x18] = (byte) eax_24_8_153;
		ebp_182 = (word32) ebp_182 + 1;
		al_532 = al_151;
		eax_16_16_534 = SLICE(eax_24_8_153, word16, 8);
		esi_102 = edx_114;
	} while (ebp_182 < 0x0100);
	byte ch_237 = SLICE(dwArg0138, byte, 8);
	Eq_255 eax_235 = dwArg013C;
	struct Eq_340 * esp_236 = fp - (struct Eq_341 *) 0x0C;
	if (ch_237 != 0x06)
	{
		struct Eq_379 * esp_249;
		word32 eax_250;
		dwArg013C.u1->tFFFFFFFC.u1();
		esp_249->dwFFFFFFFC = eax_250;
		do
		{
			struct Eq_404 * esp_266;
			ui32 eax_267;
			dwArg013C.u1->ptr0008();
			esp_266->dwFFFFFFFC = eax_267;
			esp_266->dwFFFFFFFC = esp_266->dwFFFFFFFC;
			ui32 eax_279 = esp_266->dwFFFFFFFC;
			esp_266->dw0000 |= eax_279;
			--ebp_182;
		} while (ebp_182 != 0x00);
		esp_266->dwFFFFFFFC = eax_279;
		esp_266->dwFFFFFFFC = esp_266->dwFFFFFFFC;
		struct Eq_340 * esp_298;
		Eq_255 eax_299;
		(*((word32) dwArg013C + 20))();
		esp_298->tFFFFFFFC.u1 = (struct Eq_721 *) eax_299;
		Eq_255 eax_306 = esp_298->tFFFFFFFC.u1;
		__syscall<byte>(0x90);
		esp_298->tFFFFFFFC.u1 = (struct Eq_721 *) eax_306;
		esp_298->tFFFFFFFC.u1 = esp_298->tFFFFFFFC.u1;
		&eax_235.u1->t0000.u0 = esp_298->tFFFFFFFC.u1;
		esp_236 = esp_298;
	}
	struct Eq_345 * esp_319 = esp_236 - (struct Eq_346 *) 4;
	esp_319->t0000.u1 = (struct Eq_721 *) eax_235;
	esp_319->t0000.u1 = (struct Eq_721 *) 0x00;
	esp_319->t0004.u1 = esp_319->t0000.u1;
	up32 ebp_338 = esp_319->dw0130;
	esp_319->t0004.u1 = esp_319->t0004.u1;
	Eq_255 esi_317 = 0x00;
	Eq_255 eax_341 = esp_319->t0004.u1;
	word32 edi_343 = Mem340[esp_319 + 20:word32];
	if (ebp_338 > 0x00)
	{
		esp_319->t0004.u1 = (struct Eq_721 *) eax_341;
		Eq_255 eax_351 = esp_319->t0004.u1;
		do
		{
			word32 esp_355 = esp_236 + 4;
			esp_355->tFFFFFFFC.u1 = (struct Eq_721 *) ((char *) &eax_351.u1->t0000 + 1);
			esp_355->tFFFFFFFC.u1 = (word32) esp_355->t0004.u0;
			Eq_255 eax_364 = esp_355->tFFFFFFFC.u1;
			byte cl_366 = Mem363[esp_355 + 20 + eax_364:byte];
			esp_355->tFFFFFFFC.u1 = (struct Eq_721 *) eax_364;
			esp_355->tFFFFFFFC.u1 = esp_355->tFFFFFFFC.u1;
			esp_355->tFFFFFFFC.u1 = esp_355->tFFFFFFFC.u1;
			esp_355->tFFFFFFFC.u1 = esp_355->tFFFFFFFC.u1;
			esp_355->tFFFFFFFC.u1 = esp_355->tFFFFFFFC.u1;
			Eq_255 edx_383 = (word32) ((byte) cl_366.u0 + (byte) esi_317);
			byte dl_393 = Mem390[esp_355 + 20 + edx_383:byte];
			esp_355->tFFFFFFFC.u1 = esp_355->tFFFFFFFC.u1;
			Eq_255 eax_396 = esp_355->tFFFFFFFC.u1;
			Mem400[esp_355 + 0x14 + eax_396:byte] = dl_393;
			esp_355->t0010.u1 = (struct Eq_721 *) eax_396;
			esp_355->t0010.u1 = esp_355->t0010.u1;
			Eq_255 eax_409 = esp_355->t0010.u1;
			esp_355->t0010.u1 = (struct Eq_721 *) edx_383;
			Eq_255 eax_416 = esp_355->t0010.u1;
			Mem418[esp_355 + 0x14 + eax_416:byte] = cl_366;
			esp_355->t0010.u1 = (struct Eq_721 *) eax_416;
			Eq_255 eax_421 = esp_355->t0010.u1;
			esi_317 = eax_421;
			word32 edx_428 = Mem420[esp_355 + 20 + eax_409:word32];
			esp_355->tFFFFFFFC.u1 = (struct Eq_721 *) eax_409;
			esp_355->tFFFFFFFC.u1 = esp_355->tFFFFFFFC.u1;
			esp_355->tFFFFFFFC.u1 = esp_355->tFFFFFFFC.u1;
			esp_355->tFFFFFFFC.u1 = esp_355->tFFFFFFFC.u1;
			esp_355->tFFFFFFFC.u1 = esp_355->tFFFFFFFC.u1;
			byte cl_456 = esp_355[((word32) ((byte) cl_366.u0 + (byte) edx_428) + 0x14) / 308];
			esp_355->tFFFFFFFC.u1 = esp_355->tFFFFFFFC.u1;
			byte ch_462 = edi_343.u0->u0;
			esp_355->tFFFFFFFC.u1 = esp_355->tFFFFFFFC.u1;
			esp_355->tFFFFFFFC.u1 = esp_355->tFFFFFFFC.u1;
			ui8 ch_467 = ch_462 ^ cl_456;
			Eq_255 eax_471 = esp_355->tFFFFFFFC.u1;
			edi_343.u0->u0 = ch_467;
			esp_355->tFFFFFFFC.u1 = (struct Eq_721 *) eax_471;
			esp_355->tFFFFFFFC.u1 = esp_355->tFFFFFFFC.u1;
			esp_355->tFFFFFFFC.u1 = esp_355->tFFFFFFFC.u1;
			&edi_343.u0->u0 = (word32) edi_343 + 1;
			--ebp_338;
			&eax_351.u1->t0000.u0 = esp_355->tFFFFFFFC.u1;
		} while (ebp_338 != 0x00);
		esp_355->tFFFFFFFC.u1 = (struct Eq_721 *) eax_351;
	}
	return dwLoc28;
}

// 0040164A: Register ptr32 fn0040164A(Stack word16 wArg00)
// Called from:
//      fn0040105F
ptr32 fn0040164A(word16 wArg00)
{
	word32 dwArg00;
	word16 eax_16_16_125 = SLICE(dwArg00, word16, 16);
	do
	{
		word16 ax_32 = *SEQ(eax_16_16_125, 0x00);
		word32 eax_43 = SEQ(eax_16_16_125, ax_32 + 42421);
		word16 eax_16_16_80 = eax_16_16_125;
		if (ax_32 == 23117)
			goto l004016AA;
		eax_16_16_125 = SLICE(eax_43 - 0x00010000, word16, 16);
	} while (eax_43 != 0x00010000);
	eax_16_16_80 = SLICE(eax_43 - 0x00010000, word16, 16);
l004016AA:
	struct Eq_669 * eax_83 = SEQ(eax_16_16_80, 0x00);
	int32 ecx_87 = eax_83->dw003C;
	struct Eq_696 * ecx_88 = eax_83 + ecx_87 / 64;
	return eax_83 + Mem96[eax_83 + Mem91[ecx_88 + 0x80:word32]:word32] + 0x04;
}

