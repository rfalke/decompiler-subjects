/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __stdcall SetLastError(DWORD dwErrCode);
// DWORD __stdcall WaitForSingleObject(HANDLE hHandle, DWORD dwMilliseconds);
// LPVOID __stdcall VirtualAllocEx(HANDLE hProcess, LPVOID lpAddress, SIZE_T dwSize, DWORD flAllocationType, DWORD flProtect);
// void __stdcall Sleep(DWORD dwMilliseconds);
// void __stdcall GetSystemTimeAsFileTime(LPFILETIME lpSystemTimeAsFileTime);
// BOOL __stdcall IsBadReadPtr(const void *lp, UINT_PTR ucb);
// HMODULE __stdcall GetModuleHandleA(LPCSTR lpModuleName);
// BOOL __stdcall QueryPerformanceCounter(LARGE_INTEGER *lpPerformanceCount);
// HWND __stdcall GetWindow(HWND hWnd, UINT uCmd);
// int __stdcall GetSystemMetrics(int nIndex);
// HWND __stdcall GetForegroundWindow();
// HDC __stdcall GetDC(HWND hWnd);
// HWND __stdcall GetDlgItem(HWND hDlg, int nIDDlgItem);
// BOOL __stdcall IsWindow(HWND hWnd);
// HBRUSH __stdcall GetSysColorBrush(int nIndex);
// HDC __stdcall GetWindowDC(HWND hWnd);
// HMENU __stdcall GetSubMenu(HMENU hMenu, int nPos);
int sub_4010C8();
__int64 sub_4014E8();
int sub_401CB0();
int sub_402530();
__int64 sub_402928();
int sub_403380();
// HWND __usercall sub_404131@<eax>(int a1@<ebx>, int a2@<edi>, int a3@<esi>);
// HWND __usercall start@<eax>(int a1@<ebx>, int a2@<edi>, int a3@<esi>);

//-------------------------------------------------------------------------
// Data declarations

char byte_40F2EF = '–'; // weak
char byte_4104FB = '\0'; // weak


//----- (004010C8) --------------------------------------------------------
int sub_4010C8()
{
  GetDC((HWND)0x1F);
  GetSystemMetrics(-370863582);
  GetModuleHandleA(0);
  return 7894;
}

//----- (004014E8) --------------------------------------------------------
__int64 sub_4014E8()
{
  int v0; // ecx
  int v1; // ecx
  int v2; // eax
  int v3; // ecx
  int v4; // edx
  int v5; // ecx
  int v6; // eax
  int v7; // edx
  int v8; // eax
  int v9; // edx
  int v10; // ecx
  int v12; // [esp+4h] [ebp-3F4h]
  int v13; // [esp+FCh] [ebp-2FCh]
  int v14; // [esp+18Ch] [ebp-26Ch]
  int v15; // [esp+190h] [ebp-268h]
  int v16; // [esp+1E4h] [ebp-214h]
  int v17; // [esp+214h] [ebp-1E4h]
  int v18; // [esp+25Ch] [ebp-19Ch]
  int v19; // [esp+32Ch] [ebp-CCh]
  int v20; // [esp+338h] [ebp-C0h]
  struct _FILETIME SystemTimeAsFileTime; // [esp+354h] [ebp-A4h] BYREF
  int v22; // [esp+380h] [ebp-78h]
  char v23; // [esp+388h] [ebp-70h]
  int v24; // [esp+38Ch] [ebp-6Ch]
  int v25; // [esp+394h] [ebp-64h]
  int v26; // [esp+3A0h] [ebp-58h]
  int v27; // [esp+3ACh] [ebp-4Ch]
  __int16 v28; // [esp+3B0h] [ebp-48h]
  int v29; // [esp+3B8h] [ebp-40h]
  int v30; // [esp+3CCh] [ebp-2Ch]
  int v31; // [esp+3DCh] [ebp-1Ch]
  char v32; // [esp+3ECh] [ebp-Ch]
  int v33; // [esp+3F0h] [ebp-8h]

  GetDC((HWND)0x13);
  v1 = (~v0 ^ 0x2748) + 12837;
  if ( v14 == 1076 && v1 )
  {
    v32 += 61;
    v15 &= 0x3628u;
  }
  GetModuleHandleA(0);
  GetSystemTimeAsFileTime(&SystemTimeAsFileTime);
  v2 = GetSystemMetrics(0);
  v4 = 8690;
  if ( v2 == 535 )
    goto LABEL_10;
  v5 = v3 - v17;
  v6 = 8690;
  if ( v25 != v5 )
  {
    v28 -= 127;
    v7 = v15;
    v6 = v16 ^ v5;
    if ( v5 == v12 )
    {
      if ( v6 != 1001 )
      {
LABEL_11:
        v4 = v6;
        goto LABEL_12;
      }
      v7 = 14361;
    }
    v3 = v7 + 2315;
LABEL_10:
    v24 &= v3;
    v6 = 14967;
    goto LABEL_11;
  }
LABEL_12:
  v8 = v6 - 829;
  if ( v27 == v4 || (v22 -= v8 - 3460, v27 != v18 + v13 + 1698) )
    v26 ^= v20 ^ 0x29A8;
  GetSubMenu((HMENU)0x12E88E1F, 8690);
  if ( v29 == v9 || (v10 = v9 & 0x1228, v23 &= 9u, v10 != 528) && ((v19 ^ 0x4B5) == v10 || 3343 != v10) )
    v30 ^= 0x48u;
  v33 -= 8547;
  v31 -= 5376;
  v22 -= 13102;
  WaitForSingleObject(0, 8u);
  return 0x3BDD00000160i64;
}
// 401506: variable 'v0' is possibly undefined
// 401521: variable 'v14' is possibly undefined
// 40155B: variable 'v15' is possibly undefined
// 401723: variable 'v3' is possibly undefined
// 401723: variable 'v17' is possibly undefined
// 401756: variable 'v16' is possibly undefined
// 401762: variable 'v12' is possibly undefined
// 4018DE: variable 'v18' is possibly undefined
// 4018DE: variable 'v13' is possibly undefined
// 401960: variable 'v20' is possibly undefined
// 401A43: variable 'v9' is possibly undefined
// 401A9C: variable 'v19' is possibly undefined

//----- (00401CB0) --------------------------------------------------------
int sub_401CB0()
{
  char v0; // dl
  char v1; // dl
  int v2; // ecx
  int v3; // edx
  int v4; // edx
  int v5; // eax
  int v6; // ecx
  int v7; // edx
  int v9; // [esp+54h] [ebp-2E4h]
  int v10; // [esp+A8h] [ebp-290h]
  int v11; // [esp+100h] [ebp-238h]
  __int16 v12; // [esp+120h] [ebp-218h]
  int v13; // [esp+224h] [ebp-114h]
  HMENU v14; // [esp+248h] [ebp-F0h]
  int v15; // [esp+284h] [ebp-B4h]
  int v16[3]; // [esp+2A4h] [ebp-94h] BYREF
  char v17; // [esp+2B0h] [ebp-88h]
  int v18; // [esp+2D8h] [ebp-60h]
  __int16 v19; // [esp+2E8h] [ebp-50h]
  __int16 v20; // [esp+2ECh] [ebp-4Ch]
  int v21; // [esp+2FCh] [ebp-3Ch]
  __int16 v22; // [esp+318h] [ebp-20h]

  sub_4010C8();
  v16[0] ^= 0x2887u;
  sub_4010C8();
  IsBadReadPtr(v16, (v0 + 100) & 0x15);
  sub_4010C8();
  if ( GetSysColorBrush(5) == (HBRUSH)640 )
  {
    v3 = (((v1 - 1) & 0x54) + 1) & 0xCA;
    if ( v9 == v3 || v3 )
      v2 = 5203;
    else
      v2 = 12009;
  }
  if ( v13 + 8851 != v21 )
  {
    v2 = 14179;
    if ( v15 == 3225 )
    {
      v2 = v11 - 2547;
      v22 = 90;
      v20 ^= 0x1Fu;
    }
  }
  v18 += v2;
  if ( v14 == GetSubMenu(0, 0) )
  {
    v5 = 10980;
  }
  else
  {
    v17 = -98;
    v5 = 16126;
  }
  v6 = v5;
  v7 = v4 ^ 0x2CA9;
  if ( v5 == v7 )
  {
    if ( v10 == v7 )
    {
      v7 = 20448;
      LOWORD(v6) = 2168;
    }
    v7 = (v7 + 1) ^ 0x3B75;
    v6 = (((unsigned __int16)~(_WORD)v6 ^ 0x183A) + 1) & 0x2CF2;
  }
  if ( v7 != 716 && v6 == 30 && ((((9710 - v12 - 1) & 0x1CA6) - 1) & 0x2CE1) != 51 )
    v19 = 0;
  return sub_4010C8();
}
// 402053: variable 'v0' is possibly undefined
// 40212B: variable 'v1' is possibly undefined
// 40215B: variable 'v9' is possibly undefined
// 4021F6: variable 'v13' is possibly undefined
// 40221D: variable 'v15' is possibly undefined
// 40228E: variable 'v11' is possibly undefined
// 402300: variable 'v2' is possibly undefined
// 402332: variable 'v14' is possibly undefined
// 4023D5: variable 'v4' is possibly undefined
// 4023F4: variable 'v10' is possibly undefined
// 402464: variable 'v12' is possibly undefined

//----- (00402530) --------------------------------------------------------
int sub_402530()
{
  DWORD dwErrCode; // [esp+6Ch] [ebp-384h]

  sub_4010C8();
  SetLastError(dwErrCode);
  sub_4010C8();
  WaitForSingleObject((HANDLE)0x187A, 0x17u);
  return 14475;
}
// 40270A: variable 'dwErrCode' is possibly undefined

//----- (00402928) --------------------------------------------------------
__int64 sub_402928()
{
  GetDC((HWND)8);
  WaitForSingleObject(0, 0);
  GetWindowDC((HWND)0x84AB588E);
  GetSystemMetrics(0);
  return 0x391F0000254Di64;
}
// 4029A5: conditional instruction was optimized away because of 'eax.4==3606'

//----- (00403380) --------------------------------------------------------
int sub_403380()
{
  __int64 v0; // rax
  int nIndex; // [esp+CCh] [ebp-23Ch]

  sub_4014E8();
  sub_401CB0();
  sub_4014E8();
  sub_402530();
  GetSystemMetrics(nIndex);
  v0 = sub_4014E8();
  GetWindowDC((HWND)HIDWORD(v0));
  return 25172;
}
// 40384C: variable 'nIndex' is possibly undefined

//----- (00404131) --------------------------------------------------------
HWND __usercall sub_404131@<eax>(int a1@<ebx>, int a2@<edi>, int a3@<esi>)
{
  int v3; // edx
  int v4; // edx
  char *v5; // eax
  int v6; // ecx
  char *v7; // edx
  int v8; // ecx
  __int16 v9; // dx
  int v10; // edx
  int v11; // eax
  int v12; // ecx
  int v13; // edx
  int v14; // eax
  int v15; // ecx
  int v16; // ecx
  __int64 v17; // rax
  int v18; // ecx
  int v19; // eax
  int v20; // ecx
  int v21; // eax
  __int16 v22; // dx
  __int16 v23; // cx
  int v24; // ecx
  int v25; // ecx
  int v26; // edx
  int v27; // edx
  int v28; // ecx
  int v29; // edi
  char *v30; // ecx
  int *v31; // ebx
  int v32; // esi
  int v33; // eax
  __int16 v34; // dx
  int v35; // edi
  int v36; // esi
  int v37; // eax
  int v38; // edx
  int v39; // esi
  int v40; // edx
  int v41; // eax
  int v42; // esi
  int v43; // edx
  int v44; // esi
  int v45; // eax
  __int16 v46; // dx
  int v47; // eax
  __int16 v48; // di
  int v49; // edx
  int v50; // edi
  int v51; // edx
  int v52; // edx
  int v53; // edi
  int v54; // edx
  int v55; // esi
  LPVOID v57; // [esp-40h] [ebp-3D0h]
  int v58; // [esp-3Ch] [ebp-3CCh]
  int v59; // [esp-38h] [ebp-3C8h]
  int v63; // [esp-20h] [ebp-3B0h] BYREF
  int v64; // [esp-1Ch] [ebp-3ACh]
  int v65; // [esp-18h] [ebp-3A8h]
  int v66; // [esp-14h] [ebp-3A4h]
  int *v67; // [esp-10h] [ebp-3A0h]
  int *v68; // [esp-Ch] [ebp-39Ch]
  int v69; // [esp-8h] [ebp-398h]
  int v70; // [esp-4h] [ebp-394h]
  int v71; // [esp+0h] [ebp-390h] BYREF
  int v72; // [esp+8h] [ebp-388h]
  int v73; // [esp+Ch] [ebp-384h]
  int v74; // [esp+18h] [ebp-378h]
  int v75; // [esp+1Ch] [ebp-374h]
  char v76; // [esp+28h] [ebp-368h]
  int v77; // [esp+30h] [ebp-360h]
  int v78; // [esp+34h] [ebp-35Ch]
  int v79; // [esp+38h] [ebp-358h]
  int v80; // [esp+3Ch] [ebp-354h]
  char v81; // [esp+44h] [ebp-34Ch]
  int v82; // [esp+48h] [ebp-348h]
  int v83; // [esp+50h] [ebp-340h]
  int v84; // [esp+54h] [ebp-33Ch]
  int v85; // [esp+58h] [ebp-338h]
  int v86; // [esp+5Ch] [ebp-334h]
  int v87; // [esp+60h] [ebp-330h]
  int v88; // [esp+68h] [ebp-328h]
  int v89; // [esp+70h] [ebp-320h]
  int v90; // [esp+74h] [ebp-31Ch]
  int v91; // [esp+78h] [ebp-318h]
  int v92; // [esp+7Ch] [ebp-314h]
  int v93; // [esp+80h] [ebp-310h]
  int v94; // [esp+84h] [ebp-30Ch]
  int v95; // [esp+88h] [ebp-308h]
  __int16 v96; // [esp+8Ch] [ebp-304h]
  int v97; // [esp+94h] [ebp-2FCh]
  int v98; // [esp+9Ch] [ebp-2F4h]
  int v99; // [esp+A0h] [ebp-2F0h]
  int v100; // [esp+A4h] [ebp-2ECh]
  int v101; // [esp+ACh] [ebp-2E4h]
  int v102; // [esp+B0h] [ebp-2E0h]
  int v103; // [esp+B4h] [ebp-2DCh]
  int v104; // [esp+B8h] [ebp-2D8h]
  int v105; // [esp+BCh] [ebp-2D4h]
  int v106; // [esp+C0h] [ebp-2D0h]
  int v107; // [esp+C4h] [ebp-2CCh]
  int v108; // [esp+CCh] [ebp-2C4h]
  __int16 v109; // [esp+D0h] [ebp-2C0h]
  int v110; // [esp+D4h] [ebp-2BCh]
  int v111; // [esp+DCh] [ebp-2B4h]
  int v112; // [esp+E0h] [ebp-2B0h]
  int v113; // [esp+E4h] [ebp-2ACh]
  int v114; // [esp+E8h] [ebp-2A8h]
  int v115; // [esp+ECh] [ebp-2A4h]
  int v116; // [esp+F0h] [ebp-2A0h]
  int v117; // [esp+F8h] [ebp-298h]
  __int16 v118; // [esp+104h] [ebp-28Ch]
  int v119; // [esp+108h] [ebp-288h]
  int v120; // [esp+110h] [ebp-280h]
  int v121; // [esp+114h] [ebp-27Ch]
  int v122; // [esp+118h] [ebp-278h]
  int v123; // [esp+11Ch] [ebp-274h]
  int v124; // [esp+128h] [ebp-268h]
  int v125; // [esp+12Ch] [ebp-264h]
  int v126; // [esp+130h] [ebp-260h]
  int v127; // [esp+134h] [ebp-25Ch]
  int v128; // [esp+140h] [ebp-250h]
  int v129; // [esp+144h] [ebp-24Ch]
  int v130; // [esp+14Ch] [ebp-244h]
  __int16 v131; // [esp+150h] [ebp-240h]
  int v132; // [esp+154h] [ebp-23Ch]
  int v133; // [esp+158h] [ebp-238h]
  int v134; // [esp+160h] [ebp-230h]
  int v135; // [esp+164h] [ebp-22Ch]
  int v136; // [esp+168h] [ebp-228h]
  int v137; // [esp+170h] [ebp-220h]
  int v138; // [esp+174h] [ebp-21Ch]
  int v139; // [esp+178h] [ebp-218h]
  int v140; // [esp+17Ch] [ebp-214h]
  int v141; // [esp+180h] [ebp-210h]
  char v142; // [esp+184h] [ebp-20Ch]
  int v143; // [esp+188h] [ebp-208h]
  int v144; // [esp+190h] [ebp-200h]
  int v145; // [esp+194h] [ebp-1FCh]
  int v146; // [esp+19Ch] [ebp-1F4h]
  int v147; // [esp+1A0h] [ebp-1F0h]
  int v148; // [esp+1A4h] [ebp-1ECh]
  int v149; // [esp+1A8h] [ebp-1E8h]
  int v150; // [esp+1ACh] [ebp-1E4h]
  int v151; // [esp+1B0h] [ebp-1E0h]
  int v152; // [esp+1BCh] [ebp-1D4h]
  int v153; // [esp+1C4h] [ebp-1CCh]
  int v154; // [esp+1C8h] [ebp-1C8h]
  int v155; // [esp+1D0h] [ebp-1C0h]
  int v156; // [esp+1D4h] [ebp-1BCh]
  int v157; // [esp+1D8h] [ebp-1B8h]
  int v158; // [esp+1DCh] [ebp-1B4h]
  int v159; // [esp+1E0h] [ebp-1B0h]
  int v160; // [esp+1E4h] [ebp-1ACh]
  int v161; // [esp+1E8h] [ebp-1A8h]
  int v162; // [esp+1ECh] [ebp-1A4h]
  __int16 v163; // [esp+1F0h] [ebp-1A0h]
  int v164; // [esp+1F4h] [ebp-19Ch]
  int v165; // [esp+1F8h] [ebp-198h]
  int v166; // [esp+1FCh] [ebp-194h]
  int v167; // [esp+200h] [ebp-190h]
  int v168; // [esp+204h] [ebp-18Ch]
  int v169; // [esp+208h] [ebp-188h]
  __int16 v170; // [esp+20Ch] [ebp-184h]
  int v171; // [esp+214h] [ebp-17Ch]
  int v172; // [esp+220h] [ebp-170h]
  LPVOID v173; // [esp+224h] [ebp-16Ch]
  int v174; // [esp+230h] [ebp-160h]
  int v175; // [esp+234h] [ebp-15Ch]
  int v176; // [esp+238h] [ebp-158h]
  int v177; // [esp+244h] [ebp-14Ch]
  int v178; // [esp+248h] [ebp-148h]
  int v179; // [esp+24Ch] [ebp-144h]
  int v180; // [esp+250h] [ebp-140h]
  int v181; // [esp+254h] [ebp-13Ch]
  int v182; // [esp+258h] [ebp-138h]
  int v183; // [esp+25Ch] [ebp-134h]
  int v184; // [esp+26Ch] [ebp-124h]
  int v185; // [esp+270h] [ebp-120h]
  int v186; // [esp+278h] [ebp-118h]
  int v187; // [esp+280h] [ebp-110h]
  int v188; // [esp+284h] [ebp-10Ch]
  int v189; // [esp+28Ch] [ebp-104h]
  int v190; // [esp+290h] [ebp-100h]
  int v191; // [esp+294h] [ebp-FCh]
  int v192; // [esp+298h] [ebp-F8h]
  int v193; // [esp+29Ch] [ebp-F4h]
  int v194; // [esp+2A0h] [ebp-F0h]
  int v195; // [esp+2A8h] [ebp-E8h]
  struct HWND__ v196; // [esp+2B0h] [ebp-E0h] BYREF
  int v197; // [esp+2B4h] [ebp-DCh]
  int v198; // [esp+2B8h] [ebp-D8h]
  int v199; // [esp+2BCh] [ebp-D4h]
  int v200; // [esp+2C4h] [ebp-CCh]
  struct HWND__ *v201; // [esp+2C8h] [ebp-C8h]
  char v202; // [esp+2CCh] [ebp-C4h]
  __int16 v203; // [esp+2D0h] [ebp-C0h]
  int v204; // [esp+2D8h] [ebp-B8h]
  int v205; // [esp+2DCh] [ebp-B4h]
  UINT uCmd; // [esp+2E0h] [ebp-B0h] BYREF
  int v207; // [esp+2E8h] [ebp-A8h]
  int v208; // [esp+2ECh] [ebp-A4h]
  int v209; // [esp+2F0h] [ebp-A0h]
  int v210; // [esp+2F4h] [ebp-9Ch]
  int v211; // [esp+2FCh] [ebp-94h]
  int v212; // [esp+300h] [ebp-90h]
  int v213; // [esp+30Ch] [ebp-84h]
  int v214; // [esp+314h] [ebp-7Ch]
  int v215; // [esp+318h] [ebp-78h]
  int v216; // [esp+320h] [ebp-70h]
  struct _FILETIME SystemTimeAsFileTime; // [esp+324h] [ebp-6Ch] BYREF
  int v218; // [esp+32Ch] [ebp-64h] BYREF
  int v219; // [esp+330h] [ebp-60h]
  UINT v220[3]; // [esp+334h] [ebp-5Ch] BYREF
  struct HWND__ hWnd; // [esp+340h] [ebp-50h] BYREF
  int v222; // [esp+348h] [ebp-48h]
  int v223; // [esp+34Ch] [ebp-44h]
  int v224; // [esp+350h] [ebp-40h]
  int v225; // [esp+354h] [ebp-3Ch]
  int v226; // [esp+358h] [ebp-38h]
  int v227; // [esp+35Ch] [ebp-34h]
  int v228; // [esp+360h] [ebp-30h]
  int v229; // [esp+364h] [ebp-2Ch]
  int v230; // [esp+368h] [ebp-28h]
  int v231; // [esp+36Ch] [ebp-24h]
  int v232; // [esp+378h] [ebp-18h]
  int v233; // [esp+37Ch] [ebp-14h]
  char v234; // [esp+384h] [ebp-Ch]
  int v235; // [esp+388h] [ebp-8h]
  int savedregs; // [esp+390h] [ebp+0h] BYREF

  sub_403380();
  if ( v3 == v85 )
  {
    v4 = v3 + 13439;
    v86 += v4;
    v199 += v4;
    if ( v4 != 223 )
      goto LABEL_5;
    v181 = 16283;
    v154 = 1581;
  }
  LOBYTE(v144) = v144 - 77;
LABEL_5:
  v5 = (char *)GetDlgItem((HWND)0x69AF18D2, 20) - 7011;
  if ( v5 == v7 )
  {
LABEL_9:
    v164 = 195;
    v121 -= 89;
    LOWORD(v72) = v72 ^ 0x79;
    goto LABEL_10;
  }
  v8 = v212 & v6;
  if ( v5 )
    goto LABEL_11;
  LOWORD(v177) = v177 + 19;
  if ( v127 == 4104 )
  {
    LOBYTE(v203) = 77;
    LOBYTE(v103) = v103 ^ 0x93;
    goto LABEL_9;
  }
LABEL_10:
  LOWORD(v119) = v119 ^ 0x80;
  v223 += 83;
  v135 ^= 0x2483u;
  v8 = 13726;
LABEL_11:
  v200 ^= 0x1EE8u;
  GetSubMenu((HMENU)v8, 8);
  GetSystemTimeAsFileTime(&SystemTimeAsFileTime);
  if ( (v9 & 0x234A) == 0 )
    v126 = v91;
  v155 ^= 0x66u;
  LOWORD(v197) = v197 ^ 0x91;
  GetWindow((HWND)0x14, (UINT)&uCmd);
  Sleep(0);
  v12 = v11;
  LOWORD(v79) = v79 - 105;
  if ( !v11 )
  {
    v12 = 5309;
    v10 = 0;
  }
  v132 &= v10;
  LOWORD(v147) = v147 ^ 0x18;
  v108 = v12;
  GetSystemMetrics(12);
  if ( sub_4010C8() == 6890 )
  {
    LOWORD(v197) = v197 - 185;
    v13 = 9262;
    v163 ^= 0xE0u;
    LOWORD(v104) = v104 & 0xED;
    if ( v211 == 9262 )
      goto LABEL_19;
    LOBYTE(v190) = 24;
  }
  v13 = 2112;
LABEL_19:
  v232 &= v13;
  LOBYTE(v197) = v197 & 0x24;
  v14 = (int)(GetWindowDC(&hWnd) - 2418);
  if ( v148 != v14 )
  {
    v113 ^= v15;
    LOBYTE(v159) = v159 - 3;
    v82 = 180;
    v126 -= 14348;
    v14 = 9901;
  }
  v101 -= v14;
  v205 &= 0xC51u;
  GetSystemMetrics(0);
  IsWindow((HWND)3);
  sub_4010C8();
  v169 ^= v16;
  v109 += 124;
  GetForegroundWindow();
  LOBYTE(v214) = v214 ^ 0xA8;
  sub_402530();
  GetSysColorBrush(0);
  v178 &= 0x50u;
  v17 = sub_402928();
  v168 ^= HIDWORD(v17);
  if ( v18 )
  {
    v213 += HIDWORD(v17);
    LODWORD(v17) = ((_WORD)v17 + 1) & 0xB8D;
    HIDWORD(v17) = v18 - 2602;
    LOWORD(v209) = v209 - 28;
    v151 &= 0xA0u;
  }
  if ( (_DWORD)v17 == HIDWORD(v17) )
  {
    v130 ^= 0x6Au;
    HIDWORD(v17) += 10782;
    LOBYTE(v187) = v187 ^ 0x97;
    v131 += 22;
    if ( HIDWORD(v17) != 339 )
      goto LABEL_27;
    v200 &= 0xFFFFF796;
    LOWORD(v180) = 50;
    BYTE4(v17) = v107;
    v83 &= v107;
  }
  BYTE4(v17) -= 107;
  v226 &= 0xB5u;
LABEL_27:
  LOWORD(v181) = v181 ^ 0x5F;
  LOBYTE(v183) = v183 - 93;
  QueryPerformanceCounter((LARGE_INTEGER *)(BYTE4(v17) & 0xA));
  GetWindowDC(0);
  LOBYTE(v160) = v160 ^ 0x15;
  v171 &= 0x16u;
  v95 = 68;
  v117 -= 180;
  v177 += 14652;
  v179 ^= 0x393Cu;
  v222 = 5;
  v164 -= 199;
  v225 &= 9u;
  v233 = 14652;
  uCmd += 147;
  sub_401CB0();
  GetForegroundWindow();
  v19 = IsBadReadPtr(&v218, 0xCu);
  if ( v20 == v19 )
  {
    LOBYTE(v205) = v205 & 0xD6;
    v235 ^= v139 ^ 0x1603;
  }
  LOWORD(v73) = v73 ^ 0x7F;
  v140 = 226;
  v21 = sub_4010C8();
  v70 = a3;
  v69 = a2;
  v68 = &savedregs;
  v67 = &v71;
  v66 = a1;
  v65 = ~v23 & 0x2E85;
  v64 = ~v22 & 0x413;
  v63 = v21;
  v142 ^= 0x81u;
  v181 &= 0x32u;
  LOWORD(v112) = 0;
  sub_401CB0();
  v170 = 35;
  sub_401CB0();
  v203 &= 0x48u;
  v25 = v24 - 14873;
  if ( v25 != v26 )
  {
    v87 &= v25;
    LOBYTE(SystemTimeAsFileTime.dwHighDateTime) -= 100;
    v235 -= 11544;
    v25 = 10473;
    LOBYTE(v109) = v109 - 97;
  }
  v98 += ((((v25 + 1) ^ 0x109B) - 1) ^ 0x2813) - 8382;
  v173 = VirtualAllocEx((HANDLE)0xFFFFFFFF, 0, 0x4000u, 0x1000u, 0x40u);
  v59 = v28;
  v58 = v27;
  v57 = v173;
  v29 = a2 - v154;
  if ( a3 != v29 )
    goto LABEL_35;
  if ( v235 == 15932 )
  {
    v29 = v179 + 6842;
    v73 &= v179 + 6842;
    if ( v179 != -6842 )
    {
LABEL_36:
      v146 &= 0x2F84u;
      goto LABEL_37;
    }
    v222 -= v156 ^ 0x3E3C;
LABEL_35:
    LOBYTE(v171) = v171 - 73;
    v138 = v29;
    goto LABEL_36;
  }
LABEL_37:
  v30 = &byte_40F2EF;
  v31 = (int *)v173;
  v227 = 633750161;
  v135 ^= 0x343u;
  if ( (v141 ^ 0x319F) == 210 )
  {
    v187 += 835;
    v193 ^= 0xC20u;
    LOBYTE(v88) = v88 - 35;
    if ( v189 != 210 )
    {
      v137 += 28024;
      LOBYTE(v210) = v210 ^ 0xCF;
    }
    v118 &= 0xBBu;
    LOWORD(v147) = v147 - 49;
    v81 -= 30;
  }
  LOBYTE(v230) = v230 - 7;
  v32 = 7166;
  do
  {
    v33 = v227 ^ (*(_DWORD *)v30 + 1279288542);
    v192 += v32;
    if ( v32 )
    {
      v34 = v32;
      LOWORD(v156) = v156 - 51;
      v90 &= 0x71u;
      LOWORD(v32) = 2174;
      v35 = v208 - 1 + 11801;
      v124 -= 219;
      LOBYTE(v219) = v219 ^ 0xF5;
      if ( v84 == 2174 )
        goto LABEL_46;
      LOWORD(v75) = v75 + 178;
      v112 ^= 0x9Au;
      v103 &= 0x92u;
      LOBYTE(v228) = 25;
      LOBYTE(v155) = v155 + 84;
      LOWORD(v196.unused) ^= 0x36u;
      v32 = (v34 + 1) & 0x1668;
      v199 &= 0xA7u;
    }
    v32 = v91 + (~v32 ^ 0xF4) - 1 + 7716;
    v211 ^= v32;
    v133 -= v32;
    v35 = 12826;
    v208 = 11;
LABEL_46:
    v36 = v32 & 0x15EA;
    LOBYTE(v163) = v163 & 0x9D;
    v37 = v227 ^ v33;
    v38 = 9661;
    if ( v175 == v36 )
    {
      v36 -= 3870;
      LOWORD(v148) = v148 - 46;
    }
    LOBYTE(v104) = -41;
    v171 += -v35 - 12805;
    LOBYTE(v183) = v183 - 81;
    if ( v36 != 936 )
    {
      v219 &= 0x25BDu;
      v167 &= v36;
      v120 += 90;
      LOBYTE(v114) = v114 & 0x3A;
      v228 += 4944;
      v38 = 9662;
      LOBYTE(v135) = 86;
      v74 &= 0x25BEu;
      v195 -= 196;
      v218 &= 0x25BEu;
    }
    v39 = v38;
    LOBYTE(v90) = v90 & 0xC6;
    if ( SystemTimeAsFileTime.dwLowDateTime != v38 )
    {
      v39 = 15184;
      v214 = 15184;
    }
    v220[1] = 99;
    v40 = v39 - 14922;
    v41 = v227 ^ v37;
    if ( v39 == v185 )
      goto LABEL_55;
    v42 = v40 & 0x295;
    v216 &= 0x95u;
    LOWORD(v182) = v182 - 185;
    v43 = v127 & (v89 + v42);
    v172 = 56;
    v44 = v42 + 2253;
    if ( v43 == 611 )
    {
      v128 ^= v44;
      v198 ^= 0x74u;
      v40 = v44;
LABEL_55:
      v43 = v93 + v40;
      v86 ^= v43;
    }
    v134 = v43;
    LOWORD(v204) = v204 - 105;
    if ( (((_WORD)v180 + 11852) & 0x21A) == 0 )
    {
      LOBYTE(v220[0]) &= 0x3Au;
      if ( v220[2] != -5510 )
      {
        LOWORD(v74) = v74 + 185;
        v129 &= 0xFFFFEA7A;
        LOBYTE(v163) = v163 - 78;
        LOBYTE(v191) = v191 ^ 2;
        if ( v144 == 2984 )
        {
          v137 &= 0xBA8u;
          LOBYTE(v208) = v208 ^ 3;
          if ( v106 != -8616 )
          {
            LOBYTE(v184) = v184 + 47;
            LOWORD(SystemTimeAsFileTime.dwLowDateTime) = SystemTimeAsFileTime.dwLowDateTime & 3;
            v181 &= 0xC4u;
          }
          LOBYTE(v121) = v121 + 122;
        }
      }
    }
    v186 &= 0x2E1Au;
    v45 = v227 ^ (v41 - 647394476);
    LOWORD(v232) = v232 ^ 0x54;
    if ( v106 == 13718 - v124 )
    {
      LOWORD(v120) = v120 ^ 0x24;
      v209 &= 13718 - v124;
      v92 = 79;
      v46 = v218 + 7228;
    }
    else
    {
      v46 = 6488;
      v100 &= 0x1958u;
      LOWORD(v115) = 208;
      v76 -= 60;
    }
    v153 &= 0xECu;
    LOBYTE(v153) = v153 ^ 0x4F;
    v194 += v46 & 0xE4A;
    v77 = v46 & 0xE4A & (unsigned __int16)v77;
    v140 = 90;
    LOWORD(v99) = v99 & 0x6B;
    SystemTimeAsFileTime.dwHighDateTime = 246;
    LOBYTE(v78) = v78 ^ 0x5D;
    v102 -= 15330;
    v122 -= 15330;
    v104 ^= 0xDEu;
    LOWORD(v145) = v145 - 69;
    v187 += 11230;
    v87 -= 10303;
    v204 &= 0x5Eu;
    v147 = 70;
    v161 += 227;
    v234 = -110;
    LOBYTE(v106) = v106 + 105;
    v207 -= 4630;
    LOWORD(v230) = v230 - 191;
    LOWORD(v120) = v120 ^ 0x60;
    v202 ^= 0xF8u;
    v228 &= 0xFFFFFCFB;
    LOWORD(v193) = 29;
    v74 &= v79 + 112;
    v80 -= v79 + 112;
    v229 = 7852;
    v116 += 13058;
    v199 = 1811;
    LOWORD(v149) = v149 ^ 0x66;
    v218 += 6088;
    v188 = 189;
    v144 &= 8u;
    v119 += 14867;
    LOBYTE(v159) = v159 - 104;
    v233 ^= 0xFFFFC5ED;
    v220[0] ^= 0x57u;
    LOWORD(v216) = v216 - 20;
    v47 = v227 ^ ((v227 ^ (v45 - 2012474496)) - 1810509633);
    v48 = 5652;
    if ( v231 != -2758 )
    {
      v48 = 8523;
      LOWORD(v105) = v105 & 0x11;
      LOWORD(v195) = v195 - 22;
      v182 &= 0xBAu;
    }
    LOWORD(v83) = v83 ^ 0x1F;
    v136 -= v136 ^ v48 & 0x2A1D;
    LOWORD(v215) = v215 ^ 0x8F;
    v195 -= 10768;
    if ( (~(v208 & 0x1F81) & 0x11DC) - v127 == 657 )
    {
      LOBYTE(v110) = v110 + 120;
      v123 -= 156;
      LOBYTE(hWnd.unused) -= 45;
    }
    LOBYTE(v82) = v82 & 0xD1;
    LOBYTE(v100) = v100 - 110;
    v184 += 16375;
    if ( (v180 ^ 0x4FA) != 5272 )
      v82 = v180 ^ 0x4FA;
    v110 = 185;
    v227 += 1349714056;
    v227 -= 155027424;
    v166 &= 0x2985u;
    v227 -= 1749453277;
    v97 ^= 0x2985u;
    v227 -= 274884814;
    v49 = v174 ^ 0x311;
    if ( v174 != 0x311 )
    {
      v49 = 3449;
      v134 += 3449;
    }
    v105 &= v49;
    v50 = v229;
    *v31 = v47;
    v30 += 4;
    ++v31;
    v176 -= 66;
    v51 = v115 & 0x315;
    if ( v111 == (v152 & v50) )
    {
      v125 += v50 ^ 0x1A49;
      v143 ^= v51;
      if ( (v152 & v50) != 0 )
      {
        v52 = v51 ^ 0x2C01;
        goto LABEL_78;
      }
      v196.unused = v196.unused & 0xE7;
      LOBYTE(v160) = v160 - 8;
      v51 = -8793;
      LOBYTE(v162) = 12;
      v209 ^= 0x4Eu;
    }
    v134 ^= 0xAFu;
    v52 = v75 & v165 & v51;
LABEL_78:
    v53 = v52 - 1 + 2983;
    LOWORD(v84) = v84 - 215;
    v32 = v53;
  }
  while ( v30 != &byte_4104FB );
  ((void (__stdcall *)(LPVOID, int, int, int, int *, int *, int, int, int, int, int, int, int *, int *, int, int))v173)(
    v57,
    v58,
    v59,
    a1,
    &v63,
    &savedregs,
    a2,
    a3,
    v63,
    v64,
    v65,
    v66,
    v67,
    v68,
    v69,
    v70);
  if ( !v54 )
    goto LABEL_84;
  v154 &= v53;
  if ( (v189 & v53) - 8091 != v54 )
    goto LABEL_83;
  v124 += v53 + 13000;
  if ( v53 == -13000 )
  {
    v200 ^= v54;
    v55 = 5747;
    LOWORD(v75) = v75 & 0x9A;
    LOWORD(v74) = v74 + 49;
    if ( v158 == 15915 )
    {
LABEL_83:
      v102 ^= 0x178Du;
      v96 += 155;
      v94 += 6029;
      v150 += 5091;
LABEL_84:
      LOBYTE(v75) = v75 - 7;
      v55 = 10881;
    }
    v157 += 14483;
    v91 = (v55 - 678) ^ 0xEFD;
  }
  v85 ^= 0x20u;
  LOWORD(v95) = v95 & 0xD;
  GetWindowDC(&v196);
  if ( v207 != 587 )
    v201 = &v196;
  LOWORD(v134) = 116;
  v224 ^= 0x39Bu;
  v201 = (struct HWND__ *)((unsigned int)v201 ^ 0xF0);
  GetSysColorBrush(923);
  return GetWindow((HWND)7, (UINT)v220);
}
// 404BE5: conditional instruction was optimized away because of 'esi.4!=0'
// 40539F: conditional instruction was optimized away because of 'edx.4==3BE2'
// 405D6D: conditional instruction was optimized away because of 'esi.4!=0'
// 40415A: variable 'v3' is possibly undefined
// 404235: variable 'v7' is possibly undefined
// 40423B: variable 'v6' is possibly undefined
// 404350: variable 'v9' is possibly undefined
// 4043B4: variable 'v11' is possibly undefined
// 4043CD: variable 'v10' is possibly undefined
// 4044B7: variable 'v15' is possibly undefined
// 4045B7: variable 'v16' is possibly undefined
// 404608: variable 'v18' is possibly undefined
// 4048AA: variable 'v20' is possibly undefined
// 40490A: variable 'v23' is possibly undefined
// 404902: variable 'v22' is possibly undefined
// 40495E: variable 'v24' is possibly undefined
// 404968: variable 'v26' is possibly undefined
// 4049FF: variable 'v28' is possibly undefined
// 4049FF: variable 'v27' is possibly undefined
// 405E33: variable 'v54' is possibly undefined
// 40F2EF: using guessed type char;
// 4104FB: using guessed type char byte_4104FB;

//----- (00408C60) --------------------------------------------------------
HWND __usercall start@<eax>(int a1@<ebx>, int a2@<edi>, int a3@<esi>)
{
  HWND v3; // ecx

  GetDC((HWND)0x14);
  IsWindow((HWND)0xDAD52A36);
  GetSystemMetrics(15331);
  GetDC(v3);
  WaitForSingleObject((HANDLE)6, 6u);
  return sub_404131(a1, a2, a3);
}
// 409EE8: variable 'v3' is possibly undefined

// nfuncs=8 queued=8 decompiled=8 lumina nreq=0 worse=0 better=0
// ALL OK, 8 function(s) have been successfully decompiled
