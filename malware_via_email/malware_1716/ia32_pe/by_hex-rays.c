/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// __int16 __usercall start@<ax>(int@<eax>, int@<edx>, int@<ecx>, int _EBX@<ebx>, unsigned int@<esi>);


//----- (0040C6AE) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
__int16 __usercall start@<ax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int _EBX@<ebx>, unsigned int a5@<esi>)
{
  bool v5; // cf
  int v6; // esi
  bool v8; // zf
  unsigned int v9; // ecx
  int v13; // esi
  int v18; // edx
  int v19; // ecx
  int v20; // esi
  unsigned int v22; // edx
  unsigned int v24; // edx
  int v26; // ebx
  int v32; // eax
  int v33; // edx
  void *retaddr[2]; // [esp+0h] [ebp+0h]

  BYTE1(_EBX) += __CFADD__(BYTE1(a3), 15) + 24;
  LOBYTE(a3) = a3 - BYTE1(_EBX);
  LOBYTE(_EBX) = (_BYTE)_EBX << a3;
  v32 = _EBX & a1;
  v33 = __ROL4__(a2, 1) >> a3;
  __asm { rcr     ebx, 15h }
  LOBYTE(v32) = v33 | v32;
  LOBYTE(v33) = ~(_BYTE)v33;
  _ESI = a5 >> 28;
  BYTE1(a3) = -(char)(BYTE1(a3) + 15);
  v18 = (_EBX + (BYTE1(a3) != 0) + v33) >> 26;
  v19 = v32 | a3;
  __asm { rcr     esi, 2 }
  v20 = _ESI - _EBX;
  BYTE1(_EBX) <<= v19;
  _ECX = v19 << v19;
  v26 = _EBX >> _ECX;
  __asm { rcr     ecx, cl }
  _ESI = __ROL4__(v20 >> 8, 19);
  _EBX = __ROR4__(v26, 2);
  __asm { rcr     esi, cl }
  LOBYTE(v18) = ((BYTE1(v32) - 90) | 0xA2) & v18;
  --BYTE1(_ECX);
  __asm { rcl     ebx, cl }
  LOBYTE(_ECX) = _ECX - 70;
  --_EBX;
  __asm { rcr     esi, cl }
  v22 = --_ESI ^ __ROL4__(v18, _ECX);
  _ECX = __ROL4__(_ECX, 21);
  LOBYTE(v22) = BYTE1(_ECX) | v22;
  v24 = v22 >> _ECX;
  __asm { rcl     ebx, cl }
  BYTE1(_ECX) = (char)(BYTE1(_ECX) ^ 0xC6) >> _ECX;
  v5 = __CFSHL__(_ESI, 14);
  v6 = _ESI << 14;
  BYTE1(_EBX) = v5 + BYTE1(_EBX) - 49;
  v5 = __CFADD__(BYTE1(_EBX), (_BYTE)_EBX);
  LOBYTE(_EBX) = BYTE1(_EBX) + _EBX;
  v9 = v24 + v5 + _ECX;
  v8 = v9 == 0;
  BYTE1(v9) = __ROR1__(BYTE1(v9), v9);
  if ( v8 || !v8 )
  {
    _EBX = _EBX + 1;
    _ECX = __ROL4__((_EBX < v24) + v9 - 84499861, (_EBX < v24) + v9 + 107);
    v13 = v6 << 6;
    LOBYTE(_EBX) = v13 + (((_BYTE)_EBX - (_BYTE)v24) << _ECX);
    _ECX >>= 11;
    __asm
    {
      rcl     ecx, cl
      rcr     bl, cl
    }
    _ESI = v13 >> _ECX;
    __asm { rcr     esi, cl }
    JUMPOUT(0x40C127);
  }
  __asm { fistp   dword ptr [ebx] }
  return MK_FP(retaddr[0], retaddr[0])();
}
// 40C047: positive sp value 4 has been found
// 40C76B: inconsistent fpu stack
// 40C0FB: control flows out of bounds to 40C0FC
// 40C494: control flows out of bounds to 40C49A
// 40C62C: control flows out of bounds to 40C62E
// 40C632: control flows out of bounds to 40C633
// 40C86E: control flows out of bounds to 40C127
// 40C0EB: control flows out of bounds to 40C6E7
// 40C48C: control flows out of bounds to 40C734
// 40C6DA: conditional instruction was optimized away because al.1!=0

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
