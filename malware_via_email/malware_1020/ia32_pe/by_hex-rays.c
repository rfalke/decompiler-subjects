/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall sub_4078A6(int _EAX@<eax>, int@<edx>, int _ECX@<ecx>, int@<ebx>, int@<ebp>, int@<edi>, int@<esi>);


//----- (004064A7) --------------------------------------------------------
#error "4064A7: stack frame is too big (funcsize=0)"

//----- (004078A6) --------------------------------------------------------
void __usercall sub_4078A6(
        int _EAX@<eax>,
        int a2@<edx>,
        int _ECX@<ecx>,
        int a4@<ebx>,
        int a5@<ebp>,
        int a6@<edi>,
        int a7@<esi>)
{
  int v8; // esi
  char v10; // dl
  int v13; // eax
  int v14; // eax
  int v15; // edx
  int v16; // edx
  int v17; // edi
  bool v19; // cf
  bool v22; // tt
  int v23; // edx
  unsigned int v26; // eax
  int v28; // esi
  int v32; // edi
  int v33; // eax
  int v34; // [esp-10h] [ebp-10h]
  int v35; // [esp-4h] [ebp-4h] BYREF

  v28 = _ECX + a7;
  __asm { rcr     ah, cl }
  LOBYTE(_EAX) = _EAX - _ECX;
  SBYTE1(a2) >>= 7;
  if ( a2 == -1557703275 )
  {
    v35 = 16;
    __asm { retf }
  }
  v17 = a6 | 0x7DB340C4;
  v16 = -a2;
  BYTE1(a4) -= (v16 != 0) - 11;
  __asm { rcr     ch, 0Dh }
  LOWORD(v17) = v17 + 1;
  v35 = v28 | _ECX;
  _ECX = &v35;
  if ( v28 == 73208345 )
  {
    __inbyte(0xABu);
    LOBYTE(_EAX) = MEMORY[0x2428CB86];
    __asm
    {
      fadd    st, st(1)
      fiadd   word ptr [ecx]
    }
    v19 = __CFADD__(BYTE1(a4), 10);
    BYTE1(a4) += 10;
    _EDI = v19 + v17 - 695561999;
    LOBYTE(a4) = (unsigned __int8)&v35 ^ 0xA;
    _EBX = a4 >> 10;
    BYTE1(_EBX) = 0;
    __asm
    {
      rcl     bl, 4
      rcr     bh, cl
    }
    LOBYTE(_EBX) = v35;
    v8 = _EAX ^ __ROR4__(73208345, (char)&v35);
    __asm { rcl     edi, 1Eh }
    v10 = 101 - v16;
    if ( _EBX == 1302111923 )
    {
      *(_BYTE *)(a5 - 1956777006) -= 32;
      LOWORD(_ECX) = __ROL2__((unsigned __int16)&v35, (char)&v35);
      __asm { rcr     ch, cl }
      _DL = __ROL1__(v10, (char)_ECX);
      LOBYTE(_ECX) = 0;
      __asm { rcr     dl, cl }
      if ( _ECX == (int *)1993373087 )
      {
        __asm { lock fucom st(4) }
        v13 = *(_DWORD *)((v8 << 15) + 0x3C) + (v8 << 15);
        v34 = *(_DWORD *)(v13 + 80);
        v14 = (*(int (__cdecl **)(int))((v8 << 15) + *(_DWORD *)((v8 << 15) + *(_DWORD *)(v13 + 128) + 16)))(v8 << 15);
        BYTE1(v14) = -105;
        v19 = __CFSHL__(v14, 12);
        v33 = v14 << 12;
        BYTE1(v33) -= v19 + BYTE1(v15);
        if ( v34 == -1619913317 )
        {
          *(_BYTE *)(v33 - 110) -= BYTE1(v33);
          JUMPOUT(0xB2F46C14);
        }
        _BH = BYTE1(v34) & 0xA6;
        v22 = __CFSHL__(BYTE1(v33), v34);
        BYTE1(v33) = __ROL1__(BYTE1(v33), v34);
        v19 = __CFADD__(v22, (_BYTE)v15);
        LOBYTE(v15) = v22 + v15;
        v19 |= __CFADD__((_BYTE)v15, -85);
        LOBYTE(v15) = v15 - 85;
        v23 = v15 - (v19 + v33);
        __asm { rcr     bh, 11h }
        _EAX = v23 | v33;
        _CL = v34 + 48;
        __asm { rcr     eax, 19h }
        _EDX = v23 << 10;
        v32 = __ROR4__(_EDI, 11);
        if ( _EAX == 1933124259 )
          JUMPOUT(0x407987);
        v19 = __CFADD__(_EAX < 0x733922A3, BYTE1(_EAX));
        BYTE1(_EAX) += _EAX < 0x733922A3;
        v19 |= __CFADD__(BYTE1(_EAX), 59);
        BYTE1(_EAX) += 59;
        v26 = _EAX + 1;
        LOBYTE(_EDX) = v19 + _EDX + 47;
        LOBYTE(v26) = 9;
        if ( v26 == -1307055647 )
        {
          *(_BYTE *)(v32 - 151268678) |= 0xE9u;
          JUMPOUT(0x407855);
        }
        LOBYTE(_EDX) = (char)_EDX >> _CL;
        __asm { rcr     dx, cl }
        if ( _EDX == 31793515 )
        {
          _BL = __ROL2__(19011, _CL);
          __asm { rcl     bl, 11h }
          JUMPOUT(0x407852);
        }
        JUMPOUT(0x407AF5);
      }
      __asm { rcr     dl, 5 }
      JUMPOUT(0x407763);
    }
    if ( v8 << 26 == -1497803065 )
      JUMPOUT(0x4079F6);
    JUMPOUT(0x4079A7);
  }
  JUMPOUT(0x4079F4);
}
// 40770A: inconsistent fpu stack
// 40784F: control flows out of bounds to 407855
// 407982: control flows out of bounds to 407987
// 4079F0: control flows out of bounds to 4079F6
// 407AF6: control flows out of bounds to 407AF7
// 4078C5: unbalanced stack, ignored a potential tail call
// 4079A8: control flows out of bounds to B2F46C14
// 407A53: control flows out of bounds to 407763
// 407AAB: control flows out of bounds to 407852
// 407755: control flows out of bounds to 4079F4
// 4079EE: control flows out of bounds to 4079A7
// 407AEC: control flows out of bounds to 407AF5
// 407B6D: conditional instruction was optimized away because edx.4==1E5216B
// 407782: variable 'v15' is possibly undefined

// nfuncs=2 queued=2 decompiled=2 lumina nreq=0 worse=0 better=0
#error "There were 1 decompilation failure(s) on 2 function(s)"
