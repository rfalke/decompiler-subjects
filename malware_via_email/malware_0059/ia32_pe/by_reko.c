// subject_data.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

word32 g_dw402030 = 8377; // 00402030
word32 g_dw402034 = 0x20C7; // 00402034
word32 g_dw402038 = 0x20D2; // 00402038
word32 g_dw40203C = 0x20DD; // 0040203C
word32 g_dw402040 = 0x20EB; // 00402040
word32 g_dw402044 = 8443; // 00402044
word32 g_dw402048 = 8455; // 00402048
word32 g_dw40204C = 0x211E; // 0040204C
word32 g_dw402050 = 8505; // 00402050
word32 g_dw402054 = 0x2151; // 00402054
word32 g_dw402058 = 8548; // 00402058
word32 g_dw40205C = 8566; // 0040205C
word32 g_dw402060 = 0x2190; // 00402060
word32 g_dw402064 = 0x219B; // 00402064
word32 g_dw402068 = 0x21B0; // 00402068
word32 g_dw40206C = 8646; // 0040206C
word32 g_dw402070 = 8660; // 00402070
word32 g_dw402074 = 8683; // 00402074
word32 g_dw402078 = 0x21FE; // 00402078
word32 g_dw40207C = 0x220F; // 0040207C
word32 g_dw402080 = 0x2226; // 00402080
word32 g_dw402084 = 0x2233; // 00402084
word32 g_dw402088 = 0x2242; // 00402088
word32 g_dw40208C = 0x2250; // 0040208C
word32 g_dw402090 = 0x226C; // 00402090
word32 g_dw402094 = 0x227B; // 00402094
word32 g_dw402098 = 8848; // 00402098
word32 g_dw40209C = 0x22A3; // 0040209C
word32 g_dw4020A0 = 8881; // 004020A0
word32 g_dw4020A4 = 0x22C4; // 004020A4
// subject_text.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

<anonymous> * __imp__HeapDestroy = &g_t20B9; // 00401000
<anonymous> * __imp__HeapLock = &g_t20C7; // 00401004
<anonymous> * __imp__ReadFile = &g_t20D2; // 00401008
<anonymous> * __imp__ExitProcess = &g_t20DD; // 0040100C
<anonymous> * __imp__MapViewOfFile = &g_t20EB; // 00401010
<anonymous> * __imp__HeapAlloc = &g_t20FB; // 00401014
<anonymous> * __imp__EnterCriticalSection = &g_t2107; // 00401018
<anonymous> * __imp__GetNamedPipeHandleStateA = &g_t211E; // 0040101C
<anonymous> * __imp__DeleteCriticalSection = &g_t2139; // 00401020
<anonymous> * __imp__CreateNamedPipeA = &g_t2151; // 00401024
<anonymous> * __imp__UnmapViewOfFile = &g_t2164; // 00401028
<anonymous> * __imp__FileTimeToLocalFileTime = &g_t2176; // 0040102C
<anonymous> * __imp__HeapFree = &g_t2190; // 00401030
<anonymous> * __imp__HeapSetInformation = &g_t219B; // 00401034
<anonymous> * __imp__GetCurrentProcessId = &g_t21B0; // 00401038
<anonymous> * __imp__GetFileTime = &g_t21C6; // 0040103C
<anonymous> * __imp__SetCurrentDirectoryA = &g_t21D4; // 00401040
<anonymous> * __imp__SetFilePointerEx = &g_t21EB; // 00401044
<anonymous> * __imp__SetFilePointer = &g_t21FE; // 00401048
<anonymous> * __imp__LeaveCriticalSection = &g_t220F; // 0040104C
<anonymous> * __imp__HeapCreate = &g_t2226; // 00401050
<anonymous> * __imp__VirtualQuery = &g_t2233; // 00401054
<anonymous> * __imp__CloseHandle = &g_t2242; // 00401058
<anonymous> * __imp__InitializeCriticalSection = &g_t2250; // 0040105C
<anonymous> * __imp__VirtualAlloc = &g_t226C; // 00401060
<anonymous> * __imp__CreateFileMappingA = &g_t227B; // 00401064
<anonymous> * __imp__ConnectNamedPipe = &g_t2290; // 00401068
<anonymous> * __imp__CreateFileA = &g_t22A3; // 0040106C
<anonymous> * __imp__GetNamedPipeInfo = &g_t22B1; // 00401070
<anonymous> * __imp__VirtualFree = &g_t22C4; // 00401074
// 004016FD: Register Eq_2 Win32CrtStartup()
Eq_2 Win32CrtStartup()
{
	Eq_2 eax_22 = CreateFileMappingA(~0x00, null, 0x04, 0x00, 0x4000, null);
	if (eax_22 == 0x00)
		return eax_22;
	GetCurrentProcessId();
	eax_22 = MapViewOfFile(eax_22, 0x06, 0x00, 0x00, 0x00);
	if (eax_22 == 0x00)
		return eax_22;
	return fn0040174D(eax_22);
}

// 0040174D: Register uint32 fn0040174D(Stack Eq_2 dwArg04)
// Called from:
//      Win32CrtStartup
uint32 fn0040174D(Eq_2 dwArg04)
{
	ptr32 fp;
	Eq_44 tLoc20;
	VirtualQuery(dwArg04, &tLoc20, 0x1C);
	Eq_53 eax_19 = tLoc20.RegionSize;
	Mem24[fp - 4 + (eax_19 >>u 0x0C):word32] = Mem16[fp - 4 + (eax_19 >>u 0x0C):word32] + (eax_19 >>u 0x0C);
	return eax_19 >> 0x0C;
}

