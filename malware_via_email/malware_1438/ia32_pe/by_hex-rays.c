/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>);

//-------------------------------------------------------------------------
// Data declarations

int dword_412000[512] =
{
  -1834308985,
  1560280832,
  1776006958,
  -1573977296,
  2090565895,
  -1210299012,
  -642157850,
  354954200,
  1427106607,
  1557587318,
  -1925840338,
  -788293524,
  -1758668951,
  992248027,
  448651987,
  -686304844,
  -814809666,
  28059460,
  125829888,
  520159233,
  1510146563,
  125681515,
  520323103,
  17236740,
  369230208,
  -684004579,
  4829,
  85394189,
  8398336,
  1525079257,
  118239750,
  -1258092031,
  7236453,
  -2145180630,
  -1687405305,
  1427025515,
  118704717,
  -610662631,
  1224783798,
  524486440,
  -144821171,
  422106938,
  810557194,
  -590453729,
  575072054,
  17695014,
  1809487873,
  -2062062673,
  873672707,
  -554967982,
  23898599,
  2115971904,
  -1630029409,
  -905477381,
  -2106654175,
  -1212813453,
  276955137,
  2044770260,
  -554983582,
  185065450,
  1645478284,
  -1091062322,
  759563817,
  967597506,
  201289191,
  535441698,
  1885832972,
  30419363,
  -294269940,
  -778855995,
  -1902411687,
  -555340173,
  223421181,
  -155647272,
  -1540275270,
  1276003359,
  -848056709,
  789455165,
  455927299,
  -277095189,
  -619728865,
  -285176454,
  -588793805,
  -2078701241,
  -1205716967,
  605806295,
  -1671488776,
  182912891,
  2030067396,
  -857902323,
  1862968288,
  -610631642,
  -505616583,
  -619741824,
  -277841571,
  1367142013,
  -657522290,
  -511473894,
  -464768400,
  796133696,
  -1839959102,
  4490094,
  2066801116,
  596360232,
  -838023999,
  1383596345,
  284069216,
  -1954792543,
  2031304064,
  505007902,
  -1670640019,
  1036250984,
  -1000581417,
  136286624,
  250067393,
  60650821,
  -507341466,
  1032356665,
  2086092725,
  372144324,
  9138243,
  2073873971,
  1937996613,
  -999255777,
  531631902,
  1131894387,
  543223667,
  878212985,
  2020666933,
  1697832881,
  -294407661,
  1736734817,
  -531405158,
  -589249662,
  391809115,
  238931457,
  1706911022,
  2076371053,
  1850112991,
  -1486028593,
  1893831541,
  1046627608,
  1002934020,
  862484024,
  -1916693680,
  1450183741,
  -2084632815,
  934350396,
  -1783253198,
  2079069422,
  1761611813,
  -284236021,
  -408258320,
  -569440781,
  -700595231,
  1174869282,
  -847563021,
  145205149,
  1493700679,
  13592311,
  -649677568,
  -416337917,
  97355294,
  1731774063,
  -1123096774,
  17724483,
  -188542569,
  1736384350,
  -1940111861,
  -1783118909,
  -404185995,
  -466390054,
  -2092511735,
  -460787252,
  1157638586,
  -976336022,
  -975515890,
  185454524,
  1920265843,
  -146627457,
  -277843687,
  1313906404,
  1140852265,
  670467952,
  1950132826,
  988933207,
  536852111,
  1003889642,
  888364476,
  -1010976579,
  1432955,
  -543357280,
  2072492513,
  -985152134,
  1009948411,
  -434168866,
  -1193347253,
  -1955091257,
  -563827349,
  1004289519,
  -1710746239,
  -1046712168,
  -484700979,
  -844705486,
  383231758,
  -1937122634,
  1660284784,
  -1269233841,
  -280037511,
  1378050037,
  -816772832,
  311365309,
  1405153510,
  258129208,
  -622190700,
  -1351383227,
  707009783,
  644179507,
  1569148624,
  -1393098084,
  -369849405,
  1347007812,
  -589194505,
  -1796396591,
  1378748710,
  249772076,
  -946905533,
  504509315,
  574473139,
  1197133341,
  -1932593199,
  1582030581,
  1467711670,
  -301023764,
  -595490212,
  -1177653172,
  -1389931467,
  -1963856926,
  1996566900,
  2062576234,
  1141235215,
  1807958396,
  -883170858,
  1479889155,
  -574766164,
  -939309736,
  247292643,
  -1347664761,
  955721690,
  1891613981,
  -507406474,
  -923447580,
  519110057,
  -1321406689,
  623378837,
  -278786297,
  1120058037,
  1559241464,
  -218773884,
  572274703,
  1724519109,
  -830766181,
  1556910653,
  -1357207216,
  763853920,
  -303693556,
  414464628,
  721487507,
  -476860082,
  -1000890458,
  165197997,
  535349948,
  1004334214,
  -231523772,
  975659677,
  1355053765,
  1717458955,
  -1518882465,
  51284456,
  790532381,
  1377218806,
  126112704,
  505808430,
  1488560133,
  -1993122788,
  -768663736,
  -1199968645,
  981156768,
  2051391607,
  -1374400990,
  1826680868,
  521931836,
  -955654505,
  1524556155,
  2016500405,
  874242542,
  -1011662529,
  570670572,
  272383705,
  -1492941807,
  76226917,
  1524745182,
  688090608,
  -1357672572,
  1492433863,
  1869772584,
  672286738,
  -1887812019,
  -875022327,
  235683154,
  1432582023,
  -1136073619,
  222799624,
  1616490589,
  -1470186440,
  1107823773,
  1298593713,
  1057377894,
  541450317,
  -138496487,
  -2009414578,
  -558690052,
  -1175908114,
  872964246,
  1910758655,
  -906474886,
  790085004,
  302379042,
  -507286678,
  -844716988,
  -1138573221,
  424455251,
  470717915,
  1401895974,
  -1187312264,
  2026442521,
  -841092789,
  -119616198,
  -349561664,
  -1245460547,
  74406388,
  259769343,
  -1544201449,
  1808082928,
  -736198190,
  -150153376,
  1226920842,
  1910716878,
  -916868742,
  -404957660,
  -1995400226,
  -163069694,
  124962272,
  -1550632892,
  -864520259,
  1393244443,
  -261687477,
  1779204064,
  -943868017,
  -1720055941,
  2075996322,
  2005678284,
  -90647807,
  -1134652658,
  -84416637,
  -1941718694,
  905347848,
  807837182,
  1513309643,
  -2024872080,
  1162517000,
  789466706,
  26248258,
  -247973439,
  377666874,
  304244931,
  -945096817,
  -1319092315,
  12764248,
  -2000847057,
  -1386837552,
  -1014562157,
  -475633183,
  2021119603,
  86714948,
  566435409,
  -48625198,
  -297206927,
  -488537836,
  1029839483,
  1933617463,
  -1827785212,
  2023616648,
  -252794489,
  1636234378,
  1075101884,
  1947450828,
  499612504,
  1736995106,
  317617614,
  -1885835025,
  2060010273,
  1846066670,
  1847203332,
  1977774151,
  471502968,
  -1861348588,
  -1768210590,
  -1183174317,
  378352131,
  -839954697,
  -126577040,
  1109558534,
  1577295308,
  -758229232,
  111431115,
  2015338862,
  363126311,
  1221597208,
  1868622540,
  -1109708772,
  -1950748816,
  1974496960,
  -301568489,
  2082932131,
  376035611,
  443966095,
  1324628998,
  124032391,
  292782220,
  -681840882,
  1006237728,
  1455718940,
  -283327082,
  -1288363296,
  -556318744,
  1914580851,
  273607811,
  -438233822,
  -619664536,
  -1318042501,
  261975387,
  473477611,
  656351966,
  1009171931,
  1533171022,
  -864315319,
  -1374116928,
  -1948790055,
  -1541109308,
  -1891462520,
  212509635,
  1588816172,
  -808033715,
  1634137863,
  1749227898,
  1652019965,
  320177986,
  -2117064590,
  -461229997,
  -970203408,
  -1587044725,
  880280887,
  -2070659701,
  -186449224,
  -1734176498,
  -569042524,
  -2067285525,
  1019882249,
  -186452057,
  1717706927,
  -1529022674,
  1856764686,
  -1890019023,
  -1686295341,
  1008876391,
  -1518366946,
  743538721,
  490712258,
  1294131267,
  1713473770,
  2063939594,
  -983988529,
  -1014525562,
  594746427,
  -238137257,
  403607418,
  -563375864,
  -479791357,
  1210480447,
  1009182649,
  -837655917,
  1305022664,
  396520160,
  -974404617,
  1695945272,
  125343858,
  -2061386718,
  -1135032789,
  2076250375,
  -2029083318,
  -1885302969,
  -1653032680,
  -1834566622,
  -209496763,
  -1447430211,
  -2063365086,
  895630694,
  -1003126217,
  -1543399832,
  -284640635,
  257973789
}; // weak


//----- (0041B1A0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  int *v3; // esi
  int *v4; // edi
  unsigned int v5; // ebp
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  unsigned int v11; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  bool v16; // zf
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  unsigned int v20; // eax
  int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ebx
  int v25; // ett
  BOOL v26; // ecx
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ebx
  int v35; // ett
  bool v36; // zf
  int v37; // ebx
  int v38; // ett
  unsigned int v39; // ecx
  char *v40; // edx
  char v41; // al
  int v42; // eax
  bool v43; // cc
  int *v44; // esi
  char *v45; // edi
  int v46; // ecx
  char v47; // al
  unsigned __int8 v48; // al
  int v49; // eax
  int v50; // eax
  char v51; // t0
  unsigned __int8 v52; // bl
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__cdecl *v61)(int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  int v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v72 = &v76;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v3 = dword_412000;
  v4 = &dword_412000[-17408];
  v67 = &dword_412000[-17408];
  v5 = -1;
  while ( 1 )
  {
    v9 = *v3;
    v7 = (unsigned int)v3++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v3;
        v3 = (int *)((char *)v3 + 1);
        *(_BYTE *)v4 = v6;
        v4 = (int *)((char *)v4 + 1);
      }
      else
      {
        v11 = 1;
        while ( 1 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v11 += v12 + v11;
          v7 = __CFADD__(v13, v13);
          v16 = 2 * v13 == 0;
          v8 = 2 * v13;
          if ( v7 )
          {
            if ( !v16 )
              break;
            v17 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v18 = v7 + v17;
            v7 = __CFADD__(v7, v17) | __CFADD__(v17, v18);
            v8 = v17 + v18;
            if ( v7 )
              break;
          }
        }
        v7 = v11 < 3;
        v19 = v11 - 3;
        if ( !v7 )
        {
          v20 = v19 << 8;
          LOBYTE(v20) = *(_BYTE *)v3;
          v3 = (int *)((char *)v3 + 1);
          v21 = ~v20;
          if ( !v21 )
          {
            v44 = v67;
            v45 = (char *)(v67 + 2048);
            v46 = 88;
            while ( 1 )
            {
              v47 = *v45++;
              v48 = v47 + 24;
              while ( v48 <= 1u && *v45 == 2 )
              {
                v49 = *(_DWORD *)v45;
                LOWORD(v49) = BYTE1(*(_DWORD *)v45);
                v50 = __ROL4__(v49, 16);
                v51 = v50;
                LOBYTE(v50) = BYTE1(v50);
                BYTE1(v50) = v51;
                v52 = v45[4] + 24;
                *(_DWORD *)v45 = (char *)v44 + v50 - (_DWORD)v45;
                v45 += 5;
                v48 = v52;
                if ( !--v46 )
                {
                  v53 = (char *)(v44 + 25600);
LABEL_38:
                  v54 = *(_DWORD *)v53;
                  if ( *(_DWORD *)v53 )
                  {
                    v55 = (int *)((char *)v44 + *((_DWORD *)v53 + 1));
                    v53 += 8;
                    v56 = ((int (__cdecl *)(int, int, int, int, int, int *, int, int, int))v44[30738])(
                            (int)v44 + v54 + 122852,
                            v68,
                            v69,
                            v70,
                            v71,
                            v72,
                            v73,
                            v74,
                            v75);
                    while ( 1 )
                    {
                      v57 = *v53++;
                      if ( !v57 )
                        goto LABEL_38;
                      v58 = v53;
                      v66 = v53;
                      v59 = v57 - 1;
                      do
                      {
                        if ( !v58 )
                          break;
                        v16 = *v53++ == (char)v59;
                        --v58;
                      }
                      while ( !v16 );
                      v60 = ((int (__cdecl *)(int, char *))v44[30739])(v56, v66);
                      if ( !v60 )
                        break;
                      *v55++ = v60;
                    }
                    v54 = ((int (*)(void))v44[30743])();
                  }
                  v61 = (void (__cdecl *)(int *, int, int, int *))v44[30740];
                  v62 = v44 - 1024;
                  v64 = v54;
                  v61(v44 - 1024, 4096, 4, &v64);
                  *((_BYTE *)v62 + 479) &= 0x7Fu;
                  *((_BYTE *)v62 + 519) &= 0x7Fu;
                  v61(v44 - 1024, 4096, v63[0], v63);
                  do
                    v64 = 0;
                  while ( &v64 != &v65 - 32 );
                  JUMPOUT(0x4080B0);
                }
              }
            }
          }
          v5 = v21;
        }
        v22 = __CFADD__(v8, v8);
        v23 = 2 * v8;
        if ( !v23 )
        {
          v24 = *v3;
          v7 = (unsigned int)v3++ < 0xFFFFFFFC;
          v25 = v7 + v24;
          v22 = __CFADD__(v7, v24) | __CFADD__(v24, v25);
          v23 = v24 + v25;
        }
        v26 = v22;
        v27 = __CFADD__(v23, v23);
        v8 = 2 * v23;
        if ( !v8 )
        {
          v28 = *v3;
          v7 = (unsigned int)v3++ < 0xFFFFFFFC;
          v29 = v7 + v28;
          v27 = __CFADD__(v7, v28) | __CFADD__(v28, v29);
          v8 = v28 + v29;
        }
        v30 = v26 + v27 + v26;
        if ( !v30 )
        {
          v31 = 1;
          while ( 1 )
          {
            v32 = __CFADD__(v8, v8);
            v33 = 2 * v8;
            if ( !v33 )
            {
              v34 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v35 = v7 + v34;
              v32 = __CFADD__(v7, v34) | __CFADD__(v34, v35);
              v33 = v34 + v35;
            }
            v31 += v32 + v31;
            v7 = __CFADD__(v33, v33);
            v36 = 2 * v33 == 0;
            v8 = 2 * v33;
            if ( v7 )
            {
              if ( !v36 )
                break;
              v37 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v38 = v7 + v37;
              v7 = __CFADD__(v7, v37) | __CFADD__(v37, v38);
              v8 = v37 + v38;
              if ( v7 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v39 = (v5 < 0xFFFFF300) + v30 + 1;
        v40 = (char *)v4 + v5;
        if ( v5 <= 0xFFFFFFFC )
        {
          do
          {
            v42 = *(_DWORD *)v40;
            v40 += 4;
            *v4++ = v42;
            v43 = v39 <= 4;
            v39 -= 4;
          }
          while ( !v43 );
          v4 = (int *)((char *)v4 + v39);
        }
        else
        {
          do
          {
            v41 = *v40++;
            *(_BYTE *)v4 = v41;
            v4 = (int *)((char *)v4 + 1);
            --v39;
          }
          while ( v39 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 41B32F: positive sp value 50 has been found
// 41B32F: control flows out of bounds to 4080B0
// 412000: using guessed type int dword_412000[512];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
