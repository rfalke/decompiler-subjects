/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, int@<edx>, int@<ecx>);

//-------------------------------------------------------------------------
// Data declarations

int dword_412000[512] =
{
  -1834308985,
  -587202816,
  -35940562,
  562758569,
  -1621168401,
  -1749907441,
  666465115,
  462853835,
  -589647341,
  -1183652437,
  -268216011,
  326980537,
  -1758569304,
  1727538123,
  782621032,
  1529544223,
  532250611,
  59583685,
  1593837313,
  196867,
  1533740808,
  39827451,
  117441280,
  285687615,
  504512256,
  1558032310,
  16842771,
  202514,
  -1363782143,
  1057039097,
  1595080745,
  -843467227,
  859836601,
  117852735,
  -609322236,
  83888094,
  335762751,
  1558644520,
  1784639083,
  172694582,
  -831279280,
  1208704313,
  727647532,
  1974367066,
  1963655267,
  1930589793,
  1559706029,
  658445098,
  1796688397,
  -1253319482,
  -1893660833,
  -1177652388,
  117867606,
  -311591147,
  -1352669379,
  637770152,
  1806594816,
  652032718,
  155648859,
  -415904158,
  1852850590,
  -1676187273,
  -110948493,
  1241977089,
  -294412919,
  14083897,
  1298759462,
  1939666518,
  1276510447,
  98585366,
  -1110479657,
  386264018,
  -286630049,
  131922032,
  1063208117,
  1138263385,
  -2129430409,
  57360202,
  -827229322,
  1116439481,
  -331940857,
  -1010971277,
  573614182,
  971895307,
  434609911,
  738001719,
  1943987900,
  -942888729,
  -413642496,
  -1334625378,
  63190261,
  250043527,
  -948434810,
  972644126,
  1341636055,
  22865336,
  -1179654013,
  1673448968,
  -1357044845,
  1726430702,
  2019512386,
  -814703897,
  1382838513,
  -263244507,
  920776476,
  -1638920384,
  -294424689,
  132159508,
  759159553,
  1958861848,
  2061975426,
  -283280561,
  83916157,
  -603502782,
  -1888099910,
  -2020717885,
  -1186030592,
  15692675,
  259654999,
  519550996,
  -1085036050,
  1947130155,
  272342065,
  -1403160569,
  -138921153,
  581200760,
  -1018390435,
  -439906445,
  723938569,
  1038292803,
  713348321,
  2008824583,
  -1206941840,
  941371304,
  -96758855,
  258422984,
  1166558259,
  1306985133,
  500070493,
  -1855777380,
  2076432328,
  -992874001,
  1757068837,
  -2023299143,
  386831435,
  -1002933163,
  -2078177224,
  1997280776,
  167297672,
  1894778771,
  -796344881,
  -570404345,
  -940672029,
  56440611,
  1938272142,
  -606476505,
  -2040582974,
  -1317828729,
  383076207,
  -1317806584,
  1219580184,
  1000235117,
  -833895012,
  72444672,
  -236052963,
  515367453,
  1217334849,
  1448121839,
  -676863524,
  1271976161,
  2007327483,
  689838202,
  -1404025544,
  118421309,
  1108578683,
  2017915307,
  -450594866,
  1484414759,
  395855310,
  1575816416,
  -1111420792,
  1724493788,
  2008573501,
  606415523,
  -149993471,
  439829880,
  -505316321,
  9669724,
  1739270207,
  -371992130,
  8260097,
  1310584725,
  1729178279,
  259236981,
  1939345127,
  1941768375,
  -569307417,
  -390797472,
  1978628198,
  10005159,
  941572770,
  -36930685,
  1902723411,
  991397406,
  789553250,
  81542390,
  -581341209,
  119417272,
  216038135,
  2060532611,
  1595503300,
  -510910618,
  1432412237,
  216185202,
  300008231,
  1090033370,
  1943583800,
  1799963532,
  860625387,
  1454885239,
  -1282417242,
  -941847824,
  1585053759,
  -813988977,
  1518573055,
  -165552963,
  1082337933,
  1943974371,
  989986287,
  1884050632,
  896582776,
  -1628266043,
  703559796,
  2112067316,
  862666497,
  423039758,
  1023677270,
  1556593784,
  796772403,
  -1193199786,
  201377189,
  -1138825445,
  1519404046,
  -524067529,
  1255783547,
  1944781146,
  -1285678609,
  65369601,
  -121248900,
  26429852,
  -375522366,
  1762681533,
  -138780718,
  2042870154,
  146227254,
  1038860699,
  -1393180171,
  -1113930669,
  -765634617,
  820049163,
  -1705329029,
  1972084355,
  -238766694,
  1176609671,
  1445721860,
  953475602,
  -560746674,
  241037787,
  -1283727823,
  373522797,
  -1671295933,
  608694104,
  662206345,
  1810219507,
  -1103477758,
  1606062551,
  -407093403,
  163986396,
  1798187337,
  2078028546,
  66399908,
  -150391213,
  954674720,
  -283592370,
  1936503485,
  501303064,
  1283190366,
  -154527476,
  -1032974617,
  105242711,
  1002912107,
  -965329476,
  300854434,
  1130128107,
  -1984020479,
  2072087424,
  -921681155,
  -472401862,
  782096256,
  -294396072,
  170576496,
  17316164,
  1324756595,
  -1668969398,
  1559725239,
  323280420,
  1880724397,
  1304172934,
  -650873408,
  929544675,
  -1359463954,
  -472059477,
  1988242873,
  -482896856,
  872882929,
  945261519,
  -735085801,
  496972030,
  1220404184,
  -1578849003,
  1110033319,
  -756455508,
  2078159647,
  1646888839,
  -1358528364,
  118258761,
  925455383,
  136437494,
  54846724,
  1660317354,
  -1924980420,
  1628898697,
  565279622,
  -2122513401,
  656898167,
  255483212,
  935080896,
  -645843456,
  -1997062789,
  55434988,
  -815914948,
  -2052153699,
  -1185411552,
  1656614407,
  1389309092,
  943546508,
  175794856,
  -1752740105,
  -1758466133,
  159635391,
  1157064369,
  62675380,
  -1435310457,
  988867546,
  275620796,
  -2028526096,
  195157239,
  573287165,
  1521551545,
  -377411513,
  -118454155,
  767455713,
  395111644,
  -872176983,
  -277114860,
  1745225205,
  1641983355,
  1572662854,
  514008328,
  -974026573,
  508646051,
  -267317709,
  1221542415,
  -71557489,
  2079857055,
  -2035845069,
  140104130,
  -1752444306,
  612285916,
  2062608657,
  2072562986,
  574453811,
  -1535819439,
  212096956,
  1415729224,
  2020927761,
  970830794,
  -1963882419,
  1657689637,
  -511209650,
  -1021437434,
  -1982560026,
  1992027367,
  1004332931,
  -1253774019,
  -839116244,
  352531578,
  -294075526,
  -1819025339,
  -1314815484,
  1214571287,
  -1769922912,
  1920436528,
  369849925,
  -507007914,
  -1975078869,
  371393943,
  1036703279,
  -876246054,
  -177909690,
  -1136970160,
  -884431881,
  -1323431846,
  833556215,
  -2143041803,
  1488147329,
  1951378792,
  -712837332,
  485687629,
  -970799838,
  1654876576,
  -755528943,
  -366179927,
  -525115875,
  418912324,
  1766088369,
  1895688576,
  665080200,
  1713675168,
  -706184975,
  250937755,
  1375720327,
  795871341,
  494725586,
  -1122248791,
  678552003,
  -842209065,
  -520634932,
  1029835253,
  338058971,
  147800459,
  1382053770,
  818970129,
  14933548,
  -1414638169,
  -484937250,
  1168966845,
  -1887718909,
  327872329,
  -1629927421,
  -996656070,
  2026993378,
  -42900847,
  -1123014152,
  -435134745,
  -1314330877,
  -520818874,
  -671406716,
  -660401996,
  -329679263,
  -338326570,
  2068362208,
  -587897273,
  -615641045,
  1914452662,
  -460092109,
  -532400016,
  -324279987,
  -518984041,
  235328925,
  250893770,
  1796017888,
  -1120383783,
  19590359,
  644623936,
  -105678220,
  1203504903,
  465904132,
  -568930185,
  1522010217,
  -1680893992,
  -1461653571,
  -885029623,
  1726231017,
  -1329608775,
  -1054944705,
  1536944606,
  -599932578,
  1724239483,
  944679488,
  163440972,
  1004275985,
  1318942082,
  1640683054,
  473590155,
  846812,
  -1871743713,
  989314171,
  277001996,
  -1695489069,
  -140811751,
  1233241696,
  250161725,
  -559628062,
  1742561577,
  -1742446925,
  1484919901,
  1660022651,
  -388133436,
  274742223,
  648713835,
  1471118263
}; // weak


//----- (0041B320) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  int *v3; // esi
  int *v4; // edi
  unsigned int v5; // ebp
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  unsigned int v11; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  bool v16; // zf
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  unsigned int v20; // eax
  int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ebx
  int v25; // ett
  BOOL v26; // ecx
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ebx
  int v35; // ett
  bool v36; // zf
  int v37; // ebx
  int v38; // ett
  unsigned int v39; // ecx
  char *v40; // edx
  char v41; // al
  int v42; // eax
  bool v43; // cc
  int *v44; // esi
  char *v45; // edi
  int v46; // ecx
  char v47; // al
  unsigned __int8 v48; // al
  int v49; // eax
  int v50; // eax
  char v51; // t0
  unsigned __int8 v52; // bl
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__cdecl *v61)(int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  int v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v72 = &v76;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v3 = dword_412000;
  v4 = &dword_412000[-17408];
  v67 = &dword_412000[-17408];
  v5 = -1;
  while ( 1 )
  {
    v9 = *v3;
    v7 = (unsigned int)v3++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v3;
        v3 = (int *)((char *)v3 + 1);
        *(_BYTE *)v4 = v6;
        v4 = (int *)((char *)v4 + 1);
      }
      else
      {
        v11 = 1;
        while ( 1 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v11 += v12 + v11;
          v7 = __CFADD__(v13, v13);
          v16 = 2 * v13 == 0;
          v8 = 2 * v13;
          if ( v7 )
          {
            if ( !v16 )
              break;
            v17 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v18 = v7 + v17;
            v7 = __CFADD__(v7, v17) | __CFADD__(v17, v18);
            v8 = v17 + v18;
            if ( v7 )
              break;
          }
        }
        v7 = v11 < 3;
        v19 = v11 - 3;
        if ( !v7 )
        {
          v20 = v19 << 8;
          LOBYTE(v20) = *(_BYTE *)v3;
          v3 = (int *)((char *)v3 + 1);
          v21 = ~v20;
          if ( !v21 )
          {
            v44 = v67;
            v45 = (char *)(v67 + 2048);
            v46 = 83;
            while ( 1 )
            {
              v47 = *v45++;
              v48 = v47 + 24;
              while ( v48 <= 1u && *v45 == 4 )
              {
                v49 = *(_DWORD *)v45;
                LOWORD(v49) = BYTE1(*(_DWORD *)v45);
                v50 = __ROL4__(v49, 16);
                v51 = v50;
                LOBYTE(v50) = BYTE1(v50);
                BYTE1(v50) = v51;
                v52 = v45[4] + 24;
                *(_DWORD *)v45 = (char *)v44 + v50 - (_DWORD)v45;
                v45 += 5;
                v48 = v52;
                if ( !--v46 )
                {
                  v53 = (char *)(v44 + 25600);
LABEL_38:
                  v54 = *(_DWORD *)v53;
                  if ( *(_DWORD *)v53 )
                  {
                    v55 = (int *)((char *)v44 + *((_DWORD *)v53 + 1));
                    v53 += 8;
                    v56 = ((int (__cdecl *)(int, int, int, int, int, int *, int, int, int))v44[30740])(
                            (int)v44 + v54 + 122760,
                            v68,
                            v69,
                            v70,
                            v71,
                            v72,
                            v73,
                            v74,
                            v75);
                    while ( 1 )
                    {
                      v57 = *v53++;
                      if ( !v57 )
                        goto LABEL_38;
                      v58 = v53;
                      v66 = v53;
                      v59 = v57 - 1;
                      do
                      {
                        if ( !v58 )
                          break;
                        v16 = *v53++ == (char)v59;
                        --v58;
                      }
                      while ( !v16 );
                      v60 = ((int (__cdecl *)(int, char *))v44[30741])(v56, v66);
                      if ( !v60 )
                        break;
                      *v55++ = v60;
                    }
                    v54 = ((int (*)(void))v44[30745])();
                  }
                  v61 = (void (__cdecl *)(int *, int, int, int *))v44[30742];
                  v62 = v44 - 1024;
                  v64 = v54;
                  v61(v44 - 1024, 4096, 4, &v64);
                  *((_BYTE *)v62 + 479) &= ~0x80u;
                  *((_BYTE *)v62 + 519) &= ~0x80u;
                  v61(v44 - 1024, 4096, v63[0], v63);
                  do
                    v64 = 0;
                  while ( &v64 != &v65 - 32 );
                  JUMPOUT(0x40A692);
                }
              }
            }
          }
          v5 = v21;
        }
        v22 = __CFADD__(v8, v8);
        v23 = 2 * v8;
        if ( !v23 )
        {
          v24 = *v3;
          v7 = (unsigned int)v3++ < 0xFFFFFFFC;
          v25 = v7 + v24;
          v22 = __CFADD__(v7, v24) | __CFADD__(v24, v25);
          v23 = v24 + v25;
        }
        v26 = v22;
        v27 = __CFADD__(v23, v23);
        v8 = 2 * v23;
        if ( !v8 )
        {
          v28 = *v3;
          v7 = (unsigned int)v3++ < 0xFFFFFFFC;
          v29 = v7 + v28;
          v27 = __CFADD__(v7, v28) | __CFADD__(v28, v29);
          v8 = v28 + v29;
        }
        v30 = v26 + v27 + v26;
        if ( !v30 )
        {
          v31 = 1;
          while ( 1 )
          {
            v32 = __CFADD__(v8, v8);
            v33 = 2 * v8;
            if ( !v33 )
            {
              v34 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v35 = v7 + v34;
              v32 = __CFADD__(v7, v34) | __CFADD__(v34, v35);
              v33 = v34 + v35;
            }
            v31 += v32 + v31;
            v7 = __CFADD__(v33, v33);
            v36 = 2 * v33 == 0;
            v8 = 2 * v33;
            if ( v7 )
            {
              if ( !v36 )
                break;
              v37 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v38 = v7 + v37;
              v7 = __CFADD__(v7, v37) | __CFADD__(v37, v38);
              v8 = v37 + v38;
              if ( v7 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v39 = (v5 < 0xFFFFF300) + v30 + 1;
        v40 = (char *)v4 + v5;
        if ( v5 <= 0xFFFFFFFC )
        {
          do
          {
            v42 = *(_DWORD *)v40;
            v40 += 4;
            *v4++ = v42;
            v43 = v39 <= 4;
            v39 -= 4;
          }
          while ( !v43 );
          v4 = (int *)((char *)v4 + v39);
        }
        else
        {
          do
          {
            v41 = *v40++;
            *(_BYTE *)v4 = v41;
            v4 = (int *)((char *)v4 + 1);
            --v39;
          }
          while ( v39 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 41B4AF: positive sp value 50 has been found
// 41B4AF: control flows out of bounds to 40A692
// 412000: using guessed type int dword_412000[512];
// 41B320: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
