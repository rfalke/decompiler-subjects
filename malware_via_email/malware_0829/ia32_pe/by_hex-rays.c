/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, char *@<edx>, int@<ecx>, int@<ebx>, int@<ebp>, int@<edi>, int@<esi>);

//-------------------------------------------------------------------------
// Data declarations

int dword_433000[512] =
{
  -1876295519,
  1409369600,
  708837152,
  1162547146,
  1279610450,
  1143878195,
  -46004,
  822149119,
  1224750130,
  1124319491,
  -1249147862,
  -1594590526,
  348226468,
  -1962720361,
  -1966964343,
  -250295,
  2072772607,
  -1684884084,
  1027005050,
  -257590467,
  -2004630846,
  1132995265,
  -1852994520,
  -1935312243,
  -1240121922,
  -416612270,
  1229928145,
  -574639828,
  1699927743,
  1196397317,
  -1039835418,
  -25286144,
  -793256961,
  1380385796,
  -1869279169,
  1347406377,
  -1028351722,
  875151401,
  -1368830056,
  1394010532,
  -427011957,
  1361812042,
  -1532078447,
  1469223609,
  -1532078963,
  -1907015495,
  731531866,
  -2040796055,
  -426591836,
  -1806069672,
  -1368841976,
  1864942174,
  -1829216330,
  886335274,
  941276842,
  1239747271,
  2109160754,
  1055976576,
  1357301253,
  1671827977,
  -129089318,
  -2109143073,
  -1002814986,
  17547446,
  -469007473,
  -1803110142,
  -1870032850,
  250710915,
  -264193792,
  -1190617970,
  -673739200,
  -539244795,
  1711408187,
  165079850,
  -537770165,
  326407662,
  -2093710648,
  1934206742,
  -1518285531,
  1461752705,
  1535532498,
  1467254711,
  377773522,
  -1147107920,
  -1781717645,
  1468765322,
  -1555473198,
  2005511816,
  -1910481791,
  -778758513,
  -1937290916,
  -1040164678,
  881714185,
  2040542354,
  -2071469576,
  -1854456430,
  -1664004822,
  1085866734,
  782992934,
  -1327232112,
  48538023,
  -1380564807,
  193998538,
  -738477136,
  -1947947168,
  -1426210136,
  276098524,
  1269449342,
  119623964,
  502649649,
  -1652264385,
  -921950978,
  -968372990,
  -577231072,
  -94256445,
  93009718,
  -1403223694,
  387996836,
  -1416188472,
  -2123262520,
  1552221618,
  -100170983,
  -272601036,
  -146699056,
  -2064251191,
  -118058301,
  -81095984,
  592919827,
  -132796934,
  1120647163,
  -1229837185,
  55121092,
  -132125650,
  1235654036,
  -1269879817,
  1690740978,
  -295605356,
  971666376,
  -166202093,
  2134974945,
  -1749593114,
  1139517974,
  -1121190186,
  573236316,
  -937990707,
  1798782135,
  1984313034,
  -770125068,
  537619174,
  -534153705,
  -80656093,
  1024182555,
  -1303396334,
  554625174,
  -868939129,
  318164367,
  1329809539,
  -924137854,
  -1840832443,
  -1843342386,
  -741564345,
  -969796338,
  -637877204,
  479266767,
  -810291006,
  558949419,
  -1293079617,
  1825501126,
  1092733200,
  -2076579634,
  -913954116,
  -1213478568,
  -489741809,
  -1090584126,
  -254097726,
  -1649126913,
  1921994652,
  -1006982509,
  41045994,
  -1776573639,
  -926898029,
  193998508,
  -1364805916,
  1085866732,
  39578798,
  1420705977,
  195234389,
  -2091164956,
  -181030071,
  180537427,
  1956155961,
  -1822567849,
  764458262,
  -853183597,
  -1766354539,
  1230819927,
  -1800366169,
  882232613,
  1234277819,
  -1703803453,
  95535259,
  -1738768010,
  1461756057,
  1923012050,
  1546952623,
  865885280,
  1923355549,
  -1567240923,
  393520045,
  -1986001448,
  1956898209,
  -1500133353,
  1621854631,
  -1533687785,
  486461093,
  1252678752,
  -1540713582,
  317128650,
  840498055,
  1333432127,
  66665875,
  -572552266,
  16369396,
  -2025232457,
  -1965937610,
  63777283,
  -1209139292,
  -898249345,
  -1735447741,
  -1223964370,
  1226459950,
  180485770,
  -21807708,
  -722970241,
  944852388,
  2076574273,
  -2146409258,
  304153411,
  -301997360,
  -2101123617,
  -1220637957,
  -1220934600,
  -384677577,
  943928983,
  -1226376766,
  -1045311505,
  1025583490,
  -902800602,
  -580348037,
  1879062910,
  514801954,
  -904264758,
  -1098454621,
  -2017386952,
  220907290,
  -1139145019,
  1844936142,
  -1859780066,
  1271440938,
  -1614731617,
  -311290866,
  287487590,
  -1021694576,
  -613520336,
  1194284798,
  -360560130,
  776668097,
  1178536478,
  1301919546,
  205526540,
  1056379456,
  38653372,
  416688658,
  219153079,
  1306310366,
  2122790299,
  1321697541,
  2076256518,
  -2014883981,
  567461392,
  -1238755838,
  -1177755774,
  -701950245,
  406456096,
  1490776842,
  -2123781765,
  -1888085514,
  1855904011,
  1144164889,
  841713618,
  2045114973,
  -1612305866,
  -1722810727,
  1308233690,
  -1380594052,
  -555875038,
  -1073083114,
  -1749119539,
  913425422,
  1274204074,
  -645560565,
  -1791374717,
  -2120707721,
  -333735886,
  1468180692,
  -1922946505,
  1341652982,
  1133939017,
  1338128897,
  -235472938,
  -1434782736,
  162639787,
  1013937127,
  52021657,
  -1081009335,
  -646002893,
  306580798,
  -356806006,
  -1828667094,
  -509407086,
  338567129,
  -1106823927,
  -1456247663,
  1424158157,
  915401006,
  1454844773,
  -1054209619,
  -645059004,
  -385193985,
  -953466614,
  1261158404,
  1653523336,
  -638125985,
  697287817,
  -761555982,
  -338263735,
  -829339370,
  -1922075796,
  -1872163391,
  381895210,
  1871581386,
  -424485962,
  -1680076141,
  -1947598527,
  -1619507563,
  174984837,
  -1209350365,
  -34766060,
  -1586099514,
  118145284,
  -530893132,
  -173359173,
  712208081,
  1303032741,
  1376551915,
  -1133573623,
  1050058681,
  -1715808951,
  77482251,
  -915625262,
  -2101158851,
  243107105,
  1172190722,
  737341314,
  -1441531390,
  1333358542,
  1208040198,
  -975038137,
  839683939,
  -1448197176,
  -1867906594,
  -1994133212,
  1268465230,
  258547343,
  1396544969,
  438617059,
  -2015653757,
  824451948,
  -477617406,
  -1835458103,
  -2034104638,
  1569780307,
  1120814858,
  737574596,
  1357915193,
  690236282,
  -513004297,
  1234633215,
  1040597294,
  -308964207,
  149234378,
  -1234473959,
  1200426417,
  1504809206,
  1096401474,
  -1307153927,
  805145377,
  1533691865,
  704184044,
  1378626260,
  114633415,
  887815233,
  -287631739,
  163800362,
  638242489,
  910421068,
  -1660910236,
  73974853,
  1111688411,
  -1220318362,
  243577840,
  -897113655,
  1108328578,
  -477707545,
  621737798,
  1581360884,
  -1073731010,
  1126446699,
  94356790,
  -2060595455,
  -830389326,
  318309034,
  1704324230,
  -247054713,
  -931774282,
  -575196130,
  -825052895,
  -1236763871,
  -1077823202,
  1528893642,
  28807706,
  -1341008164,
  1193030593,
  638667076,
  1294759886,
  1650010431,
  -891699262,
  -1879472823,
  -504665253,
  -125782322,
  1657154805,
  -612421338,
  213846746,
  46423521,
  625189946,
  233753917,
  -760970370,
  1091712462,
  -1044025542,
  1974567929,
  -708584595,
  -1071005663,
  -967894204,
  -1102837055,
  -1245002215,
  -865218047,
  -1077890259,
  -2132843058,
  -303182183,
  -823600193,
  -2075533428,
  -1224345122,
  1303723478,
  -335160700,
  -761898625,
  702731998,
  -101430844,
  1142798128,
  1679744992,
  458138834,
  1285825026,
  -683023358,
  -1178673985,
  1224935771,
  -838667632,
  1226328399,
  2109731280,
  -251476805,
  1471615358,
  -290435078,
  -1270231893,
  1878922182,
  690749295,
  -989527079,
  -1548980316,
  -1207645520,
  574734773,
  -1677376739,
  1605766548,
  985776439,
  -1074191371,
  556045239,
  -629089000,
  567115407,
  875049349,
  1277533966,
  -530702406,
  1673639791,
  -491136375,
  -2094452543,
  1234484335,
  -434293198,
  -836144642,
  1112695150,
  -1214501601,
  1407151639,
  -371607602,
  -1306839764,
  -1959214618,
  1859620302,
  587462679,
  -997604928
}; // weak


//----- (00439690) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(
        int a1@<eax>,
        char *a2@<edx>,
        int a3@<ecx>,
        int a4@<ebx>,
        int a5@<ebp>,
        int a6@<edi>,
        int a7@<esi>)
{
  int *v7; // esi
  int *v8; // edi
  unsigned int v9; // ebp
  char v10; // al
  bool v11; // cf
  int v12; // ebx
  int v13; // ebx
  int v14; // ett
  unsigned int v15; // eax
  bool v16; // cf
  int v17; // ebx
  int v18; // ebx
  int v19; // ett
  bool v20; // zf
  int v21; // ebx
  int v22; // ett
  int v23; // ecx
  unsigned int v24; // eax
  unsigned int v25; // eax
  int v26; // eax
  bool v27; // cf
  int v28; // ebx
  int v29; // ebx
  int v30; // ett
  BOOL v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ett
  int v35; // ecx
  int v36; // ecx
  bool v37; // cf
  int v38; // ebx
  int v39; // ebx
  int v40; // ett
  bool v41; // zf
  int v42; // ebx
  int v43; // ett
  unsigned int v44; // ecx
  char v45; // al
  int v46; // eax
  bool v47; // cc
  int *v48; // esi
  char *v49; // edi
  int v50; // eax
  int *v51; // ebx
  int v52; // ebp
  char v53; // al
  char *v54; // ecx
  unsigned __int8 v55; // al
  int v56; // eax
  void (__fastcall *v57)(int, char *, int *, int, int, int *); // ebp
  int *v58; // edi
  int v59[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v60; // [esp+2Ch] [ebp-80h] BYREF
  int v61; // [esp+30h] [ebp-7Ch] BYREF
  char *v62; // [esp+34h] [ebp-78h]
  int *v63; // [esp+38h] [ebp-74h]
  int v64; // [esp+3Ch] [ebp-70h]
  char *v65; // [esp+40h] [ebp-6Ch]
  int v66; // [esp+44h] [ebp-68h]
  int v67; // [esp+48h] [ebp-64h]
  int *v68; // [esp+4Ch] [ebp-60h]
  int v69; // [esp+50h] [ebp-5Ch]
  int v70; // [esp+54h] [ebp-58h]
  int v71; // [esp+58h] [ebp-54h]
  int v72; // [esp+5Ch] [ebp-50h] BYREF

  v71 = a7;
  v70 = a6;
  v69 = a5;
  v68 = &v72;
  v67 = a4;
  v66 = a3;
  v65 = a2;
  v64 = a1;
  v7 = dword_433000;
  v8 = &dword_433000[-51200];
  v63 = &dword_433000[-51200];
  v9 = -1;
  while ( 1 )
  {
    v13 = *v7;
    v11 = (unsigned int)v7++ < 0xFFFFFFFC;
    v14 = v11 + v13;
    v11 = __CFADD__(v11, v13) | __CFADD__(v13, v14);
    v12 = v13 + v14;
    do
    {
      if ( v11 )
      {
        v10 = *(_BYTE *)v7;
        v7 = (int *)((char *)v7 + 1);
        *(_BYTE *)v8 = v10;
        v8 = (int *)((char *)v8 + 1);
      }
      else
      {
        v15 = 1;
        while ( 1 )
        {
          v16 = __CFADD__(v12, v12);
          v17 = 2 * v12;
          if ( !v17 )
          {
            v18 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v19 = v11 + v18;
            v16 = __CFADD__(v11, v18) | __CFADD__(v18, v19);
            v17 = v18 + v19;
          }
          v15 += v16 + v15;
          v11 = __CFADD__(v17, v17);
          v20 = 2 * v17 == 0;
          v12 = 2 * v17;
          if ( v11 )
          {
            if ( !v20 )
              break;
            v21 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v22 = v11 + v21;
            v11 = __CFADD__(v11, v21) | __CFADD__(v21, v22);
            v12 = v21 + v22;
            if ( v11 )
              break;
          }
        }
        v23 = 0;
        v11 = v15 < 3;
        v24 = v15 - 3;
        if ( !v11 )
        {
          v25 = v24 << 8;
          LOBYTE(v25) = *(_BYTE *)v7;
          v7 = (int *)((char *)v7 + 1);
          v26 = ~v25;
          if ( !v26 )
          {
            v48 = v63;
            v49 = (char *)(v63 + 56320);
LABEL_33:
            v50 = *(_DWORD *)v49;
            if ( *(_DWORD *)v49 )
            {
              v51 = (int *)((char *)v48 + *((_DWORD *)v49 + 1));
              v49 += 8;
              v52 = ((int (__fastcall *)(int, char *, int, int, char *, int, int, int *, int, int, int))v48[59894])(
                      v23,
                      a2,
                      (int)v48 + v50 + 239376,
                      v64,
                      v65,
                      v66,
                      v67,
                      v68,
                      v69,
                      v70,
                      v71);
              while ( 1 )
              {
                v53 = *v49++;
                if ( !v53 )
                  goto LABEL_33;
                v54 = v49;
                v62 = v49;
                v55 = v53 - 1;
                do
                {
                  if ( !v54 )
                    break;
                  v20 = *v49++ == (char)v55;
                  --v54;
                }
                while ( !v20 );
                v56 = ((int (__cdecl *)(int, char *))v48[59895])(v52, v62);
                if ( !v56 )
                  break;
                *v51++ = v56;
              }
              v50 = ((int (*)(void))v48[59899])();
            }
            v57 = (void (__fastcall *)(int, char *, int *, int, int, int *))v48[59896];
            v58 = v48 - 1024;
            v60 = v50;
            v57(v23, a2, v48 - 1024, 4096, 4, &v60);
            *((_BYTE *)v58 + 495) &= ~0x80u;
            *((_BYTE *)v58 + 535) &= ~0x80u;
            ((void (__cdecl *)(int *, int, int, int *))v57)(v48 - 1024, 4096, v59[0], v59);
            do
              v60 = 0;
            while ( &v60 != &v61 - 32 );
            JUMPOUT(0x41905A);
          }
          v9 = v26;
        }
        v27 = __CFADD__(v12, v12);
        v28 = 2 * v12;
        if ( !v28 )
        {
          v29 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v30 = v11 + v29;
          v27 = __CFADD__(v11, v29) | __CFADD__(v29, v30);
          v28 = v29 + v30;
        }
        v31 = v27;
        v32 = __CFADD__(v28, v28);
        v12 = 2 * v28;
        if ( !v12 )
        {
          v33 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v34 = v11 + v33;
          v32 = __CFADD__(v11, v33) | __CFADD__(v33, v34);
          v12 = v33 + v34;
        }
        v35 = v31 + v32 + v31;
        if ( !v35 )
        {
          v36 = 1;
          while ( 1 )
          {
            v37 = __CFADD__(v12, v12);
            v38 = 2 * v12;
            if ( !v38 )
            {
              v39 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v40 = v11 + v39;
              v37 = __CFADD__(v11, v39) | __CFADD__(v39, v40);
              v38 = v39 + v40;
            }
            v36 += v37 + v36;
            v11 = __CFADD__(v38, v38);
            v41 = 2 * v38 == 0;
            v12 = 2 * v38;
            if ( v11 )
            {
              if ( !v41 )
                break;
              v42 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v43 = v11 + v42;
              v11 = __CFADD__(v11, v42) | __CFADD__(v42, v43);
              v12 = v42 + v43;
              if ( v11 )
                break;
            }
          }
          v35 = v36 + 2;
        }
        v44 = (v9 < 0xFFFFF300) + v35 + 1;
        a2 = (char *)v8 + v9;
        if ( v9 <= 0xFFFFFFFC )
        {
          do
          {
            v46 = *(_DWORD *)a2;
            a2 += 4;
            *v8++ = v46;
            v47 = v44 <= 4;
            v44 -= 4;
          }
          while ( !v47 );
          v8 = (int *)((char *)v8 + v44);
        }
        else
        {
          do
          {
            v45 = *a2++;
            *(_BYTE *)v8 = v45;
            v8 = (int *)((char *)v8 + 1);
            --v44;
          }
          while ( v44 );
        }
      }
      v11 = __CFADD__(v12, v12);
      v12 *= 2;
    }
    while ( v12 );
  }
}
// 4397E8: positive sp value 50 has been found
// 4397E8: control flows out of bounds to 41905A
// 43977F: variable 'v23' is possibly undefined
// 43977F: variable 'a2' is possibly undefined
// 433000: using guessed type int dword_433000[512];
// 439690: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
