/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, int@<edx>, int@<ecx>, unsigned int@<ebp>);

//-------------------------------------------------------------------------
// Data declarations

int dword_40C000[512] =
{
  -37409,
  1272510287,
  55169419,
  -137393197,
  1228949970,
  -670173426,
  -83638389,
  -604129555,
  1225587083,
  1245891211,
  -567949565,
  100074262,
  -310902785,
  474083331,
  -242492891,
  -604505597,
  1138751320,
  33320323,
  -788325260,
  2147446711,
  1222574905,
  1075134136,
  -637320448,
  -251441140,
  1121330059,
  -76091685,
  869791683,
  -1957667136,
  961600019,
  -216445960,
  -19431461,
  -11644849,
  706771989,
  -1072955852,
  1078925684,
  1074856042,
  939450079,
  1187709762,
  -468988277,
  -1956776331,
  1201490162,
  1533599235,
  -455418693,
  -301727744,
  151109440,
  -1141643222,
  201682805,
  -697089474,
  480405670,
  -308809783,
  1366378879,
  1358185869,
  49313279,
  -544347932,
  1441717110,
  85349116,
  870292031,
  -132953917,
  -1154005144,
  762017518,
  475066405,
  -534097160,
  -201979360,
  -193529989,
  219500880,
  -160939005,
  -688886693,
  -77292710,
  783665408,
  -811915427,
  710521435,
  1669752977,
  -2063343119,
  -148570122,
  55263961,
  -745845046,
  285886287,
  201063353,
  -1047838453,
  1917997122,
  808531816,
  2083730294,
  930984923,
  1933668968,
  -1005777692,
  -610538936,
  -807209377,
  1816940904,
  1229369930,
  -258060052,
  2090892204,
  -419121838,
  -2030915837,
  2095656671,
  -1194571067,
  -552711815,
  -604053584,
  972063214,
  2079458056,
  -1144878269,
  -724052312,
  -1460436598,
  -152977978,
  1406142327,
  -1212492149,
  1380857106,
  -939277410,
  -664921549,
  -1042882640,
  1218925010,
  1133646952,
  461729754,
  1197003758,
  1090570133,
  2063847679,
  -420548403,
  1690196947,
  -2101721292,
  -606091728,
  -1948525587,
  1552617931,
  -972873692,
  -552582517,
  478371905,
  -252649541,
  -985054866,
  4426187,
  -838285685,
  920334658,
  677000638,
  -680178105,
  1501250382,
  182414132,
  -1794908243,
  -373194398,
  1814122257,
  -562975355,
  -142985398,
  -604066257,
  208515489,
  289444830,
  198410138,
  -1011425401,
  -333621975,
  -725318837,
  -883808881,
  -207991818,
  1438894383,
  -1069473977,
  -3703370,
  -863288753,
  -1048317813,
  -610578936,
  276087099,
  -1236738504,
  -907158563,
  1187632970,
  1212273479,
  1842973483,
  -1922089397,
  1158492118,
  -546797486,
  -692718514,
  1550474646,
  -897503409,
  -1149635740,
  1968128804,
  783444124,
  -670898187,
  1108203484,
  721635550,
  913355815,
  504496126,
  -940028671,
  1900918853,
  -131635081,
  -1193673229,
  793835701,
  1756695540,
  786516704,
  -188216212,
  1112867010,
  -602193413,
  -1595554273,
  1442257884,
  182927596,
  -1706328824,
  -1027708721,
  1109738230,
  -1299353512,
  -2073880519,
  2074400708,
  1013569222,
  -142535504,
  -1589469855,
  -1106768304,
  -543484533,
  1244235272,
  -131848269,
  -375717688,
  -1961877454,
  -699322936,
  -1243879464,
  1758811215,
  -1344788235,
  -1585840896,
  -1807541195,
  -1541342650,
  1265536616,
  -103877816,
  1221796246,
  -1229455844,
  833364703,
  1300299956,
  1866878940,
  -1540945839,
  -417518087,
  872046035,
  -664864254,
  -782757942,
  -700592637,
  -1620536077,
  2094142160,
  -890176699,
  -1420069127,
  1311156901,
  615540830,
  741219557,
  -307962644,
  1545522947,
  1562931183,
  -1871871508,
  1816347499,
  -504158836,
  1263770919,
  -1234684405,
  788305462,
  373825324,
  1229324316,
  -479920943,
  534784095,
  -398236652,
  -1347,
  1887416661,
  598508293,
  -1983739651,
  679405653,
  -531519849,
  -1236438304,
  -461019046,
  1497314341,
  -1283457715,
  219119365,
  1058362164,
  -683745748,
  530203330,
  1409143647,
  -695218732,
  -208933646,
  -1422464824,
  -143104770,
  1995907454,
  1107509989,
  1433480530,
  2129638013,
  2084191829,
  -1409256955,
  -771751726,
  -61421039,
  213710683,
  340482324,
  -1123921405,
  2117632,
  1974914560,
  14597881,
  18303642,
  1080626790,
  1547103537,
  65577531,
  377491136,
  -1159331587,
  -995951681,
  877266027,
  -1862263552,
  67119728,
  -1167498240,
  -1560267441,
  1078463972,
  -1150969874,
  572420716,
  793198861,
  -577805523,
  67517246,
  170820719,
  1881263630,
  -948581521,
  1424359462,
  1628357166,
  -1837231500,
  1017048575,
  10185472,
  1587019785,
  1149370368,
  -922745073,
  -587481933,
  846855180,
  10726804,
  -1160744375,
  -943460677,
  504234150,
  1173677911,
  2146776720,
  625466123,
  91553939,
  229681968,
  -2040750198,
  465242844,
  1263315080,
  -583261349,
  2095804257,
  1391507426,
  -550113536,
  1838078057,
  1359762234,
  889214527,
  -1233200067,
  -1417421482,
  1946684730,
  1308557355,
  1417802999,
  1686452733,
  956324110,
  -1926493909,
  599751713,
  -135381146,
  421325498,
  -586171706,
  477119026,
  1275938621,
  -1150597736,
  -100410523,
  222933250,
  2041388440,
  -1111623331,
  -65995363,
  1593882885,
  -695662559,
  -2085744799,
  -1898884853,
  1410503481,
  1888411300,
  604267715,
  -2113920565,
  383605480,
  -38636327,
  884242,
  -2145745527,
  1356665600,
  1309779419,
  -1372052377,
  103350391,
  2113402652,
  -349752906,
  -2044971907,
  309962756,
  -1019883299,
  -1641665875,
  1396640722,
  -549556739,
  -1832870009,
  -1862214912,
  510950415,
  -1227292183,
  -1264732321,
  993559737,
  189137848,
  375967822,
  300218972,
  -419096074,
  1707389642,
  -663328501,
  -1211125267,
  7540067,
  1493329544,
  -1490331502,
  1673740961,
  -544745230,
  739693097,
  1561127746,
  1842744563,
  -1825423548,
  -1161510543,
  621200850,
  1471506437,
  429629950,
  -1017443302,
  -1550202547,
  1505113820,
  15336004,
  654426393,
  -577997797,
  368049185,
  -1125188510,
  -1312624741,
  -1442116509,
  1377172486,
  -553010408,
  487552434,
  46991865,
  1460782968,
  216563581,
  -236908530,
  1522767421,
  1768528397,
  -1016167565,
  -547047274,
  -1413171476,
  -1211866539,
  -2046307808,
  -733830946,
  607041603,
  1767952469,
  1146147691,
  -1773151415,
  1008403296,
  -745978953,
  2085945700,
  -1872927776,
  154692917,
  -1025611594,
  109707125,
  27842827,
  -1063497625,
  -214460713,
  1417058424,
  1801718888,
  118105863,
  503606081,
  -674967488,
  -845395352,
  -613920300,
  920970025,
  1980509654,
  -648818101,
  -1342251634,
  -1349236351,
  -597327442,
  879179858,
  1763949637,
  1708949374,
  -462913432,
  -603066367,
  -128052498,
  1205288259,
  -1762672794,
  -1244549520,
  1372787025,
  1138423803,
  663336818,
  1779670276,
  913392718,
  2092887888,
  875917032,
  1932618083,
  56772198,
  244082931,
  1698589721,
  -1912454910,
  -1602533637,
  -570030463,
  -737486992,
  -1294203096,
  -897060121,
  1758941046,
  2045949430,
  -810495761,
  244188964,
  1325553252,
  -977759536,
  2027667702,
  -1412372840,
  1348950374,
  -335333866,
  151736700,
  -1992542656,
  71869662,
  1258333997,
  409372951,
  -1002638895,
  -10650172,
  1866679542,
  1928648704,
  1749513015,
  1045499754,
  2119774080,
  704083872,
  173228293,
  -552454230,
  2110811657,
  382512119,
  -388974570,
  352463313,
  1754360915,
  96592091,
  560083675,
  1357105680,
  -235714485,
  1815587333,
  1907784766,
  1756921808,
  112996826,
  -1955396832
}; // weak


//----- (00413300) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebp>)
{
  int *v4; // esi
  int *v5; // edi
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  unsigned int v11; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  bool v16; // zf
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  unsigned int v20; // eax
  int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ebx
  int v25; // ett
  BOOL v26; // ecx
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ebx
  int v35; // ett
  bool v36; // zf
  int v37; // ebx
  int v38; // ett
  unsigned int v39; // ecx
  char *v40; // edx
  char v41; // al
  int v42; // eax
  bool v43; // cc
  int *v44; // esi
  int *v45; // edi
  int v46; // ecx
  char v47; // al
  unsigned __int8 v48; // al
  int v49; // eax
  int v50; // eax
  char v51; // t0
  unsigned __int8 v52; // bl
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__cdecl *v61)(int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  int v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v72 = &v76;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v4 = dword_40C000;
  v5 = &dword_40C000[-11264];
  v67 = &dword_40C000[-11264];
  while ( 1 )
  {
    v9 = *v4;
    v7 = (unsigned int)v4++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v4;
        v4 = (int *)((char *)v4 + 1);
        *(_BYTE *)v5 = v6;
        v5 = (int *)((char *)v5 + 1);
      }
      else
      {
        v11 = 1;
        while ( 1 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v11 += v12 + v11;
          v7 = __CFADD__(v13, v13);
          v16 = 2 * v13 == 0;
          v8 = 2 * v13;
          if ( v7 )
          {
            if ( !v16 )
              break;
            v17 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v18 = v7 + v17;
            v7 = __CFADD__(v7, v17) | __CFADD__(v17, v18);
            v8 = v17 + v18;
            if ( v7 )
              break;
          }
        }
        v7 = v11 < 3;
        v19 = v11 - 3;
        if ( !v7 )
        {
          v20 = v19 << 8;
          LOBYTE(v20) = *(_BYTE *)v4;
          v4 = (int *)((char *)v4 + 1);
          v21 = ~v20;
          if ( !v21 )
          {
            v44 = v67;
            v45 = v67;
            v46 = 67;
            while ( 1 )
            {
              v47 = *(_BYTE *)v45;
              v45 = (int *)((char *)v45 + 1);
              v48 = v47 + 24;
              while ( v48 <= 1u && *(_BYTE *)v45 == 1 )
              {
                v49 = *v45;
                LOWORD(v49) = BYTE1(*v45);
                v50 = __ROL4__(v49, 16);
                v51 = v50;
                LOBYTE(v50) = BYTE1(v50);
                BYTE1(v50) = v51;
                v52 = *((_BYTE *)v45 + 4) + 24;
                *v45 = (int)v44 + v50 - (_DWORD)v45;
                v45 = (int *)((char *)v45 + 5);
                v48 = v52;
                if ( !--v46 )
                {
                  v53 = (char *)(v44 + 17408);
LABEL_38:
                  v54 = *(_DWORD *)v53;
                  if ( *(_DWORD *)v53 )
                  {
                    v55 = (int *)((char *)v44 + *((_DWORD *)v53 + 1));
                    v53 += 8;
                    v56 = ((int (__cdecl *)(int, int, int, int, int, int *, int, int, int))v44[19697])(
                            (int)v44 + v54 + 78668,
                            v68,
                            v69,
                            v70,
                            v71,
                            v72,
                            v73,
                            v74,
                            v75);
                    while ( 1 )
                    {
                      v57 = *v53++;
                      if ( !v57 )
                        goto LABEL_38;
                      v58 = v53;
                      v66 = v53;
                      v59 = v57 - 1;
                      do
                      {
                        if ( !v58 )
                          break;
                        v16 = *v53++ == (char)v59;
                        --v58;
                      }
                      while ( !v16 );
                      v60 = ((int (__cdecl *)(int, char *))v44[19698])(v56, v66);
                      if ( !v60 )
                        break;
                      *v55++ = v60;
                    }
                    v54 = ((int (*)(void))v44[19702])();
                  }
                  v61 = (void (__cdecl *)(int *, int, int, int *))v44[19699];
                  v62 = v44 - 1024;
                  v64 = v54;
                  v61(v44 - 1024, 4096, 4, &v64);
                  *((_BYTE *)v62 + 527) &= ~0x80u;
                  *((_BYTE *)v62 + 567) &= ~0x80u;
                  v61(v44 - 1024, 4096, v63[0], v63);
                  do
                    v64 = 0;
                  while ( &v64 != &v65 - 32 );
                  JUMPOUT(0x401963);
                }
              }
            }
          }
          a4 = v21;
        }
        v22 = __CFADD__(v8, v8);
        v23 = 2 * v8;
        if ( !v23 )
        {
          v24 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v25 = v7 + v24;
          v22 = __CFADD__(v7, v24) | __CFADD__(v24, v25);
          v23 = v24 + v25;
        }
        v26 = v22;
        v27 = __CFADD__(v23, v23);
        v8 = 2 * v23;
        if ( !v8 )
        {
          v28 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v29 = v7 + v28;
          v27 = __CFADD__(v7, v28) | __CFADD__(v28, v29);
          v8 = v28 + v29;
        }
        v30 = v26 + v27 + v26;
        if ( !v30 )
        {
          v31 = 1;
          while ( 1 )
          {
            v32 = __CFADD__(v8, v8);
            v33 = 2 * v8;
            if ( !v33 )
            {
              v34 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v35 = v7 + v34;
              v32 = __CFADD__(v7, v34) | __CFADD__(v34, v35);
              v33 = v34 + v35;
            }
            v31 += v32 + v31;
            v7 = __CFADD__(v33, v33);
            v36 = 2 * v33 == 0;
            v8 = 2 * v33;
            if ( v7 )
            {
              if ( !v36 )
                break;
              v37 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v38 = v7 + v37;
              v7 = __CFADD__(v7, v37) | __CFADD__(v37, v38);
              v8 = v37 + v38;
              if ( v7 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v39 = (a4 < 0xFFFFF300) + v30 + 1;
        v40 = (char *)v5 + a4;
        if ( a4 <= 0xFFFFFFFC )
        {
          do
          {
            v42 = *(_DWORD *)v40;
            v40 += 4;
            *v5++ = v42;
            v43 = v39 <= 4;
            v39 -= 4;
          }
          while ( !v43 );
          v5 = (int *)((char *)v5 + v39);
        }
        else
        {
          do
          {
            v41 = *v40++;
            *(_BYTE *)v5 = v41;
            v5 = (int *)((char *)v5 + 1);
            --v39;
          }
          while ( v39 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 413483: positive sp value 50 has been found
// 413483: control flows out of bounds to 401963
// 40C000: using guessed type int dword_40C000[512];
// 413300: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
