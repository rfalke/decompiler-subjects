/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

// void __usercall sub_401039(int@<edx>, int@<ecx>, int@<ebx>, int@<edi>);
void __fastcall sub_401059(int);
// int __usercall sub_4010A6@<eax>(int@<edx>, int@<ecx>, int@<ebx>, int@<edi>);
// void __usercall sub_4010E0(int@<ebx>, int@<edi>, int@<esi>);
// int __usercall sub_4011AC@<eax>(int@<edx>, int@<ecx>, int@<edi>, int@<esi>);
// int __usercall sub_4011FA@<eax>(int@<eax>, int@<esi>);
// int __usercall sub_40127F@<eax>(int result@<eax>);
// void __usercall sub_4012F0(int@<ecx>, int@<ebx>, int@<ebp>);
// void __usercall sub_40132B(__int32@<edx>, int@<ebp>, int@<edi>);
// void __usercall sub_40136B(int@<eax>, int@<edx>);
// int __usercall sub_4013DB@<eax>(int@<eax>, int@<edx>, int@<ecx>, int@<ebx>, int@<edi>, int@<esi>, double@<st0>);
int sub_40149C();
// void __usercall sub_4014BA(int@<edx>, int@<ecx>, __int16@<bx>, __int32@<esi>);
void __fastcall sub_401522(int, int);
// void __usercall sub_401550(int@<eax>, int@<ebp>);
// void __usercall sub_4015B0(int@<eax>, int@<edx>, __int32@<ecx>, int@<esi>);
// int __usercall sub_40161C@<eax>(int@<eax>, int@<edx>, int@<ecx>, int@<ebx>, int@<ebp>, int@<esi>);
// int __usercall sub_401639@<eax>(int@<eax>, int@<ecx>, __int32@<ebx>, int@<ebp>);
// void __usercall sub_4016BA(int@<ecx>, int@<ebp>, int@<edi>, int@<esi>);
void sub_4016ED();
// void __usercall start(int@<eax>, int@<ecx>, int@<ebx>, int@<edi>);
// void __usercall sub_4024B3(__int32@<ebx>);
// void __usercall sub_402502(char@<ah>, int@<edx>, int@<ecx>, int@<ebx>, int@<edi>);
void sub_402544();
// void __usercall sub_402603(int@<ebx>, int@<esi>);
// void __usercall sub_40261E(char@<al>, int@<edx>, int@<ecx>, int@<ebx>, __int32@<esi>);
// void __usercall sub_402657(char@<al>, int@<edx>, int@<ecx>, char@<bh>);
// void __usercall sub_40268D(int@<eax>, int@<edx>, int@<ecx>, __int16@<bx>);
// void __usercall sub_4026D9(char@<ah>, int@<edx>, int@<ecx>, char@<bl>);
void sub_402776();
// int __usercall sub_4027B4@<eax>(char@<al>, int@<ecx>, int@<esi>);
// int __usercall sub_4027CB@<eax>(int@<edx>, int@<ecx>, int@<esi>);
int __fastcall sub_402806(int, int);
// void __usercall sub_40283C(int@<ebp>);
// void __usercall sub_402872(__int32@<edi>);
void sub_4028FF();
// void __usercall sub_402921(__int32@<eax>);
void sub_402929();
// void __usercall sub_40295A(__int32@<eax>, int@<ebp>);
// void __usercall sub_402993(int@<eax>, char@<dl>, int@<ecx>, int@<edi>, int@<esi>);
// void __usercall sub_402A04(int@<eax>, int@<edx>, char@<ch>, char@<bl>, int@<esi>);
// void __usercall sub_402A6E(int@<eax>, int@<edx>, int@<ecx>, char@<bh>);
void sub_402A85();
void sub_402ADA();
// void __usercall sub_402BCD(int@<ebp>);
// void __usercall sub_402BE7(int@<eax>, int@<edx>, int@<ecx>);
_DWORD sub_402C3F(); // weak
// int __usercall sub_402C63@<eax>(int@<eax>, int _ECX@<ecx>, __int32@<ebx>, int@<edi>);
void __thiscall sub_402CA1(void *this);
void sub_402D34();
// void __usercall sub_402D8E(int@<eax>, int@<edx>, int@<ecx>, int@<edi>);
// void __usercall sub_402DE0(int@<eax>, int@<edx>, char@<ch>, int@<ebx>, int@<edi>, int@<esi>);
// void __usercall sub_402E51(char@<ah>, int@<edx>, int@<ecx>);
// int __usercall sub_402F01@<eax>(int@<eax>, int@<edx>, __int16@<cx>, int@<ebx>, int@<edi>, int@<esi>);
void sub_402F5A();
// void __usercall sub_402F9B(int@<eax>, int@<edx>, __int16@<cx>, int@<esi>);
void sub_402FD8();
void sub_403035();
// void __usercall sub_40306E(int@<eax>, __int32@<ecx>);
// void __usercall sub_4030E5(char@<al>, int@<edx>, int@<ecx>, __int32@<ebx>);
void __fastcall sub_40313E(__int32, int);
void sub_4031DC();
// void __usercall sub_403220(int@<edx>, int@<ecx>, int@<ebx>);
void sub_403275();
// int __usercall sub_4032BC@<eax>(char@<ah>, int@<edx>, char@<cl>, int@<ebp>, _DWORD *@<edi>);
// void __usercall sub_403315(char@<al>, int@<edx>, int@<ecx>);
void sub_40336E();

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN loc_40106E; // weak
_UNKNOWN loc_401116; // weak
_UNKNOWN loc_401151; // weak
_UNKNOWN loc_401176; // weak
_UNKNOWN loc_4011DF; // weak
_UNKNOWN loc_401259; // weak
_UNKNOWN loc_401306; // weak
_UNKNOWN loc_401385; // weak
_UNKNOWN loc_40140D; // weak
_UNKNOWN loc_40142E; // weak
_UNKNOWN loc_401468; // weak
_UNKNOWN loc_40153A; // weak
_UNKNOWN loc_401572; // weak
_UNKNOWN loc_4015E2; // weak
_UNKNOWN loc_401705; // weak
_UNKNOWN loc_401746; // weak
_UNKNOWN loc_401790; // weak
_UNKNOWN loc_4024E0; // weak
_UNKNOWN loc_4026C0; // weak
_UNKNOWN loc_402792; // weak
_UNKNOWN loc_4027EC; // weak
_UNKNOWN loc_40281E; // weak
_UNKNOWN loc_4028A8; // weak
_UNKNOWN loc_4028E5; // weak
_UNKNOWN loc_402975; // weak
_UNKNOWN loc_4029EB; // weak
_UNKNOWN loc_402A22; // weak
_UNKNOWN loc_402A3B; // weak
_UNKNOWN loc_402A54; // weak
_UNKNOWN loc_402AA4; // weak
_UNKNOWN loc_402AC0; // weak
_UNKNOWN loc_402C80; // weak
_UNKNOWN loc_402CD7; // weak
_UNKNOWN loc_402CF7; // weak
_UNKNOWN loc_402D0D; // weak
_UNKNOWN loc_402E1E; // weak
_UNKNOWN loc_402E32; // weak
_UNKNOWN loc_402F3F; // weak
_UNKNOWN loc_4030A7; // weak
_UNKNOWN loc_4030C6; // weak
_UNKNOWN loc_40315A; // weak
_UNKNOWN loc_4031FB; // weak
_UNKNOWN loc_4032F5; // weak
_UNKNOWN loc_40332D; // weak
_UNKNOWN loc_403353; // weak
_UNKNOWN loc_40338B; // weak


//----- (00401039) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401039(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>)
{
  int v4; // ecx
  int v5; // ebx
  int v6; // edx
  char v7; // zf
  void *v8; // [esp+1Ch] [ebp-4h]
  void *retaddr; // [esp+20h] [ebp+0h]

  *(&retaddr - 9) = v8;
  v4 = a2 - a4;
  do
  {
    v5 = a1 + a3;
    v6 = a1 - a4;
    a3 = v6 + v5;
    sub_4010A6(v6, (a4 ^ v4) - v6, a3, a4);
    MEMORY[0x263FF8CB]();
  }
  while ( v7 );
  sub_401059(v4);
}
// 40103D: positive sp value 4 has been found
// 401041: variable 'a1' is possibly undefined
// 401043: variable 'v4' is possibly undefined
// 401057: variable 'v7' is possibly undefined

//----- (00401059) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_401059(int a1)
{
  __asm { rep pop eax }
  BYTE1(a1) |= BYTE1(_EAX);
  ((void (__thiscall *)(int))((char *)&loc_40142E + 4))(a1);
  MEMORY[0x3F8556]();
  MEMORY[0x2484A05B]();
  JUMPOUT(0x401073);
}
// 40105E: positive sp value 4 has been found
// 40106E: control flows out of bounds to 401073

//----- (004010A6) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_4010A6@<eax>(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>)
{
  int v5; // [esp+8h] [ebp-8h]
  int v6; // [esp+Ch] [ebp-4h]

  *(&v6 - 5) = v5;
  if ( a4 != -1793578121 )
  {
    v5 = 4200053;
    JUMPOUT(0x4010CB);
  }
  ((void (__fastcall *)(int, int))loc_401259)(a2, (a3 | a1) - 1 - a3);
  return MEMORY[0xF3240C87]();
}
// 4016A6: positive sp value 8 has been found
// 401675: control flows out of bounds to 401677
// 4016AE: control flows out of bounds to 4016B3
// 401670: control flows out of bounds to 4010CB

//----- (004010E0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4010E0(int a1@<ebx>, int a2@<edi>, int a3@<esi>)
{
  char v3; // zf

  ((void (__fastcall *)(int, int))loc_401176)(a1 + a3, a2);
  if ( !v3 )
  {
    MEMORY[0x1CC98525]();
    JUMPOUT(0x401100);
  }
  JUMPOUT(0x4010FA);
}
// 4010E6: positive sp value 4 has been found
// 4010FB: control flows out of bounds to 401100
// 4010F9: control flows out of bounds to 4010FA
// 4010F9: variable 'v3' is possibly undefined

//----- (004011AC) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_4011AC@<eax>(int a1@<edx>, int a2@<ecx>, int a3@<edi>, int a4@<esi>)
{
  int v4; // ebx
  int v6; // ecx
  int v8; // [esp+4h] [ebp-Ch]
  int v9; // [esp+8h] [ebp-8h]

  *(&v9 - 5) = v8;
  v4 = a4 - a2 - 1;
  ((void (__fastcall *)(int, int))loc_401790)(a2, a2 | a1);
  __asm { repne pop edx }
  sub_401039(_EDX - 1, v6, (_EDX - 1) ^ (a3 + 1) ^ (v4 - 1), a3 + 1);
  return MEMORY[0x241C89FF]();
}
// 4011CB: positive sp value C has been found
// 4011D5: variable 'v6' is possibly undefined

//----- (004011FA) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
int __usercall sub_4011FA@<eax>(int a1@<eax>, int a2@<esi>)
{
  int v2; // edi
  int v3; // eax
  int v4; // edx
  int v6; // [esp+10h] [ebp-8h]
  int v7; // [esp+14h] [ebp-4h]

  v2 = a1 | a2;
  v3 = ((int (*)(void))((char *)&loc_401306 + 3))() & 0x25FF74E8;
  *(&v7 - 6) = v6;
  sub_40132B(v3 | v4, v7, v2 - 1);
  return MEMORY[0x74252525]();
}
// 4011FE: positive sp value 4 has been found
// 401210: bad sp value at call
// 4011FA: could not find valid save-restore pair for ebp
// 401224: variable 'v4' is possibly undefined

//----- (0040127F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_40127F@<eax>(int result@<eax>)
{
  if ( !result )
  {
    ((void (*)(void))((char *)&loc_401116 + 1))();
    JUMPOUT(0x4012A2);
  }
  return result;
}
// 401285: positive sp value 4 has been found
// 40129D: control flows out of bounds to 4012A2

//----- (004012F0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4012F0(int a1@<ecx>, int a2@<ebx>, int a3@<ebp>)
{
  __int32 v3; // edx
  char v4; // zf

  ((void (__thiscall *)(int))((char *)&loc_40153A + 1))(a1 - 1);
  if ( !v4 )
    JUMPOUT(0x40130A);
  sub_40132B(v3, a3, a2);
}
// 4012F4: positive sp value 4 has been found
// 401306: control flows out of bounds to 40130A
// 401304: variable 'v4' is possibly undefined
// 401304: variable 'v3' is possibly undefined

//----- (0040132B) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40132B(__int32 a1@<edx>, int a2@<ebp>, int a3@<edi>)
{
  __int32 v4; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v4, a1);
  __asm { repne pop edx }
  sub_401522(a3, _EDX - 1);
  v4 = *(_DWORD *)(a2 - 113);
  JUMPOUT(0x40134F);
}
// 401332: positive sp value 4 has been found
// 40134B: control flows out of bounds to 40134F

//----- (0040136B) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40136B(int a1@<eax>, int a2@<edx>)
{
  __asm { rep pop ecx }
  ((void (__thiscall *)(int))((char *)&loc_40106E + 2))(a1 ^ a2);
  JUMPOUT(0x40138A);
}
// 401372: positive sp value 4 has been found
// 401385: control flows out of bounds to 40138A

//----- (004013DB) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_4013DB@<eax>(
        int a1@<eax>,
        int a2@<edx>,
        int a3@<ecx>,
        int a4@<ebx>,
        int a5@<edi>,
        int a6@<esi>,
        double a7@<st0>)
{
  int v7; // ebx
  int v8; // esi
  int v9; // edx
  int v10; // ecx
  char v11; // zf
  int v12; // eax
  int v13; // edx
  int v14; // esi
  int v15; // eax
  int v16; // ebx
  int v17; // ecx
  int v18; // edx
  int v19; // ecx

  v7 = a1 + a4 - 1;
  v8 = a5 | a6;
  sub_4011AC(a2 - a1, a1 ^ a3, a5, v8);
  if ( !v11 )
    JUMPOUT(0x4013F6);
  v12 = a5;
  do
  {
    v13 = v8 | v9;
    v14 = a5 ^ v8;
    a5 ^= v7;
    v15 = a5 + (v10 ^ (v12 + 1));
    v8 = v15 + v14;
    v7 ^= v13;
    v12 = sub_4011FA(v15, v8);
  }
  while ( v11 );
  MEMORY[0x884013A7]();
  BYTE1(v7) += v7;
  v16 = v8 + v7;
  BYTE1(v17) = -3;
  ((void (__thiscall *)(int))((char *)&loc_401705 + 4))(v17);
  if ( !v11 )
  {
    *(_DWORD *)(v18 - 668247580) = (int)a7;
    JUMPOUT(0x4013F5);
  }
  ((void (__usercall *)(double@<st0>))((char *)&loc_40140D + 3))(a7);
  ((void (__fastcall *)(int, _DWORD))((char *)&loc_401746 + 2))(
    v19 - (*(_DWORD *)(5 * v19 + 0x34) + v16),
    *(_DWORD *)(5 * v19 + 0x34));
  if ( v11 )
    JUMPOUT(0x401495);
  return MEMORY[0x2574E8E8]();
}
// 401439: positive sp value 8 has been found
// 4013F1: control flows out of bounds to 4013F6
// 40145D: control flows out of bounds to 4013F5
// 401448: control flows out of bounds to 4014BE
// 401466: control flows out of bounds to 401467
// 401494: control flows out of bounds to 401495
// 4013ED: variable 'v11' is possibly undefined
// 401419: variable 'v9' is possibly undefined
// 401417: variable 'v10' is possibly undefined
// 401441: variable 'v17' is possibly undefined
// 40144F: variable 'v18' is possibly undefined
// 40148D: variable 'v19' is possibly undefined

//----- (0040149C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int sub_40149C()
{
  ((void (*)(void))((char *)&loc_401572 + 1))();
  return MEMORY[0xFFFF2525]();
}
// 4014A0: positive sp value 4 has been found

//----- (004014BA) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4014BA(int a1@<edx>, int a2@<ecx>, __int16 a3@<bx>, __int32 a4@<esi>)
{
  __int32 v4; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v4, a4);
  BYTE1(a2) ^= (_BYTE)a3 + HIBYTE(a3);
  ((void (__fastcall *)(int, int))((char *)&loc_4015E2 + 1))(a2 + 1, a1);
  JUMPOUT(0x4014D5);
}
// 4014C0: positive sp value 4 has been found
// 4014D0: control flows out of bounds to 4014D5

//----- (00401522) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_401522(int a1, int a2)
{
  ((void (__fastcall *)(int, int))((char *)&loc_401468 + 2))(a1 + 1, a2 + 1);
  MEMORY[0x28FDAE]();
  JUMPOUT(0x40153F);
}
// 401528: positive sp value 4 has been found
// 40153A: control flows out of bounds to 40153F

//----- (00401550) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401550(int a1@<eax>, int a2@<ebp>)
{
  void *v2; // [esp+8h] [ebp-4h]
  void *retaddr; // [esp+Ch] [ebp+0h]

  *(&retaddr - 4) = v2;
  v2 = *(void **)(a1 + 144);
  sub_4016ED();
  --*(_DWORD *)(a2 + 721691748);
  JUMPOUT(0x401578);
}
// 401554: positive sp value 4 has been found
// 401572: control flows out of bounds to 401578

//----- (004015B0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4015B0(int a1@<eax>, int a2@<edx>, __int32 a3@<ecx>, int a4@<esi>)
{
  int v4; // [esp-4h] [ebp-8h]
  __int32 v5; // [esp+0h] [ebp-4h] BYREF

  _InterlockedExchange(&v5, a3);
  ((void (__fastcall *)(__int32, int))loc_401151)(v5, (v4 | a4 | v4 ^ a2) - a1);
  MEMORY[0x8A3FFECA]();
  JUMPOUT(0x4015CB);
}
// 4015B7: positive sp value 4 has been found
// 4015C6: control flows out of bounds to 4015CB
// 4015B9: variable 'v4' is possibly undefined

//----- (0040161C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_40161C@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<esi>)
{
  __int32 v6; // ebx
  int v7; // eax
  int v8; // ecx

  v6 = a6 - (a4 + 1) - a1;
  ((void (__fastcall *)(int, int))((char *)&loc_4011DF + 3))(a1 ^ a3, a1 + a2);
  v7 = MEMORY[0x25B48B21]();
  return sub_401639(v7, v8, v6, a5);
}
// 401622: positive sp value 4 has been found
// 401635: variable 'v8' is possibly undefined

//----- (00401639) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_401639@<eax>(int a1@<eax>, int a2@<ecx>, __int32 a3@<ebx>, int a4@<ebp>)
{
  __int32 v6; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v6, a3);
  __asm { repne pop ebx }
  sub_4012F0(a2 - a1, _EBX + 1, a4);
  return MEMORY[0x24648D74]();
}
// 401644: positive sp value 4 has been found

//----- (004016BA) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4016BA(int a1@<ecx>, int a2@<ebp>, int a3@<edi>, int a4@<esi>)
{
  int v4; // eax

  sub_4010E0(a3 + a4, a1 + 1, a3 + a4);
  MEMORY[0x2474A0C0](*(_DWORD *)(v4 + 8 * a2 + 116));
  JUMPOUT(0x4016D8);
}
// 4016BE: positive sp value 4 has been found
// 4016D3: control flows out of bounds to 4016D8
// 4016CF: variable 'v4' is possibly undefined

//----- (004016ED) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4016ED()
{
  char v0; // zf

  ((void (*)(void))((char *)&loc_401385 + 4))();
  if ( !v0 )
  {
    MEMORY[0x8965FF2F]();
    JUMPOUT(0x40170A);
  }
  JUMPOUT(0x401704);
}
// 4016F1: positive sp value 4 has been found
// 401705: control flows out of bounds to 40170A
// 401703: control flows out of bounds to 401704
// 401703: variable 'v0' is possibly undefined

//----- (00401779) --------------------------------------------------------
void __usercall start(int a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>)
{
  int savedregs; // [esp+0h] [ebp+0h] BYREF

  if ( (sub_401639(a1, a2 - a3, a4 ^ a3, (int)&savedregs) & 0x74FFFFFF) != 0 )
    JUMPOUT(0x401790);
  JUMPOUT(0x40178F);
}
// 40178E: control flows out of bounds to 401790
// 40178E: control flows out of bounds to 40178F

//----- (004024B3) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4024B3(__int32 a1@<ebx>)
{
  __int32 v1; // [esp-8h] [ebp-8h] BYREF

  _InterlockedExchange(&v1, a1);
  ((void (*)(void))((char *)&loc_40315A + 1))();
  MEMORY[0x290DC6]();
  MEMORY[0x2484B4B4]();
  JUMPOUT(0x4024CC);
}
// 4024BB: positive sp value 8 has been found
// 4024C7: control flows out of bounds to 4024CC

//----- (00402502) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402502(char a1@<ah>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<edi>)
{
  int v5; // edi
  int v6; // edx

  LOBYTE(a4) = a1;
  v5 = a5 + 1;
  v6 = v5 | a4 | a2;
  LOBYTE(v6) = v6 - BYTE1(v6);
  ((int (__fastcall *)(int, int))((char *)&loc_4029EB + 4))(a3 << 15, v6);
  --*(_DWORD *)(v5 - 1043061692);
  JUMPOUT(0x402529);
}
// 402506: positive sp value 4 has been found
// 402523: control flows out of bounds to 402529

//----- (00402544) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402544()
{
  ((void (*)(void))loc_402D0D)();
  MEMORY[0x88400E61]();
  JUMPOUT(0x402562);
}
// 402548: positive sp value 4 has been found
// 40255D: control flows out of bounds to 402562

//----- (00402603) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402603(int a1@<ebx>, int a2@<esi>)
{
  char v2; // al
  int v3; // edx
  int v4; // ecx
  void *v5; // [esp+24h] [ebp-4h]
  void *retaddr; // [esp+28h] [ebp+0h]

  *(&retaddr - 11) = v5;
  ((void (*)(void))((char *)&loc_4032F5 + 5))();
  v2 = MEMORY[0x26284C1D]();
  sub_40261E(v2, v3, v4, a1, a2 ^ 0xA72940DF);
}
// 402607: positive sp value 4 has been found
// 40261A: variable 'v3' is possibly undefined
// 40261A: variable 'v4' is possibly undefined

//----- (0040261E) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40261E(char a1@<al>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, __int32 a5@<esi>)
{
  __int32 v5; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v5, a5);
  BYTE1(a2) += BYTE1(a4);
  LOBYTE(a2) = -(char)a2;
  sub_4030E5(a1, a2, a3, a4 - v5);
  MEMORY[0x25662637]();
  JUMPOUT(0x402638);
}
// 402624: positive sp value 4 has been found
// 402633: control flows out of bounds to 402638

//----- (00402657) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402657(char a1@<al>, int a2@<edx>, int a3@<ecx>, char a4@<bh>)
{
  __int16 v4; // ax
  char v5; // zf
  void *v6; // [esp+14h] [ebp-4h]
  void *retaddr; // [esp+18h] [ebp+0h]

  *(&retaddr - 7) = v6;
  LOBYTE(a2) = -(char)a2;
  HIBYTE(v4) = a4 | 0x37;
  LOBYTE(v4) = (a4 | 0x37) ^ a1;
  BYTE1(a2) = -(char)(BYTE1(a3) + BYTE1(a2));
  sub_402A6E(v4, a3 + a2, a3, a4);
  if ( !v5 )
  {
    MEMORY[0xCC80F76]();
    JUMPOUT(0x402677);
  }
  JUMPOUT(0x402697);
}
// 40265B: positive sp value 4 has been found
// 402672: control flows out of bounds to 402677
// 402670: control flows out of bounds to 402697
// 402670: variable 'v5' is possibly undefined

//----- (0040268D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40268D(int a1@<eax>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>)
{
  int v4; // edx
  void *v5; // ecx
  void *v6; // [esp+20h] [ebp-4h]
  void *retaddr; // [esp+24h] [ebp+0h]

  LOBYTE(a2) = -(char)a2;
  v4 = a1 ^ a2;
  BYTE1(v4) += HIBYTE(a4);
  LOBYTE(a3) = a3 - a4;
  sub_402BE7(a1, v4, a1 + a3);
  *(&retaddr - 11) = v6;
  sub_402CA1(v5);
  MEMORY[0x87B526C4]();
  JUMPOUT(0x4026C5);
}
// 4026AD: positive sp value 8 has been found
// 4026C0: control flows out of bounds to 4026C5
// 4026BB: variable 'v5' is possibly undefined

//----- (004026D9) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4026D9(char a1@<ah>, int a2@<edx>, int a3@<ecx>, char a4@<bl>)
{
  int v4; // ecx

  v4 = a2 ^ a3;
  LOBYTE(v4) = a2;
  LOBYTE(a2) = a1 + a2;
  BYTE1(v4) += v4;
  LOBYTE(v4) = a4;
  ((void (__fastcall *)(int, int))((char *)&loc_402F3F + 2))(v4, a2);
  MEMORY[0x264026F2]();
  MEMORY[0xD4646B87]();
  JUMPOUT(0x4026F8);
}
// 4026DD: positive sp value 4 has been found
// 4026F3: control flows out of bounds to 4026F8

//----- (00402776) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402776()
{
  sub_4031DC();
  MEMORY[0x2474B196]();
  JUMPOUT(0x402797);
}
// 40277A: positive sp value 4 has been found
// 402792: control flows out of bounds to 402797

//----- (004027B4) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_4027B4@<eax>(char a1@<al>, int a2@<ecx>, int a3@<esi>)
{
  int v3; // edx
  int v4; // ecx
  void *v6; // [esp+10h] [ebp-4h]
  void *retaddr; // [esp+14h] [ebp+0h]

  *(&retaddr - 6) = v6;
  sub_403315(a1, a3, a2);
  MEMORY[0x753F4CF0]();
  return sub_4027CB(v3, v4, a3);
}
// 4027B8: positive sp value 4 has been found
// 4027C7: variable 'v3' is possibly undefined
// 4027C7: variable 'v4' is possibly undefined

//----- (004027CB) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_4027CB@<eax>(int a1@<edx>, int a2@<ecx>, int a3@<esi>)
{
  char v3; // al
  int v4; // ecx
  char v5; // zf
  void *v7; // [esp+18h] [ebp-4h]
  void *retaddr; // [esp+1Ch] [ebp+0h]

  *(&retaddr - 8) = v7;
  LOBYTE(a1) = -(char)a1;
  ((void (__fastcall *)(int, int))loc_4024E0)(a2 + 1, a1);
  v3 = MEMORY[0x262927D2]();
  if ( !v5 )
    JUMPOUT(0x4027EC);
  sub_4027B4(v3, v4, a3);
  return MEMORY[0x2574E825]();
}
// 4027CF: positive sp value 4 has been found
// 4027EA: control flows out of bounds to 4027EC
// 4027EA: variable 'v5' is possibly undefined
// 402867: variable 'v4' is possibly undefined

//----- (00402806) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __fastcall sub_402806(int a1, int a2)
{
  LOBYTE(a1) = BYTE1(a1) ^ a1;
  ((void (__fastcall *)(int, int))loc_402CD7)(a1, a2);
  return MEMORY[0x648D7474]();
}
// 40280D: positive sp value 4 has been found

//----- (0040283C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40283C(int a1@<ebp>)
{
  sub_403035();
  --*(_DWORD *)(a1 + 839132260);
  JUMPOUT(0x40285B);
}
// 402840: positive sp value 4 has been found
// 402855: control flows out of bounds to 40285B

//----- (00402872) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402872(__int32 a1@<edi>)
{
  char v1; // zf
  __int32 v2[2]; // [esp+14h] [ebp-8h] BYREF
  void *retaddr; // [esp+1Ch] [ebp+0h]

  _InterlockedExchange(v2, a1);
  ((int (*)(void))((char *)&loc_40338B + 4))();
  *(&retaddr - 9) = (void *)v2[1];
  ((void (*)(void))loc_402AC0)();
  if ( !v1 )
  {
    MEMORY[0x2484B7D2]();
    JUMPOUT(0x4028AD);
  }
  JUMPOUT(0x40291A);
}
// 40288B: positive sp value 8 has been found
// 4028A8: control flows out of bounds to 4028AD
// 4028A4: control flows out of bounds to 40291A
// 4028A4: variable 'v1' is possibly undefined

//----- (004028FF) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4028FF()
{
  __int32 v0; // eax

  ((void (*)(void))((char *)&loc_402E32 + 4))();
  v0 = MEMORY[0xFF661209]();
  sub_402921(v0);
}
// 402903: positive sp value 4 has been found

//----- (00402921) --------------------------------------------------------
void __usercall sub_402921(__int32 a1@<eax>)
{
  void *retaddr; // [esp+0h] [ebp+0h] BYREF

  _InterlockedExchange((volatile __int32 *)&retaddr, a1);
  sub_402929();
}

//----- (00402929) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402929()
{
  char v0; // zf

  sub_402544();
  if ( !v0 )
  {
    MEMORY[0x75402865]();
    JUMPOUT(0x402945);
  }
  JUMPOUT(0x40293A);
}
// 40292A: positive sp value 4 has been found
// 402940: control flows out of bounds to 402945
// 402939: control flows out of bounds to 40293A
// 402939: variable 'v0' is possibly undefined

//----- (0040295A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40295A(__int32 a1@<eax>, int a2@<ebp>)
{
  __int32 v2; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v2, a1);
  sub_403275();
  MEMORY[0x24A4B69F](*(_DWORD *)(a2 + 37));
  JUMPOUT(0x40297A);
}
// 402960: positive sp value 4 has been found
// 402975: control flows out of bounds to 40297A

//----- (00402993) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402993(int a1@<eax>, char a2@<dl>, int a3@<ecx>, int a4@<edi>, int a5@<esi>)
{
  int v5; // esi
  __int16 v6; // bx
  char v7; // zf
  __int64 v8; // rax
  int v9; // ecx
  __int16 v10; // bx
  char v11; // bl
  int v12; // eax
  unsigned int v13; // eax
  int v14; // esi
  int v15; // eax
  int v16; // edx
  char v17; // ch
  _BYTE *v18; // [esp-10h] [ebp-28h]
  _BYTE *v19; // [esp-Ch] [ebp-24h]
  char v20; // [esp-3h] [ebp-1Bh]

  *(&v19 - 7) = v18;
  HIBYTE(v6) = (unsigned __int16)(*(_WORD *)(a1 + 60) + a1) >> 8;
  v5 = a5 - (a3 + a4 + 1);
  LOBYTE(v6) = -(a2 ^ 0xB);
  ((void (*)(void))((char *)&loc_402A3B + 1))();
  if ( v7 )
    JUMPOUT(0x40299A);
  v8 = MEMORY[0x4648E46]();
  v10 = v9 + v6;
  BYTE1(v9) += HIBYTE(v10);
  LOBYTE(v9) = HIBYTE(v10);
  LODWORD(v8) = *(_DWORD *)HIDWORD(v8);
  BYTE4(v8) ^= BYTE1(v9);
  BYTE1(v9) -= BYTE4(v8);
  sub_402E51(SBYTE1(v8), SHIDWORD(v8), v9);
  v11 = v10 - 2 - v5;
  sub_402D34();
  if ( v7 )
  {
    MEMORY[0xE84BD80B] = v12;
    if ( v20 + *v19 + (_BYTE)v19 )
      JUMPOUT(0x402A6B);
    sub_402C3F();
    if ( !v7 )
      JUMPOUT(0x402AF6);
    JUMPOUT(0x402AD9);
  }
  v13 = v12 & 0x89E8FFE8;
  LOBYTE(v13) = v13 | 0x24;
  v14 = v13 | v5;
  sub_402ADA();
  sub_402929();
  sub_402A04(v15, v16, v17, v11, v14);
}
// 402AE0: positive sp value 28 has been found
// 402A69: control flows out of bounds to 402A6B
// 402AF1: control flows out of bounds to 402AF6
// 4029B0: control flows out of bounds to 40299A
// 402AEF: control flows out of bounds to 402AD9
// 4029B0: variable 'v7' is possibly undefined
// 4029BB: variable 'v9' is possibly undefined
// 4029EB: variable 'v12' is possibly undefined
// 402A00: variable 'v15' is possibly undefined
// 402A00: variable 'v16' is possibly undefined
// 402A00: variable 'v17' is possibly undefined
// 402C3F: using guessed type _DWORD sub_402C3F();

//----- (00402A04) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402A04(int a1@<eax>, int a2@<edx>, char a3@<ch>, char a4@<bl>, int a5@<esi>)
{
  char v6; // zf
  int v7; // [esp-4h] [ebp-4h]

  do
  {
    ++a5;
    v7 = *(_DWORD *)(a2 + 8);
    a4 = BYTE1(a2) + (BYTE1(a1) ^ a4) - a3;
    sub_402A85();
    a1 = MEMORY[0x26289F1F](v7);
  }
  while ( v6 );
  MEMORY[0xE4646EB6]();
  JUMPOUT(0x402A27);
}
// 402A08: positive sp value 4 has been found
// 402A22: control flows out of bounds to 402A27
// 402A0D: variable 'a2' is possibly undefined
// 402A10: variable 'a3' is possibly undefined
// 402A20: variable 'v6' is possibly undefined

//----- (00402A6E) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402A6E(int a1@<eax>, int a2@<edx>, int a3@<ecx>, char a4@<bh>)
{
  int v4; // edx

  LOBYTE(a1) = a4 ^ a1;
  v4 = a2 - a1;
  BYTE1(v4) = 114;
  ((void (__fastcall *)(int, int))((char *)&loc_40281E + 4))(a3, v4);
  sub_402A85();
}
// 402A74: positive sp value 4 has been found

//----- (00402A85) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402A85()
{
  void *v0; // [esp+4h] [ebp-4h]
  void *retaddr; // [esp+8h] [ebp+0h]

  *(&retaddr - 3) = v0;
  if ( (((int (*)(void))((char *)&loc_402975 + 2))() & 0x25742574) != 0 )
    JUMPOUT(0x402AA6);
  JUMPOUT(0x402A35);
}
// 402A89: positive sp value 4 has been found
// 402AA4: control flows out of bounds to 402AA6
// 402AA4: control flows out of bounds to 402A35

//----- (00402ADA) --------------------------------------------------------
void sub_402ADA()
{
  JUMPOUT(0x402ADF);
}
// 402ADE: control flows out of bounds to 402ADF

//----- (00402BCD) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402BCD(int a1@<ebp>)
{
  int v1; // eax
  int v2; // edx
  int v3; // ecx
  char v4; // zf

  v1 = ((int (*)(void))((char *)&loc_4030C6 + 1))();
  if ( v4 )
  {
    sub_40283C(a1);
    if ( !v4 )
    {
      MEMORY[0x8D65514B]();
      sub_402BCD(a1);
      JUMPOUT(0x402C38);
    }
    JUMPOUT(0x402C09);
  }
  sub_402BE7(v1, v2, v3);
}
// 402BD1: positive sp value 4 has been found
// 402C33: control flows out of bounds to 402C38
// 402BE3: control flows out of bounds to 402BE4
// 402BE5: control flows out of bounds to 402BCF
// 402C1F: control flows out of bounds to 402C09
// 402BE5: conditional instruction was optimized away because zf.1==0
// 402BE1: variable 'v4' is possibly undefined
// 402BE6: variable 'v2' is possibly undefined
// 402BE6: variable 'v3' is possibly undefined

//----- (00402BE7) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402BE7(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  int v3; // edx

  v3 = a2 - a1;
  BYTE1(a3) |= v3;
  BYTE1(v3) = (v3 | 0xBE) - BYTE1(a1);
  ((void (__fastcall *)(int, int))((char *)&loc_40332D + 3))(a3, v3);
  JUMPOUT(0x402C01);
}
// 402BEB: positive sp value 4 has been found
// 402BFC: control flows out of bounds to 402C01

//----- (00402C3F) --------------------------------------------------------
#error "402C5F: positive sp value has been found (funcsize=16)"

//----- (00402C63) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_402C63@<eax>(int a1@<eax>, int _ECX@<ecx>, __int32 a3@<ebx>, int a4@<edi>)
{
  __int32 v6; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v6, a3);
  __asm { rep mov ecx, ecx }
  sub_402D8E(a1, _ECX >> 15, _ECX >> 15, a4);
  return MEMORY[0xFF74E8FF]();
}
// 402C6A: positive sp value 4 has been found

//----- (00402CA1) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __thiscall sub_402CA1(void *this)
{
  void *v1; // [esp+24h] [ebp-4h]
  void *retaddr; // [esp+28h] [ebp+0h]

  *(&retaddr - 11) = v1;
  ((void (__fastcall *)(void *, void *))((char *)&loc_4030A7 + 1))(this, this);
  MEMORY[0x247CB6A8]();
  JUMPOUT(0x402CC0);
}
// 402CA5: positive sp value 4 has been found
// 402CBB: control flows out of bounds to 402CC0

//----- (00402D34) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402D34()
{
  JUMPOUT(0x402D3F);
}
// 402D38: positive sp value 4 has been found
// 402D3D: control flows out of bounds to 402D3F

//----- (00402D8E) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402D8E(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<edi>)
{
  int v4; // eax

  LOBYTE(a1) = BYTE1(a2) | a1;
  LOBYTE(a2) = BYTE1(a2);
  sub_402502(SBYTE1(a1), a1 + a2 + 1, a3, -18854, a4);
  if ( (v4 & 0x2574FFFF) != 0 )
    JUMPOUT(0x402DB0);
  ((void (*)(void))((char *)&loc_402AA4 + 1))();
  JUMPOUT(0x402D51);
}
// 402D3F: positive sp value 4 has been found
// 402DAE: control flows out of bounds to 402DB0
// 402D4C: control flows out of bounds to 402D51
// 402DA9: variable 'v4' is possibly undefined

//----- (00402DE0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402DE0(int a1@<eax>, int a2@<edx>, char a3@<ch>, int a4@<ebx>, int a5@<edi>, int a6@<esi>)
{
  char v6; // ch
  int v7; // eax
  int v8; // esi
  __int32 v9; // ebx
  char v10; // zf
  int v11; // ecx
  int v12; // eax
  int v13; // edx
  int v14; // ecx

  v6 = a3 - BYTE1(a4);
  v7 = a2 | a1;
  v8 = v7 | a6;
  LOBYTE(a4) = v7;
  v9 = a5 + a4;
  BYTE1(v9) = v6 | (BYTE1(v9) - v7);
  sub_4024B3(v9);
  if ( !v10 )
    JUMPOUT(0x402E03);
  MEMORY[0xE46472B2]();
  sub_4027CB(v8 | a5, v11, v8);
  MEMORY[0x8E28A25C]();
  sub_402F5A();
  v12 = MEMORY[0x25662D76]();
  sub_402E51(SBYTE1(v12), v13, v14);
}
// 402DE4: positive sp value 4 has been found
// 402DFE: control flows out of bounds to 402E03
// 402DF7: variable 'v10' is possibly undefined
// 402E2D: variable 'v11' is possibly undefined
// 402E4D: variable 'v13' is possibly undefined
// 402E4D: variable 'v14' is possibly undefined

//----- (00402E51) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402E51(char a1@<ah>, int a2@<edx>, int a3@<ecx>)
{
  BYTE1(a2) ^= a3;
  LOBYTE(a2) = a1 | -(char)a2;
  ((void (__fastcall *)(int, int))loc_4028E5)(a3, a2);
  JUMPOUT(0x402E76);
}
// 402E55: positive sp value 4 has been found
// 402E71: control flows out of bounds to 402E76

//----- (00402F01) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_402F01@<eax>(int a1@<eax>, int a2@<edx>, __int16 a3@<cx>, int a4@<ebx>, int a5@<edi>, int a6@<esi>)
{
  int v6; // ebx
  char v7; // zf

  do
  {
    v6 = a2 | a4;
    LOBYTE(v6) = -124;
    --a5;
    a4 = (a1 + 248) ^ v6;
    sub_402F9B(a1, a1 + 248, a3, a6);
  }
  while ( v7 );
  MEMORY[0x50646BAC]();
  ((void (*)(void))((char *)&loc_4031FB + 2))();
  MEMORY[0x7528A427]();
  return MEMORY[0x424648D]();
}
// 402F2A: positive sp value C has been found
// 402F05: variable 'a2' is possibly undefined
// 402F07: variable 'a1' is possibly undefined
// 402F12: variable 'a3' is possibly undefined
// 402F17: variable 'v7' is possibly undefined

//----- (00402F5A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402F5A()
{
  ((void (*)(void))loc_402A54)();
  JUMPOUT(0x402F89);
}
// 402F5F: positive sp value 4 has been found
// 402F88: control flows out of bounds to 402F8D
// 402F7C: control flows out of bounds to 402F89
// 40301A: control flows out of bounds to 402FA9

//----- (00402F9B) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402F9B(int a1@<eax>, int a2@<edx>, __int16 a3@<cx>, int a4@<esi>)
{
  void *v4; // [esp+18h] [ebp-4h]
  void *retaddr; // [esp+1Ch] [ebp+0h]

  *(&retaddr - 8) = v4;
  sub_402A04(a1, a2, SHIBYTE(a3), a1 + a3, a4);
  MEMORY[0xE92917E1]();
  MEMORY[0xCC9A4A9]();
  JUMPOUT(0x402FC1);
}
// 402F9F: positive sp value 4 has been found
// 402FBC: control flows out of bounds to 402FC1

//----- (00402FD8) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402FD8()
{
  ((void (*)(void))loc_403353)();
  JUMPOUT(0x402FFC);
}
// 402FDC: positive sp value 4 has been found
// 402FF7: control flows out of bounds to 402FFC

//----- (00403035) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_403035()
{
  sub_402776();
  JUMPOUT(0x403050);
}
// 403039: positive sp value 4 has been found
// 40304C: control flows out of bounds to 403050

//----- (0040306E) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40306E(int a1@<eax>, __int32 a2@<ecx>)
{
  int v3; // eax
  __int32 v4; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v4, a2);
  __asm { repne pop ecx }
  sub_402921(a1 + 3341716);
  if ( (v3 & 0x257474FF) != 0 )
    JUMPOUT(0x403092);
  JUMPOUT(0x40308C);
}
// 403073: positive sp value 4 has been found
// 40308D: control flows out of bounds to 403092
// 40308B: control flows out of bounds to 40308C
// 403086: variable 'v3' is possibly undefined

//----- (004030E5) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4030E5(char a1@<al>, int a2@<edx>, int a3@<ecx>, __int32 a4@<ebx>)
{
  int v5; // edx
  int v6; // ecx
  int v7; // edx
  __int32 v8; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v8, a4);
  __asm { repne pop ebx }
  v5 = a2 - 1;
  LOBYTE(v5) = a1 + v5;
  v6 = v5 ^ a3;
  BYTE1(v5) ^= v5;
  v7 = v6 + v5;
  LOBYTE(v7) = BYTE1(_EBX) | v7;
  ((void (__fastcall *)(int, int))loc_402C80)(v6, v7);
  MEMORY[0xE866192A]();
  JUMPOUT(0x40310A);
}
// 4030EC: positive sp value 4 has been found
// 403105: control flows out of bounds to 40310A

//----- (0040313E) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_40313E(__int32 a1, int a2)
{
  __int32 v2; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v2, a1);
  LOBYTE(a2) = a2 - BYTE1(a2);
  sub_402806(v2, a2);
  MEMORY[0x46495EC]();
  JUMPOUT(0x40315F);
}
// 403146: positive sp value 4 has been found
// 40315A: control flows out of bounds to 40315F

//----- (004031DC) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4031DC()
{
  ((void (*)(void))((char *)&loc_402A22 + 1))();
  MEMORY[0x2454B974]();
  JUMPOUT(0x403200);
}
// 4031E0: positive sp value 4 has been found
// 4031FB: control flows out of bounds to 403200

//----- (00403220) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_403220(int a1@<edx>, int a2@<ecx>, int a3@<ebx>)
{
  LOBYTE(a3) = -(char)a3 - BYTE1(a2);
  ((void (__fastcall *)(int, int))loc_4027EC)(a2, a3 + a1 - 1);
  JUMPOUT(0x40323C);
}
// 403227: positive sp value 4 has been found
// 403237: control flows out of bounds to 40323C

//----- (00403275) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_403275()
{
  ((void (*)(void))((char *)&loc_4026C0 + 4))();
  MEMORY[0xE9401B8D]();
  MEMORY[0x44D0327B]();
  JUMPOUT(0x403293);
}
// 403279: positive sp value 4 has been found
// 40328E: control flows out of bounds to 403293

//----- (004032BC) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_4032BC@<eax>(char a1@<ah>, int a2@<edx>, char a3@<cl>, int a4@<ebp>, _DWORD *a5@<edi>)
{
  __int16 v5; // cx
  _DWORD *v6; // ebx
  int v7; // eax
  int v9; // [esp-4h] [ebp-4h]

  LOBYTE(v5) = a1 | (BYTE1(a2) - a3);
  v6 = a5;
  BYTE1(v6) -= (_BYTE)v6;
  HIBYTE(v5) = -96;
  v7 = ((int (__fastcall *)(__int16, int))loc_402CF7)(v5, a2 - 904476354);
  v9 = *(_DWORD *)(a4 - 24);
  --a5[217450769];
  ((void (__cdecl *)(_DWORD, int))((char *)&loc_402792 + 2))(*(_DWORD *)(*v6 * v7 + 0x10), v9);
  return MEMORY[0x89257474]();
}
// 4032DD: positive sp value 8 has been found

//----- (00403315) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_403315(char a1@<al>, int a2@<edx>, int a3@<ecx>)
{
  int v3; // edx
  char v4; // zf
  void *v5; // [esp+2Ch] [ebp-4h]
  void *retaddr; // [esp+30h] [ebp+0h]

  *(&retaddr - 13) = v5;
  LOBYTE(a2) = BYTE1(a2) + a2;
  v3 = a2 - 1;
  BYTE1(v3) = a1 - 96;
  ((void (__fastcall *)(int, int))((char *)&loc_402E1E + 1))(a3, v3);
  if ( !v4 )
  {
    MEMORY[0x34C95931]();
    JUMPOUT(0x403332);
  }
  JUMPOUT(0x4033A1);
}
// 403319: positive sp value 4 has been found
// 40332D: control flows out of bounds to 403332
// 40332B: control flows out of bounds to 4033A1
// 40332B: variable 'v4' is possibly undefined

//----- (0040336E) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40336E()
{
  char v0; // zf

  ((void (*)(void))((char *)&loc_4028A8 + 2))();
  if ( !v0 )
    JUMPOUT(0x403390);
  JUMPOUT(0x4033B0);
}
// 403372: positive sp value 4 has been found
// 40338B: control flows out of bounds to 403390
// 403389: control flows out of bounds to 4033B0
// 403389: variable 'v0' is possibly undefined

// nfuncs=67 queued=67 decompiled=67 lumina nreq=0 worse=0 better=0
#error "There were 1 decompilation failure(s) on 67 function(s)"
