/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, int@<edx>, int@<ecx>, unsigned int@<ebp>);

//-------------------------------------------------------------------------
// Data declarations

int dword_43E000[512] =
{
  -4718593,
  1362606848,
  -117243838,
  15272522,
  3408384,
  1690300811,
  1129211252,
  -1031679997,
  -1209157772,
  1164272895,
  2389131,
  -750648853,
  -1948777654,
  1895763193,
  -2124752572,
  -294913,
  1918464747,
  267551488,
  1790697219,
  -91525019,
  892584833,
  1196556406,
  1665515339,
  -1212711062,
  -1891172097,
  -360644538,
  -1961736371,
  1782598367,
  -1085877365,
  -1254031356,
  -1948291089,
  956371146,
  1128812612,
  4707769,
  -294895282,
  -1213120,
  -2029830983,
  -947793051,
  1986820210,
  10122170,
  -1213364698,
  -153354529,
  829765156,
  -293516800,
  -2129889170,
  946912448,
  1348802181,
  1539014477,
  -964596997,
  1330393929,
  1798531320,
  852058,
  1682794431,
  164650851,
  -838647042,
  1917305217,
  149215062,
  -570205994,
  -1147410871,
  13507379,
  -1185895095,
  1350001477,
  -33850497,
  1505640906,
  -824888499,
  -1160247101,
  1313493350,
  1431365761,
  1606640712,
  739773691,
  1103120264,
  1782825886,
  -538157972,
  1229218016,
  -1336292646,
  -788577792,
  -260880705,
  460038399,
  708326226,
  1255079750,
  1263486406,
  -689063308,
  1852038074,
  1204368154,
  -748527999,
  1886009158,
  2069612566,
  1150023408,
  -1035666396,
  1600747121,
  -364315027,
  1438110091,
  1151339958,
  -570183592,
  1312344587,
  -839148776,
  -658966017,
  -2119022714,
  -1151774526,
  1951544650,
  1104320833,
  -343941298,
  608615134,
  -123840694,
  1733192169,
  -704425216,
  -276488631,
  931830287,
  5590507,
  -1909067636,
  1863188107,
  -1974766205,
  863619686,
  1463184780,
  1860067693,
  1835152226,
  1790572866,
  1979723092,
  -1150434434,
  1363400730,
  573655108,
  -598326448,
  5261428,
  -1224383304,
  1113651169,
  1752189206,
  2053194458,
  1594181738,
  -2022406276,
  -1102905310,
  -1958003080,
  -1403437882,
  1099564795,
  -148688426,
  121824630,
  -447217285,
  592381800,
  1680161568,
  -516215690,
  234390797,
  1332137401,
  1705714797,
  -1355085701,
  1187880991,
  470654702,
  -786464389,
  218190971,
  913744788,
  444405714,
  24869389,
  -935779825,
  2063629130,
  -939408180,
  1148681348,
  -1867626788,
  1665477593,
  -585023486,
  -1531507424,
  -1156295931,
  -898544485,
  -703509221,
  884337787,
  -1072310140,
  209748785,
  -1648227280,
  1081533450,
  1060864050,
  -2107364508,
  -397593589,
  -2035449245,
  -1650512600,
  -594768096,
  259751777,
  2004614437,
  1918668580,
  2064496055,
  1141056871,
  -1392181165,
  56629504,
  495724962,
  -1502820349,
  1187224887,
  611759929,
  1274767907,
  470813855,
  -337091896,
  -2117003942,
  389175692,
  -1020115590,
  1779470106,
  61949867,
  1663805344,
  1394824683,
  360729349,
  1570314629,
  1638619569,
  101297203,
  1947854480,
  -1911013963,
  1572245904,
  -509075523,
  1666802816,
  12333981,
  2026974873,
  1679946611,
  1869554038,
  -1637272061,
  205407402,
  -938607273,
  -982777076,
  32613209,
  -931782221,
  180084078,
  -736274641,
  659956784,
  552367812,
  1182097572,
  -1435953645,
  -442948885,
  1688638849,
  -1529715612,
  -1412885492,
  1776763281,
  1153970765,
  -1513895933,
  -1019011247,
  70372754,
  1137545660,
  -1590393055,
  52542024,
  68771948,
  1677813883,
  756964738,
  1154031698,
  1984114053,
  896065555,
  1675914915,
  -2139743802,
  294641212,
  638161146,
  889014042,
  507662195,
  -1993888186,
  61872742,
  1709606538,
  -975296115,
  -1259598266,
  -1405997159,
  250746818,
  1076266304,
  -1981118266,
  890810141,
  -322385698,
  1437863202,
  911100997,
  -1321148048,
  -627911147,
  361904674,
  -1325276906,
  1535611395,
  1641315128,
  1130543393,
  -1854916767,
  -394107861,
  110236809,
  495272152,
  139681999,
  -863204246,
  155960333,
  -1759927797,
  -172647127,
  1677892256,
  1087213767,
  26050796,
  1154308467,
  553895218,
  -1265106870,
  -142542591,
  1508117693,
  832199865,
  438001221,
  -2121233079,
  74196196,
  25339447,
  -1876744337,
  -721144311,
  -116356563,
  -1430262623,
  -863201375,
  121735822,
  295940292,
  534260435,
  711800081,
  33309658,
  844424108,
  1947360400,
  912525536,
  690053404,
  -2085411572,
  1600887595,
  -2029702967,
  -2063583366,
  1300468122,
  689610064,
  946351753,
  1401394320,
  1144293428,
  -949940937,
  419968282,
  437569807,
  1918819906,
  143722825,
  642255053,
  -439864307,
  -1906460280,
  1242379322,
  655500938,
  1284857252,
  -1670499160,
  -2140401469,
  63394250,
  1422480230,
  -496907260,
  1179009721,
  -488042195,
  -233159230,
  1393244321,
  2084066332,
  -1840668519,
  604457130,
  1750162799,
  1979790880,
  529555749,
  -1884581519,
  -509378388,
  -243712446,
  1180993516,
  1946125837,
  -117258051,
  1729833384,
  340866595,
  -674953320,
  -1852830825,
  1193156737,
  -1263328140,
  -1891968975,
  589504781,
  -1299960285,
  1552013140,
  1193477508,
  -1111272927,
  356534761,
  -2096364174,
  174072343,
  -808639016,
  -1672262557,
  -1002765512,
  954938599,
  1119852656,
  906712798,
  -1992359724,
  1896489021,
  1126650805,
  1900843281,
  12572129,
  1982759184,
  -919858907,
  -1053682300,
  1154347458,
  -45202792,
  1629275538,
  7888921,
  -225345854,
  674813256,
  163161394,
  1352972568,
  834196268,
  16883781,
  -2040260333,
  -163637215,
  1460209433,
  -177854925,
  365980370,
  -860601390,
  1081214397,
  -1581040204,
  -1236515167,
  -385860963,
  -80920124,
  118763598,
  295102674,
  -1827836212,
  722684838,
  826008997,
  -2080177148,
  619539121,
  -794981702,
  -1573322291,
  -1825810988,
  -1064514632,
  -2002596056,
  1100630250,
  337490574,
  -270039686,
  -479155949,
  119827106,
  608341471,
  -1077193624,
  956439300,
  -1823347401,
  1899107801,
  241439615,
  -251616672,
  -1168274459,
  -52230584,
  -401590907,
  322244310,
  1550458977,
  640219422,
  -947251032,
  -1048169063,
  -752180351,
  114361736,
  800853090,
  -1513531017,
  -1181470546,
  727262842,
  295027362,
  -1744660190,
  1192084165,
  -1226046687,
  -399921407,
  -634995079,
  182367190,
  -2046574551,
  -96353696,
  -1876490027,
  1413368175,
  622670801,
  2146054011,
  941668142,
  1260742792,
  1244049688,
  2008762278,
  -2133190367,
  -1453341620,
  1551987424,
  -1325505490,
  -1834308022,
  561419325,
  -1852904361,
  1694474080,
  -882603122,
  19450282,
  -511303196,
  -1912378961,
  199722266,
  842189759,
  1472418243,
  -530551099,
  -1248308016,
  -2096533371,
  459646282,
  -1944294776,
  57898783,
  639406880,
  -2126863002,
  1964071041,
  752146497,
  1999931324,
  1083580241,
  -1492010728,
  -1903627823,
  1226156418,
  -2121241239,
  1672618374,
  25792701,
  368832777,
  -1961295344,
  -1320213545,
  2065295173,
  1301922287,
  -974511323,
  -1386915009,
  2096568611,
  -718124823,
  -929147484,
  -1961026283,
  -986621530,
  -1681309246,
  -467459764,
  -2143874674,
  -1334827208,
  -369616051,
  923108508,
  393584780,
  893435902,
  -1291439596,
  1218994089,
  -1115453673,
  1915900942,
  -945059296,
  381816074,
  565403011,
  -817654384,
  316927764,
  1566708750,
  -663752295,
  1076237651,
  -2009917569,
  588075777,
  -1164058365
}; // weak


//----- (0044A310) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebp>)
{
  int *v4; // esi
  int *v5; // edi
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  int i; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  unsigned int v16; // eax
  bool v17; // zf
  int v18; // ebx
  int v19; // ett
  unsigned int v20; // eax
  bool v21; // cf
  int v22; // ebx
  int v23; // ett
  bool v24; // cf
  int v25; // ebx
  int v26; // ett
  int v27; // ecx
  int v28; // ecx
  unsigned int v29; // eax
  unsigned int v30; // eax
  int v31; // eax
  bool v32; // cf
  int v33; // ebx
  int v34; // ett
  bool v35; // cf
  int v36; // ebx
  int v37; // ett
  bool v38; // cf
  int v39; // ebx
  int v40; // ebx
  int v41; // ett
  bool v42; // zf
  int v43; // ebx
  int v44; // ett
  unsigned int v45; // ecx
  char *v46; // edx
  char v47; // al
  int v48; // eax
  bool v49; // cc
  int *v50; // esi
  int *v51; // edi
  int v52; // ecx
  char v53; // al
  unsigned __int8 v54; // al
  int v55; // eax
  int v56; // eax
  char v57; // t0
  unsigned __int8 v58; // bl
  char *v59; // edi
  int v60; // eax
  int *v61; // ebx
  int v62; // ebp
  char v63; // al
  char *v64; // ecx
  unsigned __int8 v65; // al
  int v66; // eax
  void (__cdecl *v67)(int *, int, int, int *); // ebp
  int *v68; // edi
  int v69[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v70; // [esp+2Ch] [ebp-80h] BYREF
  int v71; // [esp+30h] [ebp-7Ch] BYREF
  char *v72; // [esp+34h] [ebp-78h]
  int *v73; // [esp+38h] [ebp-74h]
  int v74; // [esp+3Ch] [ebp-70h]
  int v75; // [esp+40h] [ebp-6Ch]
  int v76; // [esp+44h] [ebp-68h]
  int v77; // [esp+48h] [ebp-64h]
  int *v78; // [esp+4Ch] [ebp-60h]
  int v79; // [esp+50h] [ebp-5Ch]
  int v80; // [esp+54h] [ebp-58h]
  int v81; // [esp+58h] [ebp-54h]
  int v82; // [esp+5Ch] [ebp-50h] BYREF

  v78 = &v82;
  v76 = a3;
  v75 = a2;
  v74 = a1;
  v4 = dword_43E000;
  v5 = &dword_43E000[-62464];
  v73 = &dword_43E000[-62464];
  while ( 1 )
  {
    v9 = *v4;
    v7 = (unsigned int)v4++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v4;
        v4 = (int *)((char *)v4 + 1);
        *(_BYTE *)v5 = v6;
        v5 = (int *)((char *)v5 + 1);
      }
      else
      {
        for ( i = 1; ; i = v20 + v21 + v20 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v16 = i + v12 + i;
          v7 = __CFADD__(v13, v13);
          v17 = 2 * v13 == 0;
          v8 = 2 * v13;
          if ( v7 )
          {
            if ( !v17 )
              break;
            v18 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v19 = v7 + v18;
            v7 = __CFADD__(v7, v18) | __CFADD__(v18, v19);
            v8 = v18 + v19;
            if ( v7 )
              break;
          }
          v20 = v16 - 1;
          v21 = __CFADD__(v8, v8);
          v8 *= 2;
          if ( !v8 )
          {
            v22 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v23 = v7 + v22;
            v21 = __CFADD__(v7, v22) | __CFADD__(v22, v23);
            v8 = v22 + v23;
          }
        }
        v28 = 0;
        v7 = v16 < 3;
        v29 = v16 - 3;
        if ( v7 )
        {
          v32 = __CFADD__(v8, v8);
          v8 *= 2;
          if ( !v8 )
          {
            v33 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v34 = v7 + v33;
            v32 = __CFADD__(v7, v33) | __CFADD__(v33, v34);
            v8 = v33 + v34;
          }
        }
        else
        {
          v30 = v29 << 8;
          LOBYTE(v30) = *(_BYTE *)v4;
          v4 = (int *)((char *)v4 + 1);
          v31 = ~v30;
          if ( !v31 )
          {
            v50 = v73;
            v51 = v73;
            v52 = 45;
            while ( 1 )
            {
              v53 = *(_BYTE *)v51;
              v51 = (int *)((char *)v51 + 1);
              v54 = v53 + 24;
              while ( v54 <= 1u && !*(_BYTE *)v51 )
              {
                v55 = *v51;
                LOWORD(v55) = BYTE1(*v51);
                v56 = __ROL4__(v55, 16);
                v57 = v56;
                LOBYTE(v56) = BYTE1(v56);
                BYTE1(v56) = v57;
                v58 = *((_BYTE *)v51 + 4) + 24;
                *v51 = (int)v50 + v56 - (_DWORD)v51;
                v51 = (int *)((char *)v51 + 5);
                v54 = v58;
                if ( !--v52 )
                {
                  v59 = (char *)(v50 + 71680);
LABEL_44:
                  v60 = *(_DWORD *)v59;
                  if ( *(_DWORD *)v59 )
                  {
                    v61 = (int *)((char *)v50 + *((_DWORD *)v59 + 1));
                    v59 += 8;
                    v62 = ((int (__cdecl *)(int, int, int, int, int, int *, int, int, int))v50[76340])(
                            (int)v50 + v60 + 305120,
                            v74,
                            v75,
                            v76,
                            v77,
                            v78,
                            v79,
                            v80,
                            v81);
                    while ( 1 )
                    {
                      v63 = *v59++;
                      if ( !v63 )
                        goto LABEL_44;
                      v64 = v59;
                      v72 = v59;
                      v65 = v63 - 1;
                      do
                      {
                        if ( !v64 )
                          break;
                        v17 = *v59++ == (char)v65;
                        --v64;
                      }
                      while ( !v17 );
                      v66 = ((int (__cdecl *)(int, char *))v50[76341])(v62, v72);
                      if ( !v66 )
                        break;
                      *v61++ = v66;
                    }
                    v60 = ((int (*)(void))v50[76345])();
                  }
                  v67 = (void (__cdecl *)(int *, int, int, int *))v50[76342];
                  v68 = v50 - 1024;
                  v70 = v60;
                  v67(v50 - 1024, 4096, 4, &v70);
                  *((_BYTE *)v68 + 463) &= ~0x80u;
                  *((_BYTE *)v68 + 503) &= ~0x80u;
                  v67(v50 - 1024, 4096, v69[0], v69);
                  do
                    v70 = 0;
                  while ( &v70 != &v71 - 32 );
                  JUMPOUT(0x43971D);
                }
              }
            }
          }
          v32 = v31 & 1;
          a4 = v31 >> 1;
        }
        if ( v32 )
          goto LABEL_15;
        v28 = 1;
        v35 = __CFADD__(v8, v8);
        v8 *= 2;
        if ( !v8 )
        {
          v36 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v37 = v7 + v36;
          v35 = __CFADD__(v7, v36) | __CFADD__(v36, v37);
          v8 = v36 + v37;
        }
        if ( v35 )
        {
LABEL_15:
          v24 = __CFADD__(v8, v8);
          v8 *= 2;
          if ( !v8 )
          {
            v25 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v26 = v7 + v25;
            v24 = __CFADD__(v7, v25) | __CFADD__(v25, v26);
            v8 = v25 + v26;
          }
          v27 = v28 + v24 + v28;
        }
        else
        {
          while ( 1 )
          {
            v38 = __CFADD__(v8, v8);
            v39 = 2 * v8;
            if ( !v39 )
            {
              v40 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v41 = v7 + v40;
              v38 = __CFADD__(v7, v40) | __CFADD__(v40, v41);
              v39 = v40 + v41;
            }
            v28 += v38 + v28;
            v7 = __CFADD__(v39, v39);
            v42 = 2 * v39 == 0;
            v8 = 2 * v39;
            if ( v7 )
            {
              if ( !v42 )
                break;
              v43 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v44 = v7 + v43;
              v7 = __CFADD__(v7, v43) | __CFADD__(v43, v44);
              v8 = v43 + v44;
              if ( v7 )
                break;
            }
          }
          v27 = v28 + 2;
        }
        v45 = (a4 < 0xFFFFFB00) + v27 + 2;
        v46 = (char *)v5 + a4;
        if ( a4 <= 0xFFFFFFFC )
        {
          do
          {
            v48 = *(_DWORD *)v46;
            v46 += 4;
            *v5++ = v48;
            v49 = v45 <= 4;
            v45 -= 4;
          }
          while ( !v49 );
          v5 = (int *)((char *)v5 + v45);
        }
        else
        {
          do
          {
            v47 = *v46++;
            *(_BYTE *)v5 = v47;
            v5 = (int *)((char *)v5 + 1);
            --v45;
          }
          while ( v45 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 44A4B3: positive sp value 50 has been found
// 44A4B3: control flows out of bounds to 43971D
// 43E000: using guessed type int dword_43E000[512];
// 44A310: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
