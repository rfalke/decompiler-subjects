/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall sub_40101D(__int32 a1@<eax>, int a2@<esi>);
double sub_40103B(); // weak
// void __usercall sub_401089(int a1@<eax>, __int32 a2@<ecx>);
// void __usercall start(int a1@<eax>, int a2@<ecx>, int a3@<edi>, int a4@<esi>);
// void __usercall sub_40118A(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<esi>);
// void __usercall sub_4011A9(int a1@<eax>, int a2@<ecx>, int a3@<edi>);
// void __usercall sub_401211(__int32 a1@<eax>, __int32 a2@<esi>);
// double __usercall sub_401356@<st0>(int a1@<eax>, int a2@<edx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>, double result@<st0>);
_DWORD sub_40136E(); // weak
void sub_401408();
void __fastcall __noreturn sub_401424(__int16 a1);
int sub_4014B3(); // weak
// void __userpurge sub_402198(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
// void __userpurge sub_4021D7(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
// int __usercall sub_402454@<eax>(unsigned int a1@<eax>, int a2@<edx>);
double sub_40250C(); // weak
void __fastcall sub_40263B(unsigned int a1);
void sub_40274C();
// void __userpurge sub_40294C(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
// void __userpurge sub_4029D7(int a1@<eax>, char a2@<dl>, int a3@<ecx>, int a4@<ebx>, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
void sub_402BCC();
// void __usercall sub_402D09(char a1@<cf>, __int16 a2@<cx>, __int16 a3@<bx>, int a4@<edi>, __int16 a5@<si>);
_DWORD sub_402D83(); // weak
// void __userpurge sub_402D9E(double a1@<st0>, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
// void __usercall sub_402E7A(char a1@<dh>, char a2@<ch>, char a3@<bh>);

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN loc_40105D; // weak
_UNKNOWN loc_401115; // weak
_UNKNOWN loc_4011C5; // weak
_UNKNOWN loc_4012C7; // weak
_UNKNOWN loc_4013B4; // weak
_UNKNOWN sub_4025CF; // weak
_UNKNOWN loc_40278A; // weak


//----- (0040101D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40101D(__int32 a1@<eax>, int a2@<esi>)
{
  void *v2; // [esp+14h] [ebp-4h]
  void *retaddr; // [esp+18h] [ebp+0h]

  *(&retaddr - 7) = v2;
  sub_401211(a1, a2 - 1);
  sub_40103B();
}
// 401021: positive sp value 4 has been found

//----- (0040103B) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40103B()
{
  JUMPOUT(0x4012B9);
}
// 40103F: positive sp value 4 has been found
// 40105D: control flows out of bounds to 401063
// 4014A6: control flows out of bounds to 40133F
// 401489: control flows out of bounds to 4012B9
// 401054: conditional instruction was optimized away because of 'esi.4!=0'

//----- (00401089) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401089(int a1@<eax>, __int32 a2@<ecx>)
{
  char v2; // cf
  char v3; // zf
  __int32 v4; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v4, a2);
  ((void (__thiscall *)(int))sub_4014B3)(a1);
  if ( v2 | v3 )
    JUMPOUT(0x401019);
  JUMPOUT(0x400FFB);
}
// 401007: positive sp value 4 has been found
// 401017: control flows out of bounds to 401019
// 401017: control flows out of bounds to 400FFB
// 401017: variable 'v2' is possibly undefined
// 401017: variable 'v3' is possibly undefined
// 4014B3: using guessed type int sub_4014B3();

//----- (004010FE) --------------------------------------------------------
void __usercall start(int a1@<eax>, int a2@<ecx>, int a3@<edi>, int a4@<esi>)
{
  sub_4011A9(a1, a4 + a2, a3);
  JUMPOUT(0x40111A);
}
// 401115: control flows out of bounds to 40111A

//----- (0040118A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40118A(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<esi>)
{
  int v5; // ecx

  _EAX = ((int (__fastcall *)(int, int, struct _TEB *))((char *)&loc_40105D + 4))(a3, a1 ^ (a2 - 1), NtCurrentTeb());
  __asm { daa }
  sub_4011A9(_EAX - 1, v5, a4);
}
// 40118E: positive sp value 4 has been found
// 4011A8: variable 'v5' is possibly undefined

//----- (004011A9) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4011A9(int a1@<eax>, int a2@<ecx>, int a3@<edi>)
{
  ((void (__fastcall *)(int, int))((char *)&loc_401115 + 2))((a1 ^ a2) + 1, a3 + 1);
  JUMPOUT(0x4011CA);
}
// 4011AD: positive sp value 4 has been found
// 4011C5: control flows out of bounds to 4011CA

//----- (00401211) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401211(__int32 a1@<eax>, __int32 a2@<esi>)
{
  __int16 v3; // ax
  __int32 v4; // ecx
  int v5; // edx
  int v6; // eax
  __int32 v7; // [esp+18h] [ebp-8h] BYREF
  void *v8; // [esp+1Ch] [ebp-4h]
  void *retaddr; // [esp+20h] [ebp+0h]

  _InterlockedExchange(&v7, a1);
  __asm { repne pop eax }
  v3 = ((int (*)(void))loc_4012C7)();
  _InterlockedExchange(MK_FP(v3, v5 - 84), a2);
  if ( (v5 + 1 < 0) ^ __OFADD__(1, v5) | (v5 == -1) )
  {
    *(&retaddr - 10) = v8;
    v8 = *(void **)(v6 + 144);
    sub_401089(v6, v4);
    JUMPOUT(0x40124A);
  }
  JUMPOUT(0x401243);
}
// 401233: positive sp value 8 has been found
// 401245: control flows out of bounds to 40124A
// 40122D: control flows out of bounds to 401243
// 401228: variable 'v5' is possibly undefined
// 401245: variable 'v4' is possibly undefined

//----- (0040128D) --------------------------------------------------------
#error "40128D: function frame is wrong (funcsize=0)"

//----- (00401356) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
double __usercall sub_401356@<st0>(int a1@<eax>, int a2@<edx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>, double result@<st0>)
{
  int v6; // esi
  int v7; // ebx
  int v8; // ebx
  int v9; // edi
  int v10; // edi
  int v11; // ebx
  int v12; // edi
  int v13; // ecx
  int v14; // edx
  int v15; // edx
  int v19; // edx
  char v20; // cf
  char v21; // zf
  char v22; // sf
  char v23; // of
  int v24; // edi
  int v25; // edi
  int v26; // ecx
  void **v27; // [esp-4h] [ebp-4h]
  void *retaddr; // [esp+0h] [ebp+0h] BYREF

  do
  {
    v24 = a4 - a3;
    v6 = (a1 ^ (a5 - 1)) + 1;
    v7 = ((a2 - 1) ^ (v24 + 1)) + 1;
    ((void (__thiscall *)(int, void **))sub_40103B)(v7 + v24, v27);
    BYTE1(a1) |= MEMORY[0x9B15FEB7];
    MEMORY[0xF6DFF602] = a1;
    result = result + (double)*(__int16 *)(a1 - 301327149);
    BYTE1(v7) = ~(BYTE1(v7) - 42);
    v8 = v7 + 1;
    v9 = v6 | v24;
    LOBYTE(v13) = v14 + (v14 ^ (v13 + 1));
    BYTE1(v14) |= v13;
    do
    {
      v15 = v13 | v14;
      BYTE1(v13) += 0x80;
      v8 |= v9;
      sub_40118A(a1, a1 + v15, ((v6 - (v9 ^ v13)) ^ v9) + (v9 ^ v13), v6 - (v9 ^ v13));
      v6 = 734382098;
      __asm
      {
        rcr     dword ptr [eax+0Bh], cl
        lock mov edi, ecx
      }
      v9 = _EAX ^ _EDI;
      a1 = ((int (__fastcall *)(int, int))((char *)&loc_4013B4 + 3))(_ECX, _ECX ^ v19);
    }
    while ( !(v22 ^ v23 | v21) );
    v27 = &retaddr;
    if ( v20 | v21 )
      JUMPOUT(0x401355);
    v25 = v9 + 1 - v8;
    v26 = v13 - v8;
    v10 = (a1 ^ v25) + 1;
    v11 = v10 | (v8 + 1);
    v12 = v10 + 1;
    if ( __SETP__(v12, 0) || !__SETP__(v12, 0) )
      JUMPOUT(0x401497);
    __addfsbyte((v26 ^ (v26 | 0x2BC5C814)) + 1314621818, BYTE1(v26));
    a2 = v26 | v14;
    a3 = v26 ^ v11;
    a4 = a3 + (a2 | ((v26 ^ (v26 | 0x2BC5C814)) + 1) | v12);
    a5 = a4 | v26 ^ (v26 | 0x2BC5C814);
  }
  while ( !a1 );
  return result;
}
// 401350: positive sp value C has been found
// 4010F8: control flows out of bounds to 4010FA
// 401353: control flows out of bounds to 401355
// 4010F6: control flows out of bounds to 401143
// 4010F8: control flows out of bounds to 401104
// 4011E4: control flows out of bounds to 401497
// 401356: could not find valid save-restore pair for ebp
// 4010F0: conditional instruction was optimized away because of 'edi.4!=0'
// 4010C5: variable 'v27' is possibly undefined
// 4010CA: variable 'a1' is possibly undefined
// 401321: variable 'v14' is possibly undefined
// 4010DE: variable 'v13' is possibly undefined
// 401346: variable '_EAX' is possibly undefined
// 40134A: variable '_ECX' is possibly undefined
// 401348: variable 'v19' is possibly undefined
// 401350: variable 'v22' is possibly undefined
// 401350: variable 'v23' is possibly undefined
// 401350: variable 'v21' is possibly undefined
// 401353: variable 'v20' is possibly undefined
// 40103B: using guessed type double sub_40103B();

//----- (0040136E) --------------------------------------------------------
#error "4013AA: cannot convert to microcode (funcsize=24)"

//----- (00401408) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_401408()
{
  JUMPOUT(0x401458);
}
// 40140E: positive sp value 4 has been found
// 401414: control flows out of bounds to 401458
// 401420: control flows out of bounds to 4013FE
// 40141A: conditional instruction was optimized away because of 'ebx.4>=0'

//----- (00401424) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall __noreturn sub_401424(__int16 a1)
{
  LOBYTE(a1) = HIBYTE(a1);
  _EAX = ((int (__thiscall *)(__int16))((char *)&loc_4011C5 + 1))(a1);
  __asm { lock adc eax, 8CABC982h }
  sub_401408();
  JUMPOUT(0x8BDEE8CD);
}
// 401456: positive sp value C has been found
// 401456: control flows out of bounds to 8BDEE8CD

//----- (00402198) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __userpurge sub_402198(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  int v64; // [esp-4h] [ebp-4h]

  ((void (__stdcall *)(int))((char *)&loc_40278A + 2))(v64);
  JUMPOUT(0x4029D7);
}
// 4029D1: positive sp value 8 has been found
// 4029D5: control flows out of bounds to 4029D7
// 4029CC: variable 'v64' is possibly undefined
// 402198: too many input arguments, some ignored

//----- (004021D7) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
void __userpurge sub_4021D7(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  int v64; // eax
  int v65; // edx
  char v66; // cc
  int v67; // eax
  int v69; // eax
  int v70; // edx
  _DWORD v71[15767]; // [esp-F65Ch] [ebp-F65Ch] BYREF

  BYTE1(a3) = -BYTE1(a3);
  LOBYTE(a1) = ~(_BYTE)a1;
  v69 = a3 | a1;
  LOBYTE(a2) = a4 ^ (a2 - 108);
  v70 = v69 | a2;
  BYTE1(a4) = a3;
  v64 = v70 ^ v69;
  LOBYTE(v70) = a3;
  v71[1] = 4202871;
  v65 = (a4 - 1) | v70;
  BYTE1(v65) += 122;
  v66 = (v65 + v64 < 0) ^ __OFADD__(v65, v64);
  v67 = v65 + v64;
  BYTE1(v67) = ~BYTE1(v67);
  if ( !v66 && v66 )
  {
    v71[0] = v65;
    _EAX = v67 - (_DWORD)v71;
    __asm { das }
    JUMPOUT(0x402195);
  }
  JUMPOUT(0x402349);
}
// 40240B: positive sp value F658 has been found
// 402194: control flows out of bounds to 402195
// 402419: control flows out of bounds to 402423
// 402A3C: control flows out of bounds to 4029FC
// 402183: control flows out of bounds to 402349
// 402A20: control flows out of bounds to 402A70
// 402405: bad sp value at call
// 4021F6: conditional instruction was optimized away because of 'edx.4>=1'
// 4021D7: too many input arguments, some ignored

//----- (0040230D) --------------------------------------------------------
#error "40230D: function frame is wrong (funcsize=0)"

//----- (00402454) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_402454@<eax>(unsigned int a1@<eax>, int a2@<edx>)
{
  int v3; // [esp+0h] [ebp-8h]
  int v4; // [esp+4h] [ebp-4h]
  void *retaddr[2]; // [esp+8h] [ebp+0h]

  *(&v4 - 3) = v3;
  if ( !__CFADD__(a2, HIWORD(a1)) && __CFADD__(a2, HIWORD(a1)) )
    JUMPOUT(0x402250);
  sub_402BCC();
  return MK_FP(retaddr[0], retaddr[0])();
}
// 4028AD: positive sp value 8 has been found
// 402CBE: control flows out of bounds to 402250
// 402695: conditional instruction was optimized away because of 'ebx.4!=0'

//----- (0040250C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40250C()
{
  JUMPOUT(0x402607);
}
// 402510: positive sp value 4 has been found
// 40251A: control flows out of bounds to 402607

//----- (004025CF) --------------------------------------------------------
#error "4025FA: cannot convert to microcode (funcsize=16)"

//----- (0040263B) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_40263B(unsigned int a1)
{
  bool v1; // cf
  int v2; // ecx
  unsigned int v3; // ecx
  void *v4; // [esp+4h] [ebp-4h]
  void *retaddr; // [esp+8h] [ebp+0h]

  *(&retaddr - 3) = v4;
  v3 = a1 >> 15;
  v1 = __CFSHL__(v3, 15);
  v2 = v3 << 15;
  if ( !v1 && v2 != 0 && (v1 || v2 == 0) )
    JUMPOUT(0x4022DF);
  JUMPOUT(0x402F53);
}
// 4022B2: positive sp value 4 has been found
// 4022D9: control flows out of bounds to 4022DF
// 402C3C: control flows out of bounds to 402F53

//----- (0040274C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40274C()
{
  JUMPOUT(0x402B86);
}
// 402750: positive sp value 4 has been found
// 40275D: control flows out of bounds to 402B86

//----- (0040294C) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
void __userpurge sub_40294C(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  JUMPOUT(0x402DE7);
}
// 4024D7: positive sp value 4 has been found
// 402743: control flows out of bounds to 4021C0
// 402BFE: control flows out of bounds to 402DE7
// 402718: control flows out of bounds to 40222C
// 402986: bad sp value at call
// 402971: conditional instruction was optimized away because of 'bh.1>=0'
// 40294C: too many input arguments, some ignored

//----- (004029D7) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __userpurge sub_4029D7(int a1@<eax>, char a2@<dl>, int a3@<ecx>, int a4@<ebx>, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  bool v64; // zf
  _DWORD *v65; // ebx
  void *v66; // [esp+10h] [ebp-4h]
  void *retaddr[2]; // [esp+14h] [ebp+0h]

  retaddr[-6] = v66;
  LOBYTE(a4) = ~(a2 ^ a4);
  v65 = (_DWORD *)(a3 | a4);
  BYTE1(v65) = a3 ^ ((_BYTE)v65 + BYTE1(v65));
  v64 = BYTE1(a1) + BYTE1(v65) == 0;
  BYTE1(v65) += BYTE1(a1);
  if ( BYTE1(v65) && v64 )
  {
    if ( __CFADD__(*v65, a1) )
      JUMPOUT(0x4029A6);
    JUMPOUT(0x402A6D);
  }
  JUMPOUT(0x4023A8);
}
// 4029DB: positive sp value 4 has been found
// 402A08: control flows out of bounds to 4029A6
// 4029E9: control flows out of bounds to 4023A8
// 4029F9: control flows out of bounds to 402A6D
// 4029D7: too many input arguments, some ignored

//----- (00402A46) --------------------------------------------------------
#error "402A46: function frame is wrong (funcsize=0)"

//----- (00402BCC) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402BCC()
{
  JUMPOUT(0x402F15);
}
// 402BD0: positive sp value 4 has been found
// 402BE0: control flows out of bounds to 402F15

//----- (00402D09) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402D09(char a1@<cf>, __int16 a2@<cx>, __int16 a3@<bx>, int a4@<edi>, __int16 a5@<si>)
{
  char v5; // dh
  __int16 v6; // bx
  __int16 v7; // bx
  char v8; // al
  char v9; // dl
  __int16 v10; // dx
  int v11; // [esp-4h] [ebp-4h]

  LOBYTE(a3) = a3 + 1;
  v6 = a3 - 1;
  HIBYTE(v6) = a1 + HIBYTE(v6) - 66;
  v7 = (a2 | a5) ^ v6;
  sub_40250C();
  *(_BYTE *)(a4 - 158915527) ^= v8;
  ++v7;
  LOBYTE(v10) = -v9;
  LOBYTE(v7) = v7 - 1;
  HIBYTE(v7) = ~HIBYTE(v7);
  v5 = 88 - ((unsigned __int16)(v7 + v10) >> 8);
  if ( v5 == 0 && v11 != -1 && (v5 != 0 || v11 == -1) )
    JUMPOUT(0x40287F);
  JUMPOUT(0x402E46);
}
// 40285C: positive sp value 8 has been found
// 402D4F: control flows out of bounds to 402D50
// 40287E: control flows out of bounds to 40287F
// 402E45: control flows out of bounds to 402E46
// 402D4D: control flows out of bounds to 402D59
// 402D24: variable 'v8' is possibly undefined
// 402D30: variable 'v9' is possibly undefined
// 40285C: variable 'v10' is possibly undefined
// 402869: variable 'v11' is possibly undefined
// 40250C: using guessed type double sub_40250C();

//----- (00402D83) --------------------------------------------------------
#error "402D9D: positive sp value has been found (funcsize=13)"

//----- (00402D9E) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
// positive sp value has been detected, the output may be wrong!
void __userpurge sub_402D9E(double a1@<st0>, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  __int64 v64; // rax
  int v65; // [esp-64D1h] [ebp-64E9h]
  _BYTE v66[25805]; // [esp-64CDh] [ebp-64E5h]
  int v67; // [esp+10h] [ebp-8h]

  *(_DWORD *)&v66[-28] = v65;
  v64 = ((__int64 (__usercall *)@<edx:eax>(double@<st0>))sub_4025CF)(a1);
  *(_DWORD *)&v66[25789] = v67;
  sub_402454(v64, SHIDWORD(v64));
  JUMPOUT(0xD304C255);
}
// 402AE1: positive sp value 64E9 has been found
// 402855: control flows out of bounds to 40285B
// 402B14: control flows out of bounds to 402B17
// 402E2D: control flows out of bounds to 402E2E
// 4024CD: control flows out of bounds to 402581
// 402AE1: control flows out of bounds to D304C255
// 402C79: control flows out of bounds to 402498
// 402ABA: bad sp value at call
// 402DB8: conditional instruction was optimized away because of 'ah.1>=0'
// 402D9E: too many input arguments, some ignored

//----- (00402E7A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402E7A(char a1@<dh>, char a2@<ch>, char a3@<bh>)
{
  char v3; // bh

  v3 = (a2 + 1) | a1 | a3;
  _EAX = sub_402E7A();
  __asm { aam     3Ch ; '<' }
  _enable();
  *(_BYTE *)(_EAX + 85) |= v3;
  JUMPOUT(0x402EAB);
}
// 402E7E: positive sp value 4 has been found
// 402EA8: control flows out of bounds to 402EAB

// nfuncs=29 queued=28 decompiled=28 lumina nreq=0 worse=0 better=0
#error "There were 6 decompilation failure(s) on 28 function(s)"
