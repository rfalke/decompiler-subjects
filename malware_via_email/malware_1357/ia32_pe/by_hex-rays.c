/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, int@<edx>, int@<ecx>);

//-------------------------------------------------------------------------
// Data declarations

int dword_413000[512] =
{
  -1834308985,
  1560280832,
  920360750,
  -687275032,
  -854430497,
  -424156556,
  -654984842,
  -853861525,
  1208212868,
  1555657293,
  1396270126,
  2110829397,
  -879284655,
  -221935899,
  898980254,
  -613295156,
  -1688420425,
  217475444,
  18353184,
  404759552,
  -1360196604,
  798645,
  318996608,
  538452997,
  -592450031,
  461373805,
  226498688,
  740566048,
  -310677909,
  151004288,
  135792183,
  -1697250773,
  1042701035,
  1210126860,
  -681741556,
  404045753,
  4656172,
  -589940645,
  1462935270,
  453910608,
  1935463983,
  -2145108805,
  543367938,
  -1363284732,
  707659705,
  1477121048,
  1940814813,
  -1560262817,
  201471311,
  1939662382,
  1867219977,
  1978496302,
  2082370461,
  612466738,
  389888924,
  -1350519173,
  213456928,
  -1175487554,
  215540462,
  1835499770,
  2073740655,
  952238311,
  -1661484022,
  1412157051,
  146268438,
  -831290594,
  -1935023811,
  1881578371,
  79285359,
  -201261562,
  -505489628,
  71649648,
  -613922593,
  -1363554957,
  -1161491655,
  -415621067,
  -1305576548,
  -96659096,
  969784588,
  -1895458825,
  35161131,
  -331129113,
  -2146285037,
  -144555305,
  1715140534,
  151951640,
  500292896,
  -239484516,
  506441148,
  -293748306,
  -2136660213,
  -585627317,
  2019618421,
  -230086201,
  -507281389,
  1883754357,
  714743897,
  -1111384966,
  -317151865,
  1495716378,
  -1460124549,
  105127296,
  -1002932457,
  1986274510,
  1731908548,
  1262258040,
  5929041,
  -521960925,
  1719108020,
  970439011,
  1210461404,
  490837536,
  -1913852836,
  -2014698266,
  -278725700,
  -401808432,
  11838338,
  429622214,
  -106947364,
  1869832907,
  -1122321940,
  1582637287,
  1886493574,
  -1777074074,
  -555337999,
  -815555349,
  -1121943424,
  250728048,
  611063853,
  1036917454,
  411008499,
  1692339319,
  -946926399,
  -1187562637,
  1718840222,
  1752089723,
  -1596751640,
  -943861827,
  -1363282911,
  -277115264,
  -1341971911,
  -1251573976,
  -1662535364,
  -1166470197,
  -554425323,
  976501703,
  1790318697,
  -518943828,
  1096821383,
  -294394752,
  511202233,
  -1063728874,
  -599967130,
  951888045,
  -746168777,
  1613185321,
  -1048080632,
  -784894147,
  968992840,
  2101115671,
  -1086601008,
  -588979236,
  -1306008116,
  -705814970,
  617027229,
  2024291337,
  557612527,
  1420034242,
  -1947829349,
  -773257376,
  -1813293792,
  2122824161,
  -378512792,
  -2075973874,
  1104644159,
  473462695,
  1259831955,
  1943856457,
  -1454210905,
  245146040,
  1643076019,
  -432069309,
  -510100745,
  616283109,
  278633764,
  190922209,
  2049314915,
  2023679928,
  69656897,
  2077473260,
  1987510313,
  -255757627,
  1356692444,
  834738432,
  -330060774,
  -65496843,
  -1317790225,
  -976871145,
  -595092667,
  1260319201,
  -1124463496,
  -259496191,
  181752399,
  -1111460040,
  869488604,
  1036914768,
  1307708634,
  2012731649,
  -766985864,
  -940749522,
  -1204096785,
  543481601,
  -1108378700,
  306055692,
  -1395661773,
  -1542419721,
  1583349209,
  208428593,
  142199612,
  -146965947,
  607310879,
  2077947875,
  1711866318,
  204671524,
  -1138880232,
  -1338890650,
  -1108390383,
  -1791232068,
  586627416,
  -1609818755,
  -517307501,
  327932985,
  1986397980,
  -529407862,
  765318080,
  -139507569,
  115025568,
  -1673990070,
  1216649294,
  1036638017,
  2068974946,
  -1139920800,
  1729332183,
  -259915148,
  -35262072,
  -970963258,
  348583809,
  1030105197,
  934266146,
  1303322076,
  321512586,
  470619290,
  793295311,
  1393223372,
  501339023,
  -837434273,
  122207438,
  791662092,
  -1822494557,
  358693496,
  1893981809,
  1211372664,
  541450955,
  -1439161256,
  -142143767,
  -142287048,
  -554632090,
  1167792619,
  990779535,
  1928005148,
  -675669880,
  -339415098,
  1340045588,
  287194218,
  -1533513352,
  -1063718690,
  -470744005,
  122205149,
  330213990,
  287351817,
  -1734818701,
  -164726085,
  2417502,
  823018732,
  1993655310,
  -1135732307,
  589533534,
  160408666,
  1255143303,
  -995879855,
  100806514,
  -1887146198,
  -129399223,
  -2114040204,
  158535739,
  1141337472,
  467693962,
  -977807249,
  1516693090,
  494921389,
  2087063838,
  269410295,
  1601357283,
  152576685,
  2022431932,
  -2051536785,
  -1132751939,
  1286173469,
  235166744,
  575475950,
  501327541,
  -716260274,
  1044526308,
  -1596475272,
  606452443,
  1955263522,
  -518902203,
  2134754032,
  550738361,
  -1012076706,
  -1542689175,
  -1115097328,
  2078915815,
  -816815755,
  640097981,
  -2002901178,
  259774652,
  49489045,
  1220133779,
  664340879,
  2015223592,
  541701053,
  801247562,
  -705191625,
  424335396,
  -142188981,
  245758494,
  -1183064773,
  -200881080,
  -135718506,
  1388559418,
  -156764517,
  -1110682077,
  -1732246172,
  -660316510,
  -921116733,
  -1201472512,
  -489025465,
  -1138882054,
  -66288557,
  1943962808,
  -911941393,
  -953712732,
  -1645329823,
  -2075453996,
  -1178004363,
  -1340802365,
  -1014376542,
  -619294493,
  1038322631,
  -170745378,
  1720367370,
  1893099632,
  1592826431,
  898954732,
  355205986,
  -868495133,
  -977277264,
  -510934548,
  -146981253,
  -438201976,
  269774612,
  1010449678,
  931237156,
  -516221557,
  -561009442,
  -1671523342,
  -318099042,
  -1635289067,
  1082273915,
  1134637374,
  1951145452,
  1936353390,
  -723589649,
  -1625127898,
  -1204080211,
  -1577575657,
  926703356,
  -2112903189,
  -280064738,
  -1246649136,
  1156130206,
  -774126132,
  1645070718,
  -1657697743,
  473671987,
  189915238,
  -870542609,
  1636270384,
  -595201968,
  828289395,
  2079518929,
  81309966,
  -1265175988,
  -1651837662,
  1995937,
  -1323426424,
  312073302,
  -140298435,
  836149526,
  -554190389,
  1137476545,
  2078705288,
  566957991,
  1345729675,
  289540244,
  -348682082,
  491308961,
  1259128949,
  567779800,
  409861942,
  744264574,
  218961463,
  -1645249801,
  42792526,
  163445108,
  -399022276,
  -1557272441,
  -1122466039,
  1004876237,
  -602851252,
  749705940,
  -759009534,
  -342954031,
  -1101690851,
  -1122063273,
  -270602206,
  893405548,
  -1377708917,
  1951726006,
  308719482,
  -568388605,
  696841707,
  208651646,
  118064905,
  -1077578118,
  -1545724477,
  -204929196,
  -959707062,
  406107102,
  -1324437811,
  -1659913950,
  1368114612,
  330101996,
  -1130927790,
  -1111248633,
  -1121191183,
  1312493880,
  295085552,
  846918794,
  -1345015441,
  -1256289069,
  801759643,
  -1995044105,
  -1290665832,
  -1642187918,
  -1820803134,
  1279820892,
  26225377,
  -1736827409,
  -2018741993,
  -856965024,
  -985291206,
  -595880574,
  -138725007,
  -1386073742,
  -758110935,
  940155921,
  830192248,
  -2089237474,
  -1813384271,
  -648507534,
  -764935399,
  -649494255,
  -1055331466,
  355090803,
  163169024,
  1875110081,
  -384818990,
  -1058790671,
  2048771942,
  1014265905,
  -1204076832,
  -713633976,
  1615627364,
  -947659220,
  -1566612897,
  1136395197,
  -1292965685,
  2054704442,
  377508691,
  -321615253,
  -1439058447,
  -2093954578,
  -687056009,
  2078756770,
  -562897229,
  -1040129543,
  1618206209,
  -166115633,
  789097412,
  988976106
}; // weak


//----- (0041B500) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  int *v3; // esi
  int *v4; // edi
  unsigned int v5; // ebp
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  unsigned int v11; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  bool v16; // zf
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  unsigned int v20; // eax
  int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ebx
  int v25; // ett
  BOOL v26; // ecx
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ebx
  int v35; // ett
  bool v36; // zf
  int v37; // ebx
  int v38; // ett
  unsigned int v39; // ecx
  char *v40; // edx
  char v41; // al
  int v42; // eax
  bool v43; // cc
  int *v44; // esi
  char *v45; // edi
  int v46; // ecx
  char v47; // al
  unsigned __int8 v48; // al
  int v49; // eax
  int v50; // eax
  char v51; // t0
  unsigned __int8 v52; // bl
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__cdecl *v61)(int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  int v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v72 = &v76;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v3 = dword_413000;
  v4 = &dword_413000[-18432];
  v67 = &dword_413000[-18432];
  v5 = -1;
  while ( 1 )
  {
    v9 = *v3;
    v7 = (unsigned int)v3++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v3;
        v3 = (int *)((char *)v3 + 1);
        *(_BYTE *)v4 = v6;
        v4 = (int *)((char *)v4 + 1);
      }
      else
      {
        v11 = 1;
        while ( 1 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v11 += v12 + v11;
          v7 = __CFADD__(v13, v13);
          v16 = 2 * v13 == 0;
          v8 = 2 * v13;
          if ( v7 )
          {
            if ( !v16 )
              break;
            v17 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v18 = v7 + v17;
            v7 = __CFADD__(v7, v17) | __CFADD__(v17, v18);
            v8 = v17 + v18;
            if ( v7 )
              break;
          }
        }
        v7 = v11 < 3;
        v19 = v11 - 3;
        if ( !v7 )
        {
          v20 = v19 << 8;
          LOBYTE(v20) = *(_BYTE *)v3;
          v3 = (int *)((char *)v3 + 1);
          v21 = ~v20;
          if ( !v21 )
          {
            v44 = v67;
            v45 = (char *)(v67 + 2048);
            v46 = 99;
            while ( 1 )
            {
              v47 = *v45++;
              v48 = v47 + 24;
              while ( v48 <= 1u && *v45 == 1 )
              {
                v49 = *(_DWORD *)v45;
                LOWORD(v49) = BYTE1(*(_DWORD *)v45);
                v50 = __ROL4__(v49, 16);
                v51 = v50;
                LOBYTE(v50) = BYTE1(v50);
                BYTE1(v50) = v51;
                v52 = v45[4] + 24;
                *(_DWORD *)v45 = (char *)v44 + v50 - (_DWORD)v45;
                v45 += 5;
                v48 = v52;
                if ( !--v46 )
                {
                  v53 = (char *)(v44 + 24576);
LABEL_38:
                  v54 = *(_DWORD *)v53;
                  if ( *(_DWORD *)v53 )
                  {
                    v55 = (int *)((char *)v44 + *((_DWORD *)v53 + 1));
                    v53 += 8;
                    v56 = ((int (__cdecl *)(int, int, int, int, int, int *, int, int, int))v44[30729])(
                            (int)v44 + v54 + 122636,
                            v68,
                            v69,
                            v70,
                            v71,
                            v72,
                            v73,
                            v74,
                            v75);
                    while ( 1 )
                    {
                      v57 = *v53++;
                      if ( !v57 )
                        goto LABEL_38;
                      v58 = v53;
                      v66 = v53;
                      v59 = v57 - 1;
                      do
                      {
                        if ( !v58 )
                          break;
                        v16 = *v53++ == (char)v59;
                        --v58;
                      }
                      while ( !v16 );
                      v60 = ((int (__cdecl *)(int, char *))v44[30730])(v56, v66);
                      if ( !v60 )
                        break;
                      *v55++ = v60;
                    }
                    v54 = ((int (*)(void))v44[30734])();
                  }
                  v61 = (void (__cdecl *)(int *, int, int, int *))v44[30731];
                  v62 = v44 - 1024;
                  v64 = v54;
                  v61(v44 - 1024, 4096, 4, &v64);
                  *((_BYTE *)v62 + 511) &= ~0x80u;
                  *((_BYTE *)v62 + 551) &= ~0x80u;
                  v61(v44 - 1024, 4096, v63[0], v63);
                  do
                    v64 = 0;
                  while ( &v64 != &v65 - 32 );
                  JUMPOUT(0x4081A7);
                }
              }
            }
          }
          v5 = v21;
        }
        v22 = __CFADD__(v8, v8);
        v23 = 2 * v8;
        if ( !v23 )
        {
          v24 = *v3;
          v7 = (unsigned int)v3++ < 0xFFFFFFFC;
          v25 = v7 + v24;
          v22 = __CFADD__(v7, v24) | __CFADD__(v24, v25);
          v23 = v24 + v25;
        }
        v26 = v22;
        v27 = __CFADD__(v23, v23);
        v8 = 2 * v23;
        if ( !v8 )
        {
          v28 = *v3;
          v7 = (unsigned int)v3++ < 0xFFFFFFFC;
          v29 = v7 + v28;
          v27 = __CFADD__(v7, v28) | __CFADD__(v28, v29);
          v8 = v28 + v29;
        }
        v30 = v26 + v27 + v26;
        if ( !v30 )
        {
          v31 = 1;
          while ( 1 )
          {
            v32 = __CFADD__(v8, v8);
            v33 = 2 * v8;
            if ( !v33 )
            {
              v34 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v35 = v7 + v34;
              v32 = __CFADD__(v7, v34) | __CFADD__(v34, v35);
              v33 = v34 + v35;
            }
            v31 += v32 + v31;
            v7 = __CFADD__(v33, v33);
            v36 = 2 * v33 == 0;
            v8 = 2 * v33;
            if ( v7 )
            {
              if ( !v36 )
                break;
              v37 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v38 = v7 + v37;
              v7 = __CFADD__(v7, v37) | __CFADD__(v37, v38);
              v8 = v37 + v38;
              if ( v7 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v39 = (v5 < 0xFFFFF300) + v30 + 1;
        v40 = (char *)v4 + v5;
        if ( v5 <= 0xFFFFFFFC )
        {
          do
          {
            v42 = *(_DWORD *)v40;
            v40 += 4;
            *v4++ = v42;
            v43 = v39 <= 4;
            v39 -= 4;
          }
          while ( !v43 );
          v4 = (int *)((char *)v4 + v39);
        }
        else
        {
          do
          {
            v41 = *v40++;
            *(_BYTE *)v4 = v41;
            v4 = (int *)((char *)v4 + 1);
            --v39;
          }
          while ( v39 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 41B68F: positive sp value 50 has been found
// 41B68F: control flows out of bounds to 4081A7
// 413000: using guessed type int dword_413000[512];
// 41B500: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
