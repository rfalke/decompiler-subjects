/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int a1@<eax>, char *a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>);

//-------------------------------------------------------------------------
// Data declarations

int dword_437000[512] =
{
  -1876295519,
  1409369600,
  708837152,
  959515850,
  -558497739,
  2086487296,
  -149891,
  1105199077,
  1647803486,
  1565546126,
  1417017143,
  -155437257,
  -1227113355,
  -12172810,
  180354783,
  797959732,
  -1916221245,
  1666872398,
  1968593456,
  -1227410365,
  2053526749,
  1107147575,
  10975192,
  450835164,
  -1042330076,
  -33624757,
  -206256001,
  967096895,
  -1228175079,
  -1167784459,
  -262007886,
  -1092722889,
  -1948319491,
  -1292827611,
  1613220519,
  566156390,
  -1532078787,
  -600506647,
  1858198581,
  2124814010,
  731531941,
  1688500585,
  -426591836,
  2023909283,
  -1371489884,
  -1703173983,
  -1347524309,
  -1183601127,
  -1387600238,
  1763814501,
  -1419664210,
  -127945161,
  -546887672,
  1597251986,
  852356939,
  -327151606,
  -943951888,
  -255114552,
  156242739,
  2111830094,
  798381031,
  58178567,
  1127337908,
  -1879769547,
  -1190992778,
  -1872661696,
  1980469385,
  1085866110,
  134546478,
  2064531641,
  -539244677,
  -836623716,
  -543950863,
  -1106697442,
  1960773554,
  -301610989,
  376881527,
  -853183662,
  1951430037,
  1230885463,
  1113289574,
  1574066034,
  1159098656,
  -1781717648,
  2135859316,
  1230819937,
  2102820467,
  542933339,
  -780436393,
  2054637916,
  1333359126,
  -1780217406,
  1740732504,
  -503799615,
  1736704135,
  -544111928,
  1085875384,
  463239462,
  194010739,
  1380254436,
  775993602,
  -1876016300,
  1163453451,
  -458487218,
  -562103350,
  -1046021088,
  -1210294275,
  -1528185249,
  990382036,
  650439131,
  604708341,
  -461391056,
  955727097,
  926299058,
  46337889,
  927875257,
  -1876010626,
  1481761803,
  -1190993053,
  88563264,
  730861318,
  1891700592,
  851046019,
  113897269,
  631342083,
  1731598753,
  -267125974,
  -923669001,
  1123689378,
  747288382,
  1060193095,
  338385904,
  1616970569,
  721599571,
  -603504198,
  1574460817,
  1935762483,
  1136867615,
  -183254314,
  1393789620,
  -332399188,
  1595302466,
  296306910,
  1698224095,
  -689140713,
  -918405753,
  654404546,
  -1796461032,
  1779683949,
  -1138551332,
  1075189650,
  250071089,
  -1070074347,
  -396146758,
  -1861862976,
  947536412,
  636259904,
  863484483,
  -1893439510,
  1429965712,
  -1483971527,
  -992357567,
  495204623,
  -264623062,
  2118269510,
  -555867633,
  -1842133011,
  446810179,
  2033955899,
  -400500651,
  1142897779,
  1017972850,
  -264825030,
  24105471,
  1077365514,
  1768469559,
  1720154810,
  -1875505313,
  -354559437,
  1355450298,
  1506293085,
  775993602,
  -1876012221,
  1532748811,
  -469004263,
  -1600037942,
  775993904,
  881045167,
  -1498459301,
  973062717,
  628583783,
  375821789,
  1462592832,
  1716083922,
  627262052,
  1379177933,
  1557284194,
  1315009353,
  1546937440,
  1852790560,
  392185024,
  1819121096,
  1562735264,
  1517448029,
  -972700822,
  1748199685,
  1557288723,
  1482117449,
  1568765782,
  1418286368,
  1551988709,
  1381193289,
  1551988361,
  1347509833,
  -972963634,
  1732927237,
  1061390707,
  1062330267,
  -892921605,
  2147118831,
  1723502458,
  1140198600,
  1123355699,
  -1015890841,
  -159439060,
  -1076103457,
  -1527367483,
  -1237352392,
  778926814,
  -616366532,
  739383998,
  2143092724,
  1375679499,
  1361135304,
  -70430280,
  -577,
  596521975,
  -1233787503,
  635950326,
  2000084023,
  1120632590,
  1120863437,
  -588792638,
  486301174,
  -843660446,
  876924727,
  1037360247,
  120544211,
  1060167456,
  -2053283186,
  -581258025,
  -337922096,
  1072628543,
  1916070712,
  -119552017,
  1841229616,
  -1125185996,
  1691550443,
  -1094167585,
  -583740566,
  1790564044,
  299308046,
  921644389,
  -1370824741,
  1194290224,
  527940619,
  -615778764,
  1842558695,
  -1203765474,
  205579020,
  1222227847,
  38660021,
  405004263,
  -555107434,
  219215682,
  -1955413906,
  -370245371,
  1311955932,
  -2026578701,
  556217104,
  1870362425,
  1138746114,
  601626242,
  1796933408,
  406494191,
  -2123781633,
  768809219,
  -1887211933,
  1153918731,
  792510247,
  -953453861,
  1779687363,
  1824131948,
  -1246316241,
  -1206972597,
  -567605982,
  -1829252842,
  889851343,
  -1015991813,
  -1178914640,
  -1106822486,
  -1791410314,
  2105766786,
  1956155873,
  1467440417,
  -10343742,
  2013678078,
  -1234993988,
  1329057780,
  67306019,
  -20476434,
  1603208709,
  155474526,
  65813612,
  -1083904324,
  2095163355,
  -414830029,
  532375423,
  802896948,
  1727345887,
  -505733273,
  1838333961,
  -1459133946,
  -438167347,
  1412942550,
  -1015407397,
  887032237,
  1823277051,
  470473540,
  853456127,
  -1092733455,
  -544328067,
  1647426366,
  -594595460,
  664495623,
  -299666244,
  -351538771,
  996457699,
  1701383476,
  -859588641,
  376281974,
  330436671,
  1730744934,
  -1039277151,
  -1786896396,
  -1073778949,
  -690089551,
  -508040654,
  -241073398,
  1626336820,
  1090980475,
  604004150,
  1356826267,
  384298675,
  515399672,
  -61671050,
  -1127508470,
  469176277,
  -26428817,
  670146236,
  561461087,
  1530650757,
  -150045326,
  -148175050,
  -1854439346,
  996086778,
  -1303868262,
  -1047268852,
  -1775233255,
  -1872995402,
  730014684,
  -2056101900,
  774145937,
  -344309839,
  -469649047,
  934459681,
  -2131038428,
  1838215713,
  603402628,
  725030524,
  -212655047,
  1248097079,
  1207939614,
  -1959676101,
  -2027585825,
  -561011453,
  -185082668,
  -1914979230,
  -1258541691,
  1633995763,
  574614880,
  555528811,
  229720963,
  -923684431,
  934784030,
  1762440281,
  910351880,
  1194078052,
  -551429014,
  -1491749022,
  102803203,
  -659289676,
  -1041571978,
  154570975,
  -754304180,
  723628620,
  -1644827604,
  644362565,
  -249949672,
  1950588518,
  1121521224,
  1064481541,
  389690743,
  370091062,
  933298758,
  1577980429,
  905306059,
  -1306975893,
  -258002903,
  -1306684375,
  997511156,
  1680868010,
  1695313071,
  71748466,
  -1862909006,
  675463606,
  -836287455,
  95568857,
  1244941342,
  -757526465,
  -196998000,
  219227100,
  1191764382,
  652524612,
  -2114295453,
  -1750324933,
  1059897143,
  257645129,
  2047635647,
  -126532805,
  1647520768,
  -665397541,
  213894182,
  36789524,
  468742095,
  -793357828,
  -766428984,
  -1259880389,
  875589583,
  -613700340,
  540443510,
  891893025,
  1448078916,
  864940576,
  1077883673,
  1852691188,
  1242432921,
  -2144705221,
  -9487508,
  1005086429,
  1908157068,
  1123028011,
  -1196046301,
  -872468623,
  654666930,
  -602463445,
  201440305,
  -1555771,
  1147347190,
  -289713881,
  -1185818878,
  582750711,
  97384165,
  -1124726437,
  989988709,
  635170234,
  -1125270274,
  83297317,
  1464001662,
  457554447,
  -75792469,
  1102854655,
  -589371853,
  821098028,
  1454152273,
  1292123973,
  -676056000,
  -1157779224,
  1777383153,
  -818626207,
  -1089677579,
  -390002366,
  796234606,
  567118735,
  564216204,
  1277520398,
  -1149304241,
  1664360237,
  398012284,
  1994179892,
  820624538,
  -1134430217,
  1004302791,
  -1219337829,
  -76497633,
  1399445686,
  472662587,
  -1292976084,
  1993159699,
  -1950367557,
  -688490437,
  -998493131
}; // weak


//----- (0043E5C0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, char *a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>)
{
  int *v7; // esi
  int *v8; // edi
  unsigned int v9; // ebp
  char v10; // al
  bool v11; // cf
  int v12; // ebx
  int v13; // ebx
  int v14; // ett
  unsigned int v15; // eax
  bool v16; // cf
  int v17; // ebx
  int v18; // ebx
  int v19; // ett
  bool v20; // zf
  int v21; // ebx
  int v22; // ett
  int v23; // ecx
  unsigned int v24; // eax
  unsigned int v25; // eax
  int v26; // eax
  bool v27; // cf
  int v28; // ebx
  int v29; // ebx
  int v30; // ett
  BOOL v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ett
  int v35; // ecx
  int v36; // ecx
  bool v37; // cf
  int v38; // ebx
  int v39; // ebx
  int v40; // ett
  bool v41; // zf
  int v42; // ebx
  int v43; // ett
  unsigned int v44; // ecx
  char v45; // al
  int v46; // eax
  bool v47; // cc
  int *v48; // esi
  char *v49; // edi
  int v50; // eax
  int *v51; // ebx
  int v52; // ebp
  char v53; // al
  char *v54; // ecx
  unsigned __int8 v55; // al
  int v56; // eax
  void (__fastcall *v57)(int, char *, int *, int, int, int *); // ebp
  int *v58; // edi
  int v59[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v60; // [esp+2Ch] [ebp-80h] BYREF
  int v61; // [esp+30h] [ebp-7Ch] BYREF
  char *v62; // [esp+34h] [ebp-78h]
  int *v63; // [esp+38h] [ebp-74h]
  int v64; // [esp+3Ch] [ebp-70h]
  char *v65; // [esp+40h] [ebp-6Ch]
  int v66; // [esp+44h] [ebp-68h]
  int v67; // [esp+48h] [ebp-64h]
  int *v68; // [esp+4Ch] [ebp-60h]
  int v69; // [esp+50h] [ebp-5Ch]
  int v70; // [esp+54h] [ebp-58h]
  int v71; // [esp+58h] [ebp-54h]
  int v72; // [esp+5Ch] [ebp-50h] BYREF

  v71 = a7;
  v70 = a6;
  v69 = a5;
  v68 = &v72;
  v67 = a4;
  v66 = a3;
  v65 = a2;
  v64 = a1;
  v7 = dword_437000;
  v8 = &dword_437000[-55296];
  v63 = &dword_437000[-55296];
  v9 = -1;
  while ( 1 )
  {
    v13 = *v7;
    v11 = (unsigned int)v7++ < 0xFFFFFFFC;
    v14 = v11 + v13;
    v11 = __CFADD__(v11, v13) | __CFADD__(v13, v14);
    v12 = v13 + v14;
    do
    {
      if ( v11 )
      {
        v10 = *(_BYTE *)v7;
        v7 = (int *)((char *)v7 + 1);
        *(_BYTE *)v8 = v10;
        v8 = (int *)((char *)v8 + 1);
      }
      else
      {
        v15 = 1;
        while ( 1 )
        {
          v16 = __CFADD__(v12, v12);
          v17 = 2 * v12;
          if ( !v17 )
          {
            v18 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v19 = v11 + v18;
            v16 = __CFADD__(v11, v18) | __CFADD__(v18, v19);
            v17 = v18 + v19;
          }
          v15 += v16 + v15;
          v11 = __CFADD__(v17, v17);
          v20 = 2 * v17 == 0;
          v12 = 2 * v17;
          if ( v11 )
          {
            if ( !v20 )
              break;
            v21 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v22 = v11 + v21;
            v11 = __CFADD__(v11, v21) | __CFADD__(v21, v22);
            v12 = v21 + v22;
            if ( v11 )
              break;
          }
        }
        v23 = 0;
        v11 = v15 < 3;
        v24 = v15 - 3;
        if ( !v11 )
        {
          v25 = v24 << 8;
          LOBYTE(v25) = *(_BYTE *)v7;
          v7 = (int *)((char *)v7 + 1);
          v26 = ~v25;
          if ( !v26 )
          {
            v48 = v63;
            v49 = (char *)(v63 + 61440);
LABEL_33:
            v50 = *(_DWORD *)v49;
            if ( *(_DWORD *)v49 )
            {
              v51 = (int *)((char *)v48 + *((_DWORD *)v49 + 1));
              v49 += 8;
              v52 = ((int (__fastcall *)(int, char *, int, int, char *, int, int, int *, int, int, int))v48[66056])(
                      v23,
                      a2,
                      (int)v48 + v50 + 264024,
                      v64,
                      v65,
                      v66,
                      v67,
                      v68,
                      v69,
                      v70,
                      v71);
              while ( 1 )
              {
                v53 = *v49++;
                if ( !v53 )
                  goto LABEL_33;
                v54 = v49;
                v62 = v49;
                v55 = v53 - 1;
                do
                {
                  if ( !v54 )
                    break;
                  v20 = *v49++ == (char)v55;
                  --v54;
                }
                while ( !v20 );
                v56 = ((int (__cdecl *)(int, char *))v48[66057])(v52, v62);
                if ( !v56 )
                  break;
                *v51++ = v56;
              }
              v50 = ((int (*)(void))v48[66061])();
            }
            v57 = (void (__fastcall *)(int, char *, int *, int, int, int *))v48[66058];
            v58 = v48 - 1024;
            v60 = v50;
            v57(v23, a2, v48 - 1024, 4096, 4, &v60);
            *((_BYTE *)v58 + 495) &= 0x7Fu;
            *((_BYTE *)v58 + 535) &= 0x7Fu;
            ((void (__cdecl *)(int *, int, int, int *))v57)(v48 - 1024, 4096, v59[0], v59);
            do
              v60 = 0;
            while ( &v60 != &v61 - 32 );
            JUMPOUT(0x433D66);
          }
          v9 = v26;
        }
        v27 = __CFADD__(v12, v12);
        v28 = 2 * v12;
        if ( !v28 )
        {
          v29 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v30 = v11 + v29;
          v27 = __CFADD__(v11, v29) | __CFADD__(v29, v30);
          v28 = v29 + v30;
        }
        v31 = v27;
        v32 = __CFADD__(v28, v28);
        v12 = 2 * v28;
        if ( !v12 )
        {
          v33 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v34 = v11 + v33;
          v32 = __CFADD__(v11, v33) | __CFADD__(v33, v34);
          v12 = v33 + v34;
        }
        v35 = v31 + v32 + v31;
        if ( !v35 )
        {
          v36 = 1;
          while ( 1 )
          {
            v37 = __CFADD__(v12, v12);
            v38 = 2 * v12;
            if ( !v38 )
            {
              v39 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v40 = v11 + v39;
              v37 = __CFADD__(v11, v39) | __CFADD__(v39, v40);
              v38 = v39 + v40;
            }
            v36 += v37 + v36;
            v11 = __CFADD__(v38, v38);
            v41 = 2 * v38 == 0;
            v12 = 2 * v38;
            if ( v11 )
            {
              if ( !v41 )
                break;
              v42 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v43 = v11 + v42;
              v11 = __CFADD__(v11, v42) | __CFADD__(v42, v43);
              v12 = v42 + v43;
              if ( v11 )
                break;
            }
          }
          v35 = v36 + 2;
        }
        v44 = (v9 < 0xFFFFF300) + v35 + 1;
        a2 = (char *)v8 + v9;
        if ( v9 <= 0xFFFFFFFC )
        {
          do
          {
            v46 = *(_DWORD *)a2;
            a2 += 4;
            *v8++ = v46;
            v47 = v44 <= 4;
            v44 -= 4;
          }
          while ( !v47 );
          v8 = (int *)((char *)v8 + v44);
        }
        else
        {
          do
          {
            v45 = *a2++;
            *(_BYTE *)v8 = v45;
            v8 = (int *)((char *)v8 + 1);
            --v44;
          }
          while ( v44 );
        }
      }
      v11 = __CFADD__(v12, v12);
      v12 *= 2;
    }
    while ( v12 );
  }
}
// 43E718: positive sp value 50 has been found
// 43E718: control flows out of bounds to 433D66
// 43E6AF: variable 'v23' is possibly undefined
// 43E6AF: variable 'a2' is possibly undefined
// 437000: using guessed type int dword_437000[512];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
