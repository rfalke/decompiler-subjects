/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// int __usercall start@<eax>(unsigned int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<edi>, int a6@<esi>);
__int64 sub_40220C(void); // weak


//----- (004011C2) --------------------------------------------------------
int __usercall start@<eax>(unsigned int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<edi>, int a6@<esi>)
{
  int v6; // ebx
  int v7; // edx
  unsigned int v8; // ecx
  int v9; // edi
  int v10; // ecx
  int v12; // ecx
  int v13; // eax
  int v14; // esi
  int v15; // ecx
  int v16; // edi
  int v18; // edi
  int v19; // edx
  int v20; // esi
  int v21; // edi
  int v22; // edx
  int v23; // ebx
  int v24; // eax
  int v25; // esi
  int v26; // edi
  signed int v27; // ebx
  _BYTE *v28; // eax
  unsigned __int64 v29; // kr00_8
  int result; // eax
  unsigned int v31; // ecx
  unsigned int v32; // esi
  unsigned int v33; // edx
  unsigned int v34; // ebx
  int v35; // edi
  unsigned int v36; // eax
  char *v37; // et2
  int v38; // esi
  __int64 v39; // rax
  int v40; // ett
  _BYTE *v41; // ecx
  unsigned int v42; // eax
  unsigned int v43; // ecx
  int v44; // edi
  int v45; // edx
  int i; // eax
  int v47; // esi
  int v48; // ecx
  int v49; // ebx
  int v50; // edx
  int v51; // ecx
  int v52; // edi
  int v53; // esi
  int v54; // edx
  int v55; // ecx
  unsigned int v56; // esi
  int v57; // eax
  int v58; // edi
  int v59; // ebx
  int v60; // ecx
  int v67; // ebx
  unsigned int v68; // eax
  unsigned int v69; // eax
  __int64 v70; // rdi
  int v71; // ett
  int v72; // eax
  __int64 v73; // rdi
  int v74; // eax
  int v75; // eax
  int v76; // edx
  int v77; // ecx
  int v78; // ecx
  unsigned __int64 v79; // kr20_8
  int v80; // edx
  int v81; // ebx
  bool v82; // cf
  int v83; // ebx
  int v84; // esi
  int v85; // edi
  int v86; // ebx
  int v87; // esi
  int v88; // edx
  unsigned int v89; // ecx
  __int64 v90; // rax
  int savedregs; // [esp+0h] [ebp+0h] BYREF

  v38 = a2 | a6;
  v9 = v38 | (a2 + (a1 & a3) - a5);
  v10 = (a2 & ((v38 | v38 | ((a1 | a4) - v38)) - v38)) - v38;
  v84 = v10 & v38;
  v85 = a2 + (v10 & v9);
  v86 = v84 + v10;
  v87 = (v84 + v10) & v84;
  v88 = v87 | a2;
  v32 = (__PAIR64__(v87, a1) - __PAIR64__(v10, v86)) >> 32;
  LODWORD(v39) = a1 - v86;
  HIDWORD(v39) = v88 - v85;
  v40 = (v39 + (unsigned __int64)(unsigned int)v86) >> 32;
  v35 = -1461069803;
  v36 = v32;
  v33 = v32 & HIDWORD(v39) & 0xA8E9D815;
  v34 = v86 - v32;
  v41 = (_BYTE *)((v10 - v40) & 0xA8E9D815);
  if ( v32 == -287118449 )
  {
    LOBYTE(v36) = *v41 - 113;
    _CF = __CFADD__(*(_BYTE *)v36, (_BYTE)v33);
    LOBYTE(v33) = *(_BYTE *)v36 + v33;
    *(_BYTE *)v36 += v33 + _CF;
    LOBYTE(v36) = *(_BYTE *)v34 & v36;
    v42 = v36 | 0xA8E9D815;
    v43 = (unsigned int)&v41[v33];
    v44 = -287118449;
    v45 = v42 | v33;
    v23 = v43;
    for ( i = v43 & v42; ; i = v13 - 1 )
    {
      _CF = v32 < v43;
      v56 = v32 - v43;
      v57 = v23 | (i - (_CF + v56));
      v58 = v45 & v44;
      v59 = v23 - v45;
      v60 = v45;
      _ESI = (v57 | v56) - v45;
      _EAX = _ESI + v57 - ((__PAIR64__(v58, _ESI) + (unsigned int)v57) >> 32);
      if ( _ESI == -581959400 )
      {
        LOBYTE(v60) = *(_BYTE *)(_EAX - 124) + (*(_BYTE *)v45 & v45);
        *(_BYTE *)(v59 + 4 * v60 + 466682838) &= _EAX;
        __asm { rep sbb eax, esi }
        v67 = v58 - (_CF - 581959400);
        HIDWORD(v70) = -581959400 - v60;
        LODWORD(v70) = -581959400 - v60;
        v68 = ((__PAIR64__(_EAX, -581959400) - __PAIR64__(HIDWORD(v70), v60)) >> 32) - HIDWORD(v70);
        _CF = __CFADD__(-581959400 - v60, v68);
        v71 = (v70 + (unsigned __int64)v68) >> 32;
        v69 = -581959400 - v60 + v68;
        LODWORD(v70) = -581959400 - v60 - v71;
        v78 = (-581959400 - v60) | v60;
        v79 = __PAIR64__(HIDWORD(v70), v45)
            + ((__PAIR64__(v69, HIDWORD(v70)) - __PAIR64__(HIDWORD(v70) - v71, (unsigned int)_CF + HIDWORD(v70))) >> 32);
        v80 = v45 - HIDWORD(v79) - HIDWORD(v70);
        v81 = (HIDWORD(v70) | ((HIDWORD(v70) | v70) + v79)) + (v80 & v67);
        v82 = __CFADD__(v80, v81);
        v83 = v80 + v81;
        v27 = v83 - (v82 + v80);
        v28 = (_BYTE *)(v80 - v27);
        v29 = __PAIR64__(v78, v78) - __PAIR64__(v80 - v27, v80 - (v27 & (v80 | (unsigned int)(v27 + HIDWORD(v70)))));
        if ( (__PAIR64__(v78, v78) - __PAIR64__(v80 - v27, v80 - (v27 & (v80 | (unsigned int)(v27 + HIDWORD(v70)))))) >> 32 != 1066142136 )
        {
          v90 = sub_40220C();
          *(_DWORD *)(HIDWORD(v29) - (v29 & HIDWORD(v29) & v29)) += HIDWORD(v90) + _CF;
          __asm { retf }
        }
        _CF = __CFADD__((_BYTE)v29, *v28);
        *v28 += v29;
        result = (int)(v28 - 1);
        *(_DWORD *)v27 += result + _CF;
        return result;
      }
      v23 = v58 | v59;
      v24 = v58 - v23;
      v25 = v45 & _ESI;
      v26 = v45 - v25;
      v12 = v25 & (v45 - v25);
      v13 = v25 & v24;
      v14 = v45 + v25;
      v15 = v13 & (v13 | v12);
      v16 = v26 - (v26 & (v14 + v45));
      _CF = __CFADD__(v15, v16);
      v18 = v15 + v16;
      v45 = v14;
      v32 = -_CF;
      v44 = v18 - v13;
      v43 = v45;
      if ( v45 != 994608438 )
        break;
      *(_DWORD *)v13 |= (unsigned int)&savedregs;
    }
    v75 = (__PAIR64__(v44, v45) - __PAIR64__(v23, 994608438)) >> 32;
    v76 = v23 | (2 * v45);
    v77 = v23 - v76;
    v6 = v23 - v76 + v23;
    v7 = v6 | v75 & v76;
    v8 = v75 + v77;
    v72 = v8 | v75;
    HIDWORD(v73) = v72 | (v7 - v8);
    LODWORD(v73) = v72;
    v74 = v8 & v72;
    v19 = (__PAIR64__(HIDWORD(v73) + v8 + HIDWORD(v73) - v6, v8) - v73) >> 32;
    v20 = (v19 & HIDWORD(v73)) - v6;
    v21 = v6 & v73;
    v22 = v20 + v19;
    v47 = v6 + v20;
    v48 = v6 + v22;
    v49 = ((v6 + v22) | v6) - (__CFADD__(v48, v48) + 2 * v48);
    v50 = v48;
    v51 = v47 & v48;
    v52 = v21 - v74;
    v53 = v49 & v47;
    v54 = v74 | v50;
    v55 = v51 - v54;
    if ( v49 == 840086830 )
      JUMPOUT(0x4012EC);
    result = ((v54 | v55) + v52 - v74) | v54 | v55 | (v53 - ((v52 - v74) & v54));
  }
  else
  {
    v31 = (unsigned int)&v41[v33];
    do
    {
      v32 += v35;
      v33 += v31;
      v34 = v31 + (v35 | v34);
      v35 -= 801885150;
      v36 -= v34;
      v31 = v35 + v31 - ((__PAIR64__(v35, v35) + v31) >> 32);
    }
    while ( v35 != 306918961 );
    if ( v34 == -1000936000 )
    {
      v37 = (char *)(v31 + *(_DWORD *)v31);
      *(_DWORD *)(v36 + 1) = (__PAIR64__(v33, v31) + __PAIR64__(*(_DWORD *)(v36 + 1), *(_DWORD *)v31)) >> 32;
      *(_DWORD *)v31 = v37;
      JUMPOUT(0x4011C1);
    }
    __asm { fnclex }
    v89 = 0;
    while ( 1 )
    {
      __asm { smsw    eax }
      if ( ++v89 == 2 )
        break;
      if ( (result & 8) == 0 )
      {
        do
          __asm { smsw    eax }
        while ( (_EAX & 2) == 0 );
        if ( -((__PAIR64__(v33 - v89, _EAX + v32) + v89) >> 32) - v89 == 1336028740 )
          JUMPOUT(0x4010A4);
        JUMPOUT(0x40116F);
      }
    }
  }
  return result;
}
// 40109E: control flows out of bounds to 4010A4
// 4011BF: control flows out of bounds to 4011C1
// 4012EA: control flows out of bounds to 4012EC
// 40109E: control flows out of bounds to 40116F
// 40143A: variable '_CF' is possibly undefined
// 40220C: using guessed type __int64 sub_40220C(void);

//----- (0040220C) --------------------------------------------------------
#error "40220C: stack frame is too big (funcsize=0)"

// nfuncs=2 queued=2 decompiled=2 lumina nreq=0 worse=0 better=0
#error "There were 1 decompilation failure(s) on 2 function(s)"
