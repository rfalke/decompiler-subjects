/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// char __usercall start@<al>(unsigned int a1@<eax>, unsigned int _EDX@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<edi>, unsigned int a6@<esi>);


//----- (0040146B) --------------------------------------------------------
char __usercall start@<al>(unsigned int a1@<eax>, unsigned int _EDX@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<edi>, unsigned int a6@<esi>)
{
  int v8; // esi
  int v12; // ecx
  unsigned int v13; // ebx
  unsigned int v14; // ecx
  int v15; // esi
  BOOL v20; // ett
  unsigned int v21; // edi
  int v26; // esi
  bool v27; // cf
  unsigned int v28; // ett
  unsigned int v29; // eax
  char v30; // cl
  bool v31; // tt
  int v32; // esi
  char v34; // cl
  unsigned int v35; // ebx
  unsigned int v36; // esi
  int v37; // edi
  int v38; // ecx
  int v39; // edi
  int v41; // esi
  int v42; // ebx
  unsigned int v43; // ecx
  int v44; // edi
  int v45; // esi
  int v47; // esi
  BOOL v48; // ett
  unsigned int v49; // eax
  int v50; // ecx
  int v51; // edx
  char v57; // al
  unsigned int v61; // edi
  unsigned int v62; // ecx
  unsigned int v63; // ebx
  char v65; // bh
  char v66; // bl
  unsigned int v67; // edi
  int savedregs; // [esp+0h] [ebp+0h] BYREF
  void *retaddr[2]; // [esp+4h] [ebp+4h]

  v61 = ((a5 + 1488836033) | 0xC0A63453) - 1;
  v62 = v61 + ((a4 & 0x6985781Fu) < 0x22CEBE1E) + a3;
  v63 = 2119442777;
  _ECX = v62 - a6;
  if ( _ECX != 1697793075 )
    goto LABEL_39;
  while ( 1 )
  {
    BYTE1(v63) = v63;
    LOBYTE(a1) = __ROL1__(__ROR1__(a1, 18), _ECX);
    LOBYTE(_EDX) = _ECX & v63;
    LOBYTE(_ECX) = _ECX | 0x3C;
    v27 = __CFSHR__(v63, _ECX);
    LOBYTE(v63) = ((char)v63 >> _ECX) - 1;
    LOBYTE(_ECX) = _ECX - (v27 - 99);
    LOBYTE(v63) = BYTE1(v63) ^ v63;
    v35 = v63 + 3923641;
    BYTE1(_ECX) |= 0xF0u;
    v36 = a6 - _EDX;
    v38 = a1 & _ECX;
    LOBYTE(_EDX) = (_BYTE)_EDX << v38;
    v37 = a1 & v61;
    _EAX = a1 | 0xF870582A;
    BYTE1(v38) = SBYTE1(v38) >> v38 << v38;
    v39 = v37 - _EDX;
    LOBYTE(_EDX) = _EDX | 0xD2;
    BYTE1(_EAX) = __ROR1__(BYTE1(_EAX), v38);
    BYTE1(_EDX) ^= 0x11u;
    v13 = v35 - v38;
    BYTE1(v13) += BYTE1(v38);
    v14 = v38 - 278859057;
    LOBYTE(_EDX) = BYTE1(_EAX) ^ _EDX;
    v27 = v14 < v13;
    _ECX = v14 - v13;
    v15 = v27 + v36 + 991882712;
    _EBX = v13 & 0xC01FC056;
    __asm { rcl     dl, cl }
    LOBYTE(_EBX) = _EBX & 0x9E;
    LOBYTE(_ECX) = (char)_ECX >> _ECX;
    if ( v15 == -2118544908 )
    {
      LOBYTE(_EAX) = _EAX + 4;
      __asm { rcr     bl, cl }
      return _EAX;
    }
    BYTE1(_EAX) <<= _ECX;
    v27 = __CFADD__(_ECX, v15);
    v8 = _ECX + v15;
    LOBYTE(_EBX) = 105;
    v20 = v27;
    v27 = __CFADD__(v27, _EAX);
    _EAX = v20 + _EAX;
    v27 |= __CFADD__(_EAX, -453562647);
    _EAX -= 453562647;
    v27 = BYTE1(_EDX) < (unsigned __int8)(v27 + BYTE1(_EBX));
    BYTE1(_EDX) = 31;
    v21 = _EDX + v27 + v39;
    _ECX = (__PAIR64__(_ECX, _EBX) - (_EAX | 0xB97940C300000000ui64)) >> 32;
    _EBX = _EBX - _EAX;
    LOBYTE(_EBX) = _EAX ^ 0xCF;
    if ( v8 != 949560748 )
    {
      __asm { rcl     ch, cl }
      LOBYTE(_EDX) = __ROR1__(_EDX ^ 0x60, 30);
      LOBYTE(_EBX) = -(char)_EBX;
      BYTE1(_EDX) = -119;
      v27 = __CFADD__((_BYTE)_EAX, 123);
      LOBYTE(_EAX) = _EAX + 123;
      LODWORD(_RAX) = _ECX + v27 + _EAX;
      HIDWORD(_RAX) = _EDX + 1;
      while ( 1 )
      {
        LOBYTE(_EBX) = (char)_EBX >> _ECX;
        --BYTE1(_EBX);
        BYTE5(_RAX) = __ROR1__(BYTE5(_RAX), _ECX) << _ECX;
        __asm { rcr     dh, cl }
        BYTE1(_ECX) = 15;
        v42 = (_EBX & 0x25562933) - v8;
        LOBYTE(_ECX) = _ECX ^ 0xF;
        v41 = HIDWORD(_RAX) & v8;
        BYTE5(_RAX) = __ROR1__(BYTE5(_RAX), _ECX);
        BYTE1(v42) = BYTE5(_RAX);
        v27 = __CFADD__((_BYTE)v42, (_BYTE)_ECX);
        LOBYTE(_ECX) = v42 + _ECX;
        v43 = _ECX - (v27 + HIDWORD(_RAX));
        BYTE1(_RAX) = __ROL1__(BYTE1(_RAX), v43);
        v27 = __CFSHL__(BYTE1(v43), v43);
        BYTE1(v43) <<= v43;
        LODWORD(_RAX) = HIDWORD(_RAX) + v27 + (_DWORD)_RAX;
        LOBYTE(v43) = __ROR1__(v43, 18);
        BYTE1(_RAX) = ~BYTE1(_RAX);
        HIDWORD(_RAX) &= v43;
        _RAX += __PAIR64__(v21, v21);
        --HIDWORD(_RAX);
        _ECX = (_BYTE *)(v43 | 0x3C1C7E66);
        v45 = HIDWORD(_RAX) & v41;
        LOBYTE(_RAX) = _RAX - 17;
        --BYTE1(_ECX);
        _EBX = v45 & v42;
        LOBYTE(_EBX) = BYTE1(_ECX) + _EBX;
        if ( v21 == 883598954 )
          break;
        v65 = BYTE1(_EBX) - ((v21 < 0x34AAA66A) + BYTE4(_RAX));
        BYTE4(_RAX) |= _EBX;
        __asm { rcl     cl, cl }
        v66 = -(char)_EBX;
        v27 = __CFADD__(v66 != 0, v21);
        v67 = (v66 != 0) + v21;
        v27 |= __CFADD__(v45, v67);
        v21 = v45 + v67;
        BYTE1(_RAX) = 32;
        _ECX = (unsigned int)&_ECX[v27 + v45];
        BYTE1(_ECX) = ~BYTE1(_ECX);
        if ( v21 == 991305085 )
        {
          v27 = __CFADD__((_BYTE)_RAX, 2);
          LOBYTE(_RAX) = _RAX + 2;
          *(_BYTE *)_ECX += _ECX + v27;
          *(_DWORD *)(_RAX - 1 + 8 * (_DWORD)&savedregs) &= _RAX - 1;
          __asm { retf }
        }
        _BL = v66 - ((v21 < 0x3B161D7D) + BYTE4(_RAX));
        BYTE1(_EBX) = _BL + v65;
        v8 = _ECX | v21 ^ v45;
        __asm { rcr     bl, cl }
        HIDWORD(_RAX) = 0;
        BYTE1(_RAX) = 23;
        BYTE1(_ECX) -= _EBX;
        if ( v21 != 1483966858 )
          JUMPOUT(0x4013E8);
        *(_BYTE *)_ECX = *(_BYTE *)_ECX;
        LOBYTE(_RAX) = *(_BYTE *)_ECX + _RAX;
      }
      v27 = __CFADD__(*_ECX, (_BYTE)_ECX);
      LOBYTE(_ECX) = *_ECX + (_BYTE)_ECX;
      *_ECX += (_BYTE)_ECX + v27;
      JUMPOUT(0x401325);
    }
    *(_BYTE *)_EDX += _EAX;
    *(_DWORD *)(2 * _ECX) &= (unsigned int)&savedregs;
    *(_BYTE *)(_EAX - 128) += _EAX;
    __asm { aam     0EAh ; 'ê' }
    do
    {
      LOBYTE(_EDX) = __CFADD__((_BYTE)_EBX, BYTE1(_EAX)) + _EDX + 45;
      BYTE1(_EAX) = (unsigned __int8)(_EBX + BYTE1(_EAX)) >> _ECX;
      _EAX &= 0xC978C094;
      __asm { rcl     ch, cl }
      _EBX += 1161845840;
      __asm { rcr     cl, cl }
      BYTE1(_ECX) <<= _ECX;
    }
    while ( _EBX != 1891117450 );
    __asm { fnclex }
    v12 = 0;
    do
    {
      __asm { smsw    eax }
      if ( ++v12 == 2 )
        return _EAX;
    }
    while ( (_EAX & 8) != 0 );
    do
      __asm { smsw    eax }
    while ( (_EAX & 2) == 0 );
    v50 = v12 - 201434346;
    LOBYTE(_EAX) = ((unsigned __int8)_EAX >> v50) - v50;
    BYTE1(v50) ^= 0x8Au;
    v51 = _EAX + (_EDX & 0xF1847B5);
    LOBYTE(v51) = 64;
    if ( v50 == -332891876 )
      break;
    LOBYTE(v50) = (v50 & 0x29) + 1;
    HIWORD(v49) = -26065;
    LOBYTE(v49) = __ROR1__(76, 24);
    v44 = __CFSHL__(-118, 15) + __CFSHR__(v49, v50) + 66795383 + 949560749;
    _EDX = 0;
    BYTE1(_EBX) = BYTE1(v50) + 41;
    LOBYTE(v49) = v50 & __ROR1__(v49, v50);
    LOBYTE(_EBX) = -50;
    _EBX = _EBX | 0xB4B1D268;
    BYTE1(v49) = __ROR1__((-((0x4Cu >> v50) & 0x8A) - 16) ^ 0x7A, v50);
    v31 = __CFSHL__(v50, v50);
    v30 = __ROL1__(v50, v50);
    v32 = 949560749 - (v31 + 1757196455);
    LOBYTE(v49) = BYTE1(_EBX) ^ v49;
    v27 = __CFSHR__(v30, v30);
    __asm { int     2Eh; DOS 2+ internal - EXECUTE COMMAND }
    BYTE1(_EBX) <<= v30 >> v30;
    v61 = v44 & 0xDAB5F3C3;
    _ECX = 0;
    __asm { rcl     cl, cl }
    LOBYTE(_EBX) = _EBX - (v27 - 39) + 1;
    v27 = __CFADD__((_BYTE)v49, (_BYTE)_ECX);
    LOBYTE(_ECX) = v49 + _ECX;
    v48 = v27;
    v27 = __CFADD__(v27, v32);
    v47 = v48 + v32;
    v27 |= __CFADD__(v47, -1302200);
    v26 = v47 - 1302200;
    BYTE1(_EBX) -= v27 + 29;
    LOBYTE(v49) = MEMORY[0xFFFFFFFF];
    v27 = v49 < 0xC000002E;
    a1 = v49 + 1073741778;
    if ( !a1 )
      goto LABEL_16;
    BYTE1(_EBX) -= v27 + _ECX;
    BYTE1(_ECX) = BYTE1(_EBX);
    _BH = BYTE1(_EBX) | 0x98;
    BYTE1(_ECX) = ~BYTE1(_ECX);
    LOBYTE(a1) = (_BYTE)a1 << _ECX;
    __asm { rcl     bh, cl }
    v26 += _ECX;
    if ( _EBX == 1520051013 )
    {
      LOBYTE(a1) = a1 + 64;
      BYTE1(_ECX) &= 0xA8u;
      LOWORD(_ECX) = _ECX & 0x7C5B;
      LOBYTE(_EDX) = -BYTE1(a1);
      a1 |= 0x4B29BB27u;
      v27 = 0;
LABEL_16:
      v28 = v27 - 1644673373;
      v27 = a1 < v28;
      v29 = a1 - v28;
      BYTE1(_ECX) -= v27 + _EDX;
      ++BYTE1(v29);
      if ( v29 != 950943754 )
      {
        _CX = _ECX + 15970;
        _DH = -46 >> _CX;
        _CL = (unsigned __int8)_CX >> _CX;
        __asm
        {
          rcr     ch, cl
          rcr     dh, cl
        }
        v57 = __ROL1__(v29 + 1, _CL);
        if ( v26 == 1417870481 )
        {
          _AL = (v57 & 0x48) + 1;
          _CL = __ROL1__(-_CL, 20);
          __asm { rcr     al, cl }
          JUMPOUT(0x401177);
        }
        JUMPOUT(0x401386);
      }
LABEL_39:
      JUMPOUT(0x4010B0);
    }
    _DL = -(char)((_EBX < 0x5A9A2345) + _ECX);
    v34 = ~(12 - (((_EBX < 0x5A9A2345) + (_BYTE)_ECX != 0) - 127));
    BYTE1(_EBX) &= 0x86u;
    LOBYTE(a1) = a1 - 86;
    BYTE1(_EDX) = _EBX + 1;
    v27 = __CFSHR__(v34, v34);
    _CL = v34 >> v34;
    LOBYTE(_EBX) = _DL + v27 + _EBX + 1;
    __asm { rcr     dl, cl }
    v63 = _EBX | 0xB73729DD;
    _ECX = 777923679;
    v27 = __CFADD__(BYTE1(v63), -90);
    BYTE1(v63) -= 90;
    BYTE1(_ECX) = 44 - (v27 + _EDX);
    __asm { rcl     cl, cl }
    a6 = 777923679 - v63;
  }
  LOBYTE(_EAX) = MK_FP(retaddr[0], retaddr[0])(-332891876, v51);
  return _EAX;
}
// 401323: control flows out of bounds to 401325
// 401463: control flows out of bounds to 401177
// 4014EF: control flows out of bounds to 4010B0
// 401558: control flows out of bounds to 401386
// 401052: control flows out of bounds to 4013E8
// 4010A3: conditional instruction was optimized away because of 'esi.4==389925AC'

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
