// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401005: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	uint32 edx_16 = edx - ebx;
	uint32 edx_27 = edx_16 - ebx - (edx_16 < 0x00);
	word32 edx_45 = edx_27 - ebx - (edx_27 < 0x00) - ebx;
	word32 eax_58 = DPB(edx_45, DPB(edx_45, edx_45, 0), 0);
	word32 eax_93 = DPB(edx_45, DPB(edx_45, DPB(edx_45, DPB(edx_45, DPB(edx_45, DPB(edx_45, DPB(edx_45, DPB(edx_45, eax_58, 0), 0), 0), 0), 0), 0), 0), 0);
	word32 eax_106 = DPB(edx_45, DPB(edx_45, eax_93, 0), 0);
	word32 eax_109 = DPB(eax_106 + 0x01, eax_106 + 0x01, 0);
	word32 eax_112 = DPB(eax_109 + 0x01, eax_109 + 0x01, 0);
	word32 eax_115 = DPB(eax_112 + 3185124241, eax_112 + 3185124241, 0);
	word32 ebx_123;
	word32 ebp_124;
	word32 edi_125;
	word32 eax_129 = DPB(eax_115, DPB(eax_115, fn004010D0(eax_115, ebx, ebp, edi, dwLoc2C, dwLoc16, esi, out ebx_123, out ebp_124, out edi_125), 0), 0);
	word32 ebx_132;
	word32 ebp_133;
	word32 edi_134;
	return DPB(eax_115, fn004010D0(eax_129, ebx_123, ebp_124, edi_125, ebp, dwArg12, dwArg20, out ebx_132, out ebp_133, out edi_134), 0);
}

// 004010D0: Register word16 fn004010D0(Register word32 eax, Register word32 ebx, Register word32 ebp, Register word32 edi, Stack word32 dwArg00, Stack word32 dwArg16, Stack word32 dwArg24, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 ediOut)
word16 fn004010D0(word32 eax, word32 ebx, word32 ebp, word32 edi, word32 dwArg00, word32 dwArg16, word32 dwArg24, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & ediOut)
{
	word32 ecx_156;
	struct Eq_88 * ebx_157;
	fn0040168E(ebx, dwLoc32, fp - 0x2A, out ecx_156, out ebx_157);
	word32 esp_181;
	word32 eax_182;
	byte SZO_183;
	word32 ebp_184;
	word32 edx_185;
	struct Eq_108 * cs_186;
	word16 ax_187;
	byte C_188;
	word16 cx_189;
	word32 ecx_190;
	byte SCZO_191;
	word32 esi_192;
	struct Eq_115 * ebx_193;
	word32 edi_194;
	word16 si_195;
	struct Eq_118 * fs_196;
	byte al_197;
	byte Z_198;
	byte dh_199;
	byte dl_200;
	byte bh_201;
	word16 bx_202;
	byte CZ_203;
	byte ah_204;
	byte cl_205;
	byte bl_206;
	ebx_157->ptr0018();
	ptr32 esp_209;
	word32 eax_210;
	byte SZO_211;
	word32 ebp_212;
	word32 edx_213;
	struct Eq_137 * cs_214;
	word16 ax_215;
	byte C_216;
	word16 cx_217;
	word32 ecx_218;
	byte SCZO_219;
	word32 esi_220;
	<anonymous> ** ebx_221;
	word32 edi_222;
	word16 si_223;
	struct Eq_147 * fs_224;
	byte al_225;
	byte Z_226;
	byte dh_227;
	byte dl_228;
	byte bh_229;
	word16 bx_230;
	byte CZ_231;
	byte ah_232;
	byte cl_233;
	byte bl_234;
	ebx_193->ptr001C();
	word32 eax_236 = DPB(eax_210, eax_210, 0);
	word32 eax_239 = DPB(eax_236 + 0x06, eax_236 + 0x06, 0);
	*(esp_209 - 0x04) = eax_239;
	*(esp_209 - 0x08) = DPB(eax_239, eax_239, 0);
	struct Eq_179 * esp_256;
	word32 eax_257;
	byte SZO_258;
	word32 ebp_259;
	word32 edx_260;
	struct Eq_184 * cs_261;
	word16 ax_262;
	byte C_263;
	word16 cx_264;
	word32 ecx_265;
	byte SCZO_266;
	word32 esi_267;
	word32 ebx_268;
	word32 edi_269;
	word16 si_270;
	struct Eq_194 * fs_271;
	byte al_272;
	byte Z_273;
	byte dh_274;
	byte dl_275;
	byte bh_276;
	word16 bx_277;
	byte CZ_278;
	byte ah_279;
	byte cl_280;
	byte bl_281;
	(*ebx_221)();
	esp_256->dw0038 = ebx_268;
	esp_256->dw003C = esi_267;
	*(esp_256 - 0x04) = ebx_268;
	*(esp_256 - 0x04) = *(esp_256 - 0x04) - 0x04;
	word32 eax_298 = DPB(eax_257, DPB(eax_257, DPB(eax_257, DPB(eax_257, DPB(eax_257, eax_257, 0), 0), 0), 0), 0);
	struct Eq_235 * edi_303 = *(esp_256 - 0x04);
	*(esp_256 - 0x04) = DPB(eax_257, eax_298, 0);
	*(esp_256 - 0x08) = ecx_265;
	*(esp_256 - 0x0C) = esp_256 - 0x08;
	*(esp_256 - 0x10) = 0x40;
	*(esp_256 - 0x14) = esp_256->dw0020;
	*(esp_256 - 0x18) = esp_256->dw0014;
	esp_256->dw0018 = 0x00;
	struct Eq_283 * esp_341;
	word32 eax_342;
	byte SZO_343;
	word32 edx_345;
	struct Eq_287 * cs_346;
	word16 ax_347;
	byte C_348;
	word16 cx_349;
	word32 ecx_350;
	byte SCZO_351;
	word32 esi_352;
	word32 ebx_353;
	word32 edi_354;
	word16 si_355;
	struct Eq_297 * fs_356;
	byte al_357;
	byte Z_358;
	byte dh_359;
	byte dl_360;
	byte bh_361;
	word16 bx_362;
	byte CZ_363;
	byte ah_364;
	byte cl_365;
	byte bl_366;
	word32 ebp_1264;
	edi_303->ptr0010();
	struct Eq_312 Eq_297::* eax_368 = DPB(eax_342, eax_342, 0);
	word32 eax_369 = eax_368 + (fs_356->*eax_368).dw002F / 0x0033;
	struct Eq_319 * eax_372 = DPB(eax_369, eax_369, 0);
	word32 ecx_375 = eax_372->dw0003;
	esp_341->dw0030 = esp_341->dw0030 + ecx_375;
	esp_341->ptr0000 = eax_372;
	esp_341->ptr0004 = esp_341->ptr0000;
	struct Eq_319 * edi_395 = esp_341->ptr0008;
	esp_341->ptr0008 = esp_341->ptr0004;
	struct Eq_319 * ebx_1273 = esp_341->ptr000C;
	esp_341->ptr000C = esp_341->ptr0008;
	struct Eq_319 * eax_410 = esp_341->ptr000C;
	word32 * esi_1272 = esp_341->ptr0010;
	esp_341->ptr0010 = (word32 *) &eax_410->dw0003;
	word32 * eax_426 = esp_341->ptr0010;
	word32 ecx_428 = *eax_426;
	esp_341->ptr0010 = eax_426;
	word32 * eax_432 = esp_341->ptr0010;
	esp_341->dw003C = esp_341->dw003C ^ ecx_428;
	esp_341->ptr0010 = eax_432;
	esp_341->ptr0010 = esp_341->ptr001C;
	word32 * eax_447 = esp_341->ptr0010;
	word32 ecx_452 = esp_341->dw002C;
	*(esp_341 - 244) = eax_447;
	*(esp_341 - 0xF8) = eax_447;
	word32 eax_461 = *(esp_341 - 0xF8);
	*(esp_341 - 0xF0) = ecx_452;
	*(esp_341 - 0xF8) = eax_461;
	*(esp_341 - 0xF8) = (struct Eq_319 **) edi_395;
	int32 eax_471 = 0x00;
	do
	{
		*(esp_341 - 252) = eax_471;
		word32 eax_483 = *(esp_341 - 252);
		esp_341 - 0xEC + eax_471 = (byte *) (byte) eax_483;
		*(esp_341 - 252) = eax_483;
		*(esp_341 - 252) = *(esp_341 - 252) + 0x01;
		uint32 eax_497 = *(esp_341 - 252);
		*(esp_341 - 252) = eax_497;
		eax_471 = *(esp_341 - 252);
	} while (eax_497 < 0x0100);
	*(esp_341 - 252) = eax_471;
	word32 edi_1274 = *(esp_341 - 0xF8);
	*(esp_341 - 0xF8) = *(esp_341 - 252);
	*(esp_341 - 0xF8) = &esp_341->dw003C + 0x02;
	byte * eax_525 = *(esp_341 - 0xF8);
	*(esp_341 - 0xF8) = (byte **) eax_525;
	ptr32 eax_1306 = *(esp_341 - 0xF8);
	ptr32 esp_1291 = esp_341 - 244;
	if (*eax_525 != 121)
	{
		struct Eq_534 * edi_1048 = *(eax_1306 - 0x04);
		do
		{
			word32 esp_1049;
			word32 eax_1050;
			byte SZO_1051;
			word32 ebp_1052;
			word32 edx_1053;
			struct Eq_551 * cs_1054;
			word16 ax_1055;
			byte C_1056;
			word16 cx_1057;
			word32 ecx_1058;
			byte SCZO_1059;
			word32 esi_1060;
			word32 ebx_1061;
			struct Eq_559 * edi_1062;
			word16 si_1063;
			struct Eq_561 * fs_1064;
			byte al_1065;
			byte Z_1066;
			byte dh_1067;
			byte dl_1068;
			byte bh_1069;
			word16 bx_1070;
			byte CZ_1071;
			byte ah_1072;
			byte cl_1073;
			byte bl_1074;
			edi_1048->ptr0018();
			ptr32 esp_1075;
			word32 eax_1076;
			byte SZO_1077;
			word32 ebp_1078;
			word32 edx_1079;
			struct Eq_618 * cs_1080;
			word16 ax_1081;
			byte C_1082;
			word16 cx_1083;
			word32 ecx_1084;
			byte SCZO_1085;
			word32 esi_1086;
			word32 ebx_1087;
			struct Eq_626 * edi_1088;
			word16 si_1089;
			struct Eq_628 * fs_1090;
			byte al_1091;
			byte Z_1092;
			byte dh_1093;
			byte dl_1094;
			byte bh_1095;
			word16 bx_1096;
			byte CZ_1097;
			byte ah_1098;
			byte cl_1099;
			byte bl_1100;
			edi_1062->ptr0018();
			*(esp_1075 - 0x04) = eax_1076;
			ptr32 esp_1106;
			word32 eax_1107;
			byte SZO_1108;
			word32 ebp_1109;
			word32 edx_1110;
			struct Eq_652 * cs_1111;
			word16 ax_1112;
			byte C_1113;
			word16 cx_1114;
			word32 ecx_1115;
			byte SCZO_1116;
			word32 esi_1117;
			word32 ebx_1118;
			struct Eq_660 * edi_1119;
			word16 si_1120;
			struct Eq_662 * fs_1121;
			byte al_1122;
			byte Z_1123;
			byte dh_1124;
			byte dl_1125;
			byte bh_1126;
			word16 bx_1127;
			byte CZ_1128;
			byte ah_1129;
			byte cl_1130;
			byte bl_1131;
			edi_1088->ptr0018();
			*(esp_1106 - 0x04) = eax_1107;
			ptr32 esp_1137;
			word32 eax_1138;
			byte SZO_1139;
			word32 ebp_1140;
			word32 edx_1141;
			struct Eq_686 * cs_1142;
			word16 ax_1143;
			byte C_1144;
			word16 cx_1145;
			word32 ecx_1146;
			byte SCZO_1147;
			word32 esi_1148;
			word32 ebx_1149;
			struct Eq_694 * edi_1150;
			word16 si_1151;
			struct Eq_696 * fs_1152;
			byte al_1153;
			byte Z_1154;
			byte dh_1155;
			byte dl_1156;
			byte bh_1157;
			word16 bx_1158;
			byte CZ_1159;
			byte ah_1160;
			byte cl_1161;
			byte bl_1162;
			edi_1119->ptr0018();
			*(esp_1137 - 0x04) = eax_1138;
			ptr32 esp_1168;
			word32 eax_1169;
			byte SZO_1170;
			word32 ebp_1171;
			word32 edx_1172;
			struct Eq_720 * cs_1173;
			word16 ax_1174;
			byte C_1175;
			word16 cx_1176;
			word32 ecx_1177;
			byte SCZO_1178;
			word32 esi_1179;
			word32 ebx_1180;
			struct Eq_728 * edi_1181;
			word16 si_1182;
			struct Eq_730 * fs_1183;
			byte al_1184;
			byte Z_1185;
			byte dh_1186;
			byte dl_1187;
			byte bh_1188;
			word16 bx_1189;
			byte CZ_1190;
			byte ah_1191;
			byte cl_1192;
			byte bl_1193;
			edi_1150->ptr0018();
			*(esp_1168 - 0x04) = eax_1169;
			ptr32 esp_1199;
			word32 eax_1200;
			byte SZO_1201;
			word32 ebp_1202;
			word32 edx_1203;
			struct Eq_754 * cs_1204;
			word16 ax_1205;
			byte C_1206;
			word16 cx_1207;
			word32 ecx_1208;
			byte SCZO_1209;
			word32 esi_1210;
			word32 ebx_1211;
			struct Eq_762 * edi_1212;
			word16 si_1213;
			struct Eq_764 * fs_1214;
			byte al_1215;
			byte Z_1216;
			byte dh_1217;
			byte dl_1218;
			byte bh_1219;
			word16 bx_1220;
			byte CZ_1221;
			byte ah_1222;
			byte cl_1223;
			byte bl_1224;
			edi_1181->ptr0018();
			*(esp_1199 - 0x04) = eax_1200;
			ptr32 esp_1230;
			word32 eax_1231;
			byte SZO_1232;
			word32 ebp_1233;
			word32 edx_1234;
			struct Eq_788 * cs_1235;
			word16 ax_1236;
			byte C_1237;
			word16 cx_1238;
			word32 ecx_1239;
			byte SCZO_1240;
			word32 esi_1241;
			word32 ebx_1242;
			struct Eq_796 * edi_1243;
			word16 si_1244;
			struct Eq_798 * fs_1245;
			byte al_1246;
			byte Z_1247;
			byte dh_1248;
			byte dl_1249;
			byte bh_1250;
			word16 bx_1251;
			byte CZ_1252;
			byte ah_1253;
			byte cl_1254;
			byte bl_1255;
			edi_1212->ptr0018();
			*(esp_1230 - 0x04) = eax_1231;
			ptr32 esp_1261;
			word32 eax_1262;
			byte SZO_1263;
			word32 edx_1265;
			struct Eq_821 * cs_1266;
			word16 ax_1267;
			byte C_1268;
			word16 cx_1269;
			word32 ecx_1270;
			byte SCZO_1271;
			word16 si_1275;
			struct Eq_828 * fs_1276;
			byte al_1277;
			byte Z_1278;
			byte dh_1279;
			byte dl_1280;
			byte bh_1281;
			word16 bx_1282;
			byte CZ_1283;
			byte ah_1284;
			byte cl_1285;
			byte bl_1286;
			edi_1243->ptr0010();
			*(esp_1261 - 0x04) = eax_1262;
			word32 eax_1290 = *(esp_1261 - 0x04);
			esp_1291 = esp_1261;
			word16 ax_1301 = (word16) (eax_1290 + 0x01);
			cu16 ax_1305 = ax_1301 - cx_1269;
			eax_1306 = DPB(eax_1290 + 0x01, ax_1305, 0);
		} while (ax_1305 < 0x00);
	}
	struct Eq_540 * esp_564 = esp_1291 - 0x04;
	esp_564->dw0000 = ebp_1264;
	*(esp_564 - 0x04) = esi_1272;
	*(esp_564 - 0x08) = eax_1306;
	word32 eax_571 = *(esp_564 - 0x08);
	*(esp_564 - 0x08) = edi_1274;
	*(esp_564 - 0x0C) = eax_571;
	*(esp_564 - 0x0C) = *(esp_564 - 0x0C);
	uint32 edi_586 = esp_564->dw011C;
	*(esp_564 - 0x0C) = 0x00;
	*(esp_564 - 0x0C) = *(esp_564 - 0x0C);
	word32 eax_606 = *(esp_564 - 0x0C);
	*(esp_564 - 0x0C) = (struct Eq_319 **) ebx_1273;
	*(esp_564 - 0x10) = eax_606;
	int32 esi_593 = 0x00;
	int32 ebp_600 = 0x00;
	word32 eax_613 = *(esp_564 - 0x10);
	do
	{
		struct Eq_908 * esp_627 = esp_1291 - 0x10;
		word32 ebx_628 = (word32) esp_627->a0018[ebp_600];
		*(esp_627 - 0x04) = eax_613;
		ptr32 edx_636 = esp_627->ptr0014;
		*(esp_627 - 0x04) = *(esp_627 - 0x04);
		int32 eax_640 = *(esp_627 - 0x04);
		word32 edx_642 = (word32) (edx_636 + eax_640);
		*(esp_627 - 0x04) = eax_640;
		*(esp_627 - 0x04) = *(esp_627 - 0x04);
		*(esp_627 - 0x04) = *(esp_627 - 0x04);
		word16 bx_629 = (word16) ebx_628;
		uint32 eax_658 = *(esp_627 - 0x04);
		word32 edx_663 = edx_642 + (ebx_628 + esi_593);
		int32 edx_667 = DPB(edx_663, 0x00, 8);
		esi_593 = edx_667;
		*(esp_627 - 0x04) = eax_658 + 0x01;
		word32 eax_1043 = *(esp_627 - 0x04);
		if (eax_658 + 0x01 >= edi_586)
		{
			*(esp_627 - 0x04) = eax_1043;
			*(esp_627 - 0x04) = 0x00;
			eax_1043 = *(esp_627 - 0x04);
		}
		byte dl_690 = esp_627->a0018[edx_667];
		*(esp_627 - 0x04) = eax_1043;
		word32 eax_694 = *(esp_627 - 0x04);
		esp_627->a0018[ebp_600] = dl_690;
		*(esp_627 - 0x04) = eax_694;
		int32 eax_700 = *(esp_627 - 0x04);
		ebp_600 = ebp_600 + 0x01;
		ptr32 edx_707 = esp_627->a0018 + edx_667;
		ptr32 edx_710 = edx_707 - eax_700;
		word16 bx_715 = DPB(bx_629, eax_700 + 0x01 + edx_710, 8);
		*(esp_627 - 0x04) = eax_700;
		int32 eax_719 = *(esp_627 - 0x04);
		eax_719 + edx_710 = (word16 *) bx_715;
		*(esp_627 - 0x04) = eax_719;
		*(esp_627 - 0x04) = *(esp_627 - 0x04);
		*(esp_627 - 0x04) = *(esp_627 - 0x04);
		*(esp_627 - 0x04) = *(esp_627 - 0x04);
		eax_613 = *(esp_627 - 0x04);
	} while (SLICE(ebp_600, byte, 8) != 0x01);
	int32 esi_751 = 0x00;
	*(esp_627 - 0x04) = 0x00;
	int32 eax_761 = *(esp_627 - 0x04);
	int32 ebx_766 = esp_627->dw0000;
	word32 ebp_1013 = esp_627->dw012C;
	ptr32 edi_1007 = esp_627->ptr0010;
	esp_627->dw0000 = eax_761;
	esp_627->dw0000 = esp_627->dw0000;
	int32 edx_778 = ebx_766;
	int32 eax_1019 = esp_627->dw0000;
	if (true)
	{
		do
		{
			esp_627->dw0000 = eax_1019 + 0x01;
			int32 eax_896 = DPB(esp_627->dw0000, 0x00, 8);
			byte cl_899 = esp_627->a0018[eax_896];
			esp_627->dw0000 = eax_896;
			int32 eax_909 = esp_627->dw0000;
			word32 ebx_915 = (word32) cl_899;
			word32 ebx_917 = ebx_915 + esi_751;
			int32 ebx_922 = DPB(ebx_917, 0x00, 8);
			byte dl_928 = (&esp_627->dw0000 + 0x01)[(ebx_922 + 0x14) / 0x0130];
			esp_627->a0018[eax_909] = dl_928;
			esp_627->dw0000 = eax_909;
			int32 eax_934 = esp_627->dw0000;
			esp_627->dw0000 = eax_934;
			*(esp_627 - 0x04) = eax_934;
			*(esp_627 - 0x04) = &esp_627->dw0000 + 0x01 + (ebx_922 + 0x14) / 0x0130;
			byte * eax_947 = *(esp_627 - 0x04);
			*eax_947 = cl_899;
			*(esp_627 - 0x04) = (byte **) eax_947;
			esp_627->dw0000 = esp_627->dw0000;
			word32 edx_965 = (word32) dl_928;
			int32 eax_960 = esp_627->dw0000;
			byte dl_966 = (byte) edx_965;
			int32 edx_968 = DPB(edx_965, dl_966 + cl_899, 0);
			esp_627->dw0000 = eax_960;
			ui32 ecx_978 = (&esp_627->dw0000 + 0x01)[(edx_968 + 0x14) / 0x0130];
			esp_627->dw0000 = esp_627->dw0000;
			esp_627->dw0000 = esp_627->dw0000;
			esp_627->dw0000 = esp_627->dw0000;
			int32 eax_996 = esp_627->dw0000;
			*(edi_1007 - 0x01) = *(edi_1007 - 0x01) ^ (word16) (ecx_978 << 0x08);
			esp_627->dw0000 = eax_996;
			esp_627->dw0000 = esp_627->dw0000;
			esp_627->dw0000 = esp_627->dw0000;
			edx_778 = edx_968 + 0x14;
			esi_751 = ebx_922;
			edi_1007 = edi_1007 + 0x01;
			ebp_1013 = ebp_1013 - 0x01;
			eax_1019 = esp_627->dw0000;
		} while (ebp_1013 != 0x00);
		esp_627->dw0000 = eax_1019;
		eax_1019 = esp_627->dw0000;
	}
	struct Eq_1122 * esp_815 = esp_1291 - 0x0C;
	word32 edi_816;
	*ediOut = esp_815->dw0000;
	word32 ebp_820;
	*ebpOut = esp_815->dw0008;
	esp_815->dw0008 = eax_1019;
	esp_815->dw0114 = esp_815->dw0008;
	esp_815->dw0118 = esp_815->dw0118;
	esp_815->dw0140 = esp_815->dw0118;
	word32 eax_845 = esp_815->dw0140;
	esp_815->dw0140 = eax_845;
	esp_815->dw013C = eax_845;
	esp_815->dw013C = esp_815->dw013C;
	word32 ebx_854;
	*ebxOut = edx_778;
	return (word16) esp_815->dw013C;
}

// 0040168E: Register word16 fn0040168E(Register word32 ebx, Stack word32 dwArg00, Stack ptr32 dwArg04, Register out ptr32 ecxOut, Register out ptr32 ebxOut)
word16 fn0040168E(word32 ebx, word32 dwArg00, ptr32 dwArg04, ptr32 & ecxOut, ptr32 & ebxOut)
{
	word32 eax_24 = dwArg00;
	while (true)
	{
		word16 ax_63 = DPB(eax_24, 0x00, 0) + 0x00;
		word32 eax_68 = DPB(eax_24, ax_63 + 42421, 0);
		byte al_79 = (byte) (ax_63 + 42421);
		if (ax_63 == 42419)
			break;
		eax_24 = eax_68 - 0x00010000;
	}
	word32 eax_95 = DPB(eax_24, al_79 & 0x00, 0);
	struct Eq_1365 * eax_104 = DPB(eax_95, SLICE(eax_95, byte, 8) & (al_79 & 0x00), 8);
	int32 ecx_154 = eax_104[(&(eax_104 + eax_104->dw003C / 0x0040)->dw003C)[0x0011] / 0x0040];
	*ecxOut = ecx_154;
	ptr32 eax_160 = eax_104 + ecx_154 / 0x0040;
	word16 ax_172 = (word16) (eax_160 + 0x04);
	word32 ebx_176;
	*ebxOut = eax_160 + 0x04;
	return ax_172;
}

