/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int a1@<eax>, char *a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>);

//-------------------------------------------------------------------------
// Data declarations

int dword_411000[512] =
{
  -1876295519,
  88416000,
  959517028,
  -205,
  1162543359,
  1279610450,
  1143878195,
  1191201868,
  -964053756,
  -193163578,
  1204197362,
  -1970760660,
  -838863200,
  -1912125441,
  -1812492407,
  129212543,
  -1213682291,
  -1936576697,
  709740197,
  1879038727,
  730043373,
  -1365991375,
  298158022,
  959635070,
  -2062250951,
  -1754415681,
  269338101,
  -1846339290,
  1191709328,
  -5799674,
  309774591,
  -1879026176,
  1884016173,
  -959979171,
  808305709,
  1471292312,
  -1590882976,
  1682360377,
  -758501651,
  -330679159,
  1382920739,
  1161574893,
  220122626,
  -1836905511,
  1551583275,
  -653302589,
  899027605,
  -1842159037,
  2077822687,
  -1191131647,
  1234042,
  1765496387,
  745377978,
  1461076369,
  -1706367345,
  1434997803,
  -1833327442,
  1402360469,
  1764462638,
  1246843017,
  -1972819046,
  -1180374946,
  -2107644270,
  731550812,
  -1872908695,
  -127941030,
  1448415803,
  -798806324,
  515550772,
  1878060092,
  -519388234,
  -1288096179,
  -490602182,
  -537392802,
  -1575583619,
  1292361319,
  1044771462,
  264549056,
  1085866501,
  -2105045170,
  -469004151,
  1085900688,
  -175140818,
  239122932,
  -1500870144,
  -754410273,
  100679635,
  -739299742,
  -477961207,
  -67746993,
  -1842313490,
  -2017834266,
  -1585143018,
  -1180389655,
  1535285125,
  -1875973709,
  377520939,
  -1169496396,
  -1080000213,
  -1180389746,
  -1483763566,
  730869388,
  -1970427287,
  1086039214,
  -2004674933,
  1758130692,
  814307518,
  -520076304,
  -2069876586,
  544422294,
  -1845740397,
  -1663743698,
  1912963818,
  -1263575935,
  -938008484,
  -927816285,
  -1451134459,
  1701992372,
  -1879326953,
  1774127276,
  -1359100240,
  1336821468,
  119887128,
  980864706,
  502650677,
  -1244060422,
  -855099105,
  -1035745018,
  855531856,
  -2106456632,
  -2119659721,
  -1609097124,
  96999337,
  -1230007694,
  425492595,
  -570523387,
  2114168179,
  113897412,
  -855036430,
  -619498819,
  -1074058733,
  319786863,
  -98348231,
  2068238259,
  -2118994388,
  -1065264417,
  -1878832876,
  -213015919,
  607012907,
  -156218370,
  -1878998356,
  -418233872,
  2068128750,
  201265890,
  -1816964101,
  -1188057578,
  640606296,
  -1155323191,
  -860993547,
  1798518963,
  387503856,
  1334378614,
  602156395,
  185321805,
  372846880,
  469437063,
  -1833546816,
  -2084032024,
  -1960767928,
  -163110711,
  -2041887982,
  -1835603262,
  -901396409,
  -969750364,
  684925139,
  -1038287164,
  -874703602,
  566999024,
  798033855,
  -1028199121,
  1357128137,
  -901395733,
  275524284,
  80577256,
  1552169226,
  -151183411,
  -957953132,
  -960824575,
  -1716205903,
  1877062711,
  -1753838634,
  -355991890,
  -1751746997,
  97043628,
  -1463269774,
  542933426,
  1554686487,
  -1435367975,
  -934257688,
  1367437829,
  1175841374,
  1468227351,
  1720892364,
  957268587,
  379034774,
  -1532040917,
  -1758620495,
  -1706367342,
  -1550666859,
  -1180389783,
  -1081035629,
  731532004,
  -1180789359,
  -1626634606,
  -1415793216,
  -1660752885,
  -1200448864,
  -1415270848,
  1764464795,
  -1724661576,
  -469000173,
  -1448699318,
  787032999,
  -1517706064,
  -383014939,
  -1549627346,
  -1061638263,
  -1583312850,
  -49369394,
  -1773486023,
  -828363113,
  -838866437,
  993400869,
  -1756660085,
  -1308099271,
  -1291518526,
  -1089011865,
  847465915,
  126801452,
  -1542993618,
  1204711881,
  -795047121,
  779082751,
  716378061,
  -1907549617,
  -1609644550,
  -1596934343,
  -147639,
  1161580978,
  -763379194,
  1199838304,
  -736746233,
  -7944347,
  -975226226,
  1018420223,
  867384836,
  -1813178803,
  -969128142,
  -2033863217,
  -234871507,
  574451149,
  2144219227,
  -1149408109,
  645165821,
  -837113019,
  953032195,
  511952154,
  231950043,
  -1056362809,
  448536070,
  -1653857790,
  781577979,
  -1689270110,
  245089570,
  -1810815468,
  -841292627,
  818355757,
  860303212,
  -84035875,
  -974223795,
  506088199,
  206126862,
  1853132187,
  1141653522,
  -1694348010,
  376995310,
  -1290218962,
  -1626533882,
  -1110539471,
  91928941,
  38716289,
  277333293,
  -1629030473,
  35772098,
  -2102252014,
  -153998058,
  544446910,
  236468743,
  -432903767,
  -226381386,
  193950233,
  1035137942,
  -700172579,
  842410883,
  -1151606226,
  -1650734092,
  -560116742,
  575274511,
  -114304507,
  383675292,
  180619789,
  463188928,
  -1439534723,
  -2024802613,
  400046542,
  1939147534,
  -796551023,
  -1621653844,
  859254884,
  1300849194,
  2017956493,
  99614700,
  -766523842,
  -185208077,
  -1347518729,
  -1660308053,
  -837149235,
  1292099303,
  868193567,
  -1290385725,
  -1904364803,
  787397526,
  -1768487739,
  543566367,
  152093510,
  -844560591,
  -651985747,
  710206185,
  -1389196307,
  1851181775,
  1153773065,
  250415658,
  -5039181,
  12791621,
  -1940967484,
  -1922920761,
  -1088778304,
  -164762128,
  1305910167,
  317444741,
  -976579251,
  -421939443,
  781478366,
  -837369018,
  -1746750960,
  1826561291,
  1168103442,
  -1785729531,
  -1928434166,
  658436237,
  280488643,
  125792778,
  10615771,
  -1341715771,
  -705581514,
  -1590790294,
  2009118527,
  -280383821,
  223479943,
  1295685130,
  1937301432,
  261995221,
  -704602547,
  562480814,
  2073221599,
  101612933,
  103544374,
  76266498,
  -894561286,
  -1874297493,
  1131809951,
  1740760601,
  521316935,
  -626170855,
  -1871925755,
  -498567618,
  -1957716153,
  -417306342,
  -921754588,
  -1338696192,
  1820824276,
  587608355,
  1573310371,
  43590089,
  604954310,
  1200681555,
  2059421386,
  959182591,
  796808446,
  100085170,
  1160400275,
  -1966982654,
  -1861220670,
  -1869707283,
  -1301559615,
  -230224463,
  1263670660,
  -1304082851,
  -41055455,
  -584058519,
  -117511097,
  -802330090,
  -1018025938,
  1158074670,
  -287631624,
  774957659,
  -1123432607,
  1277299402,
  -2054855626,
  1167918316,
  1124362432,
  1711293250,
  566824559,
  -189578277,
  -2033286221,
  -2034047036,
  1189547908,
  1101460723,
  979242562,
  616825902,
  1797600835,
  -2063491135,
  87442354,
  -1429568049,
  764800134,
  -2090468094,
  1995785786,
  -1240326456,
  567915312,
  2077152949,
  507557448,
  -826554947,
  -1843766512,
  -603606239,
  868291026,
  1145512220,
  1294734669,
  -903434177,
  -966370007,
  1808719295,
  1232593387,
  -896795263,
  -235371342,
  -614284756,
  643500762,
  -452149451,
  218284125,
  1048544126,
  958482336,
  -892165943,
  1044715057,
  -613583505,
  -37371410,
  567396227,
  1153706436,
  -1102837217,
  432164785,
  95538882,
  -1061999150,
  -893686335,
  -310322331,
  -1647518785,
  -1932859190,
  -629125669,
  -760020483,
  1501541689,
  -2142638698,
  -623508002,
  -1070733614,
  -537006003,
  887907358,
  -700180045,
  35605152,
  105422886,
  -524697892,
  1540574688,
  -1806891255,
  1271530230,
  -1077625987,
  -733143987,
  2129987317,
  -27806955,
  1877652555,
  -1413480593,
  -1028633144,
  -584241385,
  -1597964025,
  -1264079765,
  -1313078066,
  1354431941,
  421938680,
  223871303,
  670383813,
  1860747773,
  -1816936528,
  2056248964,
  564216269,
  -1693572855,
  767262501,
  532565132,
  -561159227,
  885384889
}; // weak


//----- (004143E0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, char *a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>)
{
  int *v7; // esi
  int *v8; // edi
  unsigned int v9; // ebp
  char v10; // al
  bool v11; // cf
  int v12; // ebx
  int v13; // ebx
  int v14; // ett
  unsigned int v15; // eax
  bool v16; // cf
  int v17; // ebx
  int v18; // ebx
  int v19; // ett
  bool v20; // zf
  int v21; // ebx
  int v22; // ett
  int v23; // ecx
  unsigned int v24; // eax
  unsigned int v25; // eax
  int v26; // eax
  bool v27; // cf
  int v28; // ebx
  int v29; // ebx
  int v30; // ett
  BOOL v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ett
  int v35; // ecx
  int v36; // ecx
  bool v37; // cf
  int v38; // ebx
  int v39; // ebx
  int v40; // ett
  bool v41; // zf
  int v42; // ebx
  int v43; // ett
  unsigned int v44; // ecx
  char v45; // al
  int v46; // eax
  bool v47; // cc
  int *v48; // esi
  char *v49; // edi
  int v50; // eax
  int *v51; // ebx
  int v52; // ebp
  char v53; // al
  char *v54; // ecx
  unsigned __int8 v55; // al
  int v56; // eax
  void (__fastcall *v57)(int, char *, int *, int, int, int *); // ebp
  int *v58; // edi
  int v59[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v60; // [esp+2Ch] [ebp-80h] BYREF
  int v61; // [esp+30h] [ebp-7Ch] BYREF
  char *v62; // [esp+34h] [ebp-78h]
  int *v63; // [esp+38h] [ebp-74h]
  int v64; // [esp+3Ch] [ebp-70h]
  char *v65; // [esp+40h] [ebp-6Ch]
  int v66; // [esp+44h] [ebp-68h]
  int v67; // [esp+48h] [ebp-64h]
  int *v68; // [esp+4Ch] [ebp-60h]
  int v69; // [esp+50h] [ebp-5Ch]
  int v70; // [esp+54h] [ebp-58h]
  int v71; // [esp+58h] [ebp-54h]
  int v72; // [esp+5Ch] [ebp-50h] BYREF

  v71 = a7;
  v70 = a6;
  v69 = a5;
  v68 = &v72;
  v67 = a4;
  v66 = a3;
  v65 = a2;
  v64 = a1;
  v7 = dword_411000;
  v8 = &dword_411000[-16384];
  v63 = &dword_411000[-16384];
  v9 = -1;
  while ( 1 )
  {
    v13 = *v7;
    v11 = (unsigned int)v7++ < 0xFFFFFFFC;
    v14 = v11 + v13;
    v11 = __CFADD__(v11, v13) | __CFADD__(v13, v14);
    v12 = v13 + v14;
    do
    {
      if ( v11 )
      {
        v10 = *(_BYTE *)v7;
        v7 = (int *)((char *)v7 + 1);
        *(_BYTE *)v8 = v10;
        v8 = (int *)((char *)v8 + 1);
      }
      else
      {
        v15 = 1;
        while ( 1 )
        {
          v16 = __CFADD__(v12, v12);
          v17 = 2 * v12;
          if ( !v17 )
          {
            v18 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v19 = v11 + v18;
            v16 = __CFADD__(v11, v18) | __CFADD__(v18, v19);
            v17 = v18 + v19;
          }
          v15 += v16 + v15;
          v11 = __CFADD__(v17, v17);
          v20 = 2 * v17 == 0;
          v12 = 2 * v17;
          if ( v11 )
          {
            if ( !v20 )
              break;
            v21 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v22 = v11 + v21;
            v11 = __CFADD__(v11, v21) | __CFADD__(v21, v22);
            v12 = v21 + v22;
            if ( v11 )
              break;
          }
        }
        v23 = 0;
        v11 = v15 < 3;
        v24 = v15 - 3;
        if ( !v11 )
        {
          v25 = v24 << 8;
          LOBYTE(v25) = *(_BYTE *)v7;
          v7 = (int *)((char *)v7 + 1);
          v26 = ~v25;
          if ( !v26 )
          {
            v48 = v63;
            v49 = (char *)(v63 + 18432);
LABEL_33:
            v50 = *(_DWORD *)v49;
            if ( *(_DWORD *)v49 )
            {
              v51 = (int *)((char *)v48 + *((_DWORD *)v49 + 1));
              v49 += 8;
              v52 = ((int (__fastcall *)(int, char *, int, int, char *, int, int, int *, int, int, int))v48[22198])(
                      v23,
                      a2,
                      (int)v48 + v50 + 88592,
                      v64,
                      v65,
                      v66,
                      v67,
                      v68,
                      v69,
                      v70,
                      v71);
              while ( 1 )
              {
                v53 = *v49++;
                if ( !v53 )
                  goto LABEL_33;
                v54 = v49;
                v62 = v49;
                v55 = v53 - 1;
                do
                {
                  if ( !v54 )
                    break;
                  v20 = *v49++ == (char)v55;
                  --v54;
                }
                while ( !v20 );
                v56 = ((int (__cdecl *)(int, char *))v48[22199])(v52, v62);
                if ( !v56 )
                  break;
                *v51++ = v56;
              }
              v50 = ((int (*)(void))v48[22203])();
            }
            v57 = (void (__fastcall *)(int, char *, int *, int, int, int *))v48[22200];
            v58 = v48 - 1024;
            v60 = v50;
            v57(v23, a2, v48 - 1024, 4096, 4, &v60);
            *((_BYTE *)v58 + 479) &= 0x7Fu;
            *((_BYTE *)v58 + 519) &= 0x7Fu;
            ((void (__cdecl *)(int *, int, int, int *))v57)(v48 - 1024, 4096, v59[0], v59);
            do
              v60 = 0;
            while ( &v60 != &v61 - 32 );
            JUMPOUT(0x40FC20);
          }
          v9 = v26;
        }
        v27 = __CFADD__(v12, v12);
        v28 = 2 * v12;
        if ( !v28 )
        {
          v29 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v30 = v11 + v29;
          v27 = __CFADD__(v11, v29) | __CFADD__(v29, v30);
          v28 = v29 + v30;
        }
        v31 = v27;
        v32 = __CFADD__(v28, v28);
        v12 = 2 * v28;
        if ( !v12 )
        {
          v33 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v34 = v11 + v33;
          v32 = __CFADD__(v11, v33) | __CFADD__(v33, v34);
          v12 = v33 + v34;
        }
        v35 = v31 + v32 + v31;
        if ( !v35 )
        {
          v36 = 1;
          while ( 1 )
          {
            v37 = __CFADD__(v12, v12);
            v38 = 2 * v12;
            if ( !v38 )
            {
              v39 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v40 = v11 + v39;
              v37 = __CFADD__(v11, v39) | __CFADD__(v39, v40);
              v38 = v39 + v40;
            }
            v36 += v37 + v36;
            v11 = __CFADD__(v38, v38);
            v41 = 2 * v38 == 0;
            v12 = 2 * v38;
            if ( v11 )
            {
              if ( !v41 )
                break;
              v42 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v43 = v11 + v42;
              v11 = __CFADD__(v11, v42) | __CFADD__(v42, v43);
              v12 = v42 + v43;
              if ( v11 )
                break;
            }
          }
          v35 = v36 + 2;
        }
        v44 = (v9 < 0xFFFFF300) + v35 + 1;
        a2 = (char *)v8 + v9;
        if ( v9 <= 0xFFFFFFFC )
        {
          do
          {
            v46 = *(_DWORD *)a2;
            a2 += 4;
            *v8++ = v46;
            v47 = v44 <= 4;
            v44 -= 4;
          }
          while ( !v47 );
          v8 = (int *)((char *)v8 + v44);
        }
        else
        {
          do
          {
            v45 = *a2++;
            *(_BYTE *)v8 = v45;
            v8 = (int *)((char *)v8 + 1);
            --v44;
          }
          while ( v44 );
        }
      }
      v11 = __CFADD__(v12, v12);
      v12 *= 2;
    }
    while ( v12 );
  }
}
// 414538: positive sp value 50 has been found
// 414538: control flows out of bounds to 40FC20
// 4144CF: variable 'v23' is possibly undefined
// 4144CF: variable 'a2' is possibly undefined
// 411000: using guessed type int dword_411000[512];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
