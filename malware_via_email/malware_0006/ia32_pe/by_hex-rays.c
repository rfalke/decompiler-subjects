/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

int start();
char __stdcall sub_401156(int, char *, _BYTE *);

//-------------------------------------------------------------------------
// Data declarations

// extern DWORD (__stdcall *GetLastError)();
// extern DWORD (__stdcall *GetFileSize)(HANDLE hFile, LPDWORD lpFileSizeHigh);


//----- (00401020) --------------------------------------------------------
int start()
{
  void *v1; // [esp+0h] [ebp-1Ch]
  DWORD LastError; // [esp+0h] [ebp-1Ch]
  DWORD *v3; // [esp+4h] [ebp-18h]

  GetFileSize(v1, v3);
  LastError = GetLastError();
  return ((int (*)(void))(LastError + 4198461))();
}
// 40102B: variable 'v1' is possibly undefined
// 40102B: variable 'v3' is possibly undefined

//----- (00401156) --------------------------------------------------------
char __stdcall sub_401156(int a1, char *a2, _BYTE *a3)
{
  char result; // al

  do
  {
    result = *a2;
    *a3++ = *a2++;
    --a1;
  }
  while ( a1 );
  return result;
}

// nfuncs=2 queued=2 decompiled=2 lumina nreq=0 worse=0 better=0
// ALL OK, 2 function(s) have been successfully decompiled
