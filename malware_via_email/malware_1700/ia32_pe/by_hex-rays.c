/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

void sub_401048();
_DWORD sub_401168(); // weak
void sub_4011B6();
// void __usercall __noreturn sub_4011EC(char@<al>, int@<edx>, int@<esi>);
// void __usercall sub_40128D(int@<eax>, int@<edx>, int@<esi>);


//----- (00401048) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_401048()
{
  JUMPOUT(0x40131E);
}
// 40104C: positive sp value 4 has been found
// 401084: control flows out of bounds to 40131E

//----- (00401089) --------------------------------------------------------
#error "401089: stack frame is too big (funcsize=0)"

//----- (00401168) --------------------------------------------------------
#error "401249: cannot convert to microcode (funcsize=46)"

//----- (004011B6) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4011B6()
{
  void *v0; // [esp+28h] [ebp-4h]
  void *retaddr; // [esp+2Ch] [ebp+0h]

  *(&retaddr - 12) = v0;
  JUMPOUT(0x4012F4);
}
// 401155: positive sp value 4 has been found
// 40115E: control flows out of bounds to 4012F4

//----- (004011EC) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall __noreturn sub_4011EC(char a1@<al>, int a2@<edx>, int a3@<esi>)
{
  int *v3; // esi
  void *v7; // [esp+28h] [ebp-4h]
  void *retaddr; // [esp+2Ch] [ebp+0h]

  *(&retaddr - 12) = v7;
  LOBYTE(a2) = 83;
  v3 = (int *)(a2 + a3);
  HIWORD(_EBX) = HIWORD(a2);
  LOBYTE(_EBX) = a1 + 83;
  sub_4011B6();
  _EAX = *v3;
  BYTE1(_EBX) = -108;
  __asm { lock xchg eax, ebx }
  JUMPOUT(0xFB440444);
}
// 4011F0: positive sp value 4 has been found
// 40120C: control flows out of bounds to FB440444

//----- (0040128D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40128D(int a1@<eax>, int a2@<edx>, int a3@<esi>)
{
  int v3; // esi
  char v4; // cf
  _DWORD *v5; // eax

  v3 = a1 ^ (a2 | a3);
  sub_401048();
  *v5 -= v4 + v3 + 1;
  JUMPOUT(0x401321);
}
// 401267: positive sp value 8 has been found
// 40131F: control flows out of bounds to 401321
// 401282: conditional instruction was optimized away because edx.4>=0
// 40131A: variable 'v5' is possibly undefined
// 40131A: variable 'v4' is possibly undefined

// nfuncs=6 queued=6 decompiled=6 lumina nreq=0 worse=0 better=0
#error "There were 2 decompilation failure(s) on 6 function(s)"
