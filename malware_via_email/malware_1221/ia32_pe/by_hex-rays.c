/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

_DWORD nullsub_1(); // weak
BOOL __stdcall start(int a1, int a2, int a3);
// BOOL __stdcall DeleteFileA(LPCSTR lpFileName);

//-------------------------------------------------------------------------
// Data declarations

__int16 word_4010DA = -4981; // weak


//----- (004011C8) --------------------------------------------------------
BOOL __stdcall start(int a1, int a2, int a3)
{
  _DWORD **v4; // ecx
  __int16 v5; // sp
  _DWORD *v6; // eax
  int v7; // esi
  __int16 v8; // di
  const CHAR *v9; // ecx
  char *v10; // eax
  int v11; // esi
  const CHAR *retaddr; // [esp+4h] [ebp+0h]

  if ( *(_WORD *)(retaddr + 7) == 0x9090 )
  {
    HIWORD(v4) = 18;
    LOWORD(v4) = v5;
    v6 = *v4;
    v7 = (int)&word_4010DA;
    v8 = 0;
    do
    {
      v6 = (_DWORD *)((char *)v6 + 1);
      v7 = (v7 ^ 0x766BD1ED) + 1556861637;
      v8 += 66;
      LOWORD(v7) = v7 | 0xFF8B;
    }
    while ( *v6 != 1166797963 );
    v9 = retaddr;
    v10 = (char *)nullsub_1 + 729527557;
    do
    {
      v11 = *(_DWORD *)v9++;
      v10 = (char *)((_DWORD)v10 << 9);
    }
    while ( *(_DWORD *)nullsub_1 != v11 );
    __asm { retn }
  }
  return DeleteFileA(retaddr + 7);
}
// 40122B: variable 'v5' is possibly undefined
// 40102D: using guessed type _DWORD nullsub_1();
// 4010DA: using guessed type __int16 word_4010DA;

// nfuncs=2 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
