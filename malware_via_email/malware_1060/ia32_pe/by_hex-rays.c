/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall sub_407FCB(unsigned int *a1@<eax>, unsigned int a2@<ecx>, int _EBX@<ebx>, int a4@<ebp>, int a5@<esi>);


//----- (00407FCB) --------------------------------------------------------
void __usercall sub_407FCB(unsigned int *a1@<eax>, unsigned int a2@<ecx>, int _EBX@<ebx>, int a4@<ebp>, int a5@<esi>)
{
  char v5; // ch
  double v6; // st7
  char v7; // cf
  int v8; // ecx

  LOBYTE(a2) = a2 & 3;
  LOWORD(a5) = _EBX | a5;
  LOBYTE(a1) = 31;
  _ECX = a2 >> a2;
  __asm
  {
    rcr     cx, cl
    rcl     bl, cl
    rcr     ecx, 16h
    rcl     bl, cl
  }
  BYTE1(_EBX) = ~BYTE1(_EBX);
  if ( a5 == -1010806674 )
  {
    v6 = ((double (*)(void))*(_DWORD *)(__segmentlimit(*a1) - 765873367))() - MEMORY[0xC3C05041];
    if ( !v7 )
    {
      MEMORY[0xD34B303B](v6);
      if ( v8 == 1 )
      {
        _enable();
        _disable();
        *(_QWORD *)(_EBX + 58) = (__int64)v6;
        JUMPOUT(0x407DD5);
      }
      JUMPOUT(0x407D4C);
    }
    *(_BYTE *)(a4 + 259519623) += v5;
    JUMPOUT(0x407D4D);
  }
  JUMPOUT(0x407D49);
}
// 407D4A: control flows out of bounds to 407D4D
// 407DD2: control flows out of bounds to 407DD5
// 407F9C: control flows out of bounds to 407D49
// 407DC9: control flows out of bounds to 407D4C
// 407D44: variable 'v5' is possibly undefined
// 407DC2: variable 'v7' is possibly undefined
// 407DC9: variable 'v8' is possibly undefined

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
