/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, int@<edx>, int@<ecx>);

//-------------------------------------------------------------------------
// Data declarations

int dword_414000[512] =
{
  -1834308985,
  1577058048,
  836474670,
  -232127730,
  1087799192,
  -439615870,
  773044594,
  -511863013,
  -2796622,
  -1758569287,
  -1888965863,
  1808861049,
  1536634607,
  652489331,
  476960803,
  -1216852952,
  -1403199777,
  8407957,
  405012760,
  35922048,
  1945837592,
  168127341,
  369166604,
  203685920,
  -613700245,
  168299540,
  505226520,
  1534289355,
  621019175,
  -2145383392,
  1801115449,
  287185152,
  -845599697,
  -2145724747,
  1226583316,
  1935337216,
  17439150,
  691756306,
  1558033206,
  2570016,
  354703648,
  1557574944,
  205683175,
  235408951,
  -1210124487,
  538181675,
  88160084,
  -813838739,
  -2142005390,
  402865562,
  -832116811,
  1069636723,
  -1368183137,
  538752825,
  -2113119216,
  -69584785,
  -545214530,
  52445976,
  1830796544,
  -1142441523,
  411145033,
  -814546919,
  -2140342471,
  -226602179,
  -291962348,
  592796701,
  -1022583149,
  -1058114789,
  410203172,
  252584973,
  17020399,
  302009944,
  -521269735,
  1174805707,
  -549592775,
  -1847722341,
  1123221528,
  372116727,
  -1504394963,
  -1368138678,
  537841977,
  -278621043,
  1662908349,
  -294551442,
  248976786,
  -1390888498,
  1514415263,
  1036115548,
  549128376,
  -298314431,
  585612829,
  -1021023067,
  1646031069,
  -1256424547,
  -254664465,
  562499097,
  -275438927,
  -301418015,
  -949826704,
  -1640143319,
  1464655595,
  37114496,
  -831274228,
  -1952180847,
  1869825940,
  708861686,
  -1230106542,
  -2085240354,
  -174313834,
  779846641,
  -1848766474,
  1007028484,
  1270727644,
  294679813,
  2076695006,
  414820001,
  1889673254,
  -1578048529,
  537672469,
  -294396686,
  423200624,
  -662369684,
  -1810091913,
  538280181,
  -472114108,
  1702515901,
  -1178516893,
  -1368366345,
  -110611221,
  -944698121,
  -1857686853,
  -1952516336,
  1875482173,
  487742670,
  -1312955940,
  -248513465,
  -908160604,
  596653544,
  -283350656,
  -1231528387,
  656911905,
  1712550711,
  893432172,
  236635192,
  353957877,
  125505619,
  2073455223,
  -1626470353,
  360959859,
  203252315,
  -471932728,
  1064512496,
  -235973655,
  -407510628,
  494718,
  1939654127,
  -1583412705,
  1895268496,
  -723052109,
  -2070019565,
  1605909395,
  -2105735349,
  1133476775,
  -1789901195,
  499222296,
  165505100,
  -1963683909,
  412845757,
  2070361962,
  350815923,
  1932198056,
  -418941651,
  2019639966,
  -954179203,
  1201160571,
  1505030701,
  -1201372068,
  199476551,
  -526747769,
  -1996513440,
  1728861118,
  -163493512,
  502159407,
  -2104771230,
  1864741821,
  -933308478,
  1277469217,
  1981828257,
  347147376,
  1956355352,
  -1604631750,
  -148630113,
  2137136162,
  830089849,
  796456183,
  -647282840,
  348374308,
  -1113670167,
  2022452556,
  1491007279,
  92806951,
  1955320751,
  375191830,
  -2110894372,
  1830113147,
  -1058822033,
  422109579,
  -2037653434,
  -1461970565,
  302849604,
  1834695623,
  1728865280,
  999503973,
  -363212868,
  -1680399354,
  662862580,
  -1489604940,
  96068035,
  -731261196,
  246640758,
  219627397,
  1919995085,
  616528942,
  1675409362,
  613669318,
  118360023,
  -504304098,
  -1081457992,
  62743198,
  2089530277,
  -1008802024,
  -242206240,
  -508159063,
  -1396868403,
  -918904945,
  -1037493374,
  -1558697283,
  -701559270,
  -1231376541,
  998495217,
  914487320,
  -1534977943,
  1438137287,
  -1231578040,
  1132952519,
  -1740589935,
  2078523421,
  1614161085,
  -138805492,
  -466576420,
  573858688,
  944520087,
  7287834,
  1938173862,
  1989899654,
  -147877723,
  -46498914,
  974223250,
  1320974405,
  -1473944110,
  572385746,
  -1186601560,
  107875892,
  1112928622,
  -1963208019,
  -1383015436,
  -1017833600,
  -2128485811,
  -1587914728,
  935082910,
  -631094450,
  2020636730,
  488300313,
  -1091493290,
  776131191,
  -493362152,
  904366353,
  1009839376,
  1333232835,
  58933293,
  2076672963,
  191374041,
  -1014597572,
  1383607948,
  -1187363543,
  1549246327,
  -185634282,
  1856687196,
  -944862867,
  505165913,
  1259551092,
  -300012544,
  1465936772,
  933519822,
  106302691,
  388631801,
  -590103157,
  759310866,
  -2074305055,
  -642847093,
  -2022467470,
  1852584664,
  -1629008004,
  -1952544909,
  65019047,
  -1320214979,
  1965042740,
  790558657,
  473700130,
  474938080,
  -771670918,
  519362142,
  -1410010846,
  -982113234,
  669582818,
  -674104752,
  30131073,
  1864903261,
  -2045890187,
  1745366822,
  1488795660,
  -298042897,
  2051825804,
  2028040430,
  1887235432,
  -1907483528,
  -379105702,
  -2014348336,
  639963693,
  -437660905,
  1366301916,
  1279848838,
  1212589938,
  -1681869787,
  787516485,
  1996734535,
  1378744730,
  -236384113,
  1550096008,
  -138576675,
  -766552282,
  -419428098,
  1144701986,
  -5332060,
  -1590628850,
  68235867,
  -406915485,
  537269908,
  512759820,
  1221836238,
  1272161252,
  -1854736960,
  244390844,
  -855072508,
  -2013610342,
  2136507351,
  -198007257,
  1494129786,
  -564489599,
  1267265769,
  -801133612,
  320046921,
  2135420325,
  -778519450,
  -710134912,
  -1132735953,
  202151593,
  -2029121252,
  -1397635513,
  1977685074,
  -74642320,
  -1320698750,
  -1296811742,
  2008631679,
  -1700111046,
  2029024132,
  -2103722514,
  1229219648,
  509721233,
  -1947330374,
  -2129252834,
  1937466031,
  -185876325,
  -50008235,
  -1591349456,
  -1109476729,
  -1122465500,
  2120509192,
  -1111280478,
  -802666697,
  1997495963,
  -1082168968,
  934026974,
  -805170821,
  -1140254215,
  538493976,
  357302574,
  276549868,
  834002223,
  526525534,
  249400551,
  242992047,
  -1652084308,
  477761822,
  -211080787,
  501894152,
  -785038861,
  -2024239330,
  -822996773,
  477657284,
  -2144466743,
  -560192808,
  -783838917,
  -138839079,
  389412154,
  -862979307,
  -320610659,
  -1669138484,
  -1177614684,
  -310831549,
  -2075127520,
  801596382,
  1999731259,
  1398072456,
  1917657293,
  -2117765329,
  341806987,
  876286441,
  -1129253971,
  1512446238,
  -1881400571,
  1398310473,
  -511951020,
  223767344,
  236158237,
  1405459216,
  -1021038781,
  -1725415959,
  -1652130953,
  -1992151984,
  -1140049439,
  629313630,
  -240440489,
  5119032,
  56102256,
  1625887215,
  1719262152,
  -1942887970,
  1145982356,
  -417253593,
  -1564629493,
  -243434359,
  1710850638,
  354458400,
  -1511799316,
  -1055853086,
  -874219451,
  -2048827975,
  -2030252165,
  -769478678,
  898286856,
  1996789495,
  -843229150,
  -820708213,
  -1556506555,
  242930104,
  103466312,
  1948457468,
  -1383661432,
  1556437357,
  -1459525980,
  1376274099,
  -450272753,
  -507004796,
  -300140944,
  2078068574,
  -843573105,
  -1656495658,
  -1329729694,
  395462635,
  -816420240,
  2145244189,
  -372929582,
  678614640,
  1906017096,
  253015074,
  372137705,
  -2011325271,
  -1035174930,
  915049245,
  806134563,
  -1275690103,
  1655791254,
  293634717,
  1925527658,
  -1907190769,
  1471799692,
  2055013668,
  2058593503,
  -2003909721,
  823679790,
  335823370,
  1132714288,
  557037956,
  371233641,
  564982409,
  309388248,
  849611918,
  -662499182,
  -357947773,
  1660370400,
  1883736809
}; // weak


//----- (0041BD30) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  int *v3; // esi
  int *v4; // edi
  unsigned int v5; // ebp
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  unsigned int v11; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  bool v16; // zf
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  unsigned int v20; // eax
  int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ebx
  int v25; // ett
  BOOL v26; // ecx
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ebx
  int v35; // ett
  bool v36; // zf
  int v37; // ebx
  int v38; // ett
  unsigned int v39; // ecx
  char *v40; // edx
  char v41; // al
  int v42; // eax
  bool v43; // cc
  int *v44; // esi
  char *v45; // edi
  int v46; // ecx
  char v47; // al
  unsigned __int8 v48; // al
  int v49; // eax
  int v50; // eax
  char v51; // t0
  unsigned __int8 v52; // bl
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__cdecl *v61)(int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  int v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v72 = &v76;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v3 = dword_414000;
  v4 = &dword_414000[-19456];
  v67 = &dword_414000[-19456];
  v5 = -1;
  while ( 1 )
  {
    v9 = *v3;
    v7 = (unsigned int)v3++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v3;
        v3 = (int *)((char *)v3 + 1);
        *(_BYTE *)v4 = v6;
        v4 = (int *)((char *)v4 + 1);
      }
      else
      {
        v11 = 1;
        while ( 1 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v11 += v12 + v11;
          v7 = __CFADD__(v13, v13);
          v16 = 2 * v13 == 0;
          v8 = 2 * v13;
          if ( v7 )
          {
            if ( !v16 )
              break;
            v17 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v18 = v7 + v17;
            v7 = __CFADD__(v7, v17) | __CFADD__(v17, v18);
            v8 = v17 + v18;
            if ( v7 )
              break;
          }
        }
        v7 = v11 < 3;
        v19 = v11 - 3;
        if ( !v7 )
        {
          v20 = v19 << 8;
          LOBYTE(v20) = *(_BYTE *)v3;
          v3 = (int *)((char *)v3 + 1);
          v21 = ~v20;
          if ( !v21 )
          {
            v44 = v67;
            v45 = (char *)(v67 + 2048);
            v46 = 99;
            while ( 1 )
            {
              v47 = *v45++;
              v48 = v47 + 24;
              while ( v48 <= 1u && *v45 == 2 )
              {
                v49 = *(_DWORD *)v45;
                LOWORD(v49) = BYTE1(*(_DWORD *)v45);
                v50 = __ROL4__(v49, 16);
                v51 = v50;
                LOBYTE(v50) = BYTE1(v50);
                BYTE1(v50) = v51;
                v52 = v45[4] + 24;
                *(_DWORD *)v45 = (char *)v44 + v50 - (_DWORD)v45;
                v45 += 5;
                v48 = v52;
                if ( !--v46 )
                {
                  v53 = (char *)(v44 + 24576);
LABEL_38:
                  v54 = *(_DWORD *)v53;
                  if ( *(_DWORD *)v53 )
                  {
                    v55 = (int *)((char *)v44 + *((_DWORD *)v53 + 1));
                    v53 += 8;
                    v56 = ((int (__cdecl *)(int, int, int, int, int, int *, int, int, int))v44[31711])(
                            (int)v44 + v54 + 126624,
                            v68,
                            v69,
                            v70,
                            v71,
                            v72,
                            v73,
                            v74,
                            v75);
                    while ( 1 )
                    {
                      v57 = *v53++;
                      if ( !v57 )
                        goto LABEL_38;
                      v58 = v53;
                      v66 = v53;
                      v59 = v57 - 1;
                      do
                      {
                        if ( !v58 )
                          break;
                        v16 = *v53++ == (char)v59;
                        --v58;
                      }
                      while ( !v16 );
                      v60 = ((int (__cdecl *)(int, char *))v44[31712])(v56, v66);
                      if ( !v60 )
                        break;
                      *v55++ = v60;
                    }
                    v54 = ((int (*)(void))v44[31716])();
                  }
                  v61 = (void (__cdecl *)(int *, int, int, int *))v44[31713];
                  v62 = v44 - 1024;
                  v64 = v54;
                  v61(v44 - 1024, 4096, 4, &v64);
                  *((_BYTE *)v62 + 543) &= ~0x80u;
                  *((_BYTE *)v62 + 583) &= ~0x80u;
                  v61(v44 - 1024, 4096, v63[0], v63);
                  do
                    v64 = 0;
                  while ( &v64 != &v65 - 32 );
                  JUMPOUT(0x408078);
                }
              }
            }
          }
          v5 = v21;
        }
        v22 = __CFADD__(v8, v8);
        v23 = 2 * v8;
        if ( !v23 )
        {
          v24 = *v3;
          v7 = (unsigned int)v3++ < 0xFFFFFFFC;
          v25 = v7 + v24;
          v22 = __CFADD__(v7, v24) | __CFADD__(v24, v25);
          v23 = v24 + v25;
        }
        v26 = v22;
        v27 = __CFADD__(v23, v23);
        v8 = 2 * v23;
        if ( !v8 )
        {
          v28 = *v3;
          v7 = (unsigned int)v3++ < 0xFFFFFFFC;
          v29 = v7 + v28;
          v27 = __CFADD__(v7, v28) | __CFADD__(v28, v29);
          v8 = v28 + v29;
        }
        v30 = v26 + v27 + v26;
        if ( !v30 )
        {
          v31 = 1;
          while ( 1 )
          {
            v32 = __CFADD__(v8, v8);
            v33 = 2 * v8;
            if ( !v33 )
            {
              v34 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v35 = v7 + v34;
              v32 = __CFADD__(v7, v34) | __CFADD__(v34, v35);
              v33 = v34 + v35;
            }
            v31 += v32 + v31;
            v7 = __CFADD__(v33, v33);
            v36 = 2 * v33 == 0;
            v8 = 2 * v33;
            if ( v7 )
            {
              if ( !v36 )
                break;
              v37 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v38 = v7 + v37;
              v7 = __CFADD__(v7, v37) | __CFADD__(v37, v38);
              v8 = v37 + v38;
              if ( v7 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v39 = (v5 < 0xFFFFF300) + v30 + 1;
        v40 = (char *)v4 + v5;
        if ( v5 <= 0xFFFFFFFC )
        {
          do
          {
            v42 = *(_DWORD *)v40;
            v40 += 4;
            *v4++ = v42;
            v43 = v39 <= 4;
            v39 -= 4;
          }
          while ( !v43 );
          v4 = (int *)((char *)v4 + v39);
        }
        else
        {
          do
          {
            v41 = *v40++;
            *(_BYTE *)v4 = v41;
            v4 = (int *)((char *)v4 + 1);
            --v39;
          }
          while ( v39 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 41BEBF: positive sp value 50 has been found
// 41BEBF: control flows out of bounds to 408078
// 414000: using guessed type int dword_414000[512];
// 41BD30: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
