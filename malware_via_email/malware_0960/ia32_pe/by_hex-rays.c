/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int a1@<eax>, char *a2@<edx>, int a3@<ecx>);

//-------------------------------------------------------------------------
// Data declarations

int dword_61B924; // weak
int dword_A13000[512] =
{
  -436215937,
  -956257087,
  -942125824,
  14024904,
  -978708576,
  1075027207,
  -37120,
  12798191,
  877438208,
  -1946214126,
  -150461364,
  -2118112810,
  690421696,
  -1981966,
  419426239,
  1976035201,
  -373162439,
  -114967016,
  -1027524097,
  30277893,
  746490858,
  2145385830,
  -353729537,
  -2117521073,
  911114993,
  -311095495,
  -2116550861,
  2057920498,
  -536875051,
  -670985473,
  1682492553,
  -2118253169,
  1986992074,
  -1050583208,
  -293008182,
  -319092803,
  -794165536,
  -2113984248,
  -1190972985,
  1879107903,
  -2153985,
  -940376131,
  -202813665,
  -1089095004,
  872665815,
  -1515013852,
  701567919,
  -589897,
  -2130015760,
  -547956785,
  -536889319,
  -520105932,
  734590849,
  -579541630,
  795843138,
  1006690031,
  93089659,
  1593871832,
  -1123463920,
  -608192640,
  -475760385,
  14008832,
  546308224,
  -77145865,
  -269828606,
  -1053698434,
  -1040203777,
  -931053941,
  -1075314772,
  -45878263,
  65278199,
  -1947825920,
  -59721466,
  -877118433,
  902866705,
  1324429677,
  -327825019,
  -605038455,
  1079975359,
  -1055880322,
  -2112938006,
  -326560737,
  218939994,
  -848297991,
  14475391,
  -1143844935,
  1987184308,
  16000122,
  16777704,
  811595127,
  428335096,
  -1056926660,
  -809954568,
  -537425247,
  -536769692,
  -2113992829,
  613050358,
  -401883473,
  -684849162,
  1047523329,
  -384435180,
  -566719495,
  485553969,
  -171507391,
  -65028213,
  -803129461,
  -815198581,
  2130163724,
  -1056878896,
  -134480355,
  270741501,
  722570190,
  1752239552,
  -625985210,
  1381716527,
  -2096578111,
  -354681377,
  -812563197,
  -1821349775,
  -1346236031,
  -103320,
  -934051843,
  -1982398715,
  -68648507,
  -1980397201,
  167231768,
  1248882024,
  -1085059375,
  -1926358664,
  952835000,
  -376877201,
  931593409,
  -133891332,
  1477558657,
  831078645,
  -261596612,
  -134657795,
  -799674369,
  -1094101123,
  1472758142,
  1428358031,
  -276739489,
  -473588514,
  -919109881,
  -1858631175,
  123714239,
  -576615657,
  -64690697,
  -164497663,
  -82834141,
  803164786,
  -1096424993,
  2078155022,
  -972951039,
  -1043186391,
  -393289,
  -939451912,
  -1048168832,
  -964616753,
  1244127745,
  -354254756,
  -328687774,
  -524416773,
  -324554605,
  -255765758,
  -16235768,
  -522176559,
  482406339,
  -819863079,
  -1420728231,
  1048509185,
  -222184034,
  1107240197,
  -225436742,
  -15791577,
  -805215776,
  -2119498719,
  -779081790,
  -1322674730,
  1246066936,
  66661396,
  2133525776,
  1353971960,
  938465073,
  1463877568,
  1914699467,
  -822011652,
  -80743746,
  -1311082737,
  -239004021,
  -1040449765,
  258111968,
  -486603826,
  -2119710731,
  2092572902,
  -486797101,
  -774995569,
  -621312151,
  728170799,
  1671949370,
  -589168674,
  -394523206,
  670819307,
  -440455064,
  1425864649,
  825766722,
  230755014,
  -305150977,
  -1093011682,
  340708540,
  1896799401,
  -505704673,
  1714756095,
  801329161,
  100544707,
  780009435,
  31623609,
  282443735,
  975894386,
  -1054737887,
  -100664392,
  -1011092264,
  701515468,
  -1986275863,
  1022848202,
  1060047927,
  -117323626,
  -678850312,
  -483886913,
  -138284681,
  126606224,
  1708414593,
  -13070859,
  -1979712549,
  -276572671,
  939522300,
  603740409,
  1509234681,
  -120520200,
  -178258863,
  -61409312,
  1418315401,
  1349586980,
  -1995413771,
  2130967759,
  249546744,
  43753656,
  449443073,
  670384539,
  1830198917,
  -369337144,
  385890688,
  427085873,
  -538114975,
  241037273,
  1346394367,
  -538314665,
  1492463364,
  -402357104,
  -51474575,
  1400103105,
  1093843704,
  -40517664,
  48415063,
  -452382565,
  1496419160,
  247463425,
  -952238090,
  1501230217,
  -998118863,
  293291528,
  168487807,
  1766848002,
  1677787201,
  -926412544,
  -1324711896,
  118816849,
  1078206460,
  1081769804,
  -872415193,
  66699186,
  -1796592712,
  -918880217,
  2293760,
  1373346550,
  1599608097,
  -1892700672,
  1801440572,
  2063608434,
  -924343899,
  -538082945,
  -568880897,
  117477151,
  378667247,
  1902521298,
  1059851882,
  654307455,
  -2063580928,
  1763377920,
  1873626368,
  2903412,
  -2018885818,
  -8198171,
  10158276,
  -2007591747,
  256128892,
  -54982912,
  1242668617,
  12526348,
  595813108,
  1946129991,
  -1074991625,
  2741438,
  1988648384,
  -1101258963,
  1375758560,
  849686,
  -54332160,
  1493194050,
  -1764722689,
  -1203978851,
  342664299,
  -1220467390,
  998572201,
  1932488671,
  -38316288,
  1636060928,
  385980950,
  101794812,
  2066088048,
  -1610728960,
  -14469764,
  166181862,
  1418249327,
  9052672,
  -2036443478,
  -230457453,
  -218088082,
  -1205068919,
  -124385154,
  -443090817,
  86969916,
  1987185455,
  -998680064,
  1547632646,
  398585841,
  337248336,
  286519422,
  1868356497,
  -38804224,
  -521669610,
  957149440,
  7274005,
  -1687624173,
  -1744814365,
  -1660525805,
  -852341451,
  -855875618,
  8367604,
  -1720594679,
  498466838,
  1633132801,
  146370415,
  673054868,
  -1812076518,
  -61404975,
  733364962,
  6320412,
  -535781250,
  -593634797,
  1624819710,
  -2018118519,
  1222200832,
  1627397992,
  -27290529,
  228235533,
  1398385828,
  -1419209701,
  2006591147,
  918001516,
  1329434936,
  347319151,
  181141655,
  1600582395,
  -1962876217,
  -1365578321,
  -617545692,
  -154672985,
  889209079,
  -1609422459,
  1525699088,
  394412781,
  1776931325,
  12212424,
  14496856,
  2087066893,
  452605639,
  446233300,
  -545381277,
  85088848,
  -1101070211,
  -281029511,
  -1286864708,
  1694551644,
  -604580077,
  -1254637629,
  1434800888,
  35689188,
  142119547,
  -65086438,
  -1916848554,
  102990202,
  1066369513,
  -1750891810,
  1060171683,
  364395291,
  -173221447,
  -839076482,
  -1973923614,
  -1023386505,
  -2117728197,
  1497497600,
  -1941839426,
  1079566433,
  -243985246,
  -543551554,
  700147554,
  2130841039,
  -261538941,
  -2050287839,
  884576661,
  1035520663,
  -792552570,
  -120904180,
  -999428238,
  -8389413,
  453015901,
  845239040,
  -1066364354,
  7871966,
  -1879021629,
  1702347010,
  1086074,
  -674344631,
  1442153022,
  1608955675,
  1892641533,
  -2018849074,
  -565833728,
  1589996987,
  268381125,
  -469730615,
  5948016,
  -325017675,
  -1879160623,
  -1435320447,
  -1887064187,
  -878703904,
  277406143,
  -1951667430,
  7211879,
  842537297,
  -1786628564,
  -988435297,
  2050745854,
  -1779319699,
  1922099047,
  -702821072,
  983483214,
  143148798,
  1942485742,
  828728352,
  -1705114638,
  -2045806380,
  13420472,
  1038662837,
  -1932738242,
  323864323,
  922748308,
  -55107594,
  1249997,
  1110282224,
  -79010141,
  -943851543,
  1336086963,
  1375931370,
  1907426708,
  -266441950,
  1374290676,
  -1954673797,
  -631870791,
  859961653,
  -267945105,
  -1951459415,
  221084655,
  1296082807,
  850381447,
  1589507985,
  -1880771182,
  -583560579,
  1061656325,
  1227754605,
  -302768895,
  -517852652,
  -1040536361,
  804097031,
  2099249149,
  337933183,
  175603939,
  -817830564,
  1803142628,
  -354747177
}; // weak


//----- (00A1AE70) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, char *a2@<edx>, int a3@<ecx>)
{
  int *v3; // esi
  int *v4; // edi
  unsigned int v5; // ebp
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  int i; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  unsigned int v16; // eax
  bool v17; // zf
  int v18; // ebx
  int v19; // ebx
  int v20; // ett
  unsigned int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ett
  unsigned int v25; // eax
  unsigned int v26; // eax
  int v27; // eax
  bool v28; // cf
  int v29; // ebx
  int v30; // ett
  BOOL v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ett
  int v35; // ecx
  int v36; // ecx
  bool v37; // cf
  int v38; // ebx
  int v39; // ebx
  int v40; // ett
  bool v41; // zf
  int v42; // ebx
  int v43; // ett
  unsigned int v44; // ecx
  char v45; // al
  int v46; // eax
  bool v47; // cc
  int *v48; // esi
  int *v49; // edi
  int v50; // ecx
  char v51; // al
  int *v52; // eax
  int v53; // eax
  int v54; // eax
  char v55; // t0
  char v56; // bl
  void (__cdecl *v57)(int *, int, int, int *); // ebp
  int *v58; // edi
  int v59[4]; // [esp+10h] [ebp-90h] BYREF
  int *v60; // [esp+20h] [ebp-80h] BYREF
  _DWORD v61[8]; // [esp+24h] [ebp-7Ch] BYREF
  int v62; // [esp+44h] [ebp-5Ch] BYREF

  v61[4] = &v62;
  v61[2] = a3;
  v61[1] = a2;
  v61[0] = a1;
  v3 = dword_A13000;
  v4 = &dword_A13000[-1591296];
  v60 = &dword_A13000[-1591296];
  v5 = -1;
  while ( 1 )
  {
    v9 = *v3;
    v7 = (unsigned int)v3++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v3;
        v3 = (int *)((char *)v3 + 1);
        *(_BYTE *)v4 = v6;
        v4 = (int *)((char *)v4 + 1);
      }
      else
      {
        for ( i = 1; ; i = v21 + v22 + v21 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v16 = i + v12 + i;
          v7 = __CFADD__(v13, v13);
          v17 = 2 * v13 == 0;
          v18 = 2 * v13;
          if ( v7 )
          {
            if ( !v17 )
              break;
            v19 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v20 = v7 + v19;
            v7 = __CFADD__(v7, v19) | __CFADD__(v19, v20);
            v18 = v19 + v20;
            if ( v7 )
              break;
          }
          v21 = v16 - 1;
          v22 = __CFADD__(v18, v18);
          v8 = 2 * v18;
          if ( !v8 )
          {
            v23 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v24 = v7 + v23;
            v22 = __CFADD__(v7, v23) | __CFADD__(v23, v24);
            v8 = v23 + v24;
          }
        }
        v7 = v16 < 3;
        v25 = v16 - 3;
        if ( v7 )
        {
          v28 = __CFADD__(v18, v18);
          v18 *= 2;
          if ( !v18 )
          {
            v29 = *v3;
            v7 = (unsigned int)v3++ < 0xFFFFFFFC;
            v30 = v7 + v29;
            v28 = __CFADD__(v7, v29) | __CFADD__(v29, v30);
            v18 = v29 + v30;
          }
        }
        else
        {
          v26 = v25 << 8;
          LOBYTE(v26) = *(_BYTE *)v3;
          v3 = (int *)((char *)v3 + 1);
          v27 = ~v26;
          if ( !v27 )
          {
            v48 = v60;
            v49 = v60;
            v50 = 5;
            while ( 1 )
            {
              v51 = *(_BYTE *)v49;
              v49 = (int *)((char *)v49 + 1);
              LOBYTE(v52) = v51 + 24;
              while ( (unsigned __int8)v52 <= 1u && *(_BYTE *)v49 == 1 )
              {
                v53 = *v49;
                LOWORD(v53) = BYTE1(*v49);
                v54 = __ROL4__(v53, 16);
                v55 = v54;
                LOBYTE(v54) = BYTE1(v54);
                BYTE1(v54) = v55;
                v56 = *((_BYTE *)v49 + 4) + 24;
                v52 = (int *)((char *)v48 + v54 - (_DWORD)v49);
                *v49 = (int)v52;
                v49 = (int *)((char *)v49 + 5);
                LOBYTE(v52) = v56;
                if ( !--v50 )
                {
                  v57 = *(void (__cdecl **)(int *, int, int, int *))((char *)&dword_61B924 + (_DWORD)v48);
                  v58 = v48 - 1024;
                  v60 = v52;
                  ((void (__fastcall *)(_DWORD, char *, int *, int, int, int **))v57)(0, a2, v48 - 1024, 4096, 4, &v60);
                  *((_BYTE *)v58 + 799) &= 0x7Fu;
                  *((_BYTE *)v58 + 839) &= 0x7Fu;
                  v57(v48 - 1024, 4096, v59[0], v59);
                  do
                    v60 = 0;
                  while ( &v60 != &v61[-32] );
                  JUMPOUT(0x40111A);
                }
              }
            }
          }
          v28 = v27 & 1;
          v5 = v27 >> 1;
        }
        v31 = v28;
        v32 = __CFADD__(v18, v18);
        v8 = 2 * v18;
        if ( !v8 )
        {
          v33 = *v3;
          v7 = (unsigned int)v3++ < 0xFFFFFFFC;
          v34 = v7 + v33;
          v32 = __CFADD__(v7, v33) | __CFADD__(v33, v34);
          v8 = v33 + v34;
        }
        v35 = v31 + v32 + v31;
        if ( !v35 )
        {
          v36 = 1;
          while ( 1 )
          {
            v37 = __CFADD__(v8, v8);
            v38 = 2 * v8;
            if ( !v38 )
            {
              v39 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v40 = v7 + v39;
              v37 = __CFADD__(v7, v39) | __CFADD__(v39, v40);
              v38 = v39 + v40;
            }
            v36 += v37 + v36;
            v7 = __CFADD__(v38, v38);
            v41 = 2 * v38 == 0;
            v8 = 2 * v38;
            if ( v7 )
            {
              if ( !v41 )
                break;
              v42 = *v3;
              v7 = (unsigned int)v3++ < 0xFFFFFFFC;
              v43 = v7 + v42;
              v7 = __CFADD__(v7, v42) | __CFADD__(v42, v43);
              v8 = v42 + v43;
              if ( v7 )
                break;
            }
          }
          v35 = v36 + 2;
        }
        v44 = (v5 < 0xFFFFFB00) + v35 + 1;
        a2 = (char *)v4 + v5;
        if ( v5 <= 0xFFFFFFFC )
        {
          do
          {
            v46 = *(_DWORD *)a2;
            a2 += 4;
            *v4++ = v46;
            v47 = v44 <= 4;
            v44 -= 4;
          }
          while ( !v47 );
          v4 = (int *)((char *)v4 + v44);
        }
        else
        {
          do
          {
            v45 = *a2++;
            *(_BYTE *)v4 = v45;
            v4 = (int *)((char *)v4 + 1);
            --v44;
          }
          while ( v44 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// A1AFC7: positive sp value 5C has been found
// A1AFC7: control flows out of bounds to 40111A
// 61B924: using guessed type int dword_61B924;
// A13000: using guessed type int dword_A13000[512];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
