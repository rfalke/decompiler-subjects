/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

// void __usercall sub_401005(int a1@<eax>, int a2@<ecx>, char a3@<bh>, int a4@<edi>);
// void __usercall sub_401059(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>);
// void __usercall sub_401090(__int32 a1@<eax>);
// void __usercall sub_4010AB(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>);
void sub_4010C2();
// void __usercall sub_4010F2(int a1@<ecx>, int a2@<esi>);
// int __usercall sub_4011A2@<eax>(_DWORD *a1@<eax>);
// void __usercall sub_4011DC(int a1@<eax>, int a2@<ebx>, int a3@<edi>);
// void __usercall sub_401217(int a1@<eax>, int a2@<edx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>);
// void __usercall sub_40126E(char a1@<al>, __int16 a2@<dx>, int a3@<ecx>, int a4@<ebp>);
// void __usercall sub_40132F(int a1@<ecx>, int a2@<edi>, int a3@<esi>);
// void __usercall sub_40134A(int a1@<eax>, int a2@<edx>, int a3@<ebx>, int a4@<esi>);
// void __usercall sub_4013CD(int a1@<eax>, char a2@<dl>, int a3@<ecx>, int a4@<ebx>, int a5@<edi>, int a6@<esi>);
// void __usercall sub_4013E9(int a1@<eax>, int a2@<edx>, int a3@<esi>);
// void __usercall sub_40140B(int a1@<eax>, int a2@<ecx>, int a3@<edi>);
// void __usercall sub_40147F(int a1@<edx>, int a2@<ecx>, __int32 a3@<esi>);
// void __usercall sub_40157C(int a1@<edx>, int a2@<ebx>, int a3@<esi>);
// int __usercall sub_4015B6@<eax>(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>);
// void __usercall sub_4015EC(__int32 a1@<eax>);
// void __usercall sub_401625(__int32 a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>);
// void __usercall sub_40167A(int a1@<edx>, int a2@<ebx>, int a3@<ebp>, int a4@<edi>, __int32 a5@<esi>);
// void __usercall sub_40169F(int a1@<edx>, int a2@<ebx>, int a3@<ebp>, int a4@<edi>);
// void __usercall sub_4016BB(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>);
void sub_402466();
// int __usercall sub_4024E8@<eax>(int a1@<ecx>, char a2@<bl>);
// void __usercall sub_402541(int a1@<eax>, int a2@<ecx>, int a3@<ebx>, __int16 a4@<si>);
// void __usercall sub_402560(int a1@<edx>, int a2@<edi>);
// void __usercall sub_4025AF(int a1@<ecx>, int a2@<ebx>, int a3@<ebp>);
// void __usercall sub_402639(__int16 a1@<ax>, __int32 a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<edi>, __int32 a6@<esi>);
void sub_402658();
void __fastcall sub_402691(int a1, __int32 a2);
// void __usercall sub_4026C9(__int32 a1@<ebx>);
// void __usercall sub_40276F(int a1@<edx>, int a2@<ecx>, int a3@<esi>);
// void __usercall sub_4027C7(int a1@<ecx>, char a2@<bh>);
// int __usercall sub_402892@<eax>(char a1@<al>, char a2@<dl>, int a3@<ecx>, char a4@<bl>);
// int __usercall sub_4028CD@<eax>(int a1@<ebx>);
void sub_4028EC();
// void __usercall sub_402927(int a1@<edx>, int a2@<esi>);
void __thiscall sub_40299C(void *this);
// void __usercall sub_402A2A(char a1@<ah>, int a2@<edx>, int a3@<ecx>, int a4@<edi>);
void sub_402A92();
void __fastcall sub_402AE1(int a1, int a2);
// void __usercall __noreturn sub_402B4F(int a1@<ecx>, int a2@<ebx>, int a3@<edi>, int a4@<esi>);
// __int64 __usercall sub_402BBE@<edx:eax>(char a1@<dh>);
// void __usercall sub_402C18(char a1@<al>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>);
// void __usercall sub_402CBF(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4@<esi>);
// void __usercall sub_402D69(int a1@<edi>);
void __fastcall sub_402DA0(int a1, __int16 a2);
void __fastcall sub_402DDF(unsigned int a1);
void sub_402E3D();
// void __usercall sub_402EB4(int a1@<ecx>, __int32 a2@<edx>, char a3@<ah>, int a4@<ebx>);
// void __usercall sub_402EBE(char a1@<ah>, int a2@<edx>, int a3@<ecx>, int _EBX@<ebx>);
// void __usercall sub_402F11(char a1@<ah>, int a2@<edx>, int a3@<ecx>, int a4@<esi>, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34);
// void __usercall sub_402F6D(int a1@<ebp>);
void sub_402FA7();
// void __usercall sub_402FFA(int a1@<eax>, char a2@<dl>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>);
// void __usercall sub_403064(int a1@<eax>, int a2@<edx>, int a3@<ecx>, char a4@<bl>, int a5@<edi>, char a6@<sil>);
// void __usercall sub_40307F(__int16 a1@<ax>, int a2@<edx>, int a3@<ecx>, char a4@<bl>, int a5@<edi>);
_DWORD sub_4030B5(); // weak
void sub_4030ED();
// void __usercall sub_403153(int a1@<ecx>, int a2@<ebx>, _BYTE *a3@<esi>);
int __thiscall sub_4031B7(void *this);
void sub_40320D();
// void __usercall sub_40328A(int a1@<eax>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<edi>);
// void __usercall sub_4032C9(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<esi>);
void sub_403307();
// void __usercall sub_403323(int a1@<ecx>, char a2@<bl>, int a3@<edi>, __int32 a4@<esi>);
void sub_4033A2();

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN loc_40101D; // weak
_UNKNOWN loc_401072; // weak
_UNKNOWN loc_40110E; // weak
_UNKNOWN loc_401135; // weak
_UNKNOWN loc_40118B; // weak
_UNKNOWN loc_4011C2; // weak
_UNKNOWN loc_4011F5; // weak
_UNKNOWN loc_401289; // weak
_UNKNOWN loc_401313; // weak
_UNKNOWN loc_4013B0; // weak
_UNKNOWN loc_401462; // weak
_UNKNOWN loc_40149E; // weak
_UNKNOWN loc_40150A; // weak
_UNKNOWN loc_401594; // weak
_UNKNOWN loc_4015D0; // weak
_UNKNOWN loc_401602; // weak
_UNKNOWN loc_401656; // weak
_UNKNOWN loc_4016DD; // weak
_UNKNOWN loc_402409; // weak
_UNKNOWN loc_402425; // weak
_UNKNOWN loc_402441; // weak
_UNKNOWN loc_40247B; // weak
_UNKNOWN loc_4024CA; // weak
_UNKNOWN loc_4024FB; // weak
_UNKNOWN loc_402591; // weak
_UNKNOWN loc_4025E7; // weak
_UNKNOWN loc_402601; // weak
_UNKNOWN loc_402673; // weak
_UNKNOWN loc_40272A; // weak
_UNKNOWN loc_402833; // weak
_UNKNOWN loc_402905; // weak
char byte_402986 = '\x8D'; // weak
_UNKNOWN loc_4029CC; // weak
_UNKNOWN loc_402A0F; // weak
_UNKNOWN loc_402A3F; // weak
_UNKNOWN loc_402AB0; // weak
_UNKNOWN loc_402B33; // weak
_UNKNOWN loc_402BD9; // weak
_UNKNOWN loc_402C32; // weak
_UNKNOWN loc_402C9D; // weak
_UNKNOWN loc_402CDB; // weak
_UNKNOWN loc_402D46; // weak
_UNKNOWN loc_402D81; // weak
_UNKNOWN loc_402F4D; // weak
_UNKNOWN loc_403098; // weak
_UNKNOWN loc_4030D3; // weak
_UNKNOWN loc_403115; // weak
_UNKNOWN loc_4031D3; // weak
_UNKNOWN loc_403268; // weak
_UNKNOWN loc_4032E9; // weak
_UNKNOWN loc_403340; // weak


//----- (00401005) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401005(int a1@<eax>, int a2@<ecx>, char a3@<bh>, int a4@<edi>)
{
  __int16 v5; // bx

  __asm { repne pop edx }
  LOBYTE(v5) = BYTE1(a1);
  HIBYTE(v5) = -a3;
  sub_4015B6(_EDX, a4 ^ a2, v5, a4, a1 - a4);
  MEMORY[0x8FB48521]();
  JUMPOUT(0x401022);
}
// 40100A: positive sp value 4 has been found
// 40101D: control flows out of bounds to 401022

//----- (00401059) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401059(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>)
{
  int v5; // esi
  int v6; // ecx
  char v7; // zf
  int v8; // eax
  int v9; // ecx
  int v10; // [esp+10h] [ebp-Ch]
  int v11; // [esp+14h] [ebp-8h]

  *(&v11 - 8) = v10;
  v5 = v11 ^ (a5 + 1);
  if ( (((int (__fastcall *)(int, int))((char *)&loc_4013B0 + 2))(a2 - a3 + 1, a1 - a4) & 0xFF2525E8) != 0 )
  {
    MEMORY[0x4647504]();
    JUMPOUT(0x401077);
  }
  ((void (*)(void))((char *)&loc_4015D0 + 2))();
  if ( !v7 )
    JUMPOUT(0x4010A7);
  ((void (__thiscall *)(int))((char *)&loc_40150A + 4))(v5 | v6);
  v8 = MEMORY[0x464756C]();
  ((void (__thiscall *)(int))((char *)&loc_401135 + 1))(v8 ^ v9);
  if ( !v7 )
    JUMPOUT(0x4010EE);
  JUMPOUT(0x4010D6);
}
// 401098: positive sp value C has been found
// 401072: control flows out of bounds to 401077
// 4010A5: control flows out of bounds to 4010A7
// 4010EC: control flows out of bounds to 4010EE
// 4010EC: control flows out of bounds to 4010D6
// 4010A5: variable 'v7' is possibly undefined
// 4010CC: variable 'v6' is possibly undefined
// 4010E5: variable 'v9' is possibly undefined

//----- (00401090) --------------------------------------------------------
void __usercall sub_401090(__int32 a1@<eax>)
{
  void *retaddr; // [esp+0h] [ebp+0h] BYREF

  _InterlockedExchange((volatile __int32 *)&retaddr, a1);
  JUMPOUT(0x401097);
}
// 401095: control flows out of bounds to 401097

//----- (004010AB) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4010AB(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>)
{
  ((void (__fastcall *)(int, int))loc_401462)(a1 ^ (a3 - 1), a4 ^ a2);
  sub_4010C2();
}
// 4010AF: positive sp value 4 has been found

//----- (004010C2) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4010C2()
{
  JUMPOUT(0x4010CC);
}
// 4010C6: positive sp value 4 has been found
// 4010CB: control flows out of bounds to 4010CC

//----- (004010F2) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4010F2(int a1@<ecx>, int a2@<esi>)
{
  int v2; // esi
  int v3; // [esp+56h] [ebp-18h]
  int v4; // [esp+6Ah] [ebp-4h]
  void *retaddr; // [esp+6Eh] [ebp+0h] BYREF

  v3 = v4;
  v2 = a2 + a1;
  ((void (*)(void))((char *)&loc_401602 + 2))();
  MEMORY[0x25B5110D]();
  v4 = *(int *)((char *)&retaddr + 2 * v2 - 113);
  JUMPOUT(0x401112);
}
// 4010F6: positive sp value 4 has been found
// 40110E: control flows out of bounds to 401112

//----- (004011A2) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_4011A2@<eax>(_DWORD *a1@<eax>)
{
  ((void (__cdecl *)(_DWORD))((char *)&loc_401313 + 1))(*a1);
  return MEMORY[0x90241489]();
}
// 4011A6: positive sp value 4 has been found

//----- (004011DC) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4011DC(int a1@<eax>, int a2@<ebx>, int a3@<edi>)
{
  sub_40134A(a1, a3 + 1, a3 | (a2 + 1), a3);
  MEMORY[0x64CE11E2]();
  JUMPOUT(0x4011FA);
}
// 4011E0: positive sp value 4 has been found
// 4011F5: control flows out of bounds to 4011FA

//----- (00401217) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401217(int a1@<eax>, int a2@<edx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>)
{
  __asm { repne pop ecx }
  if ( (((int (__fastcall *)(int, int))((char *)&loc_40149E + 1))(_ECX, a1 ^ (a2 - 1 - a5 - (a3 ^ a4))) & 0x2525E874) != 0 )
    JUMPOUT(0x401233);
  JUMPOUT(0x4012A7);
}
// 40121E: positive sp value 4 has been found
// 401231: control flows out of bounds to 401233
// 401231: control flows out of bounds to 4012A7

//----- (0040126E) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40126E(char a1@<al>, __int16 a2@<dx>, int a3@<ecx>, int a4@<ebp>)
{
  LOBYTE(a3) = HIBYTE(a2) | (a1 + 1) | (a3 - a2);
  ((void (__thiscall *)(int))((char *)&loc_401656 + 4))(a3);
  MEMORY[0xE86611FD]();
  --*(_DWORD *)(a4 - 1207688092);
  JUMPOUT(0x40128F);
}
// 401272: positive sp value 4 has been found
// 401289: control flows out of bounds to 40128F

//----- (004012F4) --------------------------------------------------------
#error "4012F4: stack frame is too big (funcsize=0)"

//----- (0040132F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40132F(int a1@<ecx>, int a2@<edi>, int a3@<esi>)
{
  int v3; // edi
  int v4; // eax
  int v5; // edx
  void *v6; // [esp+1Ch] [ebp-4h]
  void *retaddr; // [esp+20h] [ebp+0h]

  *(&retaddr - 9) = v6;
  v3 = a3 ^ (a1 | a2);
  ((void (*)(void))((char *)&loc_401594 + 1))();
  v4 = MEMORY[0x754012BC]();
  sub_40134A(v4, v5, v3 ^ a3, a3 - 1);
}
// 401333: positive sp value 4 has been found
// 401349: variable 'v5' is possibly undefined

//----- (0040134A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40134A(int a1@<eax>, int a2@<edx>, int a3@<ebx>, int a4@<esi>)
{
  sub_4010AB(a1 & 0xEEEEEEEE, a2, a4 - a1, a1 & 0xEEEEEEEE | (a3 + 1));
  JUMPOUT(0x401371);
}
// 40134E: positive sp value 4 has been found
// 40136C: control flows out of bounds to 401371

//----- (004013CD) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4013CD(int a1@<eax>, char a2@<dl>, int a3@<ecx>, int a4@<ebx>, int a5@<edi>, int a6@<esi>)
{
  int v6; // ebx
  int v7; // eax
  int v8; // edx
  void *v9; // [esp+8h] [ebp-4h]
  void *retaddr; // [esp+Ch] [ebp+0h]

  *(&retaddr - 4) = v9;
  v6 = a4 - a5;
  LOBYTE(a3) = a3 - a2;
  BYTE1(v6) |= a2;
  sub_401005(a1, a6 ^ (v6 + a3), SBYTE1(v6), a1 + a5);
  sub_4013E9(v7 & 0x257474FF, v8, a6);
}
// 4013D1: positive sp value 4 has been found
// 4013E4: variable 'v7' is possibly undefined
// 4013E5: variable 'v8' is possibly undefined

//----- (004013E9) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4013E9(int a1@<eax>, int a2@<edx>, int a3@<esi>)
{
  int v3; // edi
  int v4; // eax
  int v5; // ecx
  char v6; // zf
  void *v7; // [esp+1Ch] [ebp-4h]
  void *retaddr; // [esp+20h] [ebp+0h]

  *(&retaddr - 9) = v7;
  v3 = ((a2 - a1) ^ a3) + 1;
  v4 = ((int (*)(void))((char *)&loc_4011F5 + 3))();
  if ( v6 )
    JUMPOUT(0x4013F1);
  sub_40140B(v4, v5, v3);
}
// 4013ED: positive sp value 4 has been found
// 401407: control flows out of bounds to 4013F1
// 401407: variable 'v6' is possibly undefined
// 40140A: variable 'v5' is possibly undefined

//----- (0040140B) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40140B(int a1@<eax>, int a2@<ecx>, int a3@<edi>)
{
  char v3; // zf

  do
    a1 = ((int (__thiscall *)(int))((char *)&loc_40110E + 3))(a3 + (a1 ^ a2));
  while ( v3 );
  MEMORY[0x25653A16]();
  JUMPOUT(0x401433);
}
// 40140F: positive sp value 4 has been found
// 40142E: control flows out of bounds to 401433
// 40141B: variable 'a2' is possibly undefined
// 401427: variable 'v3' is possibly undefined

//----- (0040147F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40147F(int a1@<edx>, int a2@<ecx>, __int32 a3@<esi>)
{
  char v3; // zf
  __int32 v4; // [esp-8h] [ebp-8h] BYREF

  _InterlockedExchange(&v4, a3);
  ((void (__fastcall *)(int, int))((char *)&loc_40101D + 4))(a2, a1 - 1);
  if ( !v3 )
  {
    MEMORY[0x26288912]();
    JUMPOUT(0x4014A3);
  }
  JUMPOUT(0x4014BE);
}
// 401491: positive sp value 8 has been found
// 40149E: control flows out of bounds to 4014A3
// 401497: control flows out of bounds to 4014BE
// 401497: variable 'v3' is possibly undefined

//----- (0040157C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40157C(int a1@<edx>, int a2@<ebx>, int a3@<esi>)
{
  char v3; // zf

  sub_40132F(a2, a1, a3 + 2);
  MEMORY[0x256589B9]();
  if ( !v3 )
    JUMPOUT(0x401596);
  JUMPOUT(0x401525);
}
// 401580: positive sp value 4 has been found
// 401594: control flows out of bounds to 401596
// 401594: control flows out of bounds to 401525
// 401594: variable 'v3' is possibly undefined

//----- (004015B6) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_4015B6@<eax>(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>)
{
  int v5; // ecx
  int v6; // edi
  __int32 v7; // esi
  int v8; // ebx
  int result; // eax
  int v10; // edx
  int v11; // ecx
  char v12; // zf
  int v13; // edx
  int v14; // edi
  int v16; // [esp+1Ch] [ebp-Ch]
  int v17; // [esp+20h] [ebp-8h]

  *(&v17 - 11) = v16;
  v8 = a3 + 1;
  v5 = a1 + a2;
  v6 = a4 - v5;
  v7 = v5 ^ a5;
  LOBYTE(v5) = -(char)v5;
  BYTE1(v8) = -4;
  result = ((int (__thiscall *)(int))((char *)&loc_4016DD + 1))(a1 ^ v5);
  if ( !v12 )
  {
    MEMORY[0x2484A5D4]();
    JUMPOUT(0x4015D5);
  }
  v13 = v7 | v10;
  v14 = v11 + v6 - 1;
  if ( (result & 8) == 0 )
  {
    sub_40167A(v13, v13 + v8, v17, v14, v7);
    __asm { rep pop ecx }
    ((void (__thiscall *)(int))((char *)&loc_4011C2 + 2))(v14 + 1 + _ECX);
    result = MEMORY[0xE8FFFFE8]();
  }
  return result;
}
// 401660: positive sp value C has been found
// 4015D0: control flows out of bounds to 4015D5
// 4015B6: could not find valid save-restore pair for ebp
// 4015CE: variable 'v12' is possibly undefined
// 401644: variable 'v10' is possibly undefined
// 401646: variable 'v11' is possibly undefined

//----- (004015EC) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4015EC(__int32 a1@<eax>)
{
  char v1; // zf
  void *v2; // [esp+24h] [ebp-4h]
  void *retaddr; // [esp+28h] [ebp+0h]

  *(&retaddr - 11) = v2;
  sub_401090(a1);
  if ( !v1 )
    JUMPOUT(0x401607);
  JUMPOUT(0x4015EA);
}
// 4015F0: positive sp value 4 has been found
// 401602: control flows out of bounds to 401607
// 401600: control flows out of bounds to 4015EA
// 401600: variable 'v1' is possibly undefined

//----- (00401625) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_401625(__int32 a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>)
{
  __int32 v7; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v7, a1);
  sub_4016BB(v7, v7 + a2, a7 ^ a3, a4, a5, a6, a7 + 1);
  MEMORY[0x75283BB3]();
  JUMPOUT(0x401644);
}
// 401630: positive sp value 4 has been found
// 40163F: control flows out of bounds to 401644

//----- (0040167A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40167A(int a1@<edx>, int a2@<ebx>, int a3@<ebp>, int a4@<edi>, __int32 a5@<esi>)
{
  int v5; // eax
  __int32 v6; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v6, a5);
  sub_40169F(a1, a4 | ((a4 ^ a2) + 2), a3, a4);
  if ( (v5 & 0xFF74E825) != 0 )
    JUMPOUT(0x401692);
  JUMPOUT(0x401621);
}
// 401680: positive sp value 4 has been found
// 401690: control flows out of bounds to 401692
// 401690: control flows out of bounds to 401621
// 40168B: variable 'v5' is possibly undefined

//----- (0040169F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40169F(int a1@<edx>, int a2@<ebx>, int a3@<ebp>, int a4@<edi>)
{
  int v4; // esi
  __int64 v5; // rax
  int v6; // ecx
  void *v7; // [esp+20h] [ebp-4h]
  void *retaddr; // [esp+24h] [ebp+0h]

  *(&retaddr - 10) = v7;
  v4 = a1 | a2;
  ((void (*)(void))((char *)&loc_401072 + 1))();
  v5 = MEMORY[0x263F8BBA]();
  sub_4016BB(v5, SHIDWORD(v5), v6, v4, a3, a4, v4);
}
// 4016A3: positive sp value 4 has been found
// 4016B7: variable 'v6' is possibly undefined

//----- (004016BB) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4016BB(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>, int a6@<edi>, int a7@<esi>)
{
  int v7; // edx
  int v8; // esi
  char v9; // zf

  v7 = (a6 | a4) + a2;
  v8 = (a6 | a7) - v7;
  ((void (__fastcall *)(int, int))loc_40118B)(a3 - ((a3 | a1 | a6) - a3), a3 - ((a3 | a1 | a6) - a3) + v7);
  MEMORY[0x75288BDA]();
  if ( !v9 )
  {
    --*(_DWORD *)(a5 - 1291574172);
    JUMPOUT(0x4016E3);
  }
  ((void (__thiscall *)(int))((char *)&loc_401289 + 1))(v8);
  JUMPOUT(0x40170D);
}
// 4016BF: positive sp value 4 has been found
// 4016DD: control flows out of bounds to 4016E3
// 401708: control flows out of bounds to 40170D
// 4016DB: variable 'v9' is possibly undefined

//----- (00402466) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402466()
{
  char v0; // zf
  void *v1; // [esp+28h] [ebp-4h]
  void *retaddr; // [esp+2Ch] [ebp+0h]

  *(&retaddr - 12) = v1;
  sub_402E3D();
  if ( !v0 )
  {
    MEMORY[0x4C94A68]();
    JUMPOUT(0x402480);
  }
  JUMPOUT(0x4024EF);
}
// 40246A: positive sp value 4 has been found
// 40247B: control flows out of bounds to 402480
// 402479: control flows out of bounds to 4024EF
// 402479: variable 'v0' is possibly undefined

//----- (004024E8) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_4024E8@<eax>(int a1@<ecx>, char a2@<bl>)
{
  int v2; // edx
  void *v4; // [esp+4h] [ebp-4h]
  void *retaddr; // [esp+8h] [ebp+0h]

  *(&retaddr - 3) = v4;
  v2 = a1;
  BYTE1(v2) = a2 + BYTE1(a1);
  ((void (__fastcall *)(int, int))((char *)&loc_402D81 + 1))(a1, v2);
  return MEMORY[0x8F25FF74]();
}
// 4024EC: positive sp value 4 has been found

//----- (00402541) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402541(int a1@<eax>, int a2@<ecx>, int a3@<ebx>, __int16 a4@<si>)
{
  int v4; // edi
  int v5; // edx
  char v6; // zf
  void *v7; // [esp+4h] [ebp-4h]
  void *retaddr; // [esp+8h] [ebp+0h]

  *(&retaddr - 3) = v7;
  v4 = a3 + a2 - a1;
  sub_402DA0(a2, a4);
  MEMORY[0xE8B52546]();
  if ( v6 )
    JUMPOUT(0x4025D4);
  sub_402560(v5, v4);
}
// 402545: positive sp value 4 has been found
// 40255E: control flows out of bounds to 4025D4
// 40255E: variable 'v6' is possibly undefined
// 40255F: variable 'v5' is possibly undefined

//----- (00402560) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402560(int a1@<edx>, int a2@<edi>)
{
  char v2; // zf

  do
  {
    a2 |= a1;
    sub_402658();
    MEMORY[0x74654B75]();
  }
  while ( v2 );
  JUMPOUT(0x402578);
}
// 40256C: positive sp value 8 has been found
// 402576: control flows out of bounds to 402578
// 402569: variable 'a1' is possibly undefined
// 402576: variable 'v2' is possibly undefined

//----- (004025AF) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4025AF(int a1@<ecx>, int a2@<ebx>, int a3@<ebp>)
{
  char v3; // zf
  int v4; // eax
  int v5; // edx
  int v6; // ebx
  char v7; // ch
  void *v8; // [esp+1Ch] [ebp-4h]
  void *retaddr; // [esp+20h] [ebp+0h]

  *(&retaddr - 9) = v8;
  LOBYTE(a2) = BYTE1(a1);
  ((void (__thiscall *)(int, int))((char *)&loc_4032E9 + 1))(a1 + 1, 12288);
  if ( !v3 )
  {
    v4 = MEMORY[0x64CD4B3E]();
    LOBYTE(v4) = v4 & 4;
    v6 = v5 | a2;
    BYTE1(v6) = v7 - BYTE1(v6);
    sub_402D69(v4 | v6);
    v8 = *(void **)(a3 - 1);
    JUMPOUT(0x4025EC);
  }
  JUMPOUT(0x4025EA);
}
// 4025B3: positive sp value 4 has been found
// 4025E7: control flows out of bounds to 4025EC
// 4025C3: control flows out of bounds to 4025EA
// 4025C3: variable 'v3' is possibly undefined
// 4025CC: variable 'v5' is possibly undefined
// 4025D2: variable 'v7' is possibly undefined

//----- (00402639) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402639(__int16 a1@<ax>, __int32 a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<edi>, __int32 a6@<esi>)
{
  __int16 v6; // ax
  int v7; // ecx
  int v8; // ebx
  __int32 v9; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v9, a6);
  v6 = a1 - a4;
  v7 = a3 - a5;
  v8 = v9 + a4 + 1;
  HIBYTE(v6) ^= v7;
  BYTE1(v7) = 123;
  LOBYTE(v7) = v8 + v7;
  sub_402EB4(v7, a2, SHIBYTE(v6), v8);
  sub_402658();
}
// 40263F: positive sp value 4 has been found

//----- (00402658) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402658()
{
  char v0; // zf
  void *v1; // [esp+14h] [ebp-4h]
  void *retaddr; // [esp+18h] [ebp+0h]

  *(&retaddr - 7) = v1;
  ((void (*)(void))byte_402986)();
  MEMORY[0x754025E7]();
  if ( !v0 )
    JUMPOUT(0x402675);
  JUMPOUT(0x4025FC);
}
// 40265C: positive sp value 4 has been found
// 402673: control flows out of bounds to 402675
// 402673: control flows out of bounds to 4025FC
// 402673: variable 'v0' is possibly undefined
// 402986: using guessed type char byte_402986;

//----- (00402691) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_402691(int a1, __int32 a2)
{
  __int32 v2; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v2, a2);
  ((void (__thiscall *)(__int32, _DWORD))loc_402409)(v2, 0);
  MEMORY[0x74B5261D]();
  JUMPOUT(0x4026AE);
}
// 402699: positive sp value 4 has been found
// 4026A9: control flows out of bounds to 4026AE

//----- (004026C9) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4026C9(__int32 a1@<ebx>)
{
  __int32 v1; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v1, a1);
  sub_402466();
  JUMPOUT(0x4026E9);
}
// 4026CF: positive sp value 4 has been found
// 4026E4: control flows out of bounds to 4026E9

//----- (0040276F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40276F(int a1@<edx>, int a2@<ecx>, int a3@<esi>)
{
  int v3; // edx

  v3 = a3 + a1 - 1;
  BYTE1(v3) = -BYTE1(v3);
  ((int (__fastcall *)(int, int))((char *)&loc_402CDB + 2))(a2, v3);
  JUMPOUT(0x40278F);
}
// 402773: positive sp value 4 has been found
// 40278B: control flows out of bounds to 40278F

//----- (004027C7) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4027C7(int a1@<ecx>, char a2@<bh>)
{
  int v2; // ecx
  void *v3; // [esp+20h] [ebp-4h]
  void *retaddr; // [esp+24h] [ebp+0h]

  *(&retaddr - 10) = v3;
  BYTE1(a1) = -111;
  v2 = a1 - 1;
  BYTE1(v2) = a2;
  ((void (__thiscall *)(int))loc_40272A)(v2);
  MEMORY[0x74B44DDD]();
  JUMPOUT(0x4027DE);
}
// 4027CB: positive sp value 4 has been found
// 4027D9: control flows out of bounds to 4027DE

//----- (00402892) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_402892@<eax>(char a1@<al>, char a2@<dl>, int a3@<ecx>, char a4@<bl>)
{
  LOBYTE(a3) = a1 | a2 | a3;
  sub_4024E8(a3, a4 - 72);
  return MEMORY[0x257425FF]();
}
// 402896: positive sp value 4 has been found

//----- (004028CD) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __usercall sub_4028CD@<eax>(int a1@<ebx>)
{
  char v1; // zf

  ((void (__cdecl *)(int))((char *)&loc_402C32 + 1))(a1);
  if ( v1 )
    JUMPOUT(0x4028CE);
  return MEMORY[0x7425E8FF]();
}
// 4028D1: positive sp value 4 has been found
// 4028E4: control flows out of bounds to 4028CE
// 4028E4: variable 'v1' is possibly undefined

//----- (004028EC) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4028EC()
{
  sub_402FA7();
  MEMORY[0x8E29287E]();
  JUMPOUT(0x40290A);
}
// 4028F0: positive sp value 4 has been found
// 402905: control flows out of bounds to 40290A

//----- (00402927) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402927(int a1@<edx>, int a2@<esi>)
{
  char v4; // dh
  int v5; // ecx
  char v6; // zf
  void *v8; // ecx
  unsigned __int8 v9; // al
  int v10; // edx
  int v11; // [esp+0h] [ebp-Ch]
  int v12; // [esp+4h] [ebp-8h]

  *(&v12 - 4) = v11;
  _EAX = ((int (*)(void))((char *)&loc_402F4D + 1))();
  if ( !v6 )
  {
    MEMORY[0xE9284E6B]();
    JUMPOUT(0x402946);
  }
  __asm { repne mov eax, eax }
  BYTE1(a1) = -BYTE1(a1);
  LOBYTE(a1) = a1 - v4;
  sub_40276F(a1, v5 << 15, a2 - v12);
  if ( !v6 )
    JUMPOUT(0x402982);
  while ( 1 )
  {
    sub_40299C(v8);
    if ( !v6 )
      break;
    v9 = __inbyte(0x5Eu);
  }
  MEMORY[0x263F4FF7]();
  ((void (__cdecl *)(_DWORD))loc_402441)(*(_DWORD *)(v10 + 8));
  if ( !v6 )
    JUMPOUT(0x402A26);
  JUMPOUT(0x402A25);
}
// 402A13: positive sp value C has been found
// 402941: control flows out of bounds to 402946
// 402980: control flows out of bounds to 402982
// 402A24: control flows out of bounds to 402A26
// 402A24: control flows out of bounds to 402A25
// 40293F: variable 'v6' is possibly undefined
// 402972: variable 'v4' is possibly undefined
// 402974: variable 'v5' is possibly undefined
// 402A03: variable 'v8' is possibly undefined
// 402A15: variable 'v10' is possibly undefined

//----- (0040299C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __thiscall sub_40299C(void *this)
{
  ((void (__fastcall *)(void *, void *))loc_4024CA)(this, this);
  JUMPOUT(0x4029B4);
}
// 4029A4: positive sp value 4 has been found
// 4029AF: control flows out of bounds to 4029B4

//----- (00402A2A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402A2A(char a1@<ah>, int a2@<edx>, int a3@<ecx>, int a4@<edi>)
{
  char v4; // zf
  void *v5; // [esp+1Ch] [ebp-4h]
  void *retaddr; // [esp+20h] [ebp+0h]

  *(&retaddr - 9) = v5;
  BYTE1(a3) ^= a1;
  ((void (__fastcall *)(int, int))((char *)&loc_403115 + 4))(a3, (a4 - 2) | a2);
  if ( !v4 )
  {
    MEMORY[0x88291343]();
    JUMPOUT(0x402A44);
  }
  JUMPOUT(0x402A3E);
}
// 402A2E: positive sp value 4 has been found
// 402A3F: control flows out of bounds to 402A44
// 402A3D: control flows out of bounds to 402A3E
// 402A3D: variable 'v4' is possibly undefined

//----- (00402A92) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402A92()
{
  char v0; // zf
  void *v1; // [esp+1Ch] [ebp-4h]
  void *retaddr; // [esp+20h] [ebp+0h]

  *(&retaddr - 9) = v1;
  ((void (*)(void))((char *)&loc_402673 + 1))();
  if ( !v0 )
  {
    MEMORY[0x24A4B829]();
    JUMPOUT(0x402AB5);
  }
  JUMPOUT(0x402AAF);
}
// 402A96: positive sp value 4 has been found
// 402AB0: control flows out of bounds to 402AB5
// 402AAE: control flows out of bounds to 402AAF
// 402AAE: variable 'v0' is possibly undefined

//----- (00402AE1) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_402AE1(int a1, int a2)
{
  char v2; // zf

  if ( (((int (__fastcall *)(int, int))loc_402591)(a1 - 1, a1 | a2) & 0xFFE874E8) != 0 )
    JUMPOUT(0x402AF7);
  ((void (*)(void))((char *)&loc_4025E7 + 4))();
  if ( !v2 )
    JUMPOUT(0x402A8D);
  JUMPOUT(0x402A9C);
}
// 402A7B: positive sp value 8 has been found
// 402AF5: control flows out of bounds to 402AF7
// 402A8B: control flows out of bounds to 402A8D
// 402A75: control flows out of bounds to 402A9C
// 402A8B: variable 'v2' is possibly undefined

//----- (00402B4F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall __noreturn sub_402B4F(int a1@<ecx>, int a2@<ebx>, int a3@<edi>, int a4@<esi>)
{
  int v4; // edx
  char v5; // zf

  do
  {
    --a3;
    a2 += a4;
    v4 = a1;
    BYTE1(a2) = -53;
    BYTE1(v4) = a2 | BYTE1(a1);
    ((void (__fastcall *)(int, int))loc_402B33)(a1, v4);
  }
  while ( v5 );
  MEMORY[0x2484BAE3]();
  JUMPOUT(0x402B6F);
}
// 402B56: positive sp value 4 has been found
// 402B6A: control flows out of bounds to 402B6F
// 402B68: variable 'v5' is possibly undefined

//----- (00402BBE) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
__int64 __usercall sub_402BBE@<edx:eax>(char a1@<dh>)
{
  __int64 result; // rax

  BYTE5(result) = -a1;
  return result;
}
// 402BC4: positive sp value 4 has been found

//----- (00402C18) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402C18(char a1@<al>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>)
{
  char v4; // zf
  void *v5; // [esp+Ch] [ebp-4h]
  void *retaddr; // [esp+10h] [ebp+0h]

  *(&retaddr - 5) = v5;
  BYTE1(a2) = a1 | -BYTE1(a2);
  LOBYTE(a2) = a2 - a3;
  sub_402AE1(a3, a2 - a4);
  if ( !v4 )
  {
    MEMORY[0x46490C4]();
    JUMPOUT(0x402C37);
  }
  JUMPOUT(0x402C55);
}
// 402C1C: positive sp value 4 has been found
// 402C32: control flows out of bounds to 402C37
// 402C2E: control flows out of bounds to 402C55
// 402C30: control flows out of bounds to 402C1A
// 402C2E: variable 'v4' is possibly undefined

//----- (00402CBF) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402CBF(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4@<esi>)
{
  int v4; // edx
  int v5; // edx
  void *v6; // [esp+18h] [ebp-4h]
  void *retaddr; // [esp+1Ch] [ebp+0h]

  *(&retaddr - 8) = v6;
  v4 = a4 ^ a1;
  BYTE1(v4) = -BYTE1(v4);
  v5 = a3 ^ v4;
  LOBYTE(v5) = v5 - BYTE1(v5);
  BYTE1(v5) = BYTE1(a3);
  ((void (__fastcall *)(int, int))loc_402425)(a2, a2 + v5);
  MEMORY[0x24A4BADF]();
  JUMPOUT(0x402CE0);
}
// 402CC3: positive sp value 4 has been found
// 402CDB: control flows out of bounds to 402CE0

//----- (00402D69) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402D69(int a1@<edi>)
{
  ((void (*)(void))((char *)&loc_402AB0 + 2))();
  MEMORY[0x8B646A0F](*(_DWORD *)(9 * (a1 + 1) - 1));
  JUMPOUT(0x402D86);
}
// 402D6D: positive sp value 4 has been found
// 402D81: control flows out of bounds to 402D86

//----- (00402DA0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_402DA0(int a1, __int16 a2)
{
  char v2; // zf

  HIBYTE(a2) = a2;
  ((void (__fastcall *)(int, __int16))loc_4031D3)(a1, a2);
  if ( !v2 )
    JUMPOUT(0x402DBB);
  JUMPOUT(0x402DB5);
}
// 402DA4: positive sp value 4 has been found
// 402DB6: control flows out of bounds to 402DBB
// 402DB4: control flows out of bounds to 402DB5
// 402DB4: variable 'v2' is possibly undefined

//----- (00402DDF) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_402DDF(unsigned int a1)
{
  void *v1; // [esp+4h] [ebp-4h]
  void *retaddr; // [esp+8h] [ebp+0h]

  *(&retaddr - 3) = v1;
  ((void (__thiscall *)(unsigned int))((char *)&loc_40247B + 3))(a1 >> 15);
  MEMORY[0x8828A275]();
  JUMPOUT(0x402E01);
}
// 402DE3: positive sp value 4 has been found
// 402DFC: control flows out of bounds to 402E01

//----- (00402E3D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402E3D()
{
  void *v0; // [esp+28h] [ebp-4h]
  void *retaddr; // [esp+2Ch] [ebp+0h]

  *(&retaddr - 12) = v0;
  ((void (*)(void))loc_402A0F)();
  JUMPOUT(0x402E5A);
}
// 402E41: positive sp value 4 has been found
// 402E55: control flows out of bounds to 402E5A

//----- (00402EB4) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402EB4(int a1@<ecx>, __int32 a2@<edx>, char a3@<ah>, int a4@<ebx>)
{
  __int32 v4; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v4, a2);
  sub_402EBE(a3, v4, a1, a4);
}
// 402EBC: positive sp value 4 has been found

//----- (00402EBE) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402EBE(char a1@<ah>, int a2@<edx>, int a3@<ecx>, int _EBX@<ebx>)
{
  int v4; // eax
  char v5; // zf
  int v6; // [esp+24h] [ebp-8h]
  int v7; // [esp+28h] [ebp-4h]

  *(&v7 - 12) = v6;
  LOBYTE(a2) = BYTE1(a2) ^ (a1 + a2);
  v4 = ((int (__fastcall *)(int, int))((char *)&loc_403098 + 2))(a3, a2);
  if ( !v5 )
  {
    MEMORY[0x24A4BBFE]();
    JUMPOUT(0x402ED9);
  }
  if ( (v4 & 0xFFFFE825) != 0 )
  {
    __asm { rep push ebx }
    ((void (*)(void))loc_402BD9)();
    JUMPOUT(0x402F66);
  }
  JUMPOUT(0x402ED6);
}
// 402F55: positive sp value 8 has been found
// 402ED4: control flows out of bounds to 402ED9
// 402F61: control flows out of bounds to 402F66
// 402F4D: control flows out of bounds to 402ED6
// 402ED2: variable 'v5' is possibly undefined

//----- (00402F11) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402F11(char a1@<ah>, int a2@<edx>, int a3@<ecx>, int a4@<esi>, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34)
{
  BYTE1(a2) += a1;
  LOBYTE(a2) = 46;
  ((void (__fastcall *)(int, int))((char *)&loc_402905 + 4))(a3, a4 ^ a2);
  JUMPOUT(0x402F30);
}
// 402F15: positive sp value 4 has been found
// 402F2B: control flows out of bounds to 402F30

//----- (00402F6D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402F6D(int a1@<ebp>)
{
  void *v1; // [esp+Ch] [ebp-4h]
  void *retaddr; // [esp+10h] [ebp+0h]

  *(&retaddr - 5) = v1;
  ((void (*)(void))((char *)&loc_402D46 + 1))();
  v1 = *(void **)(a1 - 1);
  JUMPOUT(0x402F86);
}
// 402F71: positive sp value 4 has been found
// 402F82: control flows out of bounds to 402F86

//----- (00402FA7) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402FA7()
{
  void *v0; // [esp+Ch] [ebp-4h]
  void *retaddr; // [esp+10h] [ebp+0h]

  *(&retaddr - 5) = v0;
  ((void (*)(void))((char *)&loc_402C9D + 5))();
  JUMPOUT(0x402FC9);
}
// 402FAB: positive sp value 4 has been found
// 402FC4: control flows out of bounds to 402FC9

//----- (00402FFA) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402FFA(int a1@<eax>, char a2@<dl>, int a3@<ecx>, int a4@<ebx>, int a5@<ebp>)
{
  int v5; // ecx
  char v6; // zf

  BYTE1(a4) = a1;
  v5 = a4 + a1 + a3;
  LOBYTE(a4) = a2 + a4;
  sub_4025AF(v5, a4, a5);
  if ( !v6 )
    JUMPOUT(0x403016);
  JUMPOUT(0x403011);
}
// 402FFE: positive sp value 4 has been found
// 403012: control flows out of bounds to 403016
// 403010: control flows out of bounds to 403011
// 403010: variable 'v6' is possibly undefined

//----- (00403064) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_403064(int a1@<eax>, int a2@<edx>, int a3@<ecx>, char a4@<bl>, int a5@<edi>, char a6@<sil>)
{
  int v6; // edx
  int v7; // edx
  __int16 v8; // ax
  int v9; // edx
  int v10; // ecx

  v6 = a2 - 1;
  BYTE1(a1) = v6;
  v7 = a1 + v6;
  BYTE1(v7) = -109;
  BYTE1(a3) -= a1;
  v8 = ((int (__fastcall *)(int, int))((char *)&loc_4024FB + 5))(a3, v7 - a1);
  sub_40307F(v8 & 0xFFE8, v9, v10, a6 ^ a4, a5);
}
// 403068: positive sp value 4 has been found
// 40307B: variable 'v9' is possibly undefined
// 40307B: variable 'v10' is possibly undefined

//----- (0040307F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40307F(__int16 a1@<ax>, int a2@<edx>, int a3@<ecx>, char a4@<bl>, int a5@<edi>)
{
  int v5; // edx
  char v6; // zf

  LOBYTE(a2) = a4;
  v5 = a5 | a2;
  LOBYTE(v5) = (a1 ^ 0xEF) + v5 - HIBYTE(a1);
  ((void (__fastcall *)(int, int))((char *)&loc_402833 + 2))(a3, v5);
  if ( !v6 )
  {
    MEMORY[0x2484BFC2]();
    JUMPOUT(0x40309D);
  }
  JUMPOUT(0x403095);
}
// 403084: positive sp value 4 has been found
// 403098: control flows out of bounds to 40309D
// 403094: control flows out of bounds to 403095
// 403096: control flows out of bounds to 403097
// 403094: variable 'v6' is possibly undefined

//----- (004030B5) --------------------------------------------------------
#error "4030B8: cannot convert to microcode (funcsize=2)"

//----- (004030ED) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4030ED()
{
  void *v0; // [esp+8h] [ebp-4h]
  void *retaddr; // [esp+Ch] [ebp+0h]

  *(&retaddr - 4) = v0;
  ((void (*)(void))((char *)&loc_402601 + 1))();
  JUMPOUT(0x403105);
}
// 4030F1: positive sp value 4 has been found
// 403100: control flows out of bounds to 403105

//----- (00403153) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_403153(int a1@<ecx>, int a2@<ebx>, _BYTE *a3@<esi>)
{
  char v3; // zf
  void *v4; // [esp+20h] [ebp-4h]
  void *retaddr; // [esp+24h] [ebp+0h]

  *(&retaddr - 10) = v4;
  sub_402541(*a3, a1, a2, (__int16)a3);
  if ( !v3 )
  {
    MEMORY[0xE8661997]();
    JUMPOUT(0x403172);
  }
  JUMPOUT(0x403155);
}
// 403157: positive sp value 4 has been found
// 40316D: control flows out of bounds to 403172
// 40316B: control flows out of bounds to 403155
// 40316B: variable 'v3' is possibly undefined

//----- (004031B7) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
int __thiscall sub_4031B7(void *this)
{
  __int32 v2; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v2, (__int32)this);
  ((void (*)(void))((char *)&loc_4030D3 + 4))();
  return MEMORY[0xE874FFFF]();
}
// 4031BD: positive sp value 4 has been found

//----- (0040320D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40320D()
{
  ((void (*)(void))((char *)&loc_403340 + 1))();
  JUMPOUT(0x403230);
}
// 403213: positive sp value 4 has been found
// 40322B: control flows out of bounds to 403230

//----- (0040328A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40328A(int a1@<eax>, int a2@<edx>, int a3@<ecx>, __int16 a4@<bx>, int a5@<edi>)
{
  int v5; // ecx

  BYTE1(a3) ^= HIBYTE(a4);
  LOBYTE(a2) = a2 - a4;
  v5 = a3 - a1;
  BYTE1(v5) -= a4;
  ((void (__fastcall *)(int, int))((char *)&loc_403268 + 2))(v5, a5 | a2);
  JUMPOUT(0x4032AC);
}
// 403291: positive sp value 4 has been found
// 4032A7: control flows out of bounds to 4032AC

//----- (004032C9) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4032C9(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<esi>)
{
  int v4; // edx
  void *v5; // [esp+18h] [ebp-4h]
  void *retaddr; // [esp+1Ch] [ebp+0h]

  *(&retaddr - 8) = v5;
  LOBYTE(a1) = -(char)a1;
  BYTE1(a2) = -41;
  LOBYTE(a2) = -(char)a2;
  v4 = (a4 | a2) - 1 - a1;
  BYTE1(v4) = 44;
  if ( (((int (__fastcall *)(int, int))((char *)&loc_402A3F + 4))(a3, v4) & 0xE8FF25FF) != 0 )
    JUMPOUT(0x4032EB);
  JUMPOUT(0x403274);
}
// 4032CD: positive sp value 4 has been found
// 4032E9: control flows out of bounds to 4032EB
// 4032E9: control flows out of bounds to 403274

//----- (00403307) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_403307()
{
  JUMPOUT(0x40330D);
}
// 40330B: positive sp value 4 has been found
// 40330B: control flows out of bounds to 40330D

//----- (00403323) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_403323(int a1@<ecx>, char a2@<bl>, int a3@<edi>, __int32 a4@<esi>)
{
  int v5; // ecx
  char v6; // zf
  __int32 v7; // [esp+14h] [ebp-4h] BYREF

  _InterlockedExchange(&v7, a4);
  do
  {
    __asm { repne pop esi }
    a3 |= a1;
    BYTE1(a1) -= a2;
    v5 = a1 - 1;
    BYTE1(v5) = -BYTE1(v5);
    ((void (__thiscall *)(int, int))loc_4029CC)(v5, 64);
  }
  while ( v6 );
  JUMPOUT(0x403345);
}
// 40332A: positive sp value 4 has been found
// 403340: control flows out of bounds to 403345
// 40331C: control flows out of bounds to 403320
// 403396: control flows out of bounds to 40339B
// 40337D: control flows out of bounds to 40337E
// 40332C: variable 'a1' is possibly undefined
// 40333C: variable 'v6' is possibly undefined

//----- (004033A2) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4033A2()
{
  JUMPOUT(0x4033BE);
}
// 4033A8: positive sp value 4 has been found
// 4033BC: control flows out of bounds to 4033C1
// 4033B2: control flows out of bounds to 4033BE

// nfuncs=69 queued=69 decompiled=69 lumina nreq=0 worse=0 better=0
#error "There were 2 decompilation failure(s) on 69 function(s)"
