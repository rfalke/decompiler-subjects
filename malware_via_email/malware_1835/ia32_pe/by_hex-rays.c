/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// int __usercall sub_4049FC@<eax>(_BYTE *@<eax>, char@<ch>);
int sub_404A00();
int sub_404A13();
// int __userpurge sub_405233@<eax>(unsigned int@<ebx>, unsigned int@<edi>, int, _DWORD *);
int sub_4053E1();
// int __usercall sub_4059B9@<eax>(unsigned int@<edi>);
// int __userpurge sub_405B0B@<eax>(__int16@<ax>, unsigned __int16);
// int __usercall sub_405B8A@<eax>(_DWORD *@<eax>);
// HACCEL __usercall sub_405BAE@<eax>(_DWORD *@<esi>);
// int __userpurge sub_405BE3@<eax>(char@<al>, unsigned __int8);
// int __usercall sub_405C69@<eax>(unsigned int@<edi>);
HBITMAP __stdcall sub_405DCA(int, int, int);
_DWORD __stdcall sub_405F99(_DWORD); // weak
void __stdcall dKcbwEplR(unsigned __int16, double *);
int sub_406276();
int sub_4063B0();
// UINT __userpurge sub_4064D1@<eax>(int@<ebx>, int, int, UINT *);
// int __userpurge sub_406D1F@<eax>(int@<edi>, int, int);
char **__stdcall sub_407197(int, int, void (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD), int);
int sub_407324();
// int __usercall sub_407357@<eax>(unsigned int@<edx>, char *, int, int, int);

//-------------------------------------------------------------------------
// Data declarations

// extern BOOL (__stdcall *GetOpenFileNameA)(LPOPENFILENAMEA);
// extern BOOL (__stdcall *PageSetupDlgW)(LPPAGESETUPDLGW);
// extern int (__stdcall *PathCommonPrefixW)(LPCWSTR pszFile1, LPCWSTR pszFile2, LPWSTR achPath);
// extern COLORREF (__stdcall *SetPixel)(HDC hdc, int x, int y, COLORREF color);
// extern HBITMAP (__stdcall *CreateDIBSection)(HDC hdc, const BITMAPINFO *pbmi, UINT usage, void **ppvBits, HANDLE hSection, DWORD offset);
// extern DWORD (__stdcall *GetFullPathNameW)(LPCWSTR lpFileName, DWORD nBufferLength, LPWSTR lpBuffer, LPWSTR *lpFilePart);
// extern LPVOID (__stdcall *HeapReAlloc)(HANDLE hHeap, DWORD dwFlags, LPVOID lpMem, SIZE_T dwBytes);
// extern UINT (__stdcall *GetWindowsDirectoryW)(LPWSTR lpBuffer, UINT uSize);
// extern HRSRC (__stdcall *FindResourceA)(HMODULE hModule, LPCSTR lpName, LPCSTR lpType);
// extern SHORT (__stdcall *GetKeyState)(int nVirtKey);
// extern DWORD (__stdcall *GetClassLongA)(HWND hWnd, int nIndex);
// extern HACCEL (__stdcall *LoadAcceleratorsA)(HINSTANCE hInstance, LPCSTR lpTableName);
// extern BOOL (__stdcall *RedrawWindow)(HWND hWnd, const RECT *lprcUpdate, HRGN hrgnUpdate, UINT flags);
// extern size_t (__cdecl *wcslen)(const wchar_t *String);
// extern BOOL (__stdcall *ImageList_Destroy)(HIMAGELIST himl);
// extern BOOL (__stdcall *ImageList_Remove)(HIMAGELIST himl, int i);
// extern HPROPSHEETPAGE (__stdcall *CreatePropertySheetPageW)(LPCPROPSHEETPAGEW constPropSheetPagePointer);
// extern HWND (__stdcall *CreateStatusWindowW)(LONG style, LPCWSTR lpszText, HWND hwndParent, UINT wID);
void ***off_410038 = &off_410034; // weak
void **off_41004C = &off_410040; // weak
void ***off_410050 = &off_41004C; // weak
int (**off_410070)[459] = &off_410058; // weak
int (**off_410074)() = &off_410064; // weak
int dword_410080 = 0; // weak
int dword_410088 = -12323; // weak
void *off_4100C4 = &unk_410084; // weak
int dword_4100DC = 0; // weak
int dword_4100E0 = 0; // weak
int dword_4100E4 = 0; // weak
int dword_4100F0 = 0; // weak
int dword_4100F4 = 0; // weak
int dword_4100FC = 0; // weak
void *off_41010C = &unk_4100F8; // weak
_UNKNOWN unk_410190; // weak
int **off_4102C4 = &off_410100; // weak
int dword_4102D4 = 88433765; // weak
int dword_4102D8 = 88561482; // weak
int (*off_4102E0)[512] = &dword_40272C; // weak
int dword_4102E8 = 106390533; // weak
int dword_4102EC = 106193924; // weak
int dword_4102F0 = 6624259; // weak
int dword_4102F4 = 15080039; // weak
int dword_4102F8 = 489238; // weak
int dword_4102FC = 108336918; // weak
int dword_410300 = 395030; // weak
int dword_410304 = 124082023; // weak
__int16 word_410308[130] =
{
  -31215,
  -27119,
  -23023,
  -18927,
  -14831,
  -10735,
  -6639,
  -2543,
  1553,
  5649,
  9745,
  13841,
  17937,
  22033,
  26129,
  30225,
  -31471,
  -31727,
  -29935,
  -30191,
  -30447,
  -30703,
  -28911,
  -29167,
  32017,
  31761,
  -31983,
  -32239,
  -32495,
  -32751,
  -30959,
  -31135,
  -31119,
  -31167,
  -31151,
  -31071,
  -31055,
  -31103,
  -31087,
  -31007,
  -30735,
  -30783,
  -30767,
  -31199,
  -31183,
  -31231,
  -31210,
  -31209,
  -31212,
  -31211,
  -31126,
  -31125,
  -31128,
  -31127,
  -31122,
  -31121,
  -31124,
  -31203,
  -31214,
  -31213,
  -31216,
  -31215,
  -27119,
  -23023,
  -18927,
  -14831,
  -10735,
  -6639,
  -2543,
  1553,
  5649,
  9745,
  13841,
  17937,
  22033,
  26129,
  30225,
  -31471,
  -31727,
  -29935,
  -30191,
  -30447,
  -30703,
  -28911,
  -29167,
  32017,
  31761,
  -31983,
  -32239,
  -32495,
  -32751,
  -30959,
  -31135,
  -31119,
  -31167,
  -31151,
  -31071,
  -31055,
  -31103,
  -31087,
  -31007,
  -30735,
  -30783,
  -30767,
  -31199,
  -31183,
  -31231,
  -31210,
  -31209,
  -31212,
  -31211,
  -31126,
  -31125,
  -31128,
  -31127,
  -31122,
  -31121,
  -31124,
  -31203,
  -31214,
  -31213,
  -31216,
  -27289,
  29974,
  16950,
  -31210,
  11457,
  24630,
  -6635,
  0
}; // weak
wchar_t *off_410454 = L"IDEIODJJK"; // weak
int dword_410458 = -4150; // weak
int dword_410474 = 3417345; // weak
__int16 word_410478[] = { -298 }; // weak
__int16 word_410480 = 24676; // weak
int dword_410488 = 488800; // weak
int dword_41048C = 489335; // weak
int dword_410490 = 141969018; // weak
int dword_410494 = 271364; // weak
_UNKNOWN unk_410498; // weak
int (__cdecl *dword_4104D8)(_DWORD) = NULL; // weak
char aLstrlenw[9] = "lstrlenW"; // weak
int dword_4104E8 = 7894548; // weak
int dword_4104EC = 3478994; // weak
int dword_4104F0 = 144131914; // weak
int dword_4104F4 = 1988494390; // weak
CHAR TableName[] = "gkfjkogdfgdfhd"; // idb
int (__cdecl *off_41054C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_407357; // weak
int (__stdcall *off_410550)(int, int, int) = &sub_4064D1; // weak
WCHAR pszFile1[] = L"C:\\win\\desktop\\temp.txt"; // idb
WCHAR pszFile2[] = L"c:\\win\\tray\\sample.txt"; // idb
int dword_412CE7 = 1068401; // weak
int dword_412CEB = 1073948; // weak
int dword_412CEF = 1069156; // weak
int dword_412CF3 = 1078244; // weak
int dword_412CF7 = 1057996; // weak
int dword_412CFB = 1075089; // weak
int PreviousCount = 1075128; // idb
int dword_412D0B = 1057889; // weak
int dword_412D0F = 1060652; // weak
int dword_412D13 = 1071682; // weak
int dword_412D17 = 1059342; // weak
int dword_412D1B = 1076528; // weak
int dword_412D1F = 1071911; // weak
int dword_412D23 = 1064543; // weak
int dword_412D27 = 1070027; // weak
void *ppvBits = (void *)0x1042FE; // idb
int dword_412D2F = 1073395; // weak
CHAR asc_412D33[1] = "—"; // idb
int dword_412D37 = 1052818; // weak
int dword_412D3B = 1062304; // weak
int dword_412D3F = 1057380; // weak
int dword_412D43 = 1067389; // weak
int dword_412D47 = 1067126; // weak
int dword_412D4F = 1080507; // weak
int dword_412D53 = 1052766; // weak
WCHAR Buffer = 7264u; // idb
int dword_412D5B = 1049925; // weak
int dword_412D5F = 1064649; // weak
int dword_412D63 = 1058005; // weak
int dword_412D67 = 1060181; // weak
int dword_412D6F = 1067608; // weak
int dword_412D73 = 1076378; // weak
int dword_412D77 = 1075447; // weak
int dword_412D7B = 1075747; // weak
BOOL Translated = 1074374; // idb
int dword_412D83 = 1054619; // weak
LPWSTR FilePart = (LPWSTR)0x107F4F; // idb
int dword_412D8B = 1068621; // weak
struct tagRECT Rect = { 1080051, 1074254, 1074633, 1066596 }; // idb
int dword_412D9F = 1072222; // weak
int dword_412DA3 = 1080901; // weak
int dword_412DA7 = 1051520; // weak
int dword_412DAB = 1077162; // weak
int dword_412DAF = 1061258; // weak
int dword_412DB3 = 1059587; // weak
int dword_412DB7 = 1057468; // weak
int dword_412DBB = 1075926; // weak
int dword_412DBF = 1061287; // weak
CHAR dword_412DC3[] = { '\x0E', '9', '\x10', '\0' }; // idb
WCHAR dword_412DC7 = 9145u; // idb
int dword_412DCB = 1074115; // weak
int dword_412DCF = 1071982; // weak
int dword_412DD3 = 1074501; // weak
int dword_412DD7 = 1076395; // weak
WCHAR ClassName = 16746u; // idb
int dword_412DDF = 1062221; // weak
int off_412E38[17] =
{
  4271343,
  4271347,
  4271351,
  4271355,
  4271359,
  4271363,
  4271367,
  4271371,
  4271375,
  4271379,
  4271383,
  4271387,
  4271391,
  4271395,
  4271399,
  4271403,
  4271407
}; // weak
int off_412E3C[16] =
{
  4271347,
  4271351,
  4271355,
  4271359,
  4271363,
  4271367,
  4271371,
  4271375,
  4271379,
  4271383,
  4271387,
  4271391,
  4271395,
  4271399,
  4271403,
  4271407
}; // weak
int off_412E40[15] =
{
  4271351,
  4271355,
  4271359,
  4271363,
  4271367,
  4271371,
  4271375,
  4271379,
  4271383,
  4271387,
  4271391,
  4271395,
  4271399,
  4271403,
  4271407
}; // weak
int off_412E50[11] =
{
  4271367,
  4271371,
  4271375,
  4271379,
  4271383,
  4271387,
  4271391,
  4271395,
  4271399,
  4271403,
  4271407
}; // weak
int off_412E5C[8] = { 4271379, 4271383, 4271387, 4271391, 4271395, 4271399, 4271403, 4271407 }; // weak
int off_412E78 = 4271407; // weak
int *off_412E80[5] = { &dword_412D37, &dword_412D3B, &dword_412D3F, &dword_412D43, &dword_412D47 }; // weak
int *off_412E8C[2] = { &dword_412D43, &dword_412D47 }; // weak
int *off_412E90 = &dword_412D47; // weak
int *off_412E98[16] =
{
  &dword_412D4F,
  &dword_412D53,
  &Buffer,
  &dword_412D5B,
  &dword_412D5F,
  &dword_412D63,
  &dword_412D67,
  &dword_412D6B,
  &dword_412D6F,
  &dword_412D73,
  &dword_412D77,
  &dword_412D7B,
  &Translated,
  &dword_412D83,
  &FilePart,
  &dword_412D8B
}; // weak
int *off_412E9C[15] =
{
  &dword_412D53,
  &Buffer,
  &dword_412D5B,
  &dword_412D5F,
  &dword_412D63,
  &dword_412D67,
  &dword_412D6B,
  &dword_412D6F,
  &dword_412D73,
  &dword_412D77,
  &dword_412D7B,
  &Translated,
  &dword_412D83,
  &FilePart,
  &dword_412D8B
}; // weak
int *off_412EA4[13] =
{
  &dword_412D5B,
  &dword_412D5F,
  &dword_412D63,
  &dword_412D67,
  &dword_412D6B,
  &dword_412D6F,
  &dword_412D73,
  &dword_412D77,
  &dword_412D7B,
  &Translated,
  &dword_412D83,
  &FilePart,
  &dword_412D8B
}; // weak
int *off_412EA8[12] =
{
  &dword_412D5F,
  &dword_412D63,
  &dword_412D67,
  &dword_412D6B,
  &dword_412D6F,
  &dword_412D73,
  &dword_412D77,
  &dword_412D7B,
  &Translated,
  &dword_412D83,
  &FilePart,
  &dword_412D8B
}; // weak
int *off_412EB0[10] =
{
  &dword_412D67,
  &dword_412D6B,
  &dword_412D6F,
  &dword_412D73,
  &dword_412D77,
  &dword_412D7B,
  &Translated,
  &dword_412D83,
  &FilePart,
  &dword_412D8B
}; // weak
int *off_412EB4[9] =
{
  &dword_412D6B,
  &dword_412D6F,
  &dword_412D73,
  &dword_412D77,
  &dword_412D7B,
  &Translated,
  &dword_412D83,
  &FilePart,
  &dword_412D8B
}; // weak
int *off_412EBC[7] =
{
  &dword_412D73,
  &dword_412D77,
  &dword_412D7B,
  &Translated,
  &dword_412D83,
  &FilePart,
  &dword_412D8B
}; // weak
int *off_412ED4 = &dword_412D8B; // weak
tagRECT *off_412ED8 = &Rect; // weak
int *off_412EE8[17] =
{
  &dword_412D9F,
  &dword_412DA3,
  &dword_412DA7,
  &dword_412DAB,
  &dword_412DAF,
  &dword_412DB3,
  &dword_412DB7,
  &dword_412DBB,
  &dword_412DBF,
  &dword_412DC3,
  &dword_412DC7,
  &dword_412DCB,
  &dword_412DCF,
  &dword_412DD3,
  &dword_412DD7,
  &ClassName,
  &dword_412DDF
}; // weak
int *off_412EEC[16] =
{
  &dword_412DA3,
  &dword_412DA7,
  &dword_412DAB,
  &dword_412DAF,
  &dword_412DB3,
  &dword_412DB7,
  &dword_412DBB,
  &dword_412DBF,
  &dword_412DC3,
  &dword_412DC7,
  &dword_412DCB,
  &dword_412DCF,
  &dword_412DD3,
  &dword_412DD7,
  &ClassName,
  &dword_412DDF
}; // weak
int *off_412EF0[15] =
{
  &dword_412DA7,
  &dword_412DAB,
  &dword_412DAF,
  &dword_412DB3,
  &dword_412DB7,
  &dword_412DBB,
  &dword_412DBF,
  &dword_412DC3,
  &dword_412DC7,
  &dword_412DCB,
  &dword_412DCF,
  &dword_412DD3,
  &dword_412DD7,
  &ClassName,
  &dword_412DDF
}; // weak
int *off_412EF4[14] =
{
  &dword_412DAB,
  &dword_412DAF,
  &dword_412DB3,
  &dword_412DB7,
  &dword_412DBB,
  &dword_412DBF,
  &dword_412DC3,
  &dword_412DC7,
  &dword_412DCB,
  &dword_412DCF,
  &dword_412DD3,
  &dword_412DD7,
  &ClassName,
  &dword_412DDF
}; // weak
int *off_412EF8[13] =
{
  &dword_412DAF,
  &dword_412DB3,
  &dword_412DB7,
  &dword_412DBB,
  &dword_412DBF,
  &dword_412DC3,
  &dword_412DC7,
  &dword_412DCB,
  &dword_412DCF,
  &dword_412DD3,
  &dword_412DD7,
  &ClassName,
  &dword_412DDF
}; // weak
int *off_412EFC[12] =
{
  &dword_412DB3,
  &dword_412DB7,
  &dword_412DBB,
  &dword_412DBF,
  &dword_412DC3,
  &dword_412DC7,
  &dword_412DCB,
  &dword_412DCF,
  &dword_412DD3,
  &dword_412DD7,
  &ClassName,
  &dword_412DDF
}; // weak
int *off_412F00[11] =
{
  &dword_412DB7,
  &dword_412DBB,
  &dword_412DBF,
  &dword_412DC3,
  &dword_412DC7,
  &dword_412DCB,
  &dword_412DCF,
  &dword_412DD3,
  &dword_412DD7,
  &ClassName,
  &dword_412DDF
}; // weak
int *off_412F10[7] =
{
  &dword_412DC7,
  &dword_412DCB,
  &dword_412DCF,
  &dword_412DD3,
  &dword_412DD7,
  &ClassName,
  &dword_412DDF
}; // weak
int *off_412F20[3] = { &dword_412DD7, &ClassName, &dword_412DDF }; // weak
CHAR Type[] = "BTG8_2IS9_W"; // idb
WCHAR szText = 81u; // idb
WCHAR FileName = 73u; // idb


//----- (004049FC) --------------------------------------------------------
int __usercall sub_4049FC@<eax>(_BYTE *a1@<eax>, char a2@<ch>)
{
  *a1 -= a2;
  *a1 -= a2;
  return sub_404A00();
}

//----- (00404A00) --------------------------------------------------------
int sub_404A00()
{
  int v1; // [esp+4h] [ebp-4h] BYREF

  sub_405BAE(&v1);
  return v1;
}

//----- (00404A13) --------------------------------------------------------
int sub_404A13()
{
  int *v0; // eax
  unsigned int v1; // edx
  int v2; // eax
  _BYTE *v3; // ecx
  char v4; // al
  int j; // eax
  int v6; // eax
  unsigned int v7; // ecx
  unsigned __int16 n; // ax
  int jj; // ecx
  int v10; // ebx
  char v11; // cf
  int kk; // ebx
  int v13; // eax
  int result; // eax
  int v15; // [esp+0h] [ebp-318h]
  int v16; // [esp+80h] [ebp-298h]
  int v17; // [esp+88h] [ebp-290h]
  int v18; // [esp+A0h] [ebp-278h]
  int v19; // [esp+A4h] [ebp-274h]
  int v20; // [esp+F0h] [ebp-228h]
  int v21; // [esp+118h] [ebp-200h]
  int v22; // [esp+11Ch] [ebp-1FCh]
  unsigned int v23; // [esp+15Ch] [ebp-1BCh]
  int v24; // [esp+170h] [ebp-1A8h]
  int v25; // [esp+178h] [ebp-1A0h]
  int v26; // [esp+184h] [ebp-194h]
  int v27; // [esp+1C0h] [ebp-158h]
  unsigned int v28; // [esp+1CCh] [ebp-14Ch]
  int v29; // [esp+1D0h] [ebp-148h]
  int v30; // [esp+1E8h] [ebp-130h]
  int v31; // [esp+1F0h] [ebp-128h]
  unsigned int v32; // [esp+1F8h] [ebp-120h]
  unsigned int v33; // [esp+218h] [ebp-100h]
  unsigned int ii; // [esp+22Ch] [ebp-ECh]
  int v35; // [esp+240h] [ebp-D8h]
  int v36; // [esp+250h] [ebp-C8h]
  unsigned int k; // [esp+274h] [ebp-A4h]
  int i; // [esp+284h] [ebp-94h]
  int v39; // [esp+2E4h] [ebp-34h]
  int v40; // [esp+2E8h] [ebp-30h]
  int x; // [esp+2F0h] [ebp-28h] BYREF
  _WORD *v42; // [esp+2F4h] [ebp-24h] BYREF
  int v43; // [esp+2F8h] [ebp-20h]
  int *v44; // [esp+2FCh] [ebp-1Ch]
  int m; // [esp+300h] [ebp-18h]
  HWND hWnd; // [esp+304h] [ebp-14h]
  unsigned int v47; // [esp+308h] [ebp-10h] BYREF
  int v48; // [esp+30Ch] [ebp-Ch]
  unsigned int v49; // [esp+310h] [ebp-8h]
  int v50; // [esp+314h] [ebp-4h]
  void *retaddr; // [esp+31Ch] [ebp+4h] BYREF

  v47 = 183094;
  v44 = (int *)&v47;
  v0 = (int *)off_410050;
  for ( i = 31; i; --i )
  {
    if ( i == 43 )
      v0 = (int *)SetPixel((HDC)0x1D2D, x, 23140, 0);
  }
  m = -4099;
  v48 = -4110;
  v1 = -4112;
  dword_412D83 -= (int)&dword_412D7B;
  v43 = -4111;
  hWnd = (HWND)-4105;
  v2 = *v0;
  dword_412D8B = (int)&dword_412CE7 + ((unsigned int)&PreviousCount ^ (unsigned int)&dword_412CF3);
  x = v2;
  v49 = 0;
  *(_BYTE *)off_412E38[0] += 20;
  *(_BYTE *)off_412E9C[0] |= 0x1Au;
  hWnd = (HWND)((m ^ 0x352A) + 9513);
  v31 = 2147483472;
  dword_410474 = 0;
  v49 = 3;
  do
  {
    if ( dword_410080 )
      break;
    v21 += 16704;
    v3 = (char *)&dword_410494 + v49 + 1;
    v4 = (*((_BYTE *)&dword_410494 + ++v49) ^ 0x5A) + 44;
    v11 = v49 < 0x12;
    *v3 = v4;
  }
  while ( v11 );
  for ( j = -4099; j != -4112; j = ((v48 ^ 0x352A) + v6 + 9513) ^ 0x352A )
  {
    v25 &= v24;
    v6 = j ^ 0x352A;
    v49 = 2 * v6 + 19026;
    *(_DWORD *)&Buffer &= *off_412EF4[0];
    for ( k = 0; k < 0x19; ++k )
      ;
    *(__int16 *)((char *)&word_410480 + v49) = (word_410478[v6 + 9513] ^ 0x32A) + 553;
    v7 = v48 ^ 0x352A;
    dword_412D0F -= (int)&dword_412DCF;
    dword_412D0F ^= (unsigned int)asc_412D33;
  }
  for ( m = -4099; m != -4595; m = ((v48 ^ 0x352A) + (m ^ 0x352A) + 9513) ^ 0x352A )
  {
    if ( dword_410080 )
      break;
    hWnd = (HWND)dword_410080;
    if ( !*off_4102C4[3] )
    {
      v18 |= 0xDF0u;
      v36 -= v35;
      v50 = 0x10000;
      hWnd = (HWND)**off_410038;
      v42 = (_WORD *)(*(_DWORD *)hWnd & 0xFFFF0000);
      v49 = (unsigned int)&v42;
      for ( n = *v42 - 553; ; n = **(_WORD **)v49 - 553 )
      {
        v27 += (v33 < 0x352A) + 22802;
        if ( (n ^ 0x32A) == 23310 )
          break;
        *(_DWORD *)v49 -= v50;
        ii &= dword_412D9F;
      }
      *off_4102C4[3] = *(_DWORD *)v49;
    }
    hWnd = (HWND)off_41054C(
                   off_410550,
                   *(_DWORD *)off_41010C,
                   &unk_410190,
                   2,
                   *(_DWORD *)off_41010C,
                   &unk_410498,
                   v39,
                   v40);
    for ( ii = 0; ii < 0x10; ++ii )
      ;
    dword_4104D8 = (int (__cdecl *)(_DWORD))((int (__stdcall *)(_DWORD, char *))hWnd)(*off_4102C4[3], aLstrlenw);
    for ( jj = -4099; ; jj = ((v48 ^ 0x352A) + v10 + 9513) ^ 0x352A )
    {
      v17 <<= 12;
      v1 = *v44 % 0x5Fu;
      if ( v1 > 0x87 || jj == -4147 )
        break;
      ++v29;
      v10 = jj ^ 0x352A;
      hWnd = (HWND)-4099;
      v49 = 8 * (((jj ^ 0x352Au) + 9513) % ((v43 ^ 0x352Au) + 9513));
      do
      {
        dword_412DBF &= (unsigned int)&Rect.top;
        dword_412DBF += (int)&dword_412DDF;
        sub_405F99(v49);
        v11 = v23 < 0x7DF1;
        if ( v23 <= 0x7DF1 )
        {
          v11 = v32 & 1;
          v32 >>= 1;
        }
        else
        {
          v19 = ~v19;
        }
        dword_412D37 = ((unsigned int)dword_412D37 >> 1) | (v11 << 31);
        hWnd = (HWND)(((v48 ^ 0x352A) + ((unsigned int)hWnd ^ 0x352A) + 9513) ^ 0x352A);
      }
      while ( hWnd != (HWND)-4112 );
      dword_412DB7 += (int)&dword_412D3B + v11;
      hWnd = (HWND)(8 * ((v10 + 9513) % ((v43 ^ 0x352Au) + 9513)));
      dword_412D17 = (unsigned int)&Rect.right | (unsigned int)&dword_412D1F;
      sub_406D1F(9513, v49, (int)hWnd);
      dword_412D5B |= (unsigned int)dword_412DC3;
    }
    v15 &= dword_412D77;
    v7 = m ^ 0x352A;
  }
  for ( kk = -4362; kk != -4110; kk = ((kk ^ 0x352A) - (v48 ^ 0x352A) - 9513) ^ 0x352A )
  {
    if ( kk == -4131 )
    {
      dword_410474 = (int)&retaddr;
      goto LABEL_50;
    }
    if ( kk != -4109 )
    {
      if ( kk == -4547 )
      {
        *(_BYTE *)off_412EE8[0] -= 34;
        dword_4102FC = dword_410488;
        dword_410300 = dword_41048C;
        dword_410304 = dword_410490;
        dword_4102F8 = (int)&x;
        v13 = sub_4059B9(0x2529u);
        v7 = dword_410494;
        *(_DWORD *)dword_410494 = v13;
        goto LABEL_50;
      }
LABEL_49:
      dword_412D73 += v26 + (v7 < v1);
      v7 = v47 | (*v44 - 333057 * v47);
      *(_BYTE *)off_412EB4[0] *= 2;
      v47 = v7;
      goto LABEL_50;
    }
    v28 = 0;
    do
    {
      if ( ++v28 == 31 )
        GetKeyState(12668);
    }
    while ( v28 < 0x13 );
    if ( !dword_410474 )
      goto LABEL_49;
    if ( v20 < 22007 )
      --v16;
    else
      v22 -= *off_412EF0[0];
    v31 |= v30;
    v7 = dword_4100F0;
    *(_DWORD *)dword_410474 += dword_4100F0;
LABEL_50:
    result = v48 ^ 0x352A;
  }
  return result;
}
// 404C78: conditional instruction was optimized away because %var_A4.4<19u
// 404E95: conditional instruction was optimized away because %var_EC.4<10u
// 404BDE: variable 'v21' is possibly undefined
// 404C07: variable 'v24' is possibly undefined
// 404C07: variable 'v25' is possibly undefined
// 404D1B: variable 'v18' is possibly undefined
// 404D55: variable 'v36' is possibly undefined
// 404D55: variable 'v35' is possibly undefined
// 404DD6: variable 'ii' is possibly undefined
// 404DE7: variable 'v33' is possibly undefined
// 404DF2: variable 'v27' is possibly undefined
// 404E51: variable 'v39' is possibly undefined
// 404E51: variable 'v40' is possibly undefined
// 404EF4: variable 'v29' is possibly undefined
// 404F3C: variable 'v23' is possibly undefined
// 404F56: variable 'v19' is possibly undefined
// 404F69: variable 'v32' is possibly undefined
// 404FC9: variable 'v11' is possibly undefined
// 405021: variable 'v17' is possibly undefined
// 405047: variable 'v15' is possibly undefined
// 405157: variable 'v20' is possibly undefined
// 405165: variable 'v22' is possibly undefined
// 405179: variable 'v16' is possibly undefined
// 405187: variable 'v30' is possibly undefined
// 4051F3: variable 'v26' is possibly undefined
// 4051EA: variable 'v7' is possibly undefined
// 4051EA: variable 'v1' is possibly undefined
// 405F99: using guessed type _DWORD __stdcall sub_405F99(_DWORD);
// 410038: using guessed type void ***off_410038;
// 410050: using guessed type void ***off_410050;
// 410080: using guessed type int dword_410080;
// 4100F0: using guessed type int dword_4100F0;
// 41010C: using guessed type void *off_41010C;
// 4102C4: using guessed type int **off_4102C4;
// 4102F8: using guessed type int dword_4102F8;
// 4102FC: using guessed type int dword_4102FC;
// 410300: using guessed type int dword_410300;
// 410304: using guessed type int dword_410304;
// 410474: using guessed type int dword_410474;
// 410478: using guessed type __int16 word_410478[];
// 410480: using guessed type __int16 word_410480;
// 410488: using guessed type int dword_410488;
// 41048C: using guessed type int dword_41048C;
// 410490: using guessed type int dword_410490;
// 410494: using guessed type int dword_410494;
// 4104D8: using guessed type int (__cdecl *dword_4104D8)(_DWORD);
// 41054C: using guessed type int (__cdecl *off_41054C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 410550: using guessed type int (__stdcall *off_410550)(int, int, int);
// 412CE7: using guessed type int dword_412CE7;
// 412CF3: using guessed type int dword_412CF3;
// 412D0F: using guessed type int dword_412D0F;
// 412D17: using guessed type int dword_412D17;
// 412D1F: using guessed type int dword_412D1F;
// 412D37: using guessed type int dword_412D37;
// 412D3B: using guessed type int dword_412D3B;
// 412D4F: using guessed type int dword_412D4F;
// 412D5B: using guessed type int dword_412D5B;
// 412D5F: using guessed type int dword_412D5F;
// 412D73: using guessed type int dword_412D73;
// 412D77: using guessed type int dword_412D77;
// 412D7B: using guessed type int dword_412D7B;
// 412D83: using guessed type int dword_412D83;
// 412D8B: using guessed type int dword_412D8B;
// 412D9F: using guessed type int dword_412D9F;
// 412DB7: using guessed type int dword_412DB7;
// 412DBF: using guessed type int dword_412DBF;
// 412DCF: using guessed type int dword_412DCF;
// 412DDF: using guessed type int dword_412DDF;
// 412E38: using guessed type int off_412E38[17];
// 412E5C: using guessed type int off_412E5C[8];
// 412E8C: using guessed type int *off_412E8C[2];
// 412E9C: using guessed type int *off_412E9C[15];
// 412EB4: using guessed type int *off_412EB4[9];
// 412EE8: using guessed type int *off_412EE8[17];
// 412EF0: using guessed type int *off_412EF0[15];
// 412EF4: using guessed type int *off_412EF4[14];
// 412EFC: using guessed type int *off_412EFC[12];

//----- (00405233) --------------------------------------------------------
int __userpurge sub_405233@<eax>(unsigned int a1@<ebx>, unsigned int a2@<edi>, int a3, _DWORD *a4)
{
  int v4; // eax
  int v5; // edx
  int (__stdcall *v6)(HIMAGELIST, int, int); // ecx
  int v7; // eax
  int v9; // [esp+20h] [ebp-5Ch]
  unsigned int v10; // [esp+38h] [ebp-44h]
  unsigned int v11; // [esp+40h] [ebp-3Ch]
  int i; // [esp+48h] [ebp-34h]
  struct _IMAGELIST *himl; // [esp+5Ch] [ebp-20h]
  HIMAGELIST himla; // [esp+5Ch] [ebp-20h]
  int v15; // [esp+70h] [ebp-Ch]

  v4 = -4110;
  for ( i = 26; i; --i )
  {
    if ( i == 41 )
      v4 = ImageList_Destroy(himl);
  }
  v15 = v4;
  ppvBits = (void *)((__PAIR64__((unsigned int)ppvBits, a2) - __PAIR64__(*off_412EA8[0], v11)) >> 32);
  dword_412DBB &= v9;
  if ( (v4 ^ 0x352A) + 9513 == dword_4100E0 || (Rect.bottom ^= dword_412D7B, !**(_DWORD **)(a3 + 52)) )
  {
    dword_412D13 -= *(_DWORD *)dword_412DC3;
    v7 = -4099;
  }
  else
  {
    v5 = *off_4102C4[2];
    dword_412D27 = __ROR4__(dword_412D27, 1);
    v6 = (int (__stdcall *)(HIMAGELIST, int, int))(v5 + *(_DWORD *)(*(_DWORD *)(v5 + 60) + v5 + 40));
    if ( off_4102C4[15] )
    {
      dword_412DCF = (__PAIR64__(dword_412DCF, a1) - __PAIR64__(dword_412DD3, v10)) >> 32;
      himla = (HIMAGELIST)*off_4102C4[2];
      Translated += (BOOL)&dword_412D5B;
      Translated |= (unsigned int)&dword_412DBF;
      *a4 = v6(himla, dword_4100E0, dword_4100E4);
    }
    dword_4100F0 = 0;
    dword_4100F4 = 0;
    v7 = v15;
  }
  return (v7 ^ 0x352A) + 9513;
}
// 40526C: variable 'himl' is possibly undefined
// 4052B4: variable 'v11' is possibly undefined
// 4052C9: variable 'v9' is possibly undefined
// 405373: variable 'v10' is possibly undefined
// 4100E0: using guessed type int dword_4100E0;
// 4100E4: using guessed type int dword_4100E4;
// 4100F0: using guessed type int dword_4100F0;
// 4100F4: using guessed type int dword_4100F4;
// 4102C4: using guessed type int **off_4102C4;
// 412D13: using guessed type int dword_412D13;
// 412D27: using guessed type int dword_412D27;
// 412D5B: using guessed type int dword_412D5B;
// 412D7B: using guessed type int dword_412D7B;
// 412DBB: using guessed type int dword_412DBB;
// 412DBF: using guessed type int dword_412DBF;
// 412DCF: using guessed type int dword_412DCF;
// 412DD3: using guessed type int dword_412DD3;
// 412EA8: using guessed type int *off_412EA8[12];

//----- (004053E1) --------------------------------------------------------
int sub_4053E1()
{
  int v0; // ecx
  int v1; // eax
  int v2; // edx
  int v3; // eax
  _DWORD *v4; // eax
  unsigned int v5; // ebx
  int m; // eax
  int k; // ecx
  int *v8; // eax
  int v9; // ebx
  char v10; // cl
  int v11; // eax
  int v13; // [esp+0h] [ebp-400h]
  int v14; // [esp+28h] [ebp-3D8h]
  int v15; // [esp+80h] [ebp-380h]
  int v16; // [esp+90h] [ebp-370h]
  unsigned int v17; // [esp+D0h] [ebp-330h]
  unsigned int v18; // [esp+E0h] [ebp-320h]
  unsigned int v19; // [esp+124h] [ebp-2DCh]
  int v20; // [esp+1ACh] [ebp-254h]
  unsigned int v21; // [esp+1FCh] [ebp-204h]
  int v22; // [esp+278h] [ebp-188h]
  int v23; // [esp+288h] [ebp-178h]
  int n; // [esp+288h] [ebp-178h]
  int v25; // [esp+2A0h] [ebp-160h]
  unsigned int v26; // [esp+2E4h] [ebp-11Ch]
  int v27; // [esp+30Ch] [ebp-F4h]
  int v28; // [esp+324h] [ebp-DCh]
  int v29; // [esp+328h] [ebp-D8h]
  int v30; // [esp+32Ch] [ebp-D4h]
  unsigned int v31; // [esp+344h] [ebp-BCh]
  _BYTE v32[12]; // [esp+3A0h] [ebp-60h] BYREF
  int v33[4]; // [esp+3ACh] [ebp-54h]
  int v34; // [esp+3BCh] [ebp-44h] BYREF
  int v35; // [esp+3C0h] [ebp-40h] BYREF
  int v36; // [esp+3C4h] [ebp-3Ch] BYREF
  int v37; // [esp+3C8h] [ebp-38h] BYREF
  int v38; // [esp+3CCh] [ebp-34h]
  int v39; // [esp+3D0h] [ebp-30h]
  int v40; // [esp+3D4h] [ebp-2Ch]
  int i; // [esp+3D8h] [ebp-28h]
  int v42; // [esp+3DCh] [ebp-24h]
  int v43; // [esp+3E0h] [ebp-20h]
  LPCPROPSHEETPAGEW constPropSheetPagePointer; // [esp+3E4h] [ebp-1Ch]
  int v45; // [esp+3E8h] [ebp-18h]
  int v46; // [esp+3ECh] [ebp-14h]
  unsigned int v47; // [esp+3F0h] [ebp-10h]
  int j; // [esp+3F4h] [ebp-Ch]
  int v49; // [esp+3F8h] [ebp-8h]
  unsigned __int8 v50; // [esp+3FFh] [ebp-1h]

  constPropSheetPagePointer = (LPCPROPSHEETPAGEW)-4110;
  v38 = -4111;
  v31 = 0;
  do
  {
    if ( ++v31 == 44 )
      ImageList_Remove((HIMAGELIST)0x87C8, i);
  }
  while ( v31 < 0x1C );
  v43 = -4099;
  dword_412CE7 -= 1274413056;
  v38 = 0;
  if ( sub_4063B0() )
  {
    sub_406276();
    v0 = dword_4102D8;
    i = ((unsigned int)constPropSheetPagePointer ^ 0x352A) + 9513;
    v45 = -4139;
    constPropSheetPagePointer = (LPCPROPSHEETPAGEW)-4110;
    v49 = -4099;
    v46 = -4110;
    v42 = dword_4102D4;
    dword_412DB7 ^= *off_412EEC[0];
    v50 = 0;
    v47 = -4110;
    dword_412CEF ^= 0x4B2Du;
    v34 = 10785;
    v35 = 6498868;
    v36 = 8590439;
    v37 = 210535;
    v33[0] = (int)&v34;
    *(_DWORD *)off_412E3C[0] |= v23;
    v33[1] = (int)&v35;
    v33[2] = (int)&v36;
    v33[3] = (int)&v37;
    v26 = 0;
    do
    {
      if ( ++v26 == 23 )
        GetOpenFileNameA((LPOPENFILENAMEA)0x4361);
    }
    while ( v26 < 0x14 );
    v1 = v49;
    v38 = (v0 - 9513) ^ 0x352A;
    if ( v49 - v38 != (v49 ^ 0x352A) + 9513 )
    {
      do
      {
        v27 ^= dword_412DA7;
        v2 = v42;
        v29 += *off_412EF4[0];
        v39 = v1 ^ 0x352A;
        dword_412D53 -= v25;
        v3 = (v1 ^ 0x352A) + 9513;
        v50 = *(_BYTE *)(v3 * ((v47 ^ 0x352A) + 9513) + v42);
        v40 = v3;
        v20 ^= dword_412D8B;
        *(_BYTE *)(v3 * ((v47 ^ 0x352A) + 9513) + v42) = (v49 ^ 0x2A) + 41;
        for ( j = 1; j != 11; ++j )
        {
          v17 = (__PAIR64__(v17, 9513) - ((unsigned int)v32 | 0xFD300000000i64)) >> 32;
          v4 = (_DWORD *)v33[j & 3];
          v5 = (j - 9513) ^ 0x352A;
          *v4 += v5;
        }
        v16 -= v15;
        Rect.bottom = ((unsigned int)&dword_412D4F & (unsigned int)&dword_412D37) - (_DWORD)&dword_412D63;
        dword_412D17 += dword_412CF3 + (v5 < (unsigned int)v32);
        v50 = v50 - (v45 ^ 0x2A) - 41;
        dword_412D1F ^= (unsigned int)asc_412D33;
        dword_412D1F -= (int)&dword_412DAF;
        dword_412D1F |= (unsigned int)&dword_412DD3;
        if ( i == (v49 ^ 0x352A) + 9513 )
        {
          v50 += (v45 ^ 0x2A) + 41;
          --v14;
          m = (v50 ^ 0x5A) + 44;
          v50 = (v50 ^ 0x5A) + 44;
        }
        else
        {
          dword_412D3B = (__PAIR64__(dword_412D3B, i) - __PAIR64__(v18, v19)) >> 32;
          for ( k = 1; k != 11; ++k )
          {
            dword_412D0B += (int)&dword_412D7B;
            dword_412D0B ^= (unsigned int)&dword_412D53;
            v8 = (int *)v33[k & 3];
            v9 = *v8 * ((k - 9513) ^ 0x352A);
            *v8 = v9;
          }
          for ( m = v49;
                (LPCPROPSHEETPAGEW)m != constPropSheetPagePointer;
                m = ((v46 ^ 0x352A) + (m ^ 0x352A) + 9513) ^ 0x352A )
          {
            for ( n = 22; n; --n )
            {
              if ( n == 29 )
                m = (int)CreatePropertySheetPageW(constPropSheetPagePointer);
            }
            v10 = v46;
            *(_BYTE *)off_412E40[0] *= 2;
            v50 = __ROR1__(v50, (v10 ^ 0x2A) + 41);
            v13 -= *off_412EBC[0];
          }
        }
        dword_412D3F = (__PAIR64__(dword_412D3F, v47) - __PAIR64__(v21, m)) >> 32;
        *(_BYTE *)(v40 * ((v47 ^ 0x352A) + 9513) + v2) ^= v50;
        v30 |= v28;
        v11 = (v46 ^ 0x352A) + v39 + 9513;
        *off_412F20[0] += v22;
        v1 = v11 ^ 0x352A;
        dword_412D77 ^= dword_412D47;
      }
      while ( v1 - v38 != (v49 ^ 0x352A) + 9513 );
    }
  }
  return (v43 ^ 0x352A) + 9513;
}
// 405599: variable 'v23' is possibly undefined
// 405616: variable 'v0' is possibly undefined
// 405674: variable 'v27' is possibly undefined
// 40568A: variable 'v29' is possibly undefined
// 40569D: variable 'v25' is possibly undefined
// 4056D4: variable 'v20' is possibly undefined
// 4056F5: variable 'v17' is possibly undefined
// 40573F: variable 'v16' is possibly undefined
// 40573F: variable 'v15' is possibly undefined
// 4057E3: variable 'v14' is possibly undefined
// 405809: variable 'v19' is possibly undefined
// 405809: variable 'v18' is possibly undefined
// 4058CD: variable 'v13' is possibly undefined
// 4058EB: variable 'v21' is possibly undefined
// 405902: variable 'v2' is possibly undefined
// 405918: variable 'v28' is possibly undefined
// 405918: variable 'v30' is possibly undefined
// 405938: variable 'v22' is possibly undefined
// 4102D4: using guessed type int dword_4102D4;
// 4102D8: using guessed type int dword_4102D8;
// 412CE7: using guessed type int dword_412CE7;
// 412CEF: using guessed type int dword_412CEF;
// 412CF3: using guessed type int dword_412CF3;
// 412D0B: using guessed type int dword_412D0B;
// 412D17: using guessed type int dword_412D17;
// 412D1F: using guessed type int dword_412D1F;
// 412D37: using guessed type int dword_412D37;
// 412D3B: using guessed type int dword_412D3B;
// 412D3F: using guessed type int dword_412D3F;
// 412D47: using guessed type int dword_412D47;
// 412D4F: using guessed type int dword_412D4F;
// 412D53: using guessed type int dword_412D53;
// 412D63: using guessed type int dword_412D63;
// 412D77: using guessed type int dword_412D77;
// 412D7B: using guessed type int dword_412D7B;
// 412D8B: using guessed type int dword_412D8B;
// 412DA7: using guessed type int dword_412DA7;
// 412DAF: using guessed type int dword_412DAF;
// 412DB7: using guessed type int dword_412DB7;
// 412DBF: using guessed type int dword_412DBF;
// 412DD3: using guessed type int dword_412DD3;
// 412E3C: using guessed type int off_412E3C[16];
// 412E40: using guessed type int off_412E40[15];
// 412EB0: using guessed type int *off_412EB0[10];
// 412EBC: using guessed type int *off_412EBC[7];
// 412EEC: using guessed type int *off_412EEC[16];
// 412EF4: using guessed type int *off_412EF4[14];
// 412F20: using guessed type int *off_412F20[3];

//----- (004059B9) --------------------------------------------------------
int __usercall sub_4059B9@<eax>(unsigned int a1@<edi>)
{
  int v1; // eax
  int i; // [esp+3Ch] [ebp-24h]
  int v4; // [esp+50h] [ebp-10h]
  struct tagPSDW *v5; // [esp+54h] [ebp-Ch]
  int v6; // [esp+5Ch] [ebp-4h] BYREF
  char *retaddr; // [esp+64h] [ebp+4h] BYREF

  dword_412D13 |= *(_DWORD *)&dword_412DC7;
  dword_4100DC = *(&dword_4102F8 + 1);
  for ( i = 21; i; --i )
  {
    if ( i == 30 )
      PageSetupDlgW(v5);
  }
  dword_4100E0 = *(&dword_4102F8 + 2);
  dword_4100E4 = *(&dword_4102F8 + 3);
  v4 = *(_DWORD *)dword_4102F8;
  dword_412CEB -= (int)&dword_412D47;
  sub_405DCA((int)&v6, v4, (int)off_4102E0);
  v1 = sub_405C69(a1);
  dword_412D5F += (int)dword_412DC3;
  dword_412D5F ^= (unsigned int)&dword_412D43;
  dword_412D5F += (int)&dword_412DAF;
  if ( v1 )
  {
    v6 = 0;
    dword_410088 += 6780263;
  }
  else
  {
    v6 = *off_4102C4[14];
  }
  dword_4100FC = (int)&retaddr;
  retaddr += dword_4100F0;
  return v6;
}
// 405A26: variable 'v5' is possibly undefined
// 410088: using guessed type int dword_410088;
// 4100DC: using guessed type int dword_4100DC;
// 4100E0: using guessed type int dword_4100E0;
// 4100E4: using guessed type int dword_4100E4;
// 4100F0: using guessed type int dword_4100F0;
// 4100FC: using guessed type int dword_4100FC;
// 4102C4: using guessed type int **off_4102C4;
// 4102E0: using guessed type int (*off_4102E0)[512];
// 4102F8: using guessed type int dword_4102F8;
// 412CEB: using guessed type int dword_412CEB;
// 412D13: using guessed type int dword_412D13;
// 412D43: using guessed type int dword_412D43;
// 412D47: using guessed type int dword_412D47;
// 412D5F: using guessed type int dword_412D5F;
// 412D8B: using guessed type int dword_412D8B;
// 412DAF: using guessed type int dword_412DAF;

//----- (00405B0B) --------------------------------------------------------
int __userpurge sub_405B0B@<eax>(__int16 a1@<ax>, unsigned __int16 a2)
{
  bool v2; // zf
  int v3; // eax
  unsigned int i; // [esp+4h] [ebp-18h]

  v2 = a1 == (__int16)a2;
  v3 = -4099;
  if ( v2 )
  {
    for ( i = 0; i < 0x1D; ++i )
      ;
    v3 = -4110;
  }
  return (v3 ^ 0x352A) + 9513;
}
// 405B57: conditional instruction was optimized away because %var_18.4<1Du

//----- (00405B8A) --------------------------------------------------------
int __usercall sub_405B8A@<eax>(_DWORD *a1@<eax>)
{
  int result; // eax

  dword_4104F4 = (int)(a1 + 1);
  dword_4104E8 = a1[2];
  dword_4104EC = a1[3];
  result = a1[4];
  dword_4104F0 = result;
  return result;
}
// 4104E8: using guessed type int dword_4104E8;
// 4104EC: using guessed type int dword_4104EC;
// 4104F0: using guessed type int dword_4104F0;
// 4104F4: using guessed type int dword_4104F4;

//----- (00405BAE) --------------------------------------------------------
HACCEL __usercall sub_405BAE@<eax>(_DWORD *a1@<esi>)
{
  HACCEL result; // eax

  result = (HACCEL)(wcslen(L"gifdui") - 6);
  if ( result )
  {
    *a1 = 3;
  }
  else
  {
    result = LoadAcceleratorsA((HINSTANCE)*off_41004C, TableName);
    *a1 = 1;
  }
  return result;
}
// 41004C: using guessed type void **off_41004C;

//----- (00405BE3) --------------------------------------------------------
int __userpurge sub_405BE3@<eax>(char a1@<al>, unsigned __int8 a2)
{
  bool v2; // zf
  int v3; // eax
  int i; // [esp+18h] [ebp-18h]

  v2 = a1 == (char)a2;
  v3 = -4099;
  if ( v2 )
  {
    for ( i = 24; i; --i )
    {
      if ( i == 27 )
        GetFullPathNameW(&FileName, 0x38B0u, &Buffer, &FilePart);
    }
    v3 = -4110;
  }
  return (v3 ^ 0x352A) + 9513;
}
// 405C45: variable 'i' is possibly undefined

//----- (00405C69) --------------------------------------------------------
int __usercall sub_405C69@<eax>(unsigned int a1@<edi>)
{
  int v1; // ebx
  int v2; // eax
  int v3; // eax
  int v5; // [esp+30h] [ebp-B4h]
  int i; // [esp+88h] [ebp-5Ch]
  void *dwFlags; // [esp+D0h] [ebp-14h]
  void (__stdcall *dwFlagsa)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // [esp+D0h] [ebp-14h]
  _DWORD *v9; // [esp+D8h] [ebp-Ch]
  char *retaddr; // [esp+E8h] [ebp+4h] BYREF

  v9 = (_DWORD *)dword_4102EC;
  for ( i = 24; i; --i )
  {
    if ( i == 35 )
      HeapReAlloc(dwFlags, (DWORD)dwFlags, (LPVOID)0x3216, 0xFFFFEFF2);
  }
  dword_412DAB += v5;
  v1 = dword_4102F0;
  dwFlagsa = (void (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))dword_4102F4;
  v2 = sub_405233(dword_4102F0, a1, (int)off_4102C4, v9);
  dword_412D1B += 9255;
  if ( v2 )
  {
    v3 = -4110;
  }
  else
  {
    sub_407197((int)off_4102C4, v1, dwFlagsa, 203270);
    dword_4102E8 = (int)&retaddr;
    retaddr += dword_4100F0;
    v3 = -4099;
  }
  *(_BYTE *)off_412E50[0] = __ROR1__(*(_BYTE *)off_412E50[0], 9);
  return (v3 ^ 0x352A) + 9513;
}
// 405CBE: variable 'dwFlags' is possibly undefined
// 405CFB: variable 'v5' is possibly undefined
// 4100F0: using guessed type int dword_4100F0;
// 4102C4: using guessed type int **off_4102C4;
// 4102E8: using guessed type int dword_4102E8;
// 4102EC: using guessed type int dword_4102EC;
// 4102F0: using guessed type int dword_4102F0;
// 4102F4: using guessed type int dword_4102F4;
// 412D1B: using guessed type int dword_412D1B;
// 412DAB: using guessed type int dword_412DAB;
// 412E50: using guessed type int off_412E50[11];

//----- (00405DCA) --------------------------------------------------------
HBITMAP __stdcall sub_405DCA(int a1, int a2, int a3)
{
  HBITMAP result; // eax
  int v4; // ecx
  _DWORD *v5; // edx
  _DWORD *v6; // edx
  _DWORD *v7; // edx
  int v8; // [esp+0h] [ebp-4Ch]
  int v9; // [esp+8h] [ebp-44h]
  void *offset; // [esp+34h] [ebp-18h]
  unsigned int v11; // [esp+38h] [ebp-14h]

  result = (HBITMAP)-4099;
  v4 = 13610;
  do
  {
    v11 = 0;
    do
    {
      if ( ++v11 == 28 )
        result = CreateDIBSection((HDC)0x25D9, (const BITMAPINFO *)0x17C6, 0x1BCDu, &ppvBits, offset, (DWORD)offset);
    }
    while ( v11 < 0x16 );
    FilePart = (LPWSTR)((unsigned int)FilePart ^ 0x1C88);
    *(_DWORD *)*(&off_4100C4 + (((_BYTE)result + 1) & 3)) *= -8208 * (_DWORD)result;
    *(_DWORD *)&Buffer -= &dword_412DA3;
    *(_DWORD *)&Buffer ^= (unsigned int)&dword_412D47;
    *(_DWORD *)&Buffer -= &dword_412D1B;
    v5 = *(&off_4100C4 + (((_BYTE)result - 1) & 3));
    *v5 ^= (unsigned int)result | (-8205 * (_DWORD)result);
    if ( result == (HBITMAP)-4131 )
    {
      dword_4102EC = a1;
    }
    else if ( result == (HBITMAP)-4547 )
    {
      dword_412D2F = (int)&Rect;
      dword_4102F0 = a2;
    }
    else if ( result == (HBITMAP)-4483 )
    {
      dword_412D83 -= *off_412EB0[0];
      dword_4102F4 = a3;
    }
    v9 += *off_412EFC[0];
    result = (HBITMAP)(v4 ^ ((v4 ^ 0xFFFFEFF2) + (v4 ^ (unsigned int)result) + 9513));
    v8 += *off_412E80[0];
    v6 = *(&off_4100C4 + ((unsigned __int8)result & 3));
    *v6 += (unsigned int)result ^ (-8206 * (_DWORD)result);
    v7 = *(&off_4100C4 + (((_BYTE)result - 2) & 3));
    *v7 |= -8207 * (_DWORD)result;
  }
  while ( result != (HBITMAP)-4403 );
  return result;
}
// 405DF0: variable 'v11' is possibly undefined
// 405E1C: variable 'offset' is possibly undefined
// 405F36: variable 'v9' is possibly undefined
// 405F48: variable 'v4' is possibly undefined
// 405F56: variable 'v8' is possibly undefined
// 4100C4: using guessed type void *off_4100C4;
// 4102EC: using guessed type int dword_4102EC;
// 4102F0: using guessed type int dword_4102F0;
// 4102F4: using guessed type int dword_4102F4;
// 412D1B: using guessed type int dword_412D1B;
// 412D2F: using guessed type int dword_412D2F;
// 412D47: using guessed type int dword_412D47;
// 412D83: using guessed type int dword_412D83;
// 412DA3: using guessed type int dword_412DA3;
// 412E80: using guessed type int *off_412E80[5];
// 412EB0: using guessed type int *off_412EB0[10];
// 412EFC: using guessed type int *off_412EFC[12];

//----- (00405F99) --------------------------------------------------------
#error "406082: call analysis failed (funcsize=57)"

//----- (00406230) --------------------------------------------------------
void __stdcall dKcbwEplR(unsigned __int16 a1, double *a2)
{
  dword_412DB3 |= *off_412F00[0];
  dword_412D63 &= *off_412E8C[0];
  Rect.right += *off_412EF8[0];
}
// 412D63: using guessed type int dword_412D63;
// 412DB3: using guessed type int dword_412DB3;
// 412E8C: using guessed type int *off_412E8C[2];
// 412EF8: using guessed type int *off_412EF8[13];
// 412F00: using guessed type int *off_412F00[11];

//----- (00406276) --------------------------------------------------------
int sub_406276()
{
  int v0; // edx
  unsigned int v2; // [esp+70h] [ebp-40h]
  HWND hwndParent; // [esp+90h] [ebp-20h]
  int v4[2]; // [esp+A8h] [ebp-8h] BYREF

  v0 = -4099;
  v2 = 0;
  do
  {
    if ( ++v2 == 27 )
      CreateStatusWindowW(8863, &szText, hwndParent, 0x4C52u);
  }
  while ( v2 < 0x16 );
  dword_412D17 &= (unsigned int)&ClassName;
  v4[0] = (v0 ^ 0x352A) + 9513;
  v4[1] = (int)off_4102C4;
  return off_41054C(off_410550, *off_4102C4[3], (char *)off_4102C4 + 314, 4, dword_4102D4, dword_4102D8, 64, v4);
}
// 4062F4: variable 'hwndParent' is possibly undefined
// 40630D: variable 'v0' is possibly undefined
// 4102C4: using guessed type int **off_4102C4;
// 4102D4: using guessed type int dword_4102D4;
// 4102D8: using guessed type int dword_4102D8;
// 41054C: using guessed type int (__cdecl *off_41054C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 410550: using guessed type int (__stdcall *off_410550)(int, int, int);
// 412D17: using guessed type int dword_412D17;
// 412DD7: using guessed type int dword_412DD7;

//----- (004063B0) --------------------------------------------------------
int sub_4063B0()
{
  int v0; // eax
  int v1; // eax
  int v3; // [esp+0h] [ebp-7Ch]
  unsigned int i; // [esp+44h] [ebp-38h]
  int v5; // [esp+70h] [ebp-Ch]

  v0 = (int)*off_410070;
  for ( i = 0; i < 0x1F; ++i )
    ;
  v5 = (int)*off_410074;
  dword_412D2F -= *(_DWORD *)off_412E5C[0];
  Rect.left ^= v3;
  dword_4102D4 = v0;
  v1 = -4110;
  dword_4102D8 = 4 - dword_4102D4 + v5;
  if ( !dword_4102D4 )
    v1 = -4099;
  return (v1 ^ 0x352A) + 9513;
}
// 4063FE: conditional instruction was optimized away because %var_38.4<1Fu
// 406481: variable 'v3' is possibly undefined
// 410070: using guessed type int (**off_410070)[459];
// 410074: using guessed type int (**off_410074)();
// 4102D4: using guessed type int dword_4102D4;
// 4102D8: using guessed type int dword_4102D8;
// 412D2F: using guessed type int dword_412D2F;
// 412DBB: using guessed type int dword_412DBB;
// 412E5C: using guessed type int off_412E5C[8];

//----- (004064D1) --------------------------------------------------------
UINT __userpurge sub_4064D1@<eax>(int a1@<ebx>, int a2, int a3, UINT *a4)
{
  int WindowsDirectoryW; // eax
  unsigned int v5; // ecx
  int v7; // edx
  __int16 v8; // ax
  int v10; // eax
  __int16 v11; // ax
  unsigned int v12; // eax
  unsigned int v13; // eax
  __int16 v14; // di
  int v15; // eax
  unsigned int v16; // eax
  bool v17; // cf
  UINT result; // eax
  int v19; // [esp+0h] [ebp-34Ch]
  int v20; // [esp+70h] [ebp-2DCh]
  int v21; // [esp+74h] [ebp-2D8h]
  int v22; // [esp+A8h] [ebp-2A4h]
  int v23; // [esp+BCh] [ebp-290h]
  int v24; // [esp+CCh] [ebp-280h]
  int v25; // [esp+D8h] [ebp-274h]
  unsigned int v26; // [esp+DCh] [ebp-270h]
  int v27; // [esp+140h] [ebp-20Ch]
  int v28; // [esp+14Ch] [ebp-200h]
  int v29; // [esp+178h] [ebp-1D4h]
  int v30; // [esp+17Ch] [ebp-1D0h]
  int v31; // [esp+184h] [ebp-1C8h]
  int v32; // [esp+190h] [ebp-1BCh]
  int v33; // [esp+19Ch] [ebp-1B0h]
  int v34; // [esp+19Ch] [ebp-1B0h]
  unsigned int v35; // [esp+1ECh] [ebp-160h]
  int v36; // [esp+1FCh] [ebp-150h]
  int v37; // [esp+204h] [ebp-148h]
  int v38; // [esp+20Ch] [ebp-140h]
  int v39; // [esp+214h] [ebp-138h]
  int v40; // [esp+24Ch] [ebp-100h]
  int v41; // [esp+25Ch] [ebp-F0h]
  int j; // [esp+274h] [ebp-D8h]
  int v43; // [esp+27Ch] [ebp-D0h]
  unsigned int k; // [esp+2ACh] [ebp-A0h]
  int v45; // [esp+2B4h] [ebp-98h]
  unsigned int i; // [esp+2C0h] [ebp-8Ch]
  unsigned int v47; // [esp+2E4h] [ebp-68h]
  int v48; // [esp+31Ch] [ebp-30h] BYREF
  int top; // [esp+324h] [ebp-28h]
  UINT v50; // [esp+328h] [ebp-24h]
  int bottom; // [esp+32Ch] [ebp-20h]
  int v52; // [esp+330h] [ebp-1Ch]
  int nMaxCount; // [esp+334h] [ebp-18h]
  HWND hWnd; // [esp+338h] [ebp-14h]
  unsigned int v55; // [esp+33Ch] [ebp-10h]
  UINT uSize; // [esp+340h] [ebp-Ch]
  UINT v57; // [esp+344h] [ebp-8h]
  int v58; // [esp+348h] [ebp-4h]
  int v59; // [esp+354h] [ebp+8h]

  WindowsDirectoryW = -4110;
  uSize = -4110;
  v47 = 0;
  do
  {
    if ( ++v47 == 26 )
      WindowsDirectoryW = GetWindowsDirectoryW(&dword_412DC7, uSize);
  }
  while ( v47 < 0x10 );
  v55 = -4099;
  v58 = 108356886;
  nMaxCount = -11334;
  dword_412DDF ^= v30;
  v50 = -4099;
  top = a1;
  v5 = 13610;
  dword_412D67 ^= v43;
  hWnd = (HWND)(-9513 - (uSize ^ 0x352A));
  bottom = WindowsDirectoryW;
  v52 = -4111;
  dword_412DBF ^= 0x338Cu;
  v7 = 9513;
  v34 = v33 - dword_412D3F;
  v57 = (uSize ^ 0x352A) + 9513;
  while ( 1 )
  {
    v58 |= 0x651514u;
    v28 = ~v28;
    v58 *= 3287856;
    nMaxCount = -11334;
    v58 += 2385255;
    v45 += k;
    v37 -= v36;
    hWnd = (HWND)((char *)hWnd + (v5 ^ uSize) + 9513);
    for ( i = 0; i < 0x1C; ++i )
      ;
    k = 30122;
    v8 = *(_WORD *)(a2 + 32) ^ 0x32A;
    if ( v35 == 25492 )
    {
      _EBX = v41;
      __asm { rcl     ebx, 1 }
      v41 = _EBX;
    }
    else
    {
      v30 += dword_412DAB + (v35 < 0x6394);
    }
    dword_412D73 ^= 0x4804u;
    dword_412D13 += (int)&dword_412D23;
    dword_412D13 ^= (unsigned int)&dword_412D0B;
    if ( v7 + (v5 ^ uSize) <= (unsigned __int16)(v8 + 553) )
    {
      v52 = -9513;
      do
      {
        v10 = v52;
        if ( v26 >= 0x772B )
          v27 -= 32540;
        else
          v31 += v29 + (v26 < 0x772B);
        *(_BYTE *)off_412EF8[0] = __ROR1__(*(_BYTE *)off_412EF8[0], 8);
        v59 = v10 + 9513;
        v11 = *(_WORD *)(a2 + 4 * (v10 + 9513) + 2) ^ 0x32A;
        dword_412D1F += *off_412EB4[0];
        v12 = (unsigned __int16)(v11 + 553);
        if ( (HWND)v12 == hWnd )
        {
          v39 += off_412ED8->left + (v12 < dword_412D5B);
          v57 *= v7 + (v5 ^ uSize);
          dword_412CFB &= v22;
          v13 = sub_405B0B(*(_WORD *)(a2 + 4 * v59), 0xFEFDu);
          dword_412DB3 = (int)&dword_412DBB + (_DWORD)&asc_412D33[v13 < (unsigned int)&v48];
          dword_412DB3 |= (unsigned int)&Translated;
          if ( v13
            && (v40 |= dword_412D77,
                dword_412DAF &= v31,
                dword_412D43 += dword_412D1F,
                v20 ^= 0x570Du,
                sub_405BE3(*(_BYTE *)((_DWORD)hWnd * (v7 + (v5 ^ bottom)) + a3), (v55 ^ 0x2A) + 41))
            || sub_405B0B(
                 *(_WORD *)(a2 + 4 * v59),
                 (*(unsigned __int8 *)((_DWORD)hWnd * (v7 + (v5 ^ bottom)) + a3) - 553) ^ 0x32A) )
          {
            nMaxCount = -10366;
            dword_412CEF += dword_412CF7 + (v5 < 0x32A);
            v50 = v5 ^ ((v5 ^ v50) + (v5 ^ uSize) + 9513);
            break;
          }
          for ( j = 30; j; --j )
          {
            if ( j == 42 )
              GetClassLongA((HWND)bottom, 5802);
          }
          nMaxCount = -5142;
        }
        dword_412D6F ^= *off_412EE8[0];
        v14 = *(_WORD *)(a2 + 32) ^ 0x32A;
        v52 += (v5 ^ uSize) + 9513;
      }
      while ( (v5 ^ uSize) + v52 + 19026 <= (unsigned __int16)(v14 + 553) );
    }
    v41 <<= 8;
    v58 ^= 0x47514u;
    v25 &= v24;
    v15 = *(unsigned __int8 *)((_DWORD)hWnd * (v7 + (v5 ^ bottom)) + a3);
    dword_412DAB ^= (unsigned int)&dword_412D1B;
    dword_412DAB -= (int)&Buffer;
    if ( (v5 ^ (v15 - v7)) == v55 )
    {
      *off_412E98[0] |= 0x2141u;
      v57 += (v5 ^ v55) + 9513;
      goto LABEL_41;
    }
    v58 += 332801;
    if ( nMaxCount == -5142 )
    {
      for ( k = 0; k < 0x18; ++k )
        ;
      v57 += -9513 - (v5 ^ uSize);
      v34 -= v32;
      v58 -= 145456;
    }
    else
    {
      v58 &= 0x2CA01u;
      v38 &= v37;
      v36 -= 6615;
      v57 += -9513 - (v5 ^ v55);
      v58 *= 480868;
    }
    if ( v57 == v7 + (v5 ^ v55) )
      break;
    v58 += 2308646;
  }
  v58 |= 0x2CA00u;
  v58 *= 610676;
LABEL_41:
  v16 = ((v5 ^ v50) + 8960) ^ 0x32A;
  if ( (_WORD)v16 == *(_WORD *)(a2 + 32) || (v16 = uSize, v57 == v7 + (v5 ^ v55)) )
  {
    if ( v16 > 0x7D4B )
      v17 = __CFADD__(v16 < 0x7D4B, v23) | __CFADD__((v16 < 0x7D4B) + v23, 17004);
    else
      v17 = __CFADD__(v19, 15099);
    dword_412D6F -= v17 + v21;
    v16 = v55;
  }
  dword_412D63 = (int)&dword_412D77;
  v57 += -9513 - (v5 ^ v16);
  result = v57;
  *a4 = v57;
  return result;
}
// 4064D1: could not find valid save-restore pair for ebx
// 406699: conditional instruction was optimized away because %var_8C.4<1Cu
// 406B6C: conditional instruction was optimized away because %var_A0.4<18u
// 40655A: variable 'v30' is possibly undefined
// 4065A4: variable 'v43' is possibly undefined
// 4065DF: variable 'v33' is possibly undefined
// 406608: variable 'v28' is possibly undefined
// 406630: variable 'k' is possibly undefined
// 406630: variable 'v45' is possibly undefined
// 406654: variable 'v37' is possibly undefined
// 406654: variable 'v36' is possibly undefined
// 40663D: variable 'v5' is possibly undefined
// 4066FE: variable 'v35' is possibly undefined
// 40671D: variable 'v41' is possibly undefined
// 406763: variable 'v7' is possibly undefined
// 406782: variable 'v26' is possibly undefined
// 40678F: variable 'v29' is possibly undefined
// 40678F: variable 'v31' is possibly undefined
// 4067A8: variable 'v27' is possibly undefined
// 406801: variable 'v39' is possibly undefined
// 406821: variable 'v22' is possibly undefined
// 40686F: variable 'v40' is possibly undefined
// 4068A4: variable 'v20' is possibly undefined
// 406AA0: variable 'v24' is possibly undefined
// 406AA0: variable 'v25' is possibly undefined
// 406AF9: variable 'v38' is possibly undefined
// 406BD2: variable 'v32' is possibly undefined
// 406CCE: variable 'v19' is possibly undefined
// 406CDF: variable 'v23' is possibly undefined
// 406CEB: variable 'v21' is possibly undefined
// 412CE7: using guessed type int dword_412CE7;
// 412CEF: using guessed type int dword_412CEF;
// 412CF7: using guessed type int dword_412CF7;
// 412CFB: using guessed type int dword_412CFB;
// 412D0B: using guessed type int dword_412D0B;
// 412D0F: using guessed type int dword_412D0F;
// 412D13: using guessed type int dword_412D13;
// 412D1B: using guessed type int dword_412D1B;
// 412D1F: using guessed type int dword_412D1F;
// 412D23: using guessed type int dword_412D23;
// 412D3F: using guessed type int dword_412D3F;
// 412D43: using guessed type int dword_412D43;
// 412D5B: using guessed type int dword_412D5B;
// 412D63: using guessed type int dword_412D63;
// 412D67: using guessed type int dword_412D67;
// 412D6F: using guessed type int dword_412D6F;
// 412D73: using guessed type int dword_412D73;
// 412D77: using guessed type int dword_412D77;
// 412DAB: using guessed type int dword_412DAB;
// 412DAF: using guessed type int dword_412DAF;
// 412DB3: using guessed type int dword_412DB3;
// 412DBB: using guessed type int dword_412DBB;
// 412DBF: using guessed type int dword_412DBF;
// 412DD3: using guessed type int dword_412DD3;
// 412DDF: using guessed type int dword_412DDF;
// 412E5C: using guessed type int off_412E5C[8];
// 412E8C: using guessed type int *off_412E8C[2];
// 412E98: using guessed type int *off_412E98[16];
// 412EB4: using guessed type int *off_412EB4[9];
// 412ED8: using guessed type tagRECT *off_412ED8;
// 412EE8: using guessed type int *off_412EE8[17];
// 412EF8: using guessed type int *off_412EF8[13];

//----- (00406D1F) --------------------------------------------------------
int __userpurge sub_406D1F@<eax>(int a1@<edi>, int a2, int a3)
{
  int v3; // eax
  int result; // eax
  int *v5; // ecx
  unsigned int v6; // [esp+3Ch] [ebp-23Ch]
  int v7; // [esp+84h] [ebp-1F4h]
  int v8; // [esp+B4h] [ebp-1C4h]
  int v9; // [esp+D0h] [ebp-1A8h]
  int v10; // [esp+118h] [ebp-160h]
  unsigned int j; // [esp+1A0h] [ebp-D8h]
  unsigned int i; // [esp+1F0h] [ebp-88h]
  int v13; // [esp+23Ch] [ebp-3Ch]
  __int16 v14[14]; // [esp+24Ch] [ebp-2Ch] BYREF
  __int16 cchMax; // [esp+268h] [ebp-10h]
  int cchMax_2; // [esp+26Ah] [ebp-Eh]
  int v17; // [esp+270h] [ebp-8h]
  int v18; // [esp+274h] [ebp-4h]

  v3 = *(int *)((char *)&dword_410458 + a3);
  FilePart = (LPWSTR)((char *)FilePart + v7);
  for ( i = 0; i < 0x15; ++i )
    ;
  *off_412F10[0] += dword_412D53;
  v18 = -4099;
  dword_412DA7 &= v9;
  v17 = (v3 ^ 0x352A) + 9513;
  dword_412DBB ^= *off_412EB0[0];
  word_410308[v17] = 0;
  v14[0] = -663;
  *off_412ED4 ^= v10;
  v14[1] = -259;
  v14[2] = -669;
  v14[3] = -272;
  v14[4] = -752;
  v14[5] = -271;
  dword_412CFB -= 3467;
  v14[6] = -750;
  v14[7] = -266;
  v14[8] = -671;
  *off_412EF8[0] = (__PAIR64__(*off_412EF8[0], 23543) - (v6 | 0x142000000000i64)) >> 32;
  v14[9] = -265;
  v14[10] = -764;
  dword_412DB3 |= v8;
  v13 = *(int *)((char *)&off_410454 + a2);
  v14[12] = -259;
  v14[13] = -267;
  *(_BYTE *)off_412E40[0] += 21;
  v14[11] = -268;
  cchMax = 5073;
  cchMax_2 = -17558826;
  ((void (__cdecl *)(int (__stdcall *)(int, int, int), _DWORD, __int16 *, int, __int16 *, int, int))off_41054C)(
    off_410550,
    *off_4102C4[3],
    v14,
    3,
    word_410308,
    v13,
    a1);
  result = dword_4104D8(word_410308);
  if ( result != (*(int *)((char *)&dword_410458 + a2) ^ 0x352A)
               + (*(int *)((char *)&dword_410458 + a3) ^ 0x352A)
               + 19026 )
  {
    for ( j = 0; j < 0x12; ++j )
      ;
    *(_DWORD *)dword_410494 = (v18 ^ 0x352A) + 9513;
    v5 = off_4102C4[3];
    dword_412D53 += dword_412D3F;
    result = (v18 ^ 0x352A) + 9513;
    *v5 = result;
  }
  return result;
}
// 406D1F: could not find valid save-restore pair for edi
// 406D82: conditional instruction was optimized away because %var_88.4<15u
// 407122: conditional instruction was optimized away because %var_D8.4<12u
// 406D3F: variable 'v7' is possibly undefined
// 406E9A: variable 'v9' is possibly undefined
// 406EE3: variable 'v10' is possibly undefined
// 406FC9: variable 'v6' is possibly undefined
// 406FEB: variable 'v8' is possibly undefined
// 4102C4: using guessed type int **off_4102C4;
// 410308: using guessed type __int16 word_410308[130];
// 410454: using guessed type wchar_t *off_410454;
// 410458: using guessed type int dword_410458;
// 410494: using guessed type int dword_410494;
// 4104D8: using guessed type int (__cdecl *dword_4104D8)(_DWORD);
// 41054C: using guessed type int (__cdecl *off_41054C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 410550: using guessed type int (__stdcall *off_410550)(int, int, int);
// 412CEF: using guessed type int dword_412CEF;
// 412CFB: using guessed type int dword_412CFB;
// 412D3F: using guessed type int dword_412D3F;
// 412D53: using guessed type int dword_412D53;
// 412DA7: using guessed type int dword_412DA7;
// 412DB3: using guessed type int dword_412DB3;
// 412DBB: using guessed type int dword_412DBB;
// 412DDF: using guessed type int dword_412DDF;
// 412E40: using guessed type int off_412E40[15];
// 412E50: using guessed type int off_412E50[11];
// 412EB0: using guessed type int *off_412EB0[10];
// 412ED4: using guessed type int *off_412ED4;
// 412EF8: using guessed type int *off_412EF8[13];
// 412F10: using guessed type int *off_412F10[7];

//----- (00407197) --------------------------------------------------------
char **__stdcall sub_407197(
        int a1,
        int a2,
        void (__stdcall *a3)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD),
        int a4)
{
  char **result; // eax
  int v5; // [esp+10h] [ebp-64h]
  unsigned int i; // [esp+30h] [ebp-44h]
  int savedregs; // [esp+74h] [ebp+0h] BYREF
  char *retaddr; // [esp+78h] [ebp+4h] BYREF
  char *v9; // [esp+84h] [ebp+10h]
  char **v10; // [esp+88h] [ebp+14h]

  switch ( a4 )
  {
    case 550007:
      a3(off_41054C, off_410550, dword_4100DC, dword_4100E0, dword_4100E4, a2, off_4102C4);
      break;
    case 394273:
      for ( i = 0; i < 0x16; ++i )
        ;
      if ( *off_4102C4[3] && !dword_410080 )
        sub_4053E1();
      sub_407197(a1, a2, a3, 550007);
      break;
    case 203270:
      sub_407197(a1, a2, a3, 394273);
      break;
  }
  v10 = &retaddr;
  dword_412D3B -= v5;
  v9 = &retaddr[dword_4100F0];
  result = &retaddr;
  dword_412DCB += (int)&dword_412DDF + (&retaddr[dword_4100F0] < (char *)&savedregs);
  dword_412DCB |= (unsigned int)&dword_412DA3;
  retaddr += dword_4100F0;
  return result;
}
// 407221: conditional instruction was optimized away because %var_44.4<16u
// 407302: returning address of temporary local variable '%" r"'
// 4072EC: variable 'v5' is possibly undefined
// 410080: using guessed type int dword_410080;
// 4100DC: using guessed type int dword_4100DC;
// 4100E0: using guessed type int dword_4100E0;
// 4100E4: using guessed type int dword_4100E4;
// 4100F0: using guessed type int dword_4100F0;
// 4102C4: using guessed type int **off_4102C4;
// 41054C: using guessed type int (__cdecl *off_41054C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 410550: using guessed type int (__stdcall *off_410550)(int, int, int);
// 412D3B: using guessed type int dword_412D3B;
// 412DA3: using guessed type int dword_412DA3;
// 412DCB: using guessed type int dword_412DCB;
// 412DD7: using guessed type int dword_412DD7;
// 412DDF: using guessed type int dword_412DDF;

//----- (00407324) --------------------------------------------------------
int sub_407324()
{
  dword_4104E8 = 0;
  dword_4104EC = 0;
  dword_4104F0 = 0;
  return dword_4104F4;
}
// 4104E8: using guessed type int dword_4104E8;
// 4104EC: using guessed type int dword_4104EC;
// 4104F0: using guessed type int dword_4104F0;
// 4104F4: using guessed type int dword_4104F4;

//----- (00407357) --------------------------------------------------------
int __usercall sub_407357@<eax>(unsigned int a1@<edx>, char *a2, int a3, int a4, int a5)
{
  char *v5; // edi
  int v6; // ebx
  unsigned int v7; // ecx
  int v9; // eax
  unsigned int v10; // eax
  int v11; // ecx
  int (__thiscall *v12)(_DWORD); // ecx
  int v13; // esi
  int v14; // esi
  _BYTE *v15; // eax
  int v16; // ecx
  int v17; // edx
  int *v18; // eax
  int v20; // [esp+0h] [ebp-EF0h]
  int v21; // [esp+42Ch] [ebp-AC4h]
  int v22; // [esp+434h] [ebp-ABCh]
  unsigned int v23; // [esp+5B0h] [ebp-940h]
  unsigned int v24; // [esp+698h] [ebp-858h]
  int v25; // [esp+740h] [ebp-7B0h]
  int k; // [esp+7D0h] [ebp-720h]
  unsigned int v27; // [esp+884h] [ebp-66Ch]
  int v28; // [esp+8E4h] [ebp-60Ch]
  int v29; // [esp+8F0h] [ebp-600h]
  int v30; // [esp+9C8h] [ebp-528h]
  unsigned int j; // [esp+A0Ch] [ebp-4E4h]
  int v32; // [esp+C80h] [ebp-270h]
  int *v33; // [esp+C84h] [ebp-26Ch]
  _BYTE v34[12]; // [esp+C88h] [ebp-268h] BYREF
  __int16 achPath[260]; // [esp+C94h] [ebp-25Ch] BYREF
  int *v36; // [esp+E9Ch] [ebp-54h]
  int *v37; // [esp+EA0h] [ebp-50h]
  int *v38; // [esp+EA4h] [ebp-4Ch]
  int *v39; // [esp+EA8h] [ebp-48h]
  int v40; // [esp+EACh] [ebp-44h]
  int v41; // [esp+EB0h] [ebp-40h]
  int v42; // [esp+EB4h] [ebp-3Ch]
  int v43; // [esp+EB8h] [ebp-38h] BYREF
  int v44; // [esp+EBCh] [ebp-34h] BYREF
  int v45; // [esp+EC0h] [ebp-30h] BYREF
  int v46; // [esp+EC4h] [ebp-2Ch] BYREF
  int v47; // [esp+EC8h] [ebp-28h]
  int v48; // [esp+ECCh] [ebp-24h]
  LONG lReleaseCount; // [esp+ED0h] [ebp-20h]
  HRGN hrgnUpdate; // [esp+ED4h] [ebp-1Ch]
  int (__thiscall *v51)(_DWORD); // [esp+ED8h] [ebp-18h]
  HANDLE hSemaphore; // [esp+EDCh] [ebp-14h]
  unsigned int v53; // [esp+EE0h] [ebp-10h]
  _BYTE *v54; // [esp+EE4h] [ebp-Ch]
  int v55; // [esp+EE8h] [ebp-8h] BYREF
  int i; // [esp+EECh] [ebp-4h]
  char *v57; // [esp+EF8h] [ebp+8h]

  v43 = 11015;
  v44 = 30004;
  v45 = 549991;
  v46 = 18023;
  v36 = &v43;
  v37 = &v44;
  v38 = &v45;
  v39 = &v46;
  v5 = a2;
  for ( i = -4099; i != -4147; i = ((i ^ 0x352A) + 1) ^ 0x352A )
  {
    switch ( i )
    {
      case -4106:
        for ( j = 0; j < 0x1B; ++j )
          ;
        v51 = (int (__thiscall *)(_DWORD))(a3 + *((_DWORD *)v5 + 7));
        v40 = a3 + *((_DWORD *)v5 + 8);
        break;
      case -4112:
        v6 = a3 + *(_DWORD *)(a3 + 60);
        if ( PathCommonPrefixW(pszFile1, pszFile2, (LPWSTR)achPath) == 6 )
          v5 = (char *)(a3 + *(_DWORD *)(v6 + 120));
        break;
      case -4150:
        v48 = -4110;
        v42 = -4111;
        hrgnUpdate = (HRGN)-4111;
        v41 = -4109;
        break;
      case -4108:
        v7 = *((_DWORD *)v5 + 6);
        v47 = a3 + *((_DWORD *)v5 + 9);
        v53 = *((_DWORD *)v5 + 5);
        if ( v53 <= v7 )
          v53 = v7;
        break;
    }
    if ( a1 < 0x7139 )
    {
      v22 += v21 + (a1 < 0x7139);
    }
    else
    {
      _EAX = v25;
      __asm { rcr     eax, 0Bh }
      v25 = _EAX;
    }
    v29 ^= v28;
  }
  i = -4099;
  if ( v42 != -4099 )
  {
    v9 = (v53 - 9513) ^ 0x352A;
    v53 = v9;
    while ( i != v9 && v48 == -4110 )
    {
      if ( hrgnUpdate == (HRGN)-4099 || *((_DWORD *)v5 + 6) && *((_DWORD *)v5 + 5) )
      {
        for ( k = 21; k; --k )
        {
          if ( k == 35 )
            FindResourceA((HMODULE)lReleaseCount, Type, Type);
        }
        v57 = a2 + 30000;
        v10 = (i ^ 0x352A) + 9513;
        if ( v10 >= *((_DWORD *)v5 + 6) )
          break;
        v11 = v47;
        *(_BYTE *)off_412EA4[0] += 65;
        if ( *(unsigned __int16 *)(v11 + 2 * v10) > (unsigned int)(*((_DWORD *)v5 + 5) - 1) )
          break;
        a2 = v57 - 30000;
        v55 = 0;
        lReleaseCount = *(unsigned __int16 *)(v10 * ((v41 ^ 0x352A) + 9513) + v47);
        v33 = &v55;
        v32 = a3 + *(_DWORD *)(v10 * (((unsigned int)hrgnUpdate ^ 0x352A) + 9513) + v40);
        Rect.bottom ^= (unsigned int)&dword_412D37;
        ((void (__stdcall *)(int, int, int *))a2)(a4, v32, &v55);
        if ( v55 == 1 )
        {
          v12 = v51;
          v51 = (int (__thiscall *)(_DWORD))(a3 + *((_DWORD *)v51 + lReleaseCount));
          v54 = 0;
          if ( a5 )
          {
            v23 = 0;
            do
            {
              if ( ++v23 == 26 )
                RedrawWindow((HWND)0x3AD5, (const RECT *)0x60EB, hrgnUpdate, 0x68DCu);
            }
            while ( v23 < 0x19 );
            v13 = v42 ^ 0x352A;
            *(_DWORD *)off_412E78 |= dword_412D17;
            hSemaphore = 0;
            v14 = v13 + 9513;
            dword_412DA3 = (__PAIR64__(dword_412DA3, 9513) - __PAIR64__(dword_412DD7, v24)) >> 32;
            lReleaseCount = a5 * v14;
            v54 = v34;
            v15 = v34;
            dword_412D27 += (int)&Translated;
            dword_412D27 |= (unsigned int)dword_412DC3;
            dword_412D27 += (int)&dword_412DA7;
            v16 = a5 * v14;
            do
            {
              --v15;
              --v16;
            }
            while ( v16 );
            hSemaphore = v15;
            v17 = a5;
            v12 = 0;
            v18 = &a5;
            do
            {
              if ( v27 <= 0x62C6 )
                dword_412CE7 &= v30;
              else
                v20 = __ROR4__(v20, 7);
              dword_412D0B |= dword_412D43;
              *(_DWORD *)((char *)hSemaphore + (_DWORD)v12) = *++v18;
              v12 = (int (__thiscall *)(_DWORD))((char *)v12 + v14);
              --v17;
            }
            while ( v17 );
          }
          else
          {
            v54 = 0;
          }
          return v51(v12);
        }
      }
      else
      {
        v48 = -4099;
      }
      i = ((i ^ 0x352A) + 1) ^ 0x352A;
      v9 = v53;
    }
  }
  *off_412E90 += dword_412D8B;
  return 0;
}
// 4073F5: conditional instruction was optimized away because %var_4E4.4<1Bu
// 4074FE: variable 'a1' is possibly undefined
// 407504: variable 'v25' is possibly undefined
// 407521: variable 'v21' is possibly undefined
// 407521: variable 'v22' is possibly undefined
// 407536: variable 'v28' is possibly undefined
// 407536: variable 'v29' is possibly undefined
// 4077C9: variable 'v24' is possibly undefined
// 4078BF: variable 'v27' is possibly undefined
// 4078CC: variable 'v20' is possibly undefined
// 4078E8: variable 'v30' is possibly undefined
// 412CE7: using guessed type int dword_412CE7;
// 412D0B: using guessed type int dword_412D0B;
// 412D17: using guessed type int dword_412D17;
// 412D27: using guessed type int dword_412D27;
// 412D37: using guessed type int dword_412D37;
// 412D43: using guessed type int dword_412D43;
// 412D8B: using guessed type int dword_412D8B;
// 412DA3: using guessed type int dword_412DA3;
// 412DA7: using guessed type int dword_412DA7;
// 412DBB: using guessed type int dword_412DBB;
// 412DD7: using guessed type int dword_412DD7;
// 412E78: using guessed type int off_412E78;
// 412E90: using guessed type int *off_412E90;
// 412EA4: using guessed type int *off_412EA4[13];
// 407357: using guessed type WCHAR achPath[260];

// nfuncs=22 queued=21 decompiled=21 lumina nreq=0 worse=0 better=0
#error "There were 1 decompilation failure(s) on 21 function(s)"
