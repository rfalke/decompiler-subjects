/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebp>);

//-------------------------------------------------------------------------
// Data declarations

int dword_434000[512] =
{
  -73,
  -794290689,
  146931777,
  -1031733248,
  1094148965,
  1204257098,
  1241540196,
  956371177,
  -37748737,
  -1081798912,
  -367459921,
  5199955,
  1307541838,
  1196769896,
  55068510,
  -1056750600,
  -38338570,
  -343848880,
  1076254548,
  946955014,
  1112233569,
  527419009,
  -1180913,
  1886370815,
  1079407218,
  -293471741,
  1230254693,
  1070566223,
  842543469,
  -606252824,
  -1699643681,
  558911162,
  1153663427,
  -1106823059,
  -1015655340,
  -152127561,
  -1595253496,
  1263778129,
  -1375635898,
  1852643558,
  -142680099,
  -24427702,
  13414156,
  423065528,
  1481800123,
  -1341108261,
  -1208255635,
  1290482122,
  -1962908857,
  1666429143,
  265357137,
  -38273033,
  7229510,
  227001,
  50344753,
  -521109040,
  1102347996,
  -144985809,
  -1949595429,
  -1598535693,
  898714383,
  2145068105,
  -1531847829,
  692277091,
  -1202761018,
  1681422678,
  -285261349,
  2018836407,
  1656640256,
  1045313606,
  398149969,
  2043124281,
  -2126425270,
  1752001256,
  443332590,
  1270795011,
  432827754,
  -509638293,
  -448530698,
  822071572,
  73945535,
  -8548848,
  -281973011,
  -242545592,
  1995954808,
  84099813,
  -2072215266,
  90836480,
  87790984,
  2117847154,
  713561709,
  43958315,
  378698,
  -666426247,
  1112276129,
  734580492,
  -1865799572,
  -1448060852,
  1307316716,
  -1894231262,
  745685936,
  845740034,
  1084731923,
  941754638,
  433192702,
  710955922,
  840224600,
  889875598,
  86746128,
  -258406286,
  123858723,
  2101754114,
  1164321383,
  -1189197710,
  -1137680600,
  -2072304916,
  1285234523,
  479314398,
  423138422,
  1202855047,
  -248339496,
  277986112,
  -2125545305,
  -1070959418,
  956887693,
  -1519127260,
  -1833856761,
  -508708285,
  -2078735685,
  443263096,
  183280018,
  1203649259,
  -107280142,
  575685162,
  420867082,
  705700907,
  1912944929,
  91407510,
  -934868991,
  695094224,
  -669556653,
  -1870185504,
  -2027860647,
  -1561761620,
  175570434,
  1399230692,
  715975432,
  87397389,
  1490044896,
  714197075,
  700296034,
  704998800,
  350522908,
  -2078844216,
  601427743,
  283460155,
  89673229,
  1761829170,
  555675110,
  692614727,
  -331076376,
  298380298,
  719845147,
  175149390,
  -1213058162,
  1680051212,
  491727818,
  -325516767,
  -164301910,
  -1157456751,
  1620781492,
  -780054976,
  -909631484,
  -1383830354,
  -910343656,
  1003021347,
  546367941,
  1813782615,
  -1908397278,
  109925252,
  -1498399650,
  718253760,
  182736833,
  720052460,
  -795780223,
  96157962,
  -1822160270,
  -1876330406,
  -67751353,
  732965825,
  709107856,
  -1534396923,
  -1610249588,
  730105897,
  1679823417,
  536921753,
  1644714737,
  -2124628696,
  -1637809124,
  1209387346,
  596808436,
  1665739833,
  -1868117769,
  1717470337,
  -469046262,
  -2144709925,
  971049188,
  -1899883110,
  -492543424,
  -2087697451,
  728283328,
  -1459087697,
  281331243,
  1420977294,
  992291533,
  1179256386,
  732714171,
  1694442384,
  895747714,
  1378333472,
  1677773126,
  1440219430,
  1436614753,
  -926411326,
  573002076,
  1193629234,
  813929172,
  852475029,
  1896423952,
  1344602916,
  1388971595,
  1483103064,
  -1062322001,
  86586666,
  1616148035,
  1974558976,
  -1876193237,
  -2051926254,
  1497008320,
  1412541456,
  1132087049,
  365270104,
  227117833,
  187185920,
  1210367232,
  591071768,
  175076436,
  151761465,
  1085145446,
  516908174,
  -1500509665,
  -1000199744,
  -1693916032,
  369207947,
  711471780,
  -1463522792,
  214833856,
  -1692312172,
  472497088,
  -360621031,
  -1299303933,
  631275860,
  -1072807805,
  -1692339007,
  869237928,
  731015372,
  1457360432,
  36286494,
  -1722877127,
  177800776,
  178702723,
  -269089884,
  448965261,
  1152220744,
  -1067953102,
  604271022,
  -1299445492,
  -2141953790,
  105032277,
  1980706378,
  144255449,
  365576,
  23339680,
  1762142777,
  170393929,
  1074433608,
  -1190654446,
  -503761688,
  1016660138,
  1082139343,
  -1035861338,
  2137194666,
  -1034936056,
  -2128343036,
  839910532,
  -1945484236,
  1243613833,
  -1994111800,
  1912691761,
  186950976,
  -1198455455,
  -1834870590,
  -2067854713,
  1172570795,
  696525541,
  283910201,
  -1416593271,
  1117914370,
  -1046485850,
  277155888,
  87166582,
  682328370,
  1082425946,
  -2144769516,
  -1611554428,
  341857379,
  -460838552,
  552403586,
  947767440,
  54715771,
  104960679,
  134622225,
  -173528180,
  -1469833176,
  -1599059904,
  -360039872,
  -1874540544,
  -1062809803,
  486545034,
  1083015444,
  -2096493056,
  552447754,
  -1204778471,
  -1834965347,
  -204519378,
  815341668,
  172448531,
  -425588348,
  -1870601079,
  -2135412989,
  -1492515952,
  -469105824,
  281290632,
  -976337464,
  605438080,
  336732824,
  -1432062266,
  -1707228784,
  1448417538,
  419452761,
  12624545,
  -553107342,
  -1040170526,
  1074546241,
  -645660498,
  146344186,
  599440153,
  1493360673,
  717816317,
  956491664,
  -282572022,
  805605457,
  290227276,
  -226149431,
  -1073668036,
  118030341,
  786358273,
  -2007887224,
  956432600,
  1408886546,
  591663620,
  1887502341,
  1691212321,
  1378356354,
  104999860,
  1912603304,
  -2104548284,
  -1357085552,
  407546050,
  604175674,
  -389528548,
  -1789546727,
  -1832037007,
  -2078235772,
  575617281,
  86024594,
  -1740111207,
  -1871324900,
  1378498827,
  -2013322227,
  117703208,
  486475535,
  -1984496,
  -1266681684,
  2099315977,
  172779448,
  1919959696,
  1630758767,
  -29196344,
  1965541229,
  -791448377,
  470626867,
  -46717942,
  1279261845,
  419497473,
  1479164510,
  503963668,
  -156627768,
  277348129,
  1063783683,
  876627253,
  -2087979000,
  1147010862,
  -881310953,
  885690832,
  19323589,
  -226506673,
  1610679840,
  944219268,
  62949272,
  2146578112,
  1684668402,
  882209889,
  -1594074544,
  -1906104299,
  -1996038076,
  -3667451,
  54788040,
  675556103,
  1409367538,
  -1070349528,
  271149137,
  1409286023,
  -10217742,
  -373083344,
  33935920,
  -228722453,
  -2084563829,
  -1239998675,
  1748529132,
  1769029753,
  1728096783,
  -20227,
  1390835299,
  -503353876,
  71550321,
  1799622688,
  1169168750,
  -4877,
  1613465087,
  822551715,
  2003201359,
  1283860666,
  86470499,
  259269269,
  407848729,
  444268480,
  188784721,
  -278048198,
  -2056908810,
  -1870659591,
  1781851955,
  657028719,
  2003927173,
  1362373743,
  -1521389060,
  194019327,
  1634459885,
  2000473449,
  363073086,
  267744327,
  738183282,
  86191171,
  1869022504,
  1981358648,
  603965546,
  1807116287,
  1319655657,
  -731194026,
  1870644818,
  1664034905,
  1610502143,
  93113974,
  1638090548,
  1737453250,
  860907374,
  1668156706,
  -116785585,
  -442406571,
  1802645582,
  746074161,
  557637297,
  1986133967,
  -1200089674,
  339966760,
  1847318053,
  -2080402439,
  -1589960342,
  -2001449211,
  931604862,
  1067785585,
  -2027290652,
  1895715039,
  -1596247897,
  -1882109102,
  -375359,
  1803023939,
  1451948070,
  -700437155,
  1478798188,
  88142690,
  -7168013
}; // weak


//----- (00439EC0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebp>)
{
  int *v4; // esi
  int *v5; // edi
  char v6; // al
  bool v7; // cf
  int v8; // ebx
  int v9; // ebx
  int v10; // ett
  unsigned int v11; // eax
  bool v12; // cf
  int v13; // ebx
  int v14; // ebx
  int v15; // ett
  bool v16; // zf
  int v17; // ebx
  int v18; // ett
  unsigned int v19; // eax
  unsigned int v20; // eax
  int v21; // eax
  bool v22; // cf
  int v23; // ebx
  int v24; // ebx
  int v25; // ett
  BOOL v26; // ecx
  bool v27; // cf
  int v28; // ebx
  int v29; // ett
  int v30; // ecx
  int v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ebx
  int v35; // ett
  bool v36; // zf
  int v37; // ebx
  int v38; // ett
  unsigned int v39; // ecx
  char *v40; // edx
  char v41; // al
  int v42; // eax
  bool v43; // cc
  int *v44; // esi
  int *v45; // edi
  int v46; // ecx
  char v47; // al
  unsigned __int8 v48; // al
  int v49; // eax
  int v50; // eax
  char v51; // t0
  unsigned __int8 v52; // bl
  char *v53; // edi
  int v54; // eax
  int *v55; // ebx
  int v56; // ebp
  char v57; // al
  char *v58; // ecx
  unsigned __int8 v59; // al
  int v60; // eax
  void (__cdecl *v61)(int *, int, int, int *); // ebp
  int *v62; // edi
  int v63[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v64; // [esp+2Ch] [ebp-80h] BYREF
  int v65; // [esp+30h] [ebp-7Ch] BYREF
  char *v66; // [esp+34h] [ebp-78h]
  int *v67; // [esp+38h] [ebp-74h]
  int v68; // [esp+3Ch] [ebp-70h]
  int v69; // [esp+40h] [ebp-6Ch]
  int v70; // [esp+44h] [ebp-68h]
  int v71; // [esp+48h] [ebp-64h]
  int *v72; // [esp+4Ch] [ebp-60h]
  int v73; // [esp+50h] [ebp-5Ch]
  int v74; // [esp+54h] [ebp-58h]
  int v75; // [esp+58h] [ebp-54h]
  int v76; // [esp+5Ch] [ebp-50h] BYREF

  v72 = &v76;
  v70 = a3;
  v69 = a2;
  v68 = a1;
  v4 = dword_434000;
  v5 = &dword_434000[-52224];
  v67 = &dword_434000[-52224];
  while ( 1 )
  {
    v9 = *v4;
    v7 = (unsigned int)v4++ < 0xFFFFFFFC;
    v10 = v7 + v9;
    v7 = __CFADD__(v7, v9) | __CFADD__(v9, v10);
    v8 = v9 + v10;
    do
    {
      if ( v7 )
      {
        v6 = *(_BYTE *)v4;
        v4 = (int *)((char *)v4 + 1);
        *(_BYTE *)v5 = v6;
        v5 = (int *)((char *)v5 + 1);
      }
      else
      {
        v11 = 1;
        while ( 1 )
        {
          v12 = __CFADD__(v8, v8);
          v13 = 2 * v8;
          if ( !v13 )
          {
            v14 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v15 = v7 + v14;
            v12 = __CFADD__(v7, v14) | __CFADD__(v14, v15);
            v13 = v14 + v15;
          }
          v11 += v12 + v11;
          v7 = __CFADD__(v13, v13);
          v16 = 2 * v13 == 0;
          v8 = 2 * v13;
          if ( v7 )
          {
            if ( !v16 )
              break;
            v17 = *v4;
            v7 = (unsigned int)v4++ < 0xFFFFFFFC;
            v18 = v7 + v17;
            v7 = __CFADD__(v7, v17) | __CFADD__(v17, v18);
            v8 = v17 + v18;
            if ( v7 )
              break;
          }
        }
        v7 = v11 < 3;
        v19 = v11 - 3;
        if ( !v7 )
        {
          v20 = v19 << 8;
          LOBYTE(v20) = *(_BYTE *)v4;
          v4 = (int *)((char *)v4 + 1);
          v21 = ~v20;
          if ( !v21 )
          {
            v44 = v67;
            v45 = v67;
            v46 = 44;
            while ( 1 )
            {
              v47 = *(_BYTE *)v45;
              v45 = (int *)((char *)v45 + 1);
              v48 = v47 + 24;
              while ( v48 <= 1u && !*(_BYTE *)v45 )
              {
                v49 = *v45;
                LOWORD(v49) = BYTE1(*v45);
                v50 = __ROL4__(v49, 16);
                v51 = v50;
                LOBYTE(v50) = BYTE1(v50);
                BYTE1(v50) = v51;
                v52 = *((_BYTE *)v45 + 4) + 24;
                *v45 = (int)v44 + v50 - (_DWORD)v45;
                v45 = (int *)((char *)v45 + 5);
                v48 = v52;
                if ( !--v46 )
                {
                  v53 = (char *)(v44 + 55296);
LABEL_38:
                  v54 = *(_DWORD *)v53;
                  if ( *(_DWORD *)v53 )
                  {
                    v55 = (int *)((char *)v44 + *((_DWORD *)v53 + 1));
                    v53 += 8;
                    v56 = ((int (__cdecl *)(int, int, int, int, int, int *, int, int, int))v44[60982])(
                            (int)v44 + v54 + 243688,
                            v68,
                            v69,
                            v70,
                            v71,
                            v72,
                            v73,
                            v74,
                            v75);
                    while ( 1 )
                    {
                      v57 = *v53++;
                      if ( !v57 )
                        goto LABEL_38;
                      v58 = v53;
                      v66 = v53;
                      v59 = v57 - 1;
                      do
                      {
                        if ( !v58 )
                          break;
                        v16 = *v53++ == (char)v59;
                        --v58;
                      }
                      while ( !v16 );
                      v60 = ((int (__cdecl *)(int, char *))v44[60983])(v56, v66);
                      if ( !v60 )
                        break;
                      *v55++ = v60;
                    }
                    v54 = ((int (*)(void))v44[60987])();
                  }
                  v61 = (void (__cdecl *)(int *, int, int, int *))v44[60984];
                  v62 = v44 - 1024;
                  v64 = v54;
                  v61(v44 - 1024, 4096, 4, &v64);
                  *((_BYTE *)v62 + 495) &= 0x7Fu;
                  *((_BYTE *)v62 + 535) &= 0x7Fu;
                  v61(v44 - 1024, 4096, v63[0], v63);
                  do
                    v64 = 0;
                  while ( &v64 != &v65 - 32 );
                  JUMPOUT(0x41C227);
                }
              }
            }
          }
          a4 = v21;
        }
        v22 = __CFADD__(v8, v8);
        v23 = 2 * v8;
        if ( !v23 )
        {
          v24 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v25 = v7 + v24;
          v22 = __CFADD__(v7, v24) | __CFADD__(v24, v25);
          v23 = v24 + v25;
        }
        v26 = v22;
        v27 = __CFADD__(v23, v23);
        v8 = 2 * v23;
        if ( !v8 )
        {
          v28 = *v4;
          v7 = (unsigned int)v4++ < 0xFFFFFFFC;
          v29 = v7 + v28;
          v27 = __CFADD__(v7, v28) | __CFADD__(v28, v29);
          v8 = v28 + v29;
        }
        v30 = v26 + v27 + v26;
        if ( !v30 )
        {
          v31 = 1;
          while ( 1 )
          {
            v32 = __CFADD__(v8, v8);
            v33 = 2 * v8;
            if ( !v33 )
            {
              v34 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v35 = v7 + v34;
              v32 = __CFADD__(v7, v34) | __CFADD__(v34, v35);
              v33 = v34 + v35;
            }
            v31 += v32 + v31;
            v7 = __CFADD__(v33, v33);
            v36 = 2 * v33 == 0;
            v8 = 2 * v33;
            if ( v7 )
            {
              if ( !v36 )
                break;
              v37 = *v4;
              v7 = (unsigned int)v4++ < 0xFFFFFFFC;
              v38 = v7 + v37;
              v7 = __CFADD__(v7, v37) | __CFADD__(v37, v38);
              v8 = v37 + v38;
              if ( v7 )
                break;
            }
          }
          v30 = v31 + 2;
        }
        v39 = (a4 < 0xFFFFF300) + v30 + 1;
        v40 = (char *)v5 + a4;
        if ( a4 <= 0xFFFFFFFC )
        {
          do
          {
            v42 = *(_DWORD *)v40;
            v40 += 4;
            *v5++ = v42;
            v43 = v39 <= 4;
            v39 -= 4;
          }
          while ( !v43 );
          v5 = (int *)((char *)v5 + v39);
        }
        else
        {
          do
          {
            v41 = *v40++;
            *(_BYTE *)v5 = v41;
            v5 = (int *)((char *)v5 + 1);
            --v39;
          }
          while ( v39 );
        }
      }
      v7 = __CFADD__(v8, v8);
      v8 *= 2;
    }
    while ( v8 );
  }
}
// 43A043: positive sp value 50 has been found
// 43A043: control flows out of bounds to 41C227
// 434000: using guessed type int dword_434000[512];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
