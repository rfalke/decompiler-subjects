/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

_DWORD __far sub_40102A(); // weak
void sub_40110D();
// void __usercall sub_40114C(int@<eax>, int@<edx>, int@<ebx>, int@<edi>, int@<esi>);
void sub_401180();
void start();
// char __usercall sub_401264@<al>(int@<eax>, int@<edi>, char@<sil>);
// void __usercall sub_4012F5(char@<ah>, char@<dl>, int@<ecx>);
// void __usercall sub_40134A(int@<eax>, int@<edx>, int@<ecx>, unsigned int@<ebx>, __int32@<edi>);
// void __usercall sub_40224F(int@<eax>, int@<edx>, int@<ebx>);
// void __usercall sub_40246D(unsigned __int8@<dl>, int@<ecx>, int@<ebx>);
void sub_4025C8();
// char __usercall sub_4025E8@<al>(int _EAX@<eax>, int@<edx>, __int32@<ecx>, int@<ebx>, int@<ebp>, int@<edi>, int@<esi>, double@<st6>, double@<st5>, double@<st4>, double@<st3>, double@<st2>, double@<st1>, double@<st0>);
// char __userpurge sub_402737@<al>(int (__fastcall **)(int, char *, void *)@<edx>, int@<ebx>, int@<edi>, int _ESI@<esi>, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int);
// void __usercall sub_402778(__int32@<eax>);
_DWORD sub_402798(); // weak
_DWORD sub_40285A(); // weak
void sub_40296B();
int __fastcall sub_4029B3(_DWORD, _DWORD, _DWORD); // weak
// void __usercall sub_402A9C(int@<eax>, int@<edx>, int@<ecx>, int@<ebx>, int@<edi>, int@<esi>);
void __fastcall sub_402B5A(int, int);
// void __usercall sub_402B74(int@<esi>);
// void __usercall sub_402BD3(int (__fastcall *)(int, char *, void *)@<eax>, int@<edx>, __int16@<bx>, int@<edi>, char@<sil>);
// void __usercall sub_402C7C(int@<eax>, int@<ecx>);
// double __userpurge sub_402CE0@<st0>(__int16@<dx>, int@<ecx>, int@<ebx>, double@<st0>, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int);
_DWORD __far sub_402CFB(); // weak
void sub_402D36();
void sub_402DE8();
double __far sub_402E0A(); // weak
void sub_402E43();
// void __usercall sub_402EAD(__int32@<eax>);

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN sub_40104C; // weak
_UNKNOWN loc_4011BB; // weak
_UNKNOWN loc_402011; // weak
_UNKNOWN loc_4021D3; // weak
_UNKNOWN loc_40229F; // weak
_UNKNOWN loc_402D8C; // weak


//----- (0040102A) --------------------------------------------------------
#error "40102A: function frame is wrong (funcsize=0)"

//----- (0040104C) --------------------------------------------------------
#error "40104C: stack frame is too big (funcsize=0)"

//----- (0040110D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40110D()
{
  JUMPOUT(0x40109B);
}
// 401111: positive sp value 4 has been found
// 401124: control flows out of bounds to 40109B

//----- (0040114C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40114C(int a1@<eax>, int a2@<edx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>)
{
  void *v5; // eax
  int v6; // edx
  int v7; // edi
  unsigned int v8; // ebx
  int v9; // edx
  int v10; // esi
  __int32 v11; // edi
  char v12; // cf
  char v13; // al
  int *v14; // eax
  int v15; // ecx
  int v16; // ecx
  int v17; // edx
  int v18; // eax
  int v19; // edx
  void *v20; // [esp+10h] [ebp-4h]
  void *retaddr; // [esp+14h] [ebp+0h]

  *(&retaddr - 6) = v20;
  v6 = a4 | a2;
  v7 = a1 + a4;
  v8 = a3 + 1;
  v9 = v7 + v6;
  v10 = a5 + 1;
  v11 = v7 - v9;
  sub_40134A(a1, v9, v10, v8, v11);
  LOBYTE(v14) = v13 - (v12 + 15);
  v11 += 4;
  *(_BYTE *)(v10 + 82) = (_BYTE)v14;
  v16 = v11 + v15;
  v18 = *v14;
  v19 = v8 + v17 - v16;
  sub_40114C(
    *(_DWORD *)(v18 + 8),
    (v18 ^ (v19 + 1)) - (v16 - v19) + 1,
    *(_DWORD *)(v18 + 8) - v11,
    ((v16 - v19) | v18 | v18 ^ (v19 + 1)) - ((v8 + v8 + v11) | v8) - 1,
    ((v8 + v8 + v11) | v8) - 1);
  if ( !v12 )
  {
    v20 = v5;
    JUMPOUT(0x401375);
  }
  JUMPOUT(0x400FCA);
}
// 401006: positive sp value 4 has been found
// 401025: control flows out of bounds to 401375
// 40101D: control flows out of bounds to 400FCA
// 401161: variable 'v13' is possibly undefined
// 401161: variable 'v12' is possibly undefined
// 401167: variable 'v15' is possibly undefined
// 40116B: variable 'v14' is possibly undefined
// 401169: variable 'v17' is possibly undefined
// 40101F: variable 'v5' is possibly undefined

//----- (00401180) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_401180()
{
  JUMPOUT(0x401022);
}
// 401184: positive sp value 4 has been found
// 401193: control flows out of bounds to 401022

//----- (0040120E) --------------------------------------------------------
void start()
{
  JUMPOUT(0x401296);
}
// 40121F: control flows out of bounds to 401296

//----- (00401264) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
char __usercall sub_401264@<al>(int a1@<eax>, int a2@<edi>, char a3@<sil>)
{
  int v3; // eax
  char v4; // si
  _WORD *v5; // edi
  int v6; // eax
  char v7; // dl
  int v8; // ecx
  char v9; // pf
  int v10; // ecx
  int v11; // ecx
  int v12; // eax

  v3 = a1 - 1;
  v4 = v3 | a3;
  v5 = (_WORD *)(a2 - v3);
  v6 = ((int (*)(void))loc_4011BB)();
  if ( !v9 )
    JUMPOUT(0x401234);
  v10 = v8 - 1;
  if ( v10 < 0 )
    JUMPOUT(0x401214);
  if ( v10 != 2 )
    JUMPOUT(0x4012A6);
  sub_4012F5(SBYTE1(v6), (unsigned __int8)v5 ^ (v4 + v7), 0);
  BYTE1(v12) = -108;
  *v5 = __FS__;
  if ( __CFADD__((char *)v5 - 1, v11 + 2)
    || (_WORD *)((char *)v5 + v11 - 2) == (_WORD *)-1
    || !__CFADD__((char *)v5 - 1, v11 + 2) && (_WORD *)((char *)v5 + v11 - 2) != (_WORD *)-1 )
  {
    JUMPOUT(0x4010F2);
  }
  LOBYTE(v12) = v12 & 0xF4;
  if ( !v12 )
    JUMPOUT(0x4012B1);
  return v12;
}
// 4010B8: positive sp value 4 has been found
// 4012AE: control flows out of bounds to 4012B3
// 4010E5: control flows out of bounds to 4012B1
// 401100: control flows out of bounds to 401077
// 401278: control flows out of bounds to 401234
// 40127B: control flows out of bounds to 401214
// 40127E: control flows out of bounds to 4012A6
// 4010C3: control flows out of bounds to 4010F2
// 4012A7: conditional instruction was optimized away because edx.4>=1
// 401278: variable 'v9' is possibly undefined
// 40127A: variable 'v8' is possibly undefined
// 401285: variable 'v7' is possibly undefined
// 4010BA: variable 'v11' is possibly undefined
// 4010D4: variable 'v12' is possibly undefined

//----- (004012F5) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_4012F5(char a1@<ah>, char a2@<dl>, int a3@<ecx>)
{
  void *v3; // [esp+24h] [ebp-4h]
  void *retaddr; // [esp+28h] [ebp+0h]

  *(&retaddr - 11) = v3;
  BYTE1(a3) = a1 + (a2 | BYTE1(a3));
  ((void (__thiscall *)(int))sub_40102A)(a3);
  JUMPOUT(0x4011F8);
}
// 4011DC: positive sp value 4 has been found
// 4011F6: control flows out of bounds to 4011F8
// 40102A: using guessed type _DWORD __far sub_40102A();

//----- (0040134A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40134A(int a1@<eax>, int a2@<edx>, int a3@<ecx>, unsigned int a4@<ebx>, __int32 a5@<edi>)
{
  _DWORD *v5; // edx
  int v6; // eax
  int v7; // edi
  bool v8; // cf
  bool v9; // of
  int v10; // ebx
  int v11; // eax
  _DWORD *v12; // edi
  __int32 v13; // [esp-8h] [ebp-8h] BYREF

  _InterlockedExchange(&v13, a5);
  v5 = (_DWORD *)(a4 ^ a2);
  v6 = a1 & 0xEEEEEEEE;
  v7 = v13 - 1;
  v8 = a4 < v13 - 1;
  v9 = __OFSUB__(a4, v13 - 1);
  v10 = a4 - (v13 - 1);
  if ( !v9 && v9 )
  {
    *v5 += v6 + v8;
    LOBYTE(v6) = v6 - 122;
    sub_402A9C(v6, (int)v5, a3, v10, v7, (int)v5);
    __asm { icebp }
    *(_DWORD *)v7 = v11;
    v12 = (_DWORD *)(v7 + 4);
    *v12 = v11;
    v12[1] = v11;
    JUMPOUT(0x592726F2);
  }
  ((void (__fastcall *)(unsigned int, char *))sub_40104C)(
    ((unsigned int)v5 + 1) ^ a3,
    (char *)v5 + -v10 - (v6 ^ v7) + 2);
  JUMPOUT(0x4012F1);
}
// 401381: positive sp value 8 has been found
// 4012EC: control flows out of bounds to 4012F1
// 401386: control flows out of bounds to 592726F2
// 40137F: variable 'v11' is possibly undefined

//----- (0040224F) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40224F(int a1@<eax>, int a2@<edx>, int a3@<ebx>)
{
  int v3; // eax
  int v4; // [esp+1Ch] [ebp-8h]
  int v5; // [esp+20h] [ebp-4h]

  *(&v5 - 10) = v4;
  BYTE1(a1) -= 5;
  v3 = a3 ^ a1;
  if ( a2 == -1581400948 )
  {
    LOWORD(v3) = ~(_WORD)v3;
    if ( v3 + 1 < 0 == __OFADD__(1, v3) && v3 + 1 < 0 != __OFADD__(1, v3) )
    {
      __asm { fsubr   st(2), st }
      JUMPOUT(0x4025A9);
    }
    JUMPOUT(0x402909);
  }
  JUMPOUT(0x402E1A);
}
// 4025A6: positive sp value 8 has been found
// 4025A6: inconsistent fpu stack
// 4025A8: control flows out of bounds to 4025A9
// 402962: control flows out of bounds to 402909
// 402260: control flows out of bounds to 402E1A

//----- (0040246D) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_40246D(unsigned __int8 a1@<dl>, int a2@<ecx>, int a3@<ebx>)
{
  bool v4; // cf
  int v5; // edx
  char v7; // zf

  v4 = (unsigned __int8)a3 < a1;
  LOBYTE(a3) = a3 - a1;
  BYTE1(a3) -= v4 - 28;
  v5 = a3;
  LOBYTE(v5) = BYTE1(a3);
  ((void (__fastcall *)(int, int))sub_402E0A)(a2, v5);
  __asm { lock }
  if ( !(v4 | v7) )
  {
    __asm { daa }
    JUMPOUT(0x402494);
  }
  __asm { aam     5Eh ; '^' }
  JUMPOUT(0x4027B8);
}
// 40243F: positive sp value 8 has been found
// 40248E: control flows out of bounds to 402494
// 402449: control flows out of bounds to 4027B8
// 40248A: variable 'v4' is possibly undefined
// 40248A: variable 'v7' is possibly undefined
// 402E0A: using guessed type double __far sub_402E0A();

//----- (004025C8) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_4025C8()
{
  void *v0; // [esp+Ch] [ebp-4h]
  void *retaddr; // [esp+10h] [ebp+0h]

  *(&retaddr - 5) = v0;
  JUMPOUT(0x402936);
}
// 402074: positive sp value 4 has been found
// 402081: control flows out of bounds to 402936

//----- (004025E8) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
char __usercall sub_4025E8@<al>(
        int _EAX@<eax>,
        int a2@<edx>,
        __int32 a3@<ecx>,
        int a4@<ebx>,
        int a5@<ebp>,
        int a6@<edi>,
        int a7@<esi>,
        double a8@<st6>,
        double a9@<st5>,
        double a10@<st4>,
        double a11@<st3>,
        double a12@<st2>,
        double a13@<st1>,
        double a14@<st0>)
{
  bool v16; // of
  int (__fastcall **v17)(int, char *, void *); // edx
  bool v18; // zf
  _BYTE *v19; // esi
  int v21; // edi
  _BYTE *v22; // edi
  int v23; // ebx
  char result; // al
  char v25; // cf
  char v26; // dh
  __int32 v27; // [esp-C084h] [ebp-C084h] BYREF
  int v28; // [esp-C080h] [ebp-C080h]
  int v29; // [esp-C07Ch] [ebp-C07Ch]
  int v30; // [esp-C078h] [ebp-C078h]
  int v31; // [esp-C074h] [ebp-C074h]
  int v32; // [esp-C070h] [ebp-C070h]
  int v33; // [esp-C06Ch] [ebp-C06Ch]
  int v34; // [esp-C068h] [ebp-C068h]
  int v35; // [esp-C064h] [ebp-C064h]
  int v36; // [esp-C060h] [ebp-C060h]
  int v37; // [esp-C05Ch] [ebp-C05Ch]
  int v38; // [esp-C058h] [ebp-C058h]
  int v39; // [esp-C054h] [ebp-C054h]
  int v40; // [esp-C050h] [ebp-C050h]
  int v41; // [esp-C04Ch] [ebp-C04Ch]
  int v42; // [esp-C048h] [ebp-C048h]
  int v43; // [esp-C044h] [ebp-C044h]
  int v44; // [esp-C040h] [ebp-C040h]
  int v45; // [esp-C03Ch] [ebp-C03Ch]
  int v46; // [esp-C038h] [ebp-C038h]
  int v47; // [esp-C034h] [ebp-C034h]
  int v48; // [esp-C030h] [ebp-C030h]
  int v49; // [esp-C02Ch] [ebp-C02Ch]
  int v50; // [esp-C028h] [ebp-C028h]
  int v51; // [esp-C024h] [ebp-C024h]
  int v52; // [esp-C020h] [ebp-C020h]
  int v53; // [esp-C01Ch] [ebp-C01Ch]
  int v54; // [esp-C018h] [ebp-C018h]
  int v55; // [esp-C014h] [ebp-C014h]
  int v56; // [esp-C010h] [ebp-C010h]
  int v57; // [esp-C00Ch] [ebp-C00Ch]
  int v58; // [esp-C008h] [ebp-C008h]
  int v59; // [esp-C004h] [ebp-C004h]
  int v60; // [esp-C000h] [ebp-C000h]
  int v61; // [esp-BFFCh] [ebp-BFFCh]
  int v62; // [esp-BFF8h] [ebp-BFF8h]
  int v63; // [esp-BFF4h] [ebp-BFF4h]
  int v64; // [esp-BFF0h] [ebp-BFF0h]
  int v65; // [esp-BFECh] [ebp-BFECh]
  int v66; // [esp-BFE8h] [ebp-BFE8h]
  int v67; // [esp-BFE4h] [ebp-BFE4h]
  int v68; // [esp-BFE0h] [ebp-BFE0h]
  int v69; // [esp-BFDCh] [ebp-BFDCh]
  int v70; // [esp-BFD8h] [ebp-BFD8h]
  int v71; // [esp-BFD4h] [ebp-BFD4h]
  int v72; // [esp-BFD0h] [ebp-BFD0h]
  int v73; // [esp-BFCCh] [ebp-BFCCh]
  int v74; // [esp-BFC8h] [ebp-BFC8h]
  int v75; // [esp-BFC4h] [ebp-BFC4h]
  int v76; // [esp-BFC0h] [ebp-BFC0h]
  int v77; // [esp-BFBCh] [ebp-BFBCh]
  int v78; // [esp-BFB8h] [ebp-BFB8h]
  int v79; // [esp-BFB4h] [ebp-BFB4h]
  int v80; // [esp-BFB0h] [ebp-BFB0h]
  int v81; // [esp-BFACh] [ebp-BFACh]
  int v82; // [esp-BFA8h] [ebp-BFA8h]
  int v83; // [esp-BFA4h] [ebp-BFA4h]
  int v84; // [esp-BFA0h] [ebp-BFA0h]
  int v85; // [esp-BF9Ch] [ebp-BF9Ch]
  int v86; // [esp-BF98h] [ebp-BF98h]

  _InterlockedExchange(&v27, a3);
  __asm { rep pop ecx }
  BYTE1(a4) = BYTE1(a2) + 1;
  _EBX = a7 + a4 + 1;
  BYTE1(_EBX) ^= BYTE1(a2);
  LOBYTE(_EBX) = -(char)_EBX;
  v16 = __OFADD__(48, a2);
  v17 = (int (__fastcall **)(int, char *, void *))(a2 + 48);
  if ( !v16 && v16 )
  {
    *(_DWORD *)(a5 - 2010929563) = _ECX;
    BYTE1(_EBX) = 1
                - ((BYTE1(_EBX) != 0)
                 - BYTE1(_EBX)
                 + 16
                 - ((__CFADD__(BYTE1(_EBX) != 0, -BYTE1(_EBX)) | __CFADD__((BYTE1(_EBX) != 0) - BYTE1(_EBX), 16))
                  - 42));
    LOBYTE(_EBX) = BYTE1(v28) | _EBX;
    v18 = BYTE1(_EBX)++ == 0xFF;
    if ( !v18 && v18 )
    {
      v19 = (_BYTE *)(a7 - 1);
      LOBYTE(_EAX) = *v19;
      if ( !__SETP__(v19, 0) )
      {
        v28 = a6;
        __asm { aas }
        LOBYTE(_EAX) = _EAX & 0x75;
        __asm { xlat }
        ((void (__usercall *)(int, double@<st0>, double@<st1>, double@<st2>, double@<st3>, double@<st4>, double@<st5>, double@<st6>))sub_402CFB)(
          a6,
          a14,
          a13,
          a12,
          a11,
          a10,
          a9,
          a8);
        JUMPOUT(0x488D2237);
      }
      JUMPOUT(0x402692);
    }
    JUMPOUT(0x40221F);
  }
  v21 = _EBX + a6;
  BYTE1(_ECX) -= (_BYTE)v17;
  BYTE1(_EBX) = -8;
  v22 = (_BYTE *)((unsigned int)v17 | v21);
  v23 = _ECX + _EBX;
  LOBYTE(v23) = v23 - BYTE1(_EAX);
  result = sub_402737(
             v17,
             v23 - _EAX,
             (int)v22,
             a7,
             v28,
             v29,
             v30,
             v31,
             v32,
             v33,
             v34,
             v35,
             v36,
             v37,
             v38,
             v39,
             v40,
             v41,
             v42,
             v43,
             v44,
             v45,
             v46,
             v47,
             v48,
             v49,
             v50,
             v51,
             v52,
             v53,
             v54,
             v55,
             v56,
             v57,
             v58,
             v59,
             v60,
             v61,
             v62,
             v63,
             v64,
             v65,
             v66,
             v67,
             v68,
             v69,
             v70,
             v71,
             v72,
             v73,
             v74,
             v75,
             v76,
             v77,
             v78,
             v79,
             v80,
             v81,
             v82,
             v83,
             v84,
             v85,
             v86);
  *v22 -= v25 + v26;
  return result;
}
// 402A41: positive sp value C084 has been found
// 402655: control flows out of bounds to 488D2237
// 402629: control flows out of bounds to 40221F
// 40263B: control flows out of bounds to 402692
// 402A43: variable 'v25' is possibly undefined
// 402A43: variable 'v26' is possibly undefined
// 402CFB: using guessed type _DWORD __far sub_402CFB();

//----- (00402737) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
char __userpurge sub_402737@<al>(
        int (__fastcall **a1)(int, char *, void *)@<edx>,
        int a2@<ebx>,
        int a3@<edi>,
        int _ESI@<esi>,
        int a5,
        int a6,
        int a7,
        int a8,
        int a9,
        int a10,
        int a11,
        int a12,
        int a13,
        int a14,
        int a15,
        int a16,
        int a17,
        int a18,
        int a19,
        int a20,
        int a21,
        int a22,
        int a23,
        int a24,
        int a25,
        int a26,
        int a27,
        int a28,
        int a29,
        int a30,
        int a31,
        int a32,
        int a33,
        int a34,
        int a35,
        int a36,
        int a37,
        int a38,
        int a39,
        int a40,
        int a41,
        int a42,
        int a43,
        int a44,
        int a45,
        int a46,
        int a47,
        int a48,
        int a49,
        int a50,
        int a51,
        int a52,
        int a53,
        int a54,
        int a55,
        int a56,
        int a57,
        int a58,
        int a59,
        int a60,
        int a61,
        int a62,
        int a63)
{
  int v64; // edi
  char result; // al
  char v67; // dl
  int v68; // ecx

  v64 = a2 ^ a3;
  LOBYTE(a2) = 75;
  sub_402BD3(*a1, (int)a1, a2, v64, _ESI);
  __asm
  {
    aaa
    outsb
  }
  *(_BYTE *)(v68 + 726282817) ^= v67;
  return result;
}
// 402740: positive sp value 4 has been found
// 402753: variable 'v67' is possibly undefined
// 402753: variable 'v68' is possibly undefined
// 402737: too many input arguments, some ignored

//----- (00402778) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402778(__int32 a1@<eax>)
{
  __int32 v2; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v2, a1);
  __asm { repne pop eax }
  ((void (*)(void))loc_402011)();
  JUMPOUT(0x402ACE);
}
// 402782: positive sp value 4 has been found
// 402AC9: control flows out of bounds to 402ACE

//----- (00402798) --------------------------------------------------------
#error "402885: cannot convert to microcode (funcsize=57)"

//----- (004027E0) --------------------------------------------------------
#error "4027E0: function frame is wrong (funcsize=0)"

//----- (0040285A) --------------------------------------------------------
#error "4029E6: cannot convert to microcode (funcsize=35)"

//----- (004028E2) --------------------------------------------------------
#error "4028E2: function frame is wrong (funcsize=0)"

//----- (0040296B) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_40296B()
{
  JUMPOUT(0x402A47);
}
// 40296F: positive sp value 4 has been found
// 402990: control flows out of bounds to 402991
// 402980: control flows out of bounds to 402A47
// 40298A: conditional instruction was optimized away because dl.1>=0

//----- (004029B3) --------------------------------------------------------
#error "4029B3: function frame is wrong (funcsize=0)"

//----- (00402A9C) --------------------------------------------------------
void __usercall sub_402A9C(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<ebx>, int a5@<edi>, int a6@<esi>)
{
  int v6; // ecx
  int v7; // ecx
  bool v8; // cf
  int v9; // edx
  char v10; // zf
  int v11; // ecx
  int v12; // ecx
  int v13; // edi
  int v14; // ecx
  int v15; // edx
  int v16; // eax

  LOBYTE(a2) = a2 + 1;
  v14 = a3 + 1;
  v13 = v14 + a5 - 1;
  BYTE1(v14) = 86;
  BYTE1(a2) = -(char)(a1 + BYTE1(a2));
  v15 = v14 ^ a2;
  v16 = a1 + 1;
  _EBX = a4 + 1;
  while ( 1 )
  {
    ++BYTE1(v14);
    v7 = v14 - v16;
    v8 = __CFADD__(a6, _EBX);
    _EBX += a6;
    BYTE1(v7) = (__CFADD__(v8, (_BYTE)v16) | __CFADD__(v8 + v16, 59)) + BYTE1(v7) - 46;
    sub_4029B3(v7, v15, 64);
    v12 = v11 - 1;
    if ( !v10 || !v12 )
      break;
    *(_DWORD *)(v9 + 737477160) += v12;
    _disable();
    v13 ^= a6;
    sub_402B74(a6);
    BYTE1(_EBX) = 99;
    __asm { fldenv  byte ptr [ebx] }
    LOBYTE(v16) = v16 & 0x9E;
    v14 = v6 - 1;
    if ( !(_BYTE)v16 )
    {
      if ( v14 )
        JUMPOUT(0x40266B);
    }
  }
  JUMPOUT(0x4026AD);
}
// 4026AB: control flows out of bounds to 4026AD
// 40268E: control flows out of bounds to 40266B
// 402671: variable 'v9' is possibly undefined
// 40268C: variable 'v16' is possibly undefined
// 40268E: variable 'v6' is possibly undefined
// 4026A4: variable 'v15' is possibly undefined
// 4026A9: variable 'v11' is possibly undefined
// 4026A9: variable 'v10' is possibly undefined
// 4029B3: using guessed type int __fastcall sub_4029B3(_DWORD, _DWORD, _DWORD);

//----- (00402B5A) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall sub_402B5A(int a1, int a2)
{
  __int64 v2; // rax
  char v3; // ch

  v2 = ((__int64 (__cdecl *)(_DWORD))((char *)&loc_402D8C + 3))(*(_DWORD *)(a2 + 8));
  *(_BYTE *)HIDWORD(v2) += v3 + ((unsigned int)v2 < 0x1B5AC0AB);
  __asm { iret }
}
// 402B5E: positive sp value 4 has been found
// 402B3D: control flows out of bounds to 402B3E
// 402B3B: variable 'v3' is possibly undefined

//----- (00402B74) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402B74(int a1@<esi>)
{
  int v1; // eax
  char v2; // cf

  v1 = ((int (*)(void))loc_4021D3)();
  *(_DWORD *)(v1 + 11) += a1 + v2;
  sub_4025C8();
}
// 4025AA: positive sp value 4 has been found
// 4025C3: variable 'v2' is possibly undefined

//----- (00402BD3) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402BD3(
        int (__fastcall *a1)(int, char *, void *)@<eax>,
        int a2@<edx>,
        __int16 a3@<bx>,
        int a4@<edi>,
        char a5@<sil>)
{
  int v5; // ecx
  bool v6; // cf
  char *v7; // edx
  int v8; // eax
  char v9; // dl
  int v10; // eax
  unsigned __int8 v11; // dl
  int v12; // [esp+14h] [ebp-Ch]
  int v13; // [esp+18h] [ebp-8h]
  void *v14; // [esp+1Ch] [ebp-4h]
  void *retaddr; // [esp+20h] [ebp+0h]

  *(&retaddr - 9) = v14;
  BYTE1(a2) |= HIBYTE(a3);
  v14 = 0;
  LOBYTE(a2) = __CFADD__(a4 ^ (a5 | -(char)a3), -79) + a2 + 1 + 44;
  v7 = (char *)a1 + a2;
  v5 = a4;
  v6 = BYTE1(v7) < BYTE1(a1);
  BYTE1(v7) -= BYTE1(a1);
  LOBYTE(v5) = a4 - (v6 - 37);
  LOBYTE(v7) = (_BYTE)v7 - (((unsigned __int8)a4 < (unsigned __int8)(v6 - 37)) - 42);
  v6 = __CFADD__(BYTE1(v7), 36);
  BYTE1(v7) += 36;
  if ( !v6 && v6 )
  {
    v13 = v5;
    JUMPOUT(0x402107);
  }
  LOBYTE(v7) = (_BYTE)v7 - 1;
  v8 = a1(v5, v7, v14);
  v11 = (a4 | v9) - 37;
  v12 = v8;
  if ( (unsigned __int8)(v8 | v11) >= 0x76u
    && ((unsigned __int8)v8 | v11) != 119
    && ((unsigned __int8)(v8 | v11) < 0x76u || ((unsigned __int8)v8 | v11) == 119) )
  {
    if ( (v8 & 0x80u) == 0 )
      JUMPOUT(0x402CDF);
    JUMPOUT(0x402C67);
  }
  sub_40296B();
  v13 = v10;
  JUMPOUT(0x4024EC);
}
// 402BD7: positive sp value 4 has been found
// 402106: control flows out of bounds to 402107
// 4024EB: control flows out of bounds to 4024EC
// 402CDE: control flows out of bounds to 402CDF
// 402CDC: control flows out of bounds to 402C67
// 402360: variable 'v9' is possibly undefined
// 4024EB: variable 'v10' is possibly undefined

//----- (00402C7C) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402C7C(int a1@<eax>, int a2@<ecx>)
{
  void *v2; // [esp+2Ch] [ebp-4h]
  void *retaddr; // [esp+30h] [ebp+0h]

  *(&retaddr - 13) = v2;
  v2 = *(void **)(a2 + a1 + 16);
  JUMPOUT(0x402166);
}
// 4026E5: positive sp value 4 has been found
// 4026F4: control flows out of bounds to 402166

//----- (00402CE0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
double __userpurge sub_402CE0@<st0>(
        __int16 a1@<dx>,
        int a2@<ecx>,
        int a3@<ebx>,
        double a4@<st0>,
        int a5,
        int a6,
        int a7,
        int a8,
        int a9,
        int a10,
        int a11,
        int a12,
        int a13,
        int a14,
        int a15,
        int a16,
        int a17,
        int a18,
        int a19,
        int a20,
        int a21,
        int a22,
        int a23,
        int a24,
        int a25,
        int a26,
        int a27,
        int a28,
        int a29,
        int a30,
        int a31,
        int a32,
        int a33,
        int a34,
        int a35,
        int a36,
        int a37,
        int a38,
        int a39,
        int a40,
        int a41,
        int a42,
        int a43,
        int a44,
        int a45,
        int a46,
        int a47,
        int a48,
        int a49,
        int a50,
        int a51,
        int a52,
        int a53,
        int a54,
        int a55,
        int a56,
        int a57,
        int a58,
        int a59,
        int a60,
        int a61,
        int a62,
        int a63)
{
  __int16 v64; // dx
  int v65; // eax
  __int32 v66; // eax
  __int64 v72; // rax
  int v73; // ecx
  int v75; // [esp-4h] [ebp-4h]

  v64 = a1 + 1;
  v65 = a3 + 1;
  LOBYTE(v65) = -(char)(HIBYTE(v64) + a3 + 1);
  v66 = a2 ^ v65;
  BYTE1(v66) |= (_BYTE)v64 + 1;
  sub_402778(v66);
  sub_4025C8();
  __asm { lock adc esp, ebx }
  v72 = ((__int64 (__stdcall *)(int))((char *)&loc_40229F + 2))(v75);
  *(_DWORD *)HIDWORD(v72) ^= v73;
  return a4 * (double)*(int *)(HIDWORD(v72) - 1227684922);
}
// 402DCA: positive sp value 8 has been found
// 402DC5: variable 'v75' is possibly undefined
// 402DCF: variable 'v73' is possibly undefined
// 402CE0: too many input arguments, some ignored

//----- (00402CFB) --------------------------------------------------------
#error "402CFB: function frame is wrong (funcsize=0)"

//----- (00402D36) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402D36()
{
  void *v0; // [esp+1Ch] [ebp-4h]
  void *retaddr; // [esp+20h] [ebp+0h]

  *(&retaddr - 9) = v0;
  JUMPOUT(0x40218D);
}
// 402D3A: positive sp value 4 has been found
// 402D4D: control flows out of bounds to 40218D

//----- (00402DE8) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402DE8()
{
  void *v0; // [esp+20h] [ebp-4h]
  void *retaddr[2]; // [esp+24h] [ebp+0h]

  retaddr[-10] = v0;
  JUMPOUT(0x402395);
}
// 402DEC: positive sp value 4 has been found
// 402E00: control flows out of bounds to 402395

//----- (00402E0A) --------------------------------------------------------
#error "402E0A: function frame is wrong (funcsize=0)"

//----- (00402E43) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void sub_402E43()
{
  void *v0; // [esp+10h] [ebp-4h]
  void *retaddr; // [esp+14h] [ebp+0h]

  *(&retaddr - 6) = v0;
  JUMPOUT(0x402E60);
}
// 402E47: positive sp value 4 has been found
// 402E57: control flows out of bounds to 402E60

//----- (00402EAD) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall sub_402EAD(__int32 a1@<eax>)
{
  __int32 v1; // [esp-4h] [ebp-4h] BYREF

  _InterlockedExchange(&v1, a1);
  JUMPOUT(0x402641);
}
// 402EB6: positive sp value 4 has been found
// 402EC4: control flows out of bounds to 402641

// nfuncs=33 queued=33 decompiled=33 lumina nreq=0 worse=0 better=0
#error "There were 9 decompilation failure(s) on 33 function(s)"
