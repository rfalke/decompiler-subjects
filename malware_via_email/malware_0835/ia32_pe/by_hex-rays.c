/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall start(int@<eax>, char *@<edx>, int@<ecx>, int@<ebx>, int@<ebp>, int@<edi>, int@<esi>);

//-------------------------------------------------------------------------
// Data declarations

int dword_436000[512] =
{
  -1876295519,
  1409369600,
  708837152,
  1380272970,
  860636494,
  1279536690,
  -180,
  925958399,
  575275064,
  -875844165,
  -2044638583,
  1085125262,
  13147658,
  1244086411,
  -1733647861,
  -3583541,
  -747402497,
  -2127285185,
  54533576,
  -2104874040,
  -77914936,
  586611575,
  1181473006,
  1471685952,
  -1710945718,
  1676627526,
  -1208550529,
  587254540,
  218421623,
  271997774,
  -1021273700,
  882202950,
  -1876951075,
  -920597571,
  1183923488,
  1233279510,
  1506616691,
  882399365,
  1599918679,
  881090203,
  1570097175,
  628328284,
  -447506995,
  1557288786,
  -1722708151,
  -1781717936,
  -883450572,
  555682806,
  1847827240,
  -1214040867,
  181285139,
  -838984304,
  876298476,
  -821282882,
  151605487,
  454015999,
  131295919,
  1224706880,
  -910176973,
  1552877570,
  -1966598368,
  288529807,
  -2104852110,
  96999200,
  388102648,
  -2021195320,
  328989560,
  221437662,
  -500994293,
  1312950751,
  -1191022853,
  -1947279392,
  -1374254531,
  -1366115932,
  1250471049,
  -1704383558,
  1253989263,
  -1897657414,
  -1531373939,
  -1930521927,
  -1652313440,
  -1368839270,
  -1484674430,
  1256459152,
  731547520,
  377892585,
  951289230,
  1479720065,
  1033584004,
  1074854975,
  882607264,
  1143181694,
  617093080,
  -1880646641,
  1551987362,
  548321568,
  -1476016105,
  -2123233857,
  -323378084,
  -1294377835,
  -878607621,
  1874988797,
  1272750874,
  1477788323,
  -633862360,
  -1649168242,
  620174837,
  -72154107,
  -1005862841,
  -875901106,
  926937953,
  -469004242,
  -458381950,
  -1539262206,
  -1876020577,
  96182795,
  -1191120797,
  1883108236,
  -1628950071,
  113897259,
  1512015103,
  -1681221102,
  873724714,
  -545324450,
  -1090903266,
  745950146,
  349028283,
  -1245772803,
  -1667431607,
  738082991,
  -1577337530,
  -652358449,
  1939694725,
  1041447395,
  -181574596,
  1408202312,
  -624386370,
  -1558789377,
  -313150430,
  1707354915,
  1858651671,
  901693821,
  -604148930,
  -1025191400,
  1794103630,
  1076095264,
  23165219,
  -467979215,
  -1065393840,
  -392185018,
  274908476,
  -997842487,
  1590223880,
  -812956093,
  -230384662,
  -1446528760,
  2026259141,
  -1004154086,
  -666660109,
  -255405919,
  -466958662,
  572662007,
  584039405,
  -434338759,
  -1865987897,
  -401767081,
  1106690191,
  -1068398812,
  30141382,
  -48234739,
  -1127499786,
  -1785416501,
  -1703180730,
  -355798109,
  -1171025850,
  -1701413983,
  -1513567839,
  775993602,
  -1875988545,
  -1482169333,
  -469004059,
  1549622218,
  775993904,
  881021523,
  1521439579,
  956547777,
  628593051,
  379229661,
  1462606268,
  -1706468142,
  631226008,
  -1372285491,
  1557313950,
  -1298304183,
  1546950812,
  -1835837664,
  392214720,
  -1869507128,
  1562735264,
  -1502439587,
  -972700778,
  -1808558843,
  1557288723,
  -1532252855,
  1568765866,
  -1467373280,
  1551988709,
  -1364219319,
  1551988361,
  -1397906871,
  -972959794,
  -1689607419,
  1898868634,
  -1012063256,
  909842683,
  -1706658938,
  -11674120,
  -1089802188,
  -1106644785,
  1066287207,
  176413484,
  -552942557,
  -1531446402,
  1254325444,
  781288994,
  666763968,
  -2092950974,
  -1744844553,
  -1392247163,
  -1377977804,
  1211191620,
  -546124021,
  1250498925,
  -18874870,
  -652531475,
  -225719707,
  834549635,
  1052652292,
  -1629480128,
  -885962177,
  788229743,
  -1949779761,
  792537120,
  1925394523,
  60288414,
  729375120,
  -1021860280,
  -395404797,
  952308699,
  328124439,
  -872143929,
  2010911494,
  398210783,
  597176066,
  -1774008145,
  244762671,
  -345608489,
  -1726928108,
  818549549,
  -538069396,
  -141827070,
  -924611776,
  505891594,
  -1686920189,
  205799401,
  1225539615,
  1826341871,
  453135643,
  -1105666269,
  -882044917,
  -1844611875,
  91721276,
  927911553,
  267285751,
  277334048,
  35773391,
  -1664277729,
  -2101363269,
  551493654,
  -1917371897,
  51967925,
  -8296023,
  -309362919,
  187799273,
  -616285285,
  1604660110,
  1060870046,
  -1869156573,
  -745519369,
  -614668529,
  574944218,
  383702789,
  -388232691,
  130664827,
  -1438682675,
  1483799494,
  -1975329384,
  2123708867,
  -1044806767,
  -578250562,
  1045924769,
  -8101334,
  1076166527,
  139108224,
  -548418765,
  -101122050,
  -1566346246,
  -146884442,
  -1878432826,
  1073942720,
  868194322,
  -739403826,
  -2095364496,
  602127259,
  -1642450488,
  -1684403731,
  152905503,
  -920975556,
  -844561610,
  659874532,
  -445943114,
  -1388345632,
  1153966857,
  2147325991,
  65014358,
  231613000,
  -2126372151,
  1871023818,
  -2141004385,
  -81752115,
  1088134042,
  921427848,
  536401655,
  -926443456,
  597256461,
  -1021918389,
  -843356424,
  -1695567344,
  1217582354,
  -2071796984,
  -1779934729,
  704867847,
  -659035442,
  493645790,
  228687626,
  -1123611960,
  1006353925,
  -654531786,
  -1406961049,
  -498818125,
  -967703158,
  12188571,
  1077384714,
  43039445,
  -594108864,
  -619840061,
  562809763,
  185499013,
  -822598563,
  187431734,
  1688409082,
  -941616208,
  1313370214,
  550038297,
  1791818883,
  -677337270,
  -124633326,
  1785242376,
  -2042457538,
  1552967959,
  -946584615,
  -938269494,
  1727152694,
  187815873,
  697441315,
  -873824135,
  630180623,
  60152079,
  -850671801,
  843289279,
  1935276151,
  -1038078686,
  -143655402,
  658546184,
  -1741222072,
  -1007838051,
  -1047491038,
  -1312855098,
  258242573,
  1263579481,
  -263693877,
  -659416287,
  -802163607,
  -1880177337,
  -585078161,
  -833477341,
  1208409123,
  -307140363,
  591260350,
  -1341535636,
  1278151367,
  1482048356,
  1167919596,
  810379469,
  1712141348,
  -390184094,
  -105767792,
  -1950118221,
  1814983881,
  1189744456,
  443499262,
  928910884,
  1808337187,
  1399075395,
  135045068,
  1681598546,
  -1429763889,
  1590190338,
  -1905921831,
  -1225243081,
  569149284,
  567590461,
  -1295066184,
  504063111,
  -1011431248,
  564507152,
  -603406823,
  1008407007,
  1145508291,
  -953804736,
  66376391,
  -882159575,
  1237569727,
  2115942069,
  -947457908,
  -50820673,
  -1218261204,
  649113005,
  -401817800,
  855821661,
  937483949,
  875318008,
  -942494268,
  860363580,
  -255275921,
  -306784421,
  568117891,
  1154034121,
  -1395699950,
  421258304,
  146588623,
  853306834,
  -944366581,
  -1870604699,
  -1140924729,
  -1933055795,
  -678608682,
  -541192976,
  -1924877004,
  1704459987,
  -673511975,
  -853480481,
  972094784,
  -302115650,
  -616249791,
  34752429,
  189115691,
  -874626835,
  1527487469,
  -1723856375,
  1187447547,
  1270340416,
  -650112516,
  2130185208,
  -212353512,
  -1410877114,
  -151584827,
  -809680641,
  -803200486,
  -1379136502,
  -1179997082,
  -1129249597,
  338381000,
  1979408458,
  -1651176221,
  -181155647,
  -1094717398,
  -573472238,
  -1881962093,
  404868471,
  239288963,
  -1286855274,
  1534524933,
  -2140944353,
  -924075565,
  1720328249,
  -295578692,
  994090479,
  1741103217,
  525029985,
  1844896123,
  -950823644,
  752931006,
  -273542596,
  -309644856,
  -947945098,
  -919991676,
  -809205560,
  -1071630143,
  -1391894217,
  1919974013,
  -66771448
}; // weak


//----- (0043B9B0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __usercall start(
        int a1@<eax>,
        char *a2@<edx>,
        int a3@<ecx>,
        int a4@<ebx>,
        int a5@<ebp>,
        int a6@<edi>,
        int a7@<esi>)
{
  int *v7; // esi
  int *v8; // edi
  unsigned int v9; // ebp
  char v10; // al
  bool v11; // cf
  int v12; // ebx
  int v13; // ebx
  int v14; // ett
  unsigned int v15; // eax
  bool v16; // cf
  int v17; // ebx
  int v18; // ebx
  int v19; // ett
  bool v20; // zf
  int v21; // ebx
  int v22; // ett
  int v23; // ecx
  unsigned int v24; // eax
  unsigned int v25; // eax
  int v26; // eax
  bool v27; // cf
  int v28; // ebx
  int v29; // ebx
  int v30; // ett
  BOOL v31; // ecx
  bool v32; // cf
  int v33; // ebx
  int v34; // ett
  int v35; // ecx
  int v36; // ecx
  bool v37; // cf
  int v38; // ebx
  int v39; // ebx
  int v40; // ett
  bool v41; // zf
  int v42; // ebx
  int v43; // ett
  unsigned int v44; // ecx
  char v45; // al
  int v46; // eax
  bool v47; // cc
  int *v48; // esi
  char *v49; // edi
  int v50; // eax
  int *v51; // ebx
  int v52; // ebp
  char v53; // al
  char *v54; // ecx
  unsigned __int8 v55; // al
  int v56; // eax
  void (__fastcall *v57)(int, char *, int *, int, int, int *); // ebp
  int *v58; // edi
  int v59[4]; // [esp+1Ch] [ebp-90h] BYREF
  int v60; // [esp+2Ch] [ebp-80h] BYREF
  int v61; // [esp+30h] [ebp-7Ch] BYREF
  char *v62; // [esp+34h] [ebp-78h]
  int *v63; // [esp+38h] [ebp-74h]
  int v64; // [esp+3Ch] [ebp-70h]
  char *v65; // [esp+40h] [ebp-6Ch]
  int v66; // [esp+44h] [ebp-68h]
  int v67; // [esp+48h] [ebp-64h]
  int *v68; // [esp+4Ch] [ebp-60h]
  int v69; // [esp+50h] [ebp-5Ch]
  int v70; // [esp+54h] [ebp-58h]
  int v71; // [esp+58h] [ebp-54h]
  int v72; // [esp+5Ch] [ebp-50h] BYREF

  v71 = a7;
  v70 = a6;
  v69 = a5;
  v68 = &v72;
  v67 = a4;
  v66 = a3;
  v65 = a2;
  v64 = a1;
  v7 = dword_436000;
  v8 = &dword_436000[-54272];
  v63 = &dword_436000[-54272];
  v9 = -1;
  while ( 1 )
  {
    v13 = *v7;
    v11 = (unsigned int)v7++ < 0xFFFFFFFC;
    v14 = v11 + v13;
    v11 = __CFADD__(v11, v13) | __CFADD__(v13, v14);
    v12 = v13 + v14;
    do
    {
      if ( v11 )
      {
        v10 = *(_BYTE *)v7;
        v7 = (int *)((char *)v7 + 1);
        *(_BYTE *)v8 = v10;
        v8 = (int *)((char *)v8 + 1);
      }
      else
      {
        v15 = 1;
        while ( 1 )
        {
          v16 = __CFADD__(v12, v12);
          v17 = 2 * v12;
          if ( !v17 )
          {
            v18 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v19 = v11 + v18;
            v16 = __CFADD__(v11, v18) | __CFADD__(v18, v19);
            v17 = v18 + v19;
          }
          v15 += v16 + v15;
          v11 = __CFADD__(v17, v17);
          v20 = 2 * v17 == 0;
          v12 = 2 * v17;
          if ( v11 )
          {
            if ( !v20 )
              break;
            v21 = *v7;
            v11 = (unsigned int)v7++ < 0xFFFFFFFC;
            v22 = v11 + v21;
            v11 = __CFADD__(v11, v21) | __CFADD__(v21, v22);
            v12 = v21 + v22;
            if ( v11 )
              break;
          }
        }
        v23 = 0;
        v11 = v15 < 3;
        v24 = v15 - 3;
        if ( !v11 )
        {
          v25 = v24 << 8;
          LOBYTE(v25) = *(_BYTE *)v7;
          v7 = (int *)((char *)v7 + 1);
          v26 = ~v25;
          if ( !v26 )
          {
            v48 = v63;
            v49 = (char *)(v63 + 58368);
LABEL_33:
            v50 = *(_DWORD *)v49;
            if ( *(_DWORD *)v49 )
            {
              v51 = (int *)((char *)v48 + *((_DWORD *)v49 + 1));
              v49 += 8;
              v52 = ((int (__fastcall *)(int, char *, int, int, char *, int, int, int *, int, int, int))v48[62720])(
                      v23,
                      a2,
                      (int)v48 + v50 + 250680,
                      v64,
                      v65,
                      v66,
                      v67,
                      v68,
                      v69,
                      v70,
                      v71);
              while ( 1 )
              {
                v53 = *v49++;
                if ( !v53 )
                  goto LABEL_33;
                v54 = v49;
                v62 = v49;
                v55 = v53 - 1;
                do
                {
                  if ( !v54 )
                    break;
                  v20 = *v49++ == (char)v55;
                  --v54;
                }
                while ( !v20 );
                v56 = ((int (__cdecl *)(int, char *))v48[62721])(v52, v62);
                if ( !v56 )
                  break;
                *v51++ = v56;
              }
              v50 = ((int (*)(void))v48[62725])();
            }
            v57 = (void (__fastcall *)(int, char *, int *, int, int, int *))v48[62722];
            v58 = v48 - 1024;
            v60 = v50;
            v57(v23, a2, v48 - 1024, 4096, 4, &v60);
            *((_BYTE *)v58 + 495) &= ~0x80u;
            *((_BYTE *)v58 + 535) &= ~0x80u;
            ((void (__cdecl *)(int *, int, int, int *))v57)(v48 - 1024, 4096, v59[0], v59);
            do
              v60 = 0;
            while ( &v60 != &v61 - 32 );
            JUMPOUT(0x41910F);
          }
          v9 = v26;
        }
        v27 = __CFADD__(v12, v12);
        v28 = 2 * v12;
        if ( !v28 )
        {
          v29 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v30 = v11 + v29;
          v27 = __CFADD__(v11, v29) | __CFADD__(v29, v30);
          v28 = v29 + v30;
        }
        v31 = v27;
        v32 = __CFADD__(v28, v28);
        v12 = 2 * v28;
        if ( !v12 )
        {
          v33 = *v7;
          v11 = (unsigned int)v7++ < 0xFFFFFFFC;
          v34 = v11 + v33;
          v32 = __CFADD__(v11, v33) | __CFADD__(v33, v34);
          v12 = v33 + v34;
        }
        v35 = v31 + v32 + v31;
        if ( !v35 )
        {
          v36 = 1;
          while ( 1 )
          {
            v37 = __CFADD__(v12, v12);
            v38 = 2 * v12;
            if ( !v38 )
            {
              v39 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v40 = v11 + v39;
              v37 = __CFADD__(v11, v39) | __CFADD__(v39, v40);
              v38 = v39 + v40;
            }
            v36 += v37 + v36;
            v11 = __CFADD__(v38, v38);
            v41 = 2 * v38 == 0;
            v12 = 2 * v38;
            if ( v11 )
            {
              if ( !v41 )
                break;
              v42 = *v7;
              v11 = (unsigned int)v7++ < 0xFFFFFFFC;
              v43 = v11 + v42;
              v11 = __CFADD__(v11, v42) | __CFADD__(v42, v43);
              v12 = v42 + v43;
              if ( v11 )
                break;
            }
          }
          v35 = v36 + 2;
        }
        v44 = (v9 < 0xFFFFF300) + v35 + 1;
        a2 = (char *)v8 + v9;
        if ( v9 <= 0xFFFFFFFC )
        {
          do
          {
            v46 = *(_DWORD *)a2;
            a2 += 4;
            *v8++ = v46;
            v47 = v44 <= 4;
            v44 -= 4;
          }
          while ( !v47 );
          v8 = (int *)((char *)v8 + v44);
        }
        else
        {
          do
          {
            v45 = *a2++;
            *(_BYTE *)v8 = v45;
            v8 = (int *)((char *)v8 + 1);
            --v44;
          }
          while ( v44 );
        }
      }
      v11 = __CFADD__(v12, v12);
      v12 *= 2;
    }
    while ( v12 );
  }
}
// 43BB08: positive sp value 50 has been found
// 43BB08: control flows out of bounds to 41910F
// 43BA9F: variable 'v23' is possibly undefined
// 43BA9F: variable 'a2' is possibly undefined
// 436000: using guessed type int dword_436000[512];
// 43B9B0: using guessed type int anonymous_0[4];

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
