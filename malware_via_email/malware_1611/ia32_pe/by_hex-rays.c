/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// void __usercall sub_401092(int a1@<ebx>);
// int __usercall sub_40156D@<eax>(int@<edx>, int@<ecx>, int (__fastcall *)(int, int)@<edi>);
// __int64 __usercall sub_40173B@<edx:eax>(char@<dl>, _BYTE *@<esi>);
// __int64 __usercall sub_40173E@<edx:eax>(char@<dl>, _BYTE *@<esi>);
// __int64 __usercall sub_401741@<edx:eax>(char@<dl>, _BYTE *@<esi>);
// __int64 __usercall sub_401757@<edx:eax>(__int64 result@<edx:eax>, _BYTE *@<esi>);
// __int64 __usercall sub_40175D@<edx:eax>(__int64 result@<edx:eax>, _BYTE *@<esi>);


//----- (00401092) --------------------------------------------------------
void __usercall sub_401092(int a1@<ebx>)
{
  _DWORD *v1; // eax
  int v2; // edx
  int v3; // ecx
  int v4; // edi
  int v5; // esi
  int v6; // esi
  _DWORD *v7; // [esp+4h] [ebp-24h]

  v1 = (_DWORD *)(a1 + 78282);
  *(_DWORD *)(a1 + 155707) = a1;
  while ( 1 )
  {
    v2 = v1[3];
    if ( !v2 )
      break;
    v7 = v1;
    *(_DWORD *)(a1 + 155728) = v1[4];
    v3 = *v1;
    *(_DWORD *)(a1 + 155719) = *v1;
    if ( !v3 )
      v3 = v1[4];
    v4 = *(_DWORD *)(a1 + 155707);
    *(_DWORD *)(a1 + 155747) = v4 + v3;
    *(_DWORD *)(a1 + 155770) = (*(int (__stdcall **)(int))(a1 + 155665))(v4 + v2);
    while ( 1 )
    {
      v5 = **(_DWORD **)(a1 + 155747);
      if ( !v5 )
        break;
      if ( v5 >= 0 && (v5 += 2) != 0 )
        v6 = *(_DWORD *)(a1 + 155707) + v5;
      else
        v6 = v5 & 0x7FFFFFFF;
      *(_DWORD *)(*(_DWORD *)(a1 + 155707) + *(_DWORD *)(a1 + 155728)) = (*(int (__stdcall **)(_DWORD, int))(a1 + 155690))(
                                                                           *(_DWORD *)(a1 + 155770),
                                                                           v6);
      *(_DWORD *)(a1 + 155728) += 4;
      *(_DWORD *)(a1 + 155747) += 4;
    }
    v1 = v7 + 5;
  }
}

//----- (0040156D) --------------------------------------------------------
int __usercall sub_40156D@<eax>(int a1@<edx>, int a2@<ecx>, int (__fastcall *a3)(int, int)@<edi>)
{
  return a3(a2, a1 - (_DWORD)a3);
}

//----- (0040173B) --------------------------------------------------------
__int64 __usercall sub_40173B@<edx:eax>(char a1@<dl>, _BYTE *a2@<esi>)
{
  return sub_40173E(a1, a2);
}

//----- (0040173E) --------------------------------------------------------
__int64 __usercall sub_40173E@<edx:eax>(char a1@<dl>, _BYTE *a2@<esi>)
{
  return sub_401741(a1, a2);
}

//----- (00401741) --------------------------------------------------------
__int64 __usercall sub_401741@<edx:eax>(char a1@<dl>, _BYTE *a2@<esi>)
{
  bool v2; // cf
  __int64 result; // rax

  v2 = __CFADD__(a1, a1);
  BYTE4(result) = 2 * a1;
  if ( !BYTE4(result) )
    BYTE4(result) = *a2 + v2 + *a2;
  return result;
}

//----- (00401757) --------------------------------------------------------
__int64 __usercall sub_401757@<edx:eax>(__int64 result@<edx:eax>, _BYTE *a2@<esi>)
{
  return sub_40175D(result, a2);
}

//----- (0040175D) --------------------------------------------------------
__int64 __usercall sub_40175D@<edx:eax>(__int64 result@<edx:eax>, _BYTE *a2@<esi>)
{
  __int64 v2; // rax
  char v3; // cf

  do
  {
    v2 = sub_40173B(SBYTE4(result), a2);
    result = sub_40173B(SBYTE4(v2), a2);
  }
  while ( v3 );
  return result;
}
// 40176D: variable 'v3' is possibly undefined

// nfuncs=7 queued=7 decompiled=7 lumina nreq=0 worse=0 better=0
// ALL OK, 7 function(s) have been successfully decompiled
