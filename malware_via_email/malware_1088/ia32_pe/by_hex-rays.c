/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// double __userpurge sub_407DEF@<st0>(char _DL@<dl>, int _ECX@<ecx>, int@<ebx>, _DWORD *_EDI@<edi>, int@<esi>, double result@<st0>, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int);


//----- (00406D13) --------------------------------------------------------
#error "406D13: function frame is wrong (funcsize=0)"

//----- (00407DEF) --------------------------------------------------------
double __userpurge sub_407DEF@<st0>(
        char _DL@<dl>,
        int _ECX@<ecx>,
        int a3@<ebx>,
        _DWORD *_EDI@<edi>,
        int a5@<esi>,
        double result@<st0>,
        int a7,
        int a8,
        int a9,
        int a10,
        int a11,
        int a12,
        int a13,
        int a14,
        int a15,
        int a16,
        int a17,
        int a18,
        int a19,
        int a20,
        int a21,
        int a22,
        int a23,
        int a24,
        int a25,
        int a26,
        int a27,
        int a28,
        int a29,
        int a30,
        int a31,
        int a32,
        int a33,
        int a34,
        int a35,
        int a36,
        int a37,
        int a38,
        int a39,
        int a40,
        int a41,
        int a42,
        int a43,
        int a44,
        int a45,
        int a46,
        int a47,
        int a48,
        int a49,
        int a50,
        int a51,
        int a52,
        int a53,
        int a54,
        int a55,
        int a56,
        int a57,
        int a58,
        int a59,
        int a60,
        int a61,
        int a62,
        int a63)
{
  int v64; // eax
  int v65; // eax
  unsigned int v70; // ecx
  unsigned int v71; // eax
  unsigned int i; // eax
  unsigned int v73; // ecx
  bool v74; // cf
  char v76; // tt
  int v78; // ebx
  int v79; // ecx
  __int64 v82; // rax
  int v83; // ebx
  int v84; // ecx
  unsigned int v90; // esi
  char v93; // bh
  bool v95; // tt
  int v103; // [esp-14h] [ebp-14h]
  int v104; // [esp-10h] [ebp-10h]
  int v105; // [esp-4h] [ebp-4h] BYREF

  _ESI = a5 | 0x8E173ADC;
  BYTE1(_ECX) += 68;
  LOBYTE(a3) = __ROL1__(a3, _ECX);
  __asm
  {
    rcl     cl, 0Ah
    rcl     dl, 4
  }
  BYTE1(a3) = ~BYTE1(a3);
  LOBYTE(_ECX) = _DL ^ _ECX;
  v105 = _ECX;
  v84 = 4226625;
  for ( i = 1; ; i = ~(v65 ^ 0xFFFFFEC8) )
  {
    if ( !i )
    {
      v64 = *(_DWORD *)(v84 + 60) + v84;
      v104 = *(_DWORD *)(v64 + 80);
      LODWORD(_RAX) = (*(int (__usercall **)@<eax>(int, double@<st0>))(v84
                                                                     + *(_DWORD *)(v84 + *(_DWORD *)(v64 + 128) + 16)))(
                        v84,
                        result);
      _ECX = v103;
      __asm { rcl     ah, 2 }
      LOWORD(_EDI) = __ROR2__((_WORD)_EDI, v103);
      __asm { rcr     ecx, cl }
      v93 = SBYTE1(a3) >> 7;
      LOBYTE(_ECX) = v93 - 39;
      _BH = v93 - (__CFADD__(v93, -39) + 59);
      v95 = __CFSHR__(_ECX, _ECX);
      LOBYTE(_ECX) = __ROR1__(_ECX, _ECX);
      _ECX = _ECX - (v95 + v104);
      BYTE1(_RAX) = 95;
      __asm { rcr     esi, cl }
      if ( _ESI == -517006787 )
      {
        HIDWORD(_RAX) = v104 + 2124;
        _EAX = _RAX / *(unsigned int *)(HIDWORD(_RAX) - 4);
        *(_BYTE *)(_ECX - 271169554) += 81;
        __asm { rcr     ah, 6 }
        _ESI = __ROR4__(-517006787, _ECX);
        LOWORD(_ESI) = (__int16)_ESI >> _ECX;
        __asm
        {
          rcr     bh, 0Fh
          rcr     ch, cl
          rcl     si, cl
        }
        if ( (_ESI & 0x9E887DD) != 1984073736 )
          JUMPOUT(0x407D8E);
        *_EDI ^= _ECX;
      }
      else
      {
        __asm { rcl     ch, 1Ch }
        LOWORD(_EDI) = _RAX + 25561;
      }
      _CL = 0;
      __asm { rcl     di, cl }
      JUMPOUT(0x407E86);
    }
    v73 = (unsigned int)(v84 - 1) >> 15;
    if ( _EDI == (_DWORD *)-1567961091 )
      break;
    v84 = v73 << 15;
    v71 = *(_DWORD *)v84;
    if ( _EDI == (_DWORD *)1381279399 )
      JUMPOUT(0xD209C1C1);
    a3 = BYTE1(v71);
    v65 = BYTE1(v71) + (unsigned __int8)*(_DWORD *)v84 + HIWORD(v71);
    if ( _EDI == (_DWORD *)-1720146906 )
    {
      __outbyte(0x9Du, v65);
      *(_DWORD *)((unsigned __int8)*(_DWORD *)v84 + 0x366C613) = (int)result;
      *(_BYTE *)(v84 + 1841062646) = -116;
      _BH = (char)(BYTE1(v84) & BYTE1(a3)) >> v84;
      _CL = __ROR1__(v84, 4);
      __asm { rcl     bh, cl }
      JUMPOUT(0x407CC8);
    }
  }
  v82 = MEMORY[0xC0B3E601](v73);
  __outdword(WORD2(v82), v82);
  v76 = v74 + _ECX;
  v74 = *(_BYTE *)(v82 + 1725706786) < (unsigned __int8)(v74 + _ECX);
  *(_BYTE *)(v82 + 1725706786) -= v76;
  __asm
  {
    rcl     ecx, cl
    rcl     ch, cl
  }
  LOBYTE(a3) = v74 + a3 + 42;
  v78 = a3 << 30;
  v79 = __ROL4__(_ECX, _ECX);
  if ( HIDWORD(v82) == -1598716334 )
    JUMPOUT(0xC1208ED5);
  SBYTE1(v79) >>= 2;
  LOWORD(v78) = _ESI & v78;
  ++WORD2(v82);
  LOBYTE(v79) = -(char)v79;
  v83 = 32 * (v78 ^ 0xDDB2B44);
  _ECX = v79 & 0x87368DA9;
  LOWORD(_ESI) = v82 ^ ~(_WORD)_ESI;
  BYTE1(v83) = -BYTE1(v83);
  v90 = _ESI - ((BYTE1(v83) != 0) + (_DWORD)v82);
  _EBX = v83 & 0x7D46223;
  BYTE1(_ECX) += BYTE1(_EBX);
  __asm { rcl     bh, cl }
  BYTE1(_EBX) &= 0x7Bu;
  LOWORD(_ECX) = v82 + _ECX;
  __asm { rcr     ebx, cl }
  v70 = _ECX << _ECX;
  LOWORD(v70) = __ROR2__(v70, v70);
  if ( __ROR4__((v90 | 0xFB6C0B7B) >> 15, 11) != 197848774 )
  {
    LOBYTE(v70) = (_BYTE)v70 << v70;
    _ECX = v70 + 1;
    LOWORD(_ECX) = _ECX & 0xCFFC;
    _ECX -= 579836279;
    BYTE1(_ECX) -= 52;
    BYTE1(_ECX) = (BYTE5(v82) + v82 - ((unsigned __int16)(_ECX >> 11) >> 8) + 76) | 0xEA;
    __asm { rcl     ch, 12h }
    JUMPOUT(0x407BBE);
  }
  __writeeflags((unsigned int)&v105);
  __asm { icebp }
  return result;
}
// 407E30: control flows out of bounds to 407E33
// 407BBD: control flows out of bounds to 407BBE
// 407C1D: control flows out of bounds to 407C1F
// 407E84: control flows out of bounds to 407E86
// 407F5D: control flows out of bounds to 407F5E
// 407BDE: control flows out of bounds to 407C42
// 407CC4: control flows out of bounds to D209C1C1
// 407DB4: control flows out of bounds to C1208ED5
// 407C6D: control flows out of bounds to 407CC8
// 407FB7: control flows out of bounds to 407D8E
// 407E28: conditional instruction was optimized away because esi.4>=8E173ADCu
// 407C6D: conditional instruction was optimized away because edx.4<100u
// 407F81: conditional instruction was optimized away because esi.4==E12F1A3D
// 407E58: variable 'v103' is possibly undefined
// 407D90: variable 'v74' is possibly undefined
// 407D90: variable '_ECX' is possibly undefined
// 407DEF: too many input arguments, some ignored

// nfuncs=2 queued=2 decompiled=2 lumina nreq=0 worse=0 better=0
#error "There were 1 decompilation failure(s) on 2 function(s)"
