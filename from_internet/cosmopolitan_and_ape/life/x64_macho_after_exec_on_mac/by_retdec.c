//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>
#include <stdlib.h>

// ---------------- Integer Types Definitions -----------------

typedef int64_t int80_t;

// ------------------- Function Prototypes --------------------

int64_t entry_point(int32_t a1);
int64_t function_401297(int64_t a1, int64_t a2, int64_t a3, int64_t a4, int64_t a5, int64_t a6);
int64_t function_40134d(void);
int64_t function_401353(int64_t a1);
int64_t function_401907(int32_t a1, int64_t a2, int64_t result);
int64_t function_401aa1(int64_t a1);
int64_t unknown_1de8(void);

// --------------------- Global Variables ---------------------

int32_t g1 = 0x55c3c031; // 0x401214
int32_t g2 = -0x7a3f40f1; // 0x40199d
int80_t g3; // 0x401ad2
int64_t g4 = 0x1e7260c0100ce0c; // 0x401ee9
char * g5 = "\f&\xe7\x01\f\xce"; // 0x401eed
int64_t g6 = 0xc7f010e0100ce0c; // 0x401ef1
int64_t g7 = -0x7f7eff31f380fef2; // 0x401ef5
int64_t g8 = 0x661080808100ce0c; // 0x401ef8
char * g9 = "\xe8\x1d"; // 0x402010
int64_t g10 = 0; // 0x402050
int64_t g11 = 0; // 0x403000
int64_t g12 = 0; // 0x403018
int64_t g13 = 0; // 0x403030
int32_t * g14 = NULL; // 0x403040
int64_t g15 = 0; // 0x403358
int32_t g16 = 0; // 0x40335c

// ------------------------ Functions -------------------------

// Address range: 0x401245 - 0x401297
int64_t entry_point(int32_t a1) {
    // 0x401245
    *(char *)&g11 = 8;
    __asm_rep_stosq_memset((char *)&g9, (int64_t)&g1, (int64_t)((int32_t)((int64_t)&g10 - (int64_t)&g9) >> 3));
    int64_t v1 = 0xffffffff; // 0x40128c
    int64_t v2; // 0x401245
    int64_t v3 = 8 * (int64_t)a1 + 24 + v2; // 0x40128c
    int64_t v4 = v3; // 0x40128c
    while (v1 != 0) {
        int64_t v5 = *(int64_t *)v3; // 0x40128c
        bool v6; // 0x401245
        v3 += (v6 ? -8 : 8);
        v1--;
        v4 = v3;
        if (v5 == (int64_t)((int32_t)&g1 ^ (int32_t)&g1)) {
            // break -> 
            break;
        }
        v4 = v3;
    }
    return function_401353(v4);
}

// Address range: 0x401297 - 0x40134d
int64_t function_401297(int64_t a1, int64_t a2, int64_t a3, int64_t a4, int64_t a5, int64_t a6) {
    char v1 = *(char *)&g11; // 0x4012a7
    int64_t v2; // 0x401297
    int64_t v3; // 0x401297
    int64_t v4; // bp-40, 0x401297
    if ((v1 & 8) != 0) {
        // 0x4012e8
        v4 = 8;
        v2 = 8;
        v3 = &g8;
    } else {
        if ((v1 & 32) != 0) {
            // 0x4012d2
            v4 = 32;
            v2 = 32;
            v3 = &g4;
        } else {
            if ((v1 & 4) != 0) {
                // 0x4012c7
                v4 = 4;
                v2 = 4;
                v3 = &g7;
            } else {
                int64_t v5; // 0x401297
                if (v5 == 0) {
                    // 0x4012dd
                    v4 = 16;
                    v2 = 16;
                    v3 = &g6;
                } else {
                    // 0x4012bc
                    v4 = 1;
                    v2 = 1;
                    v3 = (int64_t)&g5;
                }
            }
        }
    }
    // 0x4012f1
    g11 = v2;
    int64_t * v6 = (int64_t *)((int64_t)&v4 + 8); // 0x4012f9
    int64_t result = *v6 + (int64_t)&g2; // 0x4012fa
    bool v7; // 0x401297
    int64_t * v8 = v7 ? (int64_t *)((int64_t)&g11 - 8) : (int64_t *)((int64_t)&g11 + 8); // 0x4012fd
    *v8 = result;
    int64_t v9 = v7 ? (int64_t)&g11 - 16 : (int64_t)&g11 + 16; // 0x4012fd
    *v6 = v9;
    if (&g12 >= &g13) {
        // 0x401348
        return result;
    }
    int64_t v10 = &g12; // 0x401344
    int64_t v11 = v3; // 0x401317
    int64_t v12 = 0; // 0x401297
    unsigned char v13 = *(char *)v11; // 0x401317
    uint64_t v14 = (int64_t)v13; // 0x401317
    v11 += (v7 ? -1 : 1);
    uint64_t v15 = v12 + 7; // 0x401322
    int64_t v16 = v14 % 128 << v12 % 64; // 0x401325
    v12 = v15 & 0xffffffff;
    int64_t v17 = v16; // 0x40132a
    while (v13 < 0) {
        // 0x401317
        v13 = *(char *)v11;
        v14 = (int64_t)v13;
        v11 += (v7 ? -1 : 1);
        v15 = v12 + 7;
        v16 = v14 % 128 << v12 % 64 | v17;
        v12 = v15 & 0xffffffff;
        v17 = v16;
    }
    int64_t v18 = v16; // 0x40132e
    if ((v14 & 64) != 0) {
        // 0x401330
        v18 = v16 | -1 << v15 % 64;
    }
    int64_t * v19 = (int64_t *)v10; // 0x40133c
    int64_t v20 = *v19;
    int64_t result2 = v20 != 0 ? v20 : v18; // 0x401340
    *v19 = result2;
    v10 += (v7 ? -8 : 8);
    while (v10 < (int64_t)&g13) {
        // 0x401317
        v12 = 0;
        v13 = *(char *)v11;
        v14 = (int64_t)v13;
        v11 += (v7 ? -1 : 1);
        v15 = v12 + 7;
        v16 = v14 % 128 << v12 % 64;
        v12 = v15 & 0xffffffff;
        v17 = v16;
        while (v13 < 0) {
            // 0x401317
            v13 = *(char *)v11;
            v14 = (int64_t)v13;
            v11 += (v7 ? -1 : 1);
            v15 = v12 + 7;
            v16 = v14 % 128 << v12 % 64 | v17;
            v12 = v15 & 0xffffffff;
            v17 = v16;
        }
        // 0x40132c
        v18 = v16;
        if ((v14 & 64) != 0) {
            // 0x401330
            v18 = v16 | -1 << v15 % 64;
        }
        // 0x401339
        v19 = (int64_t *)v10;
        v20 = *v19;
        result2 = v20 != 0 ? v20 : v18;
        *v19 = result2;
        v10 += (v7 ? -8 : 8);
    }
    // 0x401348
    return result2;
}

// Address range: 0x40134d - 0x401353
int64_t function_40134d(void) {
    // 0x40134d
    return 42;
}

// Address range: 0x401353 - 0x4013c4
int64_t function_401353(int64_t a1) {
    // 0x401385
    int64_t v1; // 0x401353
    int64_t v2 = &v1; // 0x401353
    int64_t v3; // 0x401353
    function_401297(a1, v3, v3, v3, v3, v3);
    g16 |= 1;
    int64_t v4 = function_40134d(); // 0x40138f
    *(int64_t *)(v2 - 8) = 0;
    *(int64_t *)(v2 - 24) = v4;
    function_401907(0, v3, v3);
    function_401aa1(v4 & 0xffffffff);
    *(int32_t *)&g15 = *(int32_t *)&g12;
    *(int64_t *)(v2 - 32) = -1;
    return -1;
}

// Address range: 0x401907 - 0x40199d
int64_t function_401907(int32_t a1, int64_t a2, int64_t result) {
    // 0x401907
    if (g14 == NULL) {
        // 0x401995
        return result;
    }
    // 0x401923
    int64_t v1; // 0x401907
    int32_t v2; // 0x401907
    int32_t v3; // 0x401907
    int32_t v4; // 0x401951
    int64_t v5; // 0x401907
    int64_t v6; // 0x401907
    int64_t v7; // 0x401907
    int64_t v8; // 0x401907
    int64_t v9; // 0x401907
    int32_t * v10; // 0x401928
    uint32_t v11; // 0x401907
    while (true) {
        // 0x401923
        int64_t v12; // 0x401907
        int64_t v13 = v12; // 0x401923
        int64_t v14 = (int64_t)g14; // 0x401923
        int64_t v15; // 0x401907
        int64_t v16; // 0x401907
        int64_t v17; // 0x401907
        uint32_t v18; // 0x401928
        int64_t v19; // 0x40196a
        int32_t v20; // 0x40192f
        uint32_t v21; // 0x40192f
        int64_t v22; // 0x40192f
        while (true) {
            // 0x401928
            v17 = v14;
            v15 = v13;
            v10 = (int32_t *)v17;
            v18 = *v10;
            v9 = v15;
            if (v18 != 0) {
                // 0x40192f
                v2 = v18;
                v7 = v15;
                v5 = v18;
                while (true) {
                    // 0x40192f
                    v6 = v5;
                    v4 = v2;
                    v20 = v6;
                    v21 = v20 == 0 ? (int32_t)v7 : llvm_cttz_i32(v20, true);
                    v22 = v21;
                    v11 = (-1 << v21 % 32) - 1;
                    v1 = 24 * v22 + v17;
                    if (a1 == 0) {
                        goto lab_0x40194d;
                    } else {
                        // 0x401942
                        v3 = v4;
                        v8 = v22;
                        if (*(int64_t *)(v1 + 32) != (int64_t)a1) {
                            goto lab_0x40192a;
                        } else {
                            goto lab_0x40194d;
                        }
                    }
                }
            }
            // 0x401967
            v16 = v9;
            v19 = *(int64_t *)(v17 + 8);
            if (a1 == 0) {
                // break -> 0x401970
                break;
            }
            // 0x40198b
            v13 = v16;
            v14 = v19;
            if (v19 == 0) {
                return result;
            }
        }
        // 0x401970
        *(int64_t *)&g14 = v19;
        while (v19 != 0) {
            // 0x401923
            v13 = v16;
            v14 = (int64_t)(int32_t *)v19;
            while (true) {
                // 0x401928
                v17 = v14;
                v15 = v13;
                v10 = (int32_t *)v17;
                v18 = *v10;
                v9 = v15;
                if (v18 != 0) {
                    // 0x40192f
                    v2 = v18;
                    v7 = v15;
                    v5 = v18;
                    while (true) {
                        // 0x40192f
                        v6 = v5;
                        v4 = v2;
                        v20 = v6;
                        v21 = v20 == 0 ? (int32_t)v7 : llvm_cttz_i32(v20, true);
                        v22 = v21;
                        v11 = (-1 << v21 % 32) - 1;
                        v1 = 24 * v22 + v17;
                        if (a1 == 0) {
                            goto lab_0x40194d;
                        } else {
                            // 0x401942
                            v3 = v4;
                            v8 = v22;
                            if (*(int64_t *)(v1 + 32) != (int64_t)a1) {
                                goto lab_0x40192a;
                            } else {
                                goto lab_0x40194d;
                            }
                        }
                    }
                }
                // 0x401967
                v16 = v9;
                v19 = *(int64_t *)(v17 + 8);
                if (a1 == 0) {
                    // break -> 0x401970
                    break;
                }
                // 0x40198b
                v13 = v16;
                v14 = v19;
                if (v19 == 0) {
                    return result;
                }
            }
            // 0x401970
            *(int64_t *)&g14 = v19;
        }
        return result;
      lab_0x40191b:
        // 0x40191b
        v12 = v1;
        if (g14 == NULL) {
            // break -> 0x401995
            break;
        }
    }
    // 0x401995
    return result;
  lab_0x40194d:;
    int32_t v23 = v4 & v11; // 0x401951
    *v10 = v23;
    v3 = v23;
    v8 = v1;
    if (*(int64_t *)(v1 + 16) != 0) {
        // break (via goto) -> 0x40191b
        goto lab_0x40191b;
    }
    goto lab_0x40192a;
  lab_0x40192a:;
    int64_t v24 = v6 & (int64_t)v11; // 0x40193a
    v2 = v3;
    v7 = v8;
    v5 = v24;
    v9 = v8;
    if (v24 == 0) {
        // break -> 0x401967
        goto lab_0x401967;
    }
    goto lab_0x40192f;
}

// Address range: 0x401aa1 - 0x401ad2
int64_t function_401aa1(int64_t a1) {
    // 0x401aa1
    g16 |= 4;
    if ((*(char *)&g11 & 4) != 0) {
        while (true) {
            // 0x401ab5
            unknown_1de8();
        }
    }
    // 0x401abe
    __asm_syscall();
    __asm_lidt(g3);
    while (true) {
        // 0x401acf
        __asm_hlt();
    }
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: xcode
// Detected functions: 6

