// subject_seg0000000000400000_003F.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00000000007F6840: define fn00000000007F6840
define fn00000000007F6840
{
	rsp = fp;
	Top = 0;
	fn00000000007F6AC0();
	rsp -= 8;
	*rsp = (union Eq_40 **) rbp;
	rsp -= 8;
	*rsp = (union Eq_40 **) rbx;
	rsp -= 8;
	*rsp = (union Eq_40 **) rcx;
	rsp -= 8;
	*rsp = (union Eq_40 **) rdx;
	rsi += rdi;
	rsp -= 8;
	*rsp = (union Eq_40 **) rsi;
	rsi = rdi;
	rdi = rdx;
	ebx = ebx ^ ebx;
	rbx = (uint64) ebx;
	ecx = ecx ^ ecx;
	rcx = (uint64) ecx;
	rbp |= ~0x00;
	SZO = cond(rbp);
	C = false;
	fn00000000007F68B0();
	ebx += ebx;
	rbx = (uint64) ebx;
	SCZO = cond(ebx);
	if (Test(NE,Z))
		return;
	ebx = *rsi;
	rbx = (uint64) ebx;
	rsi -= ~0x03;
	SCZO = cond(rsi);
	ebx = ebx + ebx + C;
	rbx = (uint64) ebx;
	SCZO = cond(ebx);
	dl = *rsi;
}

// 00000000007F6872: define fn00000000007F6872
// Called from:
//      fn00000000007F68B0
define fn00000000007F6872
{
	rsp = fp;
	Top = 0;
	rax = (union Eq_90 *) ((char *) rdi + rbp);
	SCZO = cond(ecx - 0x05);
	dl = *rax;
	if (Test(UGT,CZ))
	{
		SCZO = cond(rbp - ~0x03);
		if (Test(ULE,CZ))
		{
			ecx -= 0x04;
			rcx = (uint64) ecx;
			SCZO = cond(ecx);
			do
			{
				edx = *rax;
				rdx = (uint64) edx;
				rax = (union Eq_90 *) ((char *) rax + 4);
				ecx -= 0x04;
				rcx = (uint64) ecx;
				SCZO = cond(ecx);
				*rdi = (union Eq_90 *) edx;
				rdi = (union Eq_90 *) ((char *) rdi + 4);
			} while (Test(UGE,C));
			ecx += 0x04;
			rcx = (uint64) ecx;
			SCZO = cond(ecx);
			dl = *rax;
			if (Test(EQ,Z))
				return;
		}
	}
	do
	{
		rax = (union Eq_90 *) ((char *) rax + 1);
		*rdi = (union Eq_90 *) dl;
		--ecx;
		rcx = (uint64) ecx;
		SCZO = cond(ecx);
		dl = *rax;
		rdi = (union Eq_90 *) ((char *) rdi + 1);
	} while (Test(NE,Z));
}

// 00000000007F68B0: define fn00000000007F68B0
// Called from:
//      fn00000000007F6840
define fn00000000007F68B0
{
	rsp = fp;
	Top = 0;
	D = false;
	r11 = (<anonymous> *) *rsp;
	rsp = (<anonymous> **) ((char *) rsp + 8);
	SCZO = cond(r8b - 0x08);
	if (Test(NE,Z))
	{
l00000000007F696A:
		rcx = (<anonymous> *) *rsp;
		rsp = (<anonymous> **) ((char *) rsp + 8);
		rax = rsi;
		rax -= rcx;
		rdx = (<anonymous> *) *rsp;
		rsp = (<anonymous> **) ((char *) rsp + 8);
		rdi -= rdx;
		SCZO = cond(rdi);
		rcx = (<anonymous> *) *rsp;
		rsp = (<anonymous> **) ((char *) rsp + 8);
		*rcx = (<anonymous> *) edi;
		rbx = (<anonymous> *) *rsp;
		rsp = (<anonymous> **) ((char *) rsp + 8);
		rbp = (<anonymous> *) *rsp;
		rsp = (<anonymous> **) ((char *) rsp + 8);
		return;
	}
l00000000007F68C6:
	while (true)
	{
		dl = *rsi;
		ebx += ebx;
		rbx = (uint64) ebx;
		SCZO = cond(ebx);
		if (Test(EQ,Z))
		{
			ebx = *rsi;
			rbx = (uint64) ebx;
			rsi -= ~0x03;
			SCZO = cond(rsi);
			ebx = ebx + ebx + C;
			rbx = (uint64) ebx;
			SCZO = cond(ebx);
			dl = *rsi;
		}
		if (Test(UGE,C))
			break;
		rsi = (union Eq_168 *) ((char *) rsi + 1);
		*rdi = (union Eq_168 *) dl;
		rdi = (union Eq_168 *) ((char *) rdi + 1);
		SZO = cond(rdi);
	}
	eax = (word32) ((char *) rcx + 1);
	rax = (uint64) eax;
	while (true)
	{
		r11();
		eax = (int32) ((bool) C + (eax + eax));
		rax = (uint64) eax;
		ebx += ebx;
		rbx = (uint64) ebx;
		SCZO = cond(ebx);
		if (Test(EQ,Z))
		{
			ebx = *rsi;
			rbx = (uint64) ebx;
			rsi -= ~0x03;
			SCZO = cond(rsi);
			ebx = ebx + ebx + C;
			rbx = (uint64) ebx;
			SCZO = cond(ebx);
			dl = *rsi;
		}
		if (Test(ULT,C))
			break;
		--eax;
		rax = (uint64) eax;
		SZO = cond(eax);
		r11();
		eax = (int32) ((bool) C + (eax + eax));
		rax = (uint64) eax;
		SCZO = cond(eax);
	}
	eax -= 0x03;
	rax = (uint64) eax;
	SCZO = cond(eax);
	if (Test(UGE,C))
	{
		eax <<= 0x08;
		rax = (uint64) eax;
		edx = (word32) dl;
		rdx = (uint64) edx;
		eax |= edx;
		rax = (uint64) eax;
		rsi = (union Eq_168 *) ((char *) rsi + 1);
		eax = eax ^ ~0x00;
		rax = (uint64) eax;
		SZO = cond(eax);
		C.u0 = false;
		if (Test(EQ,Z))
			goto l00000000007F696A;
		eax >>= 0x01;
		rax = (uint64) eax;
		SCZO = cond(eax);
		rbp = (int64) eax;
		if (Test(UGE,C))
		{
l00000000007F6929:
			++ecx;
			rcx = (uint64) ecx;
			ebx += ebx;
			rbx = (uint64) ebx;
			SCZO = cond(ebx);
			if (Test(EQ,Z))
			{
				ebx = *rsi;
				rbx = (uint64) ebx;
				rsi -= ~0x03;
				SCZO = cond(rsi);
				ebx = ebx + ebx + C;
				rbx = (uint64) ebx;
				SCZO = cond(ebx);
			}
			if (Test(UGE,C))
			{
				do
				{
					r11();
					ecx = (word32) C.u0 + (ecx + ecx);
					rcx = (uint64) ecx;
					ebx += ebx;
					rbx = (uint64) ebx;
					SCZO = cond(ebx);
					if (Test(EQ,Z))
					{
						ebx = *rsi;
						rbx = (uint64) ebx;
						rsi -= ~0x03;
						SCZO = cond(rsi);
						ebx = ebx + ebx + C;
						rbx = (uint64) ebx;
						SCZO = cond(ebx);
					}
				} while (Test(UGE,C));
				ecx += 0x02;
				rcx = (uint64) ecx;
				SCZO = cond(ecx);
l00000000007F6956:
				SCZO = cond(rbp - ~0x04FF);
				ecx = (word32) C.u0 + (ecx + 0x02);
				rcx = (uint64) ecx;
				SCZO = cond(ecx);
				fn00000000007F6872();
				goto l00000000007F68C6;
			}
			goto l00000000007F6951;
		}
	}
	else
	{
		ebx += ebx;
		rbx = (uint64) ebx;
		SCZO = cond(ebx);
		if (Test(EQ,Z))
		{
			ebx = *rsi;
			rbx = (uint64) ebx;
			rsi -= ~0x03;
			SCZO = cond(rsi);
			ebx = ebx + ebx + C;
			rbx = (uint64) ebx;
			SCZO = cond(ebx);
		}
		if (Test(UGE,C))
			goto l00000000007F6929;
	}
l00000000007F6951:
	r11();
	ecx = (word32) C.u0 + (ecx + ecx);
	rcx = (uint64) ecx;
	SCZO = cond(ecx);
	goto l00000000007F6956;
}

// 00000000007F697B: define fn00000000007F697B
// Called from:
//      fn00000000007F6A55
//      fn00000000007F6A57
define fn00000000007F697B
{
	rsp = fp;
	Top = 0;
	rsp -= 4;
	rsp->u1 = 0x1E;
	rdx = *rsp;
	rsp = (word64) rsp + 8;
	fn00000000007F6A44();
	rsp -= 8;
	*rsp = rax;
	rsp -= 8;
	*rsp = rdx;
	rsp -= 8;
	*rsp = r12;
	rdi = *rsp;
	rsp = (word64) rsp + 8;
	r8 = *rsp;
	rsp = (word64) rsp + 8;
	if (Test(LT,SO))
	{
		if (Test(EQ,Z))
			fn00000000007F6A57();
		else if (Test(OV,O))
		{
			rsp -= 8;
			*rsp = rbp;
			rsp -= 8;
			*rsp = rax;
			rax = *rsp;
			rsp = (word64) rsp + 8;
			v28 = *((word64) rbp + 97) & dl;
			((word64) rbp + 97)->u0 = v28;
			SZO = cond(*((word64) rbp + 97));
			*rdi = __in(dx);
			rdi = (word64) rdi + 4;
			v29 = *((word64) rcx + 0x006C) & al;
			((word64) rcx + 0x006C)->u0 = v29;
			SZO = cond(*((word64) rcx + 0x006C));
			*rdi = __in(dx);
			rdi = (word64) rdi + 1;
			v30 = *((word64) rdx + 0x0069) & dl;
			((word64) rdx + 0x0069)->u0 = v30;
			SZO = cond(*((word64) rdx + 0x0069));
			C = false;
			rsp -= 4;
			rsp->u1 = 0x52207374;
			if (Test(UGE,C))
				fn00000000007F6A9D();
			else if (Test(ULT,C))
			{
				eax = *rsi;
				rsi = (word64) rsi + 4;
				v32 = edi;
				edi = eax;
				eax = *rsi;
				rsi = (word64) rsi + 4;
				r8d = (word32) al;
				r8 = (uint64) r8d;
				v35 = rsi;
				rsi = rdi;
				rdi = v35;
				rbp();
				rcx = *rsp;
				rsp = (word64) rsp + 8;
			}
			else
			{
				v36 = Mem0[rdx + rcx:byte] & ah;
				Mem0[rdx + rcx:byte] = v36;
				SZO = cond(Mem0[rdx + rcx:byte]);
				v37 = (byte) ((word64) *((word64) rax + 1784582288) + dl);
				((word64) rax + 1784582288)->u0 = v37;
				SCZO = cond(v37);
				fn00000000007F6A46();
			}
		}
	}
	else
	{
		rsp -= 8;
		*rsp = rdx;
		rsp -= 8;
		*rsp = r12;
		rdi = *rsp;
		rsp = (word64) rsp + 8;
		rsp -= 8;
		*rsp = rdi;
		rsp -= 8;
		*rsp = rdx;
		rsp -= 8;
		*rsp = r12;
		v11 = r14->b0061 & r12b;
		r14->b0061 = v11;
		SZO = cond(r14->b0061);
		ebp = *((word64) rbp + 100) *s32 0x0A000A2E;
		rbp = (uint64) ebp;
		v19 = (byte) ((word64) *((word64) rcx + rcx * 0x02) + ah);
		((word64) rcx + rcx * 0x02)->u0 = v19;
		__outb(dx, al);
		rsi = (word64) rsi + 1;
		__outw(dx, ax);
		rsi = (word64) rsi + 2;
		SCZO = cond(ah - *rax);
		v24 = rsp;
		rsp -= 8;
		*rsp = v24;
		rsp -= 4;
		rsp->u1 = 0x66207369;
		ebp = *((word64) rbp + 32) *s32 1881174889;
		rbp = (uint64) ebp;
		SCZO = cond(ebp);
	}
}

// 00000000007F6A44: define fn00000000007F6A44
// Called from:
//      fn00000000007F697B
define fn00000000007F6A44
{
	rsp = fp;
	Top = 0;
	rsi = *rsp;
	rsp = (union Eq_665 *) ((char *) rsp + 8);
	rsp -= 4;
	*rsp = (union Eq_665 *) 0x02;
	fn00000000007F6A46();
}

// 00000000007F6A46: define fn00000000007F6A46
// Called from:
//      fn00000000007F697B
//      fn00000000007F6A44
define fn00000000007F6A46
{
	rsp = fp;
	Top = 0;
	bl = (byte) ((word64) *((word64) rdi + 0x006A) + bl);
	v8 = (word32) ((word64) *((word64) rax + 0x0F) + ebx);
	((word64) rax + 0x0F)->u0 = v8;
	eax += 1784643434;
	rax = (uint64) eax;
	SCZO = cond(al - 88);
	__syscall();
	fn00000000007F6A55();
}

// 00000000007F6A55: define fn00000000007F6A55
// Called from:
//      fn00000000007F6A44
//      fn00000000007F6A46
//      fn00000000007F6AC0
define fn00000000007F6A55
{
	rsp = fp;
	Top = 0;
	rbx = *rsp;
	rsp = (union Eq_759 *) ((char *) rsp + 8);
	rsp -= 4;
	*rsp = (union Eq_759 *) 0x00;
	fn00000000007F6A57();
}

// 00000000007F6A57: define fn00000000007F6A57
// Called from:
//      fn00000000007F697B
//      fn00000000007F6A55
define fn00000000007F6A57
{
	rsp = fp;
	Top = 0;
	v5 = (byte) ((word64) *((word64) rax + 0x0C) + ch);
	*((word64) rax + 0x0C) = v5;
	v8 = (byte) ((word64) *rax + al);
	*rax = v8;
	rsp -= 8;
	*rsp = (union Eq_774 *) rax;
	rsp -= 4;
	*rsp = (union Eq_774 *) 13031768;
	rsp -= 8;
	*rsp = (union Eq_774 *) rcx;
	rsp -= 8;
	*rsp = (union Eq_774 *) r15;
	edi = 0x01200000;
	rdi = (uint64) edi;
	rsp -= 4;
	*rsp = (union Eq_774 *) 0x07;
	rdx = *rsp;
	rsp = (union Eq_774 *) ((char *) rsp + 8);
	esi = 13031768;
	rsi = (uint64) esi;
	rsp -= 4;
	*rsp = (union Eq_774 *) 0x32;
	r10 = *rsp;
	rsp = (union Eq_774 *) ((char *) rsp + 8);
	r8d -= r8d;
	r8 = (uint64) r8d;
	rsp -= 4;
	*rsp = (union Eq_774 *) 0x09;
	rax = *rsp;
	rsp = (union Eq_774 *) ((char *) rsp + 8);
	__syscall();
	SCZO = cond(edi - eax);
	if (Test(NE,Z))
		fn00000000007F697B();
	else
		fn00000000007F6A87();
}

// 00000000007F6A87: define fn00000000007F6A87
// Called from:
//      fn00000000007F6A55
//      fn00000000007F6A57
define fn00000000007F6A87
{
	rsp = fp;
	Top = 0;
	esi = 0x00400000;
	rsi = (uint64) esi;
	edx = edi;
	rdx = (uint64) edx;
	edx -= esi;
	rdx = (uint64) edx;
	SCZO = cond(edx);
	if (Test(EQ,Z))
		fn00000000007F6A9D();
	else
	{
		ebp += edx;
		rbp = (uint64) ebp;
		v13 = rsp->dw0008 + edx;
		rsp->dw0008 = v13;
		v14 = rsp->dw0018 + edx;
		rsp->dw0018 = v14;
		SCZO = cond(v14);
		ecx = ebx;
		rcx = (uint64) ecx;
		fn00000000007F6A9D();
	}
}

// 00000000007F6A9D: define fn00000000007F6A9D
// Called from:
//      fn00000000007F697B
//      fn00000000007F6A87
define fn00000000007F6A9D
{
	ptr64 fp;
	word64 rcx;
	<type-error> Mem0;
	rsp_57 = fp;
	Top_58 = 0;
	__fldcw(*rcx);
}

// 00000000007F6AC0: define fn00000000007F6AC0
// Called from:
//      fn00000000007F6840
define fn00000000007F6AC0
{
	rsp = fp;
	Top = 0;
	rbp = *rsp;
	++rsp;
	rax = rbp - 0x09;
	r15d = rax->dw0000;
	r15 = (uint64) r15d;
	rax -= r15;
	edx = (word32) rax->w0038;
	rdx.u1 = (uint64) edx;
	edx *= 0x38;
	rdx.u1 = (uint64) edx;
	edx += 88;
	rdx.u1 = (uint64) edx;
	r15d -= edx;
	r15 = (uint64) r15d;
	SCZO = cond(r15d);
	rcx = rax + rdx;
	fn00000000007F6A55();
	v11 = esp;
	esp = eax;
	eax = v11;
}

