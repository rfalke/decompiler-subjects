//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2);
int32_t function_8048106(void);

// --------------------- Global Variables ---------------------

int32_t g1 = 4; // 0x804811b
int32_t g2 = 0; // 0x804811f
char * g3; // 0x8048123

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x8048106
int32_t entry_point(int32_t a1, int32_t a2) {
    int32_t v1 = a2;
    int32_t v2 = &v1; // 0x804804e
    if (a1 != 1) {
        // 0x8048050
        int32_t v3; // 0x804804c
        int32_t v4; // 0x804804c
        if (v4 == 0) {
            // 0x8048101
            v3 = 1;
            __asm_int(128);
            return 1;
        }
        int32_t v5 = &v3; // 0x8048050
        int32_t * v6 = &v3; // 0x804805f
        int32_t v7 = v5; // 0x804805f
        if (*(int16_t *)v4 == 0x6e2d) {
            int32_t v8 = v5 + 8; // 0x8048061
            g1 = function_8048106();
            int32_t * v9 = (int32_t *)v8;
            int32_t v10 = *v9; // 0x8048051
            while (v10 != 0) {
                // 0x804805a
                v6 = v9;
                v7 = v8;
                if (*(int16_t *)v10 != 0x6e2d) {
                    goto lab_0x804806e;
                }
                v8 += 8;
                g1 = function_8048106();
                v9 = (int32_t *)v8;
                v10 = *v9;
            }
            // 0x8048101
            *v9 = 1;
            __asm_int(128);
            return 1;
        }
      lab_0x804806e:
        // 0x804806e
        *v6 = 5;
        __asm_int(128);
        v2 = v7 + 4;
    }
    int32_t * v11 = (int32_t *)(v2 - 4); // 0x804808b
    int32_t * v12 = (int32_t *)(v2 - 8);
    while (true) {
        // 0x804807f
        *v11 = 3;
        __asm_int(128);
        int32_t v13 = 0; // 0x80480a0
        int32_t v14 = 3; // 0x80480a0
        int32_t v15 = 0; // 0x80480a0
        int32_t v16 = (int32_t)&g3; // 0x80480a0
        while (true) {
            int32_t v17 = v15;
            int32_t v18 = v14;
            int32_t v19 = v13;
            unsigned char v20 = *(char *)v16; // 0x80480a2
            int32_t v21 = v19 & -256 | (int32_t)v20; // 0x80480a2
            bool v22; // 0x804804c
            int32_t v23 = v16 + (v22 ? -1 : 1); // 0x80480a2
            int32_t v24; // 0x804804c
            int32_t v25; // 0x804804c
            int32_t v26; // 0x804804c
            if (v20 < 32 || v20 == 127) {
                int32_t v27 = v21; // 0x80480be
                int32_t v28 = v18; // 0x80480be
                int32_t v29 = v17; // 0x80480be
                if ((v19 & 0xff00) != 0) {
                    // 0x80480c4
                    v27 = 0;
                    v28 = v18;
                    v29 = 0;
                    if (v17 >= g1) {
                        // 0x80480cc
                        *v11 = v18;
                        *v12 = 4;
                        __asm_int(128);
                        *v12 = 4;
                        __asm_int(128);
                        v27 = 0;
                        v28 = *v11;
                        v29 = 0;
                    }
                }
                int32_t v30 = v28 - 1; // 0x80480f1
                v24 = v27;
                v25 = v30;
                v26 = v29;
                if (v30 == 0) {
                    // break -> 0x804807f
                    break;
                }
            } else {
                int32_t v31 = v21; // 0x80480ad
                if ((v19 & 0xff00) == 0) {
                    // 0x80480af
                    g2 = v23;
                    v31 = v21 + 256 & 0xff00;
                }
                int32_t v32 = v18 - 1; // 0x80480b8
                v24 = v31;
                v25 = v32;
                v26 = v17 + 1;
                if (v32 == 0) {
                    // break -> 0x804807f
                    break;
                }
            }
            // 0x80480a2
            v13 = v24;
            v14 = v25;
            v15 = v26;
            v16 = v23;
        }
    }
}

// Address range: 0x8048106 - 0x804811a
int32_t function_8048106(void) {
    // 0x8048106
    int32_t v1; // 0x8048106
    char v2 = *(char *)v1; // 0x804810a
    if (v2 == 0) {
        // 0x8048118
        return 0;
    }
    int32_t result = 0; // 0x8048114
    int32_t v3 = 0; // 0x804810f
    int32_t v4; // 0x8048106
    bool v5; // 0x8048106
    int32_t v6 = v4 + (v5 ? -1 : 1); // 0x804810a
    v3 = v3 & -256 | (int32_t)(v2 - 48);
    result = v3 + 10 * result;
    char v7 = *(char *)v6; // 0x804810a
    while (v7 != 0) {
        // 0x804810f
        v6 += (v5 ? -1 : 1);
        v3 = v3 & -256 | (int32_t)(v7 - 48);
        result = v3 + 10 * result;
        v7 = *(char *)v6;
    }
    // 0x8048118
    return result;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (4.4.3)
// Detected functions: 2

