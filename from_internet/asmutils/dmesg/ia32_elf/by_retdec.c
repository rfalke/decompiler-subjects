//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4);

// --------------------- Global Variables ---------------------

char * g1; // 0x80480d1
char * g2; // 0x80500d1

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x80480d1
int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4) {
    int32_t v1 = a4;
    int32_t v2 = a2;
    int32_t v3 = a1 - 1; // 0x8048052
    int32_t v4 = &v2; // 0x8048053
    int32_t v5 = 0; // 0x8048053
    if (v3 != 0) {
        int32_t v6 = &v1; // 0x8048056
        int16_t v7 = *(int16_t *)a3; // 0x8048057
        if (v7 != 0x6e2d) {
            // 0x8048075
            v4 = v6;
            v5 = v7 == 0x632d;
        } else {
            // 0x804805e
            v4 = v6;
            v5 = 0;
            if (v3 != 1) {
                // 0x8048061
                int32_t v8; // bp+16, 0x804804c
                int32_t v9 = &v8; // 0x8048061
                unsigned char v10 = *(char *)a4; // 0x8048064
                v4 = v9;
                v5 = 0;
                if (v10 > 47 == v10 < 57) {
                    // 0x8048070
                    v1 = 8;
                    v4 = v9;
                    v5 = 0;
                }
            }
        }
    }
    int32_t * v11 = (int32_t *)(v4 - 4); // 0x8048086
    *v11 = 103;
    __asm_int(128);
    bool v12; // 0x804804c
    int32_t v13 = v12 ? -1 : 1; // 0x804809c
    int32_t v14 = (int32_t)&g1; // 0x804809a
    int32_t v15 = (int32_t)&g2; // 0x804809a
    int32_t v16 = 103;
    char v17 = *(char *)v14; // 0x804809c
    int32_t v18 = v14 + v13; // 0x804809c
    bool v19 = false; // 0x804809f
    char v20 = v17; // 0x804809f
    int32_t v21 = v16; // 0x804809f
    v14 = v18;
    int32_t v22; // 0x80480a7
    int32_t v23; // 0x80480aa
    if (v17 == 60) {
        // 0x80480a1
        v19 = false;
        v20 = v17;
        v21 = v16;
        v14 = v18;
        if (*(char *)(v18 + 1) == 62) {
            // 0x80480a7
            v22 = v18 + (v12 ? -2 : 2);
            v23 = v16 - 3;
            v19 = v23 == 0;
            v20 = *(char *)v22;
            v21 = v23;
            v14 = v22 + v13;
        }
    }
    // 0x80480ad
    *(char *)v15 = v20;
    int32_t v24 = v21 - 1; // 0x80480ae
    v15 += v13;
    while (!v19 && v24 != 0) {
        // 0x804809c
        v16 = v24;
        v17 = *(char *)v14;
        v18 = v14 + v13;
        v19 = false;
        v20 = v17;
        v21 = v16;
        v14 = v18;
        if (v17 == 60) {
            // 0x80480a1
            v19 = false;
            v20 = v17;
            v21 = v16;
            v14 = v18;
            if (*(char *)(v18 + 1) == 62) {
                // 0x80480a7
                v22 = v18 + (v12 ? -2 : 2);
                v23 = v16 - 3;
                v19 = v23 == 0;
                v20 = *(char *)v22;
                v21 = v23;
                v14 = v22 + v13;
            }
        }
        // 0x80480ad
        *(char *)v15 = v20;
        v24 = v21 - 1;
        v15 += v13;
    }
    // 0x80480b0
    *v11 = 4;
    __asm_int(128);
    if (v5 != 0) {
        // 0x80480c2
        *v11 = 103;
        __asm_int(128);
    }
    // 0x80480ca
    *v11 = 1;
    __asm_int(128);
    return 1;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: upx (3.xx)
// Detected functions: 1

