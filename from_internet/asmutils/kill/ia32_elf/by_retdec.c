//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2, int32_t a3);
int32_t function_804804c(void);

// --------------------- Global Variables ---------------------

char * g1 = "\x03\x01HUP\x03\x02INT\x04\x03QUIT\x03\x04ILL\x04\x06\x41\x42RT\x03\bFPE\x04\tKILL\x04\vSEGV\x04\x0e\x41LRM\x04\rPIPE\x04\x0fTERM\x04\nUSR1\x04\fUSR2\x04\x11\x43HLD\x04\x12\x43ONT\x04\x13STOP\x04\x14TSTP\x04\x15TTIN\x04\x16TTOU\x04\x05TRAP\x03\x06IOT\x03\aBUS\x06\x10STKFLT\x03\x17URG\x02\x1dIO\x04\x1dPOLL\x04\x18XCPU\x04\x19XFSZ\x06\x1aVTALRM\x04\x1bPROF\x03\x1ePWR\x05\x1cWINCH\x06\x1fUNUSED"; // 0x8048081
int32_t g2 = 0x3505548; // 0x8048083
char * g3; // 0x804822c

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x8048081
int32_t function_804804c(void) {
    // 0x804804c
    int32_t v1; // 0x804804c
    uint32_t v2 = v1;
    int32_t v3 = v2 % 256; // 0x8048059
    int32_t v4 = v3; // 0x804805e
    int32_t v5 = 0; // 0x804805e
    int32_t v6 = v3; // 0x804805e
    int32_t v7 = 0; // 0x804805e
    if ((char)v2 != 45) {
        goto lab_0x8048065;
    } else {
        goto lab_0x8048063;
    }
  lab_0x8048065:;
    int32_t v8 = v7;
    int32_t v9 = v5;
    uint32_t v10 = v6 + 208; // 0x8048065
    if ((char)v6 > 47 != (char)v10 < 10) {
        // 0x8048078
        return (v8 & 0xff00) == 0 ? v9 : -v9;
    }
    // 0x804806f
    v4 = v10 % 256 | v6 & -256;
    int32_t v11; // 0x804804c
    int32_t v12 = v11; // 0x8048076
    v5 = v4 + 10 * v9;
    v7 = v8 & -256;
    goto lab_0x8048063;
  lab_0x8048063:;
    int32_t v13 = v12 + 1;
    v11 = v13;
    v6 = v4 & -256 | (int32_t)*(char *)v13;
    goto lab_0x8048065;
}

// Address range: 0x8048147 - 0x804822c
int32_t entry_point(int32_t a1, int32_t a2, int32_t a3) {
    int32_t v1 = a2;
    int32_t v2 = a1 - 1; // 0x8048148
    if (v2 == 0) {
        // 0x8048227
        *(int32_t *)((int32_t)&v1 - 4) = 1;
        __asm_int(128);
        return 1;
    }
    // 0x804814f
    int32_t v3; // bp+12, 0x8048147
    int32_t v4 = &v3; // 0x8048150
    unsigned char v5 = *(char *)a3; // 0x8048151
    int32_t v6 = v5; // 0x8048156
    int32_t v7 = v4; // 0x8048156
    int32_t v8 = v2; // 0x8048156
    int32_t v9; // 0x8048147
    int32_t v10; // 0x8048147
    char v11; // 0x8048147
    int32_t v12; // 0x80481b0
    if (v5 == 45) {
        int32_t v13 = a3 + 1; // 0x8048162
        char * v14 = (char *)v13;
        unsigned char v15 = *v14; // 0x8048163
        if (v15 == 108) {
            int32_t * v16 = (int32_t *)(v4 - 4);
            if (*(char *)&g1 != 0) {
                int32_t v17 = (int32_t)&g1;
                *v16 = 4;
                __asm_int(128);
                *v16 = 4;
                __asm_int(128);
                int32_t v18 = v17 + 2 + *(int32_t *)v17 % 16; // 0x8048197
                while (*(char *)v18 != 0) {
                    // 0x8048174
                    v17 = v18;
                    *v16 = 4;
                    __asm_int(128);
                    *v16 = 4;
                    __asm_int(128);
                    v18 = v17 + 2 + *(int32_t *)v17 % 16;
                }
            }
            // 0x804819b
            *v16 = 4;
            __asm_int(128);
            // 0x8048227
            *(int32_t *)(v4 - 4) = 1;
            __asm_int(128);
            return 1;
        }
        // 0x80481b0
        v12 = a1 - 2;
        if (v12 == 0) {
            // 0x8048227
            *(int32_t *)(v4 - 4) = 1;
            __asm_int(128);
            return 1;
        }
        // 0x80481b7
        function_804804c();
        v6 = v15;
        v10 = v4;
        v8 = v12;
        if (v15 == 0) {
            char v19 = *v14; // 0x80481c6
            int32_t v20 = v13; // 0x80481ca
            int32_t v21 = 0; // 0x80481ca
            if (v19 == 0) {
                // 0x8048227
                *(int32_t *)(v4 - 4) = 1;
                __asm_int(128);
                return 1;
            }
            *(char *)(v21 + (int32_t)&g3) = v19;
            v11 = 5;
            v9 = v21;
            while ((char)v21 != 5) {
                uint32_t v22 = v21 + 1; // 0x80481d6
                int32_t v23 = v22 % 256 | v21 & -256; // 0x80481d6
                v20++;
                char v24 = *(char *)v20; // 0x80481c6
                v21 = v23;
                if (v24 == 0) {
                    // 0x80481db
                    v11 = v22;
                    v9 = v23;
                    if (v11 == 0) {
                        goto lab_0x8048227;
                    } else {
                        goto lab_0x80481df;
                    }
                }
                *(char *)(v21 + (int32_t)&g3) = v24;
                v11 = 5;
                v9 = v21;
            }
            goto lab_0x80481df;
        } else {
            goto lab_0x8048213;
        }
    } else {
        goto lab_0x8048214;
    }
  lab_0x8048213:
    // 0x8048213
    v7 = v10 + 4;
    goto lab_0x8048214;
  lab_0x8048214:;
    int32_t v25 = function_804804c(); // 0x8048214
    int32_t v26 = v7; // 0x804821b
    if ((char)v6 == 0) {
        // 0x8048227
        *(int32_t *)(v26 - 4) = 1;
        __asm_int(128);
        return 1;
    }
    // 0x804821d
    *(int32_t *)(v7 - 4) = 37;
    __asm_int(128);
    int32_t v27 = v8 - 1; // 0x8048224
    v6 = v25;
    v10 = v7;
    v8 = v27;
    v26 = v7;
    if (v27 == 0) {
        // 0x8048227
        *(int32_t *)(v26 - 4) = 1;
        __asm_int(128);
        return 1;
    }
    goto lab_0x8048213;
  lab_0x80481df:;
    int32_t v28 = -2; // 0x80481e4
    int32_t v29 = 0; // 0x80481e4
    while (true) {
        int32_t v30 = v28 + 2; // 0x80481ea
        int32_t v31 = (v29 / 256 + v30) % 256 | v30 & -256; // 0x80481eb
        unsigned char v32 = *(char *)(v31 + (int32_t)&g1); // 0x80481ed
        if (v32 == 0) {
            // break (via goto) -> 0x8048227
            goto lab_0x8048227;
        }
        int32_t v33 = 256 * (int32_t)v32; // 0x80481f3
        while (v32 != v11) {
            // 0x80481e9
            v30 = v31 + 2;
            v31 = (v33 / 256 + v30) % 256 | v30 & -256;
            v32 = *(char *)(v31 + (int32_t)&g1);
            if (v32 == 0) {
                // break (via goto) -> 0x8048227
                goto lab_0x8048227;
            }
            // 0x80481f7
            v33 = 256 * (int32_t)v32;
        }
        int32_t v34 = v33; // 0x80481fb
        int32_t v35 = 0;
        int32_t v36; // 0x8048147
        int32_t v37 = v36 & -256 | v9 % 256;
        unsigned char v38 = *(char *)(v35 + (int32_t)&g3); // 0x80481fb
        v34 = v34 & -256 | (int32_t)v38;
        v36 = v37;
        v28 = v31;
        v29 = v34;
        while (v38 == *(char *)(v31 + (int32_t)&g2 + v35)) {
            int32_t v39 = v37 - 1; // 0x804820b
            v6 = v34;
            v10 = v4;
            v8 = v12;
            if (v39 == 0) {
                goto lab_0x8048213;
            }
            v35++;
            v37 = v39;
            v38 = *(char *)(v35 + (int32_t)&g3);
            v34 = v34 & -256 | (int32_t)v38;
            v36 = v37;
            v28 = v31;
            v29 = v34;
        }
    }
  lab_0x8048227:
    // 0x8048227
    *(int32_t *)(v4 - 4) = 1;
    __asm_int(128);
    return 1;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: upx (3.xx)
// Detected functions: 2

