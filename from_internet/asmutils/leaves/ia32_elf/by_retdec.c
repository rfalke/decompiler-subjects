//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>

// ----------------- Float Types Definitions ------------------

typedef float float32_t;
typedef long double float80_t;

// ------------------- Function Prototypes --------------------

int32_t entry_point(void);
int32_t function_804804c(int32_t a1);
int32_t function_804805b(void);
int32_t function_804805c(float80_t a1, float80_t a2, int32_t a3);
int32_t unknown_3e9999(int16_t a1);

// --------------------- Global Variables ---------------------

char * g1; // 0x804817a

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x804805b
int32_t function_804804c(int32_t a1) {
    // 0x804804c
    int32_t result; // 0x804804c
    *(char *)(result + a1 + 640 * result) = (char)result;
    return result;
}

// Address range: 0x804805b - 0x804805c
int32_t function_804805b(void) {
    // 0x804805b
    int32_t result; // 0x804805b
    return result;
}

// Address range: 0x804805c - 0x8048117
int32_t function_804805c(float80_t a1, float80_t a2, int32_t a3) {
    // 0x804805c
    if ((char)a3 == 0) {
        function_804805b();
    }
    // 0x8048064
    int32_t v1; // 0x804805c
    float32_t v2 = *(float32_t *)(v1 + 16); // 0x8048064
    float32_t v3 = *(float32_t *)(v1 + 20); // 0x8048084
    function_804804c(0x1000000 * a3 >> 24);
    float32_t v4 = *(float32_t *)(v1 + 28); // 0x8048091
    function_804804c((int32_t)(((float80_t)v3 - (float80_t)v2 * a2) * a2 + (float80_t)v4));
    float80_t v5 = (float80_t)*(float32_t *)(v1 + 4); // 0x80480a7
    float80_t v6 = v1; // 0x80480aa
    int32_t v7 = a3 - 1; // 0x80480ca
    function_804805c(v6 * a1 + v5 * a2, v5 * a1 - v6 * a2, v7);
    float80_t v8 = (float80_t)*(float32_t *)(v1 + 12); // 0x80480d9
    float80_t v9 = (float80_t)*(float32_t *)(v1 + 8); // 0x80480df
    float80_t v10 = (float80_t)*(float32_t *)(v1 + 32); // 0x80480e2
    float80_t v11 = a1 - v10; // 0x80480e5
    return function_804805c(v11 * v9 - v8 * a2 + v10, v9 * a2 + v11 * v8, v7);
}

// Address range: 0x8048117 - 0x804818a
int32_t entry_point(void) {
    // 0x8048117
    __asm_int(128);
    int32_t v1 = 0; // bp-24, 0x8048134
    uint32_t v2 = (int32_t)&v1; // 0x8048136
    __asm_int(128);
    __asm_rep_stosb_memset((char *)90, 0, 0x4b000);
    function_804805c(0.0L, 0.0L, 28);
    __asm_int(128);
    __asm_int(204);
    *(char *)1 = *(char *)1 + 1;
    char * v3 = (char *)((int32_t)g1 ^ (int32_t)&g1); // 0x8048160
    *v3 = *v3 + (char)(v2 / 256);
    int16_t v4; // 0x8048117
    int32_t v5 = unknown_3e9999(v4); // 0x8048162
    int32_t result = v5 + 256 * v2 & 0xff00 | v5 & -0xff01; // 0x804816f
    char * v6 = (char *)(result + 0x43e2); // 0x8048172
    char v7 = v5; // 0x8048172
    char v8 = *v6 + v7; // 0x8048172
    *v6 = v8;
    if (v8 != 0) {
        // 0x80481b6
        return result;
    }
    char * v9 = (char *)result; // 0x804817a
    char v10 = *v9 + v7; // 0x804817a
    *v9 = v10;
    char v11 = v10 + v7; // 0x804817c
    int32_t v12; // 0x8048117
    *(char *)v12 = *(char *)&v12 + v11;
    unsigned char v13 = *(char *)&v12 | v11; // 0x8048180
    char v14 = v13 > 153 ? v13 - 96 : v13;
    unsigned char v15 = (v13 & 14) > 9 ? (v13 > 153 ? -102 : -6) + v13 : v14;
    int32_t result2 = result & -256 | (int32_t)v15;
    if (v13 > 153 || v15 == 0) {
        // 0x80481b6
        return result2;
    }
    // 0x8048187
    __asm_bound(*(int32_t *)result2);
    return result2;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: upx (3.xx)
// Detected functions: 4

