// subject_seg08048000_0000.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 08048050: void fn08048050()
void fn08048050()
{
	__syscall(0x80);
	g_dw8093AC4 = 0x05;
	__syscall(0x80);
	__syscall(0x80);
	word32 eax_42 = g_dw8093AC4;
	__syscall(0x80);
	g_ptr80933EA = (word64 *) 0xC0;
	g_dw80933EE = eax_42;
	g_dw80933FC = 0x0280;
	g_dw8093400 = 0x01E0;
	g_dw8093404 = 0x0280;
	g_dw8093408 = 0x01E0;
	g_dw8093414 = 0x08;
	__syscall(0x80);
	g_dw809349C = 0x00;
	g_dw80934A0 = 0x0100;
	g_ptr80934A4 = &g_t80934B4;
	g_ptr80934A8 = &g_t80936B4;
	g_ptr80934AC = &g_t80938B4;
	g_dw80934B0 = 0x00;
	__syscall(0x80);
	g_ptr80934A4 = &g_t80934B4;
	g_ptr80934A8 = &g_t80936B4;
	g_ptr80934AC = &g_t80938B4;
	struct Eq_51 * esi_108 = g_ptr80934A4;
	struct Eq_54 * edi_109 = g_ptr80934A8;
	struct Eq_57 * ebx_110 = g_ptr80934AC;
	word32 ecx_115;
	for (ecx_115 = 0x00; ecx_115 != 0x40; ++ecx_115)
	{
		ui16 ax_119 = (word16) ecx_115 << 0x08;
		esi_108->w0000 = ax_119;
		edi_109->w0000 = 0x00;
		ebx_110->w0000 = 0x00;
		esi_108[64] = (struct Eq_51) 0x3F00;
		edi_109[64] = (struct Eq_54) ax_119;
		ebx_110[64] = (struct Eq_57) 0x00;
		esi_108[0x0080] = (struct Eq_51) 0x3F00;
		edi_109[0x0080] = (struct Eq_54) 0x3F00;
		ebx_110[0x0080] = (struct Eq_57) (ax_119 * 0x02);
		esi_108[0x00C0] = (struct Eq_51) 0x3F00;
		edi_109[0x00C0] = (struct Eq_54) 0x3F00;
		ebx_110[0x00C0] = (struct Eq_57) 0x3F00;
		++esi_108;
		++edi_109;
		++ebx_110;
	}
	__syscall(0x80);
	g_dw8093AC8 = 0x08088405;
	g_dw8093ACC = 19088743;
	__syscall(0x80);
	word32 ecx_168 = 1000;
	do
	{
		word32 * esi_176 = g_a809313C;
		word32 ecx_178;
		for (ecx_178 = 0xA0; ecx_178 != 0x00; --ecx_178)
		{
			uint32 eax_182 = g_dw8093AC8 * g_dw8093ACC;
			g_dw8093ACC = eax_182 + 0x01;
			*esi_176 = eax_182 + 0x01;
			++esi_176;
		}
		struct Eq_183 * esi_194 = g_a80483BC;
		word64 * edi_196 = g_ptr80933EA;
		ui32 ecx_197;
		word64 mm7_198 = g_qw80483A0;
		Eq_193 mm6_199 = g_t80483A8;
		for (ecx_197 = 0x95B0; ecx_197 != 0x00; --ecx_197)
		{
			Eq_202 mm0_211 = __paddusb(__paddusb(__paddusb(esi_194[80], esi_194->qw04FF), esi_194[0x00A0]), esi_194->qw0501);
			*edi_196 = (word64) mm0_211;
			if ((ecx_197 & 0x03) == 0x00)
				mm0_211 = __psubusb(mm0_211, mm6_199);
			Mem234[esi_194 + 0x00:word64] = __pand(__psrlq(mm0_211, 0x02), mm7_198);
			++esi_194;
			++edi_196;
		}
		ecx_168 = ecx_407 - 0x01;
		ecx_407 = ecx_168;
	} while (ecx_407 != 0x01);
	__syscall(0x80);
	fn08048376((uint32) (1000000 /u ((int32) ((int64) (g_dw8093AC0 - g_dw8093AB8) /32 1000) + (g_dw8093ABC - g_dw8093AB4) * 1000)), &g_b8093ADC);
	__syscall(0x80);
	__emms();
	__syscall(0x80);
}

// 08048376: void fn08048376(Register uint32 eax, Register (ptr32 byte) ecx)
// Called from:
//      fn08048050
void fn08048376(uint32 eax, byte * ecx)
{
	fn0804837C(eax, ecx, 0x0A);
}

// 0804837C: void fn0804837C(Register uint32 eax, Register (ptr32 byte) ecx, Register uint32 ebx)
// Called from:
//      fn08048050
//      fn08048376
void fn0804837C(uint32 eax, byte * ecx, uint32 ebx)
{
	do
	{
		uint64 edx_eax_11 = (uint64) eax;
		--ecx;
		*ecx = (byte) (edx_eax_11 % ebx) | 0x30;
		eax = (uint32) (edx_eax_11 /u ebx);
	} while (eax != 0x00);
	__syscall(0x80);
}

word64 g_qw80483A0 = 0x3F3F3F3F3F3F3F3F; // 080483A0
Eq_193 g_t80483A8 = // 080483A8
	{
		0x10000010101
	};
word64 g_a80483BC[] = // 080483BC
	{
	};
Eq_202 g_a804863C[] = // 0804863C
	{
	};
Eq_327 g_a80488BB[] = // 080488BB
	{
	};
// subject_seg08048000_0004.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

uint32 g_a809313C[] = // 0809313C
	{
	};
word64 * g_ptr80933EA = null; // 080933EA
word32 g_dw80933EE = 0x00; // 080933EE
word32 g_dw80933FC = 0x00; // 080933FC
word32 g_dw8093400 = 0x00; // 08093400
word32 g_dw8093404 = 0x00; // 08093404
word32 g_dw8093408 = 0x00; // 08093408
word32 g_dw8093414 = 0x00; // 08093414
word32 g_dw809349C = 0x00; // 0809349C
word32 g_dw80934A0 = 0x00; // 080934A0
struct Eq_51 * g_ptr80934A4 = null; // 080934A4
struct Eq_54 * g_ptr80934A8 = null; // 080934A8
struct Eq_57 * g_ptr80934AC = null; // 080934AC
word32 g_dw80934B0 = 0x00; // 080934B0
Eq_51 g_t80934B4 = // 080934B4
	{
		0x00,
		0x00,
		0x00,
		0x00,
	};
Eq_54 g_t80936B4 = // 080936B4
	{
		0x00,
		0x00,
		0x00,
		0x00,
	};
Eq_57 g_t80938B4 = // 080938B4
	{
		0x00,
		0x00,
		0x00,
		0x00,
	};
uint32 g_dw8093AB4 = 0x00; // 08093AB4
word32 g_dw8093AB8 = 0x00; // 08093AB8
uint32 g_dw8093ABC = 0x00; // 08093ABC
word32 g_dw8093AC0 = 0x00; // 08093AC0
word32 g_dw8093AC4 = 0x00; // 08093AC4
uint32 g_dw8093AC8 = 0x00; // 08093AC8
uint32 g_dw8093ACC = 0x00; // 08093ACC
byte g_b8093ADC = 0x00; // 08093ADC
