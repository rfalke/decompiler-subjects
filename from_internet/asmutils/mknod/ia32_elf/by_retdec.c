//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4);
int32_t function_804814f(void);
int32_t function_8048167(void);
int32_t function_8048186(int32_t a1, int32_t a2);

// --------------------- Global Variables ---------------------

char g1 = 85; // 0x8048122
int32_t g2;

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x804814e
int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4) {
    int32_t v1 = a4;
    __asm_int(128);
    int32_t v2 = a2;
    int32_t v3 = v2 + 1; // 0x804805c
    while (*(char *)v3 != 0) {
        // 0x804805c
        v2 = v3;
        v3 = v2 + 1;
    }
    int32_t v4 = &v1;
    bool v5; // 0x804804c
    bool v6; // 0x804804c
    int32_t v7; // 0x804804c
    int32_t v8; // 0x804804c
    int32_t v9; // 0x804804c
    int32_t v10; // 0x804804c
    int32_t v11; // 0x804804c
    int32_t v12; // bp+16, 0x804804c
    int32_t v13; // 0x80480bc
    int32_t v14; // 0x804807b
    if (*(char *)v2 == 111) {
        // 0x80480a9
        v10 = v4;
        v5 = false;
        if (a3 == 0) {
            goto lab_0x80480cd;
        } else {
            // 0x80480ae
            v7 = 0x118a;
            v8 = 0;
            v11 = v4;
            v6 = false;
            if (*(int16_t *)a3 != 0x6d2d) {
                goto lab_0x8048117;
            } else {
                // 0x80480b5
                v13 = v4;
                if (*(char *)(a3 + 2) != 0) {
                    goto lab_0x80480c1;
                } else {
                    // 0x80480bc
                    v13 = &v12;
                    v10 = v13;
                    v5 = false;
                    if (a4 == 0) {
                        goto lab_0x80480cd;
                    } else {
                        goto lab_0x80480c1;
                    }
                }
            }
        }
    } else {
        // 0x8048068
        v10 = v4;
        v5 = false;
        if (a3 == 0) {
            goto lab_0x80480cd;
        } else {
            // 0x804806d
            v9 = v4;
            if (*(int16_t *)a3 != 0x6d2d) {
                goto lab_0x804808a;
            } else {
                // 0x8048074
                v14 = v4;
                if (*(char *)(a3 + 2) != 0) {
                    goto lab_0x8048080;
                } else {
                    // 0x804807b
                    v14 = &v12;
                    v10 = v14;
                    v5 = false;
                    if (a4 == 0) {
                        goto lab_0x80480cd;
                    } else {
                        goto lab_0x8048080;
                    }
                }
            }
        }
    }
  lab_0x80480cd:;
    int32_t * v15 = (int32_t *)(v10 - 4);
    *v15 = 4;
    __asm_int(128);
    int32_t * v16 = v15; // 0x80480e1
    int32_t v17 = &g1; // 0x80480e1
    int32_t v18 = 45; // 0x80480e1
    int32_t v19 = v10; // 0x80480e1
    int32_t v20; // 0x804804c
    int32_t v21 = v20; // 0x80480e1
    bool v22 = v5; // 0x80480e1
    int32_t v23 = 1; // 0x80480e1
    goto lab_0x804811d;
  lab_0x804811d:
    // 0x804811d
    *v16 = 1;
    __asm_int(128);
    *v16 = v21;
    int32_t result = 1; // 0x8048123
    if (!v22) {
        result = function_8048186((int32_t)&g2, (int32_t)&g2);
    }
    // 0x8048125
    __readgsbyte((0x10000 * v23 + 0x18a0000) / 0x10000);
    int16_t v24 = v18; // 0x8048129
    int32_t v25 = __asm_insd(v24); // 0x8048129
    int32_t v26; // 0x804804c
    int32_t * v27 = (int32_t *)v26; // 0x8048129
    *v27 = v25;
    char * v28 = (char *)(v23 + 45); // 0x804812e
    *v28 = *v28 & (char)v23;
    *v27 = __asm_insd(v24);
    char * v29 = (char *)(100 * *(int32_t *)505 + 111); // 0x8048132
    *v29 = *v29 & (char)(v17 / 256);
    int32_t v30 = *v16; // 0x8048135
    char v31 = v17; // 0x8048138
    *(char *)459 = *(char *)459 & v31;
    char * v32 = (char *)(v17 + 80 + 2 * v23); // 0x804813d
    *v32 = *v32 & (char)v18;
    char * v33 = (char *)(v30 + 66); // 0x8048142
    *v33 = *v33 & v31;
    int32_t v34 = v18 - 1; // 0x8048145
    *v16 = v34;
    char * v35 = (char *)(v30 + 74); // 0x8048148
    *v35 = *v35 & v31;
    *(int32_t *)(v19 - 8) = v34;
    return result;
  lab_0x8048117:;
    int32_t * v36 = (int32_t *)(v11 - 4);
    *v36 = 14;
    __asm_int(128);
    v16 = v36;
    v17 = v7;
    v18 = v8;
    v19 = v11;
    int32_t v37; // 0x804804c
    v21 = v37;
    v22 = v6;
    v23 = 14;
    goto lab_0x804811d;
  lab_0x804808a:;
    int32_t v38 = *(int32_t *)v9; // 0x804808a
    int32_t v39 = v9 + 4; // 0x804808a
    v10 = v39;
    v20 = 0;
    v5 = false;
    int32_t v40; // 0x804804c
    if (v38 == 0) {
        goto lab_0x80480cd;
    } else {
        unsigned char v41 = *(char *)v38; // 0x804808f
        v40 = 0x618a;
        switch (v41) {
            case 98: {
                goto lab_0x80480f9;
            }
            case 99: {
                // 0x80480f9
                v40 = 0x218a;
                goto lab_0x80480f9;
            }
            case 117: {
                // 0x80480f9
                v40 = 0x218a;
                goto lab_0x80480f9;
            }
            default: {
                // 0x80480a1
                v10 = v39;
                v20 = v38;
                v5 = v41 < 112;
                v7 = 0x118a;
                v8 = 0;
                v11 = v39;
                v37 = v38;
                v6 = false;
                if (v41 == 112) {
                    goto lab_0x8048117;
                } else {
                    goto lab_0x80480cd;
                }
            }
        }
    }
  lab_0x80480c1:
    // 0x80480c1
    function_804814f();
    int32_t v42 = v13 + 4; // 0x80480c6
    v10 = v42;
    v5 = false;
    v7 = 0x118a;
    v8 = 0;
    v11 = v42;
    v6 = false;
    if (*(int32_t *)v13 == 0) {
        goto lab_0x80480cd;
    } else {
        goto lab_0x8048117;
    }
  lab_0x8048080:
    // 0x8048080
    function_804814f();
    int32_t v43 = v14 + 4; // 0x8048085
    v9 = v43;
    v10 = v43;
    v5 = false;
    if (*(int32_t *)v14 == 0) {
        goto lab_0x80480cd;
    } else {
        goto lab_0x804808a;
    }
  lab_0x80480f9:;
    int32_t v44 = v9 + 8; // 0x80480fb
    v10 = v44;
    v20 = 0;
    v5 = false;
    if (*(int32_t *)v39 == 0) {
        goto lab_0x80480cd;
    } else {
        int32_t v45 = function_8048167(); // 0x8048100
        int32_t * v46 = (int32_t *)v44; // 0x8048109
        int32_t v47 = *v46; // 0x8048109
        int32_t v48 = v9 + 12; // 0x8048109
        v10 = v48;
        v20 = 0;
        v5 = false;
        if (v47 == 0) {
            goto lab_0x80480cd;
        } else {
            // 0x804810e
            *v46 = 256 * v45;
            int32_t v49 = function_8048167(); // 0x804810f
            uint32_t v50 = *v46; // 0x8048114
            int32_t v51 = v50 + v49; // 0x8048115
            v7 = v40;
            v8 = v51;
            v11 = v48;
            v37 = v47;
            v6 = v51 < v50;
            goto lab_0x8048117;
        }
    }
}

// Address range: 0x804814f - 0x8048167
int32_t function_804814f(void) {
    // 0x804814f
    int32_t v1; // 0x804814f
    unsigned char v2 = *(char *)v1 - 48; // 0x8048158
    int32_t result = v2; // 0x8048158
    if (v2 > 7) {
        // 0x8048166
        return result;
    }
    int32_t result2 = result; // 0x804815a
    int32_t v3; // 0x804814f
    int32_t v4 = v3 + 1; // 0x8048157
    unsigned char v5 = *(char *)v4 - 48; // 0x8048158
    result2 = result2 & -256 | (int32_t)v5;
    while (v5 <= 7) {
        // 0x8048160
        v4++;
        v5 = *(char *)v4 - 48;
        result2 = result2 & -256 | (int32_t)v5;
    }
    // 0x8048166
    return result2;
}

// Address range: 0x8048167 - 0x8048185
int32_t function_8048167(void) {
    // 0x8048167
    int32_t v1; // 0x8048167
    return (v1 + 208) % 256;
}

// Address range: 0x8048186 - 0x804818b
int32_t function_8048186(int32_t a1, int32_t a2) {
    // 0x8048186
    int32_t result; // 0x8048186
    __asm_out(90, result);
    return result;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (4.0.x - 4.2.x)
// Detected functions: 4

