//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2);
int32_t function_80480e3(void);
int32_t function_80481da(void);

// --------------------- Global Variables ---------------------

int16_t g1 = 0; // 0x80481e1
int32_t g2 = 0; // 0x80481e5
int32_t g3 = 0; // 0x80481e9
int32_t g4 = 0; // 0x80482ed
int32_t g5 = 0; // 0x80483ed
char * g6; // 0x80483f5
int32_t g7 = 0; // 0x80487f5
char * g8; // 0x80487f9

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x80480e3
int32_t entry_point(int32_t a1, int32_t a2) {
    int32_t v1 = a2;
    int32_t v2 = &v1; // 0x804804c
    g7 = 1;
    int32_t v3 = a1 + 1; // 0x8048057
    int32_t v4 = *(int32_t *)(4 * v3 + v2); // 0x8048058
    int32_t v5 = v3; // 0x804805d
    int32_t v6 = v3; // 0x804805d
    int32_t v7; // 0x804804c
    char v8; // 0x804804c
    int32_t v9; // 0x804804c
    if (v4 != 0) {
        if (*(int32_t *)v4 == 0x48544150) {
            // 0x8048067
            if (*(char *)(v4 + 4) == 61) {
                // 0x804806d
                v8 = 64;
                v7 = &g4;
                v9 = v4 + 5;
                goto lab_0x8048079;
            }
        }
        // 0x8048057
        v5++;
        int32_t v10 = *(int32_t *)(4 * v5 + v2); // 0x8048058
        v6 = v5;
        while (v10 != 0) {
            int32_t v11 = v10;
            if (*(int32_t *)v11 == 0x48544150) {
                // 0x8048067
                if (*(char *)(v11 + 4) == 61) {
                    // 0x804806d
                    v8 = 64;
                    v7 = &g4;
                    v9 = v11 + 5;
                    goto lab_0x8048079;
                }
            }
            // 0x8048057
            v5++;
            v10 = *(int32_t *)(4 * v5 + v2);
            v6 = v5;
        }
    }
    goto lab_0x804809e;
  lab_0x804809e:
    // 0x804809e
    v1 = 24;
    __asm_int(128);
    g1 = 24;
    v1 = 47;
    __asm_int(128);
    g2 = 47;
    v1 = 80;
    int32_t v12; // 0x804804c
    int32_t v13 = &v12; // 0x80480bd
    __asm_int(128);
    g3 = 80;
    int32_t v14 = v6 - 1; // 0x80480c5
    if (v14 == 0) {
        // 0x80480d8
        *(int32_t *)(v13 - 4) = 1;
        __asm_int(128);
        return 1;
    }
    int32_t * v15 = (int32_t *)v13; // 0x80480c8
    g8 = (char *)*v15;
    *v15 = v14;
    function_80480e3();
    int32_t v16 = v13 + 4; // 0x80480d5
    int32_t v17 = *v15 - 1; // 0x80480c5
    int32_t v18 = v16; // 0x80480c6
    while (v17 != 0) {
        // 0x80480c8
        v15 = (int32_t *)v18;
        g8 = (char *)*v15;
        *v15 = v17;
        function_80480e3();
        v16 = v18 + 4;
        v17 = *v15 - 1;
        v18 = v16;
    }
    // 0x80480d8
    *(int32_t *)(v16 - 4) = 1;
    __asm_int(128);
    return 1;
  lab_0x8048079:;
    char v19 = *(char *)v9; // 0x8048079
    char v20 = v19; // 0x804807d
    int32_t v21 = v9; // 0x804807d
    v6 = a1;
    if (v19 == 0) {
        goto lab_0x804809e;
    } else {
        goto lab_0x804807f;
    }
  lab_0x804807f:;
    int32_t v22 = v21;
    int32_t v23; // 0x804804c
    if (v20 != 58) {
        // 0x8048086
        *(int32_t *)v7 = v22;
        v23 = v22;
        goto lab_0x804808b;
    } else {
        int32_t v24 = v22 + 1; // 0x8048083
        char v25 = *(char *)v24; // 0x8048079
        v20 = v25;
        v21 = v24;
        v6 = a1;
        if (v25 == 0) {
            goto lab_0x804809e;
        } else {
            goto lab_0x804807f;
        }
    }
  lab_0x804808b:;
    int32_t v26 = v23;
    int32_t v27 = v26 + 1; // 0x804808b
    char * v28 = (char *)v27;
    char v29 = *v28; // 0x804808c
    v6 = a1;
    if (v29 == 0) {
        goto lab_0x804809e;
    } else {
        // 0x8048092
        v23 = v27;
        if (v29 != 58) {
            goto lab_0x804808b;
        } else {
            // 0x8048096
            *v28 = 0;
            char v30 = v8 - 1; // 0x804809a
            v8 = v30;
            v7 += 4;
            v9 = v26 + 2;
            v6 = a1;
            if (v30 != 0) {
                goto lab_0x8048079;
            } else {
                goto lab_0x804809e;
            }
        }
    }
}

// Address range: 0x80480e3 - 0x80481da
int32_t function_80480e3(void) {
    int32_t v1 = (int32_t)g8; // 0x80480e8
    unsigned char v2 = *(char *)v1; // 0x80480ee
    int32_t v3; // 0x80480e3
    int32_t v4 = v3 & -256 | (int32_t)v2; // 0x80480ef
    int32_t v5 = v4; // 0x80480f1
    int32_t v6 = &g4; // 0x80480f1
    int32_t v7; // 0x80480e3
    while (v2 != 0) {
        // 0x80480f3
        bool v8; // 0x80480e3
        v1 += (v8 ? -1 : 1);
        v7 = &g5;
        if (v2 == 47) {
            goto lab_0x804812a;
        }
        v2 = *(char *)v1;
        v4 = v4 & -256 | (int32_t)v2;
        v5 = v4;
        v6 = &g4;
    }
    while (true) {
        int32_t v9 = v6;
        int32_t v10 = *(int32_t *)v9; // 0x8048103
        int32_t result = v5; // 0x8048108
        if (v10 == 0) {
            // 0x8048191
            return result;
        }
        unsigned char v11 = *(char *)v10; // 0x804810e
        result = v5 & -256 | (int32_t)v11;
        if (v11 == 0) {
            // 0x8048191
            return result;
        }
        // 0x8048118
        function_80481da();
        v7 = v9;
        if (*(char *)((int32_t)&g6 - 1) != 47) {
            // 0x8048129
            *(char *)((int32_t)&g6 - 1) = 47;
            v7 = v9;
        }
      lab_0x804812a:
        // 0x804812a
        function_80481da();
        int32_t v12; // 0x80480e3
        *(int32_t *)(v12 - 4) = 106;
        __asm_int(128);
        v5 = -106;
        v6 = v7 + 4;
    }
}

// Address range: 0x80481da - 0x80481e1
int32_t function_80481da(void) {
    // 0x80481da
    int32_t v1; // 0x80481da
    char v2 = v1;
    *(char *)v1 = v2;
    int32_t result = v1 & -256 | v1 % 256; // 0x80481de
    if (v2 != 0) {
        result = function_80481da();
    }
    // 0x80481e0
    return result;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (4.2.1)
// Detected functions: 3

