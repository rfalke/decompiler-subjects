// subject_seg08048000.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0804804C: void fn0804804C(Stack word32 dwArg00, Stack (ptr32 Eq_3) dwArg04, Stack (ptr32 word16) dwArg08, Stack (ptr32 byte) dwArg0C, Stack (ptr32 word16) dwArg10)
void fn0804804C(word32 dwArg00, struct Eq_3 * dwArg04, word16 * dwArg08, byte * dwArg0C, word16 * dwArg10)
{
	cu8 cl_24 = (byte) dwArg00 - 0x01;
	if (dwArg00 == 0x01)
		fn08048064();
	else
	{
		struct Eq_3 * esi_13 = dwArg04;
		word16 * ebx_11 = dwArg08;
		do
		{
			esi_13 = esi_261 + 1;
			esi_261 = esi_13;
		} while (esi_261->b0000 != 0x00);
		if (esi_13->bFFFFFFF9 != 117)
		{
			if (cl_24 < 0x02)
				fn08048064();
			else
			{
				if (*dwArg08 == 0x6F2D)
				{
					byte * ebp_125 = dwArg0C;
					do
					{
						byte * esi_34 = ebp_125;
						do
						{
							byte al_37 = *esi_34;
							++esi_34;
							if (al_37 == 44)
								goto l080480C5;
						} while (al_37 != 0x00);
						++g_b80481D5;
l080480C5:
						bool v31_218 = esi_34 - ebp_125 != 0x01;
						word32 ecx_118 = 0x07;
						struct Eq_53 * edx_116 = g_a8048156;
						do
						{
							byte * esi_83 = ebp_125;
							byte * edi_84 = edx_116->dw0000;
							int32 ecx_85 = esi_34 - ebp_125 - 0x01;
							while (ecx_85 != 0x00)
							{
								v31_218 = *esi_263 != *edi_264;
								esi_83 = esi_263 + 1;
								edi_84 = edi_264 + 1;
								--ecx_85;
								esi_263 = esi_83;
								edi_264 = edi_84;
								if (*esi_263 == *edi_264)
									break;
							}
							if (!v31_218)
							{
								g_dw80481D1 |= edx_116->dw0004;
								break;
							}
							++edx_116;
							v31_218 = edx_116 != (struct Eq_53 *) 0x08;
							ecx_118 = ecx_262 - 0x01;
							ecx_262 = ecx_118;
						} while (ecx_262 != 0x01);
						ebp_125 = esi_34;
					} while (g_b80481D5 != 0x01);
					ebx_11 = dwArg10;
				}
				*ebx_11 != 0x742D;
				fn08048140();
				g_dw80481D1 |= 0x01;
				fn08048140();
				g_dw80481D1 &= ~0x01;
				g_dw80481D1 |= 0x04;
				fn08048140();
				g_dw80481D1 |= 0x01;
				fn08048140();
				fn08048064();
			}
		}
		else
		{
			__syscall(0x80);
			fn08048064();
		}
	}
}

// 08048064: void fn08048064()
// Called from:
//      fn0804804C
//      fn08048140
void fn08048064()
{
}

// 08048140: void fn08048140()
// Called from:
//      fn0804804C
void fn08048140()
{
	__syscall(0x80);
	fn08048064();
}

Eq_173 g_a8048156[] = // 08048156
	{
	};
ui32 g_dw80481D1 = 0x00; // 080481D1
byte g_b80481D5 = 0x00; // 080481D5
