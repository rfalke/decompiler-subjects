//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4);
int32_t function_8048140(void);

// --------------------- Global Variables ---------------------

char (*g1)[3] = "ro"; // 0x8048156
int32_t g2 = 0; // 0x80481d1
char g3 = 0; // 0x80481d5

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x8048140
int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4) {
    int32_t v1 = a4;
    int32_t v2 = a2;
    int32_t v3 = a1 - 1; // 0x804804d
    int32_t v4 = &v2; // 0x804804e
    int32_t v5; // 0x804804c
    int32_t v6; // 0x804804c
    int32_t v7; // 0x804804c
    int32_t v8; // 0x80480b3
    int32_t * v9; // 0x80480d4
    int32_t * v10; // 0x80480d4
    int32_t * v11; // 0x80480d4
    int32_t * v12; // 0x80480d4
    int32_t * v13; // 0x80480d4
    int32_t * v14; // 0x80480d4
    int32_t v15; // 0x80480b6
    int32_t v16; // 0x80480b6
    int32_t v17; // 0x8048052
    if (v3 == 0) {
        goto lab_0x804806b;
    } else {
        // 0x8048050
        bool v18; // 0x804804c
        v17 = v18 ? -1 : 1;
        int32_t v19 = a2;
        int32_t v20; // 0x804804c
        int32_t v21 = v20 & -256; // 0x8048052
        int32_t v22 = v19 + v17; // 0x8048052
        v20 = v21;
        while (*(char *)v19 != 0) {
            // 0x8048052
            v19 = v22;
            v21 = v20 & -256;
            v22 = v19 + v17;
            v20 = v21;
        }
        int32_t v23 = &v1; // 0x8048051
        if (*(char *)(v22 - 7) != 117) {
            // 0x80480a7
            v4 = v23;
            if ((char)v3 < 2) {
                goto lab_0x804806b;
            } else {
                int16_t v24 = *(int16_t *)a3; // 0x80480ac
                int16_t v25 = v24; // 0x80480b1
                int32_t v26 = v23; // 0x80480b1
                if (v24 == 0x6f2d) {
                    // 0x80480b3
                    int32_t v27; // bp+16, 0x804804c
                    v8 = &v27;
                    v9 = (int32_t *)(v8 - 4);
                    v10 = (int32_t *)(v8 - 8);
                    v11 = (int32_t *)(v8 - 12);
                    v12 = (int32_t *)(v8 - 16);
                    v13 = (int32_t *)(v8 - 24);
                    v14 = (int32_t *)(v8 - 28);
                    v5 = v21;
                    v6 = a4;
                    while (true) {
                      lab_0x80480b4:;
                        unsigned char v28 = *(char *)v6; // 0x80480b6
                        v15 = v5 & -256 | (int32_t)v28;
                        v16 = v6 + v17;
                        while (v28 != 44) {
                            int32_t v29 = v15; // 0x80480bd
                            int32_t v30 = v16; // 0x80480bd
                            if (v28 == 0) {
                                // 0x80480bf
                                g3++;
                                goto lab_0x80480c5;
                            }
                            v28 = *(char *)v30;
                            v15 = v29 & -256 | (int32_t)v28;
                            v16 = v30 + v17;
                        }
                        goto lab_0x80480c5;
                    }
                  lab_0x80480fb:
                    // 0x80480fb
                    v25 = *(int16_t *)v27;
                    v26 = v8 + 4;
                }
                int32_t v31 = v26;
                function_8048140();
                g2 |= 1;
                function_8048140();
                g2 = g2 & -6 | 4;
                function_8048140();
                g2 |= 1;
                function_8048140();
                v7 = (v25 != 0x742d ? v31 : v31 + 8) + 4;
                goto lab_0x8048064;
            }
        } else {
            // 0x804805d
            __asm_int(128);
            v7 = v23;
            goto lab_0x8048064;
        }
    }
  lab_0x80480c5:;
    int32_t v32 = v16 + -1 - v6; // 0x80480c9
    int32_t v33 = v32; // 0x80480cf
    int32_t v34 = v15; // 0x80480cf
    int32_t v35 = 7; // 0x80480cf
    int32_t v36 = (int32_t)&g1; // 0x80480cf
    int32_t v37 = v32; // 0x80480cf
    int32_t v38 = v6; // 0x80480cf
    int32_t v39 = v16; // 0x80480cf
    int32_t v40; // 0x804804c
    int32_t v41; // 0x804804c
    int32_t v42; // 0x804804c
    int32_t v43; // 0x804804c
    while (true) {
        int32_t v44 = v38;
        int32_t v45 = v37;
        int32_t v46 = v36;
        int32_t v47 = v33;
        *v9 = v34;
        *v10 = v35;
        *v11 = v46;
        *v12 = v45;
        *(int32_t *)(v8 - 20) = v8;
        *v13 = v44;
        *v14 = v39;
        int32_t v48; // 0x804804c
        int32_t v49; // 0x804804c
        if (v45 == 0) {
            int32_t v50 = *v14; // 0x80480dd
            int32_t v51 = *v11; // 0x80480dd
            v40 = v51;
            v41 = v50;
            v48 = v51;
            v49 = v50;
            if (v47 == 0) {
                // break -> 0x80480e0
                break;
            }
        } else {
            int32_t v52 = v45; // 0x80480db
            int32_t v53 = v44; // 0x804804c
            int32_t v54 = *(int32_t *)v46; // 0x804804c
            while (*(char *)v53 == *(char *)v54) {
                v52--;
                v54 += v17;
                v53 += v17;
                if (v52 == 0) {
                    // ._crit_edge.thread
                    v40 = *v11;
                    v41 = *v14;
                    goto lab_0x80480e0;
                }
            }
            // .thread
            v48 = *v11;
            v49 = *v14;
        }
        int32_t v55 = *v9;
        int32_t v56 = v48 + 8; // 0x80480eb
        int32_t v57 = *v10 - 1; // 0x80480ee
        v33 = v56;
        v34 = v55;
        v35 = v57;
        v36 = v56;
        v37 = *v12;
        v38 = *v13;
        v39 = v49;
        v42 = v49;
        v43 = v55;
        if (v57 == 0) {
            goto lab_0x80480f0;
        }
    }
    goto lab_0x80480e0;
  lab_0x80480e0:;
    int32_t v58 = *(int32_t *)(v40 + 4); // 0x80480e0
    g2 |= v58;
    v42 = v41;
    v43 = v58;
  lab_0x80480f0:
    // 0x80480f0
    v5 = v43;
    v6 = v42;
    if (g3 == 1) {
        // break -> 0x80480fb
        goto lab_0x80480fb;
    }
    goto lab_0x80480b4;
  lab_0x804806b:;
    int32_t * v59 = (int32_t *)(v4 - 4); // 0x8048072
    *v59 = 5;
    __asm_int(128);
    *v59 = 3;
    __asm_int(128);
    *v59 = 4;
    __asm_int(128);
    v7 = v4;
    goto lab_0x8048064;
  lab_0x8048064:
    // 0x8048064
    *(int32_t *)(v7 - 4) = 1;
    __asm_int(128);
    v4 = v7;
    goto lab_0x804806b;
}

// Address range: 0x8048140 - 0x8048156
int32_t function_8048140(void) {
    // 0x8048140
    __asm_int(128);
    return 21;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: upx (3.93 [lzma])
// Detected functions: 2

