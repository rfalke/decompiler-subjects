//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(uint32_t a1, int32_t a2, int32_t a3);
int32_t function_8048073(void);

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x8048073
int32_t entry_point(uint32_t a1, int32_t a2, int32_t a3) {
    int32_t v1 = a2;
    if (a1 < 3) {
        // 0x804806c
        *(int32_t *)((int32_t)&v1 - 4) = 1;
        __asm_int(128);
        return 1;
    }
    // 0x8048052
    int32_t v2; // bp+12, 0x804804c
    int32_t v3 = &v2; // 0x8048053
    if (function_8048073() == -1) {
        // 0x804806c
        *(int32_t *)(v3 - 4) = 1;
        __asm_int(128);
        return 1;
    }
    int32_t v4 = v3 + 4; // 0x8048060
    int32_t v5 = v4; // 0x8048063
    if (v2 == 0) {
        // 0x804806c
        *(int32_t *)(v4 - 4) = 1;
        __asm_int(128);
        return 1;
    }
    *&v2 = 15;
    __asm_int(128);
    int32_t * v6 = (int32_t *)v5; // 0x8048060
    v5 += 4;
    while (*v6 != 0) {
        // 0x8048065
        *v6 = 15;
        __asm_int(128);
        v6 = (int32_t *)v5;
        v5 += 4;
    }
    // 0x804806c
    *(int32_t *)(v5 - 4) = 1;
    __asm_int(128);
    return 1;
}

// Address range: 0x8048073 - 0x80480a6
int32_t function_8048073(void) {
    // 0x8048073
    int32_t v1; // 0x8048073
    char v2 = *(char *)v1; // 0x8048081
    char v3 = v2; // 0x8048085
    int32_t v4 = 0; // 0x8048085
    int32_t result = 0; // 0x8048085
    if (v2 != 0) {
        unsigned char v5 = v3 - 48;
        while (v3 > 47 == v5 < 8) {
            uint32_t v6 = result;
            v4 = v4 & -256 | (int32_t)v5;
            int32_t v7; // 0x8048073
            int32_t v8 = v6 / 0x2000 % 8 | v7 & -0x10000; // 0x8048091
            result = (8 * v6 & 0xfff8 | v6 & -0x10000) + v4;
            int32_t v9; // 0x8048073
            int32_t v10 = v9 + 1; // 0x8048096
            v3 = *(char *)v10;
            v9 = v10;
            v7 = v8;
            if (v3 == 0) {
                // 0x8048099
                if (v8 != v10) {
                    return result;
                } else {
                    return -1;
                }
            }
            v5 = v3 - 48;
        }
    }
  lab_0x804809d:
    // 0x80480a0
    return -1;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: free pascal (2.6.0)
// Detected functions: 2

