/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

// char __usercall sub_804804C@<al>(unsigned int@<eax>, int@<edi>);
void __cdecl __noreturn start(int, int, int, unsigned int, unsigned int, unsigned int, unsigned int, unsigned int, unsigned int);

//-------------------------------------------------------------------------
// Data declarations

__int16 word_804813A = 8224; // weak
char byte_8048183 = 'S'; // weak


//----- (0804804C) --------------------------------------------------------
char __usercall sub_804804C@<al>(unsigned int a1@<eax>, int a2@<edi>)
{
  int v2; // ecx
  __int64 v3; // rt2
  _BYTE *v4; // edi
  int v5; // ecx
  char result; // al

  v2 = 7;
  if ( a1 )
  {
    do
    {
      if ( !a1 )
        break;
      v3 = a1 % 10LL;
      a1 /= 10LL;
      *(_BYTE *)(a2 + v2--) = v3 + 48;
    }
    while ( v2 );
  }
  else
  {
    *(_BYTE *)(a2 + 7) = 48;
    v2 = 6;
  }
  v4 = (_BYTE *)(v2 + a2);
  v5 = v2 + 1;
  result = 32;
  while ( v5 )
  {
    *v4-- = 32;
    --v5;
  }
  memset(v4 + 9, 32, 3u);
  return result;
}

//----- (08048080) --------------------------------------------------------
void __cdecl __noreturn start(
        int a1,
        int a2,
        int a3,
        unsigned int a4,
        unsigned int a5,
        unsigned int a6,
        unsigned int a7,
        unsigned int a8,
        unsigned int a9)
{
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  _BYTE v15[80]; // [esp-50h] [ebp-50h] BYREF
  void *retaddr; // [esp+0h] [ebp+0h] BYREF

  v9 = sys_write(1, &word_804813A, 0x49u);
  v10 = sys_sysinfo((struct sysinfo *)&retaddr);
  sub_804804C(a4 >> 10, (int)v15);
  sub_804804C((a4 - a5) >> 10, (int)v15);
  sub_804804C(a5 >> 10, (int)v15);
  sub_804804C(a6 >> 10, (int)v15);
  sub_804804C(a7 >> 10, (int)v15);
  v15[0] = 10;
  v11 = sys_write(1, v15, 0x3Cu);
  v12 = sys_write(1, &byte_8048183, 0xAu);
  sub_804804C(a8 >> 10, (int)v15);
  sub_804804C((a8 - a9) >> 10, (int)v15);
  sub_804804C(a9 >> 10, (int)v15);
  v15[0] = 10;
  v13 = sys_write(1, v15, 0x22u);
  v14 = sys_exit(0);
}
// 804813A: using guessed type __int16 word_804813A;
// 8048183: using guessed type char byte_8048183;

// nfuncs=2 queued=2 decompiled=2 lumina nreq=0 worse=0 better=0
// ALL OK, 2 function(s) have been successfully decompiled
