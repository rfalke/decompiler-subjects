//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(uint32_t a1, int32_t a2);
int32_t function_80480b8(void);
int32_t function_80480cc(void);
int32_t function_80480e7(void);
int32_t function_804810e(void);
int32_t function_804811f(void);
int32_t function_804812c(void);

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x80480b8
int32_t entry_point(uint32_t a1, int32_t a2) {
    int32_t v1 = a2;
    int32_t v2 = a1; // 0x8048050
    int32_t v3 = &v1; // 0x8048050
    int32_t v4; // 0x804804c
    int32_t v5; // 0x804804c
    if (a1 >= 3) {
        // 0x8048056
        int32_t v6; // 0x804804c
        int32_t v7 = &v6; // 0x8048056
        v2 = a1 - 2;
        int32_t * v8 = (int32_t *)(4 * v2 + v7); // 0x804805b
        *v8 = 0;
        int32_t v9 = v7; // 0x804805e
        int32_t v10 = *(int32_t *)v9; // 0x8048065
        v9 += 4;
        v3 = v9;
        v5 = v10;
        v4 = *v8;
        while (v10 != 0) {
            // 0x8048065
            v10 = *(int32_t *)v9;
            v9 += 4;
            v3 = v9;
            v5 = v10;
            v4 = *v8;
        }
    }
    int32_t v11 = v3;
    int32_t * v12 = (int32_t *)(v11 - 4); // 0x804806c
    *v12 = 1;
    __asm_int(128);
    *v12 = 1;
    *(int32_t *)(v11 - 8) = v2;
    *(int32_t *)(v11 - 16) = 0;
    *(int32_t *)(v11 - 20) = v11;
    *(int32_t *)(v11 - 28) = v5;
    *(int32_t *)(v11 - 32) = v4;
    function_80480e7();
    int32_t * v13 = (int32_t *)(v11 - 36); // 0x8048079
    *v13 = v4;
    function_804810e();
    int32_t v14; // 0x804804c
    char * v15 = (char *)(v14 - 1 + v5); // 0x804808a
    if (*v15 == 47) {
        // 0x804808e
        *v15 = 0;
    }
    // 0x8048090
    function_80480b8();
    *v13 = 38;
    __asm_int(128);
    return *v12;
}

// Address range: 0x80480b8 - 0x80480cc
int32_t function_80480b8(void) {
    // 0x80480b8
    function_804811f();
    function_80480cc();
    function_804812c();
    int32_t result; // 0x80480b8
    return result;
}

// Address range: 0x80480cc - 0x80480e7
int32_t function_80480cc(void) {
    int32_t v1 = function_804810e(); // 0x80480d0
    int32_t v2; // 0x80480cc
    int32_t v3 = 2 * v2;
    if (*(char *)(v3 - 1) != 47) {
        // 0x80480df
        *(int16_t *)v3 = 47;
    }
    // 0x80480e4
    return v1 & -0x10000 | 47;
}

// Address range: 0x80480e7 - 0x804810e
int32_t function_80480e7(void) {
    // 0x80480e7
    __asm_int(128);
    int32_t result; // 0x80480e7
    return result;
}

// Address range: 0x804810e - 0x804811f
int32_t function_804810e(void) {
    // 0x804810e
    int32_t v1; // 0x804810e
    while (*(char *)v1 != 0) {
        // 0x8048116
        v1++;
    }
    // 0x804811c
    int32_t result; // 0x804810e
    return result;
}

// Address range: 0x804811f - 0x804812c
int32_t function_804811f(void) {
    // 0x804811f
    function_804810e();
    int32_t result; // 0x804811f
    __asm_rep_movsb_memcpy((char *)result, (char *)result, result + 1);
    return result;
}

// Address range: 0x804812c - 0x8048144
int32_t function_804812c(void) {
    // 0x804812c
    int32_t result; // 0x804812c
    int32_t v1 = result;
    function_804810e();
    function_804810e();
    __asm_rep_movsb_memcpy((char *)(v1 + result), (char *)result, v1 + 1);
    return result;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (4.4.3)
// Detected functions: 7

