//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2);

// --------------------- Global Variables ---------------------

char * g1; // 0x80480a4

// ------------------------ Functions -------------------------

// Address range: 0x804804d - 0x80480a4
int32_t entry_point(int32_t a1, int32_t a2) {
    int32_t v1 = a2;
    if (a1 != 1) {
        // 0x804809d
        *(int32_t *)((int32_t)&v1 - 4) = 1;
        __asm_int(128);
        return 1;
    }
    int32_t v2 = a2; // 0x8048051
    while (*(char *)v2 != 0) {
        // 0x8048052
        bool v3; // 0x804804d
        v2 += (v3 ? -1 : 1);
    }
    // 0x804805c
    int32_t v4; // 0x804804d
    int32_t v5 = &v4; // 0x8048051
    int32_t * v6 = (int32_t *)(v5 - 4);
    int32_t v7 = (int32_t)&g1; // 0x804804d
    while (true) {
        int32_t v8 = v7;
        *v6 = 3;
        __asm_int(128);
        char v9 = *(char *)v8;
        while (*(int16_t *)(v2 - 6) == 0x6d6f) {
            // 0x8048096
            v7 = v8;
            if (v9 != 13) {
                goto lab_0x8048089;
            }
            *v6 = 3;
            __asm_int(128);
            v9 = *(char *)v8;
        }
        // 0x8048072
        v7 = v8;
        if (v9 == 10) {
            // 0x8048077
            *v6 = v8;
            *(int32_t *)(v5 - 8) = 4;
            __asm_int(128);
            v7 = *v6;
        }
      lab_0x8048089:
        // 0x8048089
        *v6 = 4;
        __asm_int(128);
    }
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: upx (3.xx)
// Detected functions: 1

