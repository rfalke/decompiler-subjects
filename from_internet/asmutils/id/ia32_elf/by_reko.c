// subject_seg08048000.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0804804C: void fn0804804C()
void fn0804804C()
{
	__syscall(0x80);
	fn080480D4(0x18);
	__syscall(0x80);
	fn080480D4(0x2F);
	fn08048083();
	__syscall(0x80);
	__syscall(0x80);
	fn08048083();
}

// 08048083: void fn08048083()
// Called from:
//      fn0804804C
void fn08048083()
{
fn08048083_entry:
	__syscall(0x80)
	__syscall(0x80)
	word16 * esi_22 = g_a8048127
	word32 ebp_23 = 0x50
	goto l080480AA
l08048083:
l080480AA:
	esi_22 = esi_22 + 1
	byte * edi_41 = fn08048108((uint32) *esi_22, &g_b80481A7)
	word32 ebp_48 = ebp_23 - 0x01
	branch ebp_48 == 0x00 l080480C2
l080480BF:
	*edi_41 = 44
l080480C2:
	__syscall(0x80)
	ebp_23 = ebp_48
	branch ebp_48 != 0x00 l080480AA
	goto l080480AA
}

// 080480D4: void fn080480D4(Register Eq_9 eax)
// Called from:
//      fn0804804C
void fn080480D4(Eq_9 eax)
{
	if (eax >= 0x00)
	{
		*fn08048108(eax, &g_b80481A7) = 0x09;
		__syscall(0x80);
		__syscall(0x80);
	}
}

// 08048108: Register (ptr32 byte) fn08048108(Register Eq_9 eax, Register (ptr32 byte) edi)
// Called from:
//      fn08048083
//      fn080480D4
byte * fn08048108(Eq_9 eax, byte * edi)
{
	word32 * esp_17 = fp;
	word32 ecx_22 = 0x00;
	do
	{
		uint64 edx_eax_10 = (uint64) eax;
		uint32 edx_13 = (uint32) (edx_eax_10 % 0x0A);
		esp_17 -= 4;
		*esp_17 = SEQ(SLICE(edx_13, word24, 8), (byte) edx_13 + 0x30);
		eax.u1 = (uint32) (edx_eax_10 /u 0x0A);
		++ecx_22;
	} while (eax != 0x00);
	do
	{
		*edi = (byte) dwLoc04;
		++edi;
		--ecx_22;
	} while (ecx_22 != 0x00);
	return edi;
}

word16 g_a8048127[] = // 08048127
	{
	};
byte g_b80481A7 = 0x00; // 080481A7
