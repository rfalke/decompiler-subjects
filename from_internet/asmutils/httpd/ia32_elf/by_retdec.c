//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(uint32_t a1, int32_t a2, int32_t a3, int32_t a4);

// --------------------- Global Variables ---------------------

char * g1; // 0x8048410
int32_t g2 = 0; // 0x8048414

// ------------------------ Functions -------------------------

// Address range: 0x804805a - 0x8048212
int32_t entry_point(uint32_t a1, int32_t a2, int32_t a3, int32_t a4) {
    int32_t v1 = a2;
    int32_t * v2 = &v1; // 0x804805e
    int32_t v3 = a1; // 0x804805e
    if (a1 >= 3) {
        // 0x8048060
        g1 = (char *)a3;
        unsigned char v4 = *(char *)a4; // 0x804806c
        unsigned char v5 = v4 - 48; // 0x804806d
        int32_t v6 = 0; // 0x804806f
        if (v4 > 47 == v5 < 10) {
            int32_t v7 = v5; // 0x804805a
            int32_t v8 = 0; // 0x8048078
            int32_t v9 = a4; // 0x804806c
            bool v10; // 0x804805a
            v9 += (v10 ? -1 : 1);
            v8 = 10 * v8 + v7;
            unsigned char v11 = *(char *)v9; // 0x804806c
            unsigned char v12 = v11 - 48; // 0x804806d
            v7 = v7 & -256 | (int32_t)v12;
            v6 = v8;
            while (v11 > 47 == v12 < 10) {
                // 0x8048075
                v9 += (v10 ? -1 : 1);
                v8 = 10 * v8 + v7;
                v11 = *(char *)v9;
                v12 = v11 - 48;
                v7 = v7 & -256 | (int32_t)v12;
                v6 = v8;
            }
        }
        uint32_t v13 = v6;
        g2 = 0x10000 * (v13 / 256 % 256 | 256 * v13) | 2;
        v1 = 2;
        __asm_int(128);
        v1 = 2;
        __asm_int(128);
        int32_t v14; // bp+16, 0x804805a
        v2 = &v14;
        v3 = 102;
    }
    int32_t v15 = (int32_t)v2;
    int32_t * v16 = (int32_t *)(v15 - 4); // 0x80480be
    while (true) {
        // 0x80480be
        *v16 = 1;
        __asm_int(128);
        *v16 = 16;
        *(int32_t *)(v15 - 8) = (int32_t)&g2;
        *(int32_t *)(v15 - 12) = v3;
        *(int32_t *)(v15 - 16) = 102;
        __asm_int(128);
    }
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: free pascal (2.6.0)
// Detected functions: 1

