//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2);
int32_t function_8048106(void);

// --------------------- Global Variables ---------------------

int32_t g1 = 0; // 0x804811a
int32_t g2 = 0; // 0x804811e
int32_t g3 = 0; // 0x8048122

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x8048106
int32_t entry_point(int32_t a1, int32_t a2) {
    // 0x804804c
    g2 = 0;
    g1 = 10;
    int32_t v1; // 0x804804c
    int32_t v2 = &v1; // 0x8048066
    int32_t v3 = v2; // 0x8048067
    int32_t v4 = v2; // 0x8048067
    int32_t v5 = 0; // 0x8048067
    if (a1 == 1) {
        goto lab_0x80480ba_2;
    } else {
        goto lab_0x804808d_3;
    }
  lab_0x80480ba_2:
    // 0x80480ba
    v3 = v4;
    int32_t * v6 = (int32_t *)(v3 - 4); // 0x80480c5
    *v6 = 3;
    __asm_int(128);
    int32_t v7 = g2; // 0x80480d0
    if (v7 >= 0 != v7 != 0) {
        int32_t v8 = 0;
        int32_t v9; // 0x80480ea
        if (*(char *)(int32_t)&g3 == 10) {
            // 0x80480ea
            v9 = g1 - 1;
            g1 = v9;
            if (v9 == 0) {
                // break -> 0x80480fa
                break;
            }
        }
        int32_t v10 = v8 + 1; // 0x80480e2
        int32_t v11 = v8; // 0x80480e2
        while (v8 <= 2) {
            // 0x80480e4
            v8 = v10;
            if (*(char *)(v11 + (int32_t)&g3 + 1) == 10) {
                // 0x80480ea
                v9 = g1 - 1;
                g1 = v9;
                if (v9 == 0) {
                    // break -> 0x80480fa
                    break;
                }
            }
            // 0x80480df
            v10 = v8 + 1;
            v11 = v8;
        }
    }
    // 0x80480fa
    *v6 = 4;
    __asm_int(128);
    goto lab_0x804808d_3;
  lab_0x804808d_3:;
    int32_t v12 = v5;
    int32_t v13 = v3; // 0x804804c
    int32_t v14; // 0x804804c
    int32_t * v15; // 0x804804c
    while (true) {
      lab_0x804808d_2:
        // 0x804808d
        v14 = v13;
        v15 = (int32_t *)v14;
        int32_t v16 = *v15; // 0x804808d
        int32_t v17 = v16; // 0x8048090
        if (v16 == 0) {
            if (v12 == 0) {
                // 0x80480ba
                v4 = v14 + 4;
                v5 = 0;
                goto lab_0x80480ba_2;
            }
            // 0x8048096
            *v15 = 1;
            __asm_int(128);
            v17 = 0;
        }
        // 0x804809d
        switch (*(int16_t *)v17) {
            case 0x6e2d: {
                // 0x8048078
                g1 = function_8048106();
                // 0x804808d
                v13 = v14 + 8;
                goto lab_0x804808d_2;
            }
            case 0x632d: {
                // 0x804806b
                g2 = function_8048106();
                // 0x804808d
                v13 = v14 + 8;
                goto lab_0x804808d_2;
            }
            default: {
                goto lab_0x80480ab;
            }
        }
    }
  lab_0x80480ab:
    // 0x80480ab
    *v15 = 5;
    __asm_int(128);
    v4 = v14 + 4;
    v5 = 5;
    goto lab_0x80480ba_2;
}

// Address range: 0x8048106 - 0x804811a
int32_t function_8048106(void) {
    // 0x8048106
    int32_t v1; // 0x8048106
    char v2 = *(char *)v1; // 0x804810a
    if (v2 == 0) {
        // 0x8048118
        return 0;
    }
    int32_t result = 0; // 0x8048114
    int32_t v3 = 0; // 0x804810f
    int32_t v4; // 0x8048106
    bool v5; // 0x8048106
    int32_t v6 = v4 + (v5 ? -1 : 1); // 0x804810a
    v3 = v3 & -256 | (int32_t)(v2 - 48);
    result = v3 + 10 * result;
    char v7 = *(char *)v6; // 0x804810a
    while (v7 != 0) {
        // 0x804810f
        v6 += (v5 ? -1 : 1);
        v3 = v3 & -256 | (int32_t)(v7 - 48);
        result = v3 + 10 * result;
        v7 = *(char *)v6;
    }
    // 0x8048118
    return result;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (4.6.3)
// Detected functions: 2

