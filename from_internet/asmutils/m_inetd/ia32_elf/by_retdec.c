//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4);
int32_t function_804821e(void);
int32_t function_8048236(void);
int32_t function_8048252(void);
int32_t function_8048253(void);

// --------------------- Global Variables ---------------------

int32_t g1 = 1; // 0x8048259
int32_t g2 = 0; // 0x8049261
int32_t g3 = 0; // 0x8049263
int32_t g4 = 0; // 0x8049264
char * g5; // 0x8049271
int32_t g6 = 0; // 0x8049291
char * g7; // 0x8049299

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x8048212
int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4) {
    int32_t v1 = a4;
    int32_t v2 = a2;
    int32_t * v3 = &v2; // 0x8048050
    int32_t v4; // 0x804804c
    if ((a1 & -2) == 4) {
        if (a1 == 5) {
            // 0x8048059
            *(char *)0x80492a1 = 5;
            g7 = (char *)&g5;
        }
        // 0x8048068
        g6 = function_8048236();
        v1 = function_8048236();
        v2 = 1;
        __asm_int(128);
        v2 = &g1;
        __asm_int(128);
        v3 = &v1;
        v4 = 102;
    }
    int32_t v5 = (int32_t)v3; // 0x804804c
    while (true) {
        int32_t * v6 = (int32_t *)(v5 - 4); // 0x80480b2
        *v6 = 1;
        __asm_int(128);
        int32_t * v7 = (int32_t *)v5; // 0x80480b7
        uint32_t v8 = *v7; // 0x80480b7
        g2 = 2;
        *(char *)&g3 = (char)(v8 / 256);
        *(char *)&g4 = (char)v8;
        *v7 = 16;
        *v6 = (int32_t)&g2;
        *(int32_t *)(v5 - 8) = v4;
        *(int32_t *)(v5 - 12) = 102;
        __asm_int(128);
        v5 += 4;
    }
}

// Address range: 0x804821e - 0x8048236
int32_t function_804821e(void) {
    // 0x804821e
    int32_t v1; // 0x804821e
    int32_t v2 = v1;
    int32_t v3 = 0;
    int32_t v4; // 0x804821e
    uint32_t v5 = v4;
    int32_t result = v5 % 10 | 48; // 0x8048228
    int32_t v6 = v2 - 4; // 0x804822b
    *(int32_t *)v6 = result;
    v4 = v5 / 10;
    int32_t v7 = v3 + 1; // 0x804822f
    while (v5 >= 10) {
        // 0x8048224
        v2 = v6;
        v3 = v7;
        v5 = v4;
        result = v5 % 10 | 48;
        v6 = v2 - 4;
        *(int32_t *)v6 = result;
        v4 = v5 / 10;
        v7 = v3 + 1;
    }
    // 0x8048231
    int32_t v8; // 0x804821e
    *(char *)v8 = (char)result;
    int32_t v9 = v3; // 0x8048233
    if (v3 == 0) {
        // 0x8048235
        return result;
    }
    int32_t v10 = v2; // 0x8048233
    int32_t v11; // 0x804821e
    bool v12; // 0x804821e
    int32_t v13 = v11 + (v12 ? -1 : 1); // 0x8048232
    int32_t result2 = *(int32_t *)v10;
    *(char *)v13 = (char)result2;
    v9--;
    v10 += 4;
    v11 = v13;
    while (v9 != 0) {
        // 0x8048231
        v13 = v11 + (v12 ? -1 : 1);
        result2 = *(int32_t *)v10;
        *(char *)v13 = (char)result2;
        v9--;
        v10 += 4;
        v11 = v13;
    }
    // 0x8048235
    return result2;
}

// Address range: 0x8048236 - 0x8048252
int32_t function_8048236(void) {
    // 0x8048236
    int32_t v1; // 0x8048236
    unsigned char v2 = *(char *)v1; // 0x804823d
    char v3 = v2 - 48; // 0x8048241
    if (v2 < 48 || v3 > 9) {
        // 0x8048251
        return 0;
    }
    int32_t v4 = v3; // 0x8048236
    int32_t result = 0; // 0x804824d
    int32_t v5; // 0x8048236
    int32_t v6 = v5 + 1; // 0x8048240
    result = 10 * result + v4;
    unsigned char v7 = *(char *)v6; // 0x804823d
    char v8 = v7 - 48; // 0x8048241
    v4 = v4 & -256 | (int32_t)v8;
    while (v7 >= 48 && v8 <= 9) {
        // 0x804824b
        v6++;
        result = 10 * result + v4;
        v7 = *(char *)v6;
        v8 = v7 - 48;
        v4 = v4 & -256 | (int32_t)v8;
    }
    // 0x8048251
    return result;
}

// Address range: 0x8048252 - 0x8048253
int32_t function_8048252(void) {
    // 0x8048252
    int32_t result; // 0x8048252
    *(char *)result = (char)result;
    return result;
}

// Address range: 0x8048253 - 0x8048259
int32_t function_8048253(void) {
    // 0x8048253
    int32_t v1; // 0x8048253
    uint32_t v2 = v1;
    int32_t result = v1 & -256 | v2 % 256; // 0x8048256
    if ((char)v2 != 0) {
        result = function_8048252();
    }
    // 0x8048258
    return result;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (4.5.x)
// Detected functions: 5

