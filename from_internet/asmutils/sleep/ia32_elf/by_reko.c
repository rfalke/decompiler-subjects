// subject_seg08048000.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0804804E: void fn0804804E(Register word24 eax_24_8, Register byte ch, Register word32 edx, Stack (ptr32 Eq_5) dwArg04, Stack word32 dwArg08)
void fn0804804E(word24 eax_24_8, byte ch, word32 edx, struct Eq_5 * dwArg04, word32 dwArg08)
{
	struct Eq_7 * fp;
	struct Eq_5 * esi_12 = dwArg04;
	struct Eq_7 * esp_180 = fp + 2;
	do
	{
		byte al_11 = esi_12->b0000;
		++esi_12;
		word32 eax_188 = SEQ(eax_24_8, al_11);
	} while (al_11 != 0x00);
	uint64 edx_eax_212 = SEQ(edx, eax_188);
	if (esi_12->bFFFFFFF9 == 117)
	{
		ch = 0x01;
		esp_180 = fp;
		edx_eax_212 = SEQ(edx, eax_188);
	}
l0804806B:
	Eq_29 eax_119;
	uint64 edx_eax_206;
	struct Eq_31 * esi_40 = esp_180->dw0000;
	struct Eq_7 * esp_41 = esp_180 + 1;
	struct Eq_31 * esi_42 = esi_40;
	bool v33_196 = esi_40 == null;
	uint64 edx_eax_209 = edx_eax_212;
	if (esi_40 != null)
	{
		Eq_50 ebx_175 = 0x00;
		ui32 edx_178 = 0x00;
		while (true)
		{
			cu8 al_56 = esi_42->b0000;
			++esi_42;
			if (al_56 < 0x30)
				break;
			uint32 eax_174 = (uint32) (al_56 - 0x30);
			if (al_56 > 0x39 || al_56 < 0x30)
				break;
			uint64 edx_ebx_195 = SEQ(edx_178, ebx_175 *s 0x0A) + (uint64) eax_174;
			ebx_175 = (word32) edx_ebx_195;
			edx_178 = SLICE(edx_ebx_195, word32, 32);
		}
		edx_eax_206 = SEQ(edx_178, ebx_175);
		if (edx_178 != 0x00)
		{
l08048095:
			esp_41->dwFFFFFFFC = 0x01;
			Eq_29 edx_123 = SLICE(edx_eax_206, word32, 32);
			eax_119 = (word32) edx_eax_206;
			uint32 ebx_107 = esp_41->dwFFFFFFFC;
			if (ch != 0x00)
			{
				edx_123 = (uint32) (edx_eax_206 % 1000000) * 1000;
				eax_119.u1 = (uint32) (edx_eax_206 /u 1000000);
				goto l080480E4;
			}
			byte cl_98 = esi_42->bFFFFFFFF;
			if (cl_98 != 0x00)
			{
				if (cl_98 == 115)
				{
l080480E4:
					g_t8048102.u0 = (int32) eax_119;
					g_t8048106.u0 = (int32) edx_123;
					esp_180 = esp_41;
					ch = 0x00;
					edx_eax_212 = SEQ(edx_123, sys_nanosleep(&g_t8048102, null));
					goto l0804806B;
				}
				esp_41->dwFFFFFFFC = 0x3C;
				ebx_107 = esp_41->dwFFFFFFFC;
				if (cl_98 != 0x6D)
				{
					ebx_107 = 0x0E10;
					if (cl_98 != 0x68)
					{
						ebx_107 = 0x00015180;
						if (cl_98 != 100)
						{
							if (cl_98 == 110)
							{
								edx_123 = eax_119;
								eax_119 = edx_123;
								goto l080480E4;
							}
l080480FB:
							esp_41->dwFFFFFFFC = 0x01;
							sys_exit(eax_119);
						}
					}
				}
			}
			uint64 edx_eax_122 = ebx_107 *64 eax_119;
			edx_123 = SLICE(edx_eax_122, word32, 32);
			eax_119 = (word32) edx_eax_122;
			goto l080480E4;
		}
		v33_196 = ebx_175 == 0x00;
		edx_eax_209 = SEQ(edx_178, ebx_175);
	}
	eax_119 = (word32) edx_eax_209;
	edx_eax_206 = edx_eax_209;
	if (v33_196)
		goto l080480FB;
	goto l08048095;
}

Eq_29 g_t8048102 = // 08048102
	{
		0
	};
Eq_29 g_t8048106 = // 08048106
	{
		0
	};
