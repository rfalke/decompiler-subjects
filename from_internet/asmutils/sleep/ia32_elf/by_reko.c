// subject_seg08048000.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0804804E: void fn0804804E(Register word24 eax_24_8, Register byte ch, Register word32 edx, Stack (ptr32 Eq_5) dwArg04, Stack word32 dwArg08)
void fn0804804E(word24 eax_24_8, byte ch, word32 edx, struct Eq_5 * dwArg04, word32 dwArg08)
{
	struct Eq_5 * esi_11 = dwArg04;
	struct Eq_8 * esp_178 = fp + 2;
	do
	{
		byte al_10 = esi_11->b0000;
		++esi_11;
		word32 eax_186 = SEQ(eax_24_8, al_10);
	} while (al_10 != 0x00);
	uint64 edx_eax_212 = SEQ(edx, eax_186);
	if (esi_11->bFFFFFFF9 == 117)
	{
		ch = 0x01;
		esp_178 = fp;
		edx_eax_212 = SEQ(edx, eax_186);
	}
l0804806B:
	uint64 edx_eax_206;
	struct Eq_30 * esi_37 = esp_178->dw0000;
	struct Eq_8 * esp_38 = esp_178 + 1;
	struct Eq_30 * esi_39 = esi_37;
	bool v34_196 = esi_37 == null;
	uint64 edx_eax_209 = edx_eax_212;
	if (esi_37 != null)
	{
		Eq_48 ebx_173 = 0x00;
		ui32 edx_176 = 0x00;
		while (true)
		{
			cu8 al_51 = esi_39->b0000;
			++esi_39;
			if (al_51 < 0x30)
				break;
			uint32 eax_172 = (uint32) (al_51 - 0x30);
			if (al_51 > 0x39)
				break;
			uint64 edx_ebx_195 = SEQ(edx_176, ebx_173 *s 0x0A) + (uint64) eax_172;
			ebx_173 = (word32) edx_ebx_195;
			edx_176 = SLICE(edx_ebx_195, word32, 32);
		}
		edx_eax_206 = SEQ(edx_176, ebx_173);
		if (edx_176 != 0x00)
		{
l08048095:
			esp_38->ptrFFFFFFFC = (byte *) 0x01;
			uint32 edx_114 = SLICE(edx_eax_206, word32, 32);
			uint32 eax_110 = (word32) edx_eax_206;
			byte * ebx_102 = esp_38->ptrFFFFFFFC;
			if (ch != 0x00)
			{
				edx_114 = (uint32) (edx_eax_206 % 1000000) * 1000;
				eax_110 = (uint32) (edx_eax_206 /u 1000000);
				goto l080480E4;
			}
			byte cl_90 = esi_39->bFFFFFFFF;
			if (cl_90 != 0x00)
			{
				if (cl_90 == 115)
				{
l080480E4:
					g_dw8048102 = eax_110;
					g_dw8048106 = edx_114;
					__syscall(0x80);
					esp_178 = esp_38;
					ch = 0x00;
					edx_eax_212 = SEQ(edx_114, 0xA2);
					goto l0804806B;
				}
				esp_38->ptrFFFFFFFC = (byte *) 0x3C;
				ebx_102 = esp_38->ptrFFFFFFFC;
				if (cl_90 != 0x6D)
				{
					ebx_102 = (byte *) 0x0E10;
					if (cl_90 != 0x68)
					{
						ebx_102 = (byte *) 0x00015180;
						if (cl_90 != 100)
						{
							if (cl_90 == 110)
							{
								edx_114 = eax_110;
								eax_110 = edx_114;
								goto l080480E4;
							}
l080480FB:
							esp_38->ptrFFFFFFFC = (byte *) 0x01;
							byte * eax_124 = esp_38->ptrFFFFFFFC;
							__syscall(0x80);
							byte al_126 = (byte) eax_124;
							*eax_124 += al_126;
							*eax_124 += al_126;
							*eax_124 += al_126;
							*eax_124 += al_126;
						}
					}
				}
			}
			uint64 edx_eax_113 = ebx_102 *64 eax_110;
			edx_114 = SLICE(edx_eax_113, word32, 32);
			eax_110 = (word32) edx_eax_113;
			goto l080480E4;
		}
		v34_196 = ebx_173 == 0x00;
		edx_eax_209 = SEQ(edx_176, ebx_173);
	}
	edx_eax_206 = edx_eax_209;
	if (v34_196)
		goto l080480FB;
	goto l08048095;
}

uint32 g_dw8048102 = 0x00; // 08048102
uint32 g_dw8048106 = 0x00; // 08048106
