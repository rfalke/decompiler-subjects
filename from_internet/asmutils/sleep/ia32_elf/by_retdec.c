//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2, int32_t a3);

// --------------------- Global Variables ---------------------

int32_t g1 = 0x5e5e0031; // 0x804804c
int32_t g2 = 0; // 0x8048102
int32_t g3 = 0; // 0x8048106

// ------------------------ Functions -------------------------

// Address range: 0x804804e - 0x8048102
int32_t entry_point(int32_t a1, int32_t a2, int32_t a3) {
    int32_t v1 = a3;
    int32_t v2 = a1;
    bool v3; // 0x804804e
    int32_t v4 = v3 ? -1 : 1; // 0x8048050
    int32_t v5 = a2; // 0x804804f
    while (*(char *)v5 != 0) {
        // 0x8048050
        v5 += v4;
    }
    int32_t v6 = a3; // 0x8048059
    int32_t * v7 = &v1; // 0x8048059
    int32_t v8; // 0x804804e
    if (*(char *)(v5 - 7) == 117) {
        // 0x804805b
        v6 = a3 != 0 ? a3 : (int32_t)&g1;
        v2 = v6;
        v8 = 256;
        v7 = &v2;
    }
    // 0x804806b
    if (v6 == 0) {
        // 0x80480fb
        *v7 = 1;
        __asm_int(128);
        return 1;
    }
    int32_t v9 = (int32_t)v7;
    int32_t v10 = v6; // 0x804806b
    int32_t * v11 = v7;
    int32_t v12 = v8; // 0x804804e
    int32_t * v13; // 0x804804e
    int32_t v14; // 0x804804e
    int32_t v15; // 0x804804e
    int64_t v16; // 0x804804e
    int32_t v17; // 0x804804e
    while (true) {
      lab_0x8048078:;
        int32_t * v18 = v11;
        unsigned char v19 = *(char *)v10; // 0x8048078
        int32_t v20 = v10 + v4; // 0x8048078
        unsigned char v21 = v19 - 48; // 0x8048079
        int32_t v22 = 0; // 0x804807b
        int32_t v23 = 0; // 0x804807b
        int32_t v24 = v20; // 0x804807b
        if (v19 > 47 == v21 < 10) {
            int32_t v25 = v21; // 0x804804e
            int32_t v26 = v20; // 0x8048078
            int32_t v27 = 0; // 0x8048086
            uint32_t v28 = 0; // 0x8048081
            int32_t v29 = v28 + v25; // 0x8048084
            v27 += (int32_t)(v29 < v28);
            unsigned char v30 = *(char *)v26; // 0x8048078
            v26 += v4;
            unsigned char v31 = v30 - 48; // 0x8048079
            v25 = v25 & -256 | (int32_t)v31;
            v22 = v29;
            v23 = v27;
            v24 = v26;
            while (v30 > 47 == v31 < 10) {
                // 0x8048081
                v28 = 10 * v29;
                v29 = v28 + v25;
                v27 += (int32_t)(v29 < v28);
                v30 = *(char *)v26;
                v26 += v4;
                v31 = v30 - 48;
                v25 = v25 & -256 | (int32_t)v31;
                v22 = v29;
                v23 = v27;
                v24 = v26;
            }
        }
        int32_t v32 = v23;
        v15 = v22;
        v13 = v18;
        if ((v32 || v15) == 0) {
            // break -> 0x80480fb
            break;
        }
        // 0x8048095
        *v18 = 1;
        if ((v12 & 0xff00) == 0) {
            char v33 = *(char *)(v24 - 1); // 0x80480b2
            v16 = 1;
            v14 = v15;
            v17 = v32;
            switch (v33) {
                case 0: {
                    goto lab_0x80480e2;
                }
                case 115: {
                    goto lab_0x80480e4;
                }
                default: {
                    // 0x80480be
                    *v18 = 60;
                    switch (v33) {
                        case 109: {
                            goto lab_0x80480e2;
                        }
                        case 104: {
                            // 0x80480e2
                            v16 = 3600;
                            goto lab_0x80480e2;
                        }
                        case 100: {
                            // 0x80480e2
                            v16 = 0x15180;
                            goto lab_0x80480e2;
                        }
                        default: {
                            // 0x80480da
                            v14 = v32;
                            v17 = v15;
                            if (v33 != 110) {
                                // break -> 0x80480fb
                                break;
                            }
                            goto lab_0x80480e4;
                        }
                    }
                }
            }
        } else {
            uint64_t v34 = 0x100000000 * (int64_t)v32 | (int64_t)v15; // 0x80480a1
            v14 = v34 / 0xf4240;
            v17 = 1000 * ((int32_t)(v34 % 0xf4240) % 0x100000);
            goto lab_0x80480e4;
        }
    }
  lab_0x80480fb:
    // 0x80480fb
    *v13 = 1;
    __asm_int(128);
    return 1;
  lab_0x80480e2:;
    uint64_t v35 = v16 * (int64_t)v15; // 0x80480e2
    v14 = v35;
    v17 = v35 / 0x100000000;
    goto lab_0x80480e4;
  lab_0x80480e4:
    // 0x80480e4
    v9 += 4;
    g2 = v14;
    g3 = v17;
    __asm_int(128);
    v11 = (int32_t *)v9;
    v10 = *v11;
    v12 = 0;
    v13 = v11;
    if (v10 == 0) {
        // break -> 0x80480fb
        goto lab_0x80480fb;
    }
    goto lab_0x8048078;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: p7zip sfx
// Detected functions: 1

