// subject_seg08048000.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0804804C: void fn0804804C(Register word16 ebp_16_16, Register word32 esi)
void fn0804804C(word16 ebp_16_16, word32 esi)
{
fn0804804C_entry:
	__syscall(0x80)
	__syscall(0x80)
	uint32 ebp_18 = 0x00
	goto l08048080
l0804804C:
l08048071:
l08048080:
	ebp_18 = ebp_18 + 0x01
	fn080480B7(ebp_18)
	branch ebp_18 < 0x04 l08048080
	goto l08048080
}

// 080480B7: void fn080480B7(Register uint32 ebp)
// Called from:
//      fn0804804C
void fn080480B7(uint32 ebp)
{
	cu8 al_5 = (byte) ebp;
	if (al_5 > 0x09)
		al_5 = 0x09;
	g_b8048208 = al_5 + 0x30;
	__syscall(0x80);
	g_dw804821C = 0x05;
	__syscall(0x80);
	__syscall(0x80);
	__syscall(0x80);
	__syscall(0x80);
	__syscall(0x80);
	__syscall(0x80);
	__syscall(0x80);
	__syscall(0x80);
	if (g_dw804821C > 0x02)
		__syscall(0x80);
	__syscall(0x80);
	fn08048173(ebp);
}

// 08048173: void fn08048173(Register uint32 ebp)
// Called from:
//      fn080480B7
//      fn080481C7
void fn08048173(uint32 ebp)
{
	if (S)
		fn080481BA(ebp);
	else
		fn08048175(ebp);
}

// 08048175: void fn08048175(Register uint32 ebp)
// Called from:
//      fn080480B7
//      fn08048173
void fn08048175(uint32 ebp)
{
	if (Z)
		fn080481BA(ebp);
	else
	{
		__syscall(0x80);
		fn080481C7(ecx, edx, bx, ebp_16_16, esi);
	}
}

// 080481BA: void fn080481BA(Register uint32 ebp)
// Called from:
//      fn080480B7
//      fn08048173
void fn080481BA(uint32 ebp)
{
	(&g_b8048208)[ebp * 0x04] = (cu8) ~0x00;
}

// 080481C7: void fn080481C7(Register (ptr32 Eq_90) ecx, Register (ptr32 byte) edx, Register word16 bx, Register word16 ebp_16_16, Register (ptr32 Eq_94) esi)
// Called from:
//      fn0804804C
//      fn080480B7
void fn080481C7(struct Eq_90 * ecx, byte * edx, word16 bx, word16 ebp_16_16, struct Eq_94 * esi)
{
}

cu8 g_b8048208 = 0x00; // 08048208
up32 g_dw804821C = 0x00; // 0804821C
