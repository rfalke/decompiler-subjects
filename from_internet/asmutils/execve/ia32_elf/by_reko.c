// subject_seg08048000.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0804804C: void fn0804804C(Register word32 edi)
// Called from:
//      fn080480A7
void fn0804804C(word32 edi)
{
	byte * edi_10 = edi - 0x01;
	do
		++edi_10;
	while (*edi_10 != 0x00);
}

// 0804805C: void fn0804805C(Register uint32 eax, Register (ptr32 word16) edi)
// Called from:
//      fn080480A7
void fn0804805C(uint32 eax, word16 * edi)
{
	*edi = 0x7830;
	byte * edi_31 = edi + 1;
	uint32 dwLoc24_127 = eax;
	uint32 esi_40 = 0x00;
	do
	{
		uint64 edx_eax_49 = (uint64) dwLoc24_127;
		cu8 dl_55 = (byte) (edx_eax_49 % 0x10);
		*edi_31 = dl_55 - 0x69 - (byte) (dl_55 < 0x0A);
		uint32 eax_53 = (uint32) (edx_eax_49 /u 0x10);
		++esi_40;
		dwLoc24_127 = eax_53;
		++edi_31;
	} while (eax_53 != 0x00);
	*edi_31 = 0x00;
	uint32 ecx_76 = esi_40 >> 0x01;
	if (esi_40 >> 0x01 != 0x00)
	{
		byte * edi_81 = edi + 1;
		byte * esi_83 = edi_31 - 0x01;
		do
		{
			byte v21_89 = *esi_83;
			*esi_83 = *edi_81;
			*edi_81 = v21_89;
			++edi_81;
			--esi_83;
			--ecx_76;
		} while (ecx_76 != 0x00);
	}
}

// 080480A7: void fn080480A7(Register word32 ecx)
// Called from:
//      fn080481CA
void fn080480A7(word32 ecx)
{
	word32 * esi_3 = g_a80482B6;
	byte * ebp_11 = &g_b80480F3;
	do
	{
		do
			++ebp_11;
		while (*ebp_11 != 0x00);
		__syscall(0x80);
		fn0804805C(*esi_3, &g_w8048302);
		fn0804804C(0x08048302);
		__syscall(0x80);
		__syscall(0x80);
		++ebp_11;
		++esi_3;
		ecx = ecx_73 - 0x01;
		ecx_73 = ecx;
	} while (ecx_73 != 0x01);
}

byte g_b80480F3 = 0x45; // 080480F3
// 080481CA: void fn080481CA(Register word32 eax, Register (ptr32 word32) ecx, Register ptr32 edx, Register word32 ebx, Register word32 ebp, Register word32 esi, Register word32 edi, Register (ptr16 Eq_136) es, Register (ptr16 Eq_137) cs, Register (ptr16 Eq_138) ss, Register (ptr16 Eq_139) ds, Register (ptr16 Eq_140) fs, Register (ptr16 Eq_141) gs, Stack ui32 dwArg00, Stack (ptr32 Eq_143) dwArg04, Stack word32 dwArg08)
void fn080481CA(word32 eax, word32 * ecx, ptr32 edx, word32 ebx, word32 ebp, word32 esi, word32 edi, struct Eq_136 * es, struct Eq_137 * cs, struct Eq_138 * ss, struct Eq_139 * ds, struct Eq_140 * fs, struct Eq_141 * gs, ui32 dwArg00, struct Eq_143 * dwArg04, word32 dwArg08)
{
	g_a80482B6[0] = eax;
	g_t80482D6 = SCZDOP;
	g_dw80482BA = ebx;
	g_ptr80482BE = ecx;
	g_ptr80482C2 = edx;
	g_dw80482C6 = esi;
	g_dw80482CA = edi;
	g_dw80482CE = ebp;
	g_ptr80482D2 = fp;
	g_ptr80482DA = cs;
	g_ptr80482DE = ds;
	g_ptr80482E2 = es;
	g_ptr80482E6 = fs;
	g_ptr80482EA = gs;
	g_ptr80482EE = ss;
	g_dw80482F2 = dwArg00;
	g_ptr80482F6 = dwArg04;
	g_dw80482FA = dwArg08;
	g_dw80482FE = fp->a000C[dwArg00];
	struct Eq_143 * esi_39 = dwArg04;
	struct Eq_162 * esp_51 = fp;
	do
	{
		esi_39 = esi_311 + 1;
		esi_311 = esi_39;
	} while (esi_311->b0000 != 0x00);
	struct Eq_162 * esp_67;
	if (esi_39->dwFFFFFFFB == 0x73676572)
	{
		fn080480A7(0x13);
		esp_67 = fp;
l0804822A:
		word32 * esp_83 = esp_67 - 4;
		*esp_83 = 0x01;
		__syscall(0x80);
		esp_51 = (struct Eq_162 *) (esp_83 + 1);
	}
	ui32 ebp_89 = esp_51->dw0000;
	esp_67 = esp_51 + 1;
	if (ebp_89 != 0x01)
	{
		word32 ebx_96 = esp_67[1];
		g_dw80482BA = ebx_96;
		g_ptr80482BE = (word32 *) (esp_67 + 1);
		ptr32 edx_98 = esp_67 + 2 + (ebp_89 - 0x01);
		g_ptr80482C2 = edx_98;
		g_dw80482C6 = 0x11223344;
		g_dw80482CA = 0x55667788;
		g_dw80482CE = 0x9900AABB;
		esp_67->dw0000 = 134513334;
		esp_67->dwFFFFFFFC = esp_67 + 1;
		esp_67->dwFFFFFFF8 = edx_98;
		esp_67->dwFFFFFFF4 = ebx_96;
		esp_67->dwFFFFFFF0 = esp_67 + 1;
		esp_67->dwFFFFFFEC = 0x9900AABB;
		esp_67->dwFFFFFFE8 = 0x11223344;
		esp_67->dwFFFFFFE4 = 0x55667788;
		esp_67->dwFFFFFFE0 = 0x01;
		esp_67->dwFFFFFFE0 = 0x04;
		__syscall(0x80);
		esp_67->dwFFFFFFE0 = 0x04;
		__syscall(0x80);
		esp_67->dwFFFFFFE0 = 0x0F;
		fn080480A7(esp_67->dwFFFFFFE0);
		esp_67->dwFFFFFFE0 = 0x01;
		esp_67->dwFFFFFFE0 = 0x04;
		__syscall(0x80);
		esp_67->dwFFFFFFE0 = 0x04;
		__syscall(0x80);
		esp_67->dw0000 = 11;
		byte * eax_183 = esp_67->dw0000;
		__syscall(0x80);
		byte al_185 = (byte) eax_183;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
		*eax_183 += al_185;
	}
	goto l0804822A;
}

word32 g_a80482B6[] = // 080482B6
	{
	};
word32 g_dw80482BA = 0x00; // 080482BA
word32 * g_ptr80482BE = null; // 080482BE
ptr32 g_ptr80482C2 = 0x00; // 080482C2
word32 g_dw80482C6 = 0x00; // 080482C6
word32 g_dw80482CA = 0x00; // 080482CA
word32 g_dw80482CE = 0x00; // 080482CE
struct Eq_162 * g_ptr80482D2 = null; // 080482D2
Eq_147 g_t80482D6 = // 080482D6
	{
		0x00
	};
struct Eq_137 * g_ptr80482DA = null; // 080482DA
struct Eq_139 * g_ptr80482DE = null; // 080482DE
struct Eq_136 * g_ptr80482E2 = null; // 080482E2
struct Eq_140 * g_ptr80482E6 = null; // 080482E6
struct Eq_141 * g_ptr80482EA = null; // 080482EA
struct Eq_138 * g_ptr80482EE = null; // 080482EE
ui32 g_dw80482F2 = 0x00; // 080482F2
struct Eq_143 * g_ptr80482F6 = null; // 080482F6
word32 g_dw80482FA = 0x00; // 080482FA
word32 g_dw80482FE = 0x00; // 080482FE
word16 g_w8048302 = 0x00; // 08048302
