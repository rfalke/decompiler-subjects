//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(uint32_t a1, int32_t a2, int32_t a3);

// --------------------- Global Variables ---------------------

int32_t g1 = 1; // 0x804804c
int32_t g2 = 0; // 0x804826e
int32_t g3 = 0; // 0x8048272

// ------------------------ Functions -------------------------

// Address range: 0x8048066 - 0x804825a
int32_t entry_point(uint32_t a1, int32_t a2, int32_t a3) {
    int32_t v1 = a2;
    int32_t * v2 = &v1; // 0x804806a
    int32_t v3 = a1; // 0x804806a
    if (a1 >= 2) {
        unsigned char v4 = *(char *)a3; // 0x8048076
        int32_t v5 = 0; // 0x8048079
        if (v4 >= 48) {
            int32_t v6 = v4 - 48; // 0x8048066
            int32_t v7 = 0; // 0x804807e
            int32_t v8 = a3; // 0x8048076
            bool v9; // 0x8048066
            v8 += (v9 ? -1 : 1);
            v7 = 10 * v7 + v6;
            unsigned char v10 = *(char *)v8; // 0x8048076
            v6 = v6 & -256 | (int32_t)(v10 - 48);
            v5 = v7;
            while (v10 >= 48) {
                // 0x804807b
                v8 += (v9 ? -1 : 1);
                v7 = 10 * v7 + v6;
                v10 = *(char *)v8;
                v6 = v6 & -256 | (int32_t)(v10 - 48);
                v5 = v7;
            }
        }
        uint32_t v11 = v5;
        g2 = 0x10000 * (v11 / 256 % 256 | 256 * v11) | 2;
        g3 = 0;
        v1 = 1;
        __asm_int(128);
        v1 = &g1;
        __asm_int(128);
        int32_t v12; // bp+12, 0x8048066
        v2 = &v12;
        v3 = 102;
    }
    int32_t v13 = (int32_t)v2;
    int32_t * v14 = (int32_t *)(v13 - 4); // 0x80480d0
    while (true) {
        // 0x80480cd
        *v14 = 1;
        __asm_int(128);
        *v14 = 16;
        *(int32_t *)(v13 - 8) = (int32_t)&g2;
        *(int32_t *)(v13 - 12) = v3;
        *(int32_t *)(v13 - 16) = 102;
        __asm_int(128);
    }
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (3.4.6)
// Detected functions: 1

