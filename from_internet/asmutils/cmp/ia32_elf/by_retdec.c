//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2);
int32_t function_804804c(void);
int32_t function_8048070(void);

// --------------------- Global Variables ---------------------

int32_t g1 = 0; // 0x8048286
int32_t g2 = 0; // 0x804828e
char * g3; // 0x8048296
char * g4; // 0x804829a
int32_t g5 = 0; // 0x804829e
int32_t g6 = 0; // 0x80482a2
int32_t g7 = 0; // 0x80482a6
int32_t g8 = 0; // 0x80482aa
char * g9; // 0x80482ae

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x8048070
int32_t function_804804c(void) {
    int32_t v1 = 16; // 0x8048054
    int32_t v2; // 0x804804c
    uint32_t v3 = v2;
    int32_t result = v3 / 10; // 0x8048058
    char v4 = (char)(v3 % 10) | 48; // 0x804805d
    int32_t v5; // 0x804804c
    *(char *)(v5 + 16 + v1) = v4;
    v1--;
    while (v3 >= 10) {
        // 0x8048056
        v3 = result;
        result = v3 / 10;
        v4 = (char)(v3 % 10) | 48;
        *(char *)(v5 + 16 + v1) = v4;
        v1--;
    }
    // 0x8048065
    *(char *)v5 = v4;
    return result;
}

// Address range: 0x8048070 - 0x804807b
int32_t function_8048070(void) {
    // 0x8048070
    bool v1; // 0x8048070
    int32_t v2 = v1 ? -1 : 1; // 0x8048070
    int32_t v3; // 0x8048070
    int32_t v4 = v3 & -256 | (uint32_t)v3 % 256; // 0x8048070
    int32_t v5; // 0x8048070
    int32_t v6 = v5 + v2;
    int32_t v7; // 0x8048070
    *(char *)v7 = (char)v4;
    int32_t v8 = v7 + v2; // 0x8048071
    unsigned char v9 = *(char *)v6; // 0x8048072
    int32_t v10 = v4 & -256; // 0x8048072
    v4 = v10 | (int32_t)v9;
    while (v9 != 0) {
        // 0x8048071
        v6 += v2;
        *(char *)v8 = (char)v4;
        v8 += v2;
        v9 = *(char *)v6;
        v10 = v4 & -256;
        v4 = v10 | (int32_t)v9;
    }
    // 0x8048077
    *(char *)v8 = 32;
    return v10 | 32;
}

// Address range: 0x804807b - 0x8048266
int32_t entry_point(int32_t a1, int32_t a2) {
    int32_t v1 = a2;
    int32_t v2; // 0x804807b
    int32_t v3; // 0x804807b
    int32_t * v4; // 0x804807b
    int32_t v5; // 0x804807b
    int32_t v6; // 0x804807b
    int32_t * v7; // 0x804807b
    int32_t * v8; // 0x804807b
    int32_t v9; // 0x804807b
    int32_t v10; // 0x804807b
    int32_t v11; // 0x804807b
    int32_t * v12; // 0x804807b
    int32_t v13; // 0x804807b
    int32_t v14; // 0x804807b
    int32_t v15; // 0x804807b
    int32_t v16; // 0x804807b
    int32_t v17; // 0x804807b
    int32_t v18; // 0x804807b
    int32_t v19; // 0x804807b
    int32_t v20; // 0x804807b
    int32_t v21; // 0x804807b
    int32_t v22; // 0x804807b
    int32_t v23; // 0x80481a0
    if (a1 < 3) {
        goto lab_0x80481f4;
    } else {
        // 0x8048085
        int32_t v24; // 0x804807b
        int32_t v25 = &v24; // 0x8048085
        int32_t v26 = v25 + 4; // 0x8048088
        v18 = v25;
        v8 = &v24;
        v9 = v26;
        bool v27; // 0x804807b
        int32_t v28; // 0x804807b
        if (v28 != 0) {
            int32_t v29 = v27 ? -1 : 1; // 0x8048091
            int32_t v30 = v29 - 2;
            v2 = v26;
            v4 = &v24;
            v13 = 0;
            v20 = v25;
            while (true) {
              lab_0x8048091_2:
                // 0x8048091
                v14 = v13;
                v5 = v2;
                v6 = v3;
                v7 = v4;
                v19 = v20;
                int32_t * v31; // 0x804807b
                int32_t v32; // 0x804807b
                int32_t v33; // 0x8048091
                while (true) {
                  lab_0x8048091:
                    // 0x8048091
                    v32 = v19;
                    v31 = v7;
                    v11 = v5;
                    v33 = v6 + v29;
                    if (*(char *)v6 != 45) {
                        // break -> 0x80480c9
                        break;
                    }
                    char v34 = *(char *)v33; // 0x8048096
                    switch (v34) {
                        case 0: {
                            // 0x80480b9
                            *(int32_t *)(4 * v14 + (int32_t)&g1) = v30 + v33;
                            if (v14 != 0) {
                                // break -> 0x80480f0
                                break;
                            }
                            goto lab_0x8048088_2;
                        }
                        case 115: {
                            // 0x80480b0
                            v21 = g8 | 8;
                            goto lab_0x8048088;
                        }
                        default: {
                            // 0x804809f
                            if (v34 != 108) {
                                goto lab_0x80481f4;
                            }
                            // 0x80480a7
                            v21 = g8 | 16;
                            goto lab_0x8048088;
                        }
                    }
                }
                int32_t v35 = 4 * v14; // 0x80480ca
                *(int32_t *)(v35 + (int32_t)&g1) = v33 - 1;
                *v31 = 5;
                __asm_int(128);
                *(int32_t *)(v35 + (int32_t)&g2) = 5;
                v18 = v32;
                v8 = v31;
                v9 = v11;
                if (v14 != 0) {
                    // break -> 0x80480f0
                    break;
                }
                goto lab_0x8048088_2;
            }
        }
      lab_0x80480f0_2:
        // 0x80480f0
        g7 = 0x80484ae;
        *v8 = 19;
        __asm_int(128);
        *v8 = 0;
        *(int32_t *)(v18 - 4) = 1;
        __asm_int(128);
        int32_t v36 = *v8; // 0x804812d
        int32_t v37 = 4 * v36; // 0x8048165
        *(int32_t *)(v37 + (int32_t)&g3) = 192;
        *(int32_t *)(v37 + (int32_t)&g5) = 19;
        int32_t v38 = 1; // 0x8048175
        while (v36 == 0) {
            // 0x80480fd
            *v8 = 19;
            __asm_int(128);
            *v8 = v38;
            *(int32_t *)(v18 - 4) = 1;
            __asm_int(128);
            v36 = *v8;
            v37 = 4 * v36;
            *(int32_t *)(v37 + (int32_t)&g3) = 192;
            *(int32_t *)(v37 + (int32_t)&g5) = 19;
            v38 = 1;
        }
        // 0x804817b
        *v8 = (int32_t)&g3;
        v10 = (int32_t)&g3;
        v23 = g5;
        if (g5 >= g6) {
            // 0x804819a
            *v8 = (int32_t)&g4;
            v23 = g6;
            v10 = (int32_t)&g4;
        }
        // 0x80481a6
        v22 = v27 ? -1 : 1;
        int32_t v39 = v23; // 0x80481a6
        int32_t v40 = (int32_t)g3; // 0x80481a6
        int32_t v41 = (int32_t)g4; // 0x80481a6
        while (v39 != 0) {
            int32_t v42 = v40;
            char v43 = *(char *)v41; // 0x80481a6
            int32_t v44 = v39 - 1; // 0x80481a6
            v39 = v44;
            v40 = v42 + v22;
            v41 += v22;
            if (*(char *)v42 != v43) {
                if (v44 != 0) {
                    // 0x80481f9
                    int32_t v45; // 0x80481a8
                    int32_t v46 = *(int32_t *)(v45 + 8); // 0x80481f9
                    int32_t v47 = v46 - v44; // 0x80481fc
                    *v12 = v47;
                    int32_t v48 = *(int32_t *)v45; // 0x80481ff
                    v16 = v47;
                    v15 = 0;
                    v17 = v48;
                    goto lab_0x8048205;
                } else {
                    goto lab_0x80481af;
                }
            }
        }
        goto lab_0x80481af;
    }
  lab_0x80481f4:;
    int32_t v49 = &v1;
    *(int32_t *)(v49 - 4) = 2;
    int32_t v50 = v49; // 0x80481f7
    goto lab_0x80481eb;
  lab_0x8048088:
    // 0x8048088
    g8 = v21;
    int32_t * v65 = (int32_t *)v11;
    int32_t v66 = *v65; // 0x8048088
    int32_t v67 = v11 + 4; // 0x8048088
    v5 = v67;
    v6 = v66;
    v7 = v65;
    v19 = v11;
    v18 = v11;
    v8 = v65;
    v9 = v67;
    if (v66 == 0) {
        // break (via goto) -> 0x80480f0
        goto lab_0x80480f0_2;
    }
    goto lab_0x8048091;
  lab_0x8048088_2:;
    int32_t * v68 = (int32_t *)v11;
    int32_t v69 = *v68; // 0x8048088
    int32_t v70 = v11 + 4; // 0x8048088
    v2 = v70;
    v3 = v69;
    v4 = v68;
    v13 = v14 + 1;
    v20 = v11;
    v18 = v11;
    v8 = v68;
    v9 = v70;
    if (v69 == 0) {
        // break -> 0x80480f0
        goto lab_0x80480f0_2;
    }
    goto lab_0x8048091_2;
  lab_0x80481eb:
    // 0x80481eb
    *(int32_t *)(v50 - 4) = 1;
    __asm_int(128);
    // 0x80481f0
    goto lab_0x80481eb;
  lab_0x80481af:
    // 0x80481af
    if (g5 == v23) {
        // 0x80481f0
        v50 = v9;
        goto lab_0x80481eb;
    } else {
        // 0x80481bd
        *v8 = 4;
        __asm_int(128);
        int32_t v51 = *(int32_t *)(v10 - 16);
        int32_t v52 = v51 + v22; // 0x80481d4
        while (*(char *)v51 != 0) {
            // 0x80481d4
            v51 = v52;
            v52 = v51 + v22;
        }
        // 0x80481d9
        *(char *)(v52 - 1) = 10;
        *v8 = 4;
        __asm_int(128);
        // 0x80481e8
        *v8 = 1;
        v50 = v9;
        goto lab_0x80481eb;
    }
  lab_0x8048205:;
    int32_t v53 = v17;
    int32_t v54 = v15;
    int32_t v55 = v16;
    int32_t v56 = v54 + 1; // 0x8048205
    int32_t v57 = v55; // 0x8048206
    int32_t v58 = v53; // 0x8048206
    goto lab_dec_label_pc_unknown_2;
  lab_dec_label_pc_unknown_2:;
    int32_t v59 = v57;
    if (v59 == 0) {
        goto lab_0x804820c;
    } else {
        int32_t v60 = v58;
        char v61 = *(char *)v60; // 0x8048206
        int32_t v62 = v60 + v22; // 0x8048206
        int32_t v63 = v59 - 1; // 0x8048206
        v57 = v63;
        v58 = v62;
        if (v61 == 10) {
            v16 = v63;
            v15 = v56;
            v17 = v62;
            if (v63 != 0) {
                goto lab_0x8048205;
            } else {
                goto lab_0x804820c;
            }
        } else {
            goto lab_dec_label_pc_unknown_2;
        }
    }
  lab_0x804820c:
    // 0x804820c
    function_8048070();
    function_8048070();
    function_8048070();
    *v12 = v56;
    function_804804c();
    function_8048070();
    function_804804c();
    *(char *)&g9 = 10;
    *v12 = 4;
    __asm_int(128);
    // 0x80481e8
    *v12 = 1;
    int32_t v64; // 0x804807b
    v50 = v64;
    goto lab_0x80481eb;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (4.2.1)
// Detected functions: 3

