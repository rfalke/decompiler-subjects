//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>
#include <stdlib.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2);
int32_t function_804804c(void);
int32_t function_80484fe(void);
int32_t function_804851a(void);
int32_t function_8048538(void);
int32_t function_8048560(int32_t a1);

// --------------------- Global Variables ---------------------

int32_t g1 = 0; // 0x8048656
int32_t g2 = 0; // 0x804865a
int32_t g3 = 0; // 0x804865e
int32_t g4 = 0; // 0x8048662
int32_t g5 = 0; // 0x8048666
int32_t g6 = 0; // 0x804868a
char g7 = 0; // 0x80486aa
char * g8; // 0x80486b2
char * g9; // 0x80486d6
char * g10; // 0x80486f6
char * g11; // 0x804882a
int32_t g12;

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x80480b0
int32_t function_804804c(void) {
    // 0x804804c
    __asm_int(128);
    g3 = 5;
    __asm_int(128);
    __asm_int(128);
    g4 = 5;
    __asm_int(128);
    __asm_int(128);
    g5 = 192;
    __asm_int(128);
    return 13;
}

// Address range: 0x80480b0 - 0x8048655
int32_t entry_point(int32_t a1, int32_t a2) {
    int32_t result = function_804804c(); // 0x80480b0
    if (a1 != 1) {
        // 0x804837a
        return result;
    }
    // 0x80480bd
    bool v1; // 0x80480b0
    int32_t v2 = v1 ? -1 : 1;
    int32_t v3 = a1 - 2; // 0x80480c1
    int32_t v4 = a2;
    int32_t v5 = v4; // 0x80480c1
    while (v3 != 0) {
        int32_t v6 = v4 + v2; // 0x80480c1
        v3--;
        v5 = v6;
        if (*(char *)v4 == 0) {
            // break -> 
            break;
        }
        v4 = v6;
        v5 = v4;
    }
    if (*(char *)(v5 - 2) == 100) {
        // 0x804824d
        __asm_int(128);
        __asm_int(128);
        g1 = 102;
        __asm_int(128);
        __asm_int(128);
        __asm_int(128);
        char * v7 = NULL; // bp-4, 0x80482b8
        int32_t v8 = (int32_t)&v7; // 0x80482b8
        int32_t * v9 = (int32_t *)(v8 - 4); // 0x80482bd
        while (true) {
            // 0x80482ba
            *(int32_t *)&v7 = 0;
            *v9 = 0;
            *(int32_t *)(v8 - 8) = g1;
            *(int32_t *)(v8 - 12) = 102;
            __asm_int(128);
            *(int32_t *)&v7 = 102;
            *v9 = 2;
            __asm_int(128);
        }
    }
    // 0x80480cd
    __asm_int(128);
    int32_t v10; // 0x80480b0
    int32_t * v11 = (int32_t *)((int32_t)&v10 - 4); // 0x80480ef
    int32_t v12 = v1 ? (int32_t)&g9 - 1 : (int32_t)&g9 + 1;
    int32_t v13 = v1 ? (int32_t)&g8 - 1 : (int32_t)&g8 + 1;
    int32_t v14 = v1 ? (int32_t)&g10 - 1 : (int32_t)&g10 + 1;
    while (true) {
        // 0x80480df
        *v11 = 3;
        __asm_int(128);
        if (g7 == 7) {
            int32_t v15 = v12; // 0x8048115
            int32_t v16 = (int32_t)&g11; // 0x8048115
            *(char *)v16 = *(char *)&g9;
            int32_t v17 = v16 + v2; // 0x8048116
            int32_t v18 = 10; // 0x8048117
            char v19 = *(char *)v15; // 0x8048118
            int32_t v20 = v18; // 0x804811b
            v15 += v2;
            v16 = v17;
            while (v19 != 0) {
                // 0x8048116
                *(char *)v16 = v19;
                v17 = v16 + v2;
                v18 = v20 - 1;
                v19 = *(char *)v15;
                v20 = v18;
                v15 += v2;
                v16 = v17;
            }
            // 0x804811d
            *v11 = v18;
            *(char *)v17 = 32;
            int32_t v21 = v17 + v2; // 0x8048120
            function_804851a();
            *(char *)v21 = 32;
            int32_t v22 = v13; // 0x8048140
            int32_t v23 = v21 + v2; // 0x8048140
            *(char *)v23 = *(char *)&g8;
            int32_t v24 = v23 + v2; // 0x8048141
            char v25 = *(char *)v22; // 0x8048143
            v22 += v2;
            v23 = v24;
            while (v25 != 0) {
                // 0x8048141
                *(char *)v23 = v25;
                v24 = v23 + v2;
                v25 = *(char *)v22;
                v22 += v2;
                v23 = v24;
            }
            // 0x8048148
            *(char *)v24 = 32;
            int32_t v26 = v24 + v2; // 0x804814a
            *v11 = 106;
            __asm_int(128);
            uint32_t v27 = g2 - g6; // 0x8048168
            if (v27 < 61) {
                // 0x8048213
                *(int32_t *)v26 = 0x20202020;
                *(int32_t *)(v26 + 4) = 0x20202020;
                *(int16_t *)(v26 + 6) = 0x2020;
                *(char *)(v26 + 7) = 45;
            } else {
                int32_t v28 = v27 % 0x15180;
                int32_t v29; // 0x80480b0
                int32_t v30; // 0x80480b0
                if (v27 < 0x15180) {
                    // 0x804818b
                    *(int32_t *)v26 = 0x20202020;
                    v29 = v28;
                    v30 = 0;
                } else {
                    // 0x8048184
                    v29 = function_80484fe();
                    v30 = v28;
                }
                // 0x8048192
                if ((int32_t)((0x100000000 * (int64_t)v30 | (int64_t)v29) / 3600) == 0) {
                    // 0x80481a7
                    *(int32_t *)(v26 + 3) = 0x20202020;
                } else {
                    // 0x80481a0
                    function_80484fe();
                }
                // 0x80481ae
                function_80484fe();
            }
            int32_t v31 = v26 + 8;
            char v32 = *(char *)&g10; // 0x80481c5
            int32_t v33 = v31; // 0x80481c8
            if (v32 != 0) {
                // 0x80481ca
                *(int32_t *)v31 = 0x20202020;
                int32_t v34 = v26 + 12; // 0x80481d0
                *(int32_t *)v34 = 0x20202020;
                int32_t v35 = v14; // 0x80481d7
                int32_t v36 = v34; // 0x80481d7
                *(char *)v36 = v32;
                v36 += v2;
                char v37 = *(char *)v35; // 0x80481db
                v35 += v2;
                v33 = v36;
                while (v37 != 0) {
                    // 0x80481da
                    *(char *)v36 = v37;
                    v36 += v2;
                    v37 = *(char *)v35;
                    v35 += v2;
                    v33 = v36;
                }
            }
            // 0x80481e0
            *(char *)v33 = 10;
            *(char *)(v33 + 1) = 0;
            *v11 = 4;
            __asm_int(128);
        }
    }
}

// Address range: 0x80484fe - 0x804851a
int32_t function_80484fe(void) {
    // 0x80484fe
    int32_t result; // 0x80484fe
    *(char *)result = (char)(result / 10) + 48;
    *(char *)(result + 1) = (char)(result % 10) | 48;
    *(char *)(result + 2) = 58;
    return result;
}

// Address range: 0x804851a - 0x8048538
int32_t function_804851a(void) {
    // 0x804851a
    function_8048538();
    if (g5 != 0) {
        // 0x8048531
        function_8048560((int32_t)&g12);
    }
    // 0x8048536
    int32_t result; // 0x804851a
    return result;
}

// Address range: 0x8048538 - 0x8048560
int32_t function_8048538(void) {
    // 0x8048538
    int32_t v1; // 0x8048538
    int32_t result2 = v1 & -256 | v1 % 256; // 0x8048538
    bool v2; // 0x8048538
    int32_t v3 = v2 ? -1 : 1; // 0x8048538
    int32_t v4 = v3 + v1; // 0x8048538
    int32_t v5 = v4; // 0x804853b
    int32_t v6; // 0x8048538
    if ((char)v1 == (char)v1) {
        int32_t v7 = v4 - 1; // 0x804854f
        v6 = v7;
        int32_t v8; // 0x8048538
        while (v8 != 0) {
            int32_t v9; // 0x8048538
            char v10 = *(char *)v9; // 0x804854f
            int32_t v11 = v7 + v3; // 0x804854f
            int32_t v12 = v8 - 1; // 0x804854f
            v9 += v3;
            v8 = v12;
            if (*(char *)v7 != v10) {
                v5 = v11;
                v6 = v11;
                if (v12 != 0) {
                    goto lab_0x804853d;
                } else {
                    goto lab_0x8048556;
                }
            }
            v7 = v11;
            v6 = v7;
        }
        goto lab_0x8048556;
    } else {
        goto lab_0x804853d;
    }
  lab_0x804853d:;
    int32_t v13 = v5; // 0x8048538
    unsigned char v14 = *(char *)v13; // 0x804853d
    int32_t result = result2 & -256 | (int32_t)v14; // 0x8048540
    if (v14 == 10) {
        result = function_8048538();
    }
    // 0x8048542
    v13 += v3;
    int32_t v15 = result; // 0x8048544
    while ((char)result != 0) {
        // 0x804853d
        v14 = *(char *)v13;
        result = v15 & -256 | (int32_t)v14;
        if (v14 == 10) {
            result = function_8048538();
        }
        // 0x8048542
        v13 += v3;
        v15 = result;
    }
    // 0x8048546
    return result;
  lab_0x8048556:
    // 0x8048556
    v5 = v6;
    if (*(char *)v6 == 58) {
        // 0x8048546
        return result2;
    }
    goto lab_0x804853d;
}

// Address range: 0x8048560 - 0x8048584
int32_t function_8048560(int32_t a1) {
    // 0x8048560
    bool v1; // 0x8048560
    int32_t v2 = v1 ? -1 : 1; // 0x8048565
    int32_t v3 = 4; // 0x8048560
    int32_t v4; // 0x8048560
    int32_t v5 = v4;
    int32_t v6; // 0x8048560
    int32_t v7 = v6 & -256; // 0x8048565
    int32_t v8 = v5 + v2; // 0x8048565
    int32_t v9 = v7; // 0x804856c
    while (*(char *)v5 != 58) {
        // 0x8048565
        v5 = v8;
        v7 = v9 & -256;
        v8 = v5 + v2;
        v9 = v7;
    }
    // 0x804856e
    v3--;
    int32_t v10 = v7; // 0x804856f
    int32_t v11 = v8; // 0x804856f
    int32_t v12 = a1; // 0x804856f
    while (v3 != 0) {
        // 0x8048565
        v5 = v8;
        v7 &= -256;
        v8 = v5 + v2;
        v9 = v7;
        while (*(char *)v5 != 58) {
            // 0x8048565
            v5 = v8;
            v7 = v9 & -256;
            v8 = v5 + v2;
            v9 = v7;
        }
        // 0x804856e
        v3--;
        v10 = v7;
        v11 = v8;
        v12 = a1;
    }
    int32_t result; // 0x8048577
    while (true) {
        unsigned char v13 = *(char *)v11; // 0x8048577
        result = v10 & -256 | (int32_t)v13;
        switch (v13) {
            case 58: {
            }
            case 44: {
                // 0x8048583
                return result;
            }
        }
        // 0x8048580
        *(char *)v12 = v13;
        v10 = result;
        v11 += v2;
        v12 += v2;
    }
    // 0x8048583
    return result;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: upx (3.xx)
// Detected functions: 6

