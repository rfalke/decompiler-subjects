//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2);
int32_t function_8048172(void);
int32_t function_8048184(void);
int32_t function_8048194(void);

// --------------------- Global Variables ---------------------

char g1 = 0; // 0x80481ba
int32_t g2 = 0; // 0x80481bd
int32_t g3 = 0; // 0x80481c5
char g4 = 0; // 0x80481c9
char g5 = 0; // 0x80481ca
char * g6; // 0x80481db

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x8048172
int32_t entry_point(int32_t a1, int32_t a2) {
    // 0x804804c
    int32_t v1; // 0x804804c
    int32_t v2 = &v1;
    int32_t v3 = v2; // 0x804804e
    int32_t v4; // 0x804804c
    int32_t * v5; // 0x804804c
    int32_t v6; // 0x804804c
    bool v7; // 0x804804c
    if (a1 != 1) {
        int32_t v8 = v2 + 4; // 0x8048054
        v5 = &v1;
        v4 = v8;
        int32_t v9; // 0x804804c
        if (v9 == 0) {
            goto lab_0x804814f;
        } else {
            int32_t v10 = v8; // 0x8048054
            int32_t * v11 = &v1;
            int32_t v12; // 0x804804c
            int32_t v13; // 0x804804c
            int32_t * v14; // 0x804804c
            while (true) {
                // 0x804805d
                v14 = v11;
                int32_t v15; // 0x804804c
                v13 = v15;
                v12 = v10;
                int16_t * v16 = (int16_t *)v13; // 0x804806f
                int32_t v17 = 4; // 0x8048072
                int32_t v18 = &g2; // 0x8048072
                if (*v16 != 0x6c2d) {
                    *(int32_t *)v18 = 0;
                    int32_t v19 = 2; // 0x8048081
                    if (v19 == 0) {
                        // break (via goto) -> 0x8048083
                        goto lab_0x8048083;
                    }
                    int32_t v20 = (int32_t)"-l-w-c" + (v7 ? -2 : 2); // 0x804806d
                    int32_t v21 = 2; // 0x804807c
                    v17 = v21;
                    v18 += (v7 ? -4 : 4);
                    int32_t v22 = v20; // 0x8048072
                    int32_t v23 = v21; // 0x8048072
                    int32_t v24 = v19; // 0x8048072
                    while (*v16 != *(int16_t *)v20) {
                        // 0x804807c
                        *(int32_t *)v18 = 0;
                        v19 = v24 - 1;
                        if (v19 == 0) {
                            // break (via goto) -> 0x8048083
                            goto lab_0x8048083;
                        }
                        // 0x804806d
                        v20 = v22 + (v7 ? -2 : 2);
                        v21 = v23 / 2;
                        v17 = v21;
                        v18 += (v7 ? -4 : 4);
                        v22 = v20;
                        v23 = v21;
                        v24 = v19;
                    }
                }
                // 0x8048074
                g1 |= (char)v17;
                v11 = (int32_t *)v12;
                int32_t v25 = *v11; // 0x8048054
                v10 = v12 + 4;
                v15 = v25;
                v5 = v11;
                v4 = v10;
                if (v25 == 0) {
                    goto lab_0x804814f;
                }
            }
          lab_0x8048083:
            // 0x8048083
            v3 = v12;
            if (*(char *)v13 == 45) {
                goto lab_0x80480a4;
            } else {
                // 0x804808a
                g5 = 1;
                *v14 = 5;
                __asm_int(128);
                v6 = v12;
                goto lab_0x80480ab;
            }
        }
    } else {
        goto lab_0x80480a4;
    }
  lab_0x804814f:
    // 0x804814f
    if (g5 != 0) {
        // 0x804816d
        *v5 = 1;
        __asm_int(128);
        return 1;
    }
    // 0x8048158
    g5 = 1;
    v3 = v4;
    goto lab_0x80480a4;
  lab_0x80480a4:
    // 0x80480a4
    g4 = 1;
    v6 = v3;
    goto lab_0x80480ab;
  lab_0x80480ab:
    // 0x80480ab
    while (true) {
      lab_0x80480ad:
        // 0x80480ad
        *(int32_t *)(v6 - 4) = 3;
        __asm_int(128);
        int32_t v26 = 0; // 0x80480cc
        int32_t v27 = 3; // 0x80480cc
        int32_t v28 = (int32_t)&g6; // 0x80480cc
        while (true) {
          lab_0x80480ce:;
            int32_t v29 = v26;
            unsigned char v30 = *(char *)v28; // 0x80480d3
            int32_t v31 = v29 & -256 | (int32_t)v30; // 0x80480d3
            g3++;
            int32_t v32; // 0x804804c
            switch (v30) {
                case 32: {
                }
                case 9: {
                }
                case 10: {
                    // 0x80480e9
                    v32 = v31;
                    if ((v29 & 0xff00) != 0) {
                        int32_t v33 = *(int32_t *)((int32_t)&g3 - 4); // 0x80480ed
                        *(int32_t *)((int32_t)&g3 - 4) = v33 + 1;
                        v32 = v31 & -0xff01;
                    }
                    // break -> 0x80480f1
                    break;
                }
                default: {
                    // 0x80480e5
                    v32 = v31 & -0xff01 | 256;
                    // break -> 0x80480f1
                    break;
                }
            }
            // 0x80480f1
            v26 = v32;
            if ((char)v26 == 10) {
                int32_t v34 = *(int32_t *)((int32_t)&g3 - 8); // 0x80480f8
                *(int32_t *)((int32_t)&g3 - 8) = v34 + 1;
            }
            // 0x80480fa
            v27--;
            v28 += (v7 ? -1 : 1);
            if (v27 != 0) {
                goto lab_0x80480ce;
            } else {
                goto lab_0x80480ad;
            }
        }
    }
}

// Address range: 0x8048172 - 0x8048184
int32_t function_8048172(void) {
    // 0x8048172
    function_8048184();
    __asm_int(128);
    int32_t result; // 0x8048172
    return result;
}

// Address range: 0x8048184 - 0x8048194
int32_t function_8048184(void) {
    // 0x8048184
    int32_t v1; // 0x8048184
    while (*(char *)v1 != 0) {
        // 0x804818b
        bool v2; // 0x8048184
        v1 += (v2 ? -1 : 1);
    }
    // 0x8048191
    int32_t result; // 0x8048184
    return result;
}

// Address range: 0x8048194 - 0x80481b4
int32_t function_8048194(void) {
    // 0x8048194
    int32_t v1; // bp-32, 0x8048194
    int32_t v2 = &v1;
    int32_t v3 = 0;
    int32_t v4; // 0x8048194
    uint32_t v5 = v4;
    int32_t v6 = v5 % 10 | 48; // 0x804819f
    int32_t v7 = v2 - 4; // 0x80481a2
    *(int32_t *)v7 = v6;
    v4 = v5 / 10;
    int32_t v8 = v3 + 1; // 0x80481a6
    while (v5 >= 10) {
        // 0x804819b
        v2 = v7;
        v3 = v8;
        v5 = v4;
        v6 = v5 % 10 | 48;
        v7 = v2 - 4;
        *(int32_t *)v7 = v6;
        v4 = v5 / 10;
        v8 = v3 + 1;
    }
    // 0x80481a8
    bool v9; // 0x8048194
    int32_t v10 = v9 ? -1 : 1; // 0x80481a9
    int32_t v11; // 0x8048194
    *(char *)v11 = (char)v6;
    int32_t v12 = v11 + v10; // 0x80481a9
    int32_t v13 = v3; // 0x80481aa
    int32_t v14 = v12; // 0x80481aa
    if (v3 == 0) {
        // 0x80481ac
        *(int16_t *)v12 = 9;
        return *(int32_t *)(v7 + 32);
    }
    int32_t v15 = v2;
    *(char *)v14 = (char)*(int32_t *)v15;
    v14 += v10;
    v13--;
    int32_t v16 = v15 + 4; // 0x80481aa
    while (v13 != 0) {
        // 0x80481a8
        v15 = v16;
        *(char *)v14 = (char)*(int32_t *)v15;
        v14 += v10;
        v13--;
        v16 = v15 + 4;
    }
    // 0x80481ac
    *(int16_t *)v14 = 9;
    return *(int32_t *)(v15 + 32);
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: upx (3.xx)
// Detected functions: 4

