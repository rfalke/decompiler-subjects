//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2);
int32_t function_804804c(void);
int32_t function_804813b(void);
int32_t function_8048168(void);
int32_t function_8048190(void);
int32_t function_80481af(void);
int32_t function_80481d7(void);
int32_t function_804821c(void);
int32_t function_804824a(void);

// --------------------- Global Variables ---------------------

char g1 = 0; // 0x804825b
int32_t g2 = 0; // 0x804825f
int32_t g3 = 0; // 0x8048263
int32_t g4 = 0; // 0x8048267
int32_t g5 = 0; // 0x804826b
int32_t g6 = 0; // 0x804826f
char g7 = 0; // 0x8048273
char g8 = 0; // 0x8048274
char * g9; // 0x8048275

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x8048057
int32_t function_804804c(void) {
    // 0x804804c
    __asm_int(128);
    return 1;
}

// Address range: 0x8048057 - 0x804813b
int32_t entry_point(int32_t a1, int32_t a2) {
    // 0x8048057
    *(char *)&g6 = 1;
    int32_t v1 = a1 - 1; // 0x8048061
    int32_t v2; // 0x8048057
    if (v1 == 0) {
        v2 = function_804804c();
    }
    int32_t v3 = v2; // 0x8048064
    int32_t v4 = v1; // 0x8048064
    int32_t v5; // 0x8048057
    int32_t v6 = &v5; // 0x8048064
    int32_t v7; // 0x8048057
    int32_t v8; // 0x8048057
    while (true) {
        int32_t v9 = v6;
        v8 = v4;
        v7 = v3;
        v6 = v9 + 4;
        int16_t v10 = *(int16_t *)*(int32_t *)v9; // 0x8048066
        if (v10 != 0x712d) {
            if (v10 != 0x632d) {
                if (v10 != 0x622d) {
                    if (v10 != 0x762d) {
                        // break -> 0x8048093
                        break;
                    }
                    // 0x804808f
                    v3 = v7 | 2;
                } else {
                    // 0x8048084
                    v3 = v7 | 128;
                }
            } else {
                // 0x8048079
                v3 = v7 | 4;
            }
        } else {
            // 0x804806d
            v3 = v7 | 1;
        }
        // 0x804806f
        v4 = v8 - 1;
    }
    // 0x8048093
    g8 = v7;
    int32_t v11 = v8 - 1; // 0x8048098
    int32_t v12 = v6; // 0x8048099
    int32_t v13; // 0x8048057
    if (v11 == 0) {
        goto lab_0x80480c5;
    } else {
        // 0x804809b
        g1 = v11;
        v13 = v6;
        goto lab_0x80480a1;
    }
  lab_0x80480c5:;
    int32_t v14 = v12;
    function_80481d7();
    if (g7 == 0) {
        int32_t * v15 = (int32_t *)(v14 - 4);
        int32_t v16 = function_804821c(); // 0x80480ed
        uint32_t v17; // 0x80480f2
        if (v16 == 0 != ((g8 & 2) == 0)) {
            // 0x8048107
            v17 = (int32_t)g8;
            *(char *)&g6 = 0;
            if (v17 % 2 == 0) {
                // 0x8048113
                g3++;
                if ((v17 & 4) == 0) {
                    // 0x804811e
                    function_804813b();
                    function_8048168();
                    function_804824a();
                    *v15 = 4;
                    __asm_int(128);
                }
            }
        }
        // 0x80480c5
        function_80481d7();
        while (g7 == 0) {
            // 0x80480ed
            v16 = function_804821c();
            if (v16 == 0 != ((g8 & 2) == 0)) {
                // 0x8048107
                v17 = (int32_t)g8;
                *(char *)&g6 = 0;
                if (v17 % 2 == 0) {
                    // 0x8048113
                    g3++;
                    if ((v17 & 4) == 0) {
                        // 0x804811e
                        function_804813b();
                        function_8048168();
                        function_804824a();
                        *v15 = 4;
                        __asm_int(128);
                    }
                }
            }
            // 0x80480c5
            function_80481d7();
        }
    }
    // 0x80480d8
    v13 = v14;
    if ((g8 & 4) != 0) {
        // 0x80480e1
        function_804813b();
        function_8048190();
        v13 = v14;
    }
    goto lab_0x80480a1;
  lab_0x80480a1:;
    int32_t * v18 = (int32_t *)v13; // 0x80480a1
    int32_t v19 = *v18; // 0x80480a1
    if (v19 == 0) {
        function_804804c();
    }
    // 0x80480a6
    g3 = 0;
    g4 = 0;
    g2 = v19;
    *v18 = 5;
    __asm_int(128);
    v12 = v13 + 4;
    goto lab_0x80480c5;
}

// Address range: 0x804813b - 0x8048168
int32_t function_804813b(void) {
    // 0x804813b
    if (g1 >= 2) {
        // 0x8048144
        *(char *)(function_804824a() + g2) = 58;
        __asm_int(128);
        *(char *)(g2 + 3) = 0;
    }
    // 0x8048167
    int32_t result; // 0x804813b
    return result;
}

// Address range: 0x8048168 - 0x8048190
int32_t function_8048168(void) {
    // 0x8048168
    int32_t result; // 0x8048168
    if (g8 <= 255) {
        // 0x8048171
        function_80481af();
        *(char *)result = 58;
        __asm_int(128);
    }
    // 0x804818f
    return result;
}

// Address range: 0x8048190 - 0x80481af
int32_t function_8048190(void) {
    // 0x8048190
    function_80481af();
    int32_t result; // 0x8048190
    *(char *)result = 10;
    __asm_int(128);
    return result;
}

// Address range: 0x80481af - 0x80481d7
int32_t function_80481af(void) {
    // 0x80481af
    int32_t v1; // 0x80481af
    uint32_t v2 = v1;
    int32_t v3 = v2 % 10 | 48; // 0x80481c8
    int32_t v4 = (char)v3 < 58 ? v3 : v3 + 39;
    *(char *)&g9 = (char)v4;
    return v2 / 10;
}

// Address range: 0x80481d7 - 0x804821c
int32_t function_80481d7(void) {
    // 0x80481d7
    g7 = 1;
    g5 = g4;
    int32_t v1; // bp-32, 0x80481d7
    int32_t v2 = &v1; // 0x80481e5
    *(int32_t *)(v2 - 4) = 3;
    __asm_int(128);
    return *(int32_t *)(v2 + 28);
}

// Address range: 0x804821c - 0x804824a
int32_t function_804821c(void) {
    // 0x804821c
    int32_t result; // 0x804821c
    int32_t v1; // 0x804821c
    if ((char)v1 == 0) {
        // 0x8048247
        return result;
    }
    int32_t v2 = function_804824a(); // 0x8048228
    result = 0;
    if (v2 == 0) {
      lab_0x8048247:
        // 0x8048247
        return result;
    }
    // 0x8048234
    int32_t v3; // bp-8, 0x804821c
    int32_t * v4 = (int32_t *)((int32_t)&v3 - 4); // 0x8048236
    bool v5; // 0x804821c
    int32_t v6 = v5 ? -1 : 1;
    *v4 = v2;
    int32_t v7 = v2; // 0x8048238
    int32_t v8; // 0x804821c
    int32_t v9 = v8;
    result = v9;
    if (v7 == 0) {
        return result;
    }
    int32_t v10; // 0x804821c
    char v11 = *(char *)v10; // 0x8048238
    int32_t v12 = v9 + v6; // 0x8048238
    v7--;
    v10 += v6;
    while (*(char *)v9 == v11) {
        v9 = v12;
        result = v9;
        if (v7 == 0) {
            return result;
        }
        v11 = *(char *)v10;
        v12 = v9 + v6;
        v7--;
        v10 += v6;
    }
    int32_t v13 = *v4; // 0x804823b
    while (*(char *)v12 != 0) {
        // 0x8048234
        *v4 = v13;
        v7 = v13;
        v9 = v12;
        result = v9;
        if (v7 == 0) {
            return result;
        }
        v11 = *(char *)v10;
        v12 = v9 + v6;
        v7--;
        v10 += v6;
        while (*(char *)v9 == v11) {
            v9 = v12;
            result = v9;
            if (v7 == 0) {
                return result;
            }
            v11 = *(char *)v10;
            v12 = v9 + v6;
            v7--;
            v10 += v6;
        }
        // 0x804823e
        v13 = *v4;
    }
    // 0x8048247
    return 0;
}

// Address range: 0x804824a - 0x804825b
int32_t function_804824a(void) {
    // 0x804824a
    int32_t v1; // 0x804824a
    int32_t v2 = v1 - 1; // 0x804824f
    v2++;
    while (*(char *)v2 != 0) {
        // 0x8048250
        v2++;
    }
    // 0x8048256
    return v2 - v1;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (4.7.0)
// Detected functions: 9

