//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2);
int32_t function_8048072(void);

// --------------------- Global Variables ---------------------

int32_t g1 = -0x7b1cc275; // 0x80480c7
int32_t g2 = -0x7b20e275; // 0x80483bf
int32_t g3 = 0; // 0x80484df
int32_t g4 = 0; // 0x80484e3
int32_t g5 = 0; // 0x80484e7
int32_t g6 = 0; // 0x80484eb
int32_t g7 = 0; // 0x80484ef
int32_t g8 = 0; // 0x80484f3
int32_t g9 = 0; // 0x80484f7
char * g10; // 0x80484fb
char * g11; // 0x8048afb

// ------------------------ Functions -------------------------

// Address range: 0x8048072 - 0x804807a
int32_t function_8048072(void) {
    // 0x8048072
    __asm_int(128);
    return 1;
}

// Address range: 0x804807a - 0x8048367
int32_t entry_point(int32_t a1, int32_t a2) {
    // 0x804807a
    int32_t v1; // 0x804807a
    int32_t v2 = &v1; // 0x804807b
    g7 = 15;
    bool v3; // 0x804807a
    int32_t v4 = v3 ? -1 : 1;
    int32_t v5 = -1; // 0x804808b
    int32_t v6 = a2;
    int32_t v7 = v6; // 0x804808b
    while (v5 != 0) {
        int32_t v8 = v6 + v4; // 0x804808b
        v5--;
        v7 = v8;
        if (*(char *)v6 == 0) {
            // break -> 
            break;
        }
        v6 = v8;
        v7 = v6;
    }
    if (*(int32_t *)(v7 - 5) == 0x666f6469) {
        // 0x8048356
        *(char *)&g3 = 1;
    }
    int32_t v9 = v2 + 4; // 0x8048259
    int32_t v10 = v9; // 0x804825c
    int32_t v11 = v7; // 0x804825c
    int32_t v12; // 0x804807a
    int32_t v13; // 0x804807a
    int32_t * v14; // 0x804807a
    int32_t v15; // 0x804807a
    int32_t v16; // 0x804807a
    int32_t v17; // 0x804807a
    int32_t v18; // 0x804807a
    int32_t v19; // 0x804807a
    if (v19 != 0) {
        int32_t v20 = v3 ? -4 : 4;
        int32_t v21 = v9; // 0x804807a
        int32_t * v22 = &v1; // 0x804807a
        int32_t v23 = v7; // 0x804807a
        int32_t v24 = v2; // 0x804807a
        while (true) {
            // 0x8048262
            v16 = v23;
            v12 = v21;
            int32_t v25; // 0x804807a
            v13 = v25;
            v14 = v22;
            v17 = v24;
            int32_t v26; // 0x804807a
            int32_t v27; // 0x804807a
            int32_t v28; // 0x804807a
            int32_t v29; // 0x804807a
            int32_t v30; // 0x804807a
            int32_t v31; // 0x804807a
            int32_t v32; // 0x804807a
            int32_t v33; // 0x804807a
            int32_t v34; // 0x804807a
            int32_t v35; // 0x804807a
            int32_t v36; // 0x804807a
            int32_t v37; // 0x804807a
            int32_t v38; // 0x804807a
            int32_t v39; // 0x804807a
            int32_t v40; // 0x804807a
            int32_t v41; // 0x804807a
            int32_t v42; // 0x8048264
            while (true) {
              lab_0x8048262:
                // 0x8048262
                v18 = v17;
                int32_t v43 = v13;
                v10 = v18;
                v11 = v16;
                if (*(char *)v43 != 45) {
                    // break (via goto) -> 0x8048333
                    goto lab_0x8048333_3;
                }
                // 0x804826d
                v42 = v43 + v4;
                char v44 = *(char *)v42; // 0x804826d
                v10 = v18;
                v11 = v16;
                if (v44 == 45) {
                    // break (via goto) -> 0x8048333
                    goto lab_0x8048333_3;
                }
                if (v44 < 58) {
                    goto lab_0x804832e;
                }
                // 0x804827e
                v15 = v12;
                v26 = 0;
                v38 = v16;
                v27 = 0;
                v39 = v16;
                v28 = 0;
                v40 = v16;
                v29 = 0;
                v41 = v16;
                v30 = 0;
                v34 = v16;
                v31 = 0;
                v35 = v16;
                v32 = 0;
                v36 = v16;
                v33 = 0;
                v37 = v16;
                switch (v44) {
                    case 101: {
                        goto lab_0x8048259;
                    }
                    case 103: {
                        goto lab_0x804831a;
                    }
                    case 105: {
                        goto lab_0x804831b;
                    }
                    case 108: {
                        goto lab_0x804832e;
                    }
                    case 113: {
                        goto lab_0x804831c;
                    }
                    case 118: {
                        goto lab_0x804831d;
                    }
                    case 86: {
                        goto lab_0x804831e;
                    }
                    case 119: {
                        goto lab_0x8048259;
                    }
                    case 115: {
                        goto lab_0x804831f;
                    }
                    case 120: {
                        goto lab_0x8048320;
                    }
                    case 111: {
                        goto lab_0x8048321;
                    }
                    default: {
                        goto lab_0x80482c2;
                    }
                }
            }
          lab_0x80482c2:;
            int32_t * v45 = v14;
            int32_t v46 = v42 + v4; // 0x804826d
            int32_t v47 = v46 - 1; // 0x80482c2
            int32_t * v48 = (int32_t *)v47;
            int32_t v49 = (int32_t)"HUP";
            int32_t v50 = *(int32_t *)v49; // 0x80482ca
            while (v50 != 0) {
                int32_t v51 = v49 + v20; // 0x80482ca
                int32_t v52 = v51 + 1; // 0x80482d2
                if (v50 == *v48) {
                    // 0x80482d4
                    *(char *)&g7 = *(char *)v51;
                    v10 = v15;
                    v11 = v47;
                    goto lab_0x8048333_3;
                }
                v49 = v52;
                v50 = *(int32_t *)v49;
            }
            // 0x80482ea
            *v45 = 4;
            __asm_int(128);
            *(char *)v46 = 10;
            *v45 = 4;
            __asm_int(128);
            *v45 = 1;
            __asm_int(128);
            v26 = v46 - 3;
            v38 = v47;
          lab_0x804831a:
            // 0x804831a
            v27 = v26 + 1;
            v39 = v38;
          lab_0x804831b:
            // 0x804831b
            v28 = v27 + 1;
            v40 = v39;
          lab_0x804831c:
            // 0x804831c
            v29 = v28 + 1;
            v41 = v40;
          lab_0x804831d:
            // 0x804831d
            v30 = v29 + 1;
            v34 = v41;
          lab_0x804831e:
            // 0x804831e
            v31 = v30 + 1;
            v35 = v34;
          lab_0x804831f:
            // 0x804831f
            v32 = v31 + 1;
            v36 = v35;
          lab_0x8048320:
            // 0x8048320
            v33 = v32 + 1;
            v37 = v36;
          lab_0x8048321:
            // 0x8048321
            g4 |= 1 << (v33 + 1) % 32;
            int32_t * v53 = (int32_t *)v15; // 0x8048259
            int32_t v54 = *v53; // 0x8048259
            int32_t v55 = v15 + 4; // 0x8048259
            v21 = v55;
            v25 = v54;
            v22 = v53;
            v23 = v37;
            v24 = v15;
            v10 = v55;
            v11 = v37;
            if (v54 == 0) {
                // break -> 0x8048333
                break;
            }
        }
    }
    goto lab_0x8048333_3;
  lab_0x8048333_3:
    // 0x8048333
    g5 = &g1;
    g6 = &g2;
    int32_t * v56 = (int32_t *)(v10 - 4); // 0x804818d
    *v56 = 5;
    __asm_int(128);
    g9 = 5;
    *v56 = 12;
    __asm_int(128);
    if (*(int32_t *)v11 == 0) {
        function_8048072();
    }
    int32_t v57; // 0x804807a
    int32_t v58; // 0x804807a
    int32_t v59; // 0x804807a
    int32_t v60; // 0x804807a
    int32_t v61; // 0x80481e8
    while (true) {
        // 0x80481b2
        *(char *)&g10 = 0;
        __asm_int(128);
        v57 = (int32_t)&g10 + 8;
        v58 = (int32_t)&g10;
        if (*(char *)((int32_t)&g10 + 8) != 0) {
            while (true) {
              lab_0x80481e8:;
                int32_t v62 = v58;
                int16_t v63 = *(int16_t *)v57; // 0x80481e8
                v61 = v62 & -0x10000 | (int32_t)(v63 + (int16_t)v62);
                int32_t v64 = v61 + 10; // 0x80481ec
                char v65 = *(char *)v64; // 0x80481f4
                char v66 = v65; // 0x80481f7
                int32_t v67 = v64; // 0x80481f7
                int32_t v68 = (int32_t)&g11; // 0x80481f7
                if (v65 > 57) {
                    goto lab_0x80481e2;
                } else {
                    while (true) {
                        int32_t v69 = v67 + v4;
                        *(char *)v68 = v66;
                        int32_t v70 = v68 + v4; // 0x80481fd
                        char v71 = *(char *)v69; // 0x80481fe
                        v66 = v71;
                        v67 = v69;
                        v68 = v70;
                        v60 = (int32_t)"/stat";
                        v59 = v70;
                        if (v71 == 0) {
                            goto lab_0x8048208;
                        }
                    }
                    goto lab_0x804820e;
                }
            }
        }
      lab_0x80481b2:;
    }
  lab_0x804832e:
    // 0x804832e
    __asm_int3();
    __asm_int3();
    v10 = v18;
    v11 = v16;
    goto lab_0x8048333_3;
  lab_0x8048208:;
    char v72 = *(char *)v60; // 0x8048208
    *(char *)v59 = v72;
    v60 += v4;
    v59 += v4;
    if (v72 != 0) {
        goto lab_0x8048208;
    } else {
        goto lab_0x804820e;
    }
  lab_0x80481e2:;
    int32_t v73 = v61 + 8; // 0x80481e2
    v57 = v73;
    v58 = v61;
    if (*(char *)v73 == 0) {
        // break -> 0x80481b2
        goto lab_0x80481b2;
    }
    goto lab_0x80481e8;
  lab_0x804820e:
    // 0x804820e
    *v56 = 5;
    __asm_int(128);
    g8 = 5;
    *v56 = 3;
    __asm_int(128);
    int32_t v74 = (int32_t)&g11; // 0x8048233
    while (*(char *)v74 != 40) {
        // 0x8048238
        v74 += v4;
    }
    goto lab_0x80481e2;
  lab_0x8048259:;
    int32_t * v75 = (int32_t *)v15; // 0x8048259
    int32_t v76 = *v75; // 0x8048259
    int32_t v77 = v15 + 4; // 0x8048259
    v12 = v77;
    v13 = v76;
    v14 = v75;
    v17 = v15;
    v10 = v77;
    v11 = v16;
    if (v76 == 0) {
        // break (via goto) -> 0x8048333
        goto lab_0x8048333_3;
    }
    goto lab_0x8048262;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (4.0.x - 4.2.x)
// Detected functions: 2

