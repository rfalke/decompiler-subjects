//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>
#include <stdlib.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2);
int32_t function_8048144(void);

// --------------------- Global Variables ---------------------

char g1 = 85; // 0x80480a0
int16_t * g2 = NULL; // 0x8048256

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x8048255
int32_t entry_point(int32_t a1, int32_t a2) {
    int32_t v1 = a2;
    int32_t v2 = &v1; // 0x804804e
    int32_t result; // 0x804804c
    int32_t v3; // 0x804804c
    int32_t v4; // 0x804804c
    int32_t v5; // 0x804804c
    int32_t v6; // 0x804804c
    int32_t v7; // 0x804804c
    int32_t v8; // 0x804804c
    int32_t v9; // 0x804804c
    int32_t v10; // 0x804804c
    int32_t v11; // 0x804804c
    int32_t v12; // 0x804804c
    int32_t v13; // 0x804804c
    int32_t v14; // 0x804804c
    int32_t v15; // 0x804804c
    int32_t v16; // 0x804804c
    int32_t v17; // 0x804804c
    int32_t v18; // 0x804806c
    if (a1 != 1) {
        // 0x8048054
        __asm_int(128);
        int32_t v19; // 0x804804c
        int32_t v20 = &v19; // 0x804805e
        int32_t v21 = v20 + 4; // 0x8048061
        v2 = v21;
        v6 = 0;
        v14 = 0;
        int32_t v22; // 0x804804c
        if (v22 != 0) {
            // 0x804806a
            bool v23; // 0x804804c
            v18 = v23 ? -1 : 1;
            int32_t v24 = v21; // 0x804804c
            int32_t * v25 = &v19; // 0x804804c
            int32_t v26 = 0; // 0x804804c
            int32_t v27 = v20; // 0x804804c
            int32_t v28 = 12; // 0x804804c
            int32_t v29; // 0x804804c
            int32_t * v30; // 0x804804c
            int32_t v31; // 0x804804c
            int32_t v32; // 0x804806c
            while (true) {
              lab_0x804806a:
                // 0x804806a
                v31 = v26;
                v30 = v25;
                v29 = v24;
                int32_t v33; // 0x804804c
                v32 = v33 + v18;
                if (*(char *)v33 != 45) {
                    // break -> 0x80481c1
                    break;
                }
                int32_t v34 = v27;
                unsigned char v35 = *(char *)v32; // 0x8048075
                int32_t v36 = v28 & -256 | (int32_t)v35; // 0x8048075
                result = v36;
                v17 = v29;
                v5 = v31;
                switch (v35) {
                    case 110: {
                        int32_t v37 = v31 + 1; // 0x80480af
                        int32_t * v38 = (int32_t *)v29; // 0x8048061
                        int32_t v39 = *v38; // 0x8048061
                        int32_t v40 = v29 + 4; // 0x8048061
                        v24 = v40;
                        v33 = v39;
                        v25 = v38;
                        v26 = v37;
                        v27 = v29;
                        v28 = v36;
                        v2 = v40;
                        v6 = v37;
                        v14 = 0;
                        if (v39 == 0) {
                            goto lab_0x8048216;
                        }
                        goto lab_0x804806a;
                    }
                    case 119: {
                        goto lab_0x8048136;
                    }
                    case 112: {
                        int32_t * v41 = (int32_t *)v29;
                        *v41 = 5;
                        __asm_int(128);
                        *v41 = 5;
                        *v30 = 19;
                        __asm_int(128);
                        *v41 = 3;
                        __asm_int(128);
                        v9 = 3;
                        v15 = v34 + 8;
                        v3 = 0;
                        v12 = 192;
                        v7 = *v41;
                        goto lab_0x8048104_3;
                    }
                    default: {
                        int32_t v42 = v32 + v18; // 0x8048075
                        *v30 = 4;
                        __asm_int(128);
                        *v30 = 1;
                        __asm_int(128);
                        *v30 = v31;
                        char * v43 = (char *)v42; // 0x80480a1
                        __asm_outsb(15, *v43);
                        __asm_outsb(15, *v43);
                        char * v44 = (char *)(v22 + 112); // 0x80480a7
                        char v45 = *v44 & (char)((int32_t)&g1 >> 8); // 0x80480a7
                        *v44 = v45;
                        v10 = 15;
                        v16 = v34;
                        v4 = 119 * *(int32_t *)(v42 + 111);
                        v13 = v42;
                        if (v45 != 0) {
                            // 0x80480ac
                            __asm_outsd(15, *(int32_t *)v42);
                            __asm_outsb(15, *v43);
                            return 1;
                        }
                      lab_0x8048122_2:
                        // 0x8048122
                        function_8048144();
                        v9 = v10;
                        v15 = v16;
                        v3 = v4;
                        v12 = v13 - 1;
                        v7 = (int32_t)&g2;
                        goto lab_0x8048104_3;
                    }
                }
            }
            int32_t v46 = v32 - 1; // 0x80481c2
            int32_t v47 = (int32_t)&g2; // 0x80481c2
            int32_t v48; // 0x80481c7
            int32_t v49; // 0x80481cc
            while (true) {
                int32_t v50 = v47;
                char v51 = *(char *)v46; // 0x80481c7
                v48 = v46 + v18;
                char * v52 = (char *)v50;
                int32_t v53; // 0x804804c
                if (v51 == 46) {
                    // 0x80481d3
                    *v52 = 47;
                    v53 = v50 + v18;
                } else {
                    // 0x80481cc
                    *v52 = v51;
                    v49 = v50 + v18;
                    v53 = v49;
                    if (v51 == 0) {
                        // break -> 0x80481d8
                        break;
                    }
                }
                // 0x80481c7
                v46 = v48;
                v47 = v53;
            }
            // 0x80481d8
            *v30 = 5;
            __asm_int(128);
            *v30 = 3;
            __asm_int(128);
            *v30 = 4;
            __asm_int(128);
            *v30 = 1;
            __asm_int(128);
            *v30 = 1;
            __asm_int(128);
            v11 = 3;
            v2 = v29;
            v6 = v31;
            v14 = v48;
            v8 = v49;
        }
    }
    goto lab_0x8048216;
  lab_0x8048216:
    // 0x8048216
    *(int32_t *)(v2 - 4) = 1;
    __asm_int(128);
    __asm_outsd((int16_t)v11, *(int32_t *)v14);
    __asm_arpl(*(int16_t *)v8, (int16_t)v6);
    // 0x804813f
    return 1;
  lab_0x8048117:;
    // 0x8048117
    int32_t v54; // 0x8048104
    char v55 = *(char *)v54; // 0x8048117
    int32_t v56 = v54 + v18; // 0x8048117
    int32_t v57; // 0x804804c
    v10 = v57;
    int32_t v58; // 0x804804c
    v16 = v58;
    int32_t v59; // 0x804804c
    v4 = v59;
    v13 = v56;
    if (v55 == 0) {
        goto lab_0x8048122_2;
    }
    int32_t v60 = v56; // 0x804811e
    while (v55 != 10) {
        // 0x8048117
        v55 = *(char *)v60;
        v56 = v60 + v18;
        v10 = v57;
        v16 = v58;
        v4 = v59;
        v13 = v56;
        if (v55 == 0) {
            goto lab_0x8048122_2;
        }
        // 0x804811c
        v60 = v56;
    }
    int32_t v61 = v56; // 0x804804c
    goto lab_0x8048104_2;
  lab_0x8048136:;
    // 0x8048136
    int32_t v63; // 0x804804c
    v11 = v63;
    v2 = v17 + 4;
    v6 = v5;
    v14 = 0;
    int32_t v64; // 0x804804c
    v8 = v64;
    if (*(int32_t *)v17 != 0) {
        // 0x804813f
        return result;
    }
    goto lab_0x8048216;
  lab_0x8048104_3:;
    int32_t v65 = v7;
    v59 = v3;
    v58 = v15;
    v57 = v9;
    v61 = v12;
    while (true) {
      lab_0x8048104_2:;
        unsigned char v62 = *(char *)v61; // 0x8048104
        v54 = v61 + v18;
        switch (v62) {
            case 59: {
                goto lab_0x8048117;
            }
            case 35: {
                goto lab_0x8048117;
            }
            case 0: {
                goto lab_0x804812f;
            }
            default: {
                // 0x8048111
                if (v62 >= 33) {
                    goto lab_0x8048122_2;
                }
                // 0x8048104
                v61 = v54;
                goto lab_0x8048104_2;
            }
        }
    }
  lab_0x804812f:
    // 0x804812f
    *(int32_t *)(v58 - 4) = 1;
    __asm_int(128);
    result = 1;
    v63 = v57;
    v17 = v58;
    v5 = v59;
    v64 = v65;
    goto lab_0x8048136;
}

// Address range: 0x8048144 - 0x80481c1
int32_t function_8048144(void) {
    // 0x8048144
    int32_t v1; // 0x8048144
    unsigned char v2 = (char)v1;
    int32_t v3; // 0x8048144
    int32_t result; // 0x8048165
    int32_t v4; // 0x8048144
    switch (v2) {
        case 46: {
            // 0x804815b
            *(char *)v1 = 47;
            return function_8048144();
        }
        default: {
            if (v2 >= 33) {
                // 0x8048151
                *(char *)v1 = v2;
                // 0x8048156
                return function_8048144();
            }
        }
        case 61: {
            // 0x8048160
            bool v5; // 0x8048144
            v4 = v5 ? -1 : 1;
            *(char *)v1 = 0;
            int32_t v6 = v1 - 1 + v4; // 0x8048163
            result = 0;
            unsigned char v7 = *(char *)v6; // 0x8048164
            result = result & -256 | (int32_t)v7;
            while (v7 != 0) {
                // 0x804816d
                v6 += v4;
                v3 = v6;
                if (v7 == 61) {
                    goto lab_0x8048171;
                }
                v7 = *(char *)v6;
                result = result & -256 | (int32_t)v7;
            }
            // break -> 0x8048156
            break;
        }
    }
    // 0x8048156
    return result;
  lab_0x8048171:;
    int32_t v8 = v3;
    v3 = v8 + v4;
    if (*(char *)v8 < 33) {
        goto lab_0x8048171;
    }
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (4.4.3)
// Detected functions: 2

