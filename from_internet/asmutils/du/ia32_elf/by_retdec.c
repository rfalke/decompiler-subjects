//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2);
int32_t function_8048102(void);
int32_t function_804825f(void);
int32_t function_8048298(void);
int32_t function_804829f(void);
int32_t function_80482c1(void);

// --------------------- Global Variables ---------------------

int32_t g1 = 0x8048b40; // 0x80482dd
int32_t g2 = 0x8048b40; // 0x80482e1
char g3 = 0; // 0x80482e5
char g4 = 0; // 0x80482e6
char g5 = 0; // 0x80482e7
char g6 = 0; // 0x80482e8
char g7 = 0; // 0x80482e9
int32_t g8 = 0; // 0x80482f5
int32_t g9 = 0; // 0x8048301
int64_t g10 = 0; // 0x8048305
int64_t g11 = 0; // 0x8048309
char * g12; // 0x804833b
char * g13; // 0x804833c

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x8048102
int32_t entry_point(int32_t a1, int32_t a2) {
    // 0x804804c
    int32_t v1; // 0x804804c
    int32_t v2 = (int32_t)&v1 + 4; // 0x804804e
    int32_t v3 = v2; // 0x8048051
    int32_t v4; // 0x804804c
    int32_t * v5; // 0x804804c
    int32_t v6; // 0x804804c
    int32_t v7; // 0x804804c
    int32_t v8; // 0x804804c
    int32_t v9; // 0x804804c
    bool v10; // 0x804804c
    int32_t v11; // 0x804804c
    int32_t v12; // 0x804804c
    if (v11 == 0) {
      lab_0x804809f:
        // 0x804809f
        v8 = v3;
      lab_0x804809f_2:;
        int32_t v13 = v8;
        int32_t v14; // 0x804804c
        int32_t * v15; // 0x804804c
        if (g3 == 0) {
            int32_t v16 = v13 - 4;
            v15 = (int32_t *)v16;
            v14 = v16;
        } else {
            // 0x80480a8
            function_804829f();
            int32_t v17 = v13 - 4;
            int32_t * v18 = (int32_t *)v17;
            *v18 = (int32_t)&g12;
            function_804829f();
            *(char *)*v18 = 10;
            *v18 = 4;
            __asm_int(128);
            v15 = v18;
            v14 = v17;
        }
        // 0x80480c8
        *v15 = 1;
        __asm_int(128);
        v4 = v10 ? -1 : 1;
        v5 = v15;
        v6 = v14;
        v7 = -1;
    } else {
        // 0x8048053
        v12 = v10 ? -1 : 1;
        int32_t v19 = v2; // 0x804804e
        int32_t v20; // 0x804804c
        int32_t v21; // 0x8048053
        while (true) {
            // 0x8048053
            v20 = v19;
            int32_t v22; // 0x804804c
            v21 = v22 + v12;
            int32_t v23 = v21; // 0x8048056
            if (*(char *)v22 != 45) {
                // break -> 0x80480cf
                break;
            }
            while (true) {
              lab_0x8048058_2:;
                int32_t v24 = v23;
                char v25 = *(char *)v24; // 0x8048058
                v9 = v20;
                switch (v25) {
                    case 97: {
                        // 0x8048077
                        g4++;
                        // 0x8048058
                        v23 = v24 + v12;
                        goto lab_0x8048058_2;
                    }
                    case 115: {
                        // 0x804807f
                        g5++;
                        // 0x8048058
                        v23 = v24 + v12;
                        goto lab_0x8048058_2;
                    }
                    case 116: {
                        // 0x8048087
                        g3++;
                        // 0x8048058
                        v23 = v24 + v12;
                        goto lab_0x8048058_2;
                    }
                    case 107: {
                        // 0x804808f
                        g6++;
                        // 0x8048058
                        v23 = v24 + v12;
                        goto lab_0x8048058_2;
                    }
                    case 100: {
                        // 0x8048097
                        g7++;
                        // 0x8048058
                        v23 = v24 + v12;
                        goto lab_0x8048058_2;
                    }
                    case 45: {
                        goto lab_0x80480d3;
                    }
                    case 0: {
                        goto lab_0x804804e;
                    }
                    default: {
                        // 0x8048058
                        v23 = v24 + v12;
                        goto lab_0x8048058_2;
                    }
                }
            }
          lab_0x804804e:;
            int32_t v26 = *(int32_t *)v20; // 0x804804e
            v19 = v20 + 4;
            v22 = v26;
            v3 = v19;
            if (v26 == 0) {
                goto lab_0x804809f;
            }
        }
        int32_t v27 = v20 - 4; // 0x80480d0
        v4 = v12;
        v5 = (int32_t *)v27;
        v6 = v27;
        v7 = v21 - 1;
    }
    // 0x80480cf
    *v5 = v7;
    v12 = v4;
    v9 = v6;
  lab_0x80480d3:;
    int32_t v28 = v12;
    int32_t v29 = v9; // 0x804804c
    while (true) {
        int32_t v30 = *(int32_t *)v29; // 0x80480d3
        int32_t v31 = v29 + 4; // 0x80480d3
        v8 = v31;
        int32_t v32 = v30; // 0x80480d6
        int32_t v33 = (int32_t)&g13; // 0x80480d6
        if (v30 == 0) {
            goto lab_0x804809f_2;
        }
        char v34 = *(char *)v32; // 0x80480dd
        *(char *)v33 = v34;
        int32_t v35 = v33 + v28; // 0x80480de
        v32 += v28;
        v33 = v35;
        while (v34 != 0) {
            // 0x80480dd
            v34 = *(char *)v32;
            *(char *)v33 = v34;
            v35 = v33 + v28;
            v32 += v28;
            v33 = v35;
        }
        // 0x80480e3
        function_8048102();
        int32_t v36 = v31; // 0x80480e9
        while (v35 < 1) {
            // 0x80480d3
            v30 = *(int32_t *)v36;
            v31 = v36 + 4;
            v8 = v31;
            v32 = v30;
            v33 = (int32_t)&g13;
            if (v30 == 0) {
                goto lab_0x804809f_2;
            }
            v34 = *(char *)v32;
            *(char *)v33 = v34;
            v35 = v33 + v28;
            v32 += v28;
            v33 = v35;
            while (v34 != 0) {
                // 0x80480dd
                v34 = *(char *)v32;
                *(char *)v33 = v34;
                v35 = v33 + v28;
                v32 += v28;
                v33 = v35;
            }
            // 0x80480e3
            function_8048102();
            v36 = v31;
        }
        // 0x80480eb
        if (g3 == 0) {
            // 0x80480f6
            function_804829f();
            function_80482c1();
        }
        // 0x80480d3
        v29 = v31;
    }
}

// Address range: 0x8048102 - 0x804825f
int32_t function_8048102(void) {
    // 0x8048102
    __asm_int(128);
    int32_t v1; // 0x8048102
    if (g7 % 2 == 0) {
        // 0x8048137
        v1 = (512 * g11 & 0x1fffffffe00) / (int64_t)((int32_t)g10 / 4);
    } else {
        // 0x8048122
        v1 = (g9 + 511) / 512;
    }
    int32_t result = v1; // 0x8048155
    if (v1 != 0 && g6 != 0) {
        uint64_t v2 = (g7 % 2 != 0 ? 2048 : g10 & 0xffffffff) * (int64_t)v1; // 0x804816f
        result = (int32_t)(v2 % 0x1000 != 0) + (int32_t)(v2 / 0x1000);
    }
    // 0x804817d
    if (g5 >= 2 || (g8 & 0xf000) != 0x4000) {
        // 0x804825e
        return result;
    }
    // 0x80481a2
    __asm_int(128);
    int32_t v3; // 0x8048102
    *(char *)v3 = 47;
    function_804825f();
    int32_t v4 = 0; // bp-16, 0x80481cb
    int32_t v5 = &v4; // 0x80481cb
    int32_t * v6 = (int32_t *)(v5 - 4);
    int32_t * v7 = (int32_t *)(v5 - 8);
    int32_t * v8 = (int32_t *)(v5 - 12);
    int32_t * v9 = (int32_t *)(v5 - 16);
    bool v10; // 0x8048102
    int32_t v11 = v10 ? -1 : 1;
    v4 = 0;
    int32_t v12 = 5; // 0x80481cb
    int32_t v13 = v3 + 1; // 0x80481cb
    int32_t v14; // 0x8048102
    int32_t v15; // 0x8048102
    int32_t v16; // 0x8048102
    int32_t v17; // 0x8048102
    int32_t v18; // 0x80481e2
    char v19; // 0x80481e5
    while (true) {
        // 0x80481cc
        __asm_int(128);
        v14 = 141;
        v16 = v4;
        while (true) {
          lab_0x80481de:
            // 0x80481de
            v17 = v13;
            v15 = v12;
            int32_t v20 = v16;
            *v6 = v14;
            *v7 = v15;
            *v8 = v20;
            *v9 = v17;
            v18 = v20 + 10;
            v19 = *(char *)v18;
            if (v19 == 0) {
                goto lab_0x8048235;
            } else {
                int16_t v21 = *(int16_t *)v18; // 0x80481ea
                if (v21 == 46) {
                    goto lab_0x8048235;
                } else {
                    if (v21 != 0x2e2e) {
                        goto lab_0x80481fd;
                    } else {
                        // 0x80481f7
                        if (*(char *)(v20 + 12) == 0) {
                            goto lab_0x8048235;
                        } else {
                            goto lab_0x80481fd;
                        }
                    }
                }
            }
        }
      lab_0x8048247_2:;
    }
  lab_0x8048235:
    // 0x8048235
    v13 = *v9;
    int32_t v22 = *v8; // 0x8048236
    v12 = *v7;
    uint16_t v23 = *(int16_t *)(v22 + 8); // 0x8048239
    if (v23 == 0) {
        // break -> 0x8048247
        goto lab_0x8048247_2;
    }
    uint32_t v24 = *v6; // 0x8048238
    uint32_t v25 = (int32_t)v23; // 0x8048239
    v14 = v24 - v25;
    v16 = v22 + v25;
    if (v24 < v25) {
        // break -> 0x8048247
        goto lab_0x8048247_2;
    }
    goto lab_0x80481de;
  lab_0x80481fd:
    // 0x80481fd
    *(char *)v17 = v19;
    int32_t v26 = v17 + v11; // 0x8048102
    int32_t v27 = v18 + v11;
    char v28 = *(char *)v27;
    *(char *)v26 = v28;
    int32_t v29 = v26 + v11; // 0x80481fe
    v26 = v29;
    int32_t v30 = v27; // 0x8048201
    while (v28 != 0) {
        // 0x80481fd
        v27 = v30 + v11;
        v28 = *(char *)v27;
        *(char *)v26 = v28;
        v29 = v26 + v11;
        v26 = v29;
        v30 = v27;
    }
    int32_t v31 = function_8048102(); // 0x8048204
    if (v29 < 1) {
        goto lab_0x8048235;
    } else {
        // 0x804820b
        if (g3 != 0) {
            goto lab_0x8048235;
        } else {
            // 0x8048216
            if (g4 != 0) {
                // 0x804822b
                function_804829f();
                function_80482c1();
                goto lab_0x8048235;
            } else {
                if (v15 != 0x4000 || v31 < 0) {
                    goto lab_0x8048235;
                } else {
                    // 0x804822b
                    function_804829f();
                    function_80482c1();
                    goto lab_0x8048235;
                }
            }
        }
    }
}

// Address range: 0x804825f - 0x8048298
int32_t function_804825f(void) {
    int32_t v1 = g1; // 0x804825f
    int32_t v2; // 0x804825f
    int32_t v3 = v1 + v2; // 0x8048265
    int32_t result; // 0x804825f
    if (v3 > g2) {
        // 0x804826f
        __asm_int(128);
        g2 = v3;
        result = 45;
    }
    // 0x8048282
    g1 = v3;
    *(int32_t *)(v3 - 4) = v3;
    *(int32_t *)v1 = v1;
    return result;
}

// Address range: 0x8048298 - 0x804829f
int32_t function_8048298(void) {
    // 0x8048298
    int32_t result; // 0x8048298
    return result;
}

// Address range: 0x804829f - 0x80482c1
int32_t function_804829f(void) {
    // 0x804829f
    *(char *)&g12 = 9;
    int32_t v1 = (int32_t)&g12 - 1; // 0x80482ad
    int32_t v2; // 0x804829f
    uint32_t v3 = v2;
    int32_t result = v3 / 10; // 0x80482b0
    *(char *)v1 = (char)(v3 % 10) | 48;
    v1--;
    while (v3 >= 10) {
        // 0x80482ae
        v3 = result;
        result = v3 / 10;
        *(char *)v1 = (char)(v3 % 10) | 48;
        v1--;
    }
    // 0x80482bb
    return result;
}

// Address range: 0x80482c1 - 0x80482dd
int32_t function_80482c1(void) {
    int32_t v1; // 0x80482c1
    int32_t v2 = v1;
    bool v3; // 0x80482c1
    int32_t v4 = v2 + (v3 ? -1 : 1); // 0x80482c9
    // 0x80482c1
    while (*(char *)v2 != 0) {
        // 0x80482c8
        v2 = v4;
        v4 = v2 + (v3 ? -1 : 1);
    }
    char * v5 = (char *)(v4 - 1); // 0x80482cd
    *v5 = 10;
    __asm_int(128);
    *v5 = 0;
    return 4;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: upx (3.93 [nrv2x])
// Detected functions: 6

