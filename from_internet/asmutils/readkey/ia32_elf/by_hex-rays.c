/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

int __fastcall sub_804805C(int);
void __noreturn start(); // weak

//-------------------------------------------------------------------------
// Data declarations

int dword_804804C[4] = { 858927408, 926299444, 1650538808, 1717920867 }; // weak
__int16 word_80480FC; // weak
char byte_8048105; // weak
char byte_8048106; // weak
int dword_8048122; // weak
int dword_804812E; // weak


//----- (0804805C) --------------------------------------------------------
int __fastcall sub_804805C(int a1)
{
  return sys_ioctl(0, a1);
}

//----- (08048064) --------------------------------------------------------
void __noreturn start()
{
  int v0; // eax
  int v1; // ecx
  char *v2; // esi
  unsigned int v3; // edx
  int v7; // eax
  int v8; // eax
  int v9; // [esp-8h] [ebp-8h]

  sub_804805C(21505);
  sub_804805C(v9);
  dword_804812E &= 0xFFFFFFF4;
  sub_804805C(21506);
  dword_8048122 = 0;
  v0 = sys_read(0, &dword_8048122, 4u);
  sub_804805C(21506);
  v1 = 8;
  v2 = &byte_8048105;
  v3 = dword_8048122;
  _EBX = dword_804804C;
  do
  {
    _AL = v3 & 0xF;
    __asm { xlat }
    *v2-- = _AL;
    v3 >>= 4;
    --v1;
  }
  while ( v1 );
  byte_8048106 = 10;
  word_80480FC = 30768;
  v7 = sys_write(1, &word_80480FC, 0xBu);
  v8 = sys_exit(0);
}
// 8048080: variable 'v9' is possibly undefined
// 804804C: using guessed type int dword_804804C[4];
// 8048064: using guessed type void __noreturn start();
// 80480FC: using guessed type __int16 word_80480FC;
// 8048105: using guessed type char byte_8048105;
// 8048106: using guessed type char byte_8048106;
// 8048122: using guessed type int dword_8048122;
// 804812E: using guessed type int dword_804812E;

// nfuncs=2 queued=2 decompiled=2 lumina nreq=0 worse=0 better=0
// ALL OK, 2 function(s) have been successfully decompiled
