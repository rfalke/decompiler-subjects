//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2);

// --------------------- Global Variables ---------------------

char * g1 = "snrvmp\n[^Ku\x14\xb2\x01\xac\b\xc0u\xfb\x81~\xfb\x61rchuB\xb2\x10\xeb>^\xac<-\x0f\x85\x84"; // 0x804804c
char * g2; // 0x804810e
char * g3; // 0x804810f

// ------------------------ Functions -------------------------

// Address range: 0x8048053 - 0x804810e
int32_t entry_point(int32_t a1, int32_t a2) {
    // 0x8048053
    int32_t v1; // 0x8048053
    int32_t v2 = &v1; // 0x8048054
    int32_t v3 = a1 - 1; // 0x8048055
    bool v4; // 0x8048053
    int32_t v5 = v4 ? -1 : 1;
    int32_t v6 = a2; // 0x8048056
    int32_t v7 = v3; // 0x8048056
    int32_t v8 = v2; // 0x8048056
    int32_t v9; // 0x8048053
    char v10; // 0x8048053
    int32_t v11; // 0x8048053
    int32_t v12; // 0x8048053
    int32_t v13; // 0x8048053
    int32_t v14; // 0x8048053
    int32_t v15; // 0x8048053
    int32_t v16; // 0x8048053
    int32_t v17; // 0x8048053
    if (v3 != 0) {
        while (true) {
            int32_t * v18 = (int32_t *)v8; // 0x804806c
            int32_t v19 = *v18; // 0x804806c
            v8 += 4;
            v16 = v8;
            if (*(char *)v19 != 45) {
                // break -> 0x80480fa
                break;
            }
            int32_t v20 = v19 + v5; // 0x804806d
            char v21 = *(char *)v20; // 0x8048076
            v9 = v20;
            v10 = v21;
            int32_t v22; // 0x8048053
            v11 = v22;
            v13 = v22;
            if (v21 != 0) {
                while (true) {
                  lab_0x804807b:;
                    int32_t v23 = v11;
                    char v24 = v10;
                    v17 = v9 + v5;
                    *v18 = 5;
                    int32_t v25 = (int32_t)&g1; // 0x8048085
                    int32_t v26 = 5; // 0x8048053
                    while (v26 != 0) {
                        int32_t v27 = v25;
                        int32_t v28 = v27 + v5; // 0x8048085
                        v26--;
                        v25 = v28;
                        if (*(char *)v27 == v24) {
                            // 0x8048089
                            v12 = 1 << (v28 + ((int32_t)&g1 ^ 31)) % 32 | v23;
                            goto lab_0x8048076;
                        }
                    }
                    // 0x8048093
                    v16 = v8;
                    if (v24 != 97) {
                        // break (via goto) -> 0x80480fa
                        goto lab_0x80480fa;
                    }
                    // 0x804809b
                    v12 = v23 & -256 | 63;
                    goto lab_0x8048076;
                }
            }
          lab_0x804809f:
            // 0x804809f
            v16 = v8;
            if ((char)v13 == 0) {
                // break -> 0x80480fa
                break;
            }
            // 0x80480a7
            v7--;
            v22 = v13;
            v14 = v13;
            v15 = v8;
            if (v7 == 0) {
                goto lab_0x80480aa;
            }
        }
    } else {
        while (*(char *)v6 != 0) {
            // 0x804805a
            v6 += v5;
        }
        // 0x804805f
        int32_t v29; // 0x8048053
        v14 = (*(int32_t *)(v6 - 5) != 0x68637261 ? 1 : 16) | v29 & -256;
        v15 = v2;
      lab_0x80480aa:;
        int32_t * v30 = (int32_t *)(v15 - 4); // 0x80480aa
        *v30 = 122;
        __asm_int(128);
        int32_t * v31 = (int32_t *)(v15 - 8);
        int32_t v32 = v14; // 0x80480b9
        int32_t v33 = (int32_t)&g3;
        int32_t v34 = 5;
        int32_t v35 = v34; // 0x80480bd
        int32_t v36; // 0x8048053
        if (v32 % 2 != 0) {
            // 0x80480bf
            *v30 = v34;
            if (*(char *)&g2 != 0) {
                // 0x80480ca
                *v31 = 4;
                __asm_int(128);
            }
            // 0x80480da
            *(char *)&g2 = 32;
            v36 = v33;
            while (*(char *)v36 != 0) {
                // 0x80480e1
                v36 += v5;
            }
            // 0x80480e7
            *v31 = 4;
            __asm_int(128);
            v35 = *v30;
        }
        int32_t v37 = v35 - 1; // 0x80480f8
        int32_t v38 = v33 + 65; // 0x80480f8
        v32 /= 2;
        v16 = v15;
        while (v37 != 0) {
            // 0x80480bb
            v33 = v38;
            v34 = v37;
            v35 = v34;
            if (v32 % 2 != 0) {
                // 0x80480bf
                *v30 = v34;
                if (*(char *)&g2 != 0) {
                    // 0x80480ca
                    *v31 = 4;
                    __asm_int(128);
                }
                // 0x80480da
                *(char *)&g2 = 32;
                v36 = v33;
                while (*(char *)v36 != 0) {
                    // 0x80480e1
                    v36 += v5;
                }
                // 0x80480e7
                *v31 = 4;
                __asm_int(128);
                v35 = *v30;
            }
            // 0x80480f5
            v37 = v35 - 1;
            v38 = v33 + 65;
            v32 /= 2;
            v16 = v15;
        }
    }
  lab_0x80480fa:;
    int32_t * v39 = (int32_t *)(v16 - 4); // 0x80480fa
    *v39 = 4;
    __asm_int(128);
    *v39 = 1;
    __asm_int(128);
    return 1;
  lab_0x8048076:;
    char v40 = *(char *)v17; // 0x8048076
    v9 = v17;
    v10 = v40;
    v11 = v12;
    v13 = v12;
    if (v40 == 0) {
        // break -> 0x804809f
        goto lab_0x804809f;
    }
    goto lab_0x804807b;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: upx (3.95 [nrv2x])
// Detected functions: 1

