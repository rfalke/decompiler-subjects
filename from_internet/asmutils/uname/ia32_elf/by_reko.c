// subject_seg08048000.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

byte g_b804804C = 115; // 0804804C
// 08048053: void fn08048053(Register uint32 edx, Stack word32 dwArg00, Stack (ptr32 Eq_4) dwArg04)
void fn08048053(uint32 edx, word32 dwArg00, struct Eq_4 * dwArg04)
{
	word24 edx_24_8 = SLICE(edx, word24, 8);
	uint32 edx_88;
	struct Eq_4 * esi_6 = dwArg04;
	struct Eq_9 * esp_11 = fp + 8;
	word32 ebx_33 = dwArg00 - 0x01;
	uint32 edx_600 = edx;
	if (dwArg00 == 0x01)
	{
		edx_88 = SEQ(edx_24_8, 0x01);
		do
		{
			esi_6 = esi_605 + 1;
			esi_605 = esi_6;
		} while (esi_605->b0000 != 0x00);
		if (esi_6->dwFFFFFFFB == 0x68637261)
			edx_88 = SEQ(edx_24_8, 0x10);
	}
	else
	{
		do
		{
			byte * esi_13 = esp_11->dw0000;
			++esp_11;
			byte * esi_16 = esi_13 + 1;
			uint32 edx_597 = edx_600;
			if (*esi_13 != 0x2D)
				goto l080480FA;
			while (true)
			{
				byte al_21 = *esi_16;
				word24 edx_24_8_66 = SLICE(edx_597, word24, 8);
				byte dl_27 = (byte) edx_597;
				++esi_16;
				bool v223_591 = al_21 != 0x00;
				if (al_21 == 0x00)
					break;
				esp_11->dwFFFFFFFC = 0x05;
				word32 ecx_39 = esp_11->dwFFFFFFFC;
				byte * edi_41 = &g_b804804C;
				while (ecx_39 != 0x00)
				{
					v223_591 = al_21 != *edi_41;
					++edi_41;
					--ecx_39;
					if (al_21 != *edi_41)
						break;
				}
				if (v223_591)
				{
					if (al_21 != 0x61)
						goto l080480FA;
					edx_597 = SEQ(edx_24_8_66, 0x3F);
					continue;
				}
				__bts(edx_597, edi_41 - 0x0804804D, out edx_597);
			}
			edx_88 = edx_597;
			if (dl_27 == 0x00)
				goto l080480FA;
			--ebx_33;
			edx_600 = edx_597;
		} while (ebx_33 != 0x00);
	}
	word32 * esp_84 = esp_11 - 4;
	*esp_84 = 0x05;
	word32 ecx_108 = *esp_84;
	*esp_84 = 122;
	__syscall(0x80);
	uint32 edi_102 = edx_88;
	byte * ebp_101 = &g_b804810F;
	do
	{
		edi_102 >>= 0x01;
		if (edi_102 < 0x00)
		{
			struct Eq_1527 * esp_107 = esp_11 - 4;
			esp_107->dw0000 = ecx_108;
			if (g_b804810E != 0x00)
			{
				esp_107->dwFFFFFFFC = 0x01;
				esp_107->dwFFFFFFFC = 0x01;
				esp_107->dwFFFFFFFC = 0x04;
				__syscall(0x80);
			}
			g_b804810E = 0x20;
			byte * esi_130 = ebp_101;
			do
			{
				esi_130 = esi_606 + 1;
				esi_606 = esi_130;
			} while (*esi_606 != 0x00);
			esp_107->dwFFFFFFFC = 0x01;
			esp_107->dwFFFFFFFC = 0x04;
			__syscall(0x80);
			ecx_108 = esp_107->dw0000;
		}
		ebp_101 += 65;
		--ecx_108;
	} while (ecx_108 != 0x00);
l080480FA:
	byte ** esp_170 = esp_11 - 4;
	*esp_170 = (byte **) (byte *) 0x01;
	*esp_170 = (byte **) (byte *) 0x04;
	__syscall(0x80);
	*esp_170 = (byte **) (byte *) 0x01;
	byte * eax_182 = *esp_170;
	__syscall(0x80);
	byte al_184 = (byte) eax_182;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
	*eax_182 += al_184;
}

byte g_b804810E = 0x00; // 0804810E
byte g_b804810F = 0x00; // 0804810F
