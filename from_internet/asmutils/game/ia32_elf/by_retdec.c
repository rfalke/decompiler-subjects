//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2);

// --------------------- Global Variables ---------------------

int32_t g1 = 0x61682000; // 0x8048387
int32_t g2 = 0; // 0x8048394
int32_t g3 = 0; // 0x8048398
int32_t g4 = 0; // 0x804839c
int32_t g5 = 0; // 0x80483a0
int32_t g6 = 0; // 0x80483a4
int32_t g7 = 0; // 0x80483a8
char * g8; // 0x80483c0
int32_t g9 = 0; // 0x80483d8
int32_t g10 = 0; // 0x80483e4
int32_t g11 = 0; // 0x80483ec
int32_t g12 = 0; // 0x8048430
int32_t g13 = 0; // 0x8048534
int32_t g14 = 0; // 0x8048634
int32_t g15 = 0; // 0x8048648
char * g16; // 0x804864c

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x8048394
int32_t entry_point(int32_t a1, int32_t a2) {
    int32_t v1 = a2;
    if (a1 != 3) {
        // 0x8048052
        __asm_int(128);
        int32_t * v2 = (int32_t *)((int32_t)&v1 - 4); // 0x8048068
        while (true) {
            // 0x8048064
            *v2 = 1;
            __asm_int(128);
            *v2 = 4;
            __asm_int(128);
        }
    }
    // 0x8048081
    __asm_rep_stosd_memset((char *)&g16, -0x6f6f6f70, 0x3fff);
    __asm_int(128);
    int32_t v3; // 0x804804c
    int32_t v4 = &v3; // 0x80480ce
    int32_t * v5 = &v3; // 0x80480d7
    int32_t v6 = v4; // 0x80480d7
    int32_t v7 = v4; // 0x80480d7
    int32_t v8 = (int32_t)&g16 + 0xf579; // 0x80480d7
    int32_t v9 = (int32_t)&g16 + 0x93ee; // 0x80480d7
    int32_t * v10 = &v3; // 0x80480d7
    int32_t v11; // 0x804804c
    if (v11 != 0) {
        int32_t v12 = (int32_t)&g16 + 0xf579;
        int32_t v13 = (int32_t)&g16 + 0x93ee;
        v6 += 4;
        *v5 = 5;
        __asm_int(128);
        *v5 = 3;
        __asm_int(128);
        g5 = 3;
        *v5 = 6;
        __asm_int(128);
        v5 = (int32_t *)v6;
        int32_t v14 = v12; // 0x80480d7
        v7 = v6;
        v8 = v13;
        v9 = v12;
        v10 = v5;
        while (*v5 != 0) {
            // 0x80480d9
            v12 = v13;
            v13 = v14;
            v6 += 4;
            *v5 = 5;
            __asm_int(128);
            *v5 = 3;
            __asm_int(128);
            g5 = 3;
            *v5 = 6;
            __asm_int(128);
            v5 = (int32_t *)v6;
            v14 = v12;
            v7 = v6;
            v8 = v13;
            v9 = v12;
            v10 = v5;
        }
    }
    // 0x8048107
    *v10 = v9;
    int32_t v15 = v7 - 4; // 0x8048108
    int32_t * v16 = (int32_t *)v15; // 0x8048108
    *v16 = v8;
    int32_t * v17 = (int32_t *)(v7 - 8); // 0x8048109
    *v17 = 2;
    __asm_int(128);
    g2 = 2;
    *v17 = 114;
    __asm_int(128);
    g12 = &g11;
    *v17 = 26;
    __asm_int(128);
    g9 = *v16;
    g10 = &g13;
    g7 = &g5;
    g8 = (char *)&g16;
    int32_t v18 = g12; // 0x8048189
    g12 = &g7;
    *v16 = 26;
    __asm_int(128);
    *(int32_t *)(v18 + 48) = *v10;
    *(int32_t *)(v18 + 60) = (int32_t)&g14;
    *(int32_t *)v18 = (int32_t)&g6;
    *(int32_t *)(v18 + 24) = (int32_t)&g16;
    int32_t v19 = g12; // 0x80481b7
    g12 = v18;
    g3 = 0;
    g4 = 0;
    int32_t v20 = 40; // 0x80481c9
    int32_t v21 = v19; // 0x80481c9
    char v22; // 0x804804c
    while (true) {
        int32_t v23 = v21;
        *v10 = v20;
        *v16 = 26;
        __asm_int(128);
        *v16 = 26;
        __asm_int(128);
        *v16 = 114;
        __asm_int(128);
        *v16 = 26;
        __asm_int(128);
        v21 = g12;
        g12 = v23;
        int32_t v24 = *v10 - 1; // 0x804821d
        v20 = v24;
        if (v24 == 0) {
            // 0x804821f
            *v10 = 4;
            __asm_int(128);
            *v10 = 26;
            __asm_int(128);
            v22 = 50;
            if (g15 <= g3) {
                // break -> 0x804828c
                break;
            }
            // 0x8048256
            g3 = g15;
            v20 = g2;
            *v10 = 26;
            __asm_int(128);
            v22 = 49;
            if (g15 <= g4) {
                // break -> 0x804828c
                break;
            }
            // 0x8048282
            g4 = g15;
        }
    }
    // 0x804828c
    *(char *)&g1 = v22;
    *v10 = 26;
    __asm_int(128);
    *v10 = 114;
    __asm_int(128);
    *v10 = 4;
    __asm_int(128);
    *v10 = 1;
    __asm_int(128);
    *v10 = v21;
    *v16 = 0;
    uint16_t v25 = *(int16_t *)(v7 + 6); // 0x80482d5
    uint16_t v26 = *(int16_t *)(v7 + 8); // 0x80482d5
    int32_t v27 = v9 + 1 & -0x10000 | (int32_t)*(int16_t *)v15; // 0x80482d5
    int32_t result = (int32_t)*(int16_t *)(v7 + 10); // 0x80482d5
    *(int32_t *)v27 = __asm_insd(v25);
    int32_t v28 = (int32_t)*(int16_t *)(v7 + 4) + 105; // 0x80482d8
    __writegsbyte(v28, __readgsbyte(v28) & (char)(v26 / 256));
    char v29 = __asm_insb(v25); // 0x80482dc
    char * v30 = (char *)v27; // 0x80482dc
    *v30 = v29;
    *v30 = __asm_insb(v25);
    int32_t v31 = v7 + 16; // 0x80482e3
    int32_t * v32 = (int32_t *)result; // 0x80482e5
    *v32 = *v32 ^ v31;
    int32_t v33 = *(int32_t *)(((int32_t)v26 | (int32_t)"Player " & -0x10000) + 108); // 0x80482e7
    int64_t v34 = v33; // 0x80482e7
    if (108 * v34 != 0x6c00000000 * v34 >> 32) {
        // 0x80483b4
        return result;
    }
    int32_t v35 = v7 + 20; // 0x80482f0
    *(int32_t *)v31 = v35;
    uint32_t result2 = *(int32_t *)(v7 + 44); // 0x80482f5
    if (*(char *)(int32_t)v25 == (char)v26) {
        // 0x80483b4
        return result2;
    }
    uint32_t v36 = *(int32_t *)(v7 + 40); // 0x80482f5
    int16_t v37 = *(int16_t *)(v7 + 120); // 0x8048367
    __asm_arpl(v37, (int16_t)*(int32_t *)(v7 + 24));
    __writegsbyte(0x6162202d, __readgsbyte(0x6162202d) & (char)(v36 / 256));
    int32_t v38 = *(int32_t *)v35 + 105; // 0x8048371
    __writefsbyte(v38, __readfsbyte(v38) & (char)(result2 / 256));
    *(char *)v35 = __asm_insb((int16_t)*(int32_t *)(v7 + 36));
    return result2;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (4.0.x - 4.2.x)
// Detected functions: 1

