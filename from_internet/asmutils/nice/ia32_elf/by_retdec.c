//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4);
int32_t function_804804c(void);

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x8048072
int32_t function_804804c(void) {
    // 0x804804c
    bool v1; // 0x804804c
    int32_t v2 = v1 ? -1 : 1; // 0x8048050
    int32_t v3; // 0x804804c
    unsigned char v4 = *(char *)v3; // 0x8048050
    int32_t v5 = v3 + v2; // 0x8048050
    while (v4 < 34) {
        // 0x8048050
        v4 = *(char *)v5;
        v5 += v2;
    }
    unsigned char v6 = v4 - 48;
    if (v6 > 10) {
        // 0x804806f
        return 0;
    }
    int32_t result = v6; // 0x804805d
    char v7 = *(char *)v5; // 0x8048061
    int32_t result2 = result; // 0x8048064
    if (v7 > 58) {
        // 0x804806f
        return result;
    }
    int32_t v8 = v5; // 0x8048064
    v8 += v2;
    result2 = 10 * result2 + (int32_t)(v7 - 48);
    char v9 = *(char *)v8; // 0x8048061
    while (v9 <= 58) {
        // 0x804806a
        v8 += v2;
        result2 = 10 * result2 + (int32_t)(v9 - 48);
        v9 = *(char *)v8;
    }
    // 0x804806f
    return result2;
}

// Address range: 0x8048072 - 0x8048120
int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4) {
    int32_t v1 = a4;
    int32_t v2 = a2;
    int32_t v3 = &v2; // 0x8048072
    int32_t v4 = v3; // 0x804807c
    int32_t v5; // 0x8048072
    bool v6; // 0x8048072
    if (a1 == 1) {
        goto lab_0x804810b;
    } else {
        int32_t v7 = &v1; // 0x8048083
        if (*(char *)a3 != 45) {
            // 0x8048082
            v5 = v7 - 4;
        } else {
            char v8 = *(char *)((v6 ? -1 : 1) + a3); // 0x804808d
            function_804804c();
            int32_t v9; // bp+16, 0x8048072
            v5 = v8 != 110 ? v7 : (int32_t)&v9;
        }
        goto lab_0x8048099;
    }
  lab_0x804810b:;
    int32_t v10 = v4 - 4;
    *(int32_t *)v10 = 1;
    __asm_int(128);
    v5 = v10;
    goto lab_0x8048099;
  lab_0x8048099:
    // 0x8048099
    v4 = v5;
    int32_t * v11 = (int32_t *)(v4 - 4); // 0x804809f
    *v11 = 97;
    __asm_int(128);
    int32_t v12 = v3 + 4; // 0x8048076
    int32_t v13 = *(int32_t *)(v12 + 4 * a1); // 0x80480a6
    int32_t v14; // 0x8048072
    int32_t v15; // 0x8048072
    int32_t v16; // 0x80480bb
    int32_t v17; // 0x80480bb
    if (v13 != 0) {
        int32_t v18 = 0; // 0x80480b3
        int32_t v19 = v13;
        int32_t v20; // 0x80480b2
        if (*(int32_t *)v19 == 0x48544150) {
            // 0x80480bb
            v20 = v19 + (v6 ? -4 : 4);
            if (*(char *)v20 == 61) {
                // 0x80480c0
                v16 = v6 ? -1 : 1;
                v17 = v20 + v16;
                v14 = -1;
                v15 = v17;
                goto lab_0x80480c0_2;
            }
        }
        // 0x80480a6
        v18++;
        int32_t v21 = *(int32_t *)(4 * (v18 + a1) + v12); // 0x80480a6
        while (v21 != 0) {
            // 0x80480b2
            v19 = v21;
            if (*(int32_t *)v19 == 0x48544150) {
                // 0x80480bb
                v20 = v19 + (v6 ? -4 : 4);
                if (*(char *)v20 == 61) {
                    // 0x80480c0
                    v16 = v6 ? -1 : 1;
                    v17 = v20 + v16;
                    v14 = -1;
                    v15 = v17;
                    goto lab_0x80480c0_2;
                }
            }
            // 0x80480a6
            v18++;
            v21 = *(int32_t *)(4 * (v18 + a1) + v12);
        }
    }
    // 0x804810b
    goto lab_0x804810b;
  lab_0x80480c0_2:;
    int32_t v22 = 0; // 0x80480c7
    if (v14 == 0) {
        goto lab_dec_label_pc_unknown;
    } else {
        int32_t v23 = v15;
        int32_t v24 = v14 - 1; // 0x80480c7
        v14 = v24;
        v15 = v23 + v16;
        v22 = v24;
        if (*(char *)v23 == 0) {
            goto lab_dec_label_pc_unknown;
        } else {
            goto lab_0x80480c0_2;
        }
    }
  lab_dec_label_pc_unknown:;
    int32_t * v25 = (int32_t *)v4; // 0x80480ce
    int32_t v26 = -1; // 0x80480d1
    int32_t v27 = *v25; // 0x80480d1
    goto lab_dec_label_pc_unknown_3;
  lab_dec_label_pc_unknown_3:;
    int32_t v28 = 0; // 0x80480d1
    if (v26 == 0) {
        goto lab_dec_label_pc_unknown_4;
    } else {
        int32_t v29 = v27;
        int32_t v30 = v26 - 1; // 0x80480d1
        v26 = v30;
        v27 = v29 + v16;
        v28 = v30;
        if (*(char *)v29 == 0) {
            goto lab_dec_label_pc_unknown_4;
        } else {
            goto lab_dec_label_pc_unknown_3;
        }
    }
  lab_dec_label_pc_unknown_4:;
    int32_t v31 = v17; // 0x80480d3
    goto lab_0x80480d5;
  lab_0x80480d5:;
    int32_t v32 = v31; // 0x80480d5
    int32_t v33 = v22 + v4 + v28; // 0x80480d5
    goto lab_0x80480d8;
  lab_0x80480d8:;
    int32_t v34 = v33;
    char v35 = *(char *)v32; // 0x80480d8
    int32_t v36 = v32 + v16; // 0x80480d8
    int32_t v37 = v34; // 0x80480db
    if (v35 == 58) {
        goto lab_0x80480e2;
    } else {
        // 0x80480dd
        *(char *)v34 = v35;
        int32_t v38 = v34 + v16; // 0x80480dd
        v32 = v36;
        v33 = v38;
        v37 = v38;
        if (v35 != 0) {
            goto lab_0x80480d8;
        } else {
            goto lab_0x80480e2;
        }
    }
  lab_0x80480e2:
    // 0x80480e2
    *v11 = v36;
    *(char *)v37 = 47;
    int32_t v39 = *v25; // 0x80480e9
    int32_t v40 = v37; // 0x80480e9
    goto lab_0x80480ea;
  lab_0x80480ea:;
    int32_t v41 = v40 + v16;
    char v42 = *(char *)v39; // 0x80480ea
    *(char *)v41 = v42;
    v39 += v16;
    v40 = v41;
    if (v42 != 0) {
        goto lab_0x80480ea;
    } else {
        // 0x80480f0
        *v11 = 11;
        __asm_int(128);
        v31 = *v11;
        goto lab_0x80480d5;
    }
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: free pascal (2.6.0)
// Detected functions: 2

