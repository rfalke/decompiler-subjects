//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>
#include <stdlib.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4, int32_t a5);
int32_t function_804813d(void);
int32_t function_8048157(void);

// --------------------- Global Variables ---------------------

int16_t * g1 = NULL; // 0x804816c
int32_t g2 = 0; // 0x804816e
int32_t g3 = 0; // 0x804816f
char * g4; // 0x8048170
int32_t g5 = 0; // 0x804859c

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x804813d
int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4, int32_t a5) {
    // 0x804804c
    int32_t v1; // 0x804804c
    uint32_t v2 = v1;
    int32_t v3 = a4;
    int32_t v4 = &v3; // 0x8048053
    int32_t v5 = v4; // 0x8048056
    char v6; // 0x804804c
    int32_t v7; // 0x804804c
    if (a3 == 0) {
        goto lab_0x8048113;
    } else {
        // 0x804805c
        *(int32_t *)&g1 = 2;
        if (*(int16_t *)a3 != 0x6c2d) {
            // 0x804805c
            v6 = v2;
            v7 = v4;
            goto lab_0x80480d4;
        } else {
            // 0x8048072
            function_804813d();
            function_8048157();
            *(char *)&g2 = (char)(v2 / 256);
            char v8 = v2;
            *(char *)&g3 = v8;
            v3 = 16;
            __asm_int(128);
            v3 = 255;
            __asm_int(128);
            v3 = &g5;
            __asm_int(128);
            int32_t v9; // bp+20, 0x804804c
            int32_t v10 = &v9; // 0x80480cf
            v6 = v8;
            v7 = v10;
            v5 = v10;
            if (a5 == 0) {
                goto lab_0x8048113;
            } else {
                goto lab_0x80480d4;
            }
        }
    }
  lab_0x8048113:;
    int32_t * v11 = (int32_t *)(v5 - 4); // 0x8048120
    while (true) {
        // 0x8048113
        *v11 = 3;
        __asm_int(128);
        *v11 = 4;
        __asm_int(128);
    }
  lab_0x80480d4:;
    int32_t v12 = function_804813d(); // 0x80480d4
    int32_t * v13 = (int32_t *)(v7 - 4); // 0x80480e1
    *v13 = 4;
    int32_t v14 = (int32_t)&g4;
    function_8048157();
    *(char *)v14 = v6;
    int32_t v15 = 3; // 0x80480ec
    int32_t v16 = v15; // 0x80480ec
    int32_t v17 = v14 + 1; // 0x80480ec
    while (v15 != 0) {
        // 0x80480e4
        v14 = v17;
        function_8048157();
        *(char *)v14 = v6;
        v15 = v16 - 1;
        v16 = v15;
        v17 = v14 + 1;
    }
    // 0x80480ee
    function_8048157();
    *(char *)(v14 - 5) = (char)(v2 / 256);
    *(char *)(v14 - 4) = v6;
    *(int32_t *)v7 = 16;
    *v13 = (int32_t)&g1;
    *(int32_t *)(v7 - 8) = v12;
    *(int32_t *)(v7 - 12) = 102;
    __asm_int(128);
    v5 = v7 + 4;
    goto lab_0x8048113;
}

// Address range: 0x804813d - 0x8048157
int32_t function_804813d(void) {
    // 0x804813d
    __asm_int(128);
    return 102;
}

// Address range: 0x8048157 - 0x804816c
int32_t function_8048157(void) {
    // 0x8048157
    int32_t result; // 0x8048157
    if (*(char *)result < 48) {
        // 0x804816a
        return result;
    }
    int32_t v1; // 0x8048157
    bool v2; // 0x8048157
    int32_t v3 = v1 + (v2 ? -1 : 1); // 0x804815c
    // 0x8048161
    while (*(char *)v3 >= 48) {
        // 0x8048161
        v3 += (v2 ? -1 : 1);
    }
    // 0x804816a
    return result;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (4.0.x - 4.2.x)
// Detected functions: 3

