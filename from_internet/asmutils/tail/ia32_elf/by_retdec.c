//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4);

// --------------------- Global Variables ---------------------

int32_t g1; // 0x804804d
int32_t g2 = 0x40b6d231; // 0x80480da
int32_t g3 = 0; // 0x804818f
char * g4; // 0x8048193
char * g5; // 0x804c193
bool g6 = false; // 0x8050193
int32_t g7 = 0; // 0x805419b
int32_t g8 = 0; // 0x80541a7

// ------------------------ Functions -------------------------

// Address range: 0x804804c - 0x804818f
int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4) {
    int32_t v1 = a4;
    int32_t v2 = a2;
    *(char *)&g3 = 10;
    int32_t v3 = &v2; // 0x804805c
    int32_t v4 = &g1; // 0x804805c
    int32_t v5; // 0x804804c
    int32_t v6; // 0x8048088
    if (a1 == 1) {
        goto lab_0x804809e;
    } else {
        int32_t v7 = &v1; // 0x804805f
        v6 = v7;
        v5 = &g1;
        if (*(char *)a3 != 45) {
            goto lab_0x804808d;
        } else {
            int32_t v8 = a3 + 1; // 0x8048067
            char v9 = *(char *)v8; // 0x8048068
            int32_t v10 = v9 != 110 ? v8 : a4;
            unsigned char v11 = *(char *)v10; // 0x8048072
            bool v12; // 0x804804c
            int32_t v13 = v12 ? -1 : 1; // 0x8048072
            int32_t v14 = v10 + v13; // 0x8048072
            char v15 = v11 - 48; // 0x8048073
            int32_t v16 = 0; // 0x8048075
            int32_t v17 = v14; // 0x8048075
            if (v11 >= 48 && v15 <= 9) {
                int32_t v18 = v15; // 0x804804c
                int32_t v19 = v14; // 0x8048072
                int32_t v20 = 0; // 0x804807e
                v20 = 10 * v20 + v18;
                unsigned char v21 = *(char *)v19; // 0x8048072
                v19 += v13;
                char v22 = v21 - 48; // 0x8048073
                v18 = v18 & -256 | (int32_t)v22;
                v16 = v20;
                v17 = v19;
                while (v21 >= 48 && v22 <= 9) {
                    // 0x804807b
                    v20 = 10 * v20 + v18;
                    v21 = *(char *)v19;
                    v19 += v13;
                    v22 = v21 - 48;
                    v18 = v18 & -256 | (int32_t)v22;
                    v16 = v20;
                    v17 = v19;
                }
            }
            // 0x8048082
            int32_t v23; // bp+16, 0x804804c
            int32_t v24 = v9 != 110 ? v7 : (int32_t)&v23;
            v5 = v17;
            g3 = v16;
            v6 = v24 + 4;
            v3 = v6;
            v4 = v5;
            if (*(int32_t *)v24 == 0) {
                goto lab_0x804809e;
            } else {
                goto lab_0x804808d;
            }
        }
    }
  lab_0x804809e:;
    int32_t * v25 = (int32_t *)(v3 - 4); // 0x80480a5
    *v25 = 108;
    __asm_int(128);
    if ((int16_t)g7 <= -1 && g8 >= 0x4001) {
        // 0x80480c4
        *v25 = 19;
        __asm_int(128);
    }
    // 0x80480cf
    if (*(char *)(v4 - 1) == 99) {
        while (true) {
            // 0x8048153
            *v25 = 3;
            __asm_int(128);
        }
    }
    *v25 = 3;
    __asm_int(128);
    int32_t v26 = (int32_t)&g4 + 3; // 0x80480eb
    int32_t v27 = v26; // 0x80480f3
    while (v26 <= (int32_t)&g6) {
        // 0x80480da
        *v25 = 3;
        __asm_int(128);
        v26 = v27 + 3;
        v27 = v26;
    }
    // 0x80480f5
    *v25 = (int32_t)&g2;
    *(int32_t *)(v3 - 8) = v26;
    __asm_rep_movsb_memcpy((char *)&g4, (char *)&g5, v26 - (int32_t)&g5);
    return 3;
  lab_0x804808d:
    // 0x804808d
    *(int32_t *)(v6 - 4) = 5;
    __asm_int(128);
    v3 = v6;
    v4 = v5;
    goto lab_0x804809e;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (3.3.x)
// Detected functions: 1

