/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

void __fastcall __noreturn start(int, mode_t);


//----- (0804804C) --------------------------------------------------------
void __fastcall __noreturn start(int a1, mode_t a2)
{
  int v2; // eax
  int v3; // edi
  int v4; // ecx
  int v5; // esi
  int v6; // ebp
  int v7; // ebx
  int v8; // edx
  int v9; // eax

  v2 = sys_open("/dev/fb0", 2, a2);
  __asm { int     80h; LINUX - sys_mmap2 }
  v3 = 192;
  v4 = 480;
  while ( 1 )
  {
    v5 = 640;
    do
    {
      v6 = 127;
      v7 = 0;
      v8 = 0;
      do
      {
        v9 = v7;
        v7 = (((v7 + v8) * (v7 - v8)) >> 8) - v5;
        v8 = ((unsigned __int64)(v8 * (__int64)v9) >> 7) - v4;
        if ( SBYTE1(v8) > 0 )
          break;
        --v6;
      }
      while ( v6 );
      *(_BYTE *)v3++ = v6;
      --v5;
    }
    while ( v5 );
    if ( !--v4 )
    {
      while ( 1 )
        ;
    }
  }
}

// nfuncs=1 queued=1 decompiled=1 lumina nreq=0 worse=0 better=0
// ALL OK, 1 function(s) have been successfully decompiled
