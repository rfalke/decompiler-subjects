//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>

// ------------------- Function Prototypes --------------------

int32_t insert(int32_t a1, int32_t a2);
int32_t printout(int32_t a1);

// ------------------------ Functions -------------------------

// Address range: 0x8458 - 0x8500
int32_t insert(int32_t a1, int32_t a2) {
    if (a1 == 0) {
        // 0x847c
        abort();
        // UNREACHABLE
    }
    if (a2 < a1) {
        // 0x84f8
        return insert(a1 + 8, a2);
    }
    int32_t result = a1; // 0x84dc
    if (a2 > a1) {
        // 0x84e0
        result = insert(a1 + 4, a2);
    }
    // 0x84f8
    return result;
}

// Address range: 0x8500 - 0x8570
int32_t printout(int32_t a1) {
    int32_t v1 = *(int32_t *)(a1 + 8); // 0x8514
    if (v1 != 0) {
        // 0x8520
        printout(v1);
    }
    int32_t chars_printed = printf((char *)((int32_t)"%d\n" & 0xffff)); // 0x8544
    int32_t v2 = *(int32_t *)(a1 + 4); // 0x854c
    int32_t result = chars_printed; // 0x8554
    if (v2 != 0) {
        // 0x8558
        result = printout(v2);
    }
    // 0x8568
    return result;
}

// Address range: 0x8570 - 0x8610
int main(int argc, char ** argv) {
    int32_t v1 = 0; // bp-20, 0x8580
    for (int32_t i = 1; i < 11; i++) {
        int32_t * mem = malloc(12); // 0x8594
        int32_t v2 = (int32_t)mem; // 0x8594
        *(int32_t *)(v2 + 4) = 0;
        *(int32_t *)(v2 + 8) = 0;
        *mem = rand();
        insert((int32_t)&v1, v2);
    }
    // 0x85f4
    printout(v1);
    return 0;
}

// --------------- Dynamically Linked Functions ---------------

// void * malloc(size_t size);
// int printf(const char * restrict format, ...);
// int rand(void);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (4.9.1)
// Detected functions: 3

