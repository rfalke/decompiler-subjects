//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <ctype.h>
#include <math.h>
#include <stdbool.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/time.h>
#include <time.h>

// ---------------- Integer Types Definitions -----------------

typedef int8_t int3_t;

// ----------------- Float Types Definitions ------------------

typedef float float32_t;
typedef double float64_t;
typedef long double float80_t;

// ------------------------ Structures ------------------------

struct _IO_FILE {
    int32_t e0;
};

struct stat64 {
    int64_t e0;
    int64_t e1;
    int32_t e2;
    int32_t e3;
    int32_t e4;
    int32_t e5;
    int64_t e6;
    int64_t e7;
    int64_t e8;
    int32_t e9;
    int32_t e10;
    int64_t e11;
    int32_t e12;
    int32_t e13;
    int32_t e14;
    int32_t e15;
    int32_t e16;
    int32_t e17;
    int32_t e18;
    int32_t e19;
};

struct timeval {
    int32_t e0;
    int32_t e1;
};

// ------------------- Function Prototypes --------------------

int32_t __i686_get_pc_thunk_bx(int32_t a1);
int32_t aiff_check2(int32_t * pcm_aiff_data);
void apply_termcap_settings(int32_t * mfp);
void brhist_disp(int32_t * gf);
void brhist_disp_line(int32_t i, int32_t br_hist_TOT, int32_t br_hist_LR, uint32_t full, int32_t frames);
int32_t brhist_init(int32_t * gf, int32_t bitrate_kbps_min, int32_t bitrate_kbps_max);
void brhist_init_package(int32_t * gf);
void brhist_jump_back(void);
int32_t calculate_index(int32_t * array, uint32_t len, int32_t value);
int32_t check_aid(char * header);
void close_infile(void);
void CloseSndFile(int32_t input, struct _IO_FILE * musicin);
void console_flush(void);
int32_t console_printf(char * format, ...);
void console_up(int32_t n_lines);
float64_t ConvertFromIeeeExtended(char * bytes);
void decoder_progress(int32_t * mp3data);
void decoder_progress_finish(void);
void deinit_console(int32_t * mfp);
int32_t digits(uint32_t number);
void display_bitrate(struct _IO_FILE * fp, char * version, uint32_t d, int32_t indx);
int32_t display_bitrates(struct _IO_FILE * fp);
void encoder_progress(int32_t * gf);
void encoder_progress_begin(int32_t * gf, char * inPath, char * outPath);
void encoder_progress_end(int32_t * gf);
int32_t error_printf(char * format, ...);
int32_t filename_to_type(char * FileName);
void frontend_close_console(void);
int32_t frontend_open_console(void);
int32_t fskip(struct _IO_FILE * fp, int32_t offset, int32_t whence);
int32_t fstat64(int32_t a1, int32_t * a2);
int32_t function_804a06c(int32_t a1);
int32_t function_804a08c(int32_t a1);
int32_t function_804a0bc(int32_t a1, int32_t a2);
int32_t function_804a0cc(int32_t a1);
int32_t function_804a0dc(int32_t a1);
int32_t function_804a0ec(int32_t a1, int32_t a2, int32_t a3);
int32_t function_804a10c(int32_t a1, int32_t * a2);
int32_t function_804a11c(int32_t a1);
int32_t function_804a12c(int32_t a1, float80_t a2);
int32_t function_804a14c(int32_t a1, int32_t a2);
int32_t function_804a15c(int32_t a1, int32_t * a2);
int32_t function_804a16c(int32_t a1);
int32_t function_804a17c(int32_t a1);
int32_t function_804a1bc(int32_t a1, int32_t * a2, int32_t a3);
int32_t function_804a1cc(int32_t a1);
int32_t function_804a1fc(int32_t a1, int32_t a2);
int32_t function_804a20c(int32_t a1);
int32_t function_804a21c(int32_t a1, int32_t a2);
int32_t function_804a22c(int32_t a1);
int32_t function_804a23c(int32_t a1);
int32_t function_804a24c(int32_t a1);
int32_t function_804a27c(int32_t a1, int32_t * a2, int32_t * a3, int32_t a4, int32_t * a5, int32_t a6);
int32_t function_804a28c(int32_t a1);
int32_t function_804a29c(int32_t a1);
int32_t function_804a2ac(int32_t a1, int32_t a2);
int32_t function_804a2cc(int32_t a1, int32_t a2);
int32_t function_804a2dc(int32_t a1, int32_t a2);
int32_t function_804a2fc(int32_t a1, int32_t a2);
int32_t function_804a30c(int32_t a1);
int32_t function_804a31c(int32_t a1, int32_t * a2, int32_t a3);
int32_t function_804a32c(int32_t a1, int32_t a2);
int32_t function_804a33c(int32_t a1, int32_t a2);
int32_t function_804a34c(int32_t a1, int32_t a2);
int32_t function_804a35c(int32_t a1, float80_t a2);
int32_t function_804a38c(int32_t a1, float80_t a2);
int32_t function_804a39c(int32_t a1, int32_t a2);
int32_t function_804a3ac(int32_t a1, int32_t * a2, int32_t a3, int32_t a4, int32_t a5, int32_t a6);
int32_t function_804a3bc(int32_t a1);
int32_t function_804a3cc(int32_t a1, int32_t a2);
int32_t function_804a3dc(int32_t * a1, int32_t a2);
int32_t function_804a3fc(int32_t a1);
int32_t function_804a41c(int32_t a1, int32_t a2);
int32_t function_804a42c(int32_t a1, int32_t a2);
int32_t function_804a44c(int32_t a1, int32_t a2);
int32_t function_804a45c(int32_t a1);
int32_t function_804a46c(int32_t a1, int32_t a2);
int32_t function_804a49c(int32_t a1);
int32_t function_804a4bc(int32_t a1, int32_t a2);
int32_t function_804a4cc(int32_t a1);
int32_t function_804a4dc(int32_t a1);
int32_t function_804a4ec(int32_t a1, int32_t * a2);
int32_t function_804a4fc(int32_t a1, int32_t a2);
int32_t function_804a50c(int32_t a1, float80_t a2);
int32_t function_804a51c(int32_t a1);
int32_t function_804a52c(int32_t a1, float80_t a2);
int32_t function_804a56c(int32_t a1, int32_t a2);
int32_t function_804a57c(int32_t a1, int32_t a2, int32_t a3);
int32_t function_804a58c(int32_t a1);
int32_t function_804a59c(int32_t a1, int32_t a2);
int32_t function_804a5ac(int32_t a1, int32_t * a2);
int32_t function_804a5bc(int32_t a1, int32_t a2);
int32_t function_804a5dc(int32_t a1, int32_t * a2);
int32_t function_804a5ec(int32_t a1, int32_t a2);
int32_t function_804a5fc(int32_t a1);
int32_t function_804a61c(int32_t a1, int32_t a2);
int32_t function_804a62c(int32_t a1, int32_t * a2, int32_t a3);
int32_t function_804a63c(int32_t a1, int32_t a2);
int32_t function_804a66c(int32_t a1, int32_t a2);
int32_t function_804a67c(int32_t a1, int32_t a2);
int32_t function_804a6ac(int32_t a1);
int32_t function_804a6bc(int32_t a1, int32_t a2);
int32_t function_804a6cc(int32_t a1, int32_t a2);
int32_t function_804a6dc(int32_t a1, int32_t a2);
int32_t function_804a6fc(int32_t a1);
int32_t function_804a71c(int32_t a1, int32_t a2);
int32_t function_804a72c(int32_t a1, int32_t * a2, int32_t a3);
int32_t function_804a74c(int32_t a1, int32_t a2);
int32_t function_804a75c(int32_t a1);
int32_t function_804a76c(void);
int32_t function_804a77c(int32_t a1, int32_t a2);
int32_t function_804a78c(int32_t a1);
int32_t function_804a79c(char * a1);
int32_t function_804a7ac(int32_t a1);
int32_t function_804a7bc(int32_t a1);
int32_t function_804a7cc(int32_t a1);
int32_t function_804a7dc(int32_t a1, int32_t a2);
int32_t function_804a7fc(int32_t a1, int32_t * a2, int32_t a3);
int32_t function_804a80c(int32_t a1, int32_t a2);
int32_t function_804a81c(int32_t a1);
int32_t function_804a82c(int32_t a1, int32_t a2);
int32_t function_804a84c(int32_t a1);
int32_t function_804a85c(int32_t a1, float80_t a2);
int32_t function_804a86c(int32_t a1, int32_t a2);
int32_t function_804a87c(int32_t a1, int32_t a2);
int32_t function_804a88c(int32_t a1, int32_t a2);
int32_t function_804a89c(int32_t a1);
int32_t function_804a8ac(int32_t a1, int32_t a2);
int32_t function_804a8bc(int32_t a1, int32_t a2);
int32_t function_804a8cc(int32_t a1);
int32_t function_804a8dc(int32_t a1);
int32_t function_804a8fc(int32_t a1, int32_t a2);
int32_t function_804a91c(int32_t a1);
int32_t function_804a92c(int32_t a1);
int32_t function_804a93c(int32_t a1, int32_t a2);
int32_t function_804a95c(int32_t a1);
int32_t function_804a96c(int32_t a1, int32_t a2);
int32_t function_804a97c(char * a1, char ** a2);
int32_t function_804a98c(int32_t a1);
int32_t function_804a99c(int32_t a1, int32_t a2);
int32_t function_804a9ac(int32_t a1, float80_t a2);
int32_t function_804a9bc(int32_t a1);
int32_t function_804a9cc(void);
int32_t function_804a9dc(int32_t a1, int32_t a2);
int32_t function_804a9fc(int32_t a1, int32_t a2);
int32_t function_804aa0c(int32_t a1, float80_t a2);
int32_t function_804aa2c(int32_t a1, int32_t * a2, int32_t a3, int32_t * a4, int32_t * a5, int32_t a6, int32_t a7, int32_t a8);
int32_t function_804aa4c(int32_t a1, int32_t a2);
int32_t function_804aa5c(int32_t a1, int32_t a2);
int32_t function_804aa8c(int32_t a1);
int32_t function_804aa9c(int32_t a1);
int32_t function_804aabc(int32_t a1);
int32_t get_audio(int32_t * gfp, int32_t (*buffer)[1152]);
int32_t get_audio16(int32_t * gfp, int16_t (*buffer)[1152]);
int32_t get_audio_common(int32_t * gfp, int32_t (*buffer)[1152], int16_t (*buffer16)[1152]);
float64_t GetCPUTime(void);
float64_t GetRealTime(void);
int32_t id3_tag(int32_t * gfp, int32_t type, int32_t enc, char * str);
int32_t init_console(int32_t * mfp);
struct _IO_FILE * init_files(int32_t * gf, char * inPath, char * outPath, int32_t * enc_delay, int32_t * enc_padding);
void init_infile(int32_t * gfp, char * inPath, int32_t * enc_delay, int32_t * enc_padding);
struct _IO_FILE * init_outfile(char * outPath, int32_t decode);
int32_t is_mpeg_file_format(uint32_t input_file_format);
int32_t is_syncword_mp123(int32_t * headerptr);
int32_t lame_decode_fromfile(struct _IO_FILE * fd, int16_t * pcm_l, int16_t * pcm_r, int32_t * mp3data);
int32_t lame_decode_initfile(struct _IO_FILE * fd, int32_t * mp3data, int32_t * enc_delay, int32_t * enc_padding);
int32_t lame_decoder(int32_t * gfp, struct _IO_FILE * outf, int32_t skip_start, char * inPath, char * outPath, int32_t * enc_delay, int32_t * enc_padding);
int32_t lame_encoder(int32_t * gf, struct _IO_FILE * outf, int32_t nogap, char * inPath, char * outPath);
int64_t lame_get_file_size(char * filename);
int32_t lame_set_stream_binary_mode(struct _IO_FILE * fp);
int32_t lame_version_print(struct _IO_FILE * fp);
int32_t local_strcasecmp(char * s1, char * s2);
int32_t long_help(int32_t * gfp, struct _IO_FILE * fp, char * ProgramName, int32_t lessmode);
int32_t make_even_number_of_bytes_in_length(uint32_t x);
int32_t min_size_t(uint32_t a, uint32_t b);
int32_t my_console_printing(struct _IO_FILE * fp, char * format, char * ap);
struct _IO_FILE * OpenSndFile(int32_t * gfp, char * inPath, int32_t * enc_delay, int32_t * enc_padding);
int32_t parse_aiff_header(int32_t * gfp, struct _IO_FILE * sf);
int32_t parse_args(int32_t * gfp, uint32_t argc, char ** argv, char * inPath, char * outPath, char ** nogap_inPath, int32_t * num_nogap);
int32_t parse_args_from_string(int32_t * gfp, char * p, char * inPath, char * outPath);
int32_t parse_file_header(int32_t * gfp, struct _IO_FILE * sf);
void parse_nogap_filenames(int32_t nogapout, char * inPath, char * outPath, char * outdir);
int32_t parse_wave_header(int32_t * gfp, struct _IO_FILE * sf);
void presets_longinfo_dm(struct _IO_FILE * msgfp);
int32_t presets_set(int32_t * gfp, int32_t fast, int32_t cbr, char * preset_name, char * ProgramName);
void print_lame_tag_leading_info(int32_t * gf);
int32_t print_license(struct _IO_FILE * fp);
void print_trailing_info(int32_t * gf);
void progress_line(int32_t * gf, int32_t full, int32_t frames);
int32_t Read16BitsHighLow(struct _IO_FILE * fp);
int32_t Read16BitsLowHigh(struct _IO_FILE * fp);
int32_t Read32Bits(struct _IO_FILE * fp);
int32_t Read32BitsHighLow(struct _IO_FILE * fp);
int32_t read_samples_mp3(int32_t * gfp, struct _IO_FILE * musicin, int16_t (*mpg123pcm)[1152]);
int32_t read_samples_pcm(struct _IO_FILE * musicin, int32_t * sample_buffer, int32_t samples_to_read);
void ReadBytes(struct _IO_FILE * fp, char * p, int32_t n);
float64_t ReadIeeeExtendedHighLow(struct _IO_FILE * fp);
int32_t resample_rate(float64_t freq);
int32_t set_id3_albumart(int32_t * gfp, char * file_name);
int32_t set_id3tag(int32_t * gfp, int32_t type, char * str);
int32_t short_help(int32_t * gfp, struct _IO_FILE * fp, char * ProgramName);
int32_t stat64(int32_t a1, int32_t * a2);
int32_t stats_head(float64_t x, char * txt);
void stats_line(float64_t * stat);
int32_t stats_value(float64_t x);
void timestatus(int32_t * gfp);
void timestatus_finish(void);
void ts_calc_times(int32_t * tstime, int32_t sample_freq, int32_t frameNum, int32_t totalframes, int32_t framesize);
void ts_time_decompose(uint32_t time_in_sec, char padded_char);
int32_t unpack_read_samples(int32_t samples_to_read, int32_t bytes_per_sample, int32_t swap_order, int32_t * sample_buffer, struct _IO_FILE * pcm_in);
int32_t usage(struct _IO_FILE * fp, char * ProgramName);
void wait_for(struct _IO_FILE * fp, int32_t lessmode);
void Write16BitsLowHigh(struct _IO_FILE * fp, uint32_t i);
void Write32BitsLowHigh(struct _IO_FILE * fp, uint32_t i);
int32_t write_xing_frame(int32_t * gf, struct _IO_FILE * outf);
int32_t WriteWaveHeader(struct _IO_FILE * fp, int32_t pcmbytes, int32_t freq, int32_t channels, int32_t bits);

// --------------------- Global Variables ---------------------

int32_t Console_IO = 0; // 0x805bce0
int32_t brhist = 0; // 0x805b480
int32_t disable_wav_header = 0; // 0x805c558
int32_t flush_write = 0; // 0x805b3f0
int32_t global = 0; // 0x805b3cc
char * g1; // 0x80548b4
char * g2 = "I"; // 0x8054921
int32_t g3 = 0x6552002b; // 0x8054a92
int32_t g4 = 0x415b1b; // 0x8054f47
int32_t g5 = 0x1446941; // 0x805540a
char * g6; // 0x80554a5
int32_t g7 = 0x4d414c00; // 0x8055592
int32_t g8 = 0x4e00002d; // 0x8059645
char * g9; // 0x8059978
char * g10; // 0x8059b6f
char * g11[8] = {
    "stereo",
    "j-stereo",
    "dual-ch",
    "single-ch",
    "stereo",
    "force-ms",
    "dual-ch",
    "single-ch"
}; // 0x805b2c0
int32_t g12 = 0; // 0x805b2e0
int32_t g13 = 0; // 0x805b3a0
struct _IO_FILE * g14 = NULL; // 0x805b3a4
struct _IO_FILE * g15 = NULL; // 0x805b3c0
int32_t g16 = 0; // 0x805b3d0
int32_t g17 = 0; // 0x805b3d4
int32_t g18 = 0; // 0x805b3d8
int32_t g19 = 0; // 0x805b3dc
struct _IO_FILE * g20 = NULL; // 0x805b3e0
struct _IO_FILE * g21 = NULL; // 0x805b3e4
int32_t g22 = 0; // 0x805b400
float64_t g23 = 0.0; // 0x805b408
char * g24; // 0x805b420
float64_t g25 = 0.0; // 0x805b428
float64_t g26 = 0.0; // 0x805b430
float64_t g27 = 0.0; // 0x805b440
float64_t g28 = 0.0; // 0x805b448
float64_t g29 = 0.0; // 0x805b450
float64_t g30 = 0.0; // 0x805b458
int32_t g31 = 0; // 0x805b460
int32_t g32 = 0; // 0x805b484
char * g33; // 0x805b488
int32_t g34 = 0; // 0x805b4c0
char * g35; // 0x805b4c4
char * g36; // 0x805b6c5
char * g37; // 0x805b8c6
char * g38; // 0x805bac7
struct _IO_FILE * g39 = NULL; // 0x805bce8
struct _IO_FILE * g40 = NULL; // 0x805bcec
int32_t g41 = 0; // 0x805bcf4
char * g42; // 0x805bcfc
char * g43; // 0x805bd06
int32_t g44 = 0; // 0x805c55c
int32_t g45 = 0; // 0x805c564
int32_t g46 = 0; // 0x805c568
int32_t g47 = 0; // 0x805c56c
int64_t g48 = 0; // 0x805c578
int64_t g49 = 0; // 0x805c57c
int32_t g50 = 0; // 0x805c580
int32_t g51 = 0; // 0x805c584
int32_t ignore_tag_errors = 0; // 0x805c588
int32_t in_bitwidth = 16; // 0x805b2ac
int32_t in_endian = 0; // 0x805b3ec
int32_t in_signed = -1; // 0x805b2a8
int32_t input_format = 0; // 0x805c544
int32_t mp3_delay = 0; // 0x805c540
int32_t mp3_delay_set = 0; // 0x805c548
int32_t mp3input_data = 0; // 0x805c560
int32_t print_clipping_info = 0; // 0x805c554
int32_t silent = 0; // 0x805c54c
int32_t swapbytes = 0; // 0x805b3e8
float32_t update_interval = 0.0f; // 0x805c550
int32_t g52;
int32_t g53;
int32_t g54;
int32_t g55;
int32_t g56;
int32_t g57;

// ------------------------ Functions -------------------------

// Address range: 0x804a06c - 0x804a072
int32_t function_804a06c(int32_t a1) {
    // 0x804a06c
    return lame_get_in_samplerate();
}

// Address range: 0x804a08c - 0x804a092
int32_t function_804a08c(int32_t a1) {
    // 0x804a08c
    return get_lame_version();
}

// Address range: 0x804a0bc - 0x804a0c2
int32_t function_804a0bc(int32_t a1, int32_t a2) {
    // 0x804a0bc
    return lame_set_num_channels();
}

// Address range: 0x804a0cc - 0x804a0d2
int32_t function_804a0cc(int32_t a1) {
    // 0x804a0cc
    return id3tag_v1_only();
}

// Address range: 0x804a0dc - 0x804a0e2
int32_t function_804a0dc(int32_t a1) {
    // 0x804a0dc
    return id3tag_v2_only();
}

// Address range: 0x804a0ec - 0x804a0f2
int32_t function_804a0ec(int32_t a1, int32_t a2, int32_t a3) {
    // 0x804a0ec
    return id3tag_set_albumart();
}

// Address range: 0x804a10c - 0x804a112
int32_t function_804a10c(int32_t a1, int32_t * a2) {
    // 0x804a10c
    return lame_stereo_mode_hist();
}

// Address range: 0x804a11c - 0x804a122
int32_t function_804a11c(int32_t a1) {
    // 0x804a11c
    return lame_get_RadioGain();
}

// Address range: 0x804a12c - 0x804a132
int32_t function_804a12c(int32_t a1, float80_t a2) {
    // 0x804a12c
    return lame_set_scale_right();
}

// Address range: 0x804a14c - 0x804a152
int32_t function_804a14c(int32_t a1, int32_t a2) {
    // 0x804a14c
    return lame_set_decode_only();
}

// Address range: 0x804a15c - 0x804a162
int32_t function_804a15c(int32_t a1, int32_t * a2) {
    // 0x804a15c
    return lame_bitrate_hist();
}

// Address range: 0x804a16c - 0x804a172
int32_t function_804a16c(int32_t a1) {
    // 0x804a16c
    return lame_get_noclipGainChange();
}

// Address range: 0x804a17c - 0x804a182
int32_t function_804a17c(int32_t a1) {
    // 0x804a17c
    return id3tag_init();
}

// Address range: 0x804a1bc - 0x804a1c2
int32_t function_804a1bc(int32_t a1, int32_t * a2, int32_t a3) {
    // 0x804a1bc
    return lame_get_id3v2_tag();
}

// Address range: 0x804a1cc - 0x804a1d2
int32_t function_804a1cc(int32_t a1) {
    // 0x804a1cc
    return get_lame_os_bitness();
}

// Address range: 0x804a1fc - 0x804a202
int32_t function_804a1fc(int32_t a1, int32_t a2) {
    // 0x804a1fc
    return lame_set_error_protection();
}

// Address range: 0x804a20c - 0x804a212
int32_t function_804a20c(int32_t a1) {
    // 0x804a20c
    return lame_get_num_samples();
}

// Address range: 0x804a21c - 0x804a222
int32_t function_804a21c(int32_t a1, int32_t a2) {
    // 0x804a21c
    return lame_set_debugf();
}

// Address range: 0x804a22c - 0x804a232
int32_t function_804a22c(int32_t a1) {
    // 0x804a22c
    return lame_get_noclipScale();
}

// Address range: 0x804a23c - 0x804a242
int32_t function_804a23c(int32_t a1) {
    // 0x804a23c
    return lame_get_compression_ratio();
}

// Address range: 0x804a24c - 0x804a252
int32_t function_804a24c(int32_t a1) {
    // 0x804a24c
    return lame_get_VBR_max_bitrate_kbps();
}

// Address range: 0x804a27c - 0x804a282
int32_t function_804a27c(int32_t a1, int32_t * a2, int32_t * a3, int32_t a4, int32_t * a5, int32_t a6) {
    // 0x804a27c
    return lame_encode_buffer_int();
}

// Address range: 0x804a28c - 0x804a292
int32_t function_804a28c(int32_t a1) {
    // 0x804a28c
    return lame_get_VBR_min_bitrate_kbps();
}

// Address range: 0x804a29c - 0x804a2a2
int32_t function_804a29c(int32_t a1) {
    // 0x804a29c
    return get_lame_url();
}

// Address range: 0x804a2ac - 0x804a2b2
int32_t function_804a2ac(int32_t a1, int32_t a2) {
    // 0x804a2ac
    return lame_set_write_id3tag_automatic();
}

// Address range: 0x804a2cc - 0x804a2d2
int32_t function_804a2cc(int32_t a1, int32_t a2) {
    // 0x804a2cc
    return id3tag_set_comment();
}

// Address range: 0x804a2dc - 0x804a2e2
int32_t function_804a2dc(int32_t a1, int32_t a2) {
    // 0x804a2dc
    return lame_set_decode_on_the_fly();
}

// Address range: 0x804a2fc - 0x804a302
int32_t function_804a2fc(int32_t a1, int32_t a2) {
    // 0x804a2fc
    return lame_set_VBR_hard_min();
}

// Address range: 0x804a30c - 0x804a312
int32_t function_804a30c(int32_t a1) {
    // 0x804a30c
    return lame_get_decode_only();
}

// Address range: 0x804a31c - 0x804a322
int32_t function_804a31c(int32_t a1, int32_t * a2, int32_t a3) {
    // 0x804a31c
    return lame_get_lametag_frame();
}

// Address range: 0x804a32c - 0x804a332
int32_t function_804a32c(int32_t a1, int32_t a2) {
    // 0x804a32c
    return lame_set_strict_ISO();
}

// Address range: 0x804a33c - 0x804a342
int32_t function_804a33c(int32_t a1, int32_t a2) {
    // 0x804a33c
    return lame_set_useTemporal();
}

// Address range: 0x804a34c - 0x804a352
int32_t function_804a34c(int32_t a1, int32_t a2) {
    // 0x804a34c
    return lame_set_force_ms();
}

// Address range: 0x804a35c - 0x804a362
int32_t function_804a35c(int32_t a1, float80_t a2) {
    // 0x804a35c
    return lame_set_compression_ratio();
}

// Address range: 0x804a38c - 0x804a392
int32_t function_804a38c(int32_t a1, float80_t a2) {
    // 0x804a38c
    return lame_set_VBR_quality();
}

// Address range: 0x804a39c - 0x804a3a2
int32_t function_804a39c(int32_t a1, int32_t a2) {
    // 0x804a39c
    return lame_set_disable_reservoir();
}

// Address range: 0x804a3ac - 0x804a3b2
int32_t function_804a3ac(int32_t a1, int32_t * a2, int32_t a3, int32_t a4, int32_t a5, int32_t a6) {
    // 0x804a3ac
    return hip_decode1_headers();
}

// Address range: 0x804a3bc - 0x804a3c2
int32_t function_804a3bc(int32_t a1) {
    // 0x804a3bc
    return lame_close();
}

// Address range: 0x804a3cc - 0x804a3d2
int32_t function_804a3cc(int32_t a1, int32_t a2) {
    // 0x804a3cc
    return lame_set_nogap_total();
}

// Address range: 0x804a3dc - 0x804a3e2
int32_t function_804a3dc(int32_t * a1, int32_t a2) {
    // 0x804a3dc
    return tgetent();
}

// Address range: 0x804a3fc - 0x804a402
int32_t function_804a3fc(int32_t a1) {
    // 0x804a3fc
    return lame_get_encoder_delay();
}

// Address range: 0x804a41c - 0x804a422
int32_t function_804a41c(int32_t a1, int32_t a2) {
    // 0x804a41c
    return lame_set_VBR_min_bitrate_kbps();
}

// Address range: 0x804a42c - 0x804a432
int32_t function_804a42c(int32_t a1, int32_t a2) {
    // 0x804a42c
    return lame_set_free_format();
}

// Address range: 0x804a44c - 0x804a452
int32_t function_804a44c(int32_t a1, int32_t a2) {
    // 0x804a44c
    return lame_set_errorf();
}

// Address range: 0x804a45c - 0x804a462
int32_t function_804a45c(int32_t a1) {
    // 0x804a45c
    return lame_init_bitstream();
}

// Address range: 0x804a46c - 0x804a472
int32_t function_804a46c(int32_t a1, int32_t a2) {
    // 0x804a46c
    return lame_set_exp_nspsytune();
}

// Address range: 0x804a49c - 0x804a4a2
int32_t function_804a49c(int32_t a1) {
    // 0x804a49c
    return lame_get_decode_on_the_fly();
}

// Address range: 0x804a4bc - 0x804a4c2
int32_t function_804a4bc(int32_t a1, int32_t a2) {
    // 0x804a4bc
    return lame_set_VBR();
}

// Address range: 0x804a4cc - 0x804a4d2
int32_t function_804a4cc(int32_t a1) {
    // 0x804a4cc
    return lame_print_config();
}

// Address range: 0x804a4dc - 0x804a4e2
int32_t function_804a4dc(int32_t a1) {
    // 0x804a4dc
    return lame_get_bWriteVbrTag();
}

// Address range: 0x804a4ec - 0x804a4f2
int32_t function_804a4ec(int32_t a1, int32_t * a2) {
    // 0x804a4ec
    return lame_bitrate_stereo_mode_hist();
}

// Address range: 0x804a4fc - 0x804a502
int32_t function_804a4fc(int32_t a1, int32_t a2) {
    // 0x804a4fc
    return lame_set_nogap_currentindex();
}

// Address range: 0x804a50c - 0x804a512
int32_t function_804a50c(int32_t a1, float80_t a2) {
    // 0x804a50c
    return lame_set_msfix();
}

// Address range: 0x804a51c - 0x804a522
int32_t function_804a51c(int32_t a1) {
    // 0x804a51c
    return lame_get_VBR();
}

// Address range: 0x804a52c - 0x804a532
int32_t function_804a52c(int32_t a1, float80_t a2) {
    // 0x804a52c
    return lame_set_athaa_sensitivity();
}

// Address range: 0x804a56c - 0x804a572
int32_t function_804a56c(int32_t a1, int32_t a2) {
    // 0x804a56c
    return lame_set_out_samplerate();
}

// Address range: 0x804a57c - 0x804a582
int32_t function_804a57c(int32_t a1, int32_t a2, int32_t a3) {
    // 0x804a57c
    return lame_set_asm_optimizations();
}

// Address range: 0x804a58c - 0x804a592
int32_t function_804a58c(int32_t a1) {
    // 0x804a58c
    return lame_get_quality();
}

// Address range: 0x804a59c - 0x804a5a2
int32_t function_804a59c(int32_t a1, int32_t a2) {
    // 0x804a59c
    return id3tag_set_title();
}

// Address range: 0x804a5ac - 0x804a5b2
int32_t function_804a5ac(int32_t a1, int32_t * a2) {
    // 0x804a5ac
    return lame_block_type_hist();
}

// Address range: 0x804a5bc - 0x804a5c2
int32_t function_804a5bc(int32_t a1, int32_t a2) {
    // 0x804a5bc
    return lame_set_brate();
}

// Address range: 0x804a5dc - 0x804a5e2
int32_t function_804a5dc(int32_t a1, int32_t * a2) {
    // 0x804a5dc
    return lame_bitrate_kbps();
}

// Address range: 0x804a5ec - 0x804a5f2
int32_t function_804a5ec(int32_t a1, int32_t a2) {
    // 0x804a5ec
    return lame_set_findReplayGain();
}

// Address range: 0x804a5fc - 0x804a602
int32_t function_804a5fc(int32_t a1) {
    // 0x804a5fc
    return lame_get_framesize();
}

// Address range: 0x804a61c - 0x804a622
int32_t function_804a61c(int32_t a1, int32_t a2) {
    // 0x804a61c
    return id3tag_set_artist();
}

// Address range: 0x804a62c - 0x804a632
int32_t function_804a62c(int32_t a1, int32_t * a2, int32_t a3) {
    // 0x804a62c
    return lame_encode_flush();
}

// Address range: 0x804a63c - 0x804a642
int32_t function_804a63c(int32_t a1, int32_t a2) {
    // 0x804a63c
    return lame_set_highpassfreq();
}

// Address range: 0x804a66c - 0x804a672
int32_t function_804a66c(int32_t a1, int32_t a2) {
    // 0x804a66c
    return lame_set_VBR_mean_bitrate_kbps();
}

// Address range: 0x804a67c - 0x804a682
int32_t function_804a67c(int32_t a1, int32_t a2) {
    // 0x804a67c
    return lame_set_quality();
}

// Address range: 0x804a6ac - 0x804a6b2
int32_t function_804a6ac(int32_t a1) {
    // 0x804a6ac
    return lame_get_mode();
}

// Address range: 0x804a6bc - 0x804a6c2
int32_t function_804a6bc(int32_t a1, int32_t a2) {
    // 0x804a6bc
    return lame_set_msgf();
}

// Address range: 0x804a6cc - 0x804a6d2
int32_t function_804a6cc(int32_t a1, int32_t a2) {
    // 0x804a6cc
    return id3tag_set_year();
}

// Address range: 0x804a6dc - 0x804a6e2
int32_t function_804a6dc(int32_t a1, int32_t a2) {
    // 0x804a6dc
    return id3tag_set_album();
}

// Address range: 0x804a6fc - 0x804a702
int32_t function_804a6fc(int32_t a1) {
    // 0x804a6fc
    return lame_get_totalframes();
}

// Address range: 0x804a71c - 0x804a722
int32_t function_804a71c(int32_t a1, int32_t a2) {
    // 0x804a71c
    return id3tag_set_pad();
}

// Address range: 0x804a72c - 0x804a732
int32_t function_804a72c(int32_t a1, int32_t * a2, int32_t a3) {
    // 0x804a72c
    return lame_encode_flush_nogap();
}

// Address range: 0x804a74c - 0x804a752
int32_t function_804a74c(int32_t a1, int32_t a2) {
    // 0x804a74c
    return lame_set_VBR_max_bitrate_kbps();
}

// Address range: 0x804a75c - 0x804a762
int32_t function_804a75c(int32_t a1) {
    // 0x804a75c
    return lame_get_num_channels();
}

// Address range: 0x804a76c - 0x804a772
int32_t function_804a76c(void) {
    // 0x804a76c
    return hip_decode_init();
}

// Address range: 0x804a77c - 0x804a782
int32_t function_804a77c(int32_t a1, int32_t a2) {
    // 0x804a77c
    return lame_set_original();
}

// Address range: 0x804a78c - 0x804a792
int32_t function_804a78c(int32_t a1) {
    // 0x804a78c
    return id3tag_pad_v2();
}

// Address range: 0x804a79c - 0x804a7a2
int32_t function_804a79c(char * a1) {
    // 0x804a79c
    return tgetnum();
}

// Address range: 0x804a7ac - 0x804a7b2
int32_t function_804a7ac(int32_t a1) {
    // 0x804a7ac
    return lame_get_version();
}

// Address range: 0x804a7bc - 0x804a7c2
int32_t function_804a7bc(int32_t a1) {
    // 0x804a7bc
    return id3tag_add_v2();
}

// Address range: 0x804a7cc - 0x804a7d2
int32_t function_804a7cc(int32_t a1) {
    // 0x804a7cc
    return lame_init_params();
}

// Address range: 0x804a7dc - 0x804a7e2
int32_t function_804a7dc(int32_t a1, int32_t a2) {
    // 0x804a7dc
    return lame_set_bWriteVbrTag();
}

// Address range: 0x804a7fc - 0x804a802
int32_t function_804a7fc(int32_t a1, int32_t * a2, int32_t a3) {
    // 0x804a7fc
    return lame_get_id3v1_tag();
}

// Address range: 0x804a80c - 0x804a812
int32_t function_804a80c(int32_t a1, int32_t a2) {
    // 0x804a80c
    return id3tag_genre_list();
}

// Address range: 0x804a81c - 0x804a822
int32_t function_804a81c(int32_t a1) {
    // 0x804a81c
    return lame_get_exp_nspsytune();
}

// Address range: 0x804a82c - 0x804a832
int32_t function_804a82c(int32_t a1, int32_t a2) {
    // 0x804a82c
    return id3tag_set_track();
}

// Address range: 0x804a84c - 0x804a852
int32_t function_804a84c(int32_t a1) {
    // 0x804a84c
    return lame_get_frameNum();
}

// Address range: 0x804a85c - 0x804a862
int32_t function_804a85c(int32_t a1, float80_t a2) {
    // 0x804a85c
    return lame_set_interChRatio();
}

// Address range: 0x804a86c - 0x804a872
int32_t function_804a86c(int32_t a1, int32_t a2) {
    // 0x804a86c
    return id3tag_set_genre();
}

// Address range: 0x804a87c - 0x804a882
int32_t function_804a87c(int32_t a1, int32_t a2) {
    // 0x804a87c
    return lame_set_num_samples();
}

// Address range: 0x804a88c - 0x804a892
int32_t function_804a88c(int32_t a1, int32_t a2) {
    // 0x804a88c
    return lame_set_preset();
}

// Address range: 0x804a89c - 0x804a8a2
int32_t function_804a89c(int32_t a1) {
    // 0x804a89c
    return lame_get_free_format();
}

// Address range: 0x804a8ac - 0x804a8b2
int32_t function_804a8ac(int32_t a1, int32_t a2) {
    // 0x804a8ac
    return lame_set_emphasis();
}

// Address range: 0x804a8bc - 0x804a8c2
int32_t function_804a8bc(int32_t a1, int32_t a2) {
    // 0x804a8bc
    return lame_set_mode();
}

// Address range: 0x804a8cc - 0x804a8d2
int32_t function_804a8cc(int32_t a1) {
    // 0x804a8cc
    return hip_decode_exit();
}

// Address range: 0x804a8dc - 0x804a8e2
int32_t function_804a8dc(int32_t a1) {
    // 0x804a8dc
    return lame_print_internals();
}

// Address range: 0x804a8fc - 0x804a902
int32_t function_804a8fc(int32_t a1, int32_t a2) {
    // 0x804a8fc
    return lame_set_experimentalY();
}

// Address range: 0x804a91c - 0x804a922
int32_t function_804a91c(int32_t a1) {
    // 0x804a91c
    return lame_get_VBR_quality();
}

// Address range: 0x804a92c - 0x804a932
int32_t function_804a92c(int32_t a1) {
    // 0x804a92c
    return lame_get_findReplayGain();
}

// Address range: 0x804a93c - 0x804a942
int32_t function_804a93c(int32_t a1, int32_t a2) {
    // 0x804a93c
    return lame_set_in_samplerate();
}

// Address range: 0x804a95c - 0x804a962
int32_t function_804a95c(int32_t a1) {
    // 0x804a95c
    return lame_get_out_samplerate();
}

// Address range: 0x804a96c - 0x804a972
int32_t function_804a96c(int32_t a1, int32_t a2) {
    // 0x804a96c
    return lame_set_VBR_q();
}

// Address range: 0x804a97c - 0x804a982
int32_t function_804a97c(char * a1, char ** a2) {
    // 0x804a97c
    return tgetstr();
}

// Address range: 0x804a98c - 0x804a992
int32_t function_804a98c(int32_t a1) {
    // 0x804a98c
    return lame_get_force_ms();
}

// Address range: 0x804a99c - 0x804a9a2
int32_t function_804a99c(int32_t a1, int32_t a2) {
    // 0x804a99c
    return lame_set_lowpassfreq();
}

// Address range: 0x804a9ac - 0x804a9b2
int32_t function_804a9ac(int32_t a1, float80_t a2) {
    // 0x804a9ac
    return lame_set_scale_left();
}

// Address range: 0x804a9bc - 0x804a9c2
int32_t function_804a9bc(int32_t a1) {
    // 0x804a9bc
    return lame_get_brate();
}

// Address range: 0x804a9cc - 0x804a9d2
int32_t function_804a9cc(void) {
    // 0x804a9cc
    return lame_init();
}

// Address range: 0x804a9dc - 0x804a9e2
int32_t function_804a9dc(int32_t a1, int32_t a2) {
    // 0x804a9dc
    return lame_set_highpasswidth();
}

// Address range: 0x804a9fc - 0x804aa02
int32_t function_804a9fc(int32_t a1, int32_t a2) {
    // 0x804a9fc
    return id3tag_set_fieldvalue();
}

// Address range: 0x804aa0c - 0x804aa12
int32_t function_804aa0c(int32_t a1, float80_t a2) {
    // 0x804aa0c
    return lame_set_scale();
}

// Address range: 0x804aa2c - 0x804aa32
int32_t function_804aa2c(int32_t a1, int32_t * a2, int32_t a3, int32_t * a4, int32_t * a5, int32_t a6, int32_t a7, int32_t a8) {
    // 0x804aa2c
    return hip_decode1_headersB();
}

// Address range: 0x804aa4c - 0x804aa52
int32_t function_804aa4c(int32_t a1, int32_t a2) {
    // 0x804aa4c
    return lame_set_copyright();
}

// Address range: 0x804aa5c - 0x804aa62
int32_t function_804aa5c(int32_t a1, int32_t a2) {
    // 0x804aa5c
    return lame_set_lowpasswidth();
}

// Address range: 0x804aa8c - 0x804aa92
int32_t function_804aa8c(int32_t a1) {
    // 0x804aa8c
    return id3tag_space_v1();
}

// Address range: 0x804aa9c - 0x804aaa2
int32_t function_804aa9c(int32_t a1) {
    // 0x804aa9c
    return lame_get_VBR_q();
}

// Address range: 0x804aabc - 0x804aac2
int32_t function_804aabc(int32_t a1) {
    // 0x804aabc
    return lame_get_VBR_mean_bitrate_kbps();
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/main.c
// Address range: 0x804ab84 - 0x804ac92
// Line range:    98 - 126
int32_t parse_args_from_string(int32_t * gfp, char * p, char * inPath, char * outPath) {
    // 0x804ab84
    if (p == NULL || *p == 0) {
        // 0x804ac90
        return 0;
    }
    int32_t * mem = malloc(strlen(p) + 1); // 0x804abbf
    strcpy((char *)mem, p);
    int32_t v1; // bp-4, 0x804ab84
    int32_t v2 = (int32_t)&v1 - 536; // 0x804abe2
    *(int32_t *)v2 = (int32_t)"lhama";
    char * v3 = (char *)mem; // 0x804abed
    int32_t v4 = (int32_t)(char *)1; // 0x804abf1
    *(int32_t *)(4 * v4 + v2) = (int32_t)v3;
    char v5 = *v3; // 0x804ac0b
    char * v6 = v3; // 0x804ac10
    char * v7 = v3; // 0x804ac10
    bool v8 = v5 != 0; // 0x804ac10
    char * v9; // 0x804ab84
    char v10; // 0x804ac0b
    if (v5 != 32 == (v5 != 0)) {
        v9 = (char *)((int32_t)v6 + 1);
        v10 = *v9;
        v6 = v9;
        v7 = v9;
        v8 = v10 != 0;
        while (v10 != 32 == (v10 != 0)) {
            // 0x804ac04
            v9 = (char *)((int32_t)v6 + 1);
            v10 = *v9;
            v6 = v9;
            v7 = v9;
            v8 = v10 != 0;
        }
    }
    int32_t v11 = v4 + 1; // 0x804abfe
    while (v8) {
        // 0x804ac81
        *v7 = 0;
        v3 = (char *)((int32_t)v7 + 1);
        v4 = (int32_t)(char *)v11;
        *(int32_t *)(4 * v4 + v2) = (int32_t)v3;
        v5 = *v3;
        v6 = v3;
        v7 = v3;
        v8 = v5 != 0;
        if (v5 != 32 == (v5 != 0)) {
            v9 = (char *)((int32_t)v6 + 1);
            v10 = *v9;
            v6 = v9;
            v7 = v9;
            v8 = v10 != 0;
            while (v10 != 32 == (v10 != 0)) {
                // 0x804ac04
                v9 = (char *)((int32_t)v6 + 1);
                v10 = *v9;
                v6 = v9;
                v7 = v9;
                v8 = v10 != 0;
            }
        }
        // 0x804ac1c
        v11 = v4 + 1;
    }
    // 0x804ac26
    *(int32_t *)(4 * v11 + v2) = 0;
    int32_t v12; // bp-540, 0x804ab84
    int32_t result = parse_args(gfp, v11, (char **)&v12, inPath, outPath, NULL, NULL); // 0x804ac69
    free(mem);
    // 0x804ac90
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/main.c
// Address range: 0x804ac92 - 0x804ad3a
// Line range:    133 - 158
struct _IO_FILE * init_files(int32_t * gf, char * inPath, char * outPath, int32_t * enc_delay, int32_t * enc_padding) {
    // 0x804ac92
    if (strcmp("-", outPath) != 0) {
        // 0x804acaf
        if (strcmp(inPath, outPath) == 0) {
            // 0x804acc5
            error_printf("Input file and Output file are the same. Abort.\n");
            // 0x804ad38
            return NULL;
        }
    }
    // 0x804acd8
    init_infile(gf, inPath, enc_delay, enc_padding);
    struct _IO_FILE * v1 = init_outfile(outPath, function_804a30c((int32_t)gf)); // 0x804ad0d
    struct _IO_FILE * result = v1; // 0x804ad19
    if (v1 == NULL) {
        // 0x804ad1b
        error_printf("Can't init outfile '%s'\n", outPath);
        result = NULL;
    }
    // 0x804ad38
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/main.c
// Address range: 0x804ad3a - 0x804b4f0
// Line range:    174 - 347
int32_t lame_decoder(int32_t * gfp, struct _IO_FILE * outf, int32_t skip_start, char * inPath, char * outPath, int32_t * enc_delay, int32_t * enc_padding) {
    int16_t Buffer[2][1152]; // bp-4660, 0x804ad3a
    int16_t v1[1152]; // 0x804b194
    int16_t v2[2][1152]; // 0x804b194
    int16_t v3[1152]; // 0x804ad85
    int16_t v4[2][1152]; // 0x804ad85
    int16_t v5[1152]; // 0x804b494
    int16_t v6[2][1152]; // 0x804b494
    int32_t v7 = (int32_t)gfp;
    int32_t v8 = function_804a75c(v7); // 0x804ad52
    int3_t v9; // 0x804ad3a
    if (silent <= 9) {
        int32_t v10 = function_804a06c(v7); // 0x804ad80
        v3[0] = v10;
        v4[0] = v3;
        Buffer = v4;
        int3_t v11 = v9 - 1; // 0x804ad8b
        __frontend_reg_store_fpr(v11, (float80_t)*(int32_t *)&Buffer);
        int3_t v12 = v9 - 2; // 0x804ad91
        __frontend_reg_store_fpr(v12, 1000.0L);
        __frontend_reg_store_fpr(v11, __frontend_reg_load_fpr(v11) / __frontend_reg_load_fpr(v12));
        float80_t v13 = __frontend_reg_load_fpr(v11); // 0x804ad99
        int32_t v14 = strlen(inPath) < 27 ? (int32_t)"  " : (int32_t)"\n\t";
        int32_t v15 = strcmp(inPath, "-") == 0 ? (int32_t)"<stdin>" : (int32_t)inPath;
        __frontend_reg_store_fpr(v11, v13);
        console_printf("\rinput:  %s%s(%g kHz, %i channel%s, ", (char *)v15, (char *)v14, (float64_t)__frontend_reg_load_fpr(v11));
    }
    // 0x804ae05
    g56 = input_format;
    int32_t v16; // 0x804ad3a
    int32_t v17; // 0x804ad3a
    int32_t v18; // 0x804ad3a
    int32_t v19; // 0x804ad3a
    switch (input_format) {
        case 1: {
            // 0x804afd0
            if (silent <= 9) {
                // 0x804afda
                console_printf("raw PCM data");
            }
            // 0x804afe6
            g49 = function_804a20c(v7);
            g48 = 1152;
            v19 = 0;
            v17 = 0;
            goto lab_0x804b0be;
        }
        case 2: {
            // 0x804b00c
            if (silent <= 9) {
                // 0x804b016
                console_printf("Microsoft WAVE");
            }
            // 0x804b022
            g49 = function_804a20c(v7);
            g48 = 1152;
            v19 = 0;
            v17 = 0;
            goto lab_0x804b0be;
        }
        case 3: {
            // 0x804b045
            if (silent <= 9) {
                // 0x804b04f
                console_printf("SGI/Apple AIFF");
            }
            // 0x804b05b
            g49 = function_804a20c(v7);
            g48 = 1152;
            v19 = 0;
            v17 = 0;
            goto lab_0x804b0be;
        }
        case 4: {
            int32_t v20 = skip_start + 241; // 0x804af66
            v16 = 0;
            v18 = v20;
            if (silent > 9) {
                goto lab_0x804b14f;
            } else {
                int32_t v21 = function_804a95c(v7); // 0x804af81
                int32_t v22 = v21 > 0x3e7f ? (int32_t)&g1 : (int32_t)".5";
                int32_t v23 = function_804a7ac(v7); // 0x804af9f
                console_printf("MPEG-%u%s Layer %s", 2 - v23, (char *)v22, (char *)&g2);
                v19 = v20;
                v17 = 0;
                goto lab_0x804b0be;
            }
        }
        case 5: {
            int32_t v24 = skip_start + 241; // 0x804aefc
            v16 = 0;
            v18 = v24;
            if (silent > 9) {
                goto lab_0x804b14f;
            } else {
                int32_t v25 = function_804a95c(v7); // 0x804af17
                int32_t v26 = v25 > 0x3e7f ? (int32_t)&g1 : (int32_t)".5";
                console_printf("MPEG-%u%s Layer %s", 2 - function_804a7ac(v7), (char *)v26, "II");
                v19 = v24;
                v17 = 0;
                goto lab_0x804b0be;
            }
        }
        case 6: {
            int32_t v27; // 0x804ad3a
            int32_t v28; // 0x804ad3a
            if (skip_start != 0) {
                // 0x804ae8f
                v28 = skip_start + 529;
                v27 = 0;
            } else {
                int32_t v29 = *enc_delay; // 0x804ae3d
                int32_t v30 = *enc_padding;
                if (v29 < 0 == v30 < 0) {
                    // 0x804ae7a
                    v28 = function_804a3fc(v7) + 529;
                    v27 = 0;
                } else {
                    // 0x804ae4c
                    v28 = v29 < 0 ? skip_start : v29 + 529;
                    v27 = v30 < 0 ? 0 : v30 - 529;
                }
            }
            // 0x804ae99
            v16 = v27;
            v18 = v28;
            if (silent > 9) {
                goto lab_0x804b14f;
            } else {
                int32_t v31 = function_804a95c(v7); // 0x804aead
                int32_t v32 = v31 > 0x3e7f ? (int32_t)&g1 : (int32_t)".5";
                console_printf("MPEG-%u%s Layer %s", 2 - function_804a7ac(v7), (char *)v32, "III");
                v19 = v28;
                v17 = v27;
                goto lab_0x804b0be;
            }
        }
        case 7: {
            // 0x804ae1c
            error_printf("Internal error.  Aborting.");
            exit(-1);
            // UNREACHABLE
        }
        default: {
            // 0x804b07e
            if (silent <= 9) {
                // 0x804b088
                console_printf("unknown");
            }
            // 0x804b094
            g49 = function_804a20c(v7);
            g48 = 1152;
            v19 = 0;
            v17 = 0;
            goto lab_0x804b0be;
        }
    }
  lab_0x804b37c:;
    // 0x804b37c
    int32_t v33; // 0x804ad3a
    int32_t v34 = v33;
    float64_t v35; // 0x804ad3a
    float64_t v36 = v35;
    int32_t v37; // 0x804ad3a
    int32_t v38 = v37; // 0x804b380
    int32_t v39; // 0x804ad3a
    int32_t v40 = v39; // 0x804b380
    float64_t v41 = v36; // 0x804b380
    if (v34 >= 0 != v34 != 0) {
        // break -> 0x804b386
        goto lab_0x804b386;
    }
    goto lab_0x804b1dc;
  lab_0x804b28f:;
    // 0x804b28f
    int32_t v51; // 0x804ad3a
    int32_t v43; // 0x804ad3a
    int32_t v46; // 0x804b1ec
    int32_t v54 = v46 == 0 | v51 != g50 ? 0 : v43;
    int32_t v52 = v43; // 0x804ad3a
    int32_t v53 = v46 - v54; // 0x804ad3a
    goto lab_0x804b35b;
  lab_0x804b35b:;
    // 0x804b35b
    int32_t v44; // 0x804ad3a
    int32_t v55 = v46 - v44; // 0x804b24d
    int32_t v56 = v55 == 0 | v55 < 0 != ((v55 ^ v46) & (v46 ^ v44)) < 0 ? v46 : v44; // 0x804b250
    int32_t v57 = v53;
    int32_t v58 = v52;
    if (v56 < v57) {
        int32_t v59; // 0x804ad3a
        int32_t v60 = v59;
        int32_t v61 = disable_wav_header; // 0x804b2b7
        int32_t v62; // 0x804ad3b
        int32_t v63; // 0x804ad3a
        int16_t v64; // 0x804b319
        int16_t v65; // 0x804b33f
        if (v61 == 0) {
            // 0x804b316
            v63 = 2 * v60 + v62;
            v64 = *(int16_t *)(v63 - 0x1228);
            Write16BitsLowHigh(outf, (int32_t)v64);
            if (v8 == 2) {
                // 0x804b337
                v65 = *(int16_t *)(v63 - 2344);
                Write16BitsLowHigh(outf, (int32_t)v65);
            }
        }
        int32_t v66 = v60 + 1; // 0x804b357
        v59 = v66;
        while (v66 != v57) {
            // 0x804b2b7
            v60 = v59;
            v61 = disable_wav_header;
            if (v61 == 0) {
                // 0x804b316
                v63 = 2 * v60 + v62;
                v64 = *(int16_t *)(v63 - 0x1228);
                Write16BitsLowHigh(outf, (int32_t)v64);
                if (v8 == 2) {
                    // 0x804b337
                    v65 = *(int16_t *)(v63 - 2344);
                    Write16BitsLowHigh(outf, (int32_t)v65);
                }
            }
            // 0x804b357
            v66 = v60 + 1;
            v59 = v66;
        }
    }
    // 0x804b367
    float80_t v49; // 0x804b22d
    float64_t v67 = v49; // 0x804b22d
    int32_t v68 = v44 - v56; // 0x804b25a
    v37 = v68;
    v39 = v58;
    v35 = v67;
    v33 = v57;
    if (flush_write == 1) {
        // 0x804b371
        fflush(outf);
        v37 = v68;
        v39 = v58;
        v35 = v67;
        v33 = v57;
    }
    goto lab_0x804b37c;
  lab_0x804b0be:
    // 0x804b0be
    v16 = v17;
    v18 = v19;
    if (silent <= 9) {
        int32_t v69 = strlen(outPath) < 46 ? (int32_t)"  " : (int32_t)"\n\t";
        int32_t v70 = strcmp(outPath, "-") == 0 ? (int32_t)"<stdout>" : (int32_t)outPath;
        console_printf(")\noutput: %s%s(16 bit, Microsoft WAVE)\n", (char *)v70, (char *)v69);
        if (v19 >= 1) {
            // 0x804b123
            console_printf("skipping initial %i samples (encoder+decoder delay)\n", v19);
        }
        // 0x804b136
        v16 = v17;
        v18 = v19;
        if (v17 >= 1) {
            // 0x804b13c
            console_printf("skipping final %i samples (encoder padding-decoder delay)\n", v17);
            v16 = v17;
            v18 = v19;
        }
    }
    goto lab_0x804b14f;
  lab_0x804b14f:
    // 0x804b14f
    if (disable_wav_header == 0) {
        // 0x804b158
        WriteWaveHeader(outf, 0x7fffffff, function_804a06c(v7), (int32_t)(float32_t)(float64_t)(int64_t)v8, 16);
    }
    // 0x804b189
    v1[0] = -(int16_t)(v18 + v16);
    v2[0] = v1;
    Buffer = v2;
    int3_t v47 = v9 - 1; // 0x804b19a
    __frontend_reg_store_fpr(v47, (float80_t)*(int32_t *)&Buffer);
    g50 = (int32_t)g49 / (int32_t)g48;
    int3_t v48 = v9 - 2;
    v38 = v18;
    v40 = v16;
    v41 = __frontend_reg_load_fpr(v47);
    while (true) {
      lab_0x804b1dc:;
        float64_t v42 = v41;
        v43 = v40;
        v44 = v38;
        int32_t v45; // bp-4652, 0x804ad3a
        v46 = get_audio16(gfp, (int16_t (*)[1152])&v45);
        v37 = v44;
        v39 = v43;
        v35 = v42;
        v33 = v46;
        if (v46 < 0) {
            goto lab_0x804b37c;
        } else {
            // 0x804b1fe
            g51 += (int32_t)((int64_t)v46 / (g48 & 0xffffffff));
            __frontend_reg_store_fpr(v47, (float80_t)v46);
            __frontend_reg_store_fpr(v48, (float80_t)v42);
            __frontend_reg_store_fpr(v47, __frontend_reg_load_fpr(v48) + __frontend_reg_load_fpr(v47));
            v49 = __frontend_reg_load_fpr(v47);
            int32_t v50 = silent; // 0x804b230
            if (v50 >= 0 != v50 != 0) {
                // 0x804b239
                decoder_progress(&mp3input_data);
                console_flush();
            }
            // 0x804b24a
            v51 = g51;
            if (v43 < 1153) {
                // 0x804b24a
                goto lab_0x804b28f;
            } else {
                // 0x804b266
                if (v51 + 2 > g50) {
                    // 0x804b277
                    v52 = 1152;
                    v53 = 1152 - v43 + v46;
                    goto lab_0x804b35b;
                } else {
                    goto lab_0x804b28f;
                }
            }
        }
    }
  lab_0x804b386:;
    float80_t v71 = v36; // 0x804b38e
    __frontend_reg_store_fpr(v47, v71);
    __frontend_reg_store_fpr(v48, 0.0L);
    float80_t v72 = __frontend_reg_load_fpr(v48); // 0x804b393
    float80_t v73 = __frontend_reg_load_fpr(v47); // 0x804b393
    float80_t v74; // 0x804ad3a
    if (v72 > v73) {
        // 0x804b39e
        __frontend_reg_store_fpr(v47, __frontend_reg_load_fpr(v47));
        goto lab_0x804b39e_2;
    } else {
        __frontend_reg_store_fpr(v47, __frontend_reg_load_fpr(v47));
        if (v72 != v73) {
            int32_t v75 = 2 * v8; // 0x804b389
            __frontend_reg_store_fpr(v47, (float80_t)(0xffffffd0 / v75));
            __frontend_reg_store_fpr(v48, v71);
            float80_t v76 = __frontend_reg_load_fpr(v48); // 0x804b3ee
            float80_t v77 = __frontend_reg_load_fpr(v47); // 0x804b3ee
            bool v78 = false; // 0x804b3ee
            bool v79 = false; // 0x804b3ee
            if (v76 <= v77) {
                v78 = true;
                v79 = false;
                if (v76 >= v77) {
                    v78 = v76 != v77;
                    v79 = true;
                }
            }
            __frontend_reg_store_fpr(v47, __frontend_reg_load_fpr(v47));
            if (v78 || v79) {
                // 0x804b41a
                __frontend_reg_store_fpr(v47, (float80_t)v75);
                __frontend_reg_store_fpr(v48, v71);
                __frontend_reg_store_fpr(v47, __frontend_reg_load_fpr(v48) * __frontend_reg_load_fpr(v47));
                v74 = __frontend_reg_load_fpr(v47);
            } else {
                // 0x804b3f9
                if (silent <= 9) {
                    // 0x804b403
                    error_printf("Very huge WAVE file, can't set filesize accordingly\n");
                }
                // 0x804b40f
                __frontend_reg_store_fpr(v47, 4294967248.0L);
                v74 = __frontend_reg_load_fpr(v47);
            }
            goto lab_0x804b425;
        } else {
            goto lab_0x804b39e_2;
        }
    }
  lab_0x804b39e_2:
    // 0x804b39e
    if (silent <= 9) {
        // 0x804b3a8
        error_printf("WAVE file contains 0 PCM samples\n");
    }
    // 0x804b3b4
    __frontend_reg_store_fpr(v47, 0.0L);
    v74 = __frontend_reg_load_fpr(v47);
    goto lab_0x804b425;
  lab_0x804b425:
    // 0x804b425
    if (disable_wav_header == 0) {
        // 0x804b432
        if (strcmp("-", outPath) != 0) {
            // 0x804b449
            if (fseek(outf, 0, SEEK_SET) == 0) {
                int32_t v80 = function_804a06c(v7); // 0x804b46e
                __frontend_reg_store_fpr(v47, v74);
                float80_t v81 = __frontend_reg_load_fpr(v47); // 0x804b494
                v5[0] = v81;
                v6[0] = v5;
                Buffer = v6;
                int32_t v82 = *(int32_t *)&Buffer; // 0x804b4a0
                WriteWaveHeader(outf, v82, v80, (int32_t)(float32_t)(float64_t)(int64_t)v8, 16);
            }
        }
    }
    // 0x804b4c8
    fclose(outf);
    int32_t v83 = silent; // 0x804b4d3
    if (v83 >= 0 != v83 != 0) {
        // 0x804b4dc
        decoder_progress_finish();
    }
    // 0x804b4e1
    return 0;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/main.c
// Address range: 0x804b4f0 - 0x804b513
// Line range:    352 - 356
void print_lame_tag_leading_info(int32_t * gf) {
    // 0x804b4f0
    if (function_804a4dc((int32_t)gf) != 0) {
        // 0x804b505
        console_printf("Writing LAME Tag...");
    }
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/main.c
// Address range: 0x804b513 - 0x804b68b
// Line range:    359 - 412
void print_trailing_info(int32_t * gf) {
    // 0x804b513
    int3_t v1; // 0x804b513
    int3_t v2 = v1;
    int32_t v3 = (int32_t)gf;
    if (function_804a4dc(v3) != 0) {
        // 0x804b528
        console_printf("done\n");
    }
    // 0x804b534
    if (function_804a92c(v3) != 0) {
        int32_t v4 = function_804a11c(v3); // 0x804b549
        int3_t v5 = v2 - 1; // 0x804b551
        __frontend_reg_store_fpr(v5, (float80_t)v4);
        int3_t v6 = v2 - 2; // 0x804b554
        __frontend_reg_store_fpr(v6, 10.0L);
        __frontend_reg_store_fpr(v5, __frontend_reg_load_fpr(v5) / __frontend_reg_load_fpr(v6));
        int32_t v7 = v4 < 1 ? (int32_t)&g1 : (int32_t)&g3;
        console_printf("ReplayGain: %s%.1fdB\n", (char *)v7, (float64_t)__frontend_reg_load_fpr(v5));
        if (v4 >= 511) {
            // 0x804b594
            error_printf("WARNING: ReplayGain exceeds the -51dB to +51dB range. Such a result is too\n         high to be stored in the header.\n");
        }
    }
    // 0x804b5a0
    if (print_clipping_info == 0 || function_804a49c(v3) == 0) {
        // 0x804b689
        return;
    }
    int3_t v8 = v2 - 1; // 0x804b5ce
    __frontend_reg_store_fpr(v8, (float80_t)function_804a16c(v3));
    int3_t v9 = v2 - 2; // 0x804b5d1
    __frontend_reg_store_fpr(v9, 10.0L);
    __frontend_reg_store_fpr(v8, __frontend_reg_load_fpr(v8) / __frontend_reg_load_fpr(v9));
    float80_t v10 = __frontend_reg_load_fpr(v8); // 0x804b5d9
    function_804a22c(v3);
    float80_t v11 = __frontend_reg_load_fpr(v2); // 0x804b5e7
    __frontend_reg_store_fpr(v2, v10);
    __frontend_reg_store_fpr(v8, 0.0L);
    float80_t v12 = __frontend_reg_load_fpr(v8); // 0x804b5ef
    __frontend_reg_store_fpr(v8, __frontend_reg_load_fpr(v2));
    __frontend_reg_store_fpr(v2, v12);
    float80_t v13 = __frontend_reg_load_fpr(v8); // 0x804b5f1
    float80_t v14 = __frontend_reg_load_fpr(v2); // 0x804b5f1
    bool v15 = false; // 0x804b5f1
    bool v16 = false; // 0x804b5f1
    if (v13 <= v14) {
        v15 = true;
        v16 = false;
        if (v13 >= v14) {
            v15 = v13 != v14;
            v16 = true;
        }
    }
    __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v2));
    __frontend_reg_store_fpr(v2, v10);
    if (v15 || v16) {
        // 0x804b650
        __frontend_reg_store_fpr(v8, -0.1L);
        float80_t v17 = __frontend_reg_load_fpr(v8); // 0x804b659
        __frontend_reg_store_fpr(v8, __frontend_reg_load_fpr(v2));
        __frontend_reg_store_fpr(v2, v17);
        float80_t v18 = __frontend_reg_load_fpr(v8); // 0x804b65b
        float80_t v19 = __frontend_reg_load_fpr(v2); // 0x804b65b
        bool v20 = false; // 0x804b65b
        bool v21 = false; // 0x804b65b
        if (v18 <= v19) {
            v20 = true;
            v21 = false;
            if (v18 >= v19) {
                v20 = v18 != v19;
                v21 = true;
            }
        }
        __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v2));
        if (v20 || v21) {
            // 0x804b674
            __frontend_reg_store_fpr(v2, v10);
            __frontend_reg_store_fpr(v2, -__frontend_reg_load_fpr(v2));
            console_printf("\nThe waveform does not clip and is at least %.1fdB away from full scale.\n", (float64_t)__frontend_reg_load_fpr(v2));
        } else {
            // 0x804b666
            console_printf("\nThe waveform does not clip and is less than 0.1dB away from full scale.\n");
        }
        // 0x804b689
        return;
    }
    // 0x804b5fc
    console_printf("WARNING: clipping occurs at the current gain. Set your decoder to decrease\n         the  gain  by  at least %.1fdB or encode again ", (float64_t)__frontend_reg_load_fpr(v2));
    __frontend_reg_store_fpr(v2, v11);
    __frontend_reg_store_fpr(v8, 0.0L);
    float80_t v22 = __frontend_reg_load_fpr(v8); // 0x804b614
    __frontend_reg_store_fpr(v8, __frontend_reg_load_fpr(v2));
    __frontend_reg_store_fpr(v2, v22);
    float80_t v23 = __frontend_reg_load_fpr(v8); // 0x804b616
    float80_t v24 = __frontend_reg_load_fpr(v2); // 0x804b616
    bool v25 = false; // 0x804b616
    bool v26 = false; // 0x804b616
    if (v23 <= v24) {
        v25 = true;
        v26 = false;
        if (v23 >= v24) {
            v25 = v23 != v24;
            v26 = true;
        }
    }
    __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v2));
    if (v25 || v26) {
        // 0x804b642
        console_printf("using --scale <arg>\n         (For   a   suggestion  on  the  optimal  value  of  <arg>  encode\n         with  --scale 1  first)\n");
    } else {
        // 0x804b621
        __frontend_reg_store_fpr(v2, v11);
        console_printf("using  --scale %.2f\n", (float64_t)__frontend_reg_load_fpr(v2));
        console_printf("         or less (the value under --scale is approximate).\n");
    }
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/main.c
// Address range: 0x804b68b - 0x804b79a
// Line range:    418 - 443
int32_t write_xing_frame(int32_t * gf, struct _IO_FILE * outf) {
    char mp3buffer[147456]; // bp-147476, 0x804b68b
    char mp3buffer2[147456]; // bp-147480, 0x804b68b
    char v1[147456]; // 0x804b6d1
    char v2[147456]; // 0x804b742
    int32_t v3 = __readgsdword(20); // 0x804b6a6
    int32_t data; // bp-147472, 0x804b68b
    int32_t v4 = function_804a31c((int32_t)gf, &data, 0x24000); // 0x804b6cc
    v1[0] = v4;
    mp3buffer = v1;
    int32_t nmemb = *(int32_t *)&mp3buffer; // 0x804b6d7
    int32_t v5; // 0x804b68b
    if (nmemb < 0x24001) {
        // 0x804b708
        v5 = 0;
        if (nmemb != 0) {
            int32_t items_written = fwrite(&data, 1, nmemb, outf); // 0x804b73d
            v2[0] = items_written;
            mp3buffer2 = v2;
            if (*(int32_t *)&mp3buffer2 == nmemb) {
                // 0x804b769
                v5 = nmemb;
                if (flush_write == 1) {
                    // 0x804b773
                    fflush(outf);
                    v5 = nmemb;
                }
            } else {
                // 0x804b756
                error_printf("Error writing LAME-tag \n");
                v5 = -1;
            }
        }
    } else {
        // 0x804b6e3
        error_printf("Error writing LAME-tag frame: buffer too small: buffer size=%d  frame size=%d\n", 0x24000, nmemb);
        v5 = -1;
    }
    int32_t result = v5; // 0x804b791
    if (v3 != __readgsdword(20)) {
        // 0x804b793
        __stack_chk_fail();
        result = &g57;
    }
    // 0x804b798
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/main.c
// Address range: 0x804b79a - 0x804bc85
// Line range:    448 - 567
int32_t lame_encoder(int32_t * gf, struct _IO_FILE * outf, int32_t nogap, char * inPath, char * outPath) {
    char mp3buffer[147456]; // bp-147476, 0x804b79a
    char mp3buffer2[147456]; // bp-147480, 0x804b79a
    char v1[147456]; // 0x804b79a
    char v2[147456]; // 0x804b8fb
    char v3[147456]; // 0x804b960
    char v4[147456]; // 0x804ba6d
    char v5[147456]; // 0x804ba45
    char v6[147456]; // 0x804bb4d
    char v7[147456]; // 0x804b814
    int32_t v8 = (int32_t)gf;
    int32_t v9 = __readgsdword(20); // 0x804b7c7
    encoder_progress_begin(gf, inPath, outPath);
    int32_t data; // bp-147472, 0x804b79a
    int32_t v10 = function_804a1bc(v8, &data, 0x24000); // 0x804b80f
    v7[0] = v10;
    mp3buffer2 = v7;
    uint32_t nmemb = *(int32_t *)&mp3buffer2; // 0x804b81a
    int32_t v11; // 0x804b79a
    if (nmemb < 0x24001) {
        // 0x804b85d
        if (fwrite(&data, 1, nmemb, outf) == nmemb) {
            // 0x804b8bf
            if (flush_write == 1) {
                // 0x804b8c9
                fflush(outf);
            }
            int32_t nmemb2; // 0x804b966
            while (true) {
                // 0x804b8e3
                int32_t v12; // bp-156704, 0x804b79a
                int32_t v13 = get_audio(gf, (int32_t (*)[1152])&v12); // 0x804b8f6
                v2[0] = v13;
                mp3buffer = v2;
                uint32_t v14 = *(int32_t *)&mp3buffer; // 0x804b901
                if (v14 >= 0) {
                    // 0x804b90e
                    encoder_progress(gf);
                    int32_t v15; // bp-152096, 0x804b79a
                    int32_t v16 = function_804a27c(v8, &v12, &v15, v14, &data, 0x24000); // 0x804b95b
                    v3[0] = v16;
                    mp3buffer2 = v3;
                    nmemb2 = *(int32_t *)&mp3buffer2;
                    if (nmemb2 < 0) {
                        // break -> 0x804b96f
                        break;
                    }
                    // 0x804b9a6
                    if (fwrite(&data, 1, nmemb2, outf) != nmemb2) {
                        // 0x804b9e4
                        error_printf("Error writing mp3 output \n");
                        v11 = 1;
                        goto lab_0x804bc72;
                    }
                }
                // 0x804b9fa
                if (flush_write == 1) {
                    // 0x804ba04
                    fflush(outf);
                }
                if (v14 >= 0 != v14 != 0) {
                    if (nogap == 0) {
                        int32_t v17 = function_804a62c(v8, &data, 0x24000); // 0x804ba68
                        v4[0] = v17;
                        v1 = v4;
                        goto lab_0x804ba73;
                    } else {
                        int32_t v18 = function_804a72c(v8, &data, 0x24000); // 0x804ba40
                        v5[0] = v18;
                        v1 = v5;
                        goto lab_0x804ba73;
                    }
                }
            }
            if (nmemb2 != -1) {
                // 0x804b986
                error_printf("mp3 internal error:  error code=%i\n", nmemb2);
                v11 = 1;
            } else {
                // 0x804b978
                error_printf("mp3 buffer is not big enough... \n");
                v11 = 1;
            }
        } else {
            // 0x804b89b
            encoder_progress_end(gf);
            error_printf("Error writing ID3v2 tag \n");
            v11 = 1;
        }
    } else {
        // 0x804b827
        encoder_progress_end(gf);
        error_printf("Error writing ID3v2 tag: buffer too small: buffer size=%d  ID3v2 size=%d\n", 0x24000, nmemb);
        v11 = 1;
    }
    goto lab_0x804bc72;
  lab_0x804bc72:;
    int32_t result = v11; // 0x804bc7c
    if (v9 != __readgsdword(20)) {
        // 0x804bc7e
        __stack_chk_fail();
        result = &g57;
    }
    // 0x804bc83
    return result;
  lab_0x804ba73:
    // 0x804ba73
    mp3buffer2 = v1;
    int32_t nmemb3 = *(int32_t *)&mp3buffer2; // 0x804ba73
    if (nmemb3 >= 0) {
        // 0x804bab3
        encoder_progress_end(gf);
        if (fwrite(&data, 1, nmemb3, outf) == nmemb3) {
            // 0x804bb15
            if (flush_write != 1) {
                goto lab_0x804bb2d;
            } else {
                // 0x804bb1f
                fflush(outf);
                goto lab_0x804bb2d;
            }
        } else {
            // 0x804baff
            error_printf("Error writing mp3 output \n");
            v11 = 1;
            goto lab_0x804bc72;
        }
    } else {
        if (nmemb3 != -1) {
            // 0x804ba93
            error_printf("mp3 internal error:  error code=%i\n", nmemb3);
            v11 = 1;
            goto lab_0x804bc72;
        } else {
            // 0x804ba85
            error_printf("mp3 buffer is not big enough... \n");
            v11 = 1;
            goto lab_0x804bc72;
        }
    }
  lab_0x804bb2d:;
    int32_t v19 = function_804a7fc(v8, &data, 0x24000); // 0x804bb48
    v6[0] = v19;
    mp3buffer2 = v6;
    uint32_t nmemb4 = *(int32_t *)&mp3buffer2; // 0x804bb53
    if (nmemb4 < 0x24001) {
        if (nmemb4 == 0) {
            goto lab_0x804bbf5;
        } else {
            // 0x804bb89
            if (fwrite(&data, 1, nmemb4, outf) == nmemb4) {
                // 0x804bbdd
                if (flush_write != 1) {
                    goto lab_0x804bbf5;
                } else {
                    // 0x804bbe7
                    fflush(outf);
                    goto lab_0x804bbf5;
                }
            } else {
                // 0x804bbc7
                error_printf("Error writing ID3v1 tag \n");
                v11 = 1;
                goto lab_0x804bc72;
            }
        }
    } else {
        // 0x804bb60
        error_printf("Error writing ID3v1 tag: buffer too small: buffer size=%d  ID3v1 size=%d\n", 0x24000, nmemb4);
        goto lab_0x804bbf5;
    }
  lab_0x804bbf5:;
    int32_t v20 = silent; // 0x804bbf5
    if (v20 >= 0 == (v20 != 0)) {
        goto lab_0x804bc0c;
    } else {
        // 0x804bbfe
        print_lame_tag_leading_info(gf);
        goto lab_0x804bc0c;
    }
  lab_0x804bc0c:
    // 0x804bc0c
    if (fseek(outf, nmemb, SEEK_SET) == 0) {
        // 0x804bc3e
        write_xing_frame(gf, outf);
        goto lab_0x804bc56;
    } else {
        // 0x804bc30
        error_printf("fatal error: can't update LAME-tag frame!\n");
        goto lab_0x804bc56;
    }
  lab_0x804bc56:;
    int32_t v21 = silent; // 0x804bc56
    v11 = 0;
    if (v21 >= 0 == (v21 != 0)) {
        goto lab_0x804bc72;
    } else {
        // 0x804bc5f
        print_trailing_info(gf);
        v11 = 0;
        goto lab_0x804bc72;
    }
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/main.c
// Address range: 0x804bc85 - 0x804bcf1
// Line range:    575 - 588
void brhist_init_package(int32_t * gf) {
    // 0x804bc85
    if (g44 == 0) {
        // 0x804bcd0
        brhist_init(gf, 128, 128);
        // 0x804bceb
        return;
    }
    int32_t v1 = (int32_t)gf;
    int32_t v2 = function_804a24c(v1); // 0x804bc9b
    int32_t v3 = function_804a28c(v1); // 0x804bca8
    if (brhist_init(gf, v3, v2) != 0) {
        // 0x804bcc4
        g44 = 0;
    }
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/main.c
// Address range: 0x804bcf1 - 0x804bfa5
// Line range:    594 - 662
void parse_nogap_filenames(int32_t nogapout, char * inPath, char * outPath, char * outdir) {
    // 0x804bcf1
    strcpy(outPath, outdir);
    if (nogapout == 0) {
        // 0x804bd13
        strncpy(outPath, inPath, 4093);
        int32_t len = strlen(outPath); // 0x804bd33
        int32_t v1 = (int32_t)outPath;
        int32_t v2 = len + v1;
        char * v3 = (char *)(v2 - 3); // 0x804bd44
        if (*v3 == 119) {
            int32_t v4 = len - 2; // 0x804bd4e
            if (*(char *)(v4 + v1) == 97) {
                int32_t v5 = len - 1; // 0x804bd5e
                if (*(char *)(v5 + v1) == 118) {
                    // 0x804bd6b
                    if (*(char *)(v2 - 4) == 46) {
                        // 0x804bd7b
                        *v3 = 109;
                        *(char *)(v4 + (int32_t)outPath) = 112;
                        *(char *)(v5 + (int32_t)outPath) = 51;
                        // 0x804bfa3
                        return;
                    }
                }
            }
        }
        // 0x804bda5
        *(char *)v2 = 46;
        *(char *)(len + 1 + (int32_t)outPath) = 109;
        *(char *)(len + 2 + (int32_t)outPath) = 112;
        *(char *)(len + 3 + (int32_t)outPath) = 51;
        *(char *)(len + 4 + (int32_t)outPath) = 0;
        // 0x804bfa3
        return;
    }
    int32_t v6 = (int32_t)inPath + 4093; // 0x804bdf3
    char * v7; // 0x804bcf1
    int32_t v8; // 0x804bcf1
    while (true) {
      lab_0x804bdf9:
        // 0x804bdf9
        v8 = v6;
        v7 = (char *)v8;
        char v9 = *v7; // 0x804bdfc
        switch (v9) {
            case 47: {
                goto lab_0x804be1f;
            }
            case 92: {
                goto lab_0x804be1f;
            }
            default: {
                if (v7 != inPath != v9 != 58) {
                    // break -> 0x804be1f
                    break;
                }
                // 0x804bdf5
                v6 = v8 - 1;
                goto lab_0x804bdf9;
            }
        }
    }
  lab_0x804be1f:;
    int32_t len2 = strlen(outPath);
    int32_t v10 = (int32_t)outPath;
    char v11 = *(char *)(len2 - 1 + v10);
    int32_t v12; // 0x804bcf1
    int32_t str; // 0x804bcf1
    char * str2; // 0x804bcf1
    if (v7 == inPath) {
        // 0x804be7d
        str = v10;
        str2 = inPath;
        if (v11 != 47) {
            int32_t len3 = strlen(outPath); // 0x804be9b
            int32_t v13 = (int32_t)outPath;
            str = v13;
            str2 = inPath;
            if (*(char *)(len3 - 1 + v13) != 92) {
                int32_t len4 = strlen(outPath); // 0x804beb3
                int32_t v14 = (int32_t)outPath;
                str = v14;
                str2 = inPath;
                if (*(char *)(len4 - 1 + v14) != 58) {
                    // 0x804bec5
                    strcat(outPath, "/");
                    str = (int32_t)outPath;
                    str2 = inPath;
                }
            }
        }
        goto lab_0x804bed9;
    } else {
        // 0x804be27
        v12 = v10;
        if (v11 == 47) {
            goto lab_0x804be6f;
        } else {
            int32_t len5 = strlen(outPath); // 0x804be45
            int32_t v15 = (int32_t)outPath;
            v12 = v15;
            if (*(char *)(len5 - 1 + v15) == 92) {
                goto lab_0x804be6f;
            } else {
                int32_t len6 = strlen(outPath); // 0x804be5d
                int32_t v16 = (int32_t)outPath;
                v12 = v16;
                str = v16;
                str2 = v7;
                if (*(char *)(len6 - 1 + v16) != 58) {
                    goto lab_0x804bed9;
                } else {
                    goto lab_0x804be6f;
                }
            }
        }
    }
  lab_0x804bed9:
    // 0x804bed9
    strncat((char *)str, str2, 4093);
    int32_t len7 = strlen(outPath); // 0x804bef9
    int32_t v17 = (int32_t)outPath;
    int32_t v18 = len7 + v17;
    char * v19 = (char *)(v18 - 3); // 0x804bf0a
    if (*v19 == 119) {
        int32_t v20 = len7 - 2; // 0x804bf14
        if (*(char *)(v20 + v17) == 97) {
            int32_t v21 = len7 - 1; // 0x804bf24
            if (*(char *)(v21 + v17) == 118) {
                // 0x804bf31
                if (*(char *)(v18 - 4) == 46) {
                    // 0x804bf41
                    *v19 = 109;
                    *(char *)(v20 + (int32_t)outPath) = 112;
                    *(char *)(v21 + (int32_t)outPath) = 51;
                    // 0x804bfa3
                    return;
                }
            }
        }
    }
    // 0x804bf67
    *(char *)v18 = 46;
    *(char *)(len7 + 1 + (int32_t)outPath) = 109;
    *(char *)(len7 + 2 + (int32_t)outPath) = 112;
    *(char *)(len7 + 3 + (int32_t)outPath) = 51;
    *(char *)(len7 + 4 + (int32_t)outPath) = 0;
  lab_0x804be6f:
    // 0x804be6f
    str = v12;
    str2 = (char *)(v8 + 1);
    goto lab_0x804bed9;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/main.c
// Address range: 0x804bfa5 - 0x804c6be
// Line range:    675 - 864
int main(int argc, char ** argv) {
    char inPath[4097]; // bp-12327, 0x804bfa5
    char * nogap_inPath[200]; // bp-13164, 0x804bfa5
    char nogap_inPath_[200][4097]; // bp-832564, 0x804bfa5
    char nogapdir[4097]; // bp-8230, 0x804bfa5
    char outPath[4097]; // bp-4133, 0x804bfa5
    int32_t v1 = __readgsdword(20); // 0x804bfb9
    int32_t enc_delay = -1; // bp-12340, 0x804bfc8
    int32_t enc_padding = -1; // bp-12344, 0x804bfd3
    int32_t max_nogap = 200; // bp-12352, 0x804bfe9
    struct _IO_FILE * v2 = (struct _IO_FILE *)&nogap_inPath_; // bp-832624, 0x804c008
    memset((int32_t *)&nogap_inPath_, 0, 0xc80c8);
    int32_t v3 = (int32_t)&nogap_inPath_; // 0x804c024
    int32_t v4 = (int32_t)&v2 + 0xc8104;
    int32_t v5 = 0;
    *(int32_t *)(4 * v5 + v4) = 0x1001 * v5 + v3;
    int32_t v6 = v5 + 1; // 0x804c040
    while (v6 != 200) {
        // 0x804c01d
        v5 = v6;
        *(int32_t *)(4 * v5 + v4) = 0x1001 * v5 + v3;
        v6 = v5 + 1;
    }
    // 0x804c055
    v2 = (struct _IO_FILE *)&inPath;
    memset((int32_t *)&inPath, 0, 0x1001);
    frontend_open_console();
    input_format = 0;
    int32_t v7 = function_804a9cc(); // 0x804c083
    int32_t v8; // 0x804bfa5
    if (v7 != 0) {
        struct _IO_FILE * v9 = (struct _IO_FILE *)v7;
        v2 = v9;
        function_804a44c(v7, 0x804cb0d);
        v2 = v9;
        function_804a21c(v7, 0x804cac7);
        v2 = v9;
        function_804a6bc(v7, 0x804caea);
        if (argc > 1) {
            int32_t * v10 = (int32_t *)v7; // 0x804c088
            v2 = (struct _IO_FILE *)"LAMEOPT";
            char * env_val = getenv("LAMEOPT"); // 0x804c13b
            v2 = v9;
            parse_args_from_string(v10, env_val, inPath, outPath);
            v2 = v9;
            int32_t v11 = parse_args(v10, argc, argv, inPath, outPath, nogap_inPath, &max_nogap); // 0x804c1ae
            if (v11 >= 0) {
                // 0x804c1eb
                int3_t v12; // 0x804bfa5
                int3_t v13 = v12 - 1; // 0x804c1eb
                __frontend_reg_store_fpr(v13, (float80_t)update_interval);
                int3_t v14 = v12 - 2; // 0x804c1f1
                __frontend_reg_store_fpr(v14, 0.0L);
                float80_t v15 = __frontend_reg_load_fpr(v14); // 0x804c1f3
                float80_t v16 = __frontend_reg_load_fpr(v13); // 0x804c1f3
                bool v17 = false; // 0x804c1f3
                bool v18 = false; // 0x804c1f3
                if (v15 <= v16) {
                    v17 = true;
                    v18 = false;
                    if (v15 >= v16) {
                        v17 = v15 != v16;
                        v18 = true;
                    }
                }
                __frontend_reg_store_fpr(v13, __frontend_reg_load_fpr(v13));
                if (!v17 && !v18) {
                    // 0x804c1fe
                    update_interval = 2.0f;
                }
                int32_t v19 = 0; // 0x804c212
                if (outPath[0] != 0 && max_nogap >= 1) {
                    // 0x804c21f
                    v2 = (struct _IO_FILE *)&nogapdir;
                    strncpy(nogapdir, outPath, 0x1001);
                    v19 = 1;
                }
                // 0x804c24c
                struct _IO_FILE * file; // 0x804bfa5
                if (max_nogap < 1) {
                    // 0x804c2cb
                    v2 = v9;
                    struct _IO_FILE * v20 = init_files(v10, inPath, outPath, &enc_delay, &enc_padding); // 0x804c301
                    file = v20;
                } else {
                    int32_t v21 = *(int32_t *)&nogap_inPath; // 0x804c257
                    v2 = (struct _IO_FILE *)v19;
                    parse_nogap_filenames(v19, (char *)v21, outPath, nogapdir);
                    int32_t v22 = *(int32_t *)&nogap_inPath; // 0x804c287
                    v2 = v9;
                    struct _IO_FILE * v23 = init_files(v10, (char *)v22, outPath, &enc_delay, &enc_padding); // 0x804c2bd
                    file = v23;
                }
                // 0x804c30d
                v2 = v9;
                if (file != NULL) {
                    // 0x804c335
                    function_804a2ac(v7, 0);
                    v2 = v9;
                    int32_t v24 = function_804a7cc(v7); // 0x804c356
                    if (v24 >= 0) {
                        // 0x804c3af
                        if (silent >= 1) {
                            // 0x804c3b8
                            g44 = 0;
                        }
                        // 0x804c3c2
                        v2 = v9;
                        int32_t v25; // 0x804bfa5
                        if (function_804a30c(v7) == 0) {
                            // 0x804c489
                            if (max_nogap < 1) {
                                // 0x804c621
                                v2 = v9;
                                brhist_init_package(v10);
                                v2 = v9;
                                int32_t v26 = lame_encoder(v10, file, 0, inPath, outPath); // 0x804c663
                                v2 = file;
                                fclose(file);
                                close_infile();
                                v25 = v26;
                            } else {
                                int32_t v27 = 0; // 0x804c603
                                int32_t * v28 = (int32_t *)(4 * v27 + v4);
                                int32_t * v29 = &file->e0; // 0x804c4ce
                                int32_t v30; // 0x804c4db
                                int32_t v31; // 0x804c512
                                struct _IO_FILE * v32; // 0x804c548
                                if (v27 != 0) {
                                    // 0x804c4d4
                                    v30 = *v28;
                                    v2 = (struct _IO_FILE *)v19;
                                    parse_nogap_filenames(v19, (char *)v30, outPath, nogapdir);
                                    v31 = *v28;
                                    v2 = v9;
                                    v32 = init_files(v10, (char *)v31, outPath, &enc_delay, &enc_padding);
                                    v2 = v9;
                                    function_804a45c(v7);
                                    v29 = &v32->e0;
                                }
                                int32_t * file2 = v29;
                                v2 = v9;
                                brhist_init_package(v10);
                                v2 = v9;
                                function_804a3cc(v7, max_nogap);
                                v2 = v9;
                                function_804a4fc(v7, v27);
                                int32_t v33 = *v28; // 0x804c5ad
                                v2 = v9;
                                int32_t v34 = lame_encoder(v10, (struct _IO_FILE *)file2, (int32_t)(max_nogap - 1 != v27), (char *)v33, outPath); // 0x804c5e3
                                v2 = (struct _IO_FILE *)file2;
                                fclose((struct _IO_FILE *)file2);
                                close_infile();
                                v27++;
                                int32_t v35 = max_nogap; // 0x804c60b
                                v25 = v34;
                                while (v27 < v35) {
                                    // 0x804c4a8
                                    v28 = (int32_t *)(4 * v27 + v4);
                                    v29 = file2;
                                    if (v27 != 0) {
                                        // 0x804c4d4
                                        v30 = *v28;
                                        v2 = (struct _IO_FILE *)v19;
                                        parse_nogap_filenames(v19, (char *)v30, outPath, nogapdir);
                                        v31 = *v28;
                                        v2 = v9;
                                        v32 = init_files(v10, (char *)v31, outPath, &enc_delay, &enc_padding);
                                        v2 = v9;
                                        function_804a45c(v7);
                                        v29 = &v32->e0;
                                    }
                                    // 0x804c563
                                    file2 = v29;
                                    v2 = v9;
                                    brhist_init_package(v10);
                                    v2 = v9;
                                    function_804a3cc(v7, max_nogap);
                                    v2 = v9;
                                    function_804a4fc(v7, v27);
                                    v33 = *v28;
                                    v2 = v9;
                                    v34 = lame_encoder(v10, (struct _IO_FILE *)file2, (int32_t)(v35 - 1 != v27), (char *)v33, outPath);
                                    v2 = (struct _IO_FILE *)file2;
                                    fclose((struct _IO_FILE *)file2);
                                    close_infile();
                                    v27++;
                                    v35 = max_nogap;
                                    v25 = v34;
                                }
                            }
                        } else {
                            // 0x804c3d9
                            if (mp3_delay_set == 0) {
                                // 0x804c436
                                v2 = v9;
                                lame_decoder(v10, file, 0, inPath, outPath, &enc_delay, &enc_padding);
                                v25 = v11;
                            } else {
                                // 0x804c3e2
                                v2 = v9;
                                lame_decoder(v10, file, mp3_delay, inPath, outPath, &enc_delay, &enc_padding);
                                v25 = v11;
                            }
                        }
                        // 0x804c683
                        v2 = v9;
                        function_804a3bc(v7);
                        frontend_close_console();
                        v8 = v25;
                    } else {
                        if (v24 == -1) {
                            struct _IO_FILE * v36 = (struct _IO_FILE *)g13; // 0x804c37b
                            v2 = v36;
                            display_bitrates(v36);
                        }
                        // 0x804c383
                        v2 = (struct _IO_FILE *)"fatal error during initialization\n";
                        error_printf("fatal error during initialization\n");
                        v2 = v9;
                        function_804a3bc(v7);
                        frontend_close_console();
                        v8 = v24;
                    }
                } else {
                    // 0x804c317
                    function_804a3bc(v7);
                    frontend_close_console();
                    v8 = -1;
                }
            } else {
                // 0x804c1c4
                v2 = v9;
                function_804a3bc(v7);
                frontend_close_console();
                v8 = v11 != -2;
            }
        } else {
            struct _IO_FILE * v37 = (struct _IO_FILE *)g13; // 0x804c10e
            v2 = v37;
            usage(v37, *argv);
            v2 = v9;
            function_804a3bc(v7);
            frontend_close_console();
            v8 = 1;
        }
    } else {
        // 0x804c099
        v2 = (struct _IO_FILE *)"fatal error during initialization\n";
        error_printf("fatal error during initialization\n");
        frontend_close_console();
        v8 = 1;
    }
    int32_t result = v8; // 0x804c6ac
    if (v1 != __readgsdword(20)) {
        // 0x804c6ae
        __stack_chk_fail();
        result = &g57;
    }
    // 0x804c6b3
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/console.c
// Address range: 0x804c6c0 - 0x804c6ee
// Line range:    49 - 54
int32_t my_console_printing(struct _IO_FILE * fp, char * format, char * ap) {
    int32_t chars_printed = 0; // 0x804c6ca
    if (fp != NULL) {
        // 0x804c6cc
        chars_printed = vfprintf(fp, format, (int32_t)ap);
    }
    // 0x804c6ec
    return chars_printed;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/console.c
// Address range: 0x804c74a - 0x804c978
// Line range:    85 - 144
void apply_termcap_settings(int32_t * mfp) {
    int32_t v1 = __readgsdword(20); // 0x804c75c
    char * env_val = getenv("TERM"); // 0x804c76e
    if (env_val != NULL) {
        // 0x804c786
        int32_t v2; // bp-2074, 0x804c74a
        if (function_804a3dc(&v2, (int32_t)env_val) == 1) {
            int32_t v3 = (int32_t)mfp;
            int32_t v4 = function_804a79c("co"); // 0x804c7ae
            if (v4 >= 40 && (char *)v4 <= (char *)512) {
                // 0x804c7ce
                *(int32_t *)(v3 + 20) = v4;
            }
            int32_t v5 = function_804a79c("li"); // 0x804c7e4
            if (v5 >= 16 && (char *)v5 <= (char *)256) {
                // 0x804c804
                *(int32_t *)(v3 + 24) = v5;
            }
            // 0x804c813
            int32_t v6; // bp-26, 0x804c74a
            char * term_name = (char *)&v6; // bp-2084, 0x804c816
            *(char *)&v6 = 0;
            int32_t v7 = function_804a97c("up", &term_name); // 0x804c836
            char * str = (char *)v7; // 0x804c83b
            term_name = str;
            if (v7 != 0) {
                // 0x804c84b
                strcpy((char *)(v3 + 28), str);
            }
            // 0x804c866
            term_name = (char *)&v6;
            *(char *)&v6 = 0;
            int32_t v8 = function_804a97c("ce", &term_name); // 0x804c889
            char * str2 = (char *)v8; // 0x804c88e
            term_name = str2;
            if (v8 != 0) {
                // 0x804c89e
                strcpy((char *)(v3 + 38), str2);
            }
            // 0x804c8b9
            term_name = (char *)&v6;
            *(char *)&v6 = 0;
            int32_t v9 = function_804a97c("md", &term_name); // 0x804c8dc
            char * str3 = (char *)v9; // 0x804c8e1
            term_name = str3;
            if (v9 != 0) {
                // 0x804c8f1
                strcpy((char *)(v3 + 48), str3);
            }
            // 0x804c90c
            term_name = (char *)&v6;
            *(char *)&v6 = 0;
            int32_t v10 = function_804a97c("me", &term_name); // 0x804c92f
            char * str4 = (char *)v10; // 0x804c934
            term_name = str4;
            if (v10 != 0) {
                // 0x804c944
                strcpy((char *)(v3 + 58), str4);
            }
        }
    }
    // 0x804c965
    if (v1 != __readgsdword(20)) {
        // 0x804c971
        __stack_chk_fail();
    }
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/console.c
// Address range: 0x804c978 - 0x804ca23
// Line range:    148 - 179
int32_t init_console(int32_t * mfp) {
    int32_t v1 = (int32_t)mfp;
    *(int32_t *)(v1 + 20) = 80;
    *(int32_t *)(v1 + 24) = 25;
    int32_t * stream = (int32_t *)(v1 + 8); // 0x804c99b
    *stream = g13;
    *(int32_t *)(v1 + 12) = g13;
    *(int32_t *)(v1 + 16) = 0;
    setvbuf((struct _IO_FILE *)*stream, (char *)(v1 + 68), 0, 2048);
    memcpy((int32_t *)(v1 + 28), &g4, 4);
    apply_termcap_settings(mfp);
    *mfp = 0x434f4e53;
    *(int32_t *)(v1 + 2116) = 0;
    return 0;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/console.c
// Address range: 0x804ca23 - 0x804ca9f
// Line range:    182 - 192
void deinit_console(int32_t * mfp) {
    int32_t v1 = (int32_t)mfp;
    int32_t * v2 = (int32_t *)(v1 + 16); // 0x804ca2c
    int32_t file = *v2; // 0x804ca2c
    if (file != 0) {
        // 0x804ca33
        fclose((struct _IO_FILE *)file);
        *v2 = 0;
    }
    int32_t * stream = (int32_t *)(v1 + 8); // 0x804ca4e
    fflush((struct _IO_FILE *)*stream);
    setvbuf((struct _IO_FILE *)*stream, NULL, 2, 0);
    memset(&((struct _IO_FILE *)(v1 + 68))->e0, 85, 1024);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/console.c
// Address range: 0x804ca9f - 0x804cab3
// Line range:    200 - 203
int32_t frontend_open_console(void) {
    // 0x804ca9f
    return init_console(&Console_IO);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/console.c
// Address range: 0x804cab3 - 0x804cac7
// Line range:    206 - 209
void frontend_close_console(void) {
    // 0x804cab3
    deinit_console(&Console_IO);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/console.c
// Address range: 0x804cb30 - 0x804cb5f
// Line range:    230 - 240
int32_t console_printf(char * format, ...) {
    // 0x804cb30
    int32_t v1; // 0x804cb30
    return my_console_printing(g39, format, (char *)&v1);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/console.c
// Address range: 0x804cb5f - 0x804cb8e
// Line range:    243 - 253
int32_t error_printf(char * format, ...) {
    // 0x804cb5f
    int32_t v1; // 0x804cb5f
    return my_console_printing(g40, format, (char *)&v1);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/console.c
// Address range: 0x804cbbd - 0x804cbd2
// Line range:    269 - 272
void console_flush(void) {
    // 0x804cbbd
    fflush(g39);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/console.c
// Address range: 0x804cbfc - 0x804cc31
// Line range:    287 - 305
void console_up(int32_t n_lines) {
    int32_t v1 = n_lines; // 0x804cc28
    if (n_lines >= 0 != n_lines != 0) {
        // 0x804cc2a
        console_flush();
        return;
    }
    v1--;
    fputs((char *)&g42, g39);
    while (v1 >= 0 == (v1 != 0)) {
        // 0x804cc04
        v1--;
        fputs((char *)&g42, g39);
    }
    // 0x804cc2a
    console_flush();
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804cc8c - 0x804cca1
// Line range:    111 - 117
int32_t min_size_t(uint32_t a, uint32_t b) {
    // 0x804cc8c
    return a >= b ? b : a;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804ccbe - 0x804ce8d
// Line range:    134 - 201
int32_t fskip(struct _IO_FILE * fp, int32_t offset, int32_t whence) {
    char buffer[4096]; // bp-4116, 0x804ccbe
    char buffer2[4096]; // bp-4120, 0x804ccbe
    char v1[4096]; // 0x804cd4e
    char v2[4096]; // 0x804cce9
    int32_t v3 = __readgsdword(20); // 0x804ccd0
    int32_t v4 = fileno(fp); // 0x804cce4
    v2[0] = v4;
    buffer = v2;
    int32_t v5; // 0x804ccbe
    int32_t data; // bp-4112, 0x804ccbe
    int32_t v6; // bp-4228, 0x804ccbe
    if (fstat64(*(int32_t *)&buffer, &v6) != 0) {
        goto lab_0x804cdb3;
    } else {
        int32_t v7; // 0x804ccbe
        if ((v7 & 0xf000) != 0x1000) {
            goto lab_0x804cdb3;
        } else {
            // 0x804cd25
            v5 = -1;
            if (whence == 1 == offset >= 0) {
                // 0x804cda3
                v5 = 0;
                if (offset != 0) {
                    int32_t v8 = offset; // 0x804cd9a
                    int32_t v9 = min_size_t(0x1000, v8); // 0x804cd49
                    v1[0] = v9;
                    buffer2 = v1;
                    int32_t items_read = fread(&data, 1, *(int32_t *)&buffer2, fp); // 0x804cd79
                    v5 = -1;
                    while (items_read != 0) {
                        // 0x804cda3
                        v8 -= items_read;
                        v5 = 0;
                        if (v8 >= 0 != v8 != 0) {
                            // break -> 0x804ce7a
                            break;
                        }
                        v9 = min_size_t(0x1000, v8);
                        v1[0] = v9;
                        buffer2 = v1;
                        items_read = fread(&data, 1, *(int32_t *)&buffer2, fp);
                        v5 = -1;
                    }
                }
            }
            goto lab_0x804ce7a;
        }
    }
  lab_0x804cdb3:
    // 0x804cdb3
    v5 = 0;
    if (fseek(fp, offset, whence) != 0) {
        if (whence == 1 == offset >= 0) {
            int32_t v10 = offset; // 0x804ce73
            v5 = 0;
            if (offset != 0) {
                int32_t items_read2 = fread(&data, 1, min_size_t(0x1000, v10), fp); // 0x804ce48
                v5 = -1;
                while (items_read2 != 0) {
                    int32_t v11 = v10 - items_read2; // 0x804ce66
                    v10 = v11;
                    v5 = 0;
                    if (v11 >= 0 != v11 != 0) {
                        // break -> 0x804ce7a
                        break;
                    }
                    items_read2 = fread(&data, 1, min_size_t(0x1000, v10), fp);
                    v5 = -1;
                }
            }
        } else {
            // 0x804cded
            v5 = -1;
            if (silent <= 9) {
                // 0x804cdf7
                error_printf("fskip problem: Mostly the return status of functions is not evaluate so it is more secure to polute <stderr>.\n");
                v5 = -1;
            }
        }
    }
    goto lab_0x804ce7a;
  lab_0x804ce7a:;
    int32_t result = v5; // 0x804ce84
    if (v3 != __readgsdword(20)) {
        // 0x804ce86
        __stack_chk_fail();
        result = &g57;
    }
    // 0x804ce8b
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804ce8d - 0x804cee8
// Line range:    205 - 236
struct _IO_FILE * init_outfile(char * outPath, int32_t decode) {
    // 0x804ce8d
    struct _IO_FILE * result; // 0x804ce8d
    if (strcmp(outPath, "-") != 0) {
        struct _IO_FILE * v1 = fopen64(outPath, "w+b"); // 0x804cece
        result = v1;
        if (v1 == NULL) {
            // 0x804cee6
            return NULL;
        }
    } else {
        // 0x804ceaa
        lame_set_stream_binary_mode(g15);
        result = g15;
    }
    // 0x804cee6
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804cee8 - 0x804cf50
// Line range:    244 - 253
void init_infile(int32_t * gfp, char * inPath, int32_t * enc_delay, int32_t * enc_padding) {
    // 0x804cee8
    global = 0;
    g19 = 0;
    g16 = in_bitwidth;
    g17 = swapbytes;
    g18 = in_signed != 1;
    g20 = OpenSndFile(gfp, inPath, enc_delay, enc_padding);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804cf50 - 0x804cf6f
// Line range:    256 - 259
void close_infile(void) {
    // 0x804cf50
    CloseSndFile(input_format, g20);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804cff1 - 0x804d013
// Line range:    330 - 333
int32_t get_audio(int32_t * gfp, int32_t (*buffer)[1152]) {
    // 0x804cff1
    return get_audio_common(gfp, buffer, NULL);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804d013 - 0x804d035
// Line range:    340 - 343
int32_t get_audio16(int32_t * gfp, int16_t (*buffer)[1152]) {
    // 0x804d013
    return get_audio_common(gfp, NULL, buffer);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804d035 - 0x804d384
// Line range:    355 - 469
int32_t get_audio_common(int32_t * gfp, int32_t (*buffer)[1152], int16_t (*buffer16)[1152]) {
    int32_t v1 = (int32_t)gfp;
    uint32_t v2 = function_804a75c(v1); // 0x804d044
    int32_t v3 = function_804a5fc(v1); // 0x804d052
    uint32_t v4 = function_804a20c(v1); // 0x804d066
    int32_t v5 = v3; // 0x804d075
    if (global != 0) {
        uint32_t v6 = g19; // 0x804d077
        uint32_t v7 = v4 - (v6 > v4 ? v4 : v6); // 0x804d08a
        v5 = v4 == 0 | v3 <= v7 ? v3 : v7;
    }
    // 0x804d0a5
    int32_t result3; // 0x804d035
    if (is_mpeg_file_format(input_format) == 0) {
        // 0x804d10f
        int32_t v8; // bp-13868, 0x804d035
        int32_t result = read_samples_pcm(g20, &v8, v5 * v2); // 0x804d12e
        if (result < 0) {
            // 0x804d382
            return result;
        }
        int32_t v9 = 4 * result + (int32_t)&v8; // 0x804d154
        int32_t v10 = (0x100000000 * (int64_t)(result >> 31) | (int64_t)result) / (int64_t)v2; // 0x804d161
        if (buffer == NULL) {
            if (v2 != 2) {
                // 0x804d25f
                result3 = v10;
                if (v2 == 1) {
                    int32_t v11 = (int32_t)buffer16; // 0x804d26b
                    memset((int32_t *)(v11 + 2304), 0, 2 * v10);
                    int32_t v12 = v10 - 1; // 0x804d2a7
                    result3 = v10;
                    if (v12 >= 0) {
                        int32_t v13 = v9 - 4; // 0x804d292
                        *(int16_t *)(2 * v12 + v11) = (int16_t)(*(int32_t *)v13 / 0x10000);
                        int32_t v14 = v12 - 1; // 0x804d2a7
                        int32_t v15 = v14; // 0x804d2af
                        int32_t v16 = v13; // 0x804d2af
                        result3 = v10;
                        while (v14 >= 0) {
                            // 0x804d28f
                            v13 = v16 - 4;
                            *(int16_t *)(2 * v15 + v11) = (int16_t)(*(int32_t *)v13 / 0x10000);
                            v14 = v15 - 1;
                            v15 = v14;
                            v16 = v13;
                            result3 = v10;
                        }
                    }
                }
            } else {
                int32_t v17 = v10 - 1; // 0x804d253
                result3 = v10;
                if (v17 >= 0) {
                    int32_t v18 = v17; // 0x804d253
                    int32_t v19 = v9; // 0x804d23e
                    int32_t v20 = 2 * v18 + (int32_t)buffer16;
                    *(int16_t *)(v20 + 2304) = (int16_t)(*(int32_t *)(v19 - 4) / 0x10000);
                    v19 -= 8;
                    *(int16_t *)v20 = (int16_t)(*(int32_t *)v19 / 0x10000);
                    v18--;
                    result3 = v10;
                    while (v18 >= 0) {
                        // 0x804d21f
                        v20 = 2 * v18 + (int32_t)buffer16;
                        *(int16_t *)(v20 + 2304) = (int16_t)(*(int32_t *)(v19 - 4) / 0x10000);
                        v19 -= 8;
                        *(int16_t *)v20 = (int16_t)(*(int32_t *)v19 / 0x10000);
                        v18--;
                        result3 = v10;
                    }
                }
            }
        } else {
            if (v2 != 2) {
                // 0x804d1b8
                result3 = v10;
                if (v2 == 1) {
                    int32_t v21 = (int32_t)buffer; // 0x804d1cc
                    memset((int32_t *)(v21 + 0x1200), 0, 4 * v10);
                    int32_t v22 = v10 - 1; // 0x804d202
                    result3 = v10;
                    if (v22 >= 0) {
                        int32_t v23 = v9 - 4; // 0x804d1f3
                        *(int32_t *)(4 * v22 + v21) = *(int32_t *)v23;
                        int32_t v24 = v22 - 1; // 0x804d202
                        int32_t v25 = v24; // 0x804d20a
                        int32_t v26 = v23; // 0x804d20a
                        result3 = v10;
                        while (v24 >= 0) {
                            // 0x804d1f0
                            v23 = v26 - 4;
                            *(int32_t *)(4 * v25 + v21) = *(int32_t *)v23;
                            v24 = v25 - 1;
                            v25 = v24;
                            v26 = v23;
                            result3 = v10;
                        }
                    }
                }
            } else {
                int32_t v27 = v10 - 1; // 0x804d1a9
                result3 = v10;
                if (v27 >= 0) {
                    int32_t v28 = v27; // 0x804d1a9
                    int32_t v29 = v9; // 0x804d19a
                    int32_t v30 = 4 * v28 + (int32_t)buffer;
                    *(int32_t *)(v30 + 0x1200) = *(int32_t *)(v29 - 4);
                    v29 -= 8;
                    *(int32_t *)v30 = *(int32_t *)v29;
                    v28--;
                    result3 = v10;
                    while (v28 >= 0) {
                        // 0x804d17f
                        v30 = 4 * v28 + (int32_t)buffer;
                        *(int32_t *)(v30 + 0x1200) = *(int32_t *)(v29 - 4);
                        v29 -= 8;
                        *(int32_t *)v30 = *(int32_t *)v29;
                        v28--;
                        result3 = v10;
                    }
                }
            }
        }
    } else {
        // 0x804d0b6
        int32_t result2; // 0x804d035
        if (buffer == NULL) {
            // 0x804d0df
            result2 = read_samples_mp3(gfp, g20, buffer16);
        } else {
            // 0x804d0bc
            int32_t v31; // bp-4652, 0x804d035
            result2 = read_samples_mp3(gfp, g20, (int16_t (*)[1152])&v31);
        }
        // 0x804d0fd
        result3 = result2;
        if (result2 < 0) {
            // 0x804d382
            return result2;
        }
    }
    // 0x804d2b1
    if (!((buffer == NULL | is_mpeg_file_format(input_format) == 0))) {
        // 0x804d2f2
        int32_t v32; // bp-4, 0x804d035
        int32_t v33 = &v32; // 0x804d036
        int32_t v34 = result3 - 1;
        if (v34 >= 0) {
            for (int32_t i = v34; i >= 0; i--) {
                uint16_t v35 = *(int16_t *)(v33 - 0x1228 + 2 * i); // 0x804d2de
                *(int32_t *)(4 * i + (int32_t)buffer) = 0x10000 * (int32_t)v35;
            }
        }
        if (v2 != 2) {
            if (v2 == 1) {
                // 0x804d342
                memset((int32_t *)((int32_t)buffer + 0x1200), 0, 4 * result3);
            }
        } else {
            if (v34 >= 0) {
                for (int32_t i = v34; i >= 0; i--) {
                    uint16_t v36 = *(int16_t *)(v33 - 2344 + 2 * i); // 0x804d31f
                    *(int32_t *)((int32_t)buffer + 0x1200 + 4 * i) = 0x10000 * (int32_t)v36;
                }
            }
        }
    }
    // 0x804d368
    if (v4 != -1) {
        // 0x804d36e
        g19 += result3;
    }
    // 0x804d382
    return result3;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804d384 - 0x804d455
// Line range:    474 - 508
int32_t read_samples_mp3(int32_t * gfp, struct _IO_FILE * musicin, int16_t (*mpg123pcm)[1152]) {
    int32_t v1 = lame_decode_fromfile(musicin, mpg123pcm, (int16_t *)((int32_t)mpg123pcm + 2304), &mp3input_data); // 0x804d3ac
    if (v1 < 0) {
        // 0x804d3ba
        memset((int32_t *)mpg123pcm, 0, 0x1200);
        // 0x804d453
        return 0;
    }
    int32_t v2 = (int32_t)gfp;
    int32_t result = v1; // 0x804d3ef
    if (function_804a75c(v2) != g45) {
        // 0x804d3f1
        result = -1;
        if (silent <= 9) {
            // 0x804d3fb
            error_printf("Error: number of channels has changed in %s - not supported\n", "MP3 file");
            result = -1;
        }
    }
    // 0x804d416
    if (function_804a06c(v2) == g46) {
        // 0x804d453
        return result;
    }
    // 0x804d42b
    if (silent <= 9) {
        // 0x804d435
        error_printf("Error: sample frequency has changed in %s - not supported\n", "MP3 file");
    }
    // 0x804d453
    return -1;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804d455 - 0x804d5a8
// Line range:    512 - 532
int32_t WriteWaveHeader(struct _IO_FILE * fp, int32_t pcmbytes, int32_t freq, int32_t channels, int32_t bits) {
    // 0x804d455
    fwrite((int32_t *)"RIFF", 1, 4, fp);
    Write32BitsLowHigh(fp, pcmbytes + 36);
    fwrite((int32_t *)"WAVEfmt ", 2, 4, fp);
    Write32BitsLowHigh(fp, 16);
    Write16BitsLowHigh(fp, 1);
    Write16BitsLowHigh(fp, channels);
    Write32BitsLowHigh(fp, freq);
    int32_t v1 = bits / 0x4000 * channels;
    Write32BitsLowHigh(fp, v1 * freq);
    Write16BitsLowHigh(fp, v1);
    Write16BitsLowHigh(fp, bits);
    fwrite((int32_t *)"data", 1, 4, fp);
    Write32BitsLowHigh(fp, pcmbytes);
    return ferror(fp) != 0;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804d5a8 - 0x804d9ab
// Line range:    923 - 965
int32_t unpack_read_samples(int32_t samples_to_read, int32_t bytes_per_sample, int32_t swap_order, int32_t * sample_buffer, struct _IO_FILE * pcm_in) {
    int32_t v1 = (int32_t)sample_buffer;
    int32_t items_read = fread(sample_buffer, bytes_per_sample, samples_to_read, pcm_in); // 0x804d5d8
    int32_t v2 = 4 * items_read + v1; // 0x804d5e6
    if (swap_order == 0) {
        int32_t v3 = v2; // 0x804d5fa
        if (bytes_per_sample == 1) {
            int32_t v4 = items_read * bytes_per_sample - bytes_per_sample; // 0x804d62a
            v3 = v2;
            if (v4 >= 0) {
                int32_t v5 = v2 - 4; // 0x804d608
                *(int32_t *)v5 = 0x1000000 * (int32_t)*(char *)(v4 + v1);
                int32_t v6 = v4 - bytes_per_sample; // 0x804d62a
                int32_t v7 = v6; // 0x804d631
                int32_t v8 = v5; // 0x804d631
                v3 = v5;
                while (v6 >= 0) {
                    // 0x804d608
                    v5 = v8 - 4;
                    *(int32_t *)v5 = 0x1000000 * (int32_t)*(char *)(v7 + v1);
                    v6 = v7 - bytes_per_sample;
                    v7 = v6;
                    v8 = v5;
                    v3 = v5;
                }
            }
        }
        int32_t v9 = v3; // 0x804d637
        if (bytes_per_sample == 2) {
            int32_t v10 = items_read * bytes_per_sample - bytes_per_sample; // 0x804d68a
            v9 = v3;
            if (v10 >= 0) {
                int32_t v11 = v10; // 0x804d68a
                int32_t v12 = v3; // 0x804d645
                v12 -= 4;
                unsigned char v13 = *(char *)(v11 + v1); // 0x804d64f
                unsigned char v14 = *(char *)(v1 + 1 + v11); // 0x804d66a
                *(int32_t *)v12 = 0x1000000 * (int32_t)v14 | 0x10000 * (int32_t)v13;
                v11 -= bytes_per_sample;
                v9 = v12;
                while (v11 >= 0) {
                    // 0x804d645
                    v12 -= 4;
                    v13 = *(char *)(v11 + v1);
                    v14 = *(char *)(v1 + 1 + v11);
                    *(int32_t *)v12 = 0x1000000 * (int32_t)v14 | 0x10000 * (int32_t)v13;
                    v11 -= bytes_per_sample;
                    v9 = v12;
                }
            }
        }
        int32_t v15 = v9; // 0x804d697
        if (bytes_per_sample == 3) {
            int32_t v16 = items_read * bytes_per_sample - bytes_per_sample; // 0x804d709
            v15 = v9;
            if (v16 >= 0) {
                int32_t v17 = v16; // 0x804d709
                int32_t v18 = v9; // 0x804d6a5
                v18 -= 4;
                unsigned char v19 = *(char *)(v17 + v1); // 0x804d6af
                unsigned char v20 = *(char *)(v1 + 1 + v17); // 0x804d6ca
                unsigned char v21 = *(char *)(v1 + 2 + v17); // 0x804d6e9
                *(int32_t *)v18 = 0x10000 * (int32_t)v20 | 256 * (int32_t)v19 | 0x1000000 * (int32_t)v21;
                v17 -= bytes_per_sample;
                v15 = v18;
                while (v17 >= 0) {
                    // 0x804d6a5
                    v18 -= 4;
                    v19 = *(char *)(v17 + v1);
                    v20 = *(char *)(v1 + 1 + v17);
                    v21 = *(char *)(v1 + 2 + v17);
                    *(int32_t *)v18 = 0x10000 * (int32_t)v20 | 256 * (int32_t)v19 | 0x1000000 * (int32_t)v21;
                    v17 -= bytes_per_sample;
                    v15 = v18;
                }
            }
        }
        if (bytes_per_sample != 4) {
            // 0x804d9a1
            return items_read;
        }
        int32_t v22 = items_read * bytes_per_sample - bytes_per_sample; // 0x804d7ae
        if (v22 < 0) {
            // 0x804d9a1
            return items_read;
        }
        int32_t v23 = v15; // 0x804d72b
        for (int32_t i = v22; i >= 0; i += -bytes_per_sample) {
            // 0x804d72b
            v23 -= 4;
            int32_t v24 = i + v1;
            unsigned char v25 = *(char *)v24; // 0x804d735
            unsigned char v26 = *(char *)(v1 + 1 + i); // 0x804d750
            unsigned char v27 = *(char *)(v1 + 2 + i); // 0x804d76f
            unsigned char v28 = *(char *)(v24 + 3); // 0x804d78e
            *(int32_t *)v23 = 256 * (int32_t)v26 | (int32_t)v25 | 0x10000 * (int32_t)v27 | 0x1000000 * (int32_t)v28;
        }
        // 0x804d9a1
        return items_read;
    }
    int32_t v29 = v2; // 0x804d7c4
    if (bytes_per_sample == 1) {
        int32_t v30 = items_read * bytes_per_sample - bytes_per_sample; // 0x804d810
        v29 = v2;
        if (v30 >= 0) {
            int32_t v31 = v2 - 4; // 0x804d7d2
            char v32 = *(char *)(v30 + v1); // 0x804d7dc
            *(int32_t *)v31 = 0x1000000 * (int32_t)(v32 ^ -128) | 0x7f0000;
            int32_t v33 = v30 - bytes_per_sample; // 0x804d810
            int32_t v34 = v33; // 0x804d817
            int32_t v35 = v31; // 0x804d817
            v29 = v31;
            while (v33 >= 0) {
                // 0x804d7d2
                v31 = v35 - 4;
                v32 = *(char *)(v34 + v1);
                *(int32_t *)v31 = 0x1000000 * (int32_t)(v32 ^ -128) | 0x7f0000;
                v33 = v34 - bytes_per_sample;
                v34 = v33;
                v35 = v31;
                v29 = v31;
            }
        }
    }
    int32_t v36 = v29; // 0x804d81d
    if (bytes_per_sample == 2) {
        int32_t v37 = items_read * bytes_per_sample - bytes_per_sample; // 0x804d870
        v36 = v29;
        if (v37 >= 0) {
            int32_t v38 = v37; // 0x804d870
            int32_t v39 = v29; // 0x804d82b
            v39 -= 4;
            unsigned char v40 = *(char *)(v38 + v1); // 0x804d835
            unsigned char v41 = *(char *)(v1 + 1 + v38); // 0x804d850
            *(int32_t *)v39 = 0x10000 * (int32_t)v41 | 0x1000000 * (int32_t)v40;
            v38 -= bytes_per_sample;
            v36 = v39;
            while (v38 >= 0) {
                // 0x804d82b
                v39 -= 4;
                v40 = *(char *)(v38 + v1);
                v41 = *(char *)(v1 + 1 + v38);
                *(int32_t *)v39 = 0x10000 * (int32_t)v41 | 0x1000000 * (int32_t)v40;
                v38 -= bytes_per_sample;
                v36 = v39;
            }
        }
    }
    int32_t v42 = v36; // 0x804d87d
    if (bytes_per_sample == 3) {
        int32_t v43 = items_read * bytes_per_sample - bytes_per_sample; // 0x804d8ef
        v42 = v36;
        if (v43 >= 0) {
            int32_t v44 = v43; // 0x804d8ef
            int32_t v45 = v36; // 0x804d88b
            v45 -= 4;
            unsigned char v46 = *(char *)(v44 + v1); // 0x804d895
            unsigned char v47 = *(char *)(v1 + 1 + v44); // 0x804d8b0
            unsigned char v48 = *(char *)(v1 + 2 + v44); // 0x804d8cf
            *(int32_t *)v45 = 0x10000 * (int32_t)v47 | 0x1000000 * (int32_t)v46 | 256 * (int32_t)v48;
            v44 -= bytes_per_sample;
            v42 = v45;
            while (v44 >= 0) {
                // 0x804d88b
                v45 -= 4;
                v46 = *(char *)(v44 + v1);
                v47 = *(char *)(v1 + 1 + v44);
                v48 = *(char *)(v1 + 2 + v44);
                *(int32_t *)v45 = 0x10000 * (int32_t)v47 | 0x1000000 * (int32_t)v46 | 256 * (int32_t)v48;
                v44 -= bytes_per_sample;
                v42 = v45;
            }
        }
    }
    if (bytes_per_sample != 4) {
        // 0x804d9a1
        return items_read;
    }
    int32_t v49 = items_read * bytes_per_sample - bytes_per_sample; // 0x804d994
    if (v49 < 0) {
        // 0x804d9a1
        return items_read;
    }
    int32_t v50 = v42; // 0x804d911
    for (int32_t i = v49; i >= 0; i += -bytes_per_sample) {
        // 0x804d911
        v50 -= 4;
        int32_t v51 = i + v1;
        unsigned char v52 = *(char *)v51; // 0x804d91b
        unsigned char v53 = *(char *)(v1 + 1 + i); // 0x804d936
        unsigned char v54 = *(char *)(v1 + 2 + i); // 0x804d955
        unsigned char v55 = *(char *)(v51 + 3); // 0x804d974
        *(int32_t *)v50 = 0x10000 * (int32_t)v53 | 0x1000000 * (int32_t)v52 | 256 * (int32_t)v54 | (int32_t)v55;
    }
    // 0x804d9a1
    return items_read;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804d9ab - 0x804dae3
// Line range:    982 - 1030
int32_t read_samples_pcm(struct _IO_FILE * musicin, int32_t * sample_buffer, int32_t samples_to_read) {
    int32_t v1 = g16; // 0x804d9b1
    int32_t result; // 0x804d9ab
    if (v1 == 16) {
        goto lab_0x804d9dc;
    } else {
        if (v1 > 16) {
            if (v1 != 24 == (v1 != 32)) {
                goto lab_0x804da8b;
            } else {
                goto lab_0x804d9dc;
            }
        } else {
            if (v1 == 8) {
                // 0x804da5c
                result = unpack_read_samples(samples_to_read, 1, g18, sample_buffer, musicin);
                goto lab_0x804daad;
            } else {
                goto lab_0x804da8b;
            }
        }
    }
  lab_0x804d9dc:
    // 0x804d9dc
    if (in_signed == 0) {
        // 0x804d9e5
        error_printf("Unsigned input only supported with bitwidth 8\n");
        exit(1);
        // UNREACHABLE
    }
    int32_t v2 = in_endian; // 0x804d9fd
    bool v3 = g17 == 0 ? v2 != 0 : v2 == 0;
    result = unpack_read_samples(samples_to_read, v1 / 8, (int32_t)v3, sample_buffer, musicin);
    goto lab_0x804daad;
  lab_0x804daad:
    // 0x804daad
    if (ferror(musicin) == 0) {
        // 0x804dade
        return result;
    }
    // 0x804dabc
    if (silent <= 9) {
        // 0x804dac6
        error_printf("Error reading input file\n");
    }
    // 0x804dad2
    exit(1);
    // UNREACHABLE
  lab_0x804da8b:
    // 0x804da8b
    if (silent <= 9) {
        // 0x804da95
        error_printf("Only 8, 16, 24 and 32 bit input files supported \n");
    }
    // 0x804daa1
    exit(1);
    // UNREACHABLE
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804dae3 - 0x804ddd0
// Line range:    1070 - 1169
int32_t parse_wave_header(int32_t * gfp, struct _IO_FILE * sf) {
    // 0x804dae3
    Read32BitsHighLow(sf);
    int32_t v1 = 0; // 0x804db50
    if (Read32BitsHighLow(sf) != 0x57415645) {
        // 0x804ddce
        return -1;
    }
    int32_t v2 = Read32BitsHighLow(sf); // 0x804db6e
    int32_t v3; // 0x804dae3
    int32_t v4; // 0x804dae3
    int32_t v5; // 0x804dae3
    uint32_t v6; // 0x804dae3
    int32_t v7; // 0x804dae3
    int32_t v8; // 0x804dae3
    int32_t v9; // 0x804dae3
    int32_t v10; // 0x804dae3
    int32_t v11; // 0x804dc02
    int32_t v12; // 0x804dc0a
    int32_t v13; // 0x804dae3
    uint32_t v14; // 0x804db8a
    int32_t v15; // 0x804dba8
    int32_t v16; // 0x804dbba
    int32_t v17; // 0x804dbcc
    if (v2 != 0x666d7420) {
        // 0x804dc86
        v13 = Read32Bits(sf);
        if (v2 == 0x64617461) {
            // break -> 0x804dcfb
            break;
        }
        // 0x804dcad
        v7 = 0;
        v4 = 0;
        v3 = 0;
        v10 = 0;
        if (fskip(sf, v13, 1) != 0) {
            // 0x804ddce
            return -1;
        }
    } else {
        // 0x804db84
        v14 = Read32Bits(sf);
        if (v14 <= 15) {
            // 0x804ddce
            return -1;
        }
        // 0x804dba2
        v15 = Read16BitsLowHigh(sf);
        v16 = Read16BitsLowHigh(sf);
        v17 = Read32Bits(sf);
        Read32Bits(sf);
        Read16BitsLowHigh(sf);
        v11 = Read16BitsLowHigh(sf);
        v12 = v14 - 16;
        v5 = v12;
        v8 = v15;
        if (v12 >= 10 && v15 == -2) {
            // 0x804dc21
            Read16BitsLowHigh(sf);
            Read16BitsLowHigh(sf);
            Read32Bits(sf);
            v5 = v14 - 26;
            v8 = Read16BitsLowHigh(sf);
        }
        // 0x804dc54
        v9 = v8;
        v6 = v5;
        v7 = v16;
        v4 = v11;
        v3 = v17;
        v10 = v9;
        if (v6 >= 1) {
            // 0x804dc5e
            v7 = v16;
            v4 = v11;
            v3 = v17;
            v10 = v9;
            if (fskip(sf, v6, 1) != 0) {
                // 0x804ddce
                return -1;
            }
        }
    }
    // 0x804dce3
    v1++;
    int32_t v18 = v10; // 0x804dceb
    int32_t v19 = v3; // 0x804dceb
    int32_t v20 = v4; // 0x804dceb
    int32_t v21 = v7; // 0x804dceb
    while (v1 < 20) {
        // 0x804db68
        v2 = Read32BitsHighLow(sf);
        if (v2 != 0x666d7420) {
            // 0x804dc86
            v13 = Read32Bits(sf);
            if (v2 == 0x64617461) {
                // break -> 0x804dcfb
                break;
            }
            // 0x804dcad
            v7 = v21;
            v4 = v20;
            v3 = v19;
            v10 = v18;
            if (fskip(sf, v13, 1) != 0) {
                // 0x804ddce
                return -1;
            }
        } else {
            // 0x804db84
            v14 = Read32Bits(sf);
            if (v14 <= 15) {
                // 0x804ddce
                return -1;
            }
            // 0x804dba2
            v15 = Read16BitsLowHigh(sf);
            v16 = Read16BitsLowHigh(sf);
            v17 = Read32Bits(sf);
            Read32Bits(sf);
            Read16BitsLowHigh(sf);
            v11 = Read16BitsLowHigh(sf);
            v12 = v14 - 16;
            v5 = v12;
            v8 = v15;
            if (v12 >= 10 && v15 == -2) {
                // 0x804dc21
                Read16BitsLowHigh(sf);
                Read16BitsLowHigh(sf);
                Read32Bits(sf);
                v5 = v14 - 26;
                v8 = Read16BitsLowHigh(sf);
            }
            // 0x804dc54
            v9 = v8;
            v6 = v5;
            v7 = v16;
            v4 = v11;
            v3 = v17;
            v10 = v9;
            if (v6 >= 1) {
                // 0x804dc5e
                v7 = v16;
                v4 = v11;
                v3 = v17;
                v10 = v9;
                if (fskip(sf, v6, 1) != 0) {
                    // 0x804ddce
                    return -1;
                }
            }
        }
        // 0x804dce3
        v1++;
        v18 = v10;
        v19 = v3;
        v20 = v4;
        v21 = v7;
    }
    // 0x804ddce
    return -1;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804ddd0 - 0x804deb2
// Line range:    1181 - 1220
int32_t aiff_check2(int32_t * pcm_aiff_data) {
    int32_t v1 = (int32_t)pcm_aiff_data;
    if (*(int32_t *)(v1 + 20) != 0x53534e44) {
        // 0x804dde6
        if (silent <= 9) {
            // 0x804ddf0
            error_printf("ERROR: input sound data is not PCM\n");
        }
        // 0x804deac
        return 1;
    }
    int16_t v2 = *(int16_t *)(v1 + 8); // 0x804de09
    uint32_t v3 = (int32_t)v2 - 8; // 0x804de0e
    if (v2 == 32 || v3 < 24) {
        uint32_t v4 = v3 % 32; // 0x804de1f
        if (v4 == 0) {
            goto lab_0x804de2c;
        } else {
            if ((1 << v4 & 0x1010101) == 0) {
                goto lab_0x804de3a;
            } else {
                goto lab_0x804de2c;
            }
        }
    } else {
        goto lab_0x804de3a;
    }
  lab_0x804de3a:
    // 0x804de3a
    if (silent <= 9) {
        // 0x804de44
        error_printf("ERROR: input sound data is not 8, 16, 24 or 32 bits\n");
    }
    // 0x804deac
    return 1;
  lab_0x804de2c:
    // 0x804de2c
    if (*(int16_t *)pcm_aiff_data >= 3) {
        // 0x804de63
        if (silent <= 9) {
            // 0x804de6d
            error_printf("ERROR: input sound data is not mono or stereo\n");
        }
        // 0x804deac
        return 1;
    }
    // 0x804de80
    if (*(int32_t *)(v1 + 28) == 0) {
        // 0x804deac
        return 0;
    }
    // 0x804de8a
    if (silent <= 9) {
        // 0x804de94
        error_printf("ERROR: block size of input sound data is not 0 bytes\n");
    }
    // 0x804deac
    return 1;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804deb2 - 0x804decc
// Line range:    1224 - 1230
int32_t make_even_number_of_bytes_in_length(uint32_t x) {
    // 0x804deb2
    return (int32_t)(bool)(x % 2 != 0) + x;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804decc - 0x804e2e4
// Line range:    1243 - 1363
int32_t parse_aiff_header(int32_t * gfp, struct _IO_FILE * sf) {
    // 0x804decc
    int32_t v1; // bp-80, 0x804decc
    memset(&v1, 0, 32);
    int32_t v2 = Read32BitsHighLow(sf); // 0x804df25
    int32_t v3 = Read32BitsHighLow(sf); // 0x804df33
    int32_t result = -1; // 0x804decc
    switch (v3) {
        case 0x41494646: {
            goto lab_0x804e165;
        }
        case 0x41494643: {
            goto lab_0x804e165;
        }
        default: {
            return result;
        }
    }
  lab_0x804e172:;
    // 0x804e172
    int32_t v4; // 0x804decc
    if (v4 != 0x736f7774) {
        if (v4 != 0x74776f73) {
            // 0x804e1a6
            if (v4 != 0x4e4f4e45) {
                // 0x804e2e2
                return -1;
            }
            // 0x804e1b0
            g17 = swapbytes == 0;
        } else {
            // 0x804e192
            g17 = swapbytes == 0;
        }
    } else {
        // 0x804e17c
        g17 = swapbytes;
    }
    // 0x804e1ce
    int32_t v5; // 0x804decc
    int32_t v6; // 0x804decc
    uint32_t v7; // 0x804decc
    if (v7 == 0 || v6 != 0 == v5 == 0) {
        // 0x804e2e2
        return -1;
    }
    // 0x804e1e9
    if (aiff_check2(&v1) != 0) {
        // 0x804e2e2
        return 0;
    }
    // 0x804e202
    int32_t offset; // 0x804decc
    float64_t v8; // 0x804decc
    int16_t v9; // 0x804decc
    int32_t v10; // 0x804decc
    if (function_804a0bc(v10, 0x10000 * v1 >> 16) != -1) {
        // 0x804e244
        function_804a93c(v10, (int32_t)v8);
        function_804a87c(v10, v6);
        g16 = v9;
        g18 = 0;
        if (offset < 0 || fseek(sf, offset, SEEK_SET) == 0) {
            // 0x804e2e2
            return 1;
        }
        // 0x804e2b9
        result = 0;
        if (silent <= 9) {
            // 0x804e2c3
            error_printf("Can't rewind stream to audio data position\n");
            result = 0;
        }
      lab_0x804e2e2:
        // 0x804e2e2
        return result;
    }
    // 0x804e21b
    if (silent <= 9) {
        // 0x804e225
        error_printf("Unsupported number of channels: %u\n", 0x10000 * v1 >> 16);
    }
    // 0x804e2e2
    return 0;
  lab_0x804e165:
    // 0x804e165
    v10 = (int32_t)gfp;
    while (true) {
        // 0x804e165
        v7 = 0;
        v4 = 0x4e4f4e45;
        offset = -1;
        int32_t v11 = 0;
        int32_t v12 = v2;
        v5 = v11;
        if (v12 >= 0 != v12 != 0) {
            // break (via goto) -> 0x804e172
            goto lab_0x804e172;
        }
        int32_t v13 = Read32BitsHighLow(sf); // 0x804df67
        if (v13 == 0x434f4d4d) {
            // break (via goto) -> 0x804df81
            goto lab_0x804df81;
        }
        int32_t v14 = make_even_number_of_bytes_in_length(Read32BitsHighLow(sf));
        int32_t v15 = v12 - 4 - v14;
        while (v13 != 0x53534e44) {
            // 0x804e11b
            if (fskip(sf, v14, 1) != 0) {
                // 0x804e2e2
                return -1;
            }
            v12 = v15;
            v5 = v11;
            if (v12 >= 0 != v12 != 0) {
                // break (via goto) -> 0x804e172
                goto lab_0x804e172;
            }
            // 0x804df61
            v13 = Read32BitsHighLow(sf);
            if (v13 == 0x434f4d4d) {
                // break (via goto) -> 0x804df81
                goto lab_0x804df81;
            }
            // 0x804e03e
            v14 = make_even_number_of_bytes_in_length(Read32BitsHighLow(sf));
            v15 = v12 - 4 - v14;
        }
        int32_t v16 = Read32BitsHighLow(sf); // 0x804e07b
        Read32BitsHighLow(sf);
        if (v7 >= 1) {
            // 0x804e0a7
            v5 = 1;
            result = -1;
            if (fskip(sf, v16, 1) == 0) {
                goto lab_0x804e172;
            } else {
                return result;
            }
        }
        int32_t curr_file_offset = ftell(sf); // 0x804e0d9
        int32_t v17 = 1; // 0x804e10f
        int32_t v18 = (curr_file_offset < 0 ? 0 : v16) + curr_file_offset; // 0x804e10f
        int32_t v19 = v15; // 0x804e10f
        while (fskip(sf, v14 - 8, 1) == 0) {
            // 0x804e165
            offset = v18;
            v11 = v17;
            v12 = v19;
            v5 = v11;
            if (v12 >= 0 != v12 != 0) {
                // break (via goto) -> 0x804e172
                goto lab_0x804e172;
            }
            // 0x804df61
            v13 = Read32BitsHighLow(sf);
            if (v13 == 0x434f4d4d) {
                // break (via goto) -> 0x804df81
                goto lab_0x804df81;
            }
            // 0x804e03e
            v14 = make_even_number_of_bytes_in_length(Read32BitsHighLow(sf));
            v15 = v12 - 4 - v14;
            while (v13 != 0x53534e44) {
                // 0x804e11b
                if (fskip(sf, v14, 1) != 0) {
                    // 0x804e2e2
                    return -1;
                }
                v12 = v15;
                v5 = v11;
                if (v12 >= 0 != v12 != 0) {
                    // break (via goto) -> 0x804e172
                    goto lab_0x804e172;
                }
                // 0x804df61
                v13 = Read32BitsHighLow(sf);
                if (v13 == 0x434f4d4d) {
                    // break (via goto) -> 0x804df81
                    goto lab_0x804df81;
                }
                // 0x804e03e
                v14 = make_even_number_of_bytes_in_length(Read32BitsHighLow(sf));
                v15 = v12 - 4 - v14;
            }
            // 0x804e04c
            v16 = Read32BitsHighLow(sf);
            Read32BitsHighLow(sf);
            if (v7 >= 1) {
                // 0x804e0a7
                v5 = 1;
                result = -1;
                if (fskip(sf, v16, 1) == 0) {
                    goto lab_0x804e172;
                } else {
                    return result;
                }
            }
            // 0x804e0d3
            curr_file_offset = ftell(sf);
            v17 = 1;
            v18 = (curr_file_offset < 0 ? 0 : v16) + curr_file_offset;
            v19 = v15;
        }
        // 0x804e2e2
        return -1;
      lab_0x804df81:;
        int32_t v20 = make_even_number_of_bytes_in_length(Read32BitsHighLow(sf)); // 0x804df9e
        v1 = 0x10000 * Read16BitsHighLow(sf) >> 16;
        int32_t v21 = Read32BitsHighLow(sf); // 0x804dfc5
        int32_t v22 = Read16BitsHighLow(sf); // 0x804dfd7
        float64_t v23 = ReadIeeeExtendedHighLow(sf); // 0x804dfea
        int32_t v24 = v4; // 0x804dffe
        int32_t v25 = v20 - 18; // 0x804dffe
        if (v3 == 0x41494643) {
            // 0x804e000
            v24 = Read32BitsHighLow(sf);
            v25 = v20 - 22;
        }
        int32_t v26 = v24; // 0x804e02e
        int32_t v27 = v11 + 1; // 0x804e02e
        int32_t v28 = v11; // 0x804e02e
        int32_t v29 = offset; // 0x804e02e
        v6 = v21;
        v9 = v22;
        v8 = v23;
        int32_t v30; // 0x804df6f
        int32_t v31 = v30 - v20; // 0x804e02e
        if (fskip(sf, v25, 1) != 0) {
            // 0x804e2e2
            return -1;
        }
    }
    goto lab_0x804e172;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804e2e4 - 0x804e3e1
// Line range:    1382 - 1429
int32_t parse_file_header(int32_t * gfp, struct _IO_FILE * sf) {
    int32_t v1 = Read32BitsHighLow(sf); // 0x804e2f0
    global = 0;
    g18 = in_signed != 1;
    if (v1 == 0x52494646) {
        uint32_t v2 = parse_wave_header(gfp, sf); // 0x804e32c
        if (v2 >= 1) {
            // 0x804e33a
            global = 1;
            // 0x804e3df
            return 2;
        }
        // 0x804e34e
        if (v2 != 0 && silent <= 9) {
            // 0x804e362
            error_printf("Warning: corrupt or unsupported WAVE format\n");
        }
        // 0x804e3df
        return 0;
    }
    if (v1 != 0x464f524d) {
        // 0x804e3c4
        if (silent <= 9) {
            // 0x804e3ce
            error_printf("Warning: unsupported audio format\n");
        }
        // 0x804e3df
        return 0;
    }
    uint32_t v3 = parse_aiff_header(gfp, sf); // 0x804e387
    if (v3 >= 1) {
        // 0x804e395
        global = 1;
        // 0x804e3df
        return 3;
    }
    // 0x804e3a6
    if (v3 != 0 && silent <= 9) {
        // 0x804e3b6
        error_printf("Warning: corrupt or unsupported AIFF format\n");
    }
    // 0x804e3df
    return 0;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804e3e1 - 0x804e41a
// Line range:    1434 - 1443
void CloseSndFile(int32_t input, struct _IO_FILE * musicin) {
    // 0x804e3e1
    if (fclose((struct _IO_FILE *)input) == 0) {
        // 0x804e418
        return;
    }
    // 0x804e3f6
    if (silent <= 9) {
        // 0x804e400
        error_printf("Could not close audio input file\n");
    }
    // 0x804e40c
    exit(2);
    // UNREACHABLE
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804e41a - 0x804e748
// Line range:    1450 - 1544
struct _IO_FILE * OpenSndFile(int32_t * gfp, char * inPath, int32_t * enc_delay, int32_t * enc_padding) {
    int32_t v1 = (int32_t)gfp;
    function_804a87c(v1, -1);
    struct _IO_FILE * result; // 0x804e41a
    if (strcmp(inPath, "-") != 0) {
        struct _IO_FILE * v2 = fopen64(inPath, "rb"); // 0x804e46e
        result = v2;
        if (v2 == NULL) {
            // 0x804e47c
            if (silent <= 9) {
                // 0x804e486
                error_printf("Could not find \"%s\".\n", inPath);
            }
            // 0x804e499
            exit(1);
            // UNREACHABLE
        }
    } else {
        // 0x804e44a
        lame_set_stream_binary_mode(g14);
        result = g14;
    }
    // 0x804e4a5
    if (is_mpeg_file_format(input_format) == 0) {
        // 0x804e57a
        if (input_format == 8) {
            // 0x804e584
            if (silent <= 9) {
                // 0x804e58e
                error_printf("sorry, vorbis support in LAME is deprecated.\n");
            }
            // 0x804e59a
            exit(1);
            // UNREACHABLE
        }
        if (input_format != 1) {
            // 0x804e5f5
            input_format = parse_file_header(gfp, result);
        } else {
            // 0x804e5b0
            if (silent <= 9) {
                // 0x804e5ba
                console_printf("Assuming raw pcm input file");
                if (swapbytes == 0) {
                    // 0x804e5dd
                    console_printf("\n");
                } else {
                    // 0x804e5cf
                    console_printf(" : Forcing byte-swapping\n");
                }
            }
            // 0x804e5e9
            g17 = swapbytes;
        }
    } else {
        // 0x804e4ba
        if (lame_decode_initfile(result, &mp3input_data, enc_delay, enc_padding) == -1) {
            // 0x804e4e0
            if (silent <= 9) {
                // 0x804e4ea
                error_printf("Error reading headers in mp3 input file %s.\n", inPath);
            }
            // 0x804e4fd
            exit(1);
            // UNREACHABLE
        }
        // 0x804e509
        if (function_804a0bc(v1, g45) == -1) {
            // 0x804e522
            if (silent <= 9) {
                // 0x804e52c
                error_printf("Unsupported number of channels: %ud\n", g45);
            }
            // 0x804e541
            exit(1);
            // UNREACHABLE
        }
        // 0x804e54d
        function_804a93c(v1, g46);
        function_804a87c(v1, (int32_t)g49);
    }
    // 0x804e60c
    if (input_format == 0) {
        // 0x804e615
        exit(1);
        // UNREACHABLE
    }
    // 0x804e621
    if (function_804a20c(v1) != -1 || result == g14) {
        // 0x804e743
        return result;
    }
    // 0x804e643
    int3_t v3; // 0x804e41a
    int3_t v4 = v3 - 1; // 0x804e654
    __frontend_reg_store_fpr(v4, (float80_t)(int32_t)lame_get_file_size(inPath));
    float80_t v5 = __frontend_reg_load_fpr(v4); // 0x804e657
    __frontend_reg_store_fpr(v4, v5);
    int3_t v6 = v3 - 2; // 0x804e65d
    __frontend_reg_store_fpr(v6, 0.0L);
    float80_t v7 = __frontend_reg_load_fpr(v6); // 0x804e65f
    __frontend_reg_store_fpr(v6, __frontend_reg_load_fpr(v4));
    __frontend_reg_store_fpr(v4, v7);
    float80_t v8 = __frontend_reg_load_fpr(v6); // 0x804e661
    float80_t v9 = __frontend_reg_load_fpr(v4); // 0x804e661
    if (v8 > v9) {
        // 0x804e670
        __frontend_reg_store_fpr(v4, __frontend_reg_load_fpr(v4));
    } else {
        __frontend_reg_store_fpr(v4, __frontend_reg_load_fpr(v4));
        if (v8 != v9) {
            // 0x804e743
            return result;
        }
    }
    // 0x804e670
    if (is_mpeg_file_format(input_format) == 0) {
        // 0x804e700
        __frontend_reg_store_fpr(v4, (float80_t)(2 * function_804a75c(v1)));
        __frontend_reg_store_fpr(v6, v5);
        __frontend_reg_store_fpr(v4, __frontend_reg_load_fpr(v6) / __frontend_reg_load_fpr(v4));
        function_804a87c(v1, (int32_t)(int64_t)__frontend_reg_load_fpr(v4));
        // 0x804e743
        return result;
    }
    // 0x804e681
    if (g47 >= 1) {
        // 0x804e68e
        __frontend_reg_store_fpr(v4, v5);
        __frontend_reg_store_fpr(v6, 8.0L);
        __frontend_reg_store_fpr(v4, __frontend_reg_load_fpr(v6) * __frontend_reg_load_fpr(v4));
        __frontend_reg_store_fpr(v6, (float80_t)g47);
        int3_t v10 = v3 - 3; // 0x804e6a4
        __frontend_reg_store_fpr(v10, 1000.0L);
        __frontend_reg_store_fpr(v6, __frontend_reg_load_fpr(v10) * __frontend_reg_load_fpr(v6));
        __frontend_reg_store_fpr(v4, __frontend_reg_load_fpr(v4) / __frontend_reg_load_fpr(v6));
        float80_t v11 = __frontend_reg_load_fpr(v4); // 0x804e6ae
        __frontend_reg_store_fpr(v4, (float80_t)function_804a06c(v1));
        __frontend_reg_store_fpr(v4, v11 * __frontend_reg_load_fpr(v4));
        int32_t v12 = __frontend_reg_load_fpr(v4); // 0x804e6d5
        function_804a87c(v1, v12);
        g49 = v12;
    }
    // 0x804e743
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804e748 - 0x804e773
// Line range:    1553 - 1556
int32_t check_aid(char * header) {
    // 0x804e748
    return memcmp((int32_t *)header, &g5, 4) == 0;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804e773 - 0x804e961
// Line range:    1565 - 1613
int32_t is_syncword_mp123(int32_t * headerptr) {
    // 0x804e773
    if (*(char *)headerptr != -1) {
        // 0x804e95b
        return 0;
    }
    int32_t v1 = (int32_t)headerptr;
    char * v2 = (char *)(v1 + 1); // 0x804e79a
    unsigned char v3 = *v2; // 0x804e79a
    if (v3 <= 223 || (v3 & 24) == 8) {
        // 0x804e95b
        return 0;
    }
    int32_t result = 0; // 0x804e773
    switch (v3 & 6) {
        case 4: {
            // 0x804e826
            if ((input_format || 2) != 7) {
                // 0x804e95b
                return 0;
            }
            // 0x804e844
            input_format = 5;
            goto lab_0x804e878;
        }
        case 6: {
            // 0x804e850
            result = 0;
            switch (input_format) {
                case 7: {
                    // 0x804e86e
                    input_format = 4;
                    goto lab_0x804e878;
                }
                case 4: {
                    // 0x804e86e
                    input_format = 4;
                    goto lab_0x804e878;
                }
                default: {
                    return result;
                }
            }
        }
        case 2: {
            // 0x804e7fc
            if ((input_format || 1) != 7) {
                // 0x804e95b
                return 0;
            }
            // 0x804e81a
            input_format = 6;
            goto lab_0x804e878;
        }
        default: {
            return result;
        }
    }
  lab_0x804e878:;
    char v4 = *v2; // 0x804e87e
    if ((v4 & 6) == 0) {
        // 0x804e95b
        return 0;
    }
    unsigned char v5 = *(char *)(v1 + 2); // 0x804e89b
    if (v5 > 239 || (v5 & 12) == 12) {
        // 0x804e95b
        return 0;
    }
    if ((v4 & 30) != 28) {
        // 0x804e93b
        result = *(char *)(v1 + 3) % 4 != 2;
        // 0x804e95b
        return result;
    }
    char v6 = *(char *)((int32_t)(v5 / 16) + (int32_t)&g6); // 0x804e90c
    unsigned char v7 = *(char *)(v1 + 3); // 0x804e91c
    if ((1 << (int32_t)(v7 / 64) & (int32_t)v6) != 0) {
        // 0x804e95b
        return 0;
    }
    // 0x804e95b
    return v7 % 4 != 2;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804e961 - 0x804ee68
// Line range:    1616 - 1734
int32_t lame_decode_initfile(struct _IO_FILE * fd, int32_t * mp3data, int32_t * enc_delay, int32_t * enc_padding) {
    char buf2[100]; // bp-120, 0x804e961
    char buf[100]; // bp-124, 0x804e961
    int16_t pcm_r[1152]; // bp-4752, 0x804e961
    char v1[100]; // 0x804eae8
    char v2[100]; // 0x804ed1f
    char v3[100]; // 0x804ed5b
    char v4[100]; // 0x804edbb
    int16_t v5[1152]; // 0x804e96d
    // 0x804e961
    v5[0] = (int32_t)fd;
    pcm_r = v5;
    int32_t v6 = __readgsdword(20); // 0x804e98e
    memset(mp3data, 0, 40);
    struct _IO_FILE * v7 = g21; // 0x804e9be
    if (v7 != NULL) {
        // 0x804e9c7
        function_804a8cc((int32_t)v7);
    }
    // 0x804e9d4
    g21 = (struct _IO_FILE *)function_804a76c();
    buf = {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
    int32_t v8 = *(int32_t *)&pcm_r; // 0x804e9e5
    int32_t nmemb = *(int32_t *)&buf;
    struct _IO_FILE * stream = (struct _IO_FILE *)v8;
    int32_t data; // bp-116, 0x804e961
    int32_t items_read = fread(&data, 1, nmemb, stream); // 0x804ea04
    int32_t v9 = -1; // 0x804ea0c
    int32_t nmemb4; // 0x804e961
    char v10; // 0x804e961
    char v11; // 0x804e961
    if (items_read == nmemb) {
        // 0x804ea18
        nmemb4 = nmemb;
        if (v11 == 51 == v11 == 68 == (char)data == 73) {
            // 0x804ea3c
            if (silent <= 9) {
                // 0x804ea46
                console_printf("ID3v2 found. Be aware that the ID3 tag is currently lost when transcoding.\n");
            }
            // 0x804ea52
            buf = {6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
            int32_t nmemb2 = *(int32_t *)&buf;
            int32_t items_read2 = fread(&data, 1, nmemb2, stream); // 0x804ea78
            v9 = -1;
            if (items_read2 == nmemb2) {
                // 0x804ea8c
                v1[0] = 128 * v11 | (unsigned char)v11 % 128;
                buf = v1;
                fskip(stream, *(int32_t *)&buf, 1);
                buf = {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
                int32_t nmemb3 = *(int32_t *)&buf;
                int32_t items_read3 = fread(&data, 1, nmemb3, stream); // 0x804eb2e
                nmemb4 = nmemb3;
                v10 = v11 % 128;
                v9 = -1;
                if (items_read3 == nmemb3) {
                    goto lab_0x804eb42;
                } else {
                    goto lab_0x804ee55_3;
                }
            } else {
                goto lab_0x804ee55_3;
            }
        } else {
            goto lab_0x804eb42;
        }
    } else {
        goto lab_0x804ee55_3;
    }
  lab_0x804ee55_3:;
    int32_t result = v9; // 0x804ee5f
    if (v6 != __readgsdword(20)) {
        // 0x804ee61
        __stack_chk_fail();
        result = &g57;
    }
    // 0x804ee66
    return result;
  lab_0x804eb42:
    // 0x804eb42
    if (check_aid((char *)&data) == 0) {
        goto lab_0x804ec14;
    } else {
        int32_t items_read4 = fread(&data, 1, 2, stream); // 0x804eb7a
        v9 = -1;
        if (items_read4 == 2) {
            int32_t v12 = data % 256 | 256 * (int32_t)v11; // 0x804eb9f
            if (silent <= 9) {
                // 0x804ebae
                console_printf("Album ID found.  length=%i \n", v12);
            }
            // 0x804ebc1
            fskip(stream, v12 - 6, 1);
            int32_t items_read5 = fread(&data, 1, nmemb4, stream); // 0x804ec00
            v9 = -1;
            if (items_read5 == nmemb4) {
                goto lab_0x804ec14;
            } else {
                goto lab_0x804ee55_3;
            }
        } else {
            goto lab_0x804ee55_3;
        }
    }
  lab_0x804ec14:;
    int32_t v13 = (int32_t)enc_padding;
    int32_t v14 = (int32_t)enc_delay;
    int32_t v15 = (int32_t)mp3data;
    buf = {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
    int32_t v16 = &data;
    int32_t v17 = v8;
    while (is_syncword_mp123(&data) == 0) {
        int32_t v18 = 0; // 0x804ec54
        int32_t stream2 = v17; // 0x804ec54
        int32_t v19 = 0; // 0x804ec54
        if (*(int32_t *)&buf != 1) {
            int32_t v20; // bp-4, 0x804e961
            int32_t v21 = v18 + (int32_t)&v20;
            *(char *)(v21 - 112) = *(char *)(v21 - 111);
            int32_t v22 = v18 + 1; // 0x804ec41
            int32_t v23 = *(int32_t *)&buf - 1; // 0x804ec4b
            v18 = v22;
            while (v23 > v22) {
                // 0x804ec29
                v21 = v18 + (int32_t)&v20;
                *(char *)(v21 - 112) = *(char *)(v21 - 111);
                v22 = v18 + 1;
                v23 = *(int32_t *)&buf - 1;
                v18 = v22;
            }
            // 0x804ec48
            stream2 = *(int32_t *)&pcm_r;
            v19 = v23;
        }
        int32_t items_read6 = fread(&((struct _IO_FILE *)(v19 + v16))->e0, 1, 1, (struct _IO_FILE *)stream2); // 0x804ec7e
        v9 = -1;
        if (items_read6 != 1) {
            goto lab_0x804ee55_3;
        }
        v17 = stream2;
    }
    int32_t v24 = 0; // 0x804ecb3
    if (v10 < 16) {
        // 0x804ecb5
        v24 = 1;
        if (silent <= 9) {
            // 0x804ecbf
            console_printf("Input file is freeformat.\n");
            v24 = 1;
        }
    }
    int32_t v25 = *(int32_t *)&buf; // 0x804ed09
    int32_t v26; // bp-2440, 0x804e961
    int32_t v27; // bp-4744, 0x804e961
    int32_t v28 = function_804aa2c((int32_t)g21, &data, v25, &v26, &v27, v15, v14, v13); // 0x804ed1a
    v2[0] = v28;
    buf2 = v2;
    v9 = -1;
    if (*(int32_t *)&buf2 != -1) {
        struct _IO_FILE * stream3 = (struct _IO_FILE *)v17;
        while (*mp3data == 0) {
            int32_t items_read7 = fread(&data, 1, 100, stream3); // 0x804ed56
            v3[0] = items_read7;
            buf = v3;
            v9 = -1;
            if (*(int32_t *)&buf != 100) {
                goto lab_0x804ee55_3;
            }
            int32_t v29 = function_804aa2c((int32_t)g21, &data, 100, &v26, &v27, v15, v14, v13); // 0x804edb6
            v4[0] = v29;
            buf2 = v4;
            v9 = -1;
            if (*(int32_t *)&buf2 == -1) {
                goto lab_0x804ee55_3;
            }
        }
        // 0x804eddf
        if ((*(int32_t *)(v15 + 12) || v24) == 0) {
            // 0x804edf2
            if (silent <= 9) {
                // 0x804edfc
                error_printf("fail to sync...\n");
            }
            // 0x804ee08
            v9 = lame_decode_initfile(stream3, mp3data, enc_delay, enc_padding);
        } else {
            int32_t v30 = *(int32_t *)(v15 + 32); // 0x804ee3c
            v9 = 0;
            if (v30 >= 0 != v30 != 0) {
                // 0x804ee43
                *(int32_t *)(v15 + 28) = -1;
                v9 = 0;
            }
        }
    }
    goto lab_0x804ee55_3;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804ee68 - 0x804f04d
// Line range:    1748 - 1784
int32_t lame_decode_fromfile(struct _IO_FILE * fd, int16_t * pcm_l, int16_t * pcm_r, int32_t * mp3data) {
    char buf2[1024]; // bp-1044, 0x804ee68
    char buf[1024]; // bp-1048, 0x804ee68
    char v1[1024]; // 0x804ef36
    char v2[1024]; // 0x804ee68
    char v3[1024]; // 0x804eef3
    int32_t v4 = (int32_t)mp3data;
    int32_t v5 = (int32_t)pcm_r;
    int32_t v6 = (int32_t)pcm_l;
    int32_t v7 = __readgsdword(20); // 0x804ee95
    buf = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
    int32_t v8 = *(int32_t *)&buf; // 0x804eed7
    int32_t data; // bp-1040, 0x804ee68
    int32_t v9 = function_804a3ac((int32_t)g21, &data, v8, v6, v5, v4); // 0x804eeee
    v3[0] = v9;
    buf2 = v3;
    int32_t v10 = *(int32_t *)&buf2; // 0x804eef9
    int32_t v11 = v10; // 0x804ef00
    if (v10 == 0) {
        int32_t items_read = fread(&data, 1, 1024, fd); // 0x804ef31
        v1[0] = items_read;
        buf = v1;
        int32_t v12 = *(int32_t *)&buf; // 0x804ef3c
        int32_t v13 = function_804a3ac((int32_t)g21, &data, v12, v6, v5, v4);
        v2[0] = v13;
        buf2 = v2;
        int32_t v14 = *(int32_t *)&buf2;
        while (v12 != 0) {
            if (v14 == -1) {
                // 0x804f006
                function_804a8cc((int32_t)g21);
                g21 = NULL;
                v11 = -1;
                goto lab_0x804f03a;
            }
            // 0x804f024
            v11 = v14;
            if (v14 >= 1) {
                goto lab_0x804f03a;
            }
            items_read = fread(&data, 1, 1024, fd);
            v1[0] = items_read;
            buf = v1;
            v12 = *(int32_t *)&buf;
            v13 = function_804a3ac((int32_t)g21, &data, v12, v6, v5, v4);
            v2[0] = v13;
            buf2 = v2;
            v14 = *(int32_t *)&buf2;
        }
        // 0x804ef45
        v11 = v14;
        if (v14 >= 0 != v14 != 0) {
            // 0x804ef97
            function_804a8cc((int32_t)g21);
            g21 = NULL;
            v11 = -1;
        }
    }
    goto lab_0x804f03a;
  lab_0x804f03a:;
    int32_t result = v11; // 0x804f044
    if (v7 != __readgsdword(20)) {
        // 0x804f046
        __stack_chk_fail();
        result = &g57;
    }
    // 0x804f04b
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/get_audio.c
// Address range: 0x804f04d - 0x804f093
// Line range:    1789 - 1804
int32_t is_mpeg_file_format(uint32_t input_file_format) {
    // 0x804f04d
    if (input_file_format == 5) {
        // 0x804f091
        return 2;
    }
    if (input_file_format <= 5) {
        // 0x804f05d
        return input_file_format == 4;
    }
    // 0x804f091
    return input_file_format == 6 ? 3 : (int32_t)(input_file_format == 7);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/lametime.c
// Address range: 0x804f094 - 0x804f0af
// Line range:    58 - 68
float64_t GetCPUTime(void) {
    // 0x804f094
    return (float80_t)clock() / 1.0e+6L;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/lametime.c
// Address range: 0x804f0af - 0x804f0e6
// Line range:    86 - 93
float64_t GetRealTime(void) {
    // 0x804f0af
    int32_t tp; // bp-20, 0x804f0af
    gettimeofday((struct timeval *)&tp, NULL);
    int32_t v1; // 0x804f0af
    return 9.9999999e-7L * (float80_t)v1 + (float80_t)tp;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/lametime.c
// Address range: 0x804f0e6 - 0x804f0f0
// Line range:    132 - 146
int32_t lame_set_stream_binary_mode(struct _IO_FILE * fp) {
    // 0x804f0e6
    return 0;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/lametime.c
// Address range: 0x804f0f0 - 0x804f120
// Line range:    160 - 167
int64_t lame_get_file_size(char * filename) {
    // 0x804f0f0
    int32_t v1; // bp-108, 0x804f0f0
    int64_t v2; // 0x804f0f0
    return stat64((int32_t)filename, &v1) != 0 ? -1 : 0x100000000 * v2 >> 32;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x804f120 - 0x804f204
// Line range:    443 - 457
int32_t set_id3tag(int32_t * gfp, int32_t type, char * str) {
    int32_t v1 = (int32_t)gfp;
    g54 = type - 97;
    int32_t result = 0; // 0x804f13c
    switch (type) {
        case 97: {
            // 0x804f13e
            function_804a61c(v1, (int32_t)str);
            result = 0;
            // break -> 0x804f202
            break;
        }
        case 99: {
            // 0x804f1a3
            function_804a2cc(v1, (int32_t)str);
            result = 0;
            // break -> 0x804f202
            break;
        }
        case 103: {
            // 0x804f18f
            result = function_804a86c(v1, (int32_t)str);
            // break -> 0x804f202
            break;
        }
        case 108: {
            // 0x804f176
            function_804a6dc(v1, (int32_t)str);
            result = 0;
            // break -> 0x804f202
            break;
        }
        case 110: {
            // 0x804f1bc
            result = function_804a82c(v1, (int32_t)str);
            // break -> 0x804f202
            break;
        }
        case 116: {
            // 0x804f15a
            function_804a59c(v1, (int32_t)str);
            result = 0;
            // break -> 0x804f202
            break;
        }
        case 118: {
            // 0x804f1e9
            result = function_804a9fc(v1, (int32_t)str);
            // break -> 0x804f202
            break;
        }
        case 121: {
            // 0x804f1d0
            function_804a6cc(v1, (int32_t)str);
            result = 0;
            // break -> 0x804f202
            break;
        }
    }
    // 0x804f202
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x804f204 - 0x804f24b
// Line range:    460 - 484
int32_t id3_tag(int32_t * gfp, int32_t type, int32_t enc, char * str) {
    char * v1 = strdup((char *)enc); // 0x804f217
    int32_t result = set_id3tag(gfp, type, v1); // 0x804f233
    free((int32_t *)v1);
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x804f24b - 0x804f3ab
// Line range:    498 - 527
int32_t lame_version_print(struct _IO_FILE * fp) {
    // 0x804f24b
    int32_t v1; // 0x804f24b
    int32_t v2 = function_804a1cc(v1); // 0x804f251
    char * str = (char *)v2; // 0x804f256
    int32_t v3 = function_804a08c(v2); // 0x804f259
    char * str2 = (char *)v3; // 0x804f25e
    char * str3 = (char *)function_804a29c(v3); // 0x804f266
    int32_t len = strlen(str); // 0x804f26f
    int32_t len2 = strlen(str2); // 0x804f27d
    int32_t len3 = strlen(str3); // 0x804f28b
    if (len3 > 78 || len + 16 + len2 + len3 < 81) {
        if (len == 0) {
            // 0x804f2f4
            fprintf(fp, "LAME version %s (%s)\n\n", str2, str3);
        } else {
            // 0x804f2c6
            fprintf(fp, "LAME %s version %s (%s)\n\n", str, str2, str3);
        }
    } else {
        int32_t v4 = 78 - len3;
        if (len == 0) {
            // 0x804f367
            fprintf(fp, "LAME version %s\n%*s(%s)\n\n", str2, v4, (char *)&g7, str3);
        } else {
            // 0x804f321
            fprintf(fp, "LAME %s version %s\n%*s(%s)\n\n", str, str2, v4, (char *)&g7, str3);
        }
    }
    // 0x804f3a4
    return 0;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x804f3ab - 0x804f49b
// Line range:    530 - 568
int32_t print_license(struct _IO_FILE * fp) {
    // 0x804f3ab
    lame_version_print(fp);
    fwrite((int32_t *)"Can I use LAME in my commercial program?\n\nYes, you can, under the restrictions of the LGPL.  In particular, you\ncan include a compiled version of the LAME library (for example,\nlame.dll) with a commercial program.  Some notable requirements of\nthe LGPL:\n\n", 1, 255, fp);
    fwrite((int32_t *)"1. In your program, you cannot include any source code from LAME, with\n   the exception of files whose only purpose is to describe the library\n   interface (such as lame.h).\n\n", 1, 175, fp);
    fwrite((int32_t *)"2. Any modifications of LAME must be released under the LGPL.\n   The LAME project (www.mp3dev.org) would appreciate being\n   notified of any modifications.\n\n", 1, 157, fp);
    fwrite((int32_t *)"3. You must give prominent notice that your program is:\n      A. using LAME (including version number)\n      B. LAME is under the LGPL\n      C. Provide a copy of the LGPL.  (the file COPYING contains the LGPL)\n      D. Provide a copy of LAME source, or a pointer where the LAME\n         source can be obtained (such as www.mp3dev.org)\n   An example of prominent notice would be an \"About the LAME encoding engine\"\n   button in some pull down menu within the executable of your program.\n\n", 1, 487, fp);
    fwrite((int32_t *)"4. If you determine that distribution of LAME requires a patent license,\n   you must obtain such license.\n\n\n", 1, 108, fp);
    fwrite((int32_t *)"*** IMPORTANT NOTE ***\n\nThe decoding functions provided in LAME use the mpglib decoding engine which\nis under the GPL.  They may not be used by any program not released under the\nGPL unless you obtain such permission from the MPG123 project (www.mpg123.de).\n\n", 1, 259, fp);
    return 0;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x804f49b - 0x804f4ea
// Line range:    580 - 597
int32_t usage(struct _IO_FILE * fp, char * ProgramName) {
    // 0x804f49b
    lame_version_print(fp);
    fprintf(fp, "usage: %s [options] <infile> [outfile]\n\n    <infile> and/or <outfile> can be \"-\", which means stdin/stdout.\n\nTry:\n     \"%s --help\"           for general usage information\n or:\n     \"%s --preset help\"    for information on suggested predefined settings\n or:\n     \"%s --longhelp\"\n  or \"%s -?\"              for a complete options list\n\n", ProgramName, ProgramName, ProgramName, ProgramName, ProgramName);
    return 0;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x804f4ea - 0x804f588
// Line range:    610 - 652
int32_t short_help(int32_t * gfp, struct _IO_FILE * fp, char * ProgramName) {
    // 0x804f4ea
    lame_version_print(fp);
    fprintf(fp, "usage: %s [options] <infile> [outfile]\n\n    <infile> and/or <outfile> can be \"-\", which means stdin/stdout.\n\nRECOMMENDED:\n    lame -V2 input.wav output.mp3\n\n", ProgramName);
    fprintf(fp, "OPTIONS:\n    -b bitrate      set the bitrate, default 128 kbps\n    -h              higher quality, but a little slower.  Recommended.\n    -f              fast mode (lower quality)\n    -V n            quality setting for VBR.  default n=%i\n                    0=high quality,bigger files. 9=smaller files\n", function_804aa9c((int32_t)gfp));
    fwrite((int32_t *)"    --preset type   type must be \"medium\", \"standard\", \"extreme\", \"insane\",\n                    or a value for an average desired bitrate and depending\n                    on the value specified, appropriate quality settings will\n                    be used.\n                    \"--preset help\" gives more info on these\n\n", 1, 321, fp);
    fwrite((int32_t *)"    --longhelp      full list of options\n\n    --license       print License information\n\n", 1, 89, fp);
    return 0;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x804f588 - 0x804f5ce
// Line range:    663 - 673
void wait_for(struct _IO_FILE * fp, int32_t lessmode) {
    if (lessmode == 0) {
        // 0x804f5a6
        fputc(10, fp);
    } else {
        // 0x804f594
        fflush(fp);
        getchar();
    }
    // 0x804f5b9
    fputc(10, fp);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x804f5ce - 0x804f991
// Line range:    676 - 920
int32_t long_help(int32_t * gfp, struct _IO_FILE * fp, char * ProgramName, int32_t lessmode) {
    // 0x804f5ce
    lame_version_print(fp);
    fprintf(fp, "usage: %s [options] <infile> [outfile]\n\n    <infile> and/or <outfile> can be \"-\", which means stdin/stdout.\n\nRECOMMENDED:\n    lame -V2 input.wav output.mp3\n\n", ProgramName);
    fwrite((int32_t *)"OPTIONS:\n  Input options:\n    --scale <arg>   scale input (multiply PCM data) by <arg>\n    --scale-l <arg> scale channel 0 (left) input (multiply PCM data) by <arg>\n    --scale-r <arg> scale channel 1 (right) input (multiply PCM data) by <arg>\n    --mp1input      input file is a MPEG Layer I   file\n    --mp2input      input file is a MPEG Layer II  file\n    --mp3input      input file is a MPEG Layer III file\n    --nogap <file1> <file2> <...>\n                    gapless encoding for a set of contiguous files\n    --nogapout <dir>\n                    output dir for gapless encoding (must precede --nogap)\n    --nogaptags     allow the use of VBR tags in gapless encoding\n", 1, 675, fp);
    fwrite((int32_t *)"\n  Input options for RAW PCM:\n    -r              input is raw pcm\n    -x              force byte-swapping of input\n    -s sfreq        sampling frequency of input file (kHz) - default 44.1 kHz\n    --bitwidth w    input bit width is w (default 16)\n    --signed        input is signed (default)\n    --unsigned      input is unsigned\n    --little-endian input is little-endian (default)\n    --big-endian    input is big-endian\n", 1, 425, fp);
    wait_for(fp, lessmode);
    fwrite((int32_t *)"  Operational options:\n    -a              downmix from stereo to mono file for mono encoding\n    -m <mode>       (j)oint, (s)imple, (f)orce, (d)dual-mono, (m)ono\n                    default is (j) or (s) depending on bitrate\n                    joint  = joins the best possible of MS and LR stereo\n                    simple = force LR stereo on all frames\n                    force  = force MS stereo on all frames.\n    --preset type   type must be \"medium\", \"standard\", \"extreme\", \"insane\",\n                    or a value for an average desired bitrate and depending\n                    on the value specified, appropriate quality settings will\n                    be used.\n                    \"--preset help\" gives more info on these\n    --comp  <arg>   choose bitrate to achive a compression ratio of <arg>\n", 1, 812, fp);
    fwrite((int32_t *)"    --replaygain-fast   compute RG fast but slightly inaccurately (default)\n    --replaygain-accurate   compute RG more accurately and find the peak sample\n    --noreplaygain  disable ReplayGain analysis\n    --clipdetect    enable --replaygain-accurate and print a message whether\n                    clipping occurs and how far the waveform is from full scale\n", 1, 361, fp);
    fwrite((int32_t *)"    --flush         flush output stream as soon as possible\n    --freeformat    produce a free format bitstream\n    --decode        input=mp3 file, output=wav\n    -t              disable writing wav header when using --decode\n", 1, 226, fp);
    wait_for(fp, lessmode);
    fwrite((int32_t *)"  Verbosity:\n    --disptime <arg>print progress report every arg seconds\n    -S              don't print progress report, VBR histograms\n    --nohist        disable VBR histogram display\n    --silent        don't print anything on screen\n    --quiet         don't print anything on screen\n    --brief         print more useful information\n    --verbose       print a lot of useful information\n\n", 1, 394, fp);
    fwrite((int32_t *)"  Noise shaping & psycho acoustic algorithms:\n    -q <arg>        <arg> = 0...9.  Default  -q 5 \n                    -q 0:  Highest quality, very slow \n                    -q 9:  Poor quality, but fast \n    -h              Same as -q 2.   Recommended.\n    -f              Same as -q 7.   Fast, ok quality\n", 1, 305, fp);
    wait_for(fp, lessmode);
    fwrite((int32_t *)"  CBR (constant bitrate, the default) options:\n    -b <bitrate>    set the bitrate in kbps, default 128 kbps\n    --cbr           enforce use of constant bitrate\n\n  ABR options:\n    --abr <bitrate> specify average bitrate desired (instead of quality)\n\n", 1, 251, fp);
    fprintf(fp, "  VBR options:\n    -V n            quality setting for VBR.  default n=%i\n                    0=high quality,bigger files. 9=smaller files\n    -v              the same as -V 4\n    --vbr-old       use old variable bitrate (VBR) routine\n    --vbr-new       use new variable bitrate (VBR) routine (default)\n", function_804aa9c((int32_t)gfp));
    fwrite((int32_t *)"    -b <bitrate>    specify minimum allowed bitrate, default  32 kbps\n    -B <bitrate>    specify maximum allowed bitrate, default 320 kbps\n    -F              strictly enforce the -b option, for use with players that\n                    do not support low bitrate mp3\n    -t              disable writing LAME Tag\n    -T              enable and force writing LAME Tag\n", 1, 368, fp);
    wait_for(fp, lessmode);
    fwrite((int32_t *)"  PSY related:\n", 1, 15, fp);
    fwrite((int32_t *)"    --temporal-masking x   x=0 disables, x=1 enables temporal masking effect\n    --nssafejoint   M/S switching criterion\n    --nsmsfix <arg> M/S switching tuning [effective 0-3.5]\n    --interch x     adjust inter-channel masking ratio\n    --ns-bass x     adjust masking for sfbs  0 -  6 (long)  0 -  5 (short)\n    --ns-alto x     adjust masking for sfbs  7 - 13 (long)  6 - 10 (short)\n    --ns-treble x   adjust masking for sfbs 14 - 21 (long) 11 - 12 (short)\n", 1, 460, fp);
    fwrite((int32_t *)"    --ns-sfb21 x    change ns-treble by x dB for sfb21\n", 1, 55, fp);
    wait_for(fp, lessmode);
    fwrite((int32_t *)"  experimental switches:\n    -Y              lets LAME ignore noise in sfb21, like in CBR\n", 1, 90, fp);
    wait_for(fp, lessmode);
    fwrite((int32_t *)"  MP3 header/stream options:\n    -e <emp>        de-emphasis n/5/c  (obsolete)\n    -c              mark as copyright\n    -o              mark as non-original\n    -p              error protection.  adds 16 bit checksum to every frame\n                    (the checksum is computed correctly)\n    --nores         disable the bit reservoir\n    --strictly-enforce-ISO   comply as much as possible to ISO MPEG spec\n\n", 1, 410, fp);
    fprintf(fp, "  Filter options:\n  --lowpass <freq>        frequency(kHz), lowpass filter cutoff above freq\n  --lowpass-width <freq>  frequency(kHz) - default 15%% of lowpass freq\n  --highpass <freq>       frequency(kHz), highpass filter cutoff below freq\n  --highpass-width <freq> frequency(kHz) - default 15%% of highpass freq\n");
    fwrite((int32_t *)"  --resample <sfreq>  sampling frequency of output file(kHz)- default=automatic\n", 1, 80, fp);
    wait_for(fp, lessmode);
    fwrite((int32_t *)"  ID3 tag options:\n    --tt <title>    audio/song title (max 30 chars for version 1 tag)\n    --ta <artist>   audio/song artist (max 30 chars for version 1 tag)\n    --tl <album>    audio/song album (max 30 chars for version 1 tag)\n    --ty <year>     audio/song year of issue (1 to 9999)\n    --tc <comment>  user-defined text (max 30 chars for v1 tag, 28 for v1.1)\n    --tn <track[/total]>   audio/song track number and (optionally) the total\n                           number of tracks on the original recording. (track\n                           and total each 1 to 255. just the track number\n                           creates v1.1 tag, providing a total forces v2.0).\n    --tg <genre>    audio/song genre (name or number in list)\n    --ti <file>     audio/song albumArt (jpeg/png/gif file, 128KB max, v2.3)\n    --tv <id=value> user-defined frame specified by id and value (v2.3 tag)\n", 1, 886, fp);
    fwrite((int32_t *)"    --add-id3v2     force addition of version 2 tag\n    --id3v1-only    add only a version 1 tag\n    --id3v2-only    add only a version 2 tag\n    --space-id3v1   pad version 1 tag with spaces instead of nulls\n    --pad-id3v2     same as '--pad-id3v2-size 128'\n    --pad-id3v2-size <value> adds version 2 tag, pad with extra <value> bytes\n    --genre-list    print alphabetically sorted ID3 genre list and exit\n    --ignore-tag-errors  ignore errors in values passed for tags\n\n", 1, 476, fp);
    fwrite((int32_t *)"    Note: A version 2 tag will NOT be added unless one of the input fields\n    won't fit in a version 1 tag (e.g. the title string is longer than 30\n    characters), or the '--add-id3v2' or '--id3v2-only' options are used,\n    or output is redirected to stdout.\n\nMisc:\n    --license       print License information\n\n", 1, 316, fp);
    wait_for(fp, lessmode);
    fwrite((int32_t *)"  Platform specific:\n    --noasm <instructions> disable assembly optimizations for mmx/3dnow/sse\n", 1, 97, fp);
    wait_for(fp, lessmode);
    display_bitrates(fp);
    return 0;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x804f991 - 0x804fa50
// Line range:    923 - 937
void display_bitrate(struct _IO_FILE * fp, char * version, uint32_t d, int32_t indx) {
    // 0x804f991
    fprintf(fp, "\nMPEG-%-3s layer III sample frequencies (kHz):  %2d  %2d  %g\nbitrates (kbps):", version, 32 / d, 48 / d, (float64_t)(44.1L / (float80_t)(int32_t)d));
    int32_t v1 = 1; // 0x804fa2f
    int32_t v2 = *(int32_t *)(4 * (v1 + 16 * indx) + (int32_t)&g12); // 0x804fa10
    fprintf(fp, " %2i", v2);
    v1++;
    while (v1 != (d != 4 ? 15 : 9)) {
        // 0x804fa04
        v2 = *(int32_t *)(4 * (v1 + 16 * indx) + (int32_t)&g12);
        fprintf(fp, " %2i", v2);
        v1++;
    }
    // 0x804fa3b
    fputc(10, fp);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x804fa50 - 0x804fae4
// Line range:    940 - 948
int32_t display_bitrates(struct _IO_FILE * fp) {
    // 0x804fa50
    display_bitrate(fp, "1", 1, 1);
    display_bitrate(fp, "2", 2, 0);
    display_bitrate(fp, "2.5", 4, 0);
    fputc(10, fp);
    fflush(fp);
    return 0;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x804fae4 - 0x804fc9c
// Line range:    976 - 1047
void presets_longinfo_dm(struct _IO_FILE * msgfp) {
    // 0x804fae4
    fwrite((int32_t *)"\nThe --preset switches are aliases over LAME settings.\n\n\n", 1, 57, msgfp);
    fwrite((int32_t *)"To activate these presets:\n\n   For VBR modes (generally highest quality):\n\n", 1, 75, msgfp);
    fwrite((int32_t *)"     \"--preset medium\" This preset should provide near transparency\n                             to most people on most music.\n\n     \"--preset standard\" This preset should generally be transparent\n                             to most people on most music and is already\n                             quite high in quality.\n\n", 1, 323, msgfp);
    fwrite((int32_t *)"     \"--preset extreme\" If you have extremely good hearing and similar\n                             equipment, this preset will generally provide\n                             slightly higher quality than the \"standard\"\n                             mode.\n\n", 1, 255, msgfp);
    fwrite((int32_t *)"   For CBR 320kbps (highest quality possible from the --preset switches):\n\n     \"--preset insane\"  This preset will usually be overkill for most\n                             people and most situations, but if you must\n                             have the absolute highest quality with no\n                             regard to filesize, this is the way to go.\n\n", 1, 362, msgfp);
    fwrite((int32_t *)"   For ABR modes (high quality per given bitrate but not as high as VBR):\n\n     \"--preset <kbps>\"  Using this preset will usually give you good\n                             quality at a specified bitrate. Depending on the\n                             bitrate entered, this preset will determine the\n", 1, 299, msgfp);
    fwrite((int32_t *)"                             optimal settings for that particular situation.\n                             While this approach works, it is not nearly as\n                             flexible as VBR, and usually will not attain the\n                             same level of quality as VBR at higher bitrates.\n\n", 1, 310, msgfp);
    fwrite((int32_t *)"The following options are also available for the corresponding profiles:\n\n   <fast>        standard\n   <fast>        extreme\n                 insane\n   <cbr> (ABR Mode) - The ABR Mode is implied. To use it,\n                      simply specify a bitrate. For example:\n                      \"--preset 185\" activates this\n                      preset and uses 185 as an average kbps.\n\n", 1, 383, msgfp);
    fwrite((int32_t *)"   \"fast\" - Enables the fast VBR mode for a particular profile.\n\n", 1, 65, msgfp);
    fwrite((int32_t *)"   \"cbr\"  - If you use the ABR mode (read above) with a significant\n            bitrate such as 80, 96, 112, 128, 160, 192, 224, 256, 320,\n            you can use the \"cbr\" option to force CBR mode encoding\n            instead of the standard abr mode. ABR does provide higher\n            quality but CBR may be useful in situations such as when\n            streaming an mp3 over the internet may be important.\n\n", 1, 412, msgfp);
    fwrite((int32_t *)"    For example:\n\n    \"--preset fast standard <input file> <output file>\"\n or \"--preset cbr 192 <input file> <output file>\"\n or \"--preset 172 <input file> <output file>\"\n or \"--preset extreme <input file> <output file>\"\n\n\n", 1, 222, msgfp);
    fwrite((int32_t *)"A few aliases are also available for ABR mode:\nphone => 16kbps/mono        phon+/lw/mw-eu/sw => 24kbps/mono\nmw-us => 40kbps/mono        voice => 56kbps/mono\nfm/radio/tape => 112kbps    hifi => 160kbps\ncd => 192kbps               studio => 256kbps\n", 1, 247, msgfp);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x804fc9c - 0x80500de
// Line range:    1055 - 1192
int32_t presets_set(int32_t * gfp, int32_t fast, int32_t cbr, char * preset_name, char * ProgramName) {
    // 0x804fc9c
    if (strcmp(preset_name, "help") == 0) {
        if (fast >= 0 != fast != 0) {
            if (cbr >= 0 != cbr != 0) {
                // 0x804fccc
                lame_version_print(g15);
                presets_longinfo_dm(g15);
                // 0x80500dc
                return -1;
            }
        }
    }
    int32_t strcmp_rc = strcmp(preset_name, "phone"); // 0x804fcfe
    char * str = strcmp_rc != 0 ? preset_name : "16";
    char * str2; // 0x804fc9c
    int32_t v1; // 0x804fc9c
    if (strcmp(str, "phon+") == 0) {
        // 0x804fd71
        str2 = "24";
        v1 = 1;
        goto lab_0x804fd7f;
    } else {
        // 0x804fd2c
        if (strcmp(str, "lw") == 0) {
            // 0x804fd71
            str2 = "24";
            v1 = 1;
            goto lab_0x804fd7f;
        } else {
            // 0x804fd43
            if (strcmp(str, "mw-eu") == 0) {
                // 0x804fd71
                str2 = "24";
                v1 = 1;
                goto lab_0x804fd7f;
            } else {
                int32_t strcmp_rc2 = strcmp(str, "sw"); // 0x804fd68
                str2 = str;
                v1 = strcmp_rc == 0;
                if (strcmp_rc2 != 0) {
                    goto lab_0x804fd7f;
                } else {
                    // 0x804fd71
                    str2 = "24";
                    v1 = 1;
                    goto lab_0x804fd7f;
                }
            }
        }
    }
  lab_0x804fd7f:;
    int32_t strcmp_rc3 = strcmp(str2, "mw-us"); // 0x804fd8d
    char * str3 = strcmp_rc3 != 0 ? str2 : "40";
    int32_t strcmp_rc4 = strcmp(str3, "voice"); // 0x804fdb2
    char * str4 = strcmp_rc4 != 0 ? str3 : "56";
    char * str5 = strcmp(str4, "fm") != 0 ? str4 : "112";
    char * v2; // 0x804fc9c
    if (strcmp(str5, "radio") == 0) {
        // 0x804fe15
        v2 = "112";
        goto lab_0x804fe1c;
    } else {
        int32_t strcmp_rc5 = strcmp(str5, "tape"); // 0x804fe0c
        v2 = str5;
        if (strcmp_rc5 != 0) {
            goto lab_0x804fe1c;
        } else {
            // 0x804fe15
            v2 = "112";
            goto lab_0x804fe1c;
        }
    }
  lab_0x804fe1c:;
    int32_t v3 = (int32_t)gfp;
    char * str6 = v2;
    char * str7 = strcmp(str6, "hifi") != 0 ? str6 : "160";
    char * str8 = strcmp(str7, "cd") != 0 ? str7 : "192";
    char * str9 = strcmp(str8, "studio") != 0 ? str8 : "256";
    if (strcmp(str9, "medium") == 0) {
        // 0x804fe8d
        function_804a96c(v3, 4);
        if (fast < 1) {
            // 0x804febb
            function_804a4bc(v3, 2);
        } else {
            // 0x804fea6
            function_804a4bc(v3, 4);
        }
        // 0x80500dc
        return 0;
    }
    // 0x804fed8
    if (strcmp(str9, "standard") == 0) {
        // 0x804feef
        function_804a96c(v3, 2);
        if (fast < 1) {
            // 0x804ff1d
            function_804a4bc(v3, 2);
        } else {
            // 0x804ff08
            function_804a4bc(v3, 4);
        }
        // 0x80500dc
        return 0;
    }
    // 0x804ff3a
    if (strcmp(str9, "extreme") == 0) {
        // 0x804ff51
        function_804a96c(v3, 0);
        if (fast < 1) {
            // 0x804ff7f
            function_804a4bc(v3, 2);
        } else {
            // 0x804ff6a
            function_804a4bc(v3, 4);
        }
        // 0x80500dc
        return 0;
    }
    // 0x804ff9c
    if (strcmp(str9, "insane") == 0) {
        if (fast >= 0 != fast != 0) {
            // 0x804ffb9
            function_804a88c(v3, 1003);
            // 0x80500dc
            return 0;
        }
    }
    // 0x804ffd6
    if (atoi(str9) >= 1) {
        if (fast >= 0 != fast != 0) {
            // 0x804fff3
            if (atoi(str9) >= 8) {
                // 0x8050003
                if (atoi(str9) <= 320) {
                    // 0x8050015
                    function_804a88c(v3, atoi(str9));
                    if (cbr == 1) {
                        // 0x8050035
                        function_804a4bc(v3, 0);
                    }
                    // 0x8050048
                    if (v1 == 1 || strcmp_rc3 == 0 || strcmp_rc4 == 0) {
                        // 0x805004e
                        function_804a8bc(v3, 3);
                    }
                    // 0x80500dc
                    return 0;
                }
            }
            // 0x8050068
            lame_version_print(g40);
            error_printf("Error: The bitrate specified is out of the valid range for this preset\n\nWhen using this mode you must enter a value between \"32\" and \"320\"\n\nFor further information try: \"%s --preset help\"\n", ProgramName);
            // 0x80500dc
            return -1;
        }
    }
    // 0x805008f
    lame_version_print(g40);
    error_printf("Error: You did not enter a valid profile and/or options with --preset\n\nAvailable profiles are:\n\n   <fast>        medium\n   <fast>        standard\n   <fast>        extreme\n                 insane\n          <cbr> (ABR Mode) - The ABR Mode is implied. To use it,\n                             simply specify a bitrate. For example:\n                             \"--preset 185\" activates this\n                             preset and uses 185 as an average kbps.\n\n");
    error_printf("    Some examples:\n\n or \"%s --preset fast standard <input file> <output file>\"\n or \"%s --preset cbr 192 <input file> <output file>\"\n or \"%s --preset 172 <input file> <output file>\"\n or \"%s --preset extreme <input file> <output file>\"\n\nFor further information try: \"%s --preset help\"\n", ProgramName, ProgramName, ProgramName, ProgramName, ProgramName);
    // 0x80500dc
    return -1;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x8050100 - 0x8050158
// Line range:    1219 - 1234
int32_t local_strcasecmp(char * s1, char * s2) {
    char * c = s1; // 0x8050103
    char * c2 = s2; // 0x8050103
    uint32_t v1 = tolower((int32_t)*c); // 0x8050112
    char v2 = v1; // 0x8050117
    uint32_t v3 = tolower((int32_t)*c2); // 0x8050126
    while (v2 != 0) {
        // 0x8050134
        c = (char *)((int32_t)c + 1);
        c2 = (char *)((int32_t)c2 + 1);
        if (v2 != (char)v3) {
            // break -> 0x8050148
            break;
        }
        v1 = tolower((int32_t)*c);
        v2 = v1;
        v3 = tolower((int32_t)*c2);
    }
    // 0x8050148
    return v1 % 256 - v3 % 256;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x8050158 - 0x8050285
// Line range:    1242 - 1267
int32_t filename_to_type(char * FileName) {
    uint32_t len = strlen(FileName); // 0x8050164
    if (len < 4) {
        // 0x8050283
        return 0;
    }
    char * v1 = (char *)((int32_t)FileName - 4 + len); // 0x8050182
    if (local_strcasecmp(v1, ".mpg") == 0 || local_strcasecmp(v1, ".mp1") == 0 || local_strcasecmp(v1, ".mp2") == 0 || local_strcasecmp(v1, ".mp3") == 0) {
        // 0x8050283
        return 7;
    }
    // 0x8050206
    if (local_strcasecmp(v1, ".wav") == 0) {
        // 0x8050283
        return 2;
    }
    // 0x8050224
    if (local_strcasecmp(v1, ".aif") == 0) {
        // 0x8050283
        return 3;
    }
    int32_t result = 1; // 0x8050257
    if (local_strcasecmp(v1, ".raw") != 0) {
        // 0x8050260
        result = local_strcasecmp(v1, ".ogg") != 0 ? 0 : 8;
    }
    // 0x8050283
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x8050285 - 0x8050341
// Line range:    1270 - 1298
int32_t resample_rate(float64_t freq) {
    float64_t v1; // 0x8050285
    if (freq > 1000.0) {
        // 0x80502ad
        v1 = 0.001L * (float80_t)freq;
        goto lab_0x80502bb;
    } else {
        v1 = freq;
        if (freq != 1000.0) {
            goto lab_0x80502bb;
        } else {
            // 0x80502ad
            v1 = 0.001L * (float80_t)freq;
            goto lab_0x80502bb;
        }
    }
  lab_0x80502bb:;
    int32_t v2 = v1; // 0x80502ce
    g55 = v2 - 8;
    int32_t result = 0x1f40; // 0x80502e6
    switch (v2) {
        case 11: {
            // 0x80502ef
            result = 0x2b11;
        }
        case 8: {
            // 0x805033f
            return result;
        }
        case 12: {
            // 0x80502f6
            result = 0x2ee0;
            return result;
        }
        case 16: {
            // 0x80502fd
            result = 0x3e80;
            return result;
        }
        case 22: {
            // 0x8050304
            result = 0x5622;
            return result;
        }
        case 24: {
            // 0x805030b
            result = 0x5dc0;
            return result;
        }
        case 32: {
            // 0x8050312
            result = 0x7d00;
            return result;
        }
        case 44: {
            // 0x8050319
            result = 0xac44;
            return result;
        }
        case 48: {
            // 0x8050320
            result = 0xbb80;
            return result;
        }
        default: {
            // 0x8050327
            error_printf("Illegal resample frequency: %.3f kHz\n", v1);
            result = 0;
            return result;
        }
    }
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x8050341 - 0x80504d7
// Line range:    1302 - 1344
int32_t set_id3_albumart(int32_t * gfp, char * file_name) {
    // 0x8050341
    if (file_name == NULL) {
        // 0x80504d5
        return 0;
    }
    struct _IO_FILE * stream = fopen64(file_name, "rb"); // 0x805037b
    if (stream == NULL) {
        // 0x8050487
        error_printf("Could not find: '%s'.\n", file_name);
        // 0x80504d5
        return 1;
    }
    // 0x8050395
    fseek(stream, 0, SEEK_END);
    int32_t curr_file_offset = ftell(stream); // 0x80503b6
    fseek(stream, 0, SEEK_SET);
    int32_t * mem = malloc(curr_file_offset); // 0x80503df
    if (mem == NULL) {
        // 0x805049c
        fclose(stream);
        error_printf("Insufficient memory for reading the albumart.\n");
        // 0x80504d5
        return 2;
    }
    int32_t result = 3; // 0x805041a
    if (fread(mem, 1, curr_file_offset, stream) == curr_file_offset) {
        // 0x8050425
        result = function_804a0ec((int32_t)gfp, (int32_t)mem, curr_file_offset) == 0 ? 0 : 4;
    }
    // 0x805046f
    free(mem);
    fclose(stream);
    if (result <= 2) {
        // 0x80504d5
        return result;
    }
    int32_t result2 = result; // 0x8050341
    switch (result) {
        case 3: {
            // 0x80504aa
            error_printf("Read error: '%s'.\n", file_name);
            result2 = 3;
            // break -> 0x80504d5
            break;
        }
        case 4: {
            // 0x80504bf
            error_printf("Unsupported image: '%s'.\nSpecify JPEG/PNG/GIF image (128KB maximum)\n", file_name);
            result2 = 4;
            // break -> 0x80504d5
            break;
        }
    }
    // 0x80504d5
    return result2;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/parse.c
// Address range: 0x80504d7 - 0x8052914
// Line range:    1363 - 2338
int32_t parse_args(int32_t * gfp, uint32_t argc, char ** argv, char * inPath, char * outPath, char ** nogap_inPath, int32_t * num_nogap) {
    int32_t v1 = (int32_t)gfp;
    char * v2 = *argv; // 0x80504ff
    *inPath = 0;
    *outPath = 0;
    silent = 0;
    ignore_tag_errors = 0;
    g44 = 1;
    mp3_delay = 0;
    mp3_delay_set = 0;
    print_clipping_info = 0;
    disable_wav_header = 0;
    function_804a17c(v1);
    if (argc <= 1) {
      lab_0x80526e8:
        // 0x80526e8
        usage(g39, v2);
        // 0x8052912
        return -1;
    }
    int32_t v3 = (int32_t)argv;
    int32_t v4 = 1; // 0x80526d2
    int32_t v5 = 0;
    int32_t v6 = 0;
    int32_t v7 = 0; // 0x805203f
    int32_t v8 = 0;
    int32_t v9 = 0; // 0x80504d7
    char * v10 = NULL;
    int32_t v11 = 0;
    int32_t v12 = 0;
    int32_t v13; // 0x80504d7
    int32_t v14; // 0x80504d7
    int32_t v15; // 0x80504d7
    int32_t v16; // 0x80504d7
    int32_t v17; // 0x80504d7
    int32_t v18; // 0x80504d7
    int32_t v19; // 0x80504d7
    int32_t v20; // 0x80504d7
    int32_t v21; // 0x80504d7
    int32_t v22; // 0x80504d7
    int32_t v23; // 0x80504d7
    int32_t result; // 0x80504d7
    int32_t v24; // 0x80504d7
    int32_t v25; // 0x80504d7
    int32_t v26; // 0x80504d7
    int32_t v27; // 0x80504d7
    int32_t v28; // 0x80504d7
    int32_t v29; // 0x80504d7
    int32_t v30; // 0x80504d7
    int32_t v31; // 0x80504d7
    int32_t v32; // 0x80504d7
    int32_t v33; // 0x80504d7
    int32_t v34; // 0x80504d7
    int32_t v35; // 0x80504d7
    int32_t v36; // 0x80504d7
    int32_t v37; // 0x80504d7
    int32_t v38; // 0x80504d7
    int32_t v39; // 0x80504d7
    int32_t v40; // 0x80504d7
    char * v41; // 0x80504d7
    char * v42; // 0x80504d7
    char * v43; // 0x80504d7
    char * v44; // 0x80504d7
    float80_t v45; // 0x80504d7
    float80_t v46; // 0x80504d7
    float80_t v47; // 0x80504d7
    float80_t v48; // 0x80504d7
    float80_t v49; // 0x80504d7
    float80_t v50; // 0x80504d7
    int32_t v51; // 0x80504d7
    int32_t v52; // 0x80504d7
    int32_t v53; // 0x80504d7
    int32_t str4; // 0x80504d7
    int32_t str5; // 0x80504d7
    char v54; // 0x80525b4
    int32_t v55; // 0x80525c1
    while (true) {
      lab_0x8050582:
        // 0x8050582
        v42 = v10;
        v23 = v9;
        int32_t v56 = v4; // 0x80526d2
        float80_t v57 = v50; // 0x80504d7
        int32_t v58 = v5; // 0x80504d7
        int32_t v59 = v6; // 0x80504d7
        int32_t v60 = v7; // 0x80504d7
        int32_t v61 = v8; // 0x80504d7
        int32_t v62 = v11; // 0x80504d7
        int32_t v63 = v12; // 0x80504d7
        int32_t v64; // 0x80504d7
        while (true) {
            // 0x8050582
            v20 = v63;
            v6 = v59;
            v49 = v57;
            int32_t v65 = 4 * v56 + v3;
            int32_t v66 = *(int32_t *)v65; // 0x805058b
            char * v67 = (char *)v66;
            int32_t v68 = v62; // 0x80505a1
            int32_t v69 = v58; // 0x80505a1
            int32_t v70 = v56; // 0x80505a1
            int32_t v71 = v60; // 0x80505a1
            int32_t v72 = v61; // 0x80505a1
            int32_t v73 = v65; // 0x80505a1
            int32_t v74 = v66; // 0x80505a1
            char * v75 = v67; // 0x80505a1
            char * v76 = v67; // 0x80505a1
            int32_t v77 = v62; // 0x80505a1
            int32_t v78 = v61; // 0x80505a1
            int32_t v79 = v58; // 0x80505a1
            int32_t v80 = v56; // 0x80505a1
            if (*v67 != 45) {
                while (true) {
                    int32_t v81 = v77;
                    char * v82 = v76;
                    int32_t v83 = v78; // 0x80504d7
                    int32_t v84 = v79; // 0x80504d7
                    int32_t v85 = v80; // 0x80526d2
                    char * str; // 0x80504d7
                    int32_t v86; // 0x80504d7
                    int32_t v87; // 0x80504d7
                    while (true) {
                        int32_t v88 = v84;
                        v86 = v85;
                        v87 = v83;
                        str = v82;
                        if (v87 != 0) {
                            // break (via goto) -> 0x80525d8
                            goto lab_0x80525d8;
                        }
                        while (*inPath != 0) {
                            // 0x8052678
                            if (*outPath != 0) {
                                // 0x80526a6
                                error_printf("%s: excess arg %s\n", v2, str);
                                result = -1;
                                return result;
                            }
                            // 0x8052682
                            strncpy(outPath, str, 0x1001);
                            int32_t v89 = v86 + 1; // 0x80526d2
                            v37 = v81;
                            v44 = v42;
                            v22 = v20;
                            v36 = v6;
                            v51 = v88;
                            v27 = 0;
                            if (v89 >= argc) {
                                goto lab_0x80526e2_3;
                            }
                            int32_t v90 = 4 * v89 + v3;
                            int32_t v91 = *(int32_t *)v90; // 0x805058b
                            char * v92 = (char *)v91;
                            v68 = v81;
                            v69 = v88;
                            v70 = v89;
                            v71 = v86;
                            v72 = 0;
                            v73 = v90;
                            v74 = v91;
                            v75 = v92;
                            if (*v92 == 45) {
                                // break (via goto) -> 0x80505a7
                                goto lab_0x80505a7_2;
                            }
                            v86 = v89;
                            v87 = 0;
                            str = v92;
                            if (v87 != 0) {
                                // break (via goto) -> 0x80525d8
                                goto lab_0x80525d8;
                            }
                        }
                        // 0x805264d
                        strncpy(inPath, str, 0x1001);
                        v85 = v86 + 1;
                        v26 = 0;
                        v38 = v81;
                        v35 = v6;
                        v21 = v20;
                        v43 = v42;
                        if (v85 >= argc) {
                            goto lab_0x8052706_2;
                        }
                        int32_t v93 = 4 * v85 + v3;
                        int32_t v94 = *(int32_t *)v93; // 0x805058b
                        v82 = (char *)v94;
                        v68 = v81;
                        v69 = 1;
                        v70 = v85;
                        v71 = v86;
                        v72 = 0;
                        v73 = v93;
                        v74 = v94;
                        v75 = v82;
                        v83 = 0;
                        v84 = 1;
                        if (*v82 == 45) {
                            // break (via goto) -> 0x80505a7
                            goto lab_0x80505a7_2;
                        }
                    }
                  lab_0x80525d8:
                    if (num_nogap == NULL) {
                        // break (via goto) -> 0x8052624
                        goto lab_0x8052624_2;
                    }
                    // 0x80525de
                    if (*num_nogap <= v81) {
                        // break (via goto) -> 0x8052624
                        goto lab_0x8052624_2;
                    }
                    int32_t str2 = *(int32_t *)(4 * v81 + (int32_t)nogap_inPath); // 0x80525fe
                    int32_t v95 = v81 + 1; // 0x8052600
                    strncpy((char *)str2, str, 0x1001);
                    int32_t v96 = v86 + 1; // 0x80526d2
                    v26 = v87;
                    v38 = v95;
                    v35 = v6;
                    v21 = v20;
                    v43 = v42;
                    if (v96 >= argc) {
                        goto lab_0x8052706_2;
                    }
                    int32_t v97 = 4 * v96 + v3;
                    int32_t v98 = *(int32_t *)v97; // 0x805058b
                    char * v99 = (char *)v98;
                    v68 = v95;
                    v69 = 1;
                    v70 = v96;
                    v71 = v86;
                    v72 = v87;
                    v73 = v97;
                    v74 = v98;
                    v75 = v99;
                    v76 = v99;
                    v77 = v95;
                    v78 = v87;
                    v79 = 1;
                    v80 = v96;
                    if (*v99 == 45) {
                        // break -> 0x80505a7
                        break;
                    }
                }
            }
          lab_0x80505a7_2:;
            char * str3 = v75;
            v64 = v74;
            v25 = v72;
            v13 = v70;
            v11 = v68;
            int32_t v100 = &g7; // 0x80505b7
            if (v71 + 2 < argc) {
                // 0x80505b9
                v100 = *(int32_t *)(v73 + 4);
            }
            int32_t v101 = v64 + 1; // 0x805059b
            str5 = v100;
            char * v102 = (char *)v101; // 0x80505d4
            int32_t v103 = v69; // 0x80505d9
            if (*v102 == 0) {
                // 0x80505db
                if (*inPath != 0) {
                    // 0x8050610
                    v103 = 1;
                    if (*outPath == 0) {
                        // 0x805061a
                        strncpy(outPath, str3, 0x1001);
                        v103 = 1;
                    }
                } else {
                    // 0x80505ec
                    strncpy(inPath, str3, 0x1001);
                    v103 = 1;
                }
            }
            // 0x805063c
            v5 = v103;
            v17 = v20;
            v28 = v13;
            v39 = v101;
            v32 = v6;
            v47 = v49;
            if (*v102 == 45) {
                // break -> 0x805064a
                break;
            }
            while (true) {
              lab_0x80525b1_2:
                // 0x80525b1
                v48 = v47;
                v29 = v28;
                v18 = v17;
                v40 = v39;
                v33 = v32;
                while (true) {
                  lab_0x80525b1:
                    // 0x80525b1
                    v34 = v33;
                    int32_t v104 = v40;
                    v19 = v18;
                    v54 = *(char *)v104;
                    if (v54 == 0) {
                        // break (via goto) -> 0x80526d2
                        goto lab_0x80526d2;
                    }
                    // 0x8052047
                    v55 = v104 + 1;
                    str4 = *(char *)v55 == 0 ? str5 : v55;
                    int32_t v105 = v54; // 0x805205c
                    g52 = v105 - 63;
                    int32_t v106; // bp-128, 0x80504d7
                    switch (v105) {
                        case 63: {
                            // 0x8052535
                            long_help(gfp, g15, v2, 0);
                            // 0x8052912
                            return -1;
                        }
                        case 66: {
                            goto lab_0x8052300;
                        }
                        case 70: {
                            // 0x8052326
                            function_804a2fc(v1, 1);
                            v16 = v19;
                            v53 = 0;
                            v31 = v34;
                            goto lab_0x8052588;
                        }
                        case 83: {
                            // 0x80523f7
                            silent = 10;
                            v16 = v19;
                            v53 = 0;
                            v31 = v34;
                            goto lab_0x8052588;
                        }
                        case 84: {
                            // 0x8052360
                            function_804a7dc(v1, 1);
                            disable_wav_header = 0;
                            v16 = 1;
                            v53 = 0;
                            v31 = v34;
                            goto lab_0x8052588;
                        }
                        case 86: {
                            // 0x8052142
                            if (function_804a51c(v1) == 0) {
                                // 0x8052158
                                function_804a4bc(v1, 4);
                            }
                            // 0x805216b
                            function_804a38c(v1, (float80_t)atof((char *)str4));
                            v46 = v48;
                            v30 = v34;
                            v15 = v19;
                            goto lab_0x805258e;
                        }
                        case 88: {
                            // 0x8052406
                            int32_t v107; // bp-120, 0x80504d7
                            int32_t items_assigned = sscanf((char *)str4, "%d,%d", &v107, &v106); // 0x8052423
                            v46 = v48;
                            v30 = v34;
                            v15 = v19;
                            if (items_assigned == 1) {
                                // 0x8052431
                                v106 = v107;
                                v46 = v48;
                                v30 = v34;
                                v15 = v19;
                            }
                            goto lab_0x805258e;
                        }
                        case 89: {
                            // 0x8052443
                            function_804a8fc(v1, 1);
                            v16 = v19;
                            v53 = 0;
                            v31 = v34;
                            goto lab_0x8052588;
                        }
                        case 90: {
                            // 0x805245b
                            v106 = 1;
                            int32_t items_assigned2 = sscanf((char *)str4, "%d", &v106); // 0x8052478
                            v16 = v19;
                            v53 = items_assigned2;
                            v31 = v34;
                            goto lab_0x8052588;
                        }
                        case 97: {
                            // 0x80523bf
                            function_804a8bc(v1, 3);
                            v16 = v19;
                            v53 = 0;
                            v31 = 1;
                            goto lab_0x8052588;
                        }
                        case 98: {
                            // 0x80522c0
                            function_804a5bc(v1, atoi((char *)str4));
                            function_804a41c(v1, function_804a9bc(v1));
                            v46 = v48;
                            v30 = v34;
                            v15 = v19;
                            goto lab_0x805258e;
                        }
                        case 99: {
                            // 0x805250b
                            function_804aa4c(v1, 1);
                            v16 = v19;
                            v53 = 0;
                            v31 = v34;
                            goto lab_0x8052588;
                        }
                        case 100: {
                            goto lab_0x80523de;
                        }
                        case 101: {
                            char * v108 = (char *)str4;
                            switch (*v108) {
                                case 99: {
                                    // 0x80524d0
                                    function_804a8ac(v1, 3);
                                    v46 = v48;
                                    v30 = v34;
                                    v15 = v19;
                                    // break -> 0x805258e
                                    break;
                                }
                                case 110: {
                                    // 0x80524a6
                                    function_804a8ac(v1, 0);
                                    v46 = v48;
                                    v30 = v34;
                                    v15 = v19;
                                    // break -> 0x805258e
                                    break;
                                }
                                case 53: {
                                    // 0x80524bb
                                    function_804a8ac(v1, 1);
                                    v46 = v48;
                                    v30 = v34;
                                    v15 = v19;
                                    // break -> 0x805258e
                                    break;
                                }
                                default: {
                                    // 0x80524e5
                                    error_printf("%s: -e emp must be n/5/c not %s\n", v2, v108);
                                    // 0x8052912
                                    return -1;
                                }
                            }
                            goto lab_0x805258e;
                        }
                        case 102: {
                            // 0x8052207
                            function_804a67c(v1, 7);
                            v16 = v19;
                            v53 = 0;
                            v31 = v34;
                            goto lab_0x8052588;
                        }
                        case 104: {
                            // 0x805221f
                            function_804a67c(v1, 2);
                            v16 = v19;
                            v53 = 0;
                            v31 = v34;
                            goto lab_0x8052588;
                        }
                        case 107: {
                            goto lab_0x80523de;
                        }
                        case 109: {
                            char * v109 = (char *)str4;
                            int32_t v110 = (int32_t)*v109; // 0x8052082
                            g53 = v110 - 97;
                            switch (v110) {
                                case 97: {
                                    // 0x8052104
                                    function_804a8bc(v1, 1);
                                    v46 = v48;
                                    v30 = v34;
                                    v15 = v19;
                                    // break -> 0x805258e
                                    break;
                                }
                                case 100: {
                                    // 0x80520b2
                                    function_804a8bc(v1, 2);
                                    v46 = v48;
                                    v30 = v34;
                                    v15 = v19;
                                    // break -> 0x805258e
                                    break;
                                }
                                case 102: {
                                    // 0x80520c7
                                    function_804a34c(v1, 1);
                                }
                                case 106: {
                                    // 0x80520da
                                    function_804a8bc(v1, 1);
                                    v46 = v48;
                                    v30 = v34;
                                    v15 = v19;
                                    // break -> 0x805258e
                                    break;
                                }
                                case 109: {
                                    // 0x80520ef
                                    function_804a8bc(v1, 3);
                                    v46 = v48;
                                    v30 = v34;
                                    v15 = v19;
                                    // break -> 0x805258e
                                    break;
                                }
                                case 115: {
                                    // 0x805209a
                                    function_804a8bc(v1, 0);
                                    v46 = v48;
                                    v30 = v34;
                                    v15 = v19;
                                    // break -> 0x805258e
                                    break;
                                }
                                default: {
                                    // 0x8052119
                                    error_printf("%s: -m mode must be s/d/j/f/m not %s\n", v2, v109);
                                    // 0x8052912
                                    return -1;
                                }
                            }
                            goto lab_0x805258e;
                        }
                        case 111: {
                            // 0x8052520
                            function_804a77c(v1, 0);
                            v16 = v19;
                            v53 = 0;
                            v31 = v34;
                            goto lab_0x8052588;
                        }
                        case 112: {
                            // 0x80523a7
                            function_804a1fc(v1, 1);
                            v16 = v19;
                            v53 = 0;
                            v31 = v34;
                            goto lab_0x8052588;
                        }
                        case 113: {
                            int32_t str_as_i = atoi((char *)str4); // 0x80521ce
                            int32_t v111 = str_as_i >= 0 ? str_as_i : 0;
                            function_804a67c(v1, v111 < 9 ? v111 : 9);
                            v46 = v48;
                            v30 = v34;
                            v15 = v19;
                            goto lab_0x805258e;
                        }
                        case 114: {
                            // 0x8052389
                            input_format = 1;
                            v16 = v19;
                            v53 = 0;
                            v31 = v34;
                            goto lab_0x8052588;
                        }
                        case 115: {
                            float80_t v112 = v48 * (float80_t)atof((char *)str4) + 0.5L; // 0x805227c
                            function_804a93c(v1, (int32_t)v112);
                            v46 = v112;
                            v30 = v34;
                            v15 = v19;
                            goto lab_0x805258e;
                        }
                        case 116: {
                            // 0x805233e
                            function_804a7dc(v1, 0);
                            disable_wav_header = 1;
                            v16 = v19;
                            v53 = 0;
                            v31 = v34;
                            goto lab_0x8052588;
                        }
                        case 118: {
                            // 0x8052196
                            v16 = v19;
                            v53 = 0;
                            v31 = v34;
                            if (function_804a51c(v1) == 0) {
                                // 0x80521a9
                                function_804a4bc(v1, 4);
                                v16 = v19;
                                v53 = 0;
                                v31 = v34;
                            }
                            goto lab_0x8052588;
                        }
                        case 120: {
                            // 0x8052398
                            swapbytes = 1;
                            v16 = v19;
                            v53 = 0;
                            v31 = v34;
                            goto lab_0x8052588;
                        }
                        default: {
                            // 0x8052562
                            error_printf("%s: unrecognized option -%c\n", v2, v54);
                            // 0x8052912
                            return -1;
                        }
                    }
                }
              lab_0x8052300:
                // 0x8052300
                function_804a74c(v1, atoi((char *)str4));
                v46 = v48;
                v30 = v34;
                v15 = v19;
                goto lab_0x805258e;
            }
          lab_0x80526d2:
            // 0x80526d2
            v56 = v29 + 1;
            v57 = v48;
            v58 = v5;
            v59 = v34;
            v60 = v29;
            v61 = v25;
            v62 = v11;
            v63 = v19;
            v37 = v11;
            v44 = v42;
            v22 = v19;
            v36 = v34;
            v51 = v5;
            v27 = v25;
            if (v56 >= argc) {
                goto lab_0x80526e2_3;
            }
        }
        char * v113 = (char *)(v64 + 2);
        if (local_strcasecmp(v113, "resample") != 0) {
            // 0x8050693
            if (local_strcasecmp(v113, "vbr-old") != 0) {
                // 0x80506c2
                if (local_strcasecmp(v113, "vbr-new") != 0) {
                    // 0x80506f1
                    if (local_strcasecmp(v113, "vbr-mtrh") != 0) {
                        // 0x8050720
                        if (local_strcasecmp(v113, "cbr") != 0) {
                            // 0x805074f
                            if (local_strcasecmp(v113, "abr") != 0) {
                                // 0x8050850
                                if (local_strcasecmp(v113, "r3mix") != 0) {
                                    // 0x805087f
                                    if (local_strcasecmp(v113, "bitwidth") != 0) {
                                        // 0x80508b2
                                        if (local_strcasecmp(v113, "signed") != 0) {
                                            // 0x80508d8
                                            if (local_strcasecmp(v113, "unsigned") != 0) {
                                                // 0x80508fe
                                                if (local_strcasecmp(v113, "little-endian") != 0) {
                                                    // 0x8050924
                                                    if (local_strcasecmp(v113, "big-endian") != 0) {
                                                        // 0x805094a
                                                        if (local_strcasecmp(v113, "mp1input") != 0) {
                                                            // 0x8050970
                                                            if (local_strcasecmp(v113, "mp2input") != 0) {
                                                                // 0x8050996
                                                                if (local_strcasecmp(v113, "mp3input") != 0) {
                                                                    // 0x80509bc
                                                                    if (local_strcasecmp(v113, "ogginput") == 0) {
                                                                        // 0x80509d3
                                                                        error_printf("sorry, vorbis support in LAME is deprecated.\n");
                                                                        result = -1;
                                                                        return result;
                                                                    }
                                                                    // 0x80509e9
                                                                    if (local_strcasecmp(v113, "phone") != 0) {
                                                                        // 0x8050a48
                                                                        if (local_strcasecmp(v113, "voice") != 0) {
                                                                            // 0x8050aa7
                                                                            if (local_strcasecmp(v113, "decode") != 0) {
                                                                                // 0x8050ad6
                                                                                if (local_strcasecmp(v113, "flush") != 0) {
                                                                                    // 0x8050afc
                                                                                    if (local_strcasecmp(v113, "decode-mp3delay") != 0) {
                                                                                        // 0x8050b39
                                                                                        if (local_strcasecmp(v113, "nores") != 0) {
                                                                                            // 0x8050b68
                                                                                            if (local_strcasecmp(v113, "strictly-enforce-ISO") != 0) {
                                                                                                // 0x8050b97
                                                                                                if (local_strcasecmp(v113, "scale") != 0) {
                                                                                                    // 0x8050be0
                                                                                                    if (local_strcasecmp(v113, "scale-l") != 0) {
                                                                                                        // 0x8050c29
                                                                                                        if (local_strcasecmp(v113, "scale-r") != 0) {
                                                                                                            // 0x8050c72
                                                                                                            if (local_strcasecmp(v113, "noasm") != 0) {
                                                                                                                // 0x8050d33
                                                                                                                if (local_strcasecmp(v113, "freeformat") != 0) {
                                                                                                                    // 0x8050d62
                                                                                                                    if (local_strcasecmp(v113, "replaygain-fast") != 0) {
                                                                                                                        // 0x8050d91
                                                                                                                        if (local_strcasecmp(v113, "replaygain-accurate") != 0) {
                                                                                                                            // 0x8050dd3
                                                                                                                            if (local_strcasecmp(v113, "noreplaygain") != 0) {
                                                                                                                                // 0x8050e09
                                                                                                                                if (local_strcasecmp(v113, "clipdetect") != 0) {
                                                                                                                                    // 0x8050e42
                                                                                                                                    if (local_strcasecmp(v113, "nohist") != 0) {
                                                                                                                                        // 0x8050e68
                                                                                                                                        if (local_strcasecmp(v113, "tt") != 0) {
                                                                                                                                            // 0x8050ead
                                                                                                                                            if (local_strcasecmp(v113, "ta") != 0) {
                                                                                                                                                // 0x8050ef2
                                                                                                                                                if (local_strcasecmp(v113, "tl") != 0) {
                                                                                                                                                    // 0x8050f37
                                                                                                                                                    if (local_strcasecmp(v113, "ty") != 0) {
                                                                                                                                                        // 0x8050f7c
                                                                                                                                                        if (local_strcasecmp(v113, "tc") != 0) {
                                                                                                                                                            // 0x8050fc1
                                                                                                                                                            if (local_strcasecmp(v113, "tn") != 0) {
                                                                                                                                                                // 0x8051064
                                                                                                                                                                if (local_strcasecmp(v113, "tg") != 0) {
                                                                                                                                                                    // 0x8051154
                                                                                                                                                                    if (local_strcasecmp(v113, "tv") != 0) {
                                                                                                                                                                        // 0x80511c2
                                                                                                                                                                        if (local_strcasecmp(v113, "ti") != 0) {
                                                                                                                                                                            // 0x8051211
                                                                                                                                                                            if (local_strcasecmp(v113, "ignore-tag-errors") != 0) {
                                                                                                                                                                                // 0x8051237
                                                                                                                                                                                if (local_strcasecmp(v113, "add-id3v2") != 0) {
                                                                                                                                                                                    // 0x805125e
                                                                                                                                                                                    if (local_strcasecmp(v113, "id3v1-only") != 0) {
                                                                                                                                                                                        // 0x805128c
                                                                                                                                                                                        if (local_strcasecmp(v113, "id3v2-only") != 0) {
                                                                                                                                                                                            // 0x80512ba
                                                                                                                                                                                            if (local_strcasecmp(v113, "space-id3v1") != 0) {
                                                                                                                                                                                                // 0x80512e1
                                                                                                                                                                                                if (local_strcasecmp(v113, "pad-id3v2") != 0) {
                                                                                                                                                                                                    // 0x8051308
                                                                                                                                                                                                    if (local_strcasecmp(v113, "pad-id3v2-size") != 0) {
                                                                                                                                                                                                        // 0x805136e
                                                                                                                                                                                                        if (local_strcasecmp(v113, "genre-list") == 0) {
                                                                                                                                                                                                            // 0x8051385
                                                                                                                                                                                                            function_804a80c(0x80500de, 0);
                                                                                                                                                                                                            result = -2;
                                                                                                                                                                                                            return result;
                                                                                                                                                                                                        }
                                                                                                                                                                                                        // 0x80513a3
                                                                                                                                                                                                        if (local_strcasecmp(v113, "lowpass") != 0) {
                                                                                                                                                                                                            // 0x80514b8
                                                                                                                                                                                                            if (local_strcasecmp(v113, "lowpass-width") != 0) {
                                                                                                                                                                                                                // 0x80515a2
                                                                                                                                                                                                                if (local_strcasecmp(v113, "highpass") != 0) {
                                                                                                                                                                                                                    // 0x80516b7
                                                                                                                                                                                                                    if (local_strcasecmp(v113, "highpass-width") != 0) {
                                                                                                                                                                                                                        // 0x8051778
                                                                                                                                                                                                                        if (local_strcasecmp(v113, "comp") != 0) {
                                                                                                                                                                                                                            // 0x80517f6
                                                                                                                                                                                                                            if (local_strcasecmp(v113, "notemp") != 0) {
                                                                                                                                                                                                                                // 0x8051825
                                                                                                                                                                                                                                if (local_strcasecmp(v113, "interch") != 0) {
                                                                                                                                                                                                                                    // 0x805186e
                                                                                                                                                                                                                                    if (local_strcasecmp(v113, "temporal-masking") != 0) {
                                                                                                                                                                                                                                        // 0x80518b3
                                                                                                                                                                                                                                        v14 = v20;
                                                                                                                                                                                                                                        v41 = v42;
                                                                                                                                                                                                                                        v9 = v23;
                                                                                                                                                                                                                                        v24 = v25;
                                                                                                                                                                                                                                        v52 = 0;
                                                                                                                                                                                                                                        v45 = v49;
                                                                                                                                                                                                                                        if (local_strcasecmp(v113, "nspsytune") == 0) {
                                                                                                                                                                                                                                            goto lab_0x805203c;
                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                            // 0x80518ce
                                                                                                                                                                                                                                            if (local_strcasecmp(v113, "nssafejoint") != 0) {
                                                                                                                                                                                                                                                // 0x8051907
                                                                                                                                                                                                                                                if (local_strcasecmp(v113, "nsmsfix") != 0) {
                                                                                                                                                                                                                                                    // 0x8051944
                                                                                                                                                                                                                                                    if (local_strcasecmp(v113, "ns-bass") != 0) {
                                                                                                                                                                                                                                                        // 0x80519f5
                                                                                                                                                                                                                                                        if (local_strcasecmp(v113, "ns-alto") != 0) {
                                                                                                                                                                                                                                                            // 0x8051aa6
                                                                                                                                                                                                                                                            if (local_strcasecmp(v113, "ns-treble") != 0) {
                                                                                                                                                                                                                                                                // 0x8051b57
                                                                                                                                                                                                                                                                if (local_strcasecmp(v113, "ns-sfb21") != 0) {
                                                                                                                                                                                                                                                                    // 0x8051c08
                                                                                                                                                                                                                                                                    v14 = v20;
                                                                                                                                                                                                                                                                    v41 = v42;
                                                                                                                                                                                                                                                                    v9 = v23;
                                                                                                                                                                                                                                                                    v24 = v25;
                                                                                                                                                                                                                                                                    v52 = 0;
                                                                                                                                                                                                                                                                    v45 = v49;
                                                                                                                                                                                                                                                                    if (local_strcasecmp(v113, "nspsytune2") == 0) {
                                                                                                                                                                                                                                                                        goto lab_0x805203c;
                                                                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                                                                        // 0x8051c23
                                                                                                                                                                                                                                                                        if (local_strcasecmp(v113, "quiet") == 0) {
                                                                                                                                                                                                                                                                            goto lab_0x8051c51;
                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                            // 0x8051c3a
                                                                                                                                                                                                                                                                            if (local_strcasecmp(v113, "silent") != 0) {
                                                                                                                                                                                                                                                                                // 0x8051c60
                                                                                                                                                                                                                                                                                if (local_strcasecmp(v113, "brief") != 0) {
                                                                                                                                                                                                                                                                                    // 0x8051c86
                                                                                                                                                                                                                                                                                    if (local_strcasecmp(v113, "verbose") != 0) {
                                                                                                                                                                                                                                                                                        // 0x8051cac
                                                                                                                                                                                                                                                                                        if (local_strcasecmp(v113, "version") == 0) {
                                                                                                                                                                                                                                                                                            goto lab_0x8051cda_2;
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        // 0x8051cc3
                                                                                                                                                                                                                                                                                        if (local_strcasecmp(v113, "license") == 0) {
                                                                                                                                                                                                                                                                                            goto lab_0x8051cda_2;
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        // 0x8051cf1
                                                                                                                                                                                                                                                                                        if (local_strcasecmp(v113, "help") == 0) {
                                                                                                                                                                                                                                                                                            goto lab_0x8051d1f_2;
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        // 0x8051d08
                                                                                                                                                                                                                                                                                        if (local_strcasecmp(v113, "usage") == 0) {
                                                                                                                                                                                                                                                                                            goto lab_0x8051d1f_2;
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        // 0x8051d44
                                                                                                                                                                                                                                                                                        if (local_strcasecmp(v113, "longhelp") == 0) {
                                                                                                                                                                                                                                                                                            // 0x8051d5b
                                                                                                                                                                                                                                                                                            long_help(gfp, g15, v2, 0);
                                                                                                                                                                                                                                                                                            result = -2;
                                                                                                                                                                                                                                                                                            return result;
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        // 0x8051d88
                                                                                                                                                                                                                                                                                        if (local_strcasecmp(v113, "?") == 0) {
                                                                                                                                                                                                                                                                                            struct _IO_FILE * stream = popen("less -Mqc", "w"); // 0x8051dae
                                                                                                                                                                                                                                                                                            long_help(gfp, stream, v2, 0);
                                                                                                                                                                                                                                                                                            pclose(stream);
                                                                                                                                                                                                                                                                                            result = -2;
                                                                                                                                                                                                                                                                                            return result;
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        // 0x8051dec
                                                                                                                                                                                                                                                                                        if (local_strcasecmp(v113, "preset") == 0) {
                                                                                                                                                                                                                                                                                            goto lab_0x8051e1e;
                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                            // 0x8051e03
                                                                                                                                                                                                                                                                                            if (local_strcasecmp(v113, "alt-preset") != 0) {
                                                                                                                                                                                                                                                                                                // 0x8051f19
                                                                                                                                                                                                                                                                                                if (local_strcasecmp(v113, "disptime") != 0) {
                                                                                                                                                                                                                                                                                                    // 0x8051f59
                                                                                                                                                                                                                                                                                                    v14 = 1;
                                                                                                                                                                                                                                                                                                    v41 = v42;
                                                                                                                                                                                                                                                                                                    v9 = v23;
                                                                                                                                                                                                                                                                                                    v24 = v25;
                                                                                                                                                                                                                                                                                                    v52 = 0;
                                                                                                                                                                                                                                                                                                    v45 = v49;
                                                                                                                                                                                                                                                                                                    if (local_strcasecmp(v113, "nogaptags") != 0) {
                                                                                                                                                                                                                                                                                                        // 0x8051f7c
                                                                                                                                                                                                                                                                                                        if (local_strcasecmp(v113, "nogapout") != 0) {
                                                                                                                                                                                                                                                                                                            // 0x8051fb1
                                                                                                                                                                                                                                                                                                            v14 = v20;
                                                                                                                                                                                                                                                                                                            v41 = v42;
                                                                                                                                                                                                                                                                                                            v9 = v23;
                                                                                                                                                                                                                                                                                                            v24 = 1;
                                                                                                                                                                                                                                                                                                            v52 = 0;
                                                                                                                                                                                                                                                                                                            v45 = v49;
                                                                                                                                                                                                                                                                                                            if (local_strcasecmp(v113, "nogap") != 0) {
                                                                                                                                                                                                                                                                                                                // 0x8051fd1
                                                                                                                                                                                                                                                                                                                if (local_strcasecmp(v113, "athaa-sensitivity") != 0) {
                                                                                                                                                                                                                                                                                                                    // 0x8052017
                                                                                                                                                                                                                                                                                                                    error_printf("%s: unrecognized option --%s\n", v2, v113);
                                                                                                                                                                                                                                                                                                                    result = -1;
                                                                                                                                                                                                                                                                                                                    return result;
                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                // 0x8051fe8
                                                                                                                                                                                                                                                                                                                function_804a52c(v1, (float80_t)atof((char *)str5));
                                                                                                                                                                                                                                                                                                                v14 = v20;
                                                                                                                                                                                                                                                                                                                v41 = v42;
                                                                                                                                                                                                                                                                                                                v9 = v23;
                                                                                                                                                                                                                                                                                                                v24 = v25;
                                                                                                                                                                                                                                                                                                                v52 = 1;
                                                                                                                                                                                                                                                                                                                v45 = v49;
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                            // 0x8051f93
                                                                                                                                                                                                                                                                                                            strcpy(outPath, (char *)str5);
                                                                                                                                                                                                                                                                                                            v14 = v20;
                                                                                                                                                                                                                                                                                                            v41 = v42;
                                                                                                                                                                                                                                                                                                            v9 = v23;
                                                                                                                                                                                                                                                                                                            v24 = v25;
                                                                                                                                                                                                                                                                                                            v52 = 1;
                                                                                                                                                                                                                                                                                                            v45 = v49;
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                } else {
                                                                                                                                                                                                                                                                                                    // 0x8051f30
                                                                                                                                                                                                                                                                                                    update_interval = atof((char *)str5);
                                                                                                                                                                                                                                                                                                    v14 = v20;
                                                                                                                                                                                                                                                                                                    v41 = v42;
                                                                                                                                                                                                                                                                                                    v9 = v23;
                                                                                                                                                                                                                                                                                                    v24 = v25;
                                                                                                                                                                                                                                                                                                    v52 = 1;
                                                                                                                                                                                                                                                                                                    v45 = v49;
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                goto lab_0x805203c;
                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                goto lab_0x8051e1e;
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                                                                                        // 0x8051c9d
                                                                                                                                                                                                                                                                                        silent = -10;
                                                                                                                                                                                                                                                                                        v14 = v20;
                                                                                                                                                                                                                                                                                        v41 = v42;
                                                                                                                                                                                                                                                                                        v9 = v23;
                                                                                                                                                                                                                                                                                        v24 = v25;
                                                                                                                                                                                                                                                                                        v52 = 0;
                                                                                                                                                                                                                                                                                        v45 = v49;
                                                                                                                                                                                                                                                                                        goto lab_0x805203c;
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                } else {
                                                                                                                                                                                                                                                                                    // 0x8051c77
                                                                                                                                                                                                                                                                                    silent = -5;
                                                                                                                                                                                                                                                                                    v14 = v20;
                                                                                                                                                                                                                                                                                    v41 = v42;
                                                                                                                                                                                                                                                                                    v9 = v23;
                                                                                                                                                                                                                                                                                    v24 = v25;
                                                                                                                                                                                                                                                                                    v52 = 0;
                                                                                                                                                                                                                                                                                    v45 = v49;
                                                                                                                                                                                                                                                                                    goto lab_0x805203c;
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                goto lab_0x8051c51;
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                } else {
                                                                                                                                                                                                                                                                    int32_t v114 = 4.0L * (float80_t)atof((char *)str5); // 0x8051bb4
                                                                                                                                                                                                                                                                    int32_t v115 = v114 > -32 ? v114 : -32;
                                                                                                                                                                                                                                                                    int32_t v116 = v115 < 31 ? v115 : 31;
                                                                                                                                                                                                                                                                    int32_t v117 = 0x100000 * v116;
                                                                                                                                                                                                                                                                    function_804a46c(v1, (v116 >= 0 ? v117 : v117 + 0x4000000) | function_804a81c(v1));
                                                                                                                                                                                                                                                                    v14 = v20;
                                                                                                                                                                                                                                                                    v41 = v42;
                                                                                                                                                                                                                                                                    v9 = v23;
                                                                                                                                                                                                                                                                    v24 = v25;
                                                                                                                                                                                                                                                                    v52 = 1;
                                                                                                                                                                                                                                                                    v45 = v49;
                                                                                                                                                                                                                                                                    goto lab_0x805203c;
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                int32_t v118 = 4.0L * (float80_t)atof((char *)str5); // 0x8051b03
                                                                                                                                                                                                                                                                int32_t v119 = v118 > -32 ? v118 : -32;
                                                                                                                                                                                                                                                                int32_t v120 = v119 < 31 ? v119 : 31;
                                                                                                                                                                                                                                                                int32_t v121 = 0x4000 * v120;
                                                                                                                                                                                                                                                                function_804a46c(v1, (v120 >= 0 ? v121 : v121 + 0x100000) | function_804a81c(v1));
                                                                                                                                                                                                                                                                v14 = v20;
                                                                                                                                                                                                                                                                v41 = v42;
                                                                                                                                                                                                                                                                v9 = v23;
                                                                                                                                                                                                                                                                v24 = v25;
                                                                                                                                                                                                                                                                v52 = 1;
                                                                                                                                                                                                                                                                v45 = v49;
                                                                                                                                                                                                                                                                goto lab_0x805203c;
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                            int32_t v122 = 4.0L * (float80_t)atof((char *)str5); // 0x8051a52
                                                                                                                                                                                                                                                            int32_t v123 = v122 > -32 ? v122 : -32;
                                                                                                                                                                                                                                                            int32_t v124 = v123 < 31 ? v123 : 31;
                                                                                                                                                                                                                                                            int32_t v125 = 256 * v124;
                                                                                                                                                                                                                                                            function_804a46c(v1, (v124 >= 0 ? v125 : v125 + 0x4000) | function_804a81c(v1));
                                                                                                                                                                                                                                                            v14 = v20;
                                                                                                                                                                                                                                                            v41 = v42;
                                                                                                                                                                                                                                                            v9 = v23;
                                                                                                                                                                                                                                                            v24 = v25;
                                                                                                                                                                                                                                                            v52 = 1;
                                                                                                                                                                                                                                                            v45 = v49;
                                                                                                                                                                                                                                                            goto lab_0x805203c;
                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                                                        int32_t v126 = 4.0L * (float80_t)atof((char *)str5); // 0x80519a1
                                                                                                                                                                                                                                                        int32_t v127 = v126 > -32 ? v126 : -32;
                                                                                                                                                                                                                                                        int32_t v128 = v127 < 31 ? v127 : 31;
                                                                                                                                                                                                                                                        int32_t v129 = 4 * v128;
                                                                                                                                                                                                                                                        function_804a46c(v1, (v128 >= 0 ? v129 : v129 + 256) | function_804a81c(v1));
                                                                                                                                                                                                                                                        v14 = v20;
                                                                                                                                                                                                                                                        v41 = v42;
                                                                                                                                                                                                                                                        v9 = v23;
                                                                                                                                                                                                                                                        v24 = v25;
                                                                                                                                                                                                                                                        v52 = 1;
                                                                                                                                                                                                                                                        v45 = v49;
                                                                                                                                                                                                                                                        goto lab_0x805203c;
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                } else {
                                                                                                                                                                                                                                                    // 0x805191e
                                                                                                                                                                                                                                                    function_804a50c(v1, (float80_t)atof((char *)str5));
                                                                                                                                                                                                                                                    v14 = v20;
                                                                                                                                                                                                                                                    v41 = v42;
                                                                                                                                                                                                                                                    v9 = v23;
                                                                                                                                                                                                                                                    v24 = v25;
                                                                                                                                                                                                                                                    v52 = 1;
                                                                                                                                                                                                                                                    v45 = v49;
                                                                                                                                                                                                                                                    goto lab_0x805203c;
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                // 0x80518e5
                                                                                                                                                                                                                                                function_804a46c(v1, function_804a81c(v1) | 2);
                                                                                                                                                                                                                                                v14 = v20;
                                                                                                                                                                                                                                                v41 = v42;
                                                                                                                                                                                                                                                v9 = v23;
                                                                                                                                                                                                                                                v24 = v25;
                                                                                                                                                                                                                                                v52 = 0;
                                                                                                                                                                                                                                                v45 = v49;
                                                                                                                                                                                                                                                goto lab_0x805203c;
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                                        // 0x8051885
                                                                                                                                                                                                                                        function_804a33c(v1, (int32_t)(atoi((char *)str5) != 0));
                                                                                                                                                                                                                                        v14 = v20;
                                                                                                                                                                                                                                        v41 = v42;
                                                                                                                                                                                                                                        v9 = v23;
                                                                                                                                                                                                                                        v24 = v25;
                                                                                                                                                                                                                                        v52 = 1;
                                                                                                                                                                                                                                        v45 = v49;
                                                                                                                                                                                                                                        goto lab_0x805203c;
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                } else {
                                                                                                                                                                                                                                    // 0x805183c
                                                                                                                                                                                                                                    function_804a85c(v1, (float80_t)atof((char *)str5));
                                                                                                                                                                                                                                    v14 = v20;
                                                                                                                                                                                                                                    v41 = v42;
                                                                                                                                                                                                                                    v9 = v23;
                                                                                                                                                                                                                                    v24 = v25;
                                                                                                                                                                                                                                    v52 = 1;
                                                                                                                                                                                                                                    v45 = v49;
                                                                                                                                                                                                                                    goto lab_0x805203c;
                                                                                                                                                                                                                                }
                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                // 0x805180d
                                                                                                                                                                                                                                function_804a33c(v1, 0);
                                                                                                                                                                                                                                v14 = v20;
                                                                                                                                                                                                                                v41 = v42;
                                                                                                                                                                                                                                v9 = v23;
                                                                                                                                                                                                                                v24 = v25;
                                                                                                                                                                                                                                v52 = 0;
                                                                                                                                                                                                                                v45 = v49;
                                                                                                                                                                                                                                goto lab_0x805203c;
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                            float64_t str_as_f = atof((char *)str5); // 0x805179c
                                                                                                                                                                                                                            if (str_as_f < 1.0) {
                                                                                                                                                                                                                                // 0x80517ba
                                                                                                                                                                                                                                error_printf("Must specify compression ratio >= 1.0\n");
                                                                                                                                                                                                                                result = -1;
                                                                                                                                                                                                                                return result;
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            // 0x80517d0
                                                                                                                                                                                                                            function_804a35c(v1, (float80_t)str_as_f);
                                                                                                                                                                                                                            v14 = v20;
                                                                                                                                                                                                                            v41 = v42;
                                                                                                                                                                                                                            v9 = v23;
                                                                                                                                                                                                                            v24 = v25;
                                                                                                                                                                                                                            v52 = 1;
                                                                                                                                                                                                                            v45 = v49;
                                                                                                                                                                                                                            goto lab_0x805203c;
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                        float64_t str_as_f2 = atof((char *)str5); // 0x80516d8
                                                                                                                                                                                                                        if (str_as_f2 < 0.001 || str_as_f2 > 5.0e+4) {
                                                                                                                                                                                                                            // 0x805171a
                                                                                                                                                                                                                            error_printf("Must specify highpass width with --highpass-width freq, freq >= 0.001 kHz\n");
                                                                                                                                                                                                                            result = -1;
                                                                                                                                                                                                                            return result;
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        // 0x8051730
                                                                                                                                                                                                                        function_804a9dc(v1, (int32_t)str_as_f2);
                                                                                                                                                                                                                        v14 = v20;
                                                                                                                                                                                                                        v41 = v42;
                                                                                                                                                                                                                        v9 = v23;
                                                                                                                                                                                                                        v24 = v25;
                                                                                                                                                                                                                        v52 = 1;
                                                                                                                                                                                                                        v45 = v49;
                                                                                                                                                                                                                        goto lab_0x805203c;
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                } else {
                                                                                                                                                                                                                    float64_t str_as_f3 = atof((char *)str5); // 0x80515c3
                                                                                                                                                                                                                    if (str_as_f3 < 0.0) {
                                                                                                                                                                                                                        // 0x80515e8
                                                                                                                                                                                                                        function_804a63c(v1, -1);
                                                                                                                                                                                                                        v14 = v20;
                                                                                                                                                                                                                        v41 = v42;
                                                                                                                                                                                                                        v9 = v23;
                                                                                                                                                                                                                        v24 = v25;
                                                                                                                                                                                                                        v52 = 1;
                                                                                                                                                                                                                        v45 = v49;
                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                        if (str_as_f3 < 0.001 || str_as_f3 > 5.0e+4) {
                                                                                                                                                                                                                            // 0x8051630
                                                                                                                                                                                                                            error_printf("Must specify highpass with --highpass freq, freq >= 0.001 kHz\n");
                                                                                                                                                                                                                            result = -1;
                                                                                                                                                                                                                            return result;
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        float80_t v130 = v49 * (float80_t)str_as_f3 + 0.5L; // 0x8051673
                                                                                                                                                                                                                        function_804a63c(v1, (int32_t)v130);
                                                                                                                                                                                                                        v14 = v20;
                                                                                                                                                                                                                        v41 = v42;
                                                                                                                                                                                                                        v9 = v23;
                                                                                                                                                                                                                        v24 = v25;
                                                                                                                                                                                                                        v52 = 1;
                                                                                                                                                                                                                        v45 = v130;
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    goto lab_0x805203c;
                                                                                                                                                                                                                }
                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                float64_t str_as_f4 = atof((char *)str5); // 0x80514d9
                                                                                                                                                                                                                if (str_as_f4 < 0.001 || str_as_f4 > 5.0e+4) {
                                                                                                                                                                                                                    // 0x805151b
                                                                                                                                                                                                                    error_printf("Must specify lowpass width with --lowpass-width freq, freq >= 0.001 kHz\n");
                                                                                                                                                                                                                    result = -1;
                                                                                                                                                                                                                    return result;
                                                                                                                                                                                                                }
                                                                                                                                                                                                                float80_t v131 = v49 * (float80_t)str_as_f4 + 0.5L; // 0x805155e
                                                                                                                                                                                                                function_804aa5c(v1, (int32_t)v131);
                                                                                                                                                                                                                v14 = v20;
                                                                                                                                                                                                                v41 = v42;
                                                                                                                                                                                                                v9 = v23;
                                                                                                                                                                                                                v24 = v25;
                                                                                                                                                                                                                v52 = 1;
                                                                                                                                                                                                                v45 = v131;
                                                                                                                                                                                                                goto lab_0x805203c;
                                                                                                                                                                                                            }
                                                                                                                                                                                                        } else {
                                                                                                                                                                                                            float64_t str_as_f5 = atof((char *)str5); // 0x80513c4
                                                                                                                                                                                                            if (str_as_f5 < 0.0) {
                                                                                                                                                                                                                // 0x80513e9
                                                                                                                                                                                                                function_804a99c(v1, -1);
                                                                                                                                                                                                                v14 = v20;
                                                                                                                                                                                                                v41 = v42;
                                                                                                                                                                                                                v9 = v23;
                                                                                                                                                                                                                v24 = v25;
                                                                                                                                                                                                                v52 = 1;
                                                                                                                                                                                                                v45 = v49;
                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                if (str_as_f5 < 0.001 || str_as_f5 > 5.0e+4) {
                                                                                                                                                                                                                    // 0x8051431
                                                                                                                                                                                                                    error_printf("Must specify lowpass with --lowpass freq, freq >= 0.001 kHz\n");
                                                                                                                                                                                                                    result = -1;
                                                                                                                                                                                                                    return result;
                                                                                                                                                                                                                }
                                                                                                                                                                                                                float80_t v132 = v49 * (float80_t)str_as_f5 + 0.5L; // 0x8051474
                                                                                                                                                                                                                function_804a99c(v1, (int32_t)v132);
                                                                                                                                                                                                                v14 = v20;
                                                                                                                                                                                                                v41 = v42;
                                                                                                                                                                                                                v9 = v23;
                                                                                                                                                                                                                v24 = v25;
                                                                                                                                                                                                                v52 = 1;
                                                                                                                                                                                                                v45 = v132;
                                                                                                                                                                                                            }
                                                                                                                                                                                                            goto lab_0x805203c;
                                                                                                                                                                                                        }
                                                                                                                                                                                                    } else {
                                                                                                                                                                                                        int32_t str_as_i2 = atoi((char *)str5); // 0x8051325
                                                                                                                                                                                                        int32_t v133 = str_as_i2 - 0x1f400; // 0x8051332
                                                                                                                                                                                                        int32_t v134 = v133 == 0 | v133 < 0 != (0x1f3ff - str_as_i2 & str_as_i2) < 0 ? str_as_i2 : 0x1f400; // 0x8051339
                                                                                                                                                                                                        function_804a71c(v1, v134 >= 0 ? v134 : 0);
                                                                                                                                                                                                        v14 = v20;
                                                                                                                                                                                                        v41 = v42;
                                                                                                                                                                                                        v9 = v23;
                                                                                                                                                                                                        v24 = v25;
                                                                                                                                                                                                        v52 = 1;
                                                                                                                                                                                                        v45 = v49;
                                                                                                                                                                                                        goto lab_0x805203c;
                                                                                                                                                                                                    }
                                                                                                                                                                                                } else {
                                                                                                                                                                                                    // 0x80512f8
                                                                                                                                                                                                    function_804a78c(v1);
                                                                                                                                                                                                    v14 = v20;
                                                                                                                                                                                                    v41 = v42;
                                                                                                                                                                                                    v9 = v23;
                                                                                                                                                                                                    v24 = v25;
                                                                                                                                                                                                    v52 = 0;
                                                                                                                                                                                                    v45 = v49;
                                                                                                                                                                                                    goto lab_0x805203c;
                                                                                                                                                                                                }
                                                                                                                                                                                            } else {
                                                                                                                                                                                                // 0x80512d1
                                                                                                                                                                                                function_804aa8c(v1);
                                                                                                                                                                                                v14 = v20;
                                                                                                                                                                                                v41 = v42;
                                                                                                                                                                                                v9 = v23;
                                                                                                                                                                                                v24 = v25;
                                                                                                                                                                                                v52 = 0;
                                                                                                                                                                                                v45 = v49;
                                                                                                                                                                                                goto lab_0x805203c;
                                                                                                                                                                                            }
                                                                                                                                                                                        } else {
                                                                                                                                                                                            // 0x80512a3
                                                                                                                                                                                            function_804a0dc(v1);
                                                                                                                                                                                            v14 = v20;
                                                                                                                                                                                            v41 = v42;
                                                                                                                                                                                            v9 = 2;
                                                                                                                                                                                            v24 = v25;
                                                                                                                                                                                            v52 = 0;
                                                                                                                                                                                            v45 = v49;
                                                                                                                                                                                            goto lab_0x805203c;
                                                                                                                                                                                        }
                                                                                                                                                                                    } else {
                                                                                                                                                                                        // 0x8051275
                                                                                                                                                                                        function_804a0cc(v1);
                                                                                                                                                                                        v14 = v20;
                                                                                                                                                                                        v41 = v42;
                                                                                                                                                                                        v9 = 1;
                                                                                                                                                                                        v24 = v25;
                                                                                                                                                                                        v52 = 0;
                                                                                                                                                                                        v45 = v49;
                                                                                                                                                                                        goto lab_0x805203c;
                                                                                                                                                                                    }
                                                                                                                                                                                } else {
                                                                                                                                                                                    // 0x805124e
                                                                                                                                                                                    function_804a7bc(v1);
                                                                                                                                                                                    v14 = v20;
                                                                                                                                                                                    v41 = v42;
                                                                                                                                                                                    v9 = v23;
                                                                                                                                                                                    v24 = v25;
                                                                                                                                                                                    v52 = 0;
                                                                                                                                                                                    v45 = v49;
                                                                                                                                                                                    goto lab_0x805203c;
                                                                                                                                                                                }
                                                                                                                                                                            } else {
                                                                                                                                                                                // 0x8051228
                                                                                                                                                                                ignore_tag_errors = 1;
                                                                                                                                                                                v14 = v20;
                                                                                                                                                                                v41 = v42;
                                                                                                                                                                                v9 = v23;
                                                                                                                                                                                v24 = v25;
                                                                                                                                                                                v52 = 0;
                                                                                                                                                                                v45 = v49;
                                                                                                                                                                                goto lab_0x805203c;
                                                                                                                                                                            }
                                                                                                                                                                        } else {
                                                                                                                                                                            // 0x80511d9
                                                                                                                                                                            v14 = v20;
                                                                                                                                                                            v41 = v42;
                                                                                                                                                                            v9 = v23;
                                                                                                                                                                            v24 = v25;
                                                                                                                                                                            v52 = 1;
                                                                                                                                                                            v45 = v49;
                                                                                                                                                                            if (set_id3_albumart(gfp, (char *)str5) != 0) {
                                                                                                                                                                                // 0x80511fa
                                                                                                                                                                                v14 = v20;
                                                                                                                                                                                v41 = v42;
                                                                                                                                                                                v9 = v23;
                                                                                                                                                                                v24 = v25;
                                                                                                                                                                                v52 = 1;
                                                                                                                                                                                v45 = v49;
                                                                                                                                                                                if (ignore_tag_errors == 0) {
                                                                                                                                                                                    // 0x8052912
                                                                                                                                                                                    return -1;
                                                                                                                                                                                }
                                                                                                                                                                            }
                                                                                                                                                                            goto lab_0x805203c;
                                                                                                                                                                        }
                                                                                                                                                                    } else {
                                                                                                                                                                        char * v135 = (char *)str5; // 0x805118f
                                                                                                                                                                        v14 = v20;
                                                                                                                                                                        v41 = v42;
                                                                                                                                                                        v9 = v23;
                                                                                                                                                                        v24 = v25;
                                                                                                                                                                        v52 = 1;
                                                                                                                                                                        v45 = v49;
                                                                                                                                                                        if (id3_tag(gfp, 118, 0, v135) != 0 && silent <= 9) {
                                                                                                                                                                            // 0x80511aa
                                                                                                                                                                            error_printf("Invalid field value: '%s'. Ignored\n", v135);
                                                                                                                                                                            v14 = v20;
                                                                                                                                                                            v41 = v42;
                                                                                                                                                                            v9 = v23;
                                                                                                                                                                            v24 = v25;
                                                                                                                                                                            v52 = 1;
                                                                                                                                                                            v45 = v49;
                                                                                                                                                                        }
                                                                                                                                                                        goto lab_0x805203c;
                                                                                                                                                                    }
                                                                                                                                                                } else {
                                                                                                                                                                    char * v136 = (char *)str5;
                                                                                                                                                                    int32_t v137 = id3_tag(gfp, 103, 0, v136); // 0x805109c
                                                                                                                                                                    v14 = v20;
                                                                                                                                                                    v41 = v42;
                                                                                                                                                                    v9 = v23;
                                                                                                                                                                    v24 = v25;
                                                                                                                                                                    v52 = 1;
                                                                                                                                                                    v45 = v49;
                                                                                                                                                                    if (v137 != 0) {
                                                                                                                                                                        // 0x80510b5
                                                                                                                                                                        v14 = v20;
                                                                                                                                                                        v41 = v42;
                                                                                                                                                                        v9 = v23;
                                                                                                                                                                        v24 = v25;
                                                                                                                                                                        v52 = 1;
                                                                                                                                                                        v45 = v49;
                                                                                                                                                                        if (ignore_tag_errors == 0) {
                                                                                                                                                                            if (v137 == -1) {
                                                                                                                                                                                // 0x80510c8
                                                                                                                                                                                error_printf("Unknown ID3v1 genre number: '%s'.\n", v136);
                                                                                                                                                                                result = -1;
                                                                                                                                                                                return result;
                                                                                                                                                                            }
                                                                                                                                                                            if (v137 != -2) {
                                                                                                                                                                                // 0x805113e
                                                                                                                                                                                error_printf("Internal error.\n");
                                                                                                                                                                                result = -1;
                                                                                                                                                                                return result;
                                                                                                                                                                            }
                                                                                                                                                                            if (v23 == 1) {
                                                                                                                                                                                // 0x80510f1
                                                                                                                                                                                error_printf("Unknown ID3v1 genre: '%s'.\n", v136);
                                                                                                                                                                                result = -1;
                                                                                                                                                                                return result;
                                                                                                                                                                            }
                                                                                                                                                                            // 0x805110e
                                                                                                                                                                            v14 = v20;
                                                                                                                                                                            v41 = v42;
                                                                                                                                                                            v9 = v23;
                                                                                                                                                                            v24 = v25;
                                                                                                                                                                            v52 = 1;
                                                                                                                                                                            v45 = v49;
                                                                                                                                                                            if (v23 != 2 && silent <= 9) {
                                                                                                                                                                                // 0x8051126
                                                                                                                                                                                error_printf("Unknown ID3v1 genre: '%s'.  Setting ID3v1 genre to 'Other'\n", v136);
                                                                                                                                                                                v14 = v20;
                                                                                                                                                                                v41 = v42;
                                                                                                                                                                                v9 = v23;
                                                                                                                                                                                v24 = v25;
                                                                                                                                                                                v52 = 1;
                                                                                                                                                                                v45 = v49;
                                                                                                                                                                            }
                                                                                                                                                                        }
                                                                                                                                                                    }
                                                                                                                                                                    goto lab_0x805203c;
                                                                                                                                                                }
                                                                                                                                                            } else {
                                                                                                                                                                // 0x8050fdc
                                                                                                                                                                v14 = v20;
                                                                                                                                                                v41 = v42;
                                                                                                                                                                v9 = v23;
                                                                                                                                                                v24 = v25;
                                                                                                                                                                v52 = 1;
                                                                                                                                                                v45 = v49;
                                                                                                                                                                if (id3_tag(gfp, 110, 0, (char *)str5) != 0) {
                                                                                                                                                                    // 0x8051012
                                                                                                                                                                    v14 = v20;
                                                                                                                                                                    v41 = v42;
                                                                                                                                                                    v9 = v23;
                                                                                                                                                                    v24 = v25;
                                                                                                                                                                    v52 = 1;
                                                                                                                                                                    v45 = v49;
                                                                                                                                                                    if (ignore_tag_errors == 0) {
                                                                                                                                                                        if (v23 == 1) {
                                                                                                                                                                            // 0x8051025
                                                                                                                                                                            error_printf("The track number has to be between 1 and 255 for ID3v1.\n");
                                                                                                                                                                            result = -1;
                                                                                                                                                                            return result;
                                                                                                                                                                        }
                                                                                                                                                                        // 0x805103b
                                                                                                                                                                        v14 = v20;
                                                                                                                                                                        v41 = v42;
                                                                                                                                                                        v9 = v23;
                                                                                                                                                                        v24 = v25;
                                                                                                                                                                        v52 = 1;
                                                                                                                                                                        v45 = v49;
                                                                                                                                                                        if (v23 != 2 && silent <= 9) {
                                                                                                                                                                            // 0x8051053
                                                                                                                                                                            error_printf("The track number has to be between 1 and 255 for ID3v1, ignored for ID3v1.\n");
                                                                                                                                                                            v14 = v20;
                                                                                                                                                                            v41 = v42;
                                                                                                                                                                            v9 = v23;
                                                                                                                                                                            v24 = v25;
                                                                                                                                                                            v52 = 1;
                                                                                                                                                                            v45 = v49;
                                                                                                                                                                        }
                                                                                                                                                                    }
                                                                                                                                                                }
                                                                                                                                                                goto lab_0x805203c;
                                                                                                                                                            }
                                                                                                                                                        } else {
                                                                                                                                                            // 0x8050f93
                                                                                                                                                            id3_tag(gfp, 99, 0, (char *)str5);
                                                                                                                                                            v14 = v20;
                                                                                                                                                            v41 = v42;
                                                                                                                                                            v9 = v23;
                                                                                                                                                            v24 = v25;
                                                                                                                                                            v52 = 1;
                                                                                                                                                            v45 = v49;
                                                                                                                                                            goto lab_0x805203c;
                                                                                                                                                        }
                                                                                                                                                    } else {
                                                                                                                                                        // 0x8050f4e
                                                                                                                                                        id3_tag(gfp, 121, 0, (char *)str5);
                                                                                                                                                        v14 = v20;
                                                                                                                                                        v41 = v42;
                                                                                                                                                        v9 = v23;
                                                                                                                                                        v24 = v25;
                                                                                                                                                        v52 = 1;
                                                                                                                                                        v45 = v49;
                                                                                                                                                        goto lab_0x805203c;
                                                                                                                                                    }
                                                                                                                                                } else {
                                                                                                                                                    // 0x8050f09
                                                                                                                                                    id3_tag(gfp, 108, 0, (char *)str5);
                                                                                                                                                    v14 = v20;
                                                                                                                                                    v41 = v42;
                                                                                                                                                    v9 = v23;
                                                                                                                                                    v24 = v25;
                                                                                                                                                    v52 = 1;
                                                                                                                                                    v45 = v49;
                                                                                                                                                    goto lab_0x805203c;
                                                                                                                                                }
                                                                                                                                            } else {
                                                                                                                                                // 0x8050ec4
                                                                                                                                                id3_tag(gfp, 97, 0, (char *)str5);
                                                                                                                                                v14 = v20;
                                                                                                                                                v41 = v42;
                                                                                                                                                v9 = v23;
                                                                                                                                                v24 = v25;
                                                                                                                                                v52 = 1;
                                                                                                                                                v45 = v49;
                                                                                                                                                goto lab_0x805203c;
                                                                                                                                            }
                                                                                                                                        } else {
                                                                                                                                            // 0x8050e7f
                                                                                                                                            id3_tag(gfp, 116, 0, (char *)str5);
                                                                                                                                            v14 = v20;
                                                                                                                                            v41 = v42;
                                                                                                                                            v9 = v23;
                                                                                                                                            v24 = v25;
                                                                                                                                            v52 = 1;
                                                                                                                                            v45 = v49;
                                                                                                                                            goto lab_0x805203c;
                                                                                                                                        }
                                                                                                                                    } else {
                                                                                                                                        // 0x8050e59
                                                                                                                                        g44 = 0;
                                                                                                                                        v14 = v20;
                                                                                                                                        v41 = v42;
                                                                                                                                        v9 = v23;
                                                                                                                                        v24 = v25;
                                                                                                                                        v52 = 0;
                                                                                                                                        v45 = v49;
                                                                                                                                        goto lab_0x805203c;
                                                                                                                                    }
                                                                                                                                } else {
                                                                                                                                    // 0x8050e20
                                                                                                                                    print_clipping_info = 1;
                                                                                                                                    function_804a2dc(v1, 1);
                                                                                                                                    v14 = v20;
                                                                                                                                    v41 = v42;
                                                                                                                                    v9 = v23;
                                                                                                                                    v24 = v25;
                                                                                                                                    v52 = 0;
                                                                                                                                    v45 = v49;
                                                                                                                                    goto lab_0x805203c;
                                                                                                                                }
                                                                                                                            } else {
                                                                                                                                // 0x8050dea
                                                                                                                                function_804a5ec(v1, 0);
                                                                                                                                v14 = v20;
                                                                                                                                v41 = (char *)1;
                                                                                                                                v9 = v23;
                                                                                                                                v24 = v25;
                                                                                                                                v52 = 0;
                                                                                                                                v45 = v49;
                                                                                                                                goto lab_0x805203c;
                                                                                                                            }
                                                                                                                        } else {
                                                                                                                            // 0x8050da8
                                                                                                                            function_804a2dc(v1, 1);
                                                                                                                            function_804a5ec(v1, 1);
                                                                                                                            v14 = v20;
                                                                                                                            v41 = v42;
                                                                                                                            v9 = v23;
                                                                                                                            v24 = v25;
                                                                                                                            v52 = 0;
                                                                                                                            v45 = v49;
                                                                                                                            goto lab_0x805203c;
                                                                                                                        }
                                                                                                                    } else {
                                                                                                                        // 0x8050d79
                                                                                                                        function_804a5ec(v1, 1);
                                                                                                                        v14 = v20;
                                                                                                                        v41 = v42;
                                                                                                                        v9 = v23;
                                                                                                                        v24 = v25;
                                                                                                                        v52 = 0;
                                                                                                                        v45 = v49;
                                                                                                                        goto lab_0x805203c;
                                                                                                                    }
                                                                                                                } else {
                                                                                                                    // 0x8050d4a
                                                                                                                    function_804a42c(v1, 1);
                                                                                                                    v14 = v20;
                                                                                                                    v41 = v42;
                                                                                                                    v9 = v23;
                                                                                                                    v24 = v25;
                                                                                                                    v52 = 0;
                                                                                                                    v45 = v49;
                                                                                                                    goto lab_0x805203c;
                                                                                                                }
                                                                                                            } else {
                                                                                                                char * str6 = (char *)str5;
                                                                                                                if (strcmp(str6, "mmx") == 0) {
                                                                                                                    // 0x8050cab
                                                                                                                    function_804a57c(v1, 1, 0);
                                                                                                                }
                                                                                                                // 0x8050cc6
                                                                                                                if (strcmp(str6, "3dnow") == 0) {
                                                                                                                    // 0x8050cdd
                                                                                                                    function_804a57c(v1, 2, 0);
                                                                                                                }
                                                                                                                // 0x8050cf8
                                                                                                                v14 = v20;
                                                                                                                v41 = v42;
                                                                                                                v9 = v23;
                                                                                                                v24 = v25;
                                                                                                                v52 = 1;
                                                                                                                v45 = v49;
                                                                                                                if (strcmp(str6, "sse") == 0) {
                                                                                                                    // 0x8050d13
                                                                                                                    function_804a57c(v1, 3, 0);
                                                                                                                    v14 = v20;
                                                                                                                    v41 = v42;
                                                                                                                    v9 = v23;
                                                                                                                    v24 = v25;
                                                                                                                    v52 = 1;
                                                                                                                    v45 = v49;
                                                                                                                }
                                                                                                                goto lab_0x805203c;
                                                                                                            }
                                                                                                        } else {
                                                                                                            // 0x8050c40
                                                                                                            function_804a12c(v1, (float80_t)atof((char *)str5));
                                                                                                            v14 = v20;
                                                                                                            v41 = v42;
                                                                                                            v9 = v23;
                                                                                                            v24 = v25;
                                                                                                            v52 = 1;
                                                                                                            v45 = v49;
                                                                                                            goto lab_0x805203c;
                                                                                                        }
                                                                                                    } else {
                                                                                                        // 0x8050bf7
                                                                                                        function_804a9ac(v1, (float80_t)atof((char *)str5));
                                                                                                        v14 = v20;
                                                                                                        v41 = v42;
                                                                                                        v9 = v23;
                                                                                                        v24 = v25;
                                                                                                        v52 = 1;
                                                                                                        v45 = v49;
                                                                                                        goto lab_0x805203c;
                                                                                                    }
                                                                                                } else {
                                                                                                    // 0x8050bae
                                                                                                    function_804aa0c(v1, (float80_t)atof((char *)str5));
                                                                                                    v14 = v20;
                                                                                                    v41 = v42;
                                                                                                    v9 = v23;
                                                                                                    v24 = v25;
                                                                                                    v52 = 1;
                                                                                                    v45 = v49;
                                                                                                    goto lab_0x805203c;
                                                                                                }
                                                                                            } else {
                                                                                                // 0x8050b7f
                                                                                                function_804a32c(v1, 1);
                                                                                                v14 = v20;
                                                                                                v41 = v42;
                                                                                                v9 = v23;
                                                                                                v24 = v25;
                                                                                                v52 = 0;
                                                                                                v45 = v49;
                                                                                                goto lab_0x805203c;
                                                                                            }
                                                                                        } else {
                                                                                            // 0x8050b50
                                                                                            function_804a39c(v1, 1);
                                                                                            v14 = v20;
                                                                                            v41 = v42;
                                                                                            v9 = v23;
                                                                                            v24 = v25;
                                                                                            v52 = 0;
                                                                                            v45 = v49;
                                                                                            goto lab_0x805203c;
                                                                                        }
                                                                                    } else {
                                                                                        // 0x8050b13
                                                                                        mp3_delay = atoi((char *)str5);
                                                                                        mp3_delay_set = 1;
                                                                                        v14 = v20;
                                                                                        v41 = v42;
                                                                                        v9 = v23;
                                                                                        v24 = v25;
                                                                                        v52 = 1;
                                                                                        v45 = v49;
                                                                                        goto lab_0x805203c;
                                                                                    }
                                                                                } else {
                                                                                    // 0x8050aed
                                                                                    flush_write = 1;
                                                                                    v14 = v20;
                                                                                    v41 = v42;
                                                                                    v9 = v23;
                                                                                    v24 = v25;
                                                                                    v52 = 0;
                                                                                    v45 = v49;
                                                                                    goto lab_0x805203c;
                                                                                }
                                                                            } else {
                                                                                // 0x8050abe
                                                                                function_804a14c(v1, 1);
                                                                                v14 = v20;
                                                                                v41 = v42;
                                                                                v9 = v23;
                                                                                v24 = v25;
                                                                                v52 = 0;
                                                                                v45 = v49;
                                                                                goto lab_0x805203c;
                                                                            }
                                                                        } else {
                                                                            // 0x8050a5f
                                                                            if (presets_set(gfp, 0, 0, v113, v2) < 0) {
                                                                                // 0x8052912
                                                                                return -1;
                                                                            }
                                                                            // 0x8050a96
                                                                            error_printf("Warning: --voice is deprecated, use --preset voice instead!");
                                                                            v14 = v20;
                                                                            v41 = v42;
                                                                            v9 = v23;
                                                                            v24 = v25;
                                                                            v52 = 0;
                                                                            v45 = v49;
                                                                            goto lab_0x805203c;
                                                                        }
                                                                    } else {
                                                                        // 0x8050a00
                                                                        if (presets_set(gfp, 0, 0, v113, v2) < 0) {
                                                                            // 0x8052912
                                                                            return -1;
                                                                        }
                                                                        // 0x8050a37
                                                                        error_printf("Warning: --phone is deprecated, use --preset phone instead!");
                                                                        v14 = v20;
                                                                        v41 = v42;
                                                                        v9 = v23;
                                                                        v24 = v25;
                                                                        v52 = 0;
                                                                        v45 = v49;
                                                                        goto lab_0x805203c;
                                                                    }
                                                                } else {
                                                                    // 0x80509ad
                                                                    input_format = 6;
                                                                    v14 = v20;
                                                                    v41 = v42;
                                                                    v9 = v23;
                                                                    v24 = v25;
                                                                    v52 = 0;
                                                                    v45 = v49;
                                                                    goto lab_0x805203c;
                                                                }
                                                            } else {
                                                                // 0x8050987
                                                                input_format = 5;
                                                                v14 = v20;
                                                                v41 = v42;
                                                                v9 = v23;
                                                                v24 = v25;
                                                                v52 = 0;
                                                                v45 = v49;
                                                                goto lab_0x805203c;
                                                            }
                                                        } else {
                                                            // 0x8050961
                                                            input_format = 4;
                                                            v14 = v20;
                                                            v41 = v42;
                                                            v9 = v23;
                                                            v24 = v25;
                                                            v52 = 0;
                                                            v45 = v49;
                                                            goto lab_0x805203c;
                                                        }
                                                    } else {
                                                        // 0x805093b
                                                        in_endian = 1;
                                                        v14 = v20;
                                                        v41 = v42;
                                                        v9 = v23;
                                                        v24 = v25;
                                                        v52 = 0;
                                                        v45 = v49;
                                                        goto lab_0x805203c;
                                                    }
                                                } else {
                                                    // 0x8050915
                                                    in_endian = 0;
                                                    v14 = v20;
                                                    v41 = v42;
                                                    v9 = v23;
                                                    v24 = v25;
                                                    v52 = 0;
                                                    v45 = v49;
                                                    goto lab_0x805203c;
                                                }
                                            } else {
                                                // 0x80508ef
                                                in_signed = 0;
                                                v14 = v20;
                                                v41 = v42;
                                                v9 = v23;
                                                v24 = v25;
                                                v52 = 0;
                                                v45 = v49;
                                                goto lab_0x805203c;
                                            }
                                        } else {
                                            // 0x80508c9
                                            in_signed = 1;
                                            v14 = v20;
                                            v41 = v42;
                                            v9 = v23;
                                            v24 = v25;
                                            v52 = 0;
                                            v45 = v49;
                                            goto lab_0x805203c;
                                        }
                                    } else {
                                        // 0x8050896
                                        in_bitwidth = atoi((char *)str5);
                                        v14 = v20;
                                        v41 = v42;
                                        v9 = v23;
                                        v24 = v25;
                                        v52 = 1;
                                        v45 = v49;
                                        goto lab_0x805203c;
                                    }
                                } else {
                                    // 0x8050867
                                    function_804a88c(v1, 1000);
                                    v14 = v20;
                                    v41 = v42;
                                    v9 = v23;
                                    v24 = v25;
                                    v52 = 0;
                                    v45 = v49;
                                    goto lab_0x805203c;
                                }
                            } else {
                                // 0x805076a
                                function_804a4bc(v1, 3);
                                function_804a66c(v1, atoi((char *)str5));
                                if (function_804aabc(v1) >= 0x1f40) {
                                    // 0x80507b0
                                    function_804a66c(v1, (function_804aabc(v1) + 500) / 1000);
                                }
                                int32_t v138 = 320; // 0x80507f7
                                if (function_804aabc(v1) <= 319) {
                                    // 0x80507f9
                                    v138 = function_804aabc(v1);
                                }
                                // 0x805080b
                                function_804a66c(v1, v138);
                                int32_t v139 = 8; // 0x8050828
                                if (function_804aabc(v1) >= 9) {
                                    // 0x805082a
                                    v139 = function_804aabc(v1);
                                }
                                // 0x805083c
                                function_804a66c(v1, v139);
                                v14 = v20;
                                v41 = v42;
                                v9 = v23;
                                v24 = v25;
                                v52 = 1;
                                v45 = v49;
                                goto lab_0x805203c;
                            }
                        } else {
                            // 0x8050737
                            function_804a4bc(v1, 0);
                            v14 = v20;
                            v41 = v42;
                            v9 = v23;
                            v24 = v25;
                            v52 = 0;
                            v45 = v49;
                            goto lab_0x805203c;
                        }
                    } else {
                        // 0x8050708
                        function_804a4bc(v1, 4);
                        v14 = v20;
                        v41 = v42;
                        v9 = v23;
                        v24 = v25;
                        v52 = 0;
                        v45 = v49;
                        goto lab_0x805203c;
                    }
                } else {
                    // 0x80506d9
                    function_804a4bc(v1, 4);
                    v14 = v20;
                    v41 = v42;
                    v9 = v23;
                    v24 = v25;
                    v52 = 0;
                    v45 = v49;
                    goto lab_0x805203c;
                }
            } else {
                // 0x80506aa
                function_804a4bc(v1, 2);
                v14 = v20;
                v41 = v42;
                v9 = v23;
                v24 = v25;
                v52 = 0;
                v45 = v49;
                goto lab_0x805203c;
            }
        } else {
            float64_t str_as_f6 = atof((char *)str5); // 0x8050672
            function_804a56c(v1, resample_rate(str_as_f6));
            v14 = v20;
            v41 = v42;
            v9 = v23;
            v24 = v25;
            v52 = 1;
            v45 = v49;
            goto lab_0x805203c;
        }
    }
  lab_0x8052624_2:
    // 0x8052624
    error_printf("Error: 'nogap option'.  Calling program does not allow nogap option, or\nyou have exceeded maximum number of input files for the nogap option\n");
    *num_nogap = -1;
    result = -1;
  lab_0x8052912:
    // 0x8052912
    return result;
  lab_0x8052706_2:;
    char * v140 = v43;
    int32_t v141 = v21;
    int32_t v142 = v35;
    int32_t v143 = v38;
    int32_t v144 = v26;
    if (*inPath != 45) {
        goto lab_0x8052724;
    } else {
        int32_t v145 = silent; // 0x8052710
        silent = v145 > 1 ? v145 : 1;
        goto lab_0x8052724;
    }
  lab_0x80526e2_3:
    // 0x80526e2
    v26 = v27;
    v38 = v37;
    v35 = v36;
    v21 = v22;
    v43 = v44;
    if (v51 != 0) {
        goto lab_0x8052706_2;
    } else {
        goto lab_0x80526e8;
    }
  lab_0x805258e:;
    int32_t v146 = str4 != v55 ? v55 : (int32_t)&g7;
    v17 = v15;
    v28 = v29 + (int32_t)(str4 != v55);
    v39 = v146;
    v32 = v30;
    v47 = v46;
    goto lab_0x80525b1_2;
  lab_0x80523de:
    // 0x80523de
    error_printf("WARNING: -%c is obsolete.\n", v54);
    v16 = v19;
    v53 = 0;
    v31 = v34;
    goto lab_0x8052588;
  lab_0x8052588:
    // 0x8052588
    v46 = v48;
    v30 = v31;
    v15 = v16;
    v18 = v16;
    v40 = v55;
    v33 = v31;
    if (v53 != 0) {
        goto lab_0x805258e;
    }
    goto lab_0x80525b1;
  lab_0x8051cda_2:
    // 0x8051cda
    print_license(g15);
    result = -2;
    goto lab_0x8052912;
  lab_0x8051d1f_2:
    // 0x8051d1f
    short_help(gfp, g15, v2);
    result = -2;
    goto lab_0x8052912;
  lab_0x805203c:
    // 0x805203c
    v8 = v24;
    v10 = v41;
    v12 = v14;
    v7 = v52 + v13;
    v4 = v7 + 1;
    v50 = v45;
    v37 = v11;
    v44 = v10;
    v22 = v12;
    v36 = v6;
    v51 = v5;
    v27 = v8;
    if (v4 >= argc) {
        goto lab_0x80526e2_3;
    }
    goto lab_0x8050582;
  lab_0x8051c51:
    // 0x8051c51
    silent = 10;
    v14 = v20;
    v41 = v42;
    v9 = v23;
    v24 = v25;
    v52 = 0;
    v45 = v49;
    goto lab_0x805203c;
  lab_0x8051e1e:;
    int32_t v147 = 1; // 0x8051e33
    int32_t v148 = str5; // 0x8051e33
    int32_t v149 = 0; // 0x8051e33
    int32_t v150 = 0; // 0x8051e33
    int32_t v151; // 0x80504d7
    int32_t v152; // 0x80504d7
    int32_t v153; // 0x80504d7
    char * str7; // 0x80504d7
    while (true) {
        // 0x8051eaa
        v152 = v150;
        v151 = v149;
        v153 = v147;
        str7 = (char *)v148;
        if (strcmp(str7, "fast") != 0) {
            // 0x8051ec5
            if (strcmp(str7, "cbr") != 0) {
                // break -> 0x8051ee0
                break;
            }
        }
        int32_t v154 = v151; // 0x8051e4a
        if (strcmp(str7, "fast") == 0) {
            // 0x8051e4c
            v154 = v151 >= 0 == (v151 != 0) ? v151 : 1;
        }
        int32_t v155 = v152; // 0x8051e6e
        if (strcmp(str7, "cbr") == 0) {
            // 0x8051e70
            v155 = v152 >= 0 == (v152 != 0) ? v152 : 1;
        }
        int32_t v156 = v153 + 1; // 0x8051e7d
        int32_t v157 = v156 + v13; // 0x8051e87
        int32_t v158 = &g7; // 0x8051e8d
        if (v157 < argc) {
            // 0x8051e8f
            v158 = *(int32_t *)(4 * v157 + v3);
        }
        // 0x8051ea7
        v147 = v156;
        v148 = v158;
        v149 = v154;
        v150 = v155;
    }
    // 0x8051ee0
    v14 = v20;
    v41 = v42;
    v9 = v23;
    v24 = v25;
    v52 = v153;
    v45 = v49;
    if (presets_set(gfp, v151, v152, str7, v2) < 0) {
        // 0x8052912
        return -1;
    }
    goto lab_0x805203c;
  lab_0x8052724:
    // 0x8052724
    if (v143 == 0 == *outPath == 0) {
        // 0x8052738
        if (*inPath != 45) {
            // 0x8052760
            strncpy(outPath, inPath, 4093);
            if (function_804a30c(v1) == 0) {
                // 0x805279f
                strcat(outPath, ".mp3");
                goto lab_0x80527b3;
            } else {
                // 0x8052789
                strcat(outPath, ".wav");
                goto lab_0x80527b3;
            }
        } else {
            // 0x8052742
            memcpy((int32_t *)outPath, &g8, 2);
            goto lab_0x80527b3;
        }
    } else {
        goto lab_0x80527b3;
    }
  lab_0x80527b3:
    if (v140 != NULL) {
        goto lab_0x80527cc;
    } else {
        // 0x80527b9
        function_804a5ec(v1, 1);
        goto lab_0x80527cc;
    }
  lab_0x80527cc:
    if (v144 == 0) {
        goto lab_0x8052806;
    } else {
        // 0x80527d2
        if (v141 != 0 | function_804a4dc(v1) == 0) {
            goto lab_0x8052806;
        } else {
            // 0x80527e7
            console_printf("Note: Disabling VBR Xing/Info tag since it interferes with --nogap\n");
            function_804a7dc(v1, 0);
            goto lab_0x8052806;
        }
    }
  lab_0x8052806:
    // 0x8052806
    if (*outPath != 45) {
        goto lab_0x8052823;
    } else {
        // 0x8052810
        function_804a7dc(v1, 0);
        goto lab_0x8052823;
    }
  lab_0x8052823:;
    int32_t v159 = input_format; // 0x805282a
    if (input_format != 0) {
        goto lab_0x805283c;
    } else {
        int32_t v160 = filename_to_type(inPath); // 0x8052832
        input_format = v160;
        v159 = v160;
        goto lab_0x805283c;
    }
  lab_0x805283c:
    // 0x805283c
    if (v159 != 8) {
        if (v142 == 0) {
            // 0x8052877
            if (function_804a6ac(v1) != 3) {
                // 0x805289c
                function_804a0bc(v1, 2);
                goto lab_0x80528af;
            } else {
                // 0x8052887
                function_804a0bc(v1, 1);
                goto lab_0x80528af;
            }
        } else {
            // 0x8052862
            function_804a0bc(v1, 2);
            goto lab_0x80528af;
        }
    } else {
        // 0x8052846
        error_printf("sorry, vorbis support in LAME is deprecated.\n");
        result = -1;
        goto lab_0x8052912;
    }
  lab_0x80528af:
    // 0x80528af
    if (function_804a89c(v1) == 0) {
        goto lab_0x80528ff;
    } else {
        // 0x80528be
        if (function_804a9bc(v1) < 8) {
            goto lab_0x80528e0;
        } else {
            // 0x80528ce
            if (function_804a9bc(v1) < 641) {
                goto lab_0x80528ff;
            } else {
                goto lab_0x80528e0;
            }
        }
    }
  lab_0x80528ff:
    // 0x80528ff
    result = 0;
    if (num_nogap == NULL) {
        goto lab_0x8052912;
    } else {
        // 0x8052905
        *num_nogap = v143;
        result = 0;
        goto lab_0x8052912;
    }
  lab_0x80528e0:
    // 0x80528e0
    error_printf("For free format, specify a bitrate between 8 and 640 kbps\n");
    error_printf("with the -b <bitrate> option\n");
    result = -1;
    goto lab_0x8052912;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/portableio.c
// Address range: 0x8052945 - 0x8052995
// Line range:    127 - 140
int32_t Read16BitsLowHigh(struct _IO_FILE * fp) {
    uint32_t v1 = _IO_getc(fp); // 0x8052951
    int32_t v2 = _IO_getc(fp); // 0x8052964
    int32_t v3 = 256 * v2 & 0xff00 | v1 % 256; // 0x8052977
    return (char)v2 > -1 ? v3 : v3 | -0x10000;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/portableio.c
// Address range: 0x8052995 - 0x80529e5
// Line range:    157 - 191
int32_t Read16BitsHighLow(struct _IO_FILE * fp) {
    int32_t v1 = _IO_getc(fp); // 0x80529a1
    int32_t v2 = 256 * v1 & 0xff00 | _IO_getc(fp) % 256; // 0x80529c7
    return (char)v1 > -1 ? v2 : v2 | -0x10000;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/portableio.c
// Address range: 0x8052a02 - 0x8052a37
// Line range:    202 - 206
void Write16BitsLowHigh(struct _IO_FILE * fp, uint32_t i) {
    // 0x8052a02
    _IO_putc(i % 256, fp);
    _IO_putc(i / 256 % 256, fp);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/portableio.c
// Address range: 0x8052ada - 0x8052b17
// Line range:    264 - 277
int32_t Read32Bits(struct _IO_FILE * fp) {
    uint32_t v1 = Read16BitsLowHigh(fp); // 0x8052ae6
    return 0x10000 * Read16BitsLowHigh(fp) | v1 % 0x10000;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/portableio.c
// Address range: 0x8052b17 - 0x8052b54
// Line range:    297 - 310
int32_t Read32BitsHighLow(struct _IO_FILE * fp) {
    int32_t v1 = Read16BitsHighLow(fp); // 0x8052b23
    return Read16BitsHighLow(fp) % 0x10000 | 0x10000 * v1;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/portableio.c
// Address range: 0x8052b88 - 0x8052bbc
// Line range:    323 - 327
void Write32BitsLowHigh(struct _IO_FILE * fp, uint32_t i) {
    // 0x8052b88
    Write16BitsLowHigh(fp, i % 0x10000);
    Write16BitsLowHigh(fp, i / 0x10000);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/portableio.c
// Address range: 0x8052bf0 - 0x8052c31
// Line range:    346 - 352
void ReadBytes(struct _IO_FILE * fp, char * p, int32_t n) {
    // 0x8052bf0
    if (n >= 0 == (n != 0) != (feof(fp) == 0)) {
        // 0x8052c2f
        return;
    }
    int32_t v1 = n; // 0x8052c27
    char * v2 = p; // 0x8052bf0
    v1--;
    *v2 = (char)_IO_getc(fp);
    struct _IO_FILE * stream = fp;
    int32_t is_feof = feof(stream); // 0x8052c14
    v2 = (char *)((int32_t)v2 + 1);
    while (v1 >= 0 == (v1 != 0) == is_feof == 0) {
        // 0x8052bf8
        v1--;
        *v2 = (char)_IO_getc(stream);
        stream = fp;
        is_feof = feof(stream);
        v2 = (char *)((int32_t)v2 + 1);
    }
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/portableio.c
// Address range: 0x8052d11 - 0x8052e8b
// Line range:    431 - 477
float64_t ConvertFromIeeeExtended(char * bytes) {
    // 0x8052d11
    int3_t v1; // 0x8052d11
    int3_t v2 = v1;
    int32_t v3 = (int32_t)bytes;
    int32_t v4 = 256 * (int32_t)(*bytes % 128) | (int32_t)*(char *)(v3 + 1); // 0x8052d39
    unsigned char v5 = *(char *)(v3 + 2); // 0x8052d44
    unsigned char v6 = *(char *)(v3 + 3); // 0x8052d55
    char v7 = *(char *)(v3 + 4); // 0x8052d6b
    unsigned char v8 = *(char *)(v3 + 5); // 0x8052d81
    int32_t v9 = 0x10000 * (int32_t)v6 | 0x1000000 * (int32_t)v5 | (int32_t)v8 | 256 * (int32_t)v7 & 0xff00; // 0x8052d8c
    unsigned char v10 = *(char *)(v3 + 6); // 0x8052d97
    unsigned char v11 = *(char *)(v3 + 7); // 0x8052da8
    char v12 = *(char *)(v3 + 8); // 0x8052dbe
    unsigned char v13 = *(char *)(v3 + 9); // 0x8052dd4
    int32_t v14 = 0x10000 * (int32_t)v11 | 0x1000000 * (int32_t)v10 | (int32_t)v13 | 256 * (int32_t)v12 & 0xff00; // 0x8052ddf
    int3_t v15; // 0x8052d11
    float80_t result; // 0x8052d11
    float80_t v16; // 0x8052d11
    if ((v9 || v4 || v14) == 0) {
        int3_t v17 = v2 - 1;
        __frontend_reg_store_fpr(v17, 0.0L);
        float80_t v18 = __frontend_reg_load_fpr(v17); // 0x8052df8
        v15 = v17;
        v16 = v18;
    } else {
        if (v4 != 0x7fff) {
            int3_t v19 = v2 - 1; // 0x8052e27
            __frontend_reg_store_fpr(v19, (float80_t)(v9 ^ -0x80000000));
            int3_t v20 = v2 - 2; // 0x8052e2a
            __frontend_reg_store_fpr(v20, 2147483648.0L);
            __frontend_reg_store_fpr(v19, __frontend_reg_load_fpr(v20) + __frontend_reg_load_fpr(v19));
            ldexp((float64_t)__frontend_reg_load_fpr(v19), (int32_t)&g57);
            float80_t v21 = __frontend_reg_load_fpr(v2); // 0x8052e41
            __frontend_reg_store_fpr(v2, (float80_t)(v14 ^ -0x80000000));
            __frontend_reg_store_fpr(v19, 2147483648.0L);
            __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v19) + __frontend_reg_load_fpr(v2));
            float64_t v22 = ldexp((float64_t)__frontend_reg_load_fpr(v2), (int32_t)&g57); // 0x8052e68
            __frontend_reg_store_fpr(v2, v21);
            int3_t v23 = v2 + 1; // 0x8052e70
            __frontend_reg_store_fpr(v23, __frontend_reg_load_fpr(v2) + __frontend_reg_load_fpr(v23));
            float80_t v24 = __frontend_reg_load_fpr(v23); // 0x8052e72
            v15 = v23;
            v16 = v24;
            result = v22;
        } else {
            int3_t v25 = v2 - 1;
            __frontend_reg_store_fpr(v25, INFINITY);
            float80_t v26 = __frontend_reg_load_fpr(v25); // 0x8052e0c
            v15 = v25;
            v16 = v26;
        }
    }
    int3_t v27 = v15;
    __frontend_reg_store_fpr(v27, v16);
    if (*bytes < 0) {
        // 0x8052e7f
        __frontend_reg_store_fpr(v27, -__frontend_reg_load_fpr(v27));
    }
    // 0x8052e89
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/portableio.c
// Address range: 0x8052e8b - 0x8052edc
// Line range:    484 - 490
float64_t ReadIeeeExtendedHighLow(struct _IO_FILE * fp) {
    // 0x8052e8b
    int3_t v1; // 0x8052e8b
    int3_t v2 = v1;
    int32_t v3 = __readgsdword(20); // 0x8052e97
    int32_t v4; // bp-26, 0x8052e8b
    ReadBytes(fp, (char *)&v4, 10);
    float64_t result = ConvertFromIeeeExtended((char *)&v4); // 0x8052ec2
    if (v3 != __readgsdword(20)) {
        // 0x8052ed3
        __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v2));
        __stack_chk_fail();
    }
    // 0x8052eda
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/timestatus.c
// Address range: 0x8052edc - 0x8052f47
// Line range:    73 - 89
void ts_calc_times(int32_t * tstime, int32_t sample_freq, int32_t frameNum, int32_t totalframes, int32_t framesize) {
    int32_t v1 = (int32_t)tstime;
    int3_t v2; // 0x8052edc
    int3_t v3; // 0x8052edc
    if (frameNum < 1) {
        // 0x8052edc
        v2 = v3 - 1;
    } else {
        float64_t * v4 = (float64_t *)(v1 + 8); // 0x8052eeb
        int3_t v5 = v3 - 1;
        __frontend_reg_store_fpr(v5, (float80_t)*v4);
        int3_t v6 = v3 - 2; // 0x8052eee
        __frontend_reg_store_fpr(v6, 0.0L);
        float80_t v7 = __frontend_reg_load_fpr(v6); // 0x8052ef0
        __frontend_reg_store_fpr(v6, __frontend_reg_load_fpr(v5));
        __frontend_reg_store_fpr(v5, v7);
        float80_t v8 = __frontend_reg_load_fpr(v6); // 0x8052ef2
        float80_t v9 = __frontend_reg_load_fpr(v5); // 0x8052ef2
        bool v10 = false; // 0x8052ef2
        bool v11 = false; // 0x8052ef2
        if (v8 <= v9) {
            v10 = true;
            v11 = false;
            if (v8 >= v9) {
                v10 = v8 != v9;
                v11 = true;
            }
        }
        __frontend_reg_store_fpr(v5, __frontend_reg_load_fpr(v5));
        v2 = v5;
        if (!v10 && !v11) {
            // 0x8052efd
            __frontend_reg_store_fpr(v5, (float80_t)*v4);
            __frontend_reg_store_fpr(v6, (float80_t)totalframes);
            __frontend_reg_store_fpr(v5, __frontend_reg_load_fpr(v6) * __frontend_reg_load_fpr(v5));
            __frontend_reg_store_fpr(v6, (float80_t)frameNum);
            __frontend_reg_store_fpr(v5, __frontend_reg_load_fpr(v5) / __frontend_reg_load_fpr(v6));
            *(float64_t *)(v1 + 16) = (float64_t)__frontend_reg_load_fpr(v5);
            __frontend_reg_store_fpr(v5, (float80_t)(framesize * frameNum));
            __frontend_reg_store_fpr(v6, (float80_t)sample_freq);
            int3_t v12 = v3 - 3; // 0x8052f26
            __frontend_reg_store_fpr(v12, (float80_t)*v4);
            __frontend_reg_store_fpr(v6, __frontend_reg_load_fpr(v12) * __frontend_reg_load_fpr(v6));
            __frontend_reg_store_fpr(v5, __frontend_reg_load_fpr(v5) / __frontend_reg_load_fpr(v6));
            *(float64_t *)(v1 + 24) = (float64_t)__frontend_reg_load_fpr(v5);
            // 0x8052f45
            return;
        }
    }
    // 0x8052f35
    __frontend_reg_store_fpr(v2, 0.0L);
    *(float64_t *)(v1 + 16) = (float64_t)__frontend_reg_load_fpr(v2);
    __frontend_reg_store_fpr(v2, 0.0L);
    *(float64_t *)(v1 + 24) = (float64_t)__frontend_reg_load_fpr(v2);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/timestatus.c
// Address range: 0x8052f47 - 0x805303f
// Line range:    96 - 108
void ts_time_decompose(uint32_t time_in_sec, char padded_char) {
    if (time_in_sec < 3600) {
        // 0x8052fcd
        console_printf("   %2u:%02u%c", 0, time_in_sec, padded_char);
        // 0x805303d
        return;
    }
    uint32_t v1 = time_in_sec / 3600; // 0x8052f65
    if (time_in_sec < 0x57e40) {
        // 0x8052ff7
        console_printf("%2lu:%02u:%02u%c", v1, 0, time_in_sec, padded_char);
    } else {
        // 0x8053022
        console_printf("%6lu h%c", v1, padded_char);
    }
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/timestatus.c
// Address range: 0x805303f - 0x8053376
// Line range:    111 - 183
void timestatus(int32_t * gfp) {
    int32_t v1 = (int32_t)gfp; // 0x805304b
    int32_t v2 = function_804a95c(v1); // 0x805304b
    int32_t v3 = function_804a84c(v1); // 0x8053059
    int32_t v4 = function_804a6fc(v1); // 0x8053067
    int32_t v5 = function_804a5fc(v1); // 0x8053075
    int3_t v6; // 0x805303f
    if (v3 == 0) {
        // 0x8053091
        GetRealTime();
        int3_t v7; // 0x805303f
        *(float64_t *)&g24 = (float64_t)__frontend_reg_load_fpr(v7);
        int3_t v8 = v7 + 1; // 0x8053096
        GetCPUTime();
        g27 = __frontend_reg_load_fpr(v8);
        __frontend_reg_store_fpr(v8, 0.0L);
        g25 = __frontend_reg_load_fpr(v8);
        __frontend_reg_store_fpr(v8, 0.0L);
        g28 = __frontend_reg_load_fpr(v8);
        v6 = v7 + 2;
    }
    int3_t v9 = v6;
    GetRealTime();
    float80_t v10 = __frontend_reg_load_fpr(v9); // 0x80530bc
    __frontend_reg_store_fpr(v9, (float80_t)*(float64_t *)&g24);
    int3_t v11 = v9 - 1; // 0x80530c5
    __frontend_reg_store_fpr(v11, v10);
    float80_t v12 = __frontend_reg_load_fpr(v11); // 0x80530c8
    __frontend_reg_store_fpr(v9, v12 - __frontend_reg_load_fpr(v9));
    float80_t v13 = __frontend_reg_load_fpr(v9); // 0x80530ca
    __frontend_reg_store_fpr(v9, v13);
    __frontend_reg_store_fpr(v11, 0.0L);
    float80_t v14 = __frontend_reg_load_fpr(v11); // 0x80530d2
    float80_t v15 = __frontend_reg_load_fpr(v9); // 0x80530d2
    bool v16 = false; // 0x80530d2
    bool v17 = false; // 0x80530d2
    if (v14 <= v15) {
        v16 = true;
        v17 = false;
        if (v14 >= v15) {
            v16 = v14 != v15;
            v17 = true;
        }
    }
    __frontend_reg_store_fpr(v9, __frontend_reg_load_fpr(v9));
    float80_t v18 = v13; // 0x80530db
    if (!v16 && !v17) {
        // 0x80530dd
        __frontend_reg_store_fpr(v9, 0.0L);
        v18 = __frontend_reg_load_fpr(v9);
    }
    int3_t v19 = v9 + 1; // 0x80530d4
    __frontend_reg_store_fpr(v9, (float80_t)g25);
    __frontend_reg_store_fpr(v9, __frontend_reg_load_fpr(v9) + v18);
    g25 = __frontend_reg_load_fpr(v9);
    __frontend_reg_store_fpr(v9, v10);
    *(float64_t *)&g24 = (float64_t)__frontend_reg_load_fpr(v9);
    GetCPUTime();
    float80_t v20 = __frontend_reg_load_fpr(v19); // 0x80530ff
    __frontend_reg_store_fpr(v19, (float80_t)g27);
    __frontend_reg_store_fpr(v9, v20);
    __frontend_reg_store_fpr(v19, __frontend_reg_load_fpr(v9) - __frontend_reg_load_fpr(v19));
    float80_t v21 = __frontend_reg_load_fpr(v19); // 0x805310d
    __frontend_reg_store_fpr(v19, v21);
    __frontend_reg_store_fpr(v9, 0.0L);
    float80_t v22 = __frontend_reg_load_fpr(v9); // 0x8053115
    float80_t v23 = __frontend_reg_load_fpr(v19); // 0x8053115
    bool v24 = false; // 0x8053115
    bool v25 = false; // 0x8053115
    if (v22 <= v23) {
        v24 = true;
        v25 = false;
        if (v22 >= v23) {
            v24 = v22 != v23;
            v25 = true;
        }
    }
    __frontend_reg_store_fpr(v19, __frontend_reg_load_fpr(v19));
    float80_t v26 = v21; // 0x805311e
    if (!v24 && !v25) {
        // 0x8053120
        __frontend_reg_store_fpr(v19, 0.0L);
        v26 = __frontend_reg_load_fpr(v19);
    }
    // 0x8053125
    __frontend_reg_store_fpr(v19, (float80_t)g28);
    __frontend_reg_store_fpr(v19, __frontend_reg_load_fpr(v19) + v26);
    g28 = __frontend_reg_load_fpr(v19);
    __frontend_reg_store_fpr(v19, v20);
    g27 = __frontend_reg_load_fpr(v19);
    if (v3 == 0) {
        // 0x8053143
        if (g31 == 0) {
            // 0x805314c
            console_printf("\r    Frame          |  CPU time/estim | REAL time/estim | play/CPU |    ETA \n     0/       ( 0%%)|    0:00/     :  |    0:00/     :  |         x|     :  \r");
            g31 = 1;
            // 0x8053374
            return;
        }
    }
    if (v3 >= 1) {
        // 0x805316d
        g31 = 0;
    }
    int32_t v27 = v4 < v3 ? v3 : v4;
    ts_calc_times((int32_t *)&g24, v2, v3, v27, v5);
    ts_calc_times((int32_t *)&g27, v2, v3, v27, v5);
    int32_t v28 = (int32_t)"(%3.3d%%)|"; // 0x80531cd
    if (v3 < v4) {
        // 0x80531cf
        __frontend_reg_store_fpr(v19, (float80_t)v3);
        __frontend_reg_store_fpr(v9, 100.0L);
        __frontend_reg_store_fpr(v19, __frontend_reg_load_fpr(v9) * __frontend_reg_load_fpr(v19));
        __frontend_reg_store_fpr(v9, (float80_t)v27);
        __frontend_reg_store_fpr(v19, __frontend_reg_load_fpr(v19) / __frontend_reg_load_fpr(v9));
        __frontend_reg_store_fpr(v9, 0.5L);
        __frontend_reg_store_fpr(v19, __frontend_reg_load_fpr(v9) + __frontend_reg_load_fpr(v19));
        v28 = (int32_t)__frontend_reg_load_fpr(v19) > 99 ? (int32_t)"(%3.3d%%)|" : (int32_t)" (%2d%%)|";
    }
    // 0x8053206
    console_printf("\r%6i/%-6i", v3, v27);
    console_printf((char *)v28);
    __frontend_reg_store_fpr(v19, (float80_t)g28);
    ts_time_decompose((int32_t)(int64_t)__frontend_reg_load_fpr(v19), 47);
    __frontend_reg_store_fpr(v19, (float80_t)g29);
    ts_time_decompose((int32_t)(int64_t)__frontend_reg_load_fpr(v19), 124);
    __frontend_reg_store_fpr(v19, (float80_t)g25);
    ts_time_decompose((int32_t)(int64_t)__frontend_reg_load_fpr(v19), 47);
    __frontend_reg_store_fpr(v19, (float80_t)g26);
    ts_time_decompose((int32_t)(int64_t)__frontend_reg_load_fpr(v19), 124);
    __frontend_reg_store_fpr(v19, (float80_t)g30);
    __frontend_reg_store_fpr(v9, (float80_t)g30);
    __frontend_reg_store_fpr(v11, 1.0L);
    float80_t v29 = __frontend_reg_load_fpr(v11); // 0x8053317
    float80_t v30 = __frontend_reg_load_fpr(v9); // 0x8053317
    int32_t v31 = (int32_t)"%9.4fx|"; // 0x8053317
    if (v29 <= v30) {
        v31 = v29 != v30 ? (int32_t)"%#9.5gx|" : (int32_t)"%9.4fx|";
    }
    // 0x805332e
    __frontend_reg_store_fpr(v9, __frontend_reg_load_fpr(v9));
    __frontend_reg_load_fpr(v19);
    console_printf((char *)v31);
    __frontend_reg_store_fpr(v19, (float80_t)g26);
    __frontend_reg_store_fpr(v9, (float80_t)g25);
    __frontend_reg_store_fpr(v19, __frontend_reg_load_fpr(v19) - __frontend_reg_load_fpr(v9));
    ts_time_decompose((int32_t)(int64_t)__frontend_reg_load_fpr(v19), 32);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/timestatus.c
// Address range: 0x8053376 - 0x805338a
// Line range:    186 - 189
void timestatus_finish(void) {
    // 0x8053376
    console_printf("\n");
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/timestatus.c
// Address range: 0x805338a - 0x80537be
// Line range:    193 - 255
void encoder_progress_begin(int32_t * gf, char * inPath, char * outPath) {
    // 0x805338a
    int3_t v1; // 0x805338a
    int3_t v2 = v1;
    if (silent > 9) {
        // 0x80537b6
        return;
    }
    int32_t v3 = (int32_t)gf;
    function_804a4cc(v3);
    int32_t v4 = strcmp(outPath, "-") == 0 ? (int32_t)"<stdout>" : (int32_t)outPath;
    int32_t len = strlen(inPath); // 0x80533d3
    int32_t len2 = strlen(outPath); // 0x80533e0
    int32_t v5 = len2 + len < 66 ? (int32_t)&g9 : (int32_t)"\n     ";
    int32_t v6 = strcmp(inPath, "-") == 0 ? (int32_t)"<stdin>" : (int32_t)inPath;
    console_printf("Encoding %s%s to %s\n", (char *)v6, (char *)v5, (char *)v4);
    int3_t v7 = v2 - 1; // 0x8053440
    __frontend_reg_store_fpr(v7, (float80_t)function_804a95c(v3));
    int3_t v8 = v2 - 2; // 0x8053443
    __frontend_reg_store_fpr(v8, 0.001L);
    __frontend_reg_store_fpr(v7, __frontend_reg_load_fpr(v8) * __frontend_reg_load_fpr(v7));
    console_printf("Encoding as %g kHz ", (float64_t)__frontend_reg_load_fpr(v7));
    uint32_t v9 = function_804a51c(v3); // 0x8053461
    if (v9 == 2) {
        // 0x8053495
        function_804a58c(v3);
        function_804a91c(v3);
        float80_t v10 = __frontend_reg_load_fpr(v2); // 0x80534ad
        int32_t v11 = function_804a95c(v3); // 0x80534b6
        int32_t v12 = v11 > 0x3e7f ? (int32_t)&g9 : (int32_t)".5";
        int32_t v13 = function_804a7ac(v3); // 0x80534d4
        int32_t v14 = function_804a98c(v3); // 0x80534eb
        int32_t v15 = function_804a6ac(v3); // 0x80534f8
        int32_t v16 = *(int32_t *)(4 * (4 * v14 + v15) + (int32_t)&g11); // 0x8053507
        __frontend_reg_store_fpr(v2, v10);
        console_printf("%s MPEG-%u%s Layer III VBR(q=%g) qval=%i\n", (char *)v16, 2 - v13, (char *)v12, (float64_t)__frontend_reg_load_fpr(v2));
        goto lab_0x80537a1;
    } else {
        if (v9 < 3) {
            if (v9 == 1) {
                goto lab_0x8053539;
            } else {
                goto lab_0x80536b6;
            }
        } else {
            switch (v9) {
                case 3: {
                    // 0x80535c6
                    function_804a58c(v3);
                    function_804aabc(v3);
                    function_804a23c(v3);
                    __frontend_reg_store_fpr(v7, 10.0L);
                    __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v7) * __frontend_reg_load_fpr(v2));
                    __frontend_reg_store_fpr(v7, 0.5L);
                    __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v7) + __frontend_reg_load_fpr(v2));
                    __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v2));
                    __frontend_reg_store_fpr(v7, 0.1L);
                    __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v7) * __frontend_reg_load_fpr(v2));
                    float80_t v17 = __frontend_reg_load_fpr(v2); // 0x8053623
                    int32_t v18 = function_804a95c(v3); // 0x805362c
                    int32_t v19 = v18 > 0x3e7f ? (int32_t)&g9 : (int32_t)".5";
                    int32_t v20 = function_804a7ac(v3); // 0x805364a
                    int32_t v21 = function_804a98c(v3); // 0x8053661
                    int32_t v22 = function_804a6ac(v3); // 0x805366e
                    int32_t v23 = *(int32_t *)(4 * (4 * v21 + v22) + (int32_t)&g11); // 0x805367d
                    __frontend_reg_store_fpr(v2, v17);
                    console_printf("%s MPEG-%u%s Layer III (%gx) average %d kbps qval=%i\n", (char *)v23, 2 - v20, (char *)v19, (float64_t)__frontend_reg_load_fpr(v2));
                    goto lab_0x80537a1;
                }
                case 4: {
                    goto lab_0x8053539;
                }
                default: {
                    goto lab_0x80536b6;
                }
            }
        }
    }
  lab_0x80537a1:
    // 0x80537a1
    if (silent <= 0xfffffff6) {
        // 0x80537ab
        function_804a8dc(v3);
    }
  lab_0x8053539:
    // 0x8053539
    function_804a91c(v3);
    float80_t v24 = __frontend_reg_load_fpr(v2); // 0x8053544
    int32_t v25 = function_804a95c(v3); // 0x805354d
    int32_t v26 = v25 > 0x3e7f ? (int32_t)&g9 : (int32_t)".5";
    int32_t v27 = function_804a7ac(v3); // 0x805356b
    int32_t v28 = function_804a98c(v3); // 0x805357f
    int32_t v29 = function_804a6ac(v3); // 0x805358c
    int32_t v30 = *(int32_t *)(4 * (4 * v28 + v29) + (int32_t)&g11); // 0x805359b
    __frontend_reg_store_fpr(v2, v24);
    console_printf("%s MPEG-%u%s Layer III VBR(q=%g)\n", (char *)v30, 2 - v27, (char *)v26, (float64_t)__frontend_reg_load_fpr(v2));
    goto lab_0x80537a1;
  lab_0x80536b6:
    // 0x80536b6
    function_804a58c(v3);
    function_804a9bc(v3);
    function_804a23c(v3);
    __frontend_reg_store_fpr(v7, 10.0L);
    __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v7) * __frontend_reg_load_fpr(v2));
    __frontend_reg_store_fpr(v7, 0.5L);
    __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v7) + __frontend_reg_load_fpr(v2));
    __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v2));
    __frontend_reg_store_fpr(v7, 0.1L);
    __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v7) * __frontend_reg_load_fpr(v2));
    float80_t v31 = __frontend_reg_load_fpr(v2); // 0x8053713
    int32_t v32 = function_804a95c(v3); // 0x805371c
    int32_t v33 = v32 > 0x3e7f ? (int32_t)&g9 : (int32_t)".5";
    int32_t v34 = function_804a7ac(v3); // 0x805373a
    int32_t v35 = function_804a98c(v3); // 0x8053751
    int32_t v36 = function_804a6ac(v3); // 0x805375e
    int32_t v37 = *(int32_t *)(4 * (4 * v35 + v36) + (int32_t)&g11); // 0x805376d
    __frontend_reg_store_fpr(v2, v31);
    console_printf("%s MPEG-%u%s Layer III (%gx) %3d kbps qval=%i\n", (char *)v37, 2 - v34, (char *)v33, (float64_t)__frontend_reg_load_fpr(v2));
    goto lab_0x80537a1;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/timestatus.c
// Address range: 0x80537be - 0x80538af
// Line range:    258 - 291
void encoder_progress(int32_t * gf) {
    // 0x80537be
    int3_t v1; // 0x80537be
    int3_t v2 = v1;
    int32_t v3 = silent; // 0x80537c5
    if (v3 >= 0 == (v3 != 0)) {
        // 0x80538a9
        return;
    }
    int32_t v4 = function_804a84c((int32_t)gf); // 0x80537d8
    int3_t v5 = v2 - 1; // 0x80537e0
    __frontend_reg_store_fpr(v5, (float80_t)update_interval);
    int3_t v6 = v2 - 2; // 0x80537e6
    __frontend_reg_store_fpr(v6, 0.0L);
    float80_t v7 = __frontend_reg_load_fpr(v6); // 0x80537e8
    float80_t v8 = __frontend_reg_load_fpr(v5); // 0x80537e8
    if (v7 > v8) {
        // 0x80537f3
        __frontend_reg_store_fpr(v5, __frontend_reg_load_fpr(v5));
        goto lab_0x80537f3_2;
    } else {
        __frontend_reg_store_fpr(v5, __frontend_reg_load_fpr(v5));
        if (v7 != v8) {
            int3_t v9; // 0x80537be
            switch (v4) {
                default: {
                    // 0x805382b
                    GetRealTime();
                    float80_t v10 = __frontend_reg_load_fpr(v2); // 0x8053830
                    __frontend_reg_store_fpr(v2, (float80_t)g23);
                    __frontend_reg_store_fpr(v5, v10);
                    __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v5) - __frontend_reg_load_fpr(v2));
                    float80_t v11 = __frontend_reg_load_fpr(v2); // 0x805383e
                    __frontend_reg_store_fpr(v2, v11);
                    __frontend_reg_store_fpr(v5, 0.0L);
                    float80_t v12 = __frontend_reg_load_fpr(v5); // 0x8053846
                    __frontend_reg_store_fpr(v5, __frontend_reg_load_fpr(v2));
                    __frontend_reg_store_fpr(v2, v12);
                    float80_t v13 = __frontend_reg_load_fpr(v5); // 0x8053848
                    float80_t v14 = __frontend_reg_load_fpr(v2); // 0x8053848
                    bool v15 = false; // 0x8053848
                    if (v13 <= v14) {
                        v15 = v13 != v14;
                    }
                    __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v2));
                    int3_t v16 = v2 + 1; // 0x805384a
                    v9 = v16;
                    if (!v15) {
                        // 0x8053853
                        __frontend_reg_store_fpr(v2, (float80_t)update_interval);
                        __frontend_reg_store_fpr(v5, v11);
                        float80_t v17 = __frontend_reg_load_fpr(v5); // 0x805385c
                        __frontend_reg_store_fpr(v5, __frontend_reg_load_fpr(v2));
                        __frontend_reg_store_fpr(v2, v17);
                        float80_t v18 = __frontend_reg_load_fpr(v5); // 0x805385e
                        float80_t v19 = __frontend_reg_load_fpr(v2); // 0x805385e
                        bool v20 = false; // 0x805385e
                        bool v21 = false; // 0x805385e
                        if (v18 <= v19) {
                            v20 = true;
                            v21 = false;
                            if (v18 >= v19) {
                                v20 = v18 != v19;
                                v21 = true;
                            }
                        }
                        __frontend_reg_store_fpr(v2, __frontend_reg_load_fpr(v2));
                        v9 = v16;
                        if (!v20 && !v21) {
                            // 0x80538a9
                            return;
                        }
                    }
                }
                case 0: {
                }
                case 9: {
                    // 0x8053869
                    GetRealTime();
                    g23 = __frontend_reg_load_fpr(v9);
                    // break -> 0x8053874
                    break;
                }
            }
            goto lab_0x8053874;
        } else {
            goto lab_0x80537f3_2;
        }
    }
  lab_0x80537f3_2:
    if (v4 % 100 != 0) {
        // 0x80538a9
        return;
    }
    goto lab_0x8053874;
  lab_0x8053874:
    // 0x8053874
    if (g44 != 0) {
        // 0x805387d
        brhist_jump_back();
    }
    // 0x8053882
    timestatus(gf);
    if (g44 != 0) {
        // 0x8053896
        brhist_disp(gf);
    }
    // 0x80538a1
    console_flush();
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/timestatus.c
// Address range: 0x80538af - 0x80538f2
// Line range:    294 - 310
void encoder_progress_end(int32_t * gf) {
    int32_t v1 = silent; // 0x80538b5
    if (v1 >= 0 == (v1 != 0)) {
        // 0x80538f0
        return;
    }
    // 0x80538be
    if (g44 != 0) {
        // 0x80538c7
        brhist_jump_back();
    }
    // 0x80538cc
    timestatus(gf);
    if (g44 != 0) {
        // 0x80538e0
        brhist_disp(gf);
    }
    // 0x80538eb
    timestatus_finish();
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/timestatus.c
// Address range: 0x80538f2 - 0x80539f8
// Line range:    316 - 342
void decoder_progress(int32_t * mp3data) {
    int32_t v1 = (int32_t)mp3data;
    int32_t v2 = *(int32_t *)(v1 + 32); // 0x8053901
    int32_t v3 = *(int32_t *)(v1 + 36); // 0x8053907
    console_printf("\rFrame#%6i/%-6i %3i kbps", v3, v2, *(int32_t *)(v1 + 12));
    int32_t v4; // 0x80538f2
    if (*(int32_t *)(v1 + 16) != 1) {
        // 0x80539d4
        console_printf("         ");
        v4 = 0;
    } else {
        uint32_t v5 = *(int32_t *)(v1 + 20); // 0x8053934
        uint32_t v6 = g22;
        char v7 = v5 % 2 == 0 ? v6 % 2 == 0 ? 32 : 105 : v6 % 2 == 0 ? 105 : 73;
        int32_t v8 = (v6 & 2) == 0 ? (int32_t)"LMSR" : (int32_t)" MS ";
        int32_t v9 = (v6 & 2) == 0 ? (int32_t)"L  R" : (int32_t)"LMSR";
        console_printf("  %s  %c", (char *)((v5 & 2) == 0 ? v9 : v8), v7);
        v4 = v5;
    }
    // 0x80539ea
    g22 = v4;
    console_printf("        \b\b\b\b\b\b\b\b");
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/timestatus.c
// Address range: 0x80539f8 - 0x8053a0c
// Line range:    345 - 348
void decoder_progress_finish(void) {
    // 0x80539f8
    console_printf("\n");
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/brhist.c
// Address range: 0x8053a0c - 0x8053a43
// Line range:    76 - 84
int32_t calculate_index(int32_t * array, uint32_t len, int32_t value) {
    // 0x8053a0c
    if (len <= 0) {
        // 0x8053a41
        return -1;
    }
    int32_t v1 = 0; // 0x8053a3a
    int32_t result = v1; // 0x8053a29
    while (*(int32_t *)(4 * v1 + (int32_t)array) != value) {
        // 0x8053a30
        v1++;
        result = -1;
        if (v1 >= len) {
            // break -> 0x8053a41
            break;
        }
        result = v1;
    }
    // 0x8053a41
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/brhist.c
// Address range: 0x8053a43 - 0x8053b52
// Line range:    87 - 109
int32_t brhist_init(int32_t * gf, int32_t bitrate_kbps_min, int32_t bitrate_kbps_max) {
    // 0x8053a43
    g34 = 0;
    function_804a5dc((int32_t)gf, (int32_t *)&g33);
    brhist = calculate_index((int32_t *)&g33, 14, bitrate_kbps_min);
    int32_t v1 = calculate_index((int32_t *)&g33, 14, bitrate_kbps_max); // 0x8053a9c
    g32 = v1;
    int32_t result; // 0x8053a43
    if (v1 < 14 == brhist < 14) {
        // 0x8053adb
        memset((int32_t *)&g35, 42, 512);
        memset((int32_t *)&g36, 37, 512);
        memset((int32_t *)&g38, 45, 512);
        memset((int32_t *)&g37, 45, 512);
        result = 0;
    } else {
        // 0x8053aba
        error_printf("lame internal error: VBR min %d kbps or VBR max %d kbps not allowed.\n", bitrate_kbps_min, bitrate_kbps_max);
        result = -1;
    }
    // 0x8053b50
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/brhist.c
// Address range: 0x8053b52 - 0x8053bda
// Line range:    112 - 133
int32_t digits(uint32_t number) {
    if (number >= 0x5f5e100) {
        // 0x8053bcb
        return 9 + (int32_t)(number / 0x5f5e100 > 9);
    }
    int32_t v1 = 1; // 0x8053b8b
    int32_t v2 = number; // 0x8053b8b
    if (number >= 0x2710) {
        // 0x8053b8d
        v1 = 5;
        v2 = number / 0x2710;
    }
    int32_t v3 = v1; // 0x8053bad
    int32_t v4 = v2; // 0x8053bad
    if (v2 >= 100) {
        // 0x8053baf
        v3 = v1 | 2;
        v4 = v2 / 100;
    }
    // 0x8053bcb
    return v3 + (int32_t)(v4 > 9);
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/brhist.c
// Address range: 0x8053bda - 0x8053d7c
// Line range:    137 - 172
void brhist_disp_line(int32_t i, int32_t br_hist_TOT, int32_t br_hist_LR, uint32_t full, int32_t frames) {
    int32_t v1 = __readgsdword(20); // 0x8053be0
    int32_t v2 = digits(frames); // 0x8053bf8
    int32_t v3 = 0; // 0x8053c07
    int32_t v4 = 0; // 0x8053c07
    if (full != 0) {
        int32_t v5 = -8 - v2 + g41; // 0x8053c0e
        int32_t v6 = full - 1;
        int32_t v7 = v5 * br_hist_TOT + v6; // 0x8053c18
        int64_t v8 = full; // 0x8053c20
        int32_t v9 = v5 * br_hist_LR + v6; // 0x8053c35
        v3 = (0x100000000 * (int64_t)(v7 >> 31) | (int64_t)v7) / v8;
        v4 = (0x100000000 * (int64_t)(v9 >> 31) | (int64_t)v9) / v8;
    }
    int32_t v10 = v4;
    int32_t v11 = v3;
    int32_t str; // bp-30, 0x8053bda
    sprintf((char *)&str, " [%*i]", digits(frames), br_hist_TOT);
    if (*(char *)&g43 == 0) {
        int32_t v12 = *(int32_t *)(4 * i + (int32_t)&g33); // 0x8053d17
        console_printf("\n%3d%s %.*s%.*s%*s", v12, &str, v10, (char *)&g36, v11 - v10, (char *)&g35, -8 - v2 - v11 + g41, (char *)&g10);
    } else {
        int32_t v13 = *(int32_t *)(4 * i + (int32_t)&g33); // 0x8053cbc
        console_printf("\n%3d%s %.*s%.*s%s", v13, &str, v10, (char *)&g36, v11 - v10, (char *)&g35, (char *)&g43);
    }
    // 0x8053d5c
    g34++;
    if (v1 != __readgsdword(20)) {
        // 0x8053d75
        __stack_chk_fail();
    }
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/brhist.c
// Address range: 0x8053d7c - 0x805409d
// Line range:    177 - 232
void progress_line(int32_t * gf, int32_t full, int32_t frames) {
    char rst[20]; // bp-40, 0x8053d7c
    char rst2[20]; // bp-44, 0x8053d7c
    char v1[20]; // 0x8053f7f
    char v2[20]; // 0x8053f9c
    char v3[20]; // 0x8053fec
    int32_t v4 = __readgsdword(20); // 0x8053d8b
    int16_t str = 0; // bp-36, 0x8053d9d
    rst = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
    rst2 = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
    int32_t v5 = (int32_t)gf; // 0x8053ded
    int32_t v6 = function_804a5fc(v5); // 0x8053ded
    int32_t v7 = function_804a95c(v5); // 0x8053dfb
    uint32_t v8 = full < frames ? frames : full;
    float80_t v9 = 0.0L; // 0x8053e15
    if (v7 >= 1) {
        // 0x8053e17
        v9 = (float80_t)(v8 - frames) * (float80_t)v6 / (float80_t)v7;
    }
    int32_t v10; // 0x8053d7c
    int32_t v11; // 0x8053d7c
    int32_t v12; // 0x8053d7c
    if (v8 == 0) {
        // 0x8053fdc
        rst2 = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
        int32_t v13 = *(int32_t *)&rst2; // 0x8053fe9
        v3[0] = v13;
        rst = v3;
        v10 = v13;
        v12 = 0;
        v11 = 1;
    } else {
        int32_t v14 = v9 / 3600.0L; // 0x8053e63
        float80_t v15 = v9 - (float80_t)(3600 * v14); // 0x8053e86
        int32_t v16 = v15 - (float80_t)(60 * (int32_t)(float32_t)(v15 / 60.0L)); // 0x8053edb
        int32_t v17; // 0x8053d7c
        if (v14 == 0) {
            // 0x8053f3f
            sprintf((char *)&str, "%02u:%02u", (int32_t)(float32_t)(v15 / 60.0L), v16);
            v17 = 6;
        } else {
            int32_t v18 = digits(v14); // 0x8053efa
            sprintf((char *)&str, "%*d:%02u:%02u", v18, v14, (int32_t)(float32_t)(v15 / 60.0L), v16);
            v17 = digits(v14) + 7;
        }
        int32_t v19 = (1 - v17 + g41) * v8 - 1; // 0x8053f74
        int64_t v20 = v8; // 0x8053f7c
        v1[0] = (0x100000000 * (int64_t)(v19 >> 31) | (int64_t)v19) / v20;
        rst = v1;
        int32_t v21 = v8 - 1 + (g41 - v17) * frames; // 0x8053f91
        v2[0] = (0x100000000 * (int64_t)(v21 >> 31) | (int64_t)v21) / v20;
        rst2 = v2;
        int32_t v22 = *(int32_t *)&rst2; // 0x8053f9f
        int32_t v23 = *(int32_t *)&rst - v22; // 0x8053fa7
        v10 = v22;
        v12 = v23;
        v11 = v17;
        if (v23 == 0) {
            // 0x8053fb4
            sprintf((char *)&str, "%.*s", v17 - 1, (char *)&g37);
            v10 = v22;
            v12 = v23;
            v11 = v17;
        }
    }
    // 0x8053fef
    if (*(char *)&g43 == 0) {
        int32_t v24 = *(int32_t *)&rst; // 0x805403d
        console_printf("\n%.*s%s%.*s%*s", v10, (char *)&g37, &str, v12, (char *)&g38, g41 - v11 - v24, (char *)&g10);
    } else {
        // 0x8053ffa
        console_printf("\n%.*s%s%.*s%s", v10, (char *)&g37, &str, v12, (char *)&g38, (char *)&g43);
    }
    // 0x805407d
    g34++;
    if (v4 != __readgsdword(20)) {
        // 0x8054096
        __stack_chk_fail();
    }
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/brhist.c
// Address range: 0x805409d - 0x80540e2
// Line range:    236 - 243
int32_t stats_value(float64_t x) {
    int32_t result = 0; // 0x80540b6
    if (x > 0.0) {
        // 0x80540c1
        console_printf(" %5.1f", x);
        result = 6;
    }
    // 0x80540e0
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/brhist.c
// Address range: 0x80540e2 - 0x805411f
// Line range:    246 - 253
int32_t stats_head(float64_t x, char * txt) {
    int32_t result = 0; // 0x80540fb
    if (x > 0.0) {
        // 0x8054106
        char * v1; // 0x80540e2
        console_printf(v1);
        result = 6;
    }
    // 0x805411d
    return result;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/brhist.c
// Address range: 0x805411f - 0x8054399
// Line range:    257 - 301
void stats_line(float64_t * stat) {
    int32_t v1 = (int32_t)stat;
    console_printf("\n   kbps     ");
    float64_t * v2 = (float64_t *)(v1 + 8); // 0x8054142
    int32_t v3 = stats_head(*v2, "  mono"); // 0x805414f
    float64_t * v4 = (float64_t *)(v1 + 16); // 0x805415d
    int32_t v5 = stats_head(*v4, "   IS "); // 0x805416a
    float64_t * v6 = (float64_t *)(v1 + 24); // 0x8054178
    int32_t v7 = stats_head(*v6, "   LR "); // 0x8054185
    float64_t * v8 = (float64_t *)(v1 + 32); // 0x8054193
    int32_t v9 = stats_head(*v8, "   MS "); // 0x80541a0
    console_printf(" %%    ");
    float64_t * v10 = (float64_t *)(v1 + 40); // 0x80541be
    int32_t v11 = stats_head(*v10, " long "); // 0x80541cb
    float64_t * v12 = (float64_t *)(v1 + 48); // 0x80541d9
    int32_t v13 = stats_head(*v12, "switch"); // 0x80541e6
    float64_t * v14 = (float64_t *)(v1 + 56); // 0x80541f4
    int32_t v15 = stats_head(*v14, " short"); // 0x8054201
    float64_t * v16 = (float64_t *)(v1 + 64); // 0x805420f
    int32_t v17 = stats_head(*v16, " mixed"); // 0x805421c
    int32_t v18 = console_printf(" %%"); // 0x805422b
    if (*(char *)&g43 == 0) {
        // 0x8054254
        console_printf("%*s", -19 - v3 - v5 - v7 - v9 - v11 - v13 - v15 - v17 - v18 + g41, (char *)&g10);
    } else {
        // 0x805423e
        console_printf("%s", (char *)&g43);
    }
    // 0x8054274
    g34++;
    console_printf("\n  %5.1f     ", *stat);
    int32_t v19 = stats_value(*v2); // 0x80542ac
    int32_t v20 = stats_value(*v4); // 0x80542bf
    int32_t v21 = stats_value(*v6); // 0x80542d2
    int32_t v22 = stats_value(*v8); // 0x80542e5
    console_printf("      ");
    int32_t v23 = stats_value(*v10); // 0x8054308
    int32_t v24 = stats_value(*v12); // 0x805431b
    int32_t v25 = stats_value(*v14); // 0x805432e
    int32_t v26 = stats_value(*v16); // 0x8054341
    if (*(char *)&g43 == 0) {
        // 0x805436a
        console_printf("%*s", -19 - v19 - v20 - v21 - v22 - v23 - v24 - v25 - v26 + g41, (char *)&g10);
    } else {
        // 0x8054354
        console_printf("%s", (char *)&g43);
    }
    // 0x805438a
    g34++;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/brhist.c
// Address range: 0x8054399 - 0x80546f4
// Line range:    309 - 367
void brhist_disp(int32_t * gf) {
    int32_t v1 = (int32_t)gf;
    int32_t v2; // bp-212, 0x8054399
    __asm_rep_stosd_memset((char *)&v2, 0, 18);
    g34 = 0;
    int32_t v3; // bp-436, 0x8054399
    function_804a4ec(v1, &v3);
    int32_t v4; // bp-140, 0x8054399
    function_804a15c(v1, &v4);
    int32_t v5; // bp-60, 0x8054399
    function_804a10c(v1, &v5);
    int32_t v6; // bp-84, 0x8054399
    function_804a5ac(v1, &v6);
    int32_t v7; // bp-4, 0x8054399
    int32_t v8 = (int32_t)&v7 - 136;
    int32_t v9 = 0;
    int32_t v10 = 0; // 0x8054445
    int32_t v11 = 0;
    float80_t v12 = 0.0L; // 0x805446e
    for (int32_t i = 0; i < 14; i++) {
        int32_t v13 = v11;
        int32_t v14 = 4 * i; // 0x805443e
        int32_t v15 = *(int32_t *)(v14 + v8); // 0x805443e
        v10 += v15;
        int32_t v16 = *(int32_t *)(v14 + (int32_t)&g33); // 0x8054455
        v12 += (float80_t)(v16 * v15);
        v11 = v15 > v13 ? v15 : v13;
        v9 += (int32_t)(v15 != 0);
    }
    // 0x805453a
    int32_t v17; // bp-12, 0x8054399
    int32_t v18 = (int32_t)&v17 - 424;
    int32_t v19 = 0; // 0x8054536
    int32_t v20; // 0x8054399
    while (true) {
      lab_0x80544b7:
        // 0x80544b7
        v20 = v19;
        int32_t v21 = *(int32_t *)(4 * v20 + v8); // 0x80544ba
        int32_t v22; // 0x8054509
        if (v9 < 2 || v21 == 0) {
            // 0x80544e5
            if (brhist > v20 || g32 < v20) {
                goto lab_0x8054536;
            } else {
                // 0x80544f9
                v22 = *(int32_t *)(v18 + 16 * v20);
                brhist_disp_line(v20, v21, v22, v11, v10);
                goto lab_0x8054536;
            }
        } else {
            // 0x80544f9
            v22 = *(int32_t *)(v18 + 16 * v20);
            brhist_disp_line(v20, v21, v22, v11, v10);
            goto lab_0x8054536;
        }
    }
  lab_0x805455b:
    if (v10 >= 1) {
        // 0x8054567
        v2 = (float32_t)(v12 / (float80_t)v10);
    }
    // 0x80545a0
    progress_line(gf, function_804a6fc(v1), v10);
    stats_line((float64_t *)&v2);
  lab_0x8054536:
    // 0x8054536
    v19 = v20 + 1;
    if (v19 == 14) {
        // break -> 0x805455b
        goto lab_0x805455b;
    }
    goto lab_0x80544b7;
}

// From module:   /home/naftali/source/lame-3.98.4/frontend/brhist.c
// Address range: 0x80546f4 - 0x8054713
// Line range:    370 - 374
void brhist_jump_back(void) {
    // 0x80546f4
    console_up(g34);
    g34 = 0;
}

// Address range: 0x805478a - 0x805478e
int32_t __i686_get_pc_thunk_bx(int32_t a1) {
    // 0x805478a
    int32_t result; // 0x805478a
    return result;
}

// Address range: 0x8054790 - 0x80547c2
int32_t stat64(int32_t a1, int32_t * a2) {
    // 0x8054790
    int32_t v1; // 0x8054790
    return __xstat64(3, (char *)a1, (struct stat64 *)__i686_get_pc_thunk_bx(v1));
}

// Address range: 0x80547d0 - 0x8054802
int32_t fstat64(int32_t a1, int32_t * a2) {
    // 0x80547d0
    int32_t v1; // 0x80547d0
    return __fxstat64(3, a1, (struct stat64 *)__i686_get_pc_thunk_bx(v1));
}

// --------------- Dynamically Linked Functions ---------------

// int __fxstat64(int ver, int fildes, struct stat64 * stat_buf);
// void __stack_chk_fail(void);
// int __xstat64(int ver, const char * filename, struct stat64 * stat_buf);
// int _IO_getc(_IO_FILE * fp);
// int _IO_putc(int c, _IO_FILE * fp);
// double atof(const char * nptr);
// int atoi(const char * nptr);
// clock_t clock(void);
// void exit(int status);
// int fclose(FILE * stream);
// int feof(FILE * stream);
// int ferror(FILE * stream);
// int fflush(FILE * stream);
// int fileno(FILE * stream);
// FILE * fopen64(const char * restrict filename, const char * restrict modes);
// int fprintf(FILE * restrict stream, const char * restrict format, ...);
// int fputc(int c, FILE * stream);
// int fputs(const char * restrict s, FILE * restrict stream);
// size_t fread(void * restrict ptr, size_t size, size_t n, FILE * restrict stream);
// void free(void * ptr);
// int fseek(FILE * stream, long int off, int whence);
// long int ftell(FILE * stream);
// size_t fwrite(const void * restrict ptr, size_t size, size_t n, FILE * restrict s);
// int32_t get_lame_os_bitness(void);
// int32_t get_lame_url(void);
// int32_t get_lame_version(void);
// int getchar(void);
// char * getenv(const char * name);
// int gettimeofday(struct timeval * restrict tv, __timezone_ptr_t tz);
// int32_t hip_decode1_headers(void);
// int32_t hip_decode1_headersB(void);
// int32_t hip_decode_exit(void);
// int32_t hip_decode_init(void);
// int32_t id3tag_add_v2(void);
// int32_t id3tag_genre_list(void);
// int32_t id3tag_init(void);
// int32_t id3tag_pad_v2(void);
// int32_t id3tag_set_album(void);
// int32_t id3tag_set_albumart(void);
// int32_t id3tag_set_artist(void);
// int32_t id3tag_set_comment(void);
// int32_t id3tag_set_fieldvalue(void);
// int32_t id3tag_set_genre(void);
// int32_t id3tag_set_pad(void);
// int32_t id3tag_set_title(void);
// int32_t id3tag_set_track(void);
// int32_t id3tag_set_year(void);
// int32_t id3tag_space_v1(void);
// int32_t id3tag_v1_only(void);
// int32_t id3tag_v2_only(void);
// int32_t lame_bitrate_hist(void);
// int32_t lame_bitrate_kbps(void);
// int32_t lame_bitrate_stereo_mode_hist(void);
// int32_t lame_block_type_hist(void);
// int32_t lame_close(void);
// int32_t lame_encode_buffer_int(void);
// int32_t lame_encode_flush(void);
// int32_t lame_encode_flush_nogap(void);
// int32_t lame_get_brate(void);
// int32_t lame_get_bWriteVbrTag(void);
// int32_t lame_get_compression_ratio(void);
// int32_t lame_get_decode_on_the_fly(void);
// int32_t lame_get_decode_only(void);
// int32_t lame_get_encoder_delay(void);
// int32_t lame_get_exp_nspsytune(void);
// int32_t lame_get_findReplayGain(void);
// int32_t lame_get_force_ms(void);
// int32_t lame_get_frameNum(void);
// int32_t lame_get_framesize(void);
// int32_t lame_get_free_format(void);
// int32_t lame_get_id3v1_tag(void);
// int32_t lame_get_id3v2_tag(void);
// int32_t lame_get_in_samplerate(void);
// int32_t lame_get_lametag_frame(void);
// int32_t lame_get_mode(void);
// int32_t lame_get_noclipGainChange(void);
// int32_t lame_get_noclipScale(void);
// int32_t lame_get_num_channels(void);
// int32_t lame_get_num_samples(void);
// int32_t lame_get_out_samplerate(void);
// int32_t lame_get_quality(void);
// int32_t lame_get_RadioGain(void);
// int32_t lame_get_totalframes(void);
// int32_t lame_get_VBR(void);
// int32_t lame_get_VBR_max_bitrate_kbps(void);
// int32_t lame_get_VBR_mean_bitrate_kbps(void);
// int32_t lame_get_VBR_min_bitrate_kbps(void);
// int32_t lame_get_VBR_q(void);
// int32_t lame_get_VBR_quality(void);
// int32_t lame_get_version(void);
// int32_t lame_init(void);
// int32_t lame_init_bitstream(void);
// int32_t lame_init_params(void);
// int32_t lame_print_config(void);
// int32_t lame_print_internals(void);
// int32_t lame_set_asm_optimizations(void);
// int32_t lame_set_athaa_sensitivity(void);
// int32_t lame_set_brate(void);
// int32_t lame_set_bWriteVbrTag(void);
// int32_t lame_set_compression_ratio(void);
// int32_t lame_set_copyright(void);
// int32_t lame_set_debugf(void);
// int32_t lame_set_decode_on_the_fly(void);
// int32_t lame_set_decode_only(void);
// int32_t lame_set_disable_reservoir(void);
// int32_t lame_set_emphasis(void);
// int32_t lame_set_error_protection(void);
// int32_t lame_set_errorf(void);
// int32_t lame_set_exp_nspsytune(void);
// int32_t lame_set_experimentalY(void);
// int32_t lame_set_findReplayGain(void);
// int32_t lame_set_force_ms(void);
// int32_t lame_set_free_format(void);
// int32_t lame_set_highpassfreq(void);
// int32_t lame_set_highpasswidth(void);
// int32_t lame_set_in_samplerate(void);
// int32_t lame_set_interChRatio(void);
// int32_t lame_set_lowpassfreq(void);
// int32_t lame_set_lowpasswidth(void);
// int32_t lame_set_mode(void);
// int32_t lame_set_msfix(void);
// int32_t lame_set_msgf(void);
// int32_t lame_set_nogap_currentindex(void);
// int32_t lame_set_nogap_total(void);
// int32_t lame_set_num_channels(void);
// int32_t lame_set_num_samples(void);
// int32_t lame_set_original(void);
// int32_t lame_set_out_samplerate(void);
// int32_t lame_set_preset(void);
// int32_t lame_set_quality(void);
// int32_t lame_set_scale(void);
// int32_t lame_set_scale_left(void);
// int32_t lame_set_scale_right(void);
// int32_t lame_set_strict_ISO(void);
// int32_t lame_set_useTemporal(void);
// int32_t lame_set_VBR(void);
// int32_t lame_set_VBR_hard_min(void);
// int32_t lame_set_VBR_max_bitrate_kbps(void);
// int32_t lame_set_VBR_mean_bitrate_kbps(void);
// int32_t lame_set_VBR_min_bitrate_kbps(void);
// int32_t lame_set_VBR_q(void);
// int32_t lame_set_VBR_quality(void);
// int32_t lame_set_write_id3tag_automatic(void);
// int32_t lame_stereo_mode_hist(void);
// double ldexp(double, int);
// void * malloc(size_t size);
// int memcmp(const void * s1, const void * s2, size_t n);
// void * memcpy(void * restrict dest, const void * restrict src, size_t n);
// void * memset(void * s, int c, size_t n);
// int pclose(FILE * stream);
// FILE * popen(const char * command, const char * modes);
// int setvbuf(FILE * restrict stream, char * restrict buf, int modes, size_t n);
// int sprintf(char * restrict s, const char * restrict format, ...);
// int sscanf(const char * restrict s, const char * restrict format, ...);
// char * strcat(char * restrict dest, const char * restrict src);
// int strcmp(const char * s1, const char * s2);
// char * strcpy(char * restrict dest, const char * restrict src);
// char * strdup(const char * s);
// size_t strlen(const char * s);
// char * strncat(char * restrict dest, const char * restrict src, size_t n);
// char * strncpy(char * restrict dest, const char * restrict src, size_t n);
// int32_t tgetent(void);
// int32_t tgetnum(void);
// int32_t tgetstr(void);
// int tolower(int c);
// int vfprintf(FILE * restrict s, const char * restrict format, _G_va_list arg);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (4.6.3)
// Detected functions: 217

