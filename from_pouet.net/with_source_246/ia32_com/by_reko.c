// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register byte bl, Register byte bh, Register (ptr16 Eq_5) ds)
void fn0C00_0100(byte bl, byte bh, struct Eq_5 * ds)
{
	word16 cx_141 = SEQ(SLICE((uint16) fn0C00_0196(&seg0C00_t::t01B0, ds), byte, 8), 0x06);
	do
	{
		msdos_display_string((char *) ds + 495);
		--cx_141;
	} while (cx_141 != 0x00);
	byte Eq_29::* di_21 = &Eq_29::bA000;
	do
	{
		0xA000->*di_21 <<= 0x01;
		++di_21;
	} while (di_21 != &Eq_29::b0000);
	byte al_51 = bl + 0x01 & ~0x10;
	byte al_61 = al_51 & 0x0F & 0x03;
	byte ah_56 = bh;
	byte cl_59 = (word16) (ds->*((word16) (SEQ(bh, bl + 0x01) >> 0x05) + 479)) + (ds->*SEQ(bh, al_51 & 0x0F)).b01DF;
	word16 ax_64 = SEQ(bh, al_61);
	if (al_61 == 0x03)
	{
		--al_61;
		ah_56 = SLICE(ax_64 - 0x01, byte, 8);
	}
	uint16 ax_82 = (uint16) cl_59;
	byte al_69 = al_61 + 0xA0;
	word16 bx_97 = SEQ(bh, (uint8) (ax_82 % 0x0C));
	word16 ax_108;
	word16 dx_109;
	word16 bx_111;
	seg0C00->t01B0();
	byte dh_117 = SLICE(dx_109, byte, 8);
	word16 ax_122;
	word16 bx_125;
	seg0C00->t01B0();
	seg0C00->t01B0();
	__halt();
}

// 0C00:0196: Register byte fn0C00_0196(Register (memptr (ptr16 Eq_2) code) bp, Register (ptr16 Eq_5) ds)
// Called from:
//      fn0C00_0100
byte fn0C00_0196(<anonymous> seg0C00_t::* bp, struct Eq_5 * ds)
{
	__syscall<byte>(0x10);
	do
	{
		word16 ax_9;
		(seg0C00->*bp)();
	} while (ax_9 != 0x01);
	word16 si_16 = 0x01D1;
	do
	{
		word16 ax_27;
		(seg0C00->*bp)();
		word16 ax_34;
		(seg0C00->*bp)();
		word16 cx_42;
		(seg0C00->*bp)();
		si_16 += 2;
	} while (cx_42 != 0x01);
	return SLICE(cx_42 - 0x01, byte, 8);
}

// 0C00:01B0: void fn0C00_01B0(Register word16 ax)
// Called from:
//      fn0C00_0100
void fn0C00_01B0(word16 ax)
{
	byte al_30 = (byte) ax;
	byte ah_50 = SLICE(ax, byte, 8);
	__out<byte>(0x0388, al_30);
	__out<byte>(0x0389, ah_50);
	word16 cx_55;
	for (cx_55 = 0x0388; cx_55 != 0x00; --cx_55)
		__in<byte>(0x0388);
}

