// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_11) ds_bx, Register byte ah, Register Eq_5 bp)
void fn0C00_0100(union Eq_11 * ds_bx, byte ah, Eq_5 bp)
{
	__syscall<byte>(0x10);
	Eq_11 es_bx_8 = ds_bx->u1;
	int16 ax_30 = SEQ(ah, 0x13);
	Eq_18 bx_11 = (word16) es_bx_8;
	struct Eq_20 * es_46 = SLICE(es_bx_8, selector, 16);
	while (true)
	{
		cu16 bx_23;
		word16 dx_16 = -bx_11 + bp;
		int16 ax_10 = ax_30 *s 0x03;
		word16 bx_14 = bx_11 + bp;
		Eq_28 dx_17 = (word16) dx_16 + 75;
		if (ax_10 <= 0x00)
			bx_23 = (word16) bx_14 + 80;
		else
		{
			bx_23 = bx_14 - 0x50;
			dx_17 = (word16) dx_16 + 0x007D;
		}
		Eq_5 dx_33 = dx_17 >> 0x01;
		bx_11 = bx_23 >> 0x01;
		Eq_37 di_36 = dx_33 *s 0x0140 - 0x69;
		Mem40[es_46:bx_11 + di_36:byte] = 0x04;
		Mem41[es_46:bx_11 - 4 + di_36:byte] = 0x14;
		ax_30 = ax_10 + bx_23;
		bp = dx_33;
	}
}

