// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Sequence word32 eax_16_16_di, Register byte cl, Register byte bl, Register word16 bp, Register word16 si, Register (ptr16 Eq_8) ds)
void fn0C00_0100(word32 eax_16_16_di, byte cl, byte bl, word16 bp, word16 si, struct Eq_8 * ds)
{
	uint16 cx;
	__syscall<byte>(0x10);
	struct Eq_15 * bx_7 = SEQ(0xA0, bl);
	word32 eax_16_16_di_102 = eax_16_16_di;
	do
	{
		do
		{
			Eq_45 edx_eax_13 = (int64) eax_16_16_di_102;
			uint16 ax_19 = (uint16) (edx_eax_13 /u 0x0140);
			Eq_51 ax_35 = (uint16) ((word32) SEQ(0x20, (byte) cx) /u (ax_19 + 0x01));
			uint16 ax_38 = (word16) ax_35 + si;
			struct Eq_19 Eq_15::* di_9 = (word16) eax_16_16_di_102;
			word16 eax_16_16_86 = SLICE(edx_eax_13, word16, 16);
			cx = ax_19 + 0x01;
			ui8 al_56 = ds->*((word16) (((uint16) (edx_eax_13 % 0x0140) - 0xA0) *s ax_35 >> 0x0C) + (uint16) ((byte) ax_38 & 0xF0)) ^ (byte) bp;
			di_59 = di_9;
			do
			{
				struct Eq_19 Eq_15::* di_59;
				byte al_57 = al_56 | 0x10;
				(bx_7->*di_59).b0000 = al_57;
				di_59 -= 0x0140;
				al_56 = al_57 + 0x01 & 0x0F;
			} while ((al_57 + 0x01 & 0x0F) != 0x00);
			eax_16_16_di_102 = SEQ(eax_16_16_86, &di_9->b0000 + 1);
		} while (di_9 != &Eq_15::tFFFF);
		++si;
		eax_16_16_di_102 = SEQ(eax_16_16_86, &di_9->b0000 + 1);
	} while (si != 0x00);
}

