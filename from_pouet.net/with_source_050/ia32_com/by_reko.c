// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_19) ds_bx, Register word16 cx, Register (memptr (ptr16 Eq_25) byte) di)
void fn0C00_0100(union Eq_19 * ds_bx, word16 cx, byte Eq_25::* di)
{
	bool C;
	__syscall<byte>(0x10);
	__out<word16>(0x03D4, 8211);
	Eq_19 es_ax_12 = ds_bx->u1;
	cu8 al_14 = (byte) es_ax_12;
	struct Eq_25 * es_47 = SLICE(es_ax_12, selector, 16);
	do
	{
		do
		{
			__out<byte>(969, al_14);
			al_14 = al_14 + 0x95 + (byte) C;
			C = al_14 < 0x00;
		} while (al_14 != 0x00);
		do
		{
			byte ah_22 = SLICE(cx, byte, 8);
			es_47->*di = (byte) cx ^ ah_22;
			C = false;
			++di;
			--cx;
		} while (cx != 0x00);
		byte al_32 = __in<byte>(0x60);
		al_14 = al_32 - 0x01;
	} while (SEQ(ah_22, al_32) != 0x01);
}

