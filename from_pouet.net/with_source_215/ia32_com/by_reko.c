// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_3) ds)
void fn0C00_0100(struct Eq_3 * ds)
{
	struct Eq_4 * ss;
	bios_video_set_mode(0x13);
	do
	{
		uint16 ax_17 = ds->w01BE * ds->w01BC;
		ds->w01BC = ax_17 + 0x6D & 0x7FFF;
		struct Eq_10 Eq_4::* bp_24 = &Eq_4::t01C0;
		do
		{
			bp_24 = bp_110 + 1;
			bp_110 = bp_24;
		} while ((ss->*bp_110).w0000 < (ax_17 + 0x6D & 0x7FFF));
		int32 ebx_49 = ds->dw01F0 *s (int32) (ss->*bp_24).wFFFFFFF6 + ds->dw01F4 *s (int32) (ss->*bp_24).wFFFFFFF8;
		int32 ecx_63 = (ds->dw01F0 *s (int32) (ss->*bp_24).wFFFFFFFA + ds->dw01F4 *s (int32) (ss->*bp_24).wFFFFFFFC >> 0x0D) + (int32) (ss->*bp_24).wFFFFFFFE;
		ds->dw01F0 = ebx_49 >> 0x0D;
		ds->dw01F4 = ecx_63;
		((char *) (word16) ((ebx_49 >> 0x0D) *s ds->dw01F8 >> 0x0D) + (word16) (ecx_63 *s ds->dw01F8 >> 0x0D) *s ~0x013F)[0x0000F960] = 0x02;
		do
			;
		while ((__in<byte>(0x03DA) & 0x08) == 0x00);
	} while (__in<byte>(0x60) != 0x01);
	bios_video_set_mode(0x03);
	msdos_terminate_program20();
}

