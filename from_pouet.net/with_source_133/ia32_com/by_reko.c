// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register byte bh)
void fn0C00_0100(byte bh)
{
	__syscall<byte>(0x10);
	word16 cx_10 = 0x00;
	uint16 bx_14 = SEQ(bh, 0x14) << 0x07;
	do
	{
		cx_10 += 0x0F;
		uint16 bx_19 = bx_14 + cx_10;
		byte bh_28 = SLICE(bx_19, byte, 8);
		bx_14 = bx_19;
		if ((byte) (bx_19 >> 0x07) > 199)
		{
			cx_10 = -cx_10;
			bx_14 = SEQ(bh_28, 0xC6) << 0x07;
		}
		Eq_16 di_38 = (bx_19 >> 0x07) * 0x0140 + 0xA0;
		0xA000->*di_38 = 0x0F;
		do
			;
		while ((__in<byte>(0x03DA) & 0x08) != 0x00);
		do
			;
		while ((__in<byte>(0x03DA) & 0x08) == 0x00);
		0xA000->*di_38 = 0x00;
	} while (__in<byte>(0x60) != 0x01);
	bios_video_set_mode(0x03);
	msdos_terminate_program20();
}

