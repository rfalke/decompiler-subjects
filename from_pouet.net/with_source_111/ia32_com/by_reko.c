// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_11) ds_bx, Register Eq_4 si, Register Eq_5 di)
void fn0C00_0100(union Eq_11 * ds_bx, Eq_4 si, Eq_5 di)
{
	__syscall<byte>(0x10);
	Eq_11 ds_cx_8 = ds_bx->u1;
	cu16 cx_10 = (word16) ds_cx_8;
	struct Eq_17 * ds_94 = SLICE(ds_cx_8, selector, 16);
	do
	{
		__out<byte>(969, (byte) cx_10);
		uint16 ax_14 = cx_10 >> 0x01;
		__out<byte>(969, (byte) ax_14);
		__out<byte>(969, (byte) (ax_14 >> 0x01));
		Eq_39 ax_16 = ax_14 >> 0x01;
		--cx_10;
	} while (cx_10 != 0x00);
	do
	{
		do
		{
			word16 si_29 = si + ax_16 + CONVERT(ax_14 >>u 0x01 <u 0x00, bool, word16) + cx_111;
			bcu8 cl_41 = (byte) cx_111;
			int8 al_37 = (word16) (ds_94->*((word16) si_29 + 1)) + ((ds_94->*si_29 - ds_94->*((word16) si_29 + 1)) - (byte) (si_29 < 0x00) >> 0x01);
			uint8 cl_42 = cl_41 >> cl_41;
			si = (word16) si_29 + 1;
			word16 ax_39 = SEQ(SLICE(ax_16, byte, 8), al_37);
			uint8 cl_46 = cl_42 + (al_37 - 0x01) + (byte) (cl_42 < 0x00);
			Eq_5 bx_50 = di;
			if (cl_46 * 0x02 >= 0x00)
				bx_50.u0 = ~0x013F;
			if (cl_46 * 0x02 >= 0x00)
				bx_50 = bx_50 ^ di;
			ds_94->*((word16) bx_50.u0 + ((word16) si_29 + 1)) = al_37 - 0x01;
			cx_10 = cx_111 - 0x01;
			ax_16 = ax_39 - 0x01;
			cx_111 = cx_10;
		} while (cx_111 != 0x01);
		int16 ax_77 = (int16) __in<byte>(0x60);
		ax_16 = ax_77 - 0x01;
	} while (ax_77 != 0x01);
	__syscall<byte>(0x10);
}

