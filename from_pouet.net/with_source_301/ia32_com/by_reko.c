// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_3) ds)
void fn0C00_0100(struct Eq_3 * ds)
{
	__syscall<byte>(0x10);
	do
	{
		word16 Eq_35::* di_12 = Eq_35::a0000;
		word16 cx_157;
		for (cx_157 = 0x7D00; cx_157 != 0x00; --cx_157)
		{
			0x9000->*di_12 = 0x00;
			++di_12;
		}
		ds->r01ED = ds->r01F1;
		ds->w0205 = 0x0A;
		ds->r01F9 = (real32) ((real64) ds->r01F9 + (real64) ds->r01F5);
		word16 cx_123 = 0x06;
		do
		{
			ds->w020B = 0x00;
			int16 cx_42 = ds->w0205;
			ui16 ax_41 = ds->w0209 - ds->w0205;
			word16 cx_194 = SEQ(SLICE(cx_42 *s 0x02, byte, 8), (byte) cx_42 *s 0x02);
			do
			{
				struct Eq_242 Eq_59::* bx_48 = ds->w0207 - ds->w020B;
				byte cl_53 = (byte) cx_200;
				(&&(0x9000->*(0x9000->*bx_48).b0000))[ax_41].b0000 = cl_53;
				(&&(0x9000->*(0x9000->*((bx_48 + ds->w020B /16 320) + ds->w020B /16 320)).b0000))[ax_41].b0000 = cl_53;
				++ds->w020B;
				++ax_41;
				cx_194 = SEQ(SLICE(cx_200 - 0x01, byte, 8), cl_53 - 0x01);
				cx_200 = cx_194;
			} while (cx_200 != 0x01);
			struct Eq_246 Eq_116::* bx_72 = ds->w0207 + ds->w020B;
			int16 cx_197 = ds->w020B *s 0x02 + 0x01;
			do
			{
				byte cl_84 = (byte) cx_201;
				(&&(0x9000->*(0x9000->*bx_72).b0000))[ax_41].b0000 = cl_84;
				--bx_72;
				cx_197 = SEQ(SLICE(cx_201 - 0x01, byte, 8), cl_84 - 0x01);
				cx_201 = cx_197;
			} while (cx_201 != 0x01);
			ds->r01ED = (real32) ((real64) ds->r01ED + (real64) ds->r01F1);
			ds->w0205 += 0x04;
			real64 rLoc1_182 = (real64) ds->r01F9;
			real64 rLoc1_183 = cos(rLoc1_182);
			ds->w0209 = (int16) (sin(rLoc1_182) * (real64) ds->r01ED + (real64) ds->r01FD);
			ds->w0207 = (int16) (rLoc1_183 * (real64) ds->r01ED + (real64) ds->r0201);
			cx_123 = cx_199 - 0x01;
			cx_199 = cx_123;
		} while (cx_199 != 0x01);
		memcpy(A000:0000, 9000:0000, 0xFA00);
		byte al_149;
		byte ah_150;
	} while (bios_kbd_check_keystroke(out al_149, out ah_150));
}

