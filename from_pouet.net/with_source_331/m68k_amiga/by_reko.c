// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00001000: void fn00001000(Register word32 d0, Register uip32 d2)
void fn00001000(word32 d0, uip32 d2)
{
	word32 d4;
	uipr32 d5;
	struct Eq_6 * a6_4 = *(struct Eq_6 **) 0x04;
	uipr32 d0_7 = SEQ(SLICE(d0, word16, 16), 0xA8C0);
	uint32 d1_274 = 0x00010002;
	Eq_287 d0_13[] = AllocMem(d0_7, 0x00010002);
	*(word16 *) 0x00DFF09A = 0x4000;
	g_w1186 = (word16) d0_13 + 0x06C4;
	uipr32 d0_24 = __swap(&(d0_13 + 0x06C4)->t0000.u0);
	g_w1182 = (word16) d0_24;
	Eq_287 a1_18[] = d0_13;
	uipr32 d4_270 = SEQ(SLICE(d4, word16, 16), 399);
	do
	{
		d5 = SEQ(SLICE(d5, word16, 16), 0x01AF);
		do
		{
			uint32 d0_47 = SEQ(SLICE(d0_24, word16, 16), (word16) d4_270 - 0x01B0) *32 (word16) d4_270;
			d1_274 = SEQ(SLICE(d1_274, word16, 16), (word16) d5 - 448) *32 (word16) d5;
			cui16 v33_57 = (word16) (d0_47 + d1_274);
			word16 v34_58 = SLICE(d0_47, word16, 16);
			d0_24 = SEQ(v34_58, v33_57 & 0x0800);
			if ((v33_57 & 0x0800) != 0x00)
			{
				word16 v42_74 = (word16) d5;
				uipr32 d2_77 = SEQ(SLICE(d2, word16, 16), v42_74);
				cu16 v37_68 = (word16) d5;
				d2 = SEQ(SLICE(d2_77, word24, 8), -(byte) v42_74 - 0x01);
				__bset<word32>(a1_18[(int32) (v37_68 >> 0x03)].t0000.u0, d2, out a1_18[(int32) (v37_68 >> 0x03)].t0000.u0);
				d0_24 = SEQ(v34_58, v37_68 >> 0x03);
			}
			word16 v48_89 = (word16) d5;
			d5 = SEQ(SLICE(d5, word16, 16), v48_89 - 1);
		} while (v48_89 != 0x00);
		word16 v50_96 = (word16) d4_270;
		a1_18 = (Eq_287 (*)[]) &(a1_18 + 54)->t0000.u0;
		d4_270 = SEQ(SLICE(d4_270, word16, 16), v50_96 - 1);
	} while (v50_96 != 0x00);
	g_w1196 = (word16) d0_13 + 0x5460;
	g_w1192 = (word16) __swap(&(d0_13 + 21600)->t0000.u0);
	struct Eq_136 * a1_106 = &(d0_13 + 21600)->t0000.u0;
	union Eq_138 * a0_115 = &g_u1058;
	union Eq_138 * a2_116 = &g_u1058;
	int32 d6_117 = 4;
	do
	{
		a1_106->dw1F18 = a0_115->u1;
		a1_106->dw1F4E = a0_115->u1;
		word16 v59_134 = (word16) d6_117;
		a0_115 = (union Eq_138 *) ((char *) a0_115 + 4);
		++a1_106;
		d6_117 = SEQ(SLICE(d6_117, word16, 16), v59_134 - 1);
	} while (v59_134 != 0x00);
	*(ptr32 *) 0x00DFF080 = 0x1180;
	union Eq_138 * a1_145 = &g_u1058;
	int32 d1_146 = 63;
	do
	{
		--a2_116;
		a1_145->u0 = a2_116->u0;
		word16 v62_161 = (word16) d1_146;
		a1_145 = (union Eq_138 *) ((char *) a1_145 + 1);
		d1_146 = SEQ(SLICE(d1_146, word16, 16), v62_161 - 1);
	} while (v62_161 != 0x00);
	int32 d5_165 = 32;
	do
	{
		do
			;
		while (*(byte *) 0x00DFF006 != 0xE0);
		do
			;
		while (*(byte *) 0x00DFF006 != 0xF0);
		word24 v68_182 = SLICE(d6_117, word24, 8);
		cui16 v69_184 = (word16) SEQ(v68_182, (byte) d6_117 + 0x01) & 0x7F;
		uint32 d0_191 = (uint32) g_a1018[(int32) v69_184];
		g_b119B = -(byte) d0_191 - 0x01 << 0x04;
		word24 v85_217 = SLICE(d5_165, word24, 8);
		cui16 v86_219 = (word16) SEQ(v85_217, (byte) d5_165 + 0x01) & 0x7F;
		word16 v90_230 = (word16) d0_13 + (((word16) d0_191 >> 0x03) + (word16) g_a1018[(int32) v86_219] * 0x36);
		g_w118E = v90_230 + 0x02;
		g_w118A = (word16) __swap(SEQ(SLICE(d0_13, word16, 16), v90_230) + 0x02);
		d6_117 = SEQ(SLICE(v68_182, word16, 8), v69_184);
		d5_165 = SEQ(SLICE(v85_217, word16, 8), v86_219);
	} while (__btst<byte>(*(byte *) 0x00BFE001, 0x06));
	*(word16 *) 0x00DFF09A = 0xC000;
	FreeMem(d0_13, d0_7);
	*(ptr32 *) 0x00DFF080 = a6_4->ptr009C->ptr0026;
}

byte g_a1018[] = // 00001018
	{
	};
union Eq_138 g_u1058 = // 00001058
	{
		0xF0
	};
word16 g_w1182 = 0x00; // 00001182
word16 g_w1186 = 0x00; // 00001186
word16 g_w118A = 0x00; // 0000118A
word16 g_w118E = 0x00; // 0000118E
word16 g_w1192 = 0x00; // 00001192
word16 g_w1196 = 0x00; // 00001196
ui8 g_b119B = 0x00; // 0000119B
