// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register byte ah, Register byte ch, Register byte bl, Register (memptr (ptr16 Eq_7) Eq_6) si, Register (ptr16 Eq_7) ds)
void fn0C00_0100(byte ah, byte ch, byte bl, struct Eq_6 Eq_7::* si, struct Eq_7 * ds)
{
	word16 bx;
	word16 cx;
	byte bl_14 = (byte) bx;
	Eq_12 bx_15 = SEQ(~0x05, bl_14);
	__fninit();
	Eq_12 di_16 = bx_15;
	real64 rLoc1_133 = 0.0;
	do
	{
		real64 rLoc2_135 = 3.141592653589793 / (real64) (ds->*si).w003C;
		ds->*di_16 = (int16) (sin(rLoc1_133) * (real64) (ds->*si).w0000 + (real64) (ds->*si).w0000 + (real64) (ds->*si).w0000);
		rLoc1_133 += rLoc2_135;
		di_16 = (word16) di_16 + 1;
	} while (di_16 != 0x00);
	__syscall<byte>(0x10);
	word16 ax_117 = SEQ(ah, 0x13);
	while (true)
	{
		<unknown>* di_75 = di_16;
		byte ch_130 = SLICE(cx, byte, 8);
		word16 ax_50 = ax_117 + 0x01;
		ax_77 = ax_50;
		do
		{
			word16 ax_77;
			uint16 cx_93 = SEQ(ch_130, 0xA0);
			memcpy(di_75, SEQ(~0x05, ds->*((word16) bx_15 + (uint16) ((byte) ax_77))), cx_93 *32 0x02);
			++ax_77;
			ch_130 = 0x00;
			di_75 = (<unknown>*) ((char *) di_75 + cx_93 * 0x02);
		} while (di_75 < bx_15);
		ax_117 = ax_50;
	}
}

