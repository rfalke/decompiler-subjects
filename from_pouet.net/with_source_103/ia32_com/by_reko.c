// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register byte ah, Register word16 cx, Register byte bh)
void fn0C00_0100(byte ah, word16 cx, byte bh)
{
	__syscall<byte>(0x10);
	__out<byte>(0x03C8, 0x03);
	struct Eq_18 * ax_6 = SEQ(ah, 0x13);
	word16 dx_10 = 969;
	word16 cx_72 = cx;
	do
	{
		__out<byte>(969, 0x00);
		__out<byte>(969, 0x00);
		bcu8 cl_14 = (byte) cx_76;
		__out<byte>(969, cl_14 >> 0x02);
		cx_72 = SEQ(SLICE(cx_76 - 0x01, byte, 8), cl_14 - 0x01);
		cx_76 = cx_72;
	} while (cx_76 != 0x01);
	ui16 bx_42 = SEQ(bh, 100);
	while (true)
	{
		memcpy(A000:0000, dx_10, 0xFA00);
		byte al_39 = __in<byte>(0x60);
		if (al_39 == 0x48)
			--bx_42;
		if (al_39 == 0x50)
			++bx_42;
		(*((char *) 0xA000 + 80))[bx_42].b0000 = 0x02;
		++dx_10;
	}
}

