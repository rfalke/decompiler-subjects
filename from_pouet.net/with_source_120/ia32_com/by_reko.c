// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register byte al, Register byte cl, Register byte bh, Register byte bl, Register (ptr16 Eq_7) es, Register (ptr16 Eq_8) ds)
void fn0C00_0100(byte al, byte cl, byte bh, byte bl, struct Eq_7 * es, struct Eq_8 * ds)
{
	byte Eq_7::* di_5 = Eq_7::a0140;
	word16 cx_6 = SEQ(~0x05, cl);
	while (true)
	{
		byte cl_75 = (byte) cx_6;
		if (cx_6 == 0x00)
			break;
		es->*di_5 = al;
		++di_5;
		--cx_6;
	}
	__syscall<byte>(0x10);
	msdos_display_string((char *) ds + 315);
	while (true)
	{
		struct Eq_38 Eq_8::* di_12 = Eq_8::a0140;
		word16 cx_37 = SEQ(200, cl_75);
		do
		{
			word16 ax_27 = (ds->*di_12).t0000.u1 - di_12[320];
			(ds->*di_12).t0000.u0 = (byte) ((byte) ax_27 + SLICE(ax_27, byte, 8) + ~0x02 >> 0x02);
			--cx_37;
			++di_12;
			uint8 cl_52 = (byte) cx_37;
		} while (cx_37 != 0x00);
		memcpy(A12C:0000, ds->a0140[0].t0000, SEQ(100, cl_52) *32 0x02);
		bios_video_set_CGA_palette(bh, bl);
		cl_75 = 0x00;
	}
}

