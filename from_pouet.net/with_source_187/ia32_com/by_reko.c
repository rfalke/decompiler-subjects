// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_3) ds)
void fn0C00_0100(struct Eq_3 * ds)
{
	bios_video_set_mode(0x13);
	__out<byte>(0x03C8, 0x00);
	byte al_12 = 0x00;
	word16 cx_17;
	for (cx_17 = 0x40; cx_17 != 0x00; --cx_17)
	{
		__out<byte>(969, al_12);
		__out<byte>(969, al_12);
		__out<byte>(969, al_12);
		++al_12;
	}
	__wait();
	__fninit();
	ds->r01BB = ds->r01AB;
	byte Eq_54::* di_107 = &Eq_54::b0000;
	cup16 dx_131;
	struct Eq_51 * Top_127 = 0x00;
	for (dx_131 = 0x00; dx_131 < 200; ++dx_131)
	{
		real64 * Top_42 = Top_127 - (struct Eq_342 *) 1;
		*Top_42 = (real64) ds->r01A7;
		ds->r01B7 = (real32) *Top_42;
		cup16 bx_119;
		int8 Top_116 = Top_42 + 1;
		for (bx_119 = 0x00; bx_119 < 0x0140; ++bx_119)
		{
			__wait();
			__fninit();
			struct Eq_300 * Top_49 = Top_116 - (struct Eq_301 *) 1;
			Top_49->r0000 = 0.0;
			Top_49->rFFFFFFFF = 0.0;
			word16 cx_53 = 0x3F;
			do
			{
				struct Eq_51 * Top_54 = Top_116 - (struct Eq_99 *) 2;
				Top_54->rFFFFFFFF = Top_54->r0000;
				Top_54->rFFFFFFFF *= Top_54->rFFFFFFFF;
				real64 v20_60 = Top_54->rFFFFFFFF;
				Top_54->rFFFFFFFF = Top_54->r0000;
				Top_54->r0000 = v20_60;
				Top_54->rFFFFFFFF *= Top_54->r0001;
				Top_54->rFFFFFFFF += Top_54->rFFFFFFFF;
				real64 v21_65 = Top_54->rFFFFFFFF;
				Top_54->rFFFFFFFF = Top_54->r0001;
				Top_54->r0001 = v21_65;
				Top_54->rFFFFFFFF *= Top_54->rFFFFFFFF;
				Top_54->r0000 -= Top_54->rFFFFFFFF;
				real64 v22_71 = Top_54->r0000;
				Top_54->r0000 = Top_54->r0001;
				Top_54->r0001 = v22_71;
				Top_54->r0000 += (real64) ds->r01BB;
				real64 v23_77 = Top_54->r0000;
				Top_54->r0000 = Top_54->r0001;
				Top_54->r0001 = v23_77;
				Top_54->r0000 += (real64) ds->r01B7;
				Top_54->rFFFFFFFF = Top_54->r0001;
				Top_54->rFFFFFFFF *= Top_54->rFFFFFFFF;
				Top_54->rFFFFFFFE = Top_54->r0000;
				Top_54->rFFFFFFFE *= Top_54->rFFFFFFFE;
				Top_54->rFFFFFFFF += Top_54->rFFFFFFFE;
				Top_54->rFFFFFFFF = sqrt(Top_54->rFFFFFFFF);
				ds->t01BF.u0 = (int16) Top_54->rFFFFFFFF;
				byte cl_100 = (byte) cx_53;
				if (ds->t01BF > 0x02)
					break;
				--cx_53;
				cl_100 = (byte) cx_53;
			} while (cx_53 != 0x00);
			0xA000->*di_107 = cl_100;
			Top_54->rFFFFFFFF = (real64) ds->r01B7;
			Top_54->rFFFFFFFF += (real64) ds->r01AF;
			ds->r01B7 = (real32) Top_54->rFFFFFFFF;
			++di_107;
			Top_116 = Top_54;
		}
		Top_54->rFFFFFFFF = (real64) ds->r01BB;
		Top_54->rFFFFFFFF -= (real64) ds->r01B3;
		ds->r01BB = (real32) Top_54->rFFFFFFFF;
		Top_127 = Top_54;
	}
	byte al_139;
	bios_kbd_get_keystroke(out al_139);
	bios_video_set_mode(0x03);
	msdos_terminate_program20();
}

