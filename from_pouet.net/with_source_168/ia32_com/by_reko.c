// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register byte ah)
void fn0C00_0100(byte ah)
{
	__syscall<byte>(0x10);
	ci16 dx_45 = SLICE((int32) SEQ(ah, 0x13), word16, 16);
	do
	{
		fn0C00_0160(fn0C00_0160(0x01, dx_45) + 0x01, dx_45);
		fn0C00_0160(0x04, dx_45);
		if (__in<byte>(0x60) == 0x01)
			goto l0C00_015E;
		++dx_45;
	} while (dx_45 < 200);
	byte al_93;
	bios_kbd_get_keystroke(out al_93);
l0C00_015E:
	msdos_terminate_program20();
}

// 0C00:0160: Register ui8 fn0C00_0160(Register ui8 al, Register ci16 dx)
// Called from:
//      fn0C00_0100
ui8 fn0C00_0160(ui8 al, ci16 dx)
{
	do
	{
		__syscall<byte>(0x10);
		__syscall<byte>(0x10);
		__syscall<byte>(0x10);
		__syscall<byte>(0x10);
		al = al ^ 0x08 ^ 0x08;
		++dx;
	} while (dx < 200);
	return al;
}

