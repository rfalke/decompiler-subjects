// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register word16 bp, Register (memptr (ptr16 Eq_74) byte) di, Register (ptr16 Eq_5) ds)
void fn0C00_0100(word16 bp, byte Eq_74::* di, struct Eq_5 * ds)
{
	bios_video_set_mode(0x13);
	cui16 cx_92 = 0x00;
	do
	{
		byte cl_11 = (byte) cx_95;
		__out<byte>(0x03C8, cl_11);
		__out<byte>(969, cl_11);
		__out<byte>(969, cl_11);
		__out<byte>(969, cl_11 & 0x88);
		cx_92 = SEQ(SLICE(cx_95 - 0x01, byte, 8), cl_11 - 0x01);
		cx_95 = cx_92;
	} while (cx_95 != 0x01);
	__wait();
	__fninit();
	word16 dx_28 = 0x00;
	real64 rLoc1_81 = (real64) ds->t03C7;
	do
	{
		rLoc1_81 = cos(rLoc1_81) * (real64) ds->r03C8;
		ds->t03C7.u2 = (real32) rLoc1_81;
		0xA000->*di = (byte) (bp + dx_28 ^ dx_28) ^ ds->t03C7;
		ds->t03C7 = (word32) ds->t03C7 + bp;
		++di;
		dx_28 = SEQ((byte) dx_28, SLICE(dx_28, byte, 8)) - 0x01;
		++bp;
	} while (__in<byte>(0x60) != 0x01);
}

