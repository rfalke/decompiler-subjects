// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100()
void fn0C00_0100()
{
	__syscall<byte>(0x10);
	__out<word16>(0x03D4, 8211);
	cui16 cx_353 = 0x40;
	do
	{
		byte cl_259 = (byte) cx_360;
		cui16 bx_350 = 0x30;
		do
		{
			byte bl_11 = (byte) bx_361;
			bi8 al_14 = __rol<byte,byte>(bl_11, 0x01);
			ci8 al_20 = (al_14 *s al_14 & 0x1F) + 0x20 - cl_259;
			if (al_20 < 0x00)
				al_20 = 0x00;
			__out<byte>(969, al_20);
			Eq_23 bx_34 = bx_361 - 0x01;
			bx_350 = SEQ(SLICE(bx_361 - 0x01, byte, 8), bl_11 - 0x01);
			bx_361 = bx_350;
		} while (bx_361 != 0x01);
		cx_353 = SEQ(SLICE(cx_360 - 0x04, byte, 8), cl_259 - 0x04);
		cx_360 = cx_353;
	} while (cx_360 != 0x04);
	do
	{
		bi8 al_66 = (byte) bx_34;
		int16 ax_67 = al_66 *s16 al_66;
		0x8000->*bx_34 = (SEQ(SLICE(ax_67, byte, 8) - 0x40, (byte) ax_67) ^ SLICE((int32) ((int16) ((byte) (bx_34 >> 0x01) + 0x40)), word16, 16)) >> 0x08;
		Eq_89 bx_78 = (word16) bx_34 + 1;
		bx_34 = (word16) bx_78 + 1;
		byte bl_269 = (byte) bx_78 + 0x01;
		byte bh_276 = SLICE((word16) bx_78 + 1, byte, 8);
	} while (bx_78 != ~0x00);
	ui8 Eq_123::* bx_356 = SEQ(bh_276, bl_269);
	do
	{
		bi8 bl_88 = (byte) bx_359;
		bi8 bh_95 = SLICE(bx_359, byte, 8);
		int16 bp_105 = bl_88 *s16 bl_88 + bh_95 *s16 bh_95;
		ui16 ax_103 = 0x00;
		do
		{
			++ax_103;
			byte al_110 = (byte) ax_103;
			bp_105 -= ax_103 * 0x02;
		} while (bp_105 >= 0x00);
		0x7000->*bx_359 = SLICE((al_110 << 0x02) *s16 (al_110 << 0x02), byte, 8) << 0x01;
		struct Eq_129 Eq_123::* bx_121 = bx_359 + 1;
		bx_356 = SEQ(SLICE(bx_359 + 1, byte, 8), bl_88 + 0x01);
		bx_359 = bx_356;
	} while (bx_359 != &Eq_123::bFFFF);
	struct Eq_147 Eq_84::* si_136 = Eq_84::a0000;
	do
	{
		int16 ax_145 = SEQ((0x8000->*si_136).t0000.u0, si_136[64]);
		Eq_161 si_151 = (0x8000->*si_136).t0000.u1;
		<unknown> Eq_123::* bp_152 = &Eq_123::t9CC0;
		do
		{
			do
			{
				bx_300 = SEQ(bh_177, bl_170 + 0x02);
				byte al_159 = Mem156[0x7000:bp_152 + ax_145:byte] + Mem156[0x7000:bp_152 + si_151:byte];
				byte ah_162 = SLICE(al_159 *s16 al_159, byte, 8);
				word16 ax_164 = SEQ(ah_162, ah_162);
				(0x6000->*bx_121).t0000.u1 = ax_164;
				bx_121[0x0100] = (struct Eq_129) ax_164;
				byte bl_170 = (byte) bx_121;
				byte bh_177 = SLICE(bx_121, byte, 8);
				bp_152 = (<unknown> Eq_123::*) ((char *) bp_152 + 1);
				bx_121 = bx_300;
			} while (bl_170 != ~0x01);
			bp_152 = (<unknown> Eq_123::*) ((char *) bp_152 + 0x0080);
			bx_121 = SEQ(bh_177 + 0x01, bl_170 + 0x02);
		} while (bh_177 != ~0x00);
		do
			;
		while ((__in<byte>(0x03DA) & 0x08) == 0x00);
		do
			;
		while ((__in<byte>(0x03DA) & 0x08) != 0x00);
		do
		{
			byte cl_203 = (0x6000->*bx_121).t0000.u0;
			word16 cx_206 = bx_121 + SEQ(cl_203, cl_203);
			bi8 ch_208 = SLICE(cx_206, byte, 8);
			bi8 cl_209 = (byte) cx_206 + ch_208;
			int16 ax_226 = ((int16) ((0x6000->*bx_121).bFFFFFBFC - bx_121[0x0404]) << 0x01) + 0x80;
			byte cl_221 = SLICE(cl_209 *s16 cl_209 + ch_208 *s16 ch_208, byte, 8) >> 0x02 & 0x0F;
			byte al_233 = (byte) ax_226;
			if (ax_226 < 0x00)
				al_233 = 0x00;
			bx_121[32] = (struct Eq_129) ((al_233 & 0xF0) + cl_221);
			++bx_121;
		} while (bx_121 != &Eq_123::t0000);
		++si_136;
	} while (__in<byte>(0x60) != 0x01);
}

