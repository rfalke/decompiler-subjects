// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register byte ch, Register byte dh)
void fn0C00_0100(byte ch, byte dh)
{
	__syscall(0x10);
	int16 dx_12 = SEQ(dh, 0x40);
	int16 bp_13 = dx_12;
	Eq_13 si_14 = 28428;
	while (true)
	{
		Eq_16 di_18 = bp_13 *s 0x0140 + dx_12;
		word16 cx_28 = SEQ(ch, 0x1E);
		do
		{
			++0xA000->*di_18;
			--cx_28;
			di_18 = (word16) di_18 + 1;
			ch = SLICE(cx_28, byte, 8);
		} while (cx_28 != 0x00);
		int16 ax_32 = si_14 *s 20077;
		cu16 ax_40 = -((ax_32 << 0x01) + 0x61 + (ax_32 << 0x01 < 0x00) >> 0x01) << 0x01 & 0x7FFE;
		si_14 = ax_40 >> 0x01;
		if ((byte) (ax_40 >> 0x01) >= 0x80)
			dx_12 += 0x02;
		--dx_12;
		++bp_13;
	}
}

