// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register byte ah, Register byte ch, Register byte bl, Register (ptr16 Eq_6) ds, Register (ptr16 Eq_7) gs)
void fn0C00_0100(byte ah, byte ch, byte bl, struct Eq_6 * ds, struct Eq_7 * gs)
{
	Eq_8 Top_127 = 0;
	__syscall<byte>(0x10);
	word16 ax_174 = SEQ(ah, 0x00);
	do
	{
		byte al_6 = (byte) ax_177;
		__out<byte>(969, al_6);
		__out<byte>(969, al_6);
		__out<byte>(969, al_6);
		byte ah_115 = SLICE(ax_177 + 0x01, byte, 8);
		ax_174 = SEQ(ah_115, al_6 + 0x01);
		ax_177 = ax_174;
	} while (ax_177 != ~0x00);
	Eq_42 bx_15 = SEQ(0xA0, bl);
	do
	{
		__fninit();
		ds->*bx_15 = 0x51;
		Eq_66 cx_143 = SEQ(ch, 0x03);
		do
		{
			--Top_127;
			*Top_127.u0 = (real64) gs->w046C;
			*Top_127.u0 /= (real64) (ds->*bx_15);
			ds->t046C = cx_143;
			*Top_127.u0 += (real64) ds->t046C;
			*Top_127.u0 = sin(*Top_127.u0);
			*Top_127.u0 *= (real64) (ds->*bx_15);
			*Top_127.u0 -= (real64) (ds->*bx_15);
			--cx_143;
			ch = SLICE(cx_143, byte, 8);
		} while (cx_143 != 0x00);
		ds->t046C.u1 = 200;
		word16 di_100 = 0x00;
		do
		{
			int16 dx_105;
			for (dx_105 = 0x0140; dx_105 != 0x00; --dx_105)
			{
				ds->w046E = dx_105;
				Eq_126 Top_49 = Top_127 - 1;
				*Top_49.u0 = 0.0;
				word16 cx_150 = SEQ(ch, 0x03);
				do
				{
					Eq_126 Top_53 = Top_49 - 1;
					*Top_53.u0 = (real64) ds->w046E;
					*Top_53.u0 += Top_53.u1[3];
					*Top_53.u0 *= *Top_53.u0;
					Top_53.u1->rFFFFFFFF = (real64) ds->t046C;
					Top_53.u1->rFFFFFFFF += Top_53.u1[2];
					Top_53.u1->rFFFFFFFF *= Top_53.u1->rFFFFFFFF;
					*Top_53.u0 += Top_53.u1->rFFFFFFFF;
					Top_53.u1->rFFFFFFFF = 1.0;
					*Top_53.u0 += Top_53.u1->rFFFFFFFF;
					*Top_53.u0 = Top_53.u1->rFFFFFFFF / *Top_53.u0;
					Top_53.u1[1] = (struct Eq_366) (Top_53.u1[1] + *Top_53.u0);
					*Top_53.u0 = (real64) Top_53.u1[4];
					real64 v23_76 = *Top_53.u0;
					*Top_53.u0 = (real64) Top_53.u1[1];
					Top_53.u1[1] = (struct Eq_366) v23_76;
					__ffree(Top_53.u1[4]);
					--cx_150;
					Top_49 = Top_53;
					ch = SLICE(cx_150, byte, 8);
				} while (cx_150 != 0x00);
				*Top_53.u0 *= (real64) ds->w0169;
				ds->*bx_15 = (int16) *Top_53.u0;
				Top_127.u0 = Top_53.u1 + 1;
				byte al_86 = 0x3F;
				if (SEQ(ah_115, 0x3F) > ds->*bx_15)
				{
					Eq_60 ax_92 = ds->*bx_15;
					al_86 = (byte) ax_92;
					ah_115 = SLICE(ax_92, byte, 8);
				}
				bx_15->*di_100 = al_86;
				++di_100;
			}
			Eq_66 v26_110 = ds->t046C - 0x01;
			ds->t046C = v26_110;
		} while (v26_110 != 0x00);
		word16 ax_117 = SEQ(ah_115, __in<byte>(0x60));
		ah_115 = SLICE(ax_117 - 0x01, byte, 8);
	} while (ax_117 != 0x01);
}

