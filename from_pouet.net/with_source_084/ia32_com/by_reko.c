// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register word16 ax, Register word16 bx, Register Eq_5 bp, Register (memptr (ptr16 Eq_24) Eq_6) di)
void fn0C00_0100(word16 ax, word16 bx, Eq_5 bp, struct Eq_6 Eq_24::* di)
{
	__syscall<byte>(0x10);
	word16 cx_27 = ax;
	do
	{
		Eq_13 ax_16 = bp *s 0x8805;
		uint16 ax_19 = (word16) ax_16 + 1 >> 11;
		(0xA000->*di).b0000 = (byte) ax_19 + 0x1E;
		--cx_27;
		bp = (word16) ax_16 + 1;
		byte ah_71 = SLICE(ax_19, byte, 8);
		++di;
		byte ch_80 = SLICE(cx_27, byte, 8);
	} while (cx_27 != 0x00);
	word16 cx_52 = SEQ(ch_80, 0x06);
	do
	{
		do
		{
			(0xA000->*di).b0000 = (byte) di[0x0141].b0000 + (((byte) (di)[1].b0000 + (0xA000->*di).bFFFFFEC1) + (0xA000->*di).b0000) >> 0x02;
			++di;
			--bx;
		} while (bx != 0x00);
		--cx_52;
	} while (cx_52 != 0x00);
	do
	{
		byte al_57 = (0xA000->*di).bFFFFFFFF;
		do
		{
			byte v18_61 = (0xA000->*di).b0000;
			(0xA000->*di).b0000 = al_57;
			al_57 = v18_61;
			++di;
			--cx_52;
		} while (cx_52 != 0x00);
		word16 ax_72 = SEQ(ah_71, __in<byte>(0x60));
		ah_71 = SLICE(ax_72 - 0x01, byte, 8);
	} while (ax_72 != 0x01);
}

