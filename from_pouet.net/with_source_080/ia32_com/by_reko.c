// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100()
void fn0C00_0100()
{
	bios_video_set_mode(0x13);
	word16 di_22;
	word16 Eq_25::* si_23;
	word16 cx_21 = fn0C00_0133(A000:2D9F, 0x00, out si_23, out di_22);
	do
	{
		word16 Eq_25::* di_37 = di_22 + 0x02;
		cx_52 = cx_21;
		do
		{
			word16 cx_52;
			++si_23;
			0xA000->*di_37 = 0xA000->*si_23 ^ 0xA000->*si_23;
			++di_37;
			--cx_52;
		} while (cx_52 != 0x00);
		cx_21 = fn0C00_0133(di_22, cx_21, out si_23, out di_22);
	} while ((byte) cx_21 != 0x80);
	byte al_75;
	bios_kbd_get_keystroke(out al_75);
	bios_video_set_mode(0x03);
}

// 0C00:0133: Register word16 fn0C00_0133(Sequence (ptr32 word16) ds_di, Register word16 cx, Register out Eq_15 siOut, Register out ptr16 diOut)
// Called from:
//      fn0C00_0100
word16 fn0C00_0133(word16 * ds_di, word16 cx, union Eq_15 & siOut, ptr16 & diOut)
{
	Eq_15 di = (word16) ds_di;
	*ds_di = 0x0F0F;
	siOut = di;
	diOut = (word16) di + 319;
	return cx + 0x01;
}

