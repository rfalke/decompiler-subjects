// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_11) ds_bx, Register Eq_3 si)
void fn0C00_0100(union Eq_11 * ds_bx, Eq_3 si)
{
	int16 bx = (word16) ds_bx;
	__syscall(0x10);
	Eq_11 ds_cx_8 = *ds_bx;
	uint16 cx_10 = (word16) ds_cx_8;
	struct Eq_17 * ds_91 = SLICE(ds_cx_8, selector, 16);
	do
	{
		uint8 al_13 = (byte) cx_10;
		__outb(969, al_13);
		__outb(969, al_13 >> 0x01);
		__outb(969, al_13 >> 0x02);
		byte ah_72 = SLICE(cx_10, byte, 8);
		--cx_10;
	} while (cx_10 != 0x00);
	do
	{
		do
		{
			bcu8 cl_26 = (byte) cx_118;
			byte al_25 = ds_91->*si;
			uint8 cl_27 = cl_26 >> cl_26;
			if (cl_27 < 0x00)
			{
				bx = 0x00 - (cl_27 < 0x00);
				uint8 cl_31 = cl_27 + al_25;
				if (cl_31 * 0x02 >= 0x00)
					bx = 0x0140;
				if (cl_31 * 0x02 < 0x00)
					bx = -bx;
				--ds_91->*si;
			}
			ds_91->*((word16) si + bx) = al_25;
			ui32 si_si_99 = SEQ(si_69, si) + SEQ(ax_75, cx_118);
			ui16 si_69 = (word16) si_si_99;
			si = SLICE(si_si_99, word16, 16);
			ui16 ax_75 = SEQ(ah_72, al_25);
			cx_10 = cx_118 - 0x01;
			cx_118 = cx_10;
		} while (cx_118 != 0x01);
		int16 ax_81 = (int16) __inb(0x60);
		ah_72 = SLICE(ax_81 - 0x01, byte, 8);
	} while (ax_81 != 0x01);
	__syscall(0x10);
}

