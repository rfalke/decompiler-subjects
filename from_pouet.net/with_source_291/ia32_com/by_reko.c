// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_3) ds)
void fn0C00_0100(struct Eq_3 * ds)
{
	__syscall<byte>(0x10);
	word16 cx_10 = 0x00;
	do
	{
		uint8 al_12 = (byte) cx_10;
		__out<byte>(0x03C8, al_12);
		__out<byte>(969, al_12 >> 0x02);
		uint16 ax_15 = (al_12 >> 0x02) *16 (al_12 >> 0x02);
		__out<byte>(969, (byte) (ax_15 >> 0x06));
		__out<byte>(969, (byte) (ax_15 >> 0x07));
		--cx_10;
	} while (cx_10 != 0x00);
	do
	{
		word16 dx_115;
		byte Eq_3::* di_103 = Eq_3::a0200;
		for (dx_115 = 0x52; dx_115 != 0x78; --dx_115)
		{
			word16 cx_114;
			for (cx_114 = 0x0140; cx_114 != 0x00; --cx_114)
			{
				ds->t01F8 = 0xA0 - cx_114;
				real64 rLoc1_200 = (real64) ds->t01F8;
				ds->t01F8 = dx_115 + 0x00;
				real64 rLoc2_201 = (real64) ds->t01F8;
				ds->t01F8.u0 = (int16) (cos(sqrt(sqrt(rLoc2_201 * rLoc2_201 + rLoc1_200 * rLoc1_200)) * 3.141592653589793 + sin(__atan2(rLoc2_201, rLoc1_200) * __rndint((real64) ds->t01F6 / (real64) ds->w01FA) + (real64) ds->t01F6 / (real64) ds->w01FD) * __rndint((real64) ds->t01F6 / (real64) ds->w01FB) + -((real64) ds->t01F6)) * (real64) ds->w0188);
				cu16 bx_104 = (word16) (ds->*di_103);
				uint16 ax_107 = ((word16) ds->t01F8 + 0x007F + bx_104 >> 0x01) + bx_104;
				uint8 al_110 = (byte) (ax_107 >> 0x01);
				ds->*di_103 = al_110;
				++di_103;
			}
		}
		ds->t01F6 = (word16) ds->t01F6 + 1;
		__out<byte>(0x61, al_110);
		__out<byte>(0x43, ~0x49);
		uint8 al_130 = (word16) ds->t01F6 + (byte) (ax_107 >> 0x01);
		__out<byte>(66, al_130);
		__out<byte>(66, al_130);
		struct Eq_212 Eq_3::* di_132 = Eq_3::a0200;
		word16 cx_133;
		for (cx_133 = 64640; cx_133 != 0x00; --cx_133)
		{
			(ds->*di_132).b0000 = (byte) (((word16) (ds->*di_132).b0000 << 0x02) + (word16) di_132[1] + (word16) (ds->*di_132).bFFFFFFFF + (word16) (ds->*di_132).bFFFFFEC0 + (word16) di_132[320] >> 0x03);
			++di_132;
		}
		do
			;
		while ((__in<byte>(0x03DA) & 0x08) == 0x00);
		memcpy(A000:0000, ds->a0340[0], 0xFA00);
		byte al_182;
		byte ah_183;
	} while (bios_kbd_check_keystroke(out al_182, out ah_183));
}

