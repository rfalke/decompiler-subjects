// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_10) ds_bx, Register word16 cx)
void fn0C00_0100(union Eq_10 * ds_bx, word16 cx)
{
	__syscall<byte>(0x10);
	Eq_10 ds_bx_8 = ds_bx->u1;
	int16 bx_25 = (word16) ds_bx_8;
	struct Eq_16 * ds_70 = SLICE(ds_bx_8, selector, 16);
	word16 cx_92 = cx;
	do
	{
		bcu8 cl_10 = (byte) cx_96;
		uint8 al_13 = (cl_10 >> 0x01) - 0x40;
		if (cl_10 >> 0x01 >= 0x40)
			al_13 = 0x40 - (cl_10 >> 0x01) - 1;
		__out<byte>(969, al_13);
		__out<byte>(969, al_13);
		__out<byte>(969, al_13);
		int16 cx_23 = cx_96 - 0x01;
		cx_92 = SEQ(SLICE(cx_96 - 0x01, byte, 8), cl_10 - 0x01);
		cx_96 = cx_92;
	} while (cx_96 != 0x01);
	do
	{
		ci16 cx_26 = cx_23 - bx_25;
		word64 edx_eax_29 = __rdtsc();
		cx_23 = cx_26 >> 0x01;
		bx_25 += cx_26 >> 0x01;
		byte ah_56 = SLICE(edx_eax_29, byte, 8);
		if (((byte) edx_eax_29 & 0x04) != 0x00)
		{
			cx_23 = bx_25 + 0x40;
			bx_25 = -(cx_26 >> 0x01) + 0x40;
		}
		Eq_72 di_46 = bx_25 *s ~0x013F + ~0x440B + cx_23;
		ds_70->*di_46 = (word16) (ds_70->*di_46) + 1;
	} while (SEQ(ah_56, __in<byte>(0x60)) != 0x01);
}

