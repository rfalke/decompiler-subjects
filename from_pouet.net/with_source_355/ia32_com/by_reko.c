// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_3) ds)
void fn0C00_0100(struct Eq_3 * ds)
{
	mp16 fp;
	struct Eq_5 * cs;
	word16 ecx_16_16;
	word16 edi_16_16;
	word16 edx_16_16;
	fn0C00_060B(fn0C00_035B());
	struct Eq_16 * ax_27 = SEQ(SLICE(cs, byte, 8) + 0x30, (byte) cs);
	Eq_22 bx_34;
	word16 bp_50 = fn0C00_0371(fn0C00_0334(ax_27, out bx_34), 0x1000, bx_34, Eq_5::a2B26, cs);
	bios_video_set_mode(0x13);
	fn0C00_0715(ds);
	fn0C00_0840(0x00, cs);
	word16 si_82 = 0x00;
	word16 di_83 = 0x00;
	word16 dx_100 = 199;
	do
	{
		memcpy(di_83, si_82, 0x0140);
		di_83 = (<unknown>*) ((char *) di_83 + 320);
		--dx_100;
		si_82 = (<unknown>*) ((char *) si_82 + 0x0100);
		word32 ecx_1471 = SEQ(ecx_16_16, 0x00);
		word32 edi_1474 = SEQ(edi_16_16, di_83);
		word32 edx_1477 = SEQ(edx_16_16, dx_100);
	} while (dx_100 != 0x00);
	while (true)
	{
		cs->w0147 = 2335;
		word16 edx_16_16_1325 = SLICE(edx_1477, word16, 16);
		word16 di_169 = (word16) edi_1474;
		word16 cx_154 = (word16) ecx_1471;
		word16 dx_115 = (word16) edx_1477;
		uint16 ax_123 = (uint16) cs->b091F;
		if (ax_123 << 0x02 <= cs->w0870)
			break;
		if (((byte) dx_115 & 0x02) != 0x00)
			fn0C00_0395(0x05, cs, cs);
		struct Eq_126 * ax_416 = SEQ(SLICE(cs, byte, 8) + 0x10, (byte) cs);
		byte dl_994 = (byte) dx_115;
		struct Eq_126 * es_417 = ax_416;
		byte Eq_126::* di_418 = &Eq_126::bBE00;
		word16 cx_423;
		for (cx_423 = 0x0500; cx_423 != 0x00; --cx_423)
		{
			ax_416->*di_418 = 0x00;
			++di_418;
		}
		if ((dl_994 & 0x01) != 0x00)
		{
			word32 Eq_126::* di_1029 = Eq_126::a0000;
			word16 cx_1005;
			for (cx_1005 = 0x4000; cx_1005 != 0x00; --cx_1005)
			{
				ax_416->*di_1029 = 0x00;
				++di_1029;
			}
		}
		if ((dl_994 & 0x20) != 0x00)
			fn0C00_0695();
		if ((dl_994 & 0x08) != 0x00)
		{
			struct Eq_126 * ax_579 = SEQ(SLICE(cs, byte, 8) + 0x10, (byte) cs);
			fn0C00_0402(ax_579, cs);
			es_417 = ax_579;
		}
		if ((dl_994 & 0x04) != 0x00)
		{
			fn0C00_0539(cs->w0870 << 0x01, &Eq_126::t8000, es_417, cs, SEQ(SLICE(cs, byte, 8) + 0x30, (byte) cs));
			edx_16_16_1325 = SLICE(edx_667, word16, 16);
		}
		struct Eq_311 * ax_725 = SEQ(SLICE(cs, byte, 8) + 0x10, (byte) cs);
		__syscall<byte>(0x10);
		struct Eq_347 Eq_311::* di_788 = &Eq_311::t0000;
		byte Eq_5::* si_792 = &Eq_5::b091F;
		while (true)
		{
			int16 ax_800 = (int16) (cs->*si_792);
			++si_792;
			ci8 al_801 = (byte) ax_800;
			if (al_801 == 0x00)
				break;
			if (al_801 < 0x00)
			{
				cui16 ax_942 = -ax_800;
				di_788 += SEQ(SLICE(ax_942 << 0x04, byte, 8) << 0x04, (byte) ax_942 << 0x04);
			}
			else
			{
				Eq_372 si_871 = (ax_800 << 0x04) + bp_50;
				cu8 dl_877;
				di_1019 = di_788;
				for (dl_877 = 0x10; dl_877 != 0x00; --dl_877)
				{
					struct Eq_347 Eq_311::* di_1019;
					ui8 al_1025 = ax_725->*si_871;
					si_871 = (word16) si_871 + 1;
					di_892 = di_1019;
					do
					{
						struct Eq_347 Eq_311::* di_892;
						int16 ax_888 = (int16) al_1025;
						byte ah_889 = SLICE(ax_888, byte, 8);
						(ax_725->*di_892).b0000 |= ah_889 & 191;
						struct Eq_419 Eq_311::* di_897 = di_892 + 1;
						(ax_725->*di_897).b0000 |= ah_889 & 191;
						di_897[1] = (struct Eq_419) (di_897[1] | ah_889 & 191);
						byte bl_906 = ah_889 & 191 & ~0x50;
						di_897[0x00FF] = (struct Eq_419) (di_897[0x00FF] | SEQ(bl_906, bl_906));
						byte al_912 = (byte) ax_888;
						di_892 = (struct Eq_347 Eq_311::*) (di_897 + 1);
						al_1025 = al_912 << 0x01;
					} while (SEQ(ah_889 & 191, al_912) << 0x01 != 0x00);
					di_1019 += 0x0101;
					if (dl_877 >= 0x09)
						di_1019 += 0x00FF;
				}
				di_788 += 16;
			}
		}
		fn0C00_030F(ax_725);
		word16 ecx_16_16_1286 = SLICE(ecx_816, word16, 16);
		word16 edi_16_16_1307 = SLICE(edi_817, word16, 16);
		if ((int16) __in<byte>(0x60) == 0x01)
			goto l0C00_02DE;
		ecx_1471 = SEQ(ecx_16_16_1286, cx_423);
		edi_1474 = SEQ(edi_16_16_1307, di_418);
		edx_1477 = SEQ(edx_16_16_1325, dx_115);
	}
	cs->w0154 = ax_123 << 0x02;
	cu8 al_131 = cs->b0920;
	byte Eq_5::* si_132 = &Eq_5::t0921;
	if (al_131 >= 0x01)
	{
		if (al_131 != 0x01)
		{
			if (al_131 >= 0x03)
			{
				if (al_131 != 0x03)
				{
					if (al_131 >= 0x05)
					{
						if (al_131 != 0x05)
						{
							if (al_131 >= 0x07)
							{
l0C00_02DE:
								struct Eq_3 * ds_847 = fn0C00_090C();
								bios_video_set_mode(0x03);
								fn0C00_0715(ds_847);
							}
							else
							{
								struct Eq_504 * ax_177 = SEQ(SLICE(cs, byte, 8) + 0x30, (byte) cs);
								struct Eq_510 Eq_504::* si_179 = Eq_504::a0000;
								do
								{
									(ax_177->*si_179).w0000 = ~(ax_177->*si_179).w0000;
									struct Eq_521 Eq_504::* si_188 = si_179 + 1;
									si_179 = (struct Eq_510 Eq_504::*) (si_188 + 1);
								} while (si_188 != &Eq_504::tFFFF);
							}
						}
						else
						{
							uint16 ax_215 = (uint16) cs->t0921;
							seg0C00->t0922();
						}
					}
					else
					{
						word16 ax_270 = SEQ(SLICE(dx_115, byte, 8), cs->t0921);
						word16 bx_275;
						0x0149();
					}
				}
				else
				{
					struct Eq_238 Eq_5::* di_279 = &Eq_5::t0F60;
					word16 cx_284;
					for (cx_284 = 0x0300; cx_284 != 0x00; --cx_284)
					{
						(cs->*di_279).t0000.u1 = 0x00;
						di_279 += 2;
					}
					while (true)
					{
						uint16 cx_291 = (uint16) (cs->*si_132);
						if (cx_291 == 0x00)
							break;
						do
						{
							int16 bx_292;
							for (bx_292 = 0x03; bx_292 != 0x00; --bx_292)
							{
								(cs->*di_279).t0000.u0 = (cs->*di_279).bFFFFFFFD + si_132[bx_292];
								++di_279;
							}
							--cx_291;
						} while (cx_291 != 0x00);
						si_132 += 4;
					}
				}
			}
			else
			{
				byte Eq_5::* di_318 = Eq_5::a1260;
				word16 cx_323;
				for (cx_323 = 0x0300; cx_323 != 0x00; --cx_323)
				{
					cs->*di_318 = 0x00;
					++di_318;
				}
				cs->b08F1 = cs->b08F1 ^ 0x08;
				cs->w08D1 = 0x40;
			}
		}
		else
		{
			cs->w0269 = 2337;
			do
			{
				si_132 = si_1481 + 1;
				si_1481 = si_132;
			} while (cs->*si_1481 != 0x00);
		}
	}
	else
		cs->t0254 = cs->t0921;
}

// 0C00:030F: void fn0C00_030F(Register (ptr16 Eq_311) ds)
// Called from:
//      fn0C00_0100
void fn0C00_030F(struct Eq_311 * ds)
{
	word16 si_15 = 0x1C00;
	word16 cx_16 = 199;
	word16 di_17 = 0x20;
	do
	{
		memcpy(di_17, si_15, 0x0100);
		si_15 = (<unknown>*) ((char *) si_15 + 0x0100);
		di_17 = (<unknown>*) ((char *) di_17 + 320);
		cx_16 = cx_53 - 0x01;
		cx_53 = cx_16;
	} while (cx_53 != 0x01);
}

// 0C00:0334: Register word16 fn0C00_0334(Register (ptr16 Eq_16) es, Register out Eq_22 bxOut)
// Called from:
//      fn0C00_0100
word16 fn0C00_0334(struct Eq_16 * es, union Eq_22 & bxOut)
{
	ui16 cx_4 = 0x00;
	byte Eq_16::* di_46 = Eq_16::a0000;
	do
	{
		byte dh_12 = SLICE(cx_4, byte, 8);
		ui16 dx_16 = (SEQ(dh_12, (byte) cx_4 + dh_12) << 0x01) - cx_4;
		bi8 dh_17 = SLICE(dx_16, byte, 8);
		bi8 dl_21 = (byte) dx_16;
		Eq_22 bx_24 = dh_17 *s16 dh_17 + dl_21 *s16 dl_21;
		int16 ax_36 = (int16) ((byte) fn0C00_037B(bx_24) ^ dl_21);
		byte ah_38 = SLICE(ax_36, byte, 8);
		ui8 al_39 = (byte) ax_36 ^ ah_38;
		es->*di_46 = al_39 + 0x01;
		word16 ax_42 = SEQ(ah_38, al_39) + 0x01;
		++di_46;
		--cx_4;
	} while (cx_4 != 0x00);
	bxOut = bx_24;
	return ax_42;
}

// 0C00:035B: Register word16 fn0C00_035B()
// Called from:
//      fn0C00_0100
word16 fn0C00_035B()
{
	struct Eq_606 * cs;
	word16 cx_10;
	Eq_609 si_11 = 0x00;
	Eq_609 bx_15 = 0x7FFF;
	word16 Eq_606::* di_16 = Eq_606::a0B26;
	for (cx_10 = 0x0200; cx_10 != 0x00; --cx_10)
	{
		cs->*di_16 = (word16) si_11;
		++di_16;
		word16 bp_25;
		bx_15 = fn0C00_03E0(bx_15, si_11, out bp_25, out si_11);
	}
	return bp_25;
}

// 0C00:0371: Register cup16 fn0C00_0371(Register word16 ax, Register word16 cx, Register Eq_22 bx, Register (memptr (ptr16 Eq_5) word16) di, Register (ptr16 Eq_5) es)
// Called from:
//      fn0C00_0100
cup16 fn0C00_0371(word16 ax, word16 cx, Eq_22 bx, word16 Eq_5::* di, struct Eq_5 * es)
{
	do
	{
		word16 ax_6 = ax - cx;
		uint8 al_8 = (byte) ax_6;
		ax = __ror<word16,byte>(SEQ(SLICE(ax_6, byte, 8) ^ al_8, al_8), 0x03);
		es->*di = ax;
		++di;
		--cx;
	} while (cx != 0x00);
	return fn0C00_037B(bx);
}

// 0C00:037B: Register Eq_661 fn0C00_037B(Register Eq_22 bx)
// Called from:
//      fn0C00_0334
//      fn0C00_0371
//      fn0C00_060B
Eq_661 fn0C00_037B(Eq_22 bx)
{
	word16 cx_41;
	Eq_661 bp_18 = 0x01;
	for (cx_41 = 0x07; cx_41 != 0x00; --cx_41)
	{
		Eq_674 dx_ax_17 = (int32) bx;
		Eq_666 ax_24 = (word16) dx_ax_17;
		if (bp_18 != 0x00)
			ax_24.u1 = (uint16) (dx_ax_17 /u bp_18);
		bp_18 = bp_18 + ax_24 >> 0x01;
	}
	return bp_18;
}

// 0C00:0395: void fn0C00_0395(Register word16 cx, Register (ptr16 Eq_5) es, Register (ptr16 Eq_5) ds)
// Called from:
//      fn0C00_0100
void fn0C00_0395(word16 cx, struct Eq_5 * es, struct Eq_5 * ds)
{
	struct Eq_681 Eq_5::* si_12 = Eq_5::a0B14;
	struct Eq_683 Eq_5::* di_25 = Eq_5::a2F26;
	do
	{
		struct Eq_685 Eq_5::* si_14 = si_12 + 1;
		Eq_688 di_31;
		Eq_609 si_33;
		Eq_688 di_44;
		word16 si_46;
		word16 si_59;
		word16 di_101;
		fn0C00_03CA(fn0C00_03CA(si_33, fn0C00_03CA((ds->*si_12).w0000, (ds->*si_14).t0002.u0, 0x8408, ds, out si_33, out di_31), di_31, ds, out si_46, out di_44), (ds->*si_14).t0000.u0, di_44, ds, out si_59, out di_101);
		(es->*di_25).w0000 = SEQ(SLICE(si_46, byte, 8) + 0x80, (byte) si_46);
		word16 ax_79 = SEQ(SLICE(si_59, byte, 8) + 0x80, (byte) si_59);
		(es->*di_25).w0002 = ax_79;
		(es->*di_25).w0004 = ax_79;
		++di_25;
		si_12 = (struct Eq_681 Eq_5::*) ((char *) &si_14->t0002 + 2);
		cx = cx_102 - 0x01;
		cx_102 = cx;
	} while (cx_102 != 0x01);
}

// 0C00:03CA: Register Eq_609 fn0C00_03CA(Register Eq_609 bx, Register Eq_609 si, Register Eq_688 di, Register (ptr16 Eq_5) ds, Register out ptr16 siOut, Register out Eq_701 diOut)
// Called from:
//      fn0C00_0395
//      fn0C00_0402
Eq_609 fn0C00_03CA(Eq_609 bx, Eq_609 si, Eq_688 di, struct Eq_5 * ds, ptr16 & siOut, union Eq_701 & diOut)
{
	ui16 bx_10 = (word16) (ds->*di);
	ds->w03F0 = ds->a0BA6[0][bx_10];
	ds->w03F7 = ds->a0B26[0][bx_10];
	ptr16 si_26;
	word16 bp_34;
	Eq_609 bx_24 = fn0C00_03E0(bx, si, out bp_34, out si_26);
	siOut = si_26;
	diOut = (word16) di + 1;
	return bx_24;
}

// 0C00:03E0: Register Eq_609 fn0C00_03E0(Register Eq_609 bx, Register Eq_609 si, Register out Eq_609 bpOut, Register out ptr16 siOut)
// Called from:
//      fn0C00_035B
//      fn0C00_03CA
Eq_609 fn0C00_03E0(Eq_609 bx, Eq_609 si, union Eq_609 & bpOut, ptr16 & siOut)
{
	word16 bp_7;
	Eq_609 bx_8;
	Eq_609 si_10;
	ptr16 bp_15 = bp_7 + fn0C00_03EF(bx, si, out bx_8, out bp_7, out si_10);
	word16 bp_21;
	word16 bx_41;
	word16 si_42;
	Eq_609 bp_29 = bp_21 - fn0C00_03EF(bx_8, si_10, out bx_41, out bp_21, out si_42);
	bpOut = bp_29;
	siOut = bp_15;
	return bp_29;
}

// 0C00:03EF: Register ui16 fn0C00_03EF(Register Eq_609 ebx, Register Eq_609 esi, Register out Eq_797 bxOut, Register out Eq_798 bpOut, Register out Eq_799 siOut)
// Called from:
//      fn0C00_03E0
ui16 fn0C00_03EF(Eq_609 ebx, Eq_609 esi, union Eq_797 & bxOut, union Eq_798 & bpOut, union Eq_799 & siOut)
{
	Eq_797 si;
	Eq_799 bx;
	bxOut = si;
	bpOut = SLICE(si *s32 0x7FF5, word16, 16) * 0x02;
	siOut = bx;
	return SLICE(bx *s32 0x0324, word16, 16) * 0x02;
}

// 0C00:0402: void fn0C00_0402(Register (ptr16 Eq_126) es, Register (ptr16 Eq_5) ds)
// Called from:
//      fn0C00_0100
void fn0C00_0402(struct Eq_126 * es, struct Eq_5 * ds)
{
	word16 Eq_5::* si_20 = Eq_5::a2F26;
	struct Eq_830 Eq_126::* di_12 = Eq_126::a0459;
	word16 cx_23;
	for (cx_23 = 0x04; cx_23 != 0x00; --cx_23)
	{
		(es->*di_12).w0000 = ds->*si_20;
		word16 Eq_5::* si_14 = si_20 + 1;
		struct Eq_845 Eq_126::* di_15 = &di_12->w0000 + 1;
		(es->*di_15).w0000 = ds->*si_14;
		si_20 = si_14 + 3;
		di_12 = (struct Eq_830 Eq_126::*) (di_15 + 1);
	}
	ci16 bx_25 = ds->w0459;
	ci16 si_26 = ds->w045B;
	struct Eq_872 Eq_5::* di_27 = Eq_5::a2B26;
	word16 cx_28;
	for (cx_28 = 2000; cx_28 != 0x00; --cx_28)
	{
		Eq_688 di_37 = ((ds->*di_27).w0000 & 0x18) + 1111;
		word16 si_55;
		word16 di_103;
		bx_25 = (word16) fn0C00_03CA(bx_25 - ds->*((word16) di_37 + 4) >> 0x01, si_26 - ds->*((word16) di_37 + 2) >> 0x01, di_37, ds, out si_55, out di_103) + bx_25;
		si_26 = si_55 + si_26;
		struct Eq_907 Eq_126::* ax_71 = SEQ(SLICE(si_26, byte, 8), SLICE(bx_25, byte, 8));
		(es->*ax_71).b0000 = 0x7F;
		(es->*ax_71).b0001 = 0x7F;
		(es->*ax_71).b0002 = 0x70;
		++di_27;
	}
}

// 0C00:0477: void fn0C00_0477(Register word16 ax, Register cup16 di, Register (ptr16 Eq_934) es, Stack cup16 wArg02, Stack cup16 wArg04, Stack cup16 wArg06)
// Called from:
//      fn0C00_060B
void fn0C00_0477(word16 ax, cup16 di, struct Eq_934 * es, cup16 wArg02, cup16 wArg04, cup16 wArg06)
{
	if (di == 0x00)
		fn0C00_04A6((byte) ax, wArg04, wArg02, wArg06, es);
	else
		fn0C00_0480((byte) ax, wArg04, wArg02, wArg06, di);
}

// 0C00:047C: void fn0C00_047C(Register word16 ax, Register cup16 cx, Register cup16 dx, Register cup16 bx, Register cup16 di, Register (ptr16 Eq_934) es)
// Called from:
//      fn0C00_0480
void fn0C00_047C(word16 ax, cup16 cx, cup16 dx, cup16 bx, cup16 di, struct Eq_934 * es)
{
	if (di == 0x00)
		fn0C00_04A6((byte) ax, cx, dx, bx, es);
	else
		fn0C00_0480((byte) ax, cx, dx, bx, di);
}

// 0C00:0480: void fn0C00_0480(Register byte al, Register cup16 cx, Register cup16 dx, Register cup16 bx, Register cup16 di)
// Called from:
//      fn0C00_0477
//      fn0C00_047C
void fn0C00_0480(byte al, cup16 cx, cup16 dx, cup16 bx, cup16 di)
{
	word16 ax;
	struct Eq_934 * es;
	if (di >= 0x03)
	{
		dx = bx;
		bx = dx;
	}
	word16 bp_12 = 0x02;
	do
	{
		word16 ax_103 = SEQ(al_94, ah_92);
		byte dl_45 = (byte) (dx + cx);
		byte dh_52 = SLICE(dx + cx, byte, 8);
		fn0C00_047C(ax_103, bx, SEQ(__rcr<byte,byte>(dh_52, 0x01, SLICE(cond(dh_52), bool, 1)), __rcr<byte,byte>(dl_45, 0x01, SLICE(cond(dl_45), bool, 1))), dx, di - 0x01, es);
		dx = cx;
		cx = dx;
		byte ah_92 = SLICE(ax + 0x01, byte, 8);
		byte al_94 = (byte) ax + 0x01;
		bp_12 = bp_131 - 0x01;
		ax = ax_103;
		bp_131 = bp_12;
	} while (bp_131 != 0x01);
}

// 0C00:04A6: void fn0C00_04A6(Register byte al, Register cup16 cx, Register cup16 dx, Register cup16 bx, Register (ptr16 Eq_934) es)
// Called from:
//      fn0C00_0477
//      fn0C00_047C
void fn0C00_04A6(byte al, cup16 cx, cup16 dx, cup16 bx, struct Eq_934 * es)
{
	word16 ax;
	if (bx >= cx)
	{
		cx = bx;
		bx = cx;
	}
	byte ch_33 = SLICE(cx, byte, 8);
	byte cl_79 = (byte) cx;
	byte bl_54 = (byte) bx;
	byte bh_48 = SLICE(bx, byte, 8);
	byte dh_37 = SLICE(bx, byte, 8);
	byte dl_41 = (byte) bx;
	if (cx >= bx)
	{
		dh_37 = SLICE(cx, byte, 8);
		dl_41 = (byte) cx;
		ch_33 = SLICE(bx, byte, 8);
		cl_79 = (byte) bx;
	}
	byte dh_40 = dh_37 + 0x01;
	byte ch_36 = ch_33 + 0x01;
	word16 ax_59 = fn0C00_0527(dh_40 - bh_48, dl_41 - bl_54);
	word16 dx_97 = SEQ(bl_54, 0x00);
	byte al_103 = (byte) ax;
	fn0C00_04FE(ch_36, al_103, dx_97, (byte) bx, fn0C00_0527(ch_36 - bh_48, cl_79 - bl_54), dx_97, ax_59, es);
	word16 ax_126 = fn0C00_0527(dh_40 - ch_36, dl_41 - cl_79);
	fn0C00_04FE(dh_40, al_103, dx_97, cl_79, ax_126, dx_97, ax_59, es);
}

// 0C00:04FE: void fn0C00_04FE(Register byte ah, Register byte al, Register word16 dx, Register byte bh, Register word16 bp, Register word16 si, Register word16 di, Register (ptr16 Eq_934) es)
// Called from:
//      fn0C00_04A6
void fn0C00_04FE(byte ah, byte al, word16 dx, byte bh, word16 bp, word16 si, word16 di, struct Eq_934 * es)
{
	word16 bx;
	word16 bx_109 = bx;
	while (true)
	{
		byte bh_8 = SLICE(bx_109, byte, 8);
		if (bh_8 == ah)
			break;
		word16 dx_19 = dx + di;
		si += bp;
		byte dh_23 = SLICE(dx_19, byte, 8);
		cu8 ch_27 = SLICE(si, byte, 8) - dh_23;
		word16 cx_31 = SEQ(ch_27, (byte) si);
		if (ch_27 < 0x00)
			ch_27 = SLICE(-cx_31, byte, 8);
		byte Eq_934::* di_45 = SEQ(bh_8, dh_23);
		uint16 cx_51;
		dx = dx_19;
		for (cx_51 = (uint16) ch_27 + 0x01; cx_51 != 0x00; --cx_51)
		{
			es->*di_45 = al;
			++di_45;
		}
		bx_109 = SEQ(bh_8 + 0x01, dh_23);
	}
}

// 0C00:0527: Register int16 fn0C00_0527(Register byte ah, Register byte al)
// Called from:
//      fn0C00_04A6
int16 fn0C00_0527(byte ah, byte al)
{
	int32 dx_ax_18 = (int32) SEQ(al, 0x00);
	Eq_1124 cx_19 = (uint16) ah;
	int16 ax_21 = (word16) dx_ax_18;
	if (cx_19 != 0x00)
		ax_21 = (int16) (dx_ax_18 /16 cx_19);
	return ax_21;
}

// 0C00:0539: void fn0C00_0539(Register ui16 bx, Register (memptr (ptr16 Eq_126) Eq_320) di, Register (ptr16 Eq_126) es, Register (ptr16 Eq_5) ds, Register (ptr16 Eq_323) fs)
// Called from:
//      fn0C00_0100
void fn0C00_0539(ui16 bx, struct Eq_320 Eq_126::* di, struct Eq_126 * es, struct Eq_5 * ds, struct Eq_323 * fs)
{
	ds->w058B = (word16) (ds->*((word16) (bx & 0x01FE) + 0x0B26));
	cui16 bx_11 = (bx & 0x01FE) + 0x80;
	ds->w05A2 = (word16) (ds->*((word16) (bx_11 & 0x01FE) + 0x0B26));
	cui16 bx_15 = (bx_11 & 0x01FE) + 0x30;
	ds->w05BA = (word16) (ds->*((word16) (bx_15 & 0x01FE) + 0x0B26));
	ds->w05D1 = (word16) (ds->*((word16) ((bx_15 & 0x01FE) + 0x80 & 0x01FE) + 0x0B26));
	word16 cx_139;
	for (cx_139 = 0x0180; cx_139 != 0x00; --cx_139)
	{
		(es->*di).t0000.u1 = 0x00;
		di += 2;
	}
	word16 si_130 = 0x08;
	do
	{
		word16 si_31 = si_130 + 0x01;
		int32 eax_42 = (int32) (500000000 /32 (uint32) si_31);
		byte ah_52 = SLICE(__shrd<word32>(eax_42 *s 0, SLICE(eax_42 *s64 0, word32, 32), 0x18), byte, 8);
		byte ah_67 = SLICE(__shrd<word32>(eax_42 *s 0, SLICE(eax_42 *s64 0, word32, 32), 0x18), byte, 8);
		uint32 eax_81 = __shrd<word32>(eax_42 *s 0, SLICE(eax_42 *s64 0, word32, 32), 0x18);
		ds->w05ED = (word16) eax_81;
		ds->b05F1 = (byte) (eax_81 >> 0x10);
		uint32 eax_93 = __shrd<word32>(eax_42 *s 0, SLICE(eax_42 *s64 0, word32, 32), 0x18);
		ds->w05F4 = (word16) eax_93;
		ds->b05F8 = (byte) (eax_93 >> 0x10);
		word16 bp_102;
		for (bp_102 = 0x0100; bp_102 != 0x00; --bp_102)
		{
			(es->*di).t0000.u0 = fs->*SEQ(ah_67, ah_52);
			++di;
		}
		si_130 = si_31;
	} while (si_31 != 0x84);
}

// 0C00:060B: void fn0C00_060B(Register cup16 bp)
// Called from:
//      fn0C00_0100
void fn0C00_060B(cup16 bp)
{
	struct Eq_1279 * cs;
	struct Eq_934 * ax_40 = SEQ(SLICE(cs, byte, 8) + 0x10, (byte) cs);
	word16 cx_130 = 0x0100;
	cup16 bx_122 = ~0x0188;
	struct Eq_1290 Eq_1279::* si_117 = Eq_1279::a0B27;
	do
	{
		struct Eq_1290 Eq_1279::* si_62 = si_117 + 1;
		byte cl_90 = (byte) cx_364;
		word16 bx_66 = SEQ((cs->*si_62).b007F, (cs->*si_117).b0000);
		fn0C00_0477(SEQ(cl_90, cl_90), 0x01, ax_40, 0x8080, bp, bx_66 + 0x8080);
		struct Eq_1316 Eq_1330::* di_115 = &Eq_1330::t0000;
		si_117 = si_62;
		bp = bx_122;
		bx_122 = bx_66 + 0x8080;
		cx_130 = cx_364 - 0x01;
		byte cl_144 = (byte) cx_364 - 0x01;
		byte ch_149 = SLICE(cx_364 - 0x01, byte, 8);
		cx_364 = cx_130;
	} while (cx_364 != 0x01);
	struct Eq_1330 * ax_141 = SEQ(SLICE(cs, byte, 8) + 0x40, (byte) cs);
	struct Eq_1336 Eq_934::* si_143 = &Eq_934::t4040;
	do
	{
		bi8 al_146 = cl_144 - 0x80;
		bi8 al_151 = ch_149 - 0x80;
		Eq_22 bx_153 = al_146 *s16 al_146 + al_151 *s16 al_151;
		if (bx_153 != 0x00 && bx_153 >= 0x00)
			bp = fn0C00_037B(bx_153);
		(ax_141->*di_115).t0000.u0 = (ax_40->*si_143).b0000;
		byte Eq_1330::* di_180 = di_115 + 1;
		ax_141->*di_180 = (byte) bp;
		si_143 = &si_143->b0000 + 1;
		di_115 = (struct Eq_1316 Eq_1330::*) (di_180 + 1);
		--ch_149;
		if (ch_149 != 0x00)
		{
			--ch_149;
			if (ch_149 != 0x01)
				continue;
		}
		++si_143;
		word16 cx_203 = SEQ(ch_149, cl_144);
		if ((cl_144 & 0x01) != 0x00)
			si_143 -= 0x80;
		--cl_144;
		ch_149 = SLICE(cx_203 - 0x01, byte, 8);
	} while (cx_203 != 0x01);
	struct Eq_1330 * ax_213 = SEQ(SLICE(cs, byte, 8) + 0x50, (byte) cs);
	word16 cx_219;
	for (cx_219 = 0x8000; cx_219 != 0x00; --cx_219)
	{
		(ax_213->*di_115).t0000.u1 = 0x00;
		di_115 += 2;
	}
}

// 0C00:0695: void fn0C00_0695()
// Called from:
//      fn0C00_0100
void fn0C00_0695()
{
	struct Eq_1417 * cs;
	byte ah_37 = SLICE(cs, byte, 8);
	byte al_39 = (byte) cs;
	struct Eq_1422 * ax_40 = SEQ(ah_37 + 0x30, al_39);
	struct Eq_1426 * ax_43 = SEQ(ah_37 + 0x50, al_39);
	word16 Eq_1426::* di_104 = &Eq_1426::w0000;
	word16 cx_202;
	for (cx_202 = 0x0300; cx_202 != 0x00; --cx_202)
	{
		ax_43->*di_104 = 0x00;
		++di_104;
	}
	int16 bx_53 = 0x7FFF;
	word16 bp_54;
	for (bp_54 = 0x01; bp_54 != 0x00; --bp_54)
	{
		int16 bx_58 = bx_53 - (bx_53 >> 0x05);
		cup16 bx_69 = SEQ(SLICE(bx_58 * 0x02, byte, 8), 0x00);
		<unknown>* si_70 = bx_69;
		if (bx_69 >= ~0x0100)
			si_70 = (<unknown>*) (bx_69 - 0xFF00);
		memcpy(&(ax_43->*di_104), si_70, 0x0100);
		di_104 += 0x0080;
		bx_53 = bx_58;
		word16 Eq_1426::* si_145 = &Eq_1426::w0000;
	}
	cui16 cx_102;
	for (cx_102 = 0x0100; cx_102 != 0x00; --cx_102)
	{
		ax_43->*di_104 = 0xC0C0;
		++di_104;
	}
	cu16 cx_105 = 0xF800 - di_104;
	if (cx_105 >= 0x00)
	{
		uint16 cx_108;
		for (cx_108 = cx_105 >> 0x01; cx_108 != 0x00; --cx_108)
		{
			ax_43->*di_104 = 0x00;
			++di_104;
		}
	}
	byte ah_131 = SLICE(cs, byte, 8);
	byte al_133 = (byte) cs;
	struct Eq_1503 * ax_134 = SEQ(ah_131 + 0x10, al_133);
	struct Eq_1507 * ax_137 = SEQ(ah_131 + 0x40, al_133);
	word32 Eq_1507::* bx_139 = Eq_1507::a0000;
	word16 Eq_1503::* di_143 = &Eq_1503::wFFFE;
	do
	{
		ax_134->*di_143 = ax_43->*si_145;
		word32 esi_155 = ax_137->*bx_139;
		Eq_1542 si_156 = (word16) esi_155;
		word16 Eq_1503::* di_152 = di_143 + 1;
		ax_134->*di_152 = (word16) (ax_43->*si_156);
		di_143 = di_152 + 1;
		si_145 = (word16) (SEQ(SLICE(esi_155, word16, 16), (word16) si_156 + 2) >> 0x10);
		++bx_139;
	} while (bx_139 != Eq_1507::a0000);
}

// 0C00:0715: void fn0C00_0715(Register (ptr16 Eq_3) ds)
// Called from:
//      fn0C00_0100
void fn0C00_0715(struct Eq_3 * ds)
{
	do
	{
		word16 ax_10;
		seg0C00->t07CD();
	} while (ax_10 != 0x01);
	seg0C00->t07CD();
	word16 si_23 = 0x07F0;
	do
	{
		word16 ax_34;
		seg0C00->t07CD();
		word16 ax_41;
		seg0C00->t07CD();
		word16 cx_49;
		seg0C00->t07CD();
		si_23 += 2;
	} while (cx_49 != 0x01);
}

// 0C00:0840: void fn0C00_0840(Register word16 bx, Register (ptr16 Eq_5) es)
// Called from:
//      fn0C00_0100
void fn0C00_0840(word16 bx, struct Eq_5 * es)
{
	struct Eq_1581 * cs;
	__syscall<byte>(33);
	byte ah_22 = cs->b090A;
	cs->w0907 = bx;
	cs->ptr0909 = es;
	__cli();
	__out<byte>(0x43, 0x36);
	__out<byte>(0x40, 0x00);
	__out<byte>(0x40, ah_22);
	msdos_set_interrupt_vector(0x08, &cs->t0866);
	__sti();
}

// 0C00:0852: void fn0C00_0852(Sequence (ptr32 code) ds_dx, Register byte ah)
// Called from:
//      fn0C00_090C
void fn0C00_0852(<anonymous> * ds_dx, byte ah)
{
	__cli();
	__out<byte>(0x43, 0x36);
	__out<byte>(0x40, 0x00);
	__out<byte>(0x40, ah);
	msdos_set_interrupt_vector(0x08, ds_dx);
	__sti();
}

<anonymous> g_t07CD = <code>; // 0C00:08CD
// 0C00:090C: Register (ptr16 Eq_1646) fn0C00_090C()
// Called from:
//      fn0C00_0100
struct Eq_1646 * fn0C00_090C()
{
	struct Eq_1647 * cs;
	<anonymous> * ds_dx_10 = cs->ptr0907;
	fn0C00_0852(ds_dx_10, 0x00);
	bios_video_set_mode(0x03);
	return SLICE(ds_dx_10, selector, 16);
}

<anonymous> g_t0922 = <code>; // 0C00:0A22
