// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_12) ds_bx, Register int16 si)
void fn0C00_0100(union Eq_12 * ds_bx, int16 si)
{
	byte bl_85 = (byte) ds_bx;
	__syscall<byte>(0x10);
	Eq_12 cx_144 = ds_bx->u1;
	bu8 al_11 = 0x13;
	struct Eq_18 * ds_92 = SLICE(cx_144, selector, 16);
	do
	{
		bu8 cl_10 = (byte) cx_152;
		uint16 ax_12 = cl_10 *16 al_11;
		bu8 ah_14 = SLICE(ax_12, byte, 8);
		__out<byte>(969, ah_14);
		__out<byte>(969, ah_14);
		word16 ax_20 = __shrd<word16>(SEQ(ah_14, ah_14), cx_152, 0x12);
		al_11 = (byte) ax_20;
		__out<byte>(969, al_11);
		byte ch_109 = SLICE(cx_152 - 0x01, byte, 8);
		cx_144 = SEQ(ch_109, cl_10 - 0x01);
		cx_152 = cx_144;
	} while (cx_152 != 0x01);
	do
	{
		byte Eq_18::* bx_146 = SEQ(252, bl_85);
		do
		{
			byte bl_24 = (byte) bx_153;
			ds_92->*bx_153 = bl_24;
			struct Eq_68 Eq_18::* bx_29 = bx_153 + 1;
			bx_146 = SEQ(SLICE(bx_153 + 1, byte, 8), bl_24 + 0x01);
			bx_153 = bx_146;
		} while (bx_153 != &Eq_18::bFFFF);
		do
		{
			ax_97 = SEQ(ah_96, al_43);
			word16 ax_33 = ax_20 + 0x01;
			byte al_39 = (byte) ax_33 + (ds_92->*bx_29).bFFFFFEBF + (byte) (ax_12 < 0x00);
			byte al_43 = __rcr<byte,byte>(al_39, 0x01, SLICE(cond(al_39), bool, 1));
			(ds_92->*bx_29).b0000 = al_43;
			byte ah_96 = SLICE(ax_33, byte, 8);
			--bx_29;
			ax_20 = ax_97;
		} while (bx_29 != &Eq_18::t0000);
		word16 cx_111 = SEQ(ch_109, 0x48);
		do
		{
			word64 edx_eax_50 = __rdtsc();
			byte ah_75 = SLICE(edx_eax_50, byte, 8);
			bx_29 += (word16) edx_eax_50;
			do
			{
				word16 cx_149;
				byte cl_60 = (byte) cx_154;
				(ds_92->*bx_29).b0000 = cl_60;
				bx_29 = bx_29 + 64 + si;
				bl_85 = (byte) bx_29;
				cx_149 = SEQ(SLICE(cx_154 - 0x01, byte, 8), cl_60 - 0x01);
				cx_154 = cx_149;
			} while (cx_154 != 0x01);
			word16 ax_76 = SEQ(ah_75, __in<byte>(0x60));
			ax_20 = ax_76 - 0x01;
			cx_111 = cx_149 - 0x01;
			ch_109 = SLICE(cx_149 - 0x01, byte, 8);
			cx_149 = cx_111;
		} while (ax_76 != 0x01 && cx_149 != 0x01);
	} while (ax_76 != 0x01);
}

