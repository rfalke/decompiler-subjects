// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register (memptr (ptr16 Eq_38) byte) bx, Register Eq_4 bp, Register (memptr (ptr16 Eq_38) Eq_5) di)
void fn0C00_0100(byte Eq_38::* bx, Eq_4 bp, struct Eq_5 Eq_38::* di)
{
	__syscall<byte>(0x10);
	__out<word16>(0x03D4, 8211);
	int16 dx_19 = 0x03D4;
	int16 ax_20 = 8211;
	struct Eq_22 * es_8 = 8211;
	cui16 cx_473 = 0x0F;
	do
	{
		int16 ax_23 = dx_19 *s ax_20;
		word16 dx_462 = SEQ(SLICE(ax_23 + 0x01, byte, 8), (byte) ax_23 + 0x01);
		do
		{
			bi8 dh_46 = SLICE(dx_462, byte, 8);
			bi8 dl_37 = (byte) dx_462;
			cu8 cl_30 = (byte) cx_478;
			if (cl_30 >= 0x0D)
				0x7000->*bx = cl_30;
			int16 ax_39 = dl_37 *s16 dl_37;
			ax_20 = dh_46 *s16 dh_46 + ax_39;
			int16 si_101 = ax_39;
			cu8 ah_327 = SLICE(ax_20, byte, 8);
			if (ah_327 <= 0x3F)
				0x7000->*bx += ah_327;
			++bx;
			dx_19 = dx_462 + 0x01;
			byte bh_328 = SLICE(bx, byte, 8);
			dx_462 = SEQ(SLICE(dx_462 + 0x01, byte, 8), dl_37 + 0x01);
		} while (bx != &Eq_38::b0000);
		cx_473 = cx_478 - 0x01;
		byte ch_321 = SLICE(cx_478 - 0x01, byte, 8);
		cx_478 = cx_473;
	} while (cx_478 != 0x01);
	word16 cx_100 = SEQ(ch_321, 0x05);
	do
	{
		do
		{
			byte bl_89 = (0x7000->*di).bFFFFFEFF;
			cu16 ax_91 = SEQ(ah_327, (0x7000->*di).bFFFFFFFE) + SEQ(bh_328, (0x7000->*di).b0000) + SEQ(bh_328, di[0x00FF]) + SEQ(bh_328, bl_89);
			(0x7000->*di).b0000 = (byte) (ax_91 >> 0x02);
			ah_327 = SLICE(ax_91 >> 0x02, byte, 8);
			++di;
		} while (di != &Eq_38::b0000);
		--cx_100;
		uint8 cl_107 = (byte) cx_100;
		uint8 ch_284 = SLICE(cx_100, byte, 8);
		struct Eq_135 Eq_38::* bx_475 = SEQ(bh_328, bl_89);
	} while (cx_100 != 0x00);
	do
	{
		++si_101;
		struct Eq_135 Eq_38::* bx_208 = bx_475;
		do
		{
			byte bh_122 = SLICE(bx_208, byte, 8);
			byte bl_104 = (byte) bx_208;
			if (bl_104 == 0x00)
				cl_107 = ~0x00;
			uint16 ax_115 = (uint16) bl_104;
			uint16 ax_137 = (uint16) ((uint32) (SEQ(SLICE(bp, byte, 8), bx_208[si_101]) + 0x40 << 0x06) /u (ax_115 + 0x01));
			bp = ax_115 + 0x01;
			uint8 al_141 = (byte) (ax_137 >> 0x03);
			if (ax_137 >> 0x03 > 0xFF)
				al_141 = ~0x00;
			word16 cx_197 = SEQ(ch_284, cl_107);
			if (al_141 < cl_107)
			{
				bp = ax_115 + 0x01 << 0x01;
				int16 ax_170 = ((int16) ((bx_208 - 1)[si_101] - (bx_208 + 1)[si_101]) << 0x04) - bp;
				byte Eq_22::* di_157 = SEQ(bh_122, al_141);
				ci8 ah_178 = SLICE(ax_170 + 0x80, byte, 8);
				bcu8 al_184 = (byte) ax_170 + 0x80;
				cx_197 = SEQ(al_141, cl_107);
				if (ax_170 < ~0x7F)
				{
					ah_178 = 0x00;
					al_184 = 0x00;
				}
				if (ah_178 >= 0x01)
					al_184 = ~0x00;
				uint8 al_189 = al_184 >> 0x04;
				do
				{
					es_8->*di_157 = al_189 + 0x10;
					--cx_197;
					++di_157;
				} while (SLICE(cx_197, byte, 8) < (byte) cx_197);
			}
			ch_284 = SLICE(cx_197, byte, 8);
			cl_107 = (byte) cx_197;
			++bx_208;
		} while (bx_208 != &Eq_38::b0000);
		do
		{
			bi8 bh_211 = SLICE(bx_479, byte, 8);
			int16 ax_213 = (int16) bh_211;
			bi8 bl_226 = (byte) bx_479;
			int16 ax_221 = (int16) ((byte) ax_213 ^ SLICE(ax_213, byte, 8));
			int16 ax_228 = (int16) bl_226;
			bcu8 ah_252 = SLICE(ax_213, byte, 8);
			uint8 ah_255 = (ah_252 >> 0x01) + ((byte) ((word32) (ax_228 << 0x06) /16 (SEQ(SLICE(ax_221, byte, 8), (byte) ax_221 + ((byte) ax_228 ^ SLICE(ax_228, byte, 8))) + 0x01)) ^ ah_252);
			word32 dx_ax_273 = (word32) (bh_211 *s16 bh_211 + bl_226 *s16 bl_226);
			ch_284 = ah_255;
			ui16 dx_274 = SLICE(dx_ax_273, word16, 16);
			ci16 ax_276 = (word16) dx_ax_273;
			do
			{
				++dx_274;
				uint8 dl_281 = (byte) dx_274;
				ax_276 -= dx_274 * 0x02;
			} while (ax_276 >= 0x00);
			Eq_4 cx_285 = SEQ(ah_255, dl_281);
			bx_479[0x000064A0] = (struct Eq_135) (es_8->*cx_285);
			byte bh_359 = SLICE(bx_479 + 1, byte, 8);
			cl_107 = dl_281;
			bp = cx_285;
			bx_208 = SEQ(bh_359, bl_226 + 0x01);
			bx_479 = bx_208;
		} while (bx_479 != &Eq_38::tFFFF);
		bx_475 = SEQ(bh_359, bl_226 + 0x01);
	} while (__in<byte>(0x60) != 0x01);
}

