// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register byte ch, Register byte bh)
void fn0C00_0100(byte ch, byte bh)
{
	__syscall<byte>(0x10);
	uint16 bx_84 = SEQ(bh, 0x03);
	do
	{
		byte Eq_26::* di_12 = &Eq_26::b0000;
		uint16 cx_17 = SEQ(ch, 200);
		do
		{
			uint32 dx_ax_19 = cx_17 *32 cx_17;
			uint16 dx_20 = SLICE(dx_ax_19, word16, 16);
			uint16 ax_21 = (word16) dx_ax_19;
			uint16 si_23 = 0x0280;
			do
			{
				uint16 dx_32 = (uint16) (SEQ(dx_20, ax_21 + 0x0281 - si_23) % bx_84);
				0xA000->*di_12 = (byte) dx_32 & 0x0F;
				uint16 si_46 = si_23 - 0x01;
				byte bl_74 = (byte) bx_84;
				byte bh_88 = SLICE(bx_84, byte, 8);
				++di_12;
				dx_20 = 0x00;
				ax_21 = dx_32;
				byte ah_53 = SLICE(dx_32, byte, 8);
				si_23 = si_46 - 0x01;
			} while (si_46 != 0x01);
			--cx_17;
			ch = SLICE(cx_17, byte, 8);
		} while (cx_17 != 0x00);
		do
		{
			word16 ax_54 = SEQ(ah_53, __in<byte>(0x60));
			byte ah_64 = SLICE(ax_54 - 0x01, byte, 8);
			if (ax_54 == 0x01)
				return;
			byte al_60 = 0000:046C;
			dx_20 = SEQ(ah_64, al_60 & 0x0F);
			ah_53 = SLICE(dx_135, byte, 8);
			dx_135 = dx_20;
		} while ((byte) dx_135 <= (al_60 & 0x0F));
		bx_84 = SEQ(bh_88, bl_74 + 0x01);
	} while (bl_74 != ~0x00);
}

