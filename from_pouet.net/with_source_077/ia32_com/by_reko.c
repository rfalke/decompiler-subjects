// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register byte cl, Register (memptr (ptr16 Eq_5) byte) bp)
void fn0C00_0100(byte cl, byte Eq_5::* bp)
{
	struct Eq_5 * ss;
	__syscall<byte>(0x10);
	do
	{
		struct Eq_12 Eq_16::* si_16 = Eq_16::a013F;
		byte Eq_16::* di_17 = &Eq_16::b0000;
		word16 cx_40 = SEQ(252, cl);
		do
		{
			struct Eq_11 Eq_16::* si_26 = si_16 + 1;
			word16 ax_28 = (0xA000->*si_16).w0000 + (0xA000->*si_26).wFFFFFFFF;
			byte al_30 = (byte) ax_28;
			0xA000->*di_17 = (byte) (SEQ(SLICE(ax_28, byte, 8) + al_30, al_30) >> 0x0A);
			--cx_40;
			si_16 = si_26 - 0x01;
			++di_17;
			byte cl_89 = (byte) cx_40;
		} while (cx_40 != 0x00);
		word16 cx_57 = SEQ(0x02, cl_89);
		do
		{
			0xA000->*di_17 = ss->*bp & 0x0F | 0x10;
			--cx_57;
			++bp;
			++di_17;
			cl = (byte) cx_57;
		} while (cx_57 != 0x00);
		do
			;
		while ((__in<byte>(0x03DA) & 0x08) == 0x00);
	} while (__in<byte>(0x60) != 0x01);
	bios_video_set_mode(0x03);
}

