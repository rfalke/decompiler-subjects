// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100()
void fn0C00_0100()
{
	struct Eq_3 * cs;
	bios_video_set_mode(0x03);
	while (true)
	{
		word16 cx_197;
		for (cx_197 = 500; cx_197 != 0x01; --cx_197)
		{
			byte Eq_3::* di_21 = Eq_3::a01D0;
			struct Eq_10 Eq_9::* si_22 = Eq_9::a0000;
			word16 cx_26;
			for (cx_26 = 2000; cx_26 != 0x00; --cx_26)
			{
				cs->*di_21 = (0xB800->*si_22).b0000;
				++di_21;
				++si_22;
			}
			word16 cx_40;
			struct Eq_31 Eq_3::* si_47 = Eq_3::a01D0;
			byte ah_209 = SLICE((char *) cs + 0x0096, byte, 8);
			byte Eq_81::* di_56 = Eq_81::a01D0;
			for (cx_40 = 2000; cx_40 != 0x00; --cx_40)
			{
				cup16 bx_67 = SEQ(ah_209, (cs->*si_47).bFFFFFFAF) + SEQ(ah_209, (cs->*si_47).bFFFFFFB1) + (word16) (cs < ~0x95);
				cu16 bx_72 = bx_67 + SEQ(ah_209, si_47[81]) + (word16) (bx_67 < 0x00);
				(cs + 0x96)->*di_56 = (byte) (bx_72 + SEQ(ah_209, si_47[79]) + (word16) (bx_72 < 0x00) + 0x01 >> 0x02);
				++si_47;
				++di_56;
			}
			byte Eq_105::* di_100 = Eq_105::a0000;
			byte Eq_100::* si_104 = Eq_100::a01D0;
			word16 cx_105;
			for (cx_105 = 2000; cx_105 != 0x00; --cx_105)
			{
				0xB800->*di_100 = (cs + 0x96)->*si_104;
				++si_104;
				byte al_115 = (cs + 0x96)->*si_104;
				byte Eq_105::* di_114 = di_100 + 1;
				0xB800->*di_114 = al_115 & 0x70 | (al_115 & 0x70) >> 0x04 & 0x05;
				di_100 = di_114 + 1;
			}
			word16 cx_128;
			struct Eq_141 Eq_105::* di_129 = Eq_105::a0000;
			byte al_212 = (byte) cx_197;
			for (cx_128 = 0x50; cx_128 != 0x00; --cx_128)
			{
				di_129[0x0780] = (struct Eq_141) al_212;
				(0xB800->*di_129).b0000 = al_212;
				++di_129;
			}
			word16 cx_149;
			struct Eq_162 Eq_105::* di_150 = Eq_105::a0000;
			for (cx_149 = 0x19; cx_149 != 0x00; --cx_149)
			{
				(0xB800->*di_150).b009E = al_212;
				(0xB800->*di_150).b0000 = al_212;
				++di_150;
			}
			B800:07D0 = (byte *) (al_212 + 0x02);
			B800:07D2 = (byte *) (al_212 + 0x02);
			word16 cx_168 = 0x14;
			do
			{
				word16 cx_174;
				for (cx_174 = ~0x05; cx_174 != 0x00; --cx_174)
					;
				cx_168 = cx_265 - 0x01;
				cx_265 = cx_168;
			} while (cx_265 != 0x01);
			byte al_184;
			byte ah_185;
			if (bios_kbd_check_keystroke(out al_184, out ah_185))
			{
				byte al_193;
				bios_kbd_get_keystroke(out al_193);
				return;
			}
		}
	}
}

