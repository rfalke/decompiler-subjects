// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register word16 cx)
void fn0C00_0100(word16 cx)
{
	struct Eq_4 * ss;
	bios_video_set_mode(0x13);
	word16 cx_132 = cx;
	do
	{
		byte cl_14 = (byte) cx_136;
		__out<byte>(0x03C8, cl_14);
		__out<byte>(969, 0x00);
		__out<byte>(969, 0x00);
		__out<byte>(969, cl_14);
		cx_132 = SEQ(SLICE(cx_136 - 0x01, byte, 8), cl_14 - 0x01);
		cx_136 = cx_132;
	} while (cx_136 != 0x01);
	do
	{
		struct Eq_40 Eq_4::* bp_31 = &Eq_4::t0320;
		do
		{
			word32 ebx_35 = (word32) (ss->*bp_31).w01D1;
			(&&(0xA000->*(0xA000->*(ss->*bp_31).ptr01D3).b0000))[(word16) ebx_35 + (word16) ebx_35 * 0x04].b0000 = ~0x00;
			(ss->*bp_31).ptr01D3 += (int16) ((__in<byte>(0x40) & 0x03) - 0x01) /16 64;
			(ss->*bp_31).w01D1 += (int16) ((__in<byte>(0x40) & 0x03) - 0x01);
			bp_31 -= 0x08;
		} while (bp_31 != &Eq_4::t0000);
		byte Eq_47::* si_56 = Eq_47::a0000;
		do
		{
			byte al_63 = 0xA000->*si_56;
			if (al_63 != 0x00)
				0xA000->*si_56 = al_63 - 0x01;
			--si_56;
		} while (si_56 != Eq_47::a0000);
	} while ((__in<byte>(0x60) & 0x01) == 0x00);
	bios_video_set_mode(0x03);
}

