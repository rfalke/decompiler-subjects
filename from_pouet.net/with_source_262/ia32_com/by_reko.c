// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register Eq_3 si)
void fn0C00_0100(Eq_3 si)
{
	__syscall<byte>(0x10);
	Eq_9 bx_22 = 0x00;
	do
	{
		ui16 ax_28 = bx_22 << 0x02;
		0x7000->*bx_22 = (int8) (((byte) ax_28 & SLICE(ax_28, byte, 8)) < 0xE0) << 0x07;
		int8 al_46 = (byte) bx_22 << 0x01;
		int16 ax_47 = al_46 *s16 al_46;
		0x6000->a0000[0][bx_22] = (SEQ(SLICE(ax_47, byte, 8) - 0x40, (byte) ax_47) ^ SLICE((int32) ((int16) ((byte) bx_22 + 0x40)), word16, 16)) >> 0x06;
		bx_22 = (word16) bx_22 + 1;
	} while (bx_22 != 0x00);
	do
	{
		Eq_3 si_65 = (word16) si + 2;
		struct Eq_60 Eq_47::* di_123 = &Eq_47::t0200;
		do
		{
			ui16 bp_117 = 0x6000->*si_65 << 0x06;
			byte ah_255 = ~0x00;
			word16 dx_115 = SEQ(SLICE(si_65 << 0x07, byte, 8) + 0x59, (byte) si_65 << 0x07);
			cui16 cx_335 = 0x80;
			do
			{
				byte cl_83 = (byte) cx_343;
				byte bh_88 = SLICE(bp_117, byte, 8);
				byte al_102 = cl_83 & ah_255;
				uint8 Eq_22::* bx_89 = SEQ(bh_88, SLICE(dx_115, byte, 8));
				byte bh_288 = bh_88;
				if (0x7000->*bx_89 == SLICE(cx_343, byte, 8))
				{
					al_102 = 0x00;
					ah_255 = 0x00;
				}
				0x8000->*bx_89 += al_102;
				0x8000->*bx_89 >>= 0x01;
				dx_115 = (word16) di_123[0x0080].w0000 + dx_115;
				bp_117 += (0x6000->*di_123).w0000;
				cx_335 = SEQ(SLICE(cx_343 - 0x01, byte, 8), cl_83 - 0x01);
				cx_343 = cx_335;
			} while (cx_343 != 0x01);
			Eq_123 di_122 = di_123 - 0x01;
			di_123 = di_122 - 0x01;
		} while (di_122 != 0x01);
		Eq_146 bp_126;
		for (bp_126 = 0x0140; bp_126 != 0x00; --bp_126)
		{
			cui16 dx_130 = 0x6000->*si_65;
			int16 cx_135 = 0x00;
			word16 dx_147 = SEQ(SLICE(dx_130 << 0x05, byte, 8) + 0x10, (byte) dx_130 << 0x05);
			word16 bx_338 = SEQ(bh_288, 199);
			do
			{
				int16 cx_140 = cx_135 + 0x01;
				byte dh_154 = SLICE(dx_147, byte, 8);
				byte al_153 = (byte) ((si_65 >> 0x01) + cx_140);
				struct Eq_175 Eq_22::* ax_157 = SEQ(dh_154, al_153);
				int16 ax_170 = (int16) ((int32) (-(int16) (0x7000->*ax_157).b0000 << 0x05) /16 cx_140);
				cu8 bl_175 = (byte) bx_338;
				cu8 ch_231 = SLICE(cx_140, byte, 8);
				cu8 al_174 = (byte) ax_170 + 100;
				if (ax_170 <= 99 && al_174 < bl_175)
				{
					cu8 bl_183 = (byte) ax_170 + 100;
					int16 ax_194 = (int16) (((al_153 ^ dh_154) >> 0x02) + (0x8000->*ax_157).bFFFFFFFD - 0x40);
					byte bh_290 = SLICE(ax_170 + 100, byte, 8);
					cu8 dl_184 = bl_175 - bl_183;
					Eq_190 di_185 = (ax_170 + 100) *s 0x0140;
					uint8 al_200 = (((byte) ax_194 & ~SLICE(ax_194, byte, 8)) >> 0x03) + 0x10;
					do
					{
						Mem206[0xA000:bp_126 + di_185:byte] = al_200;
						Eq_207 di_207 = ~di_185;
						0xA000->*((word16) di_207 + ((word16) bp_126 + 65)) = al_200;
						di_185 = (word16) ~di_207 + 320;
						--dl_184;
						bx_338 = SEQ(bh_290, bl_183);
					} while (dl_184 != 0x00);
				}
				bh_288 = SLICE(bx_338, byte, 8);
				si = si_65;
				dx_147 = dx_147 + bp_126 * 0x02 - 0x0140;
				cx_135 = cx_140;
			} while (ch_231 < 0x01);
		}
	} while (__in<byte>(0x60) != 0x01);
}

