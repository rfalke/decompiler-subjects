// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register byte dh, Register byte bl, Register (memptr (ptr16 Eq_6) byte) si, Register (ptr16 Eq_6) ds)
void fn0C00_0100(byte dh, byte bl, byte Eq_6::* si, struct Eq_6 * ds)
{
	__syscall<byte>(0x10);
	Eq_12 bx_7 = SEQ(0xA0, bl);
	while (true)
	{
		Eq_12 di_10 = bx_7;
		word16 dx_30 = SEQ(dh, 0xC0);
		do
		{
			word16 cx_12;
			for (cx_12 = 0x0146; cx_12 != 0x00; --cx_12)
			{
				bx_7->*di_10 = ds->*si;
				++si;
				di_10 = (word16) di_10 + 1;
			}
			if (__in<byte>(0x60) == 0x01)
			{
				bios_video_set_mode(0x03);
				return;
			}
			--dx_30;
			dh = SLICE(dx_30, byte, 8);
		} while (dx_30 != 0x00);
	}
}

