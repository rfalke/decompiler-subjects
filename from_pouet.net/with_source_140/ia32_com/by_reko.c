// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register (memptr (ptr16 Eq_4) Eq_11) bx, Register (ptr16 Eq_4) ds)
void fn0C00_0100(union Eq_11 Eq_4::* bx, struct Eq_4 * ds)
{
	byte ah;
	__syscall<byte>(0x10);
	Eq_11 es_cx_8 = (ds->*bx).u1;
	word16 cx_12 = (word16) es_cx_8;
	struct Eq_18 * es_89 = SLICE(es_cx_8, selector, 16);
	word16 ax_117 = SEQ(ah, 0x13);
	while (true)
	{
		byte al_69 = (byte) ax_121;
		((int16) (cos((real64) cx_12 + (real64) ds->r0064) * cos((real64) cx_12 * ds->r015F) * 80.0) + 0xAA)[(int16) (sin((real64) cx_12 + (real64) ds->r0064) * 100.0) + 100].b0000 = al_69;
		--cx_12;
		ax_117 = ax_121;
		ax_121 = ax_117;
		if (cx_12 == 0x00)
		{
			ds->r0064 = (real32) ((real64) ds->r0064 + ds->r0157);
			ax_117 = SEQ(SLICE(ax_121 + 0x01, byte, 8), al_69 + 0x01);
		}
	}
}

