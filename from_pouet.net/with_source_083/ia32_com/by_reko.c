// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register byte dh, Register (ptr16 Eq_4) ds)
void fn0C00_0100(byte dh, struct Eq_4 * ds)
{
	__syscall<byte>(0x10);
	do
	{
		byte Eq_28::* bx_10 = &Eq_28::b32A0;
		++dh;
		byte dl_14;
		for (dl_14 = 0xA0; dl_14 != 0x00; --dl_14)
		{
			cu8 ah_19 = dh + dl_14;
			if (ah_19 >= 0xA0)
				ah_19 -= 0xA0;
			cu8 al_24 = 0x00;
			byte Eq_4::* si_28 = SEQ(ah_19, 0x00) + 0x0140;
			byte Eq_28::* di_32 = bx_10;
			ci16 cx_33;
			for (cx_33 = 0xFF; cx_33 >= 0x00; --cx_33)
			{
				al_24 += dl_14;
				if (al_24 < 0x00)
				{
					++si_28;
					--cx_33;
				}
				0xA000->*di_32 = ds->*si_28;
				++si_28;
				++di_32;
			}
			bx_10 += 319;
		}
	} while (__in<byte>(0x60) != 0x01);
}

