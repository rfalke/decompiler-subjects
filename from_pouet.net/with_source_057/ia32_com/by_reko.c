// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_14) ds_bx, Register byte ah, Register (memptr (ptr16 Eq_18) byte) si, Register (memptr (ptr16 Eq_18) byte) di)
void fn0C00_0100(union Eq_14 * ds_bx, byte ah, byte Eq_18::* si, byte Eq_18::* di)
{
	struct Eq_7 Eq_18::* bx = (word16) ds_bx;
	__syscall<byte>(0x10);
	Eq_14 ds_cx_8 = ds_bx->u1;
	struct Eq_18 * ds_10 = SLICE(ds_cx_8, selector, 16);
	word16 cx_28 = (word16) ds_cx_8;
	do
	{
		do
		{
			cui16 dx_18 = (ds_10->*bx).w0000;
			bx[320] = (struct Eq_7) (bx[320] | dx_18);
			bx[1] = (struct Eq_7) (bx[1] | dx_18);
			--bx;
			--cx_28;
		} while (cx_28 != 0x00);
		byte al_31 = ds_10->*si;
		ds_10->*di = al_31 + 0x01;
		word16 ax_44 = SEQ(SLICE(SEQ(ah, al_31) + 0x01, byte, 8), __in<byte>(0x60));
		++si;
		++di;
		cx_28 = 101;
		ah = SLICE(ax_44 - 0x01, byte, 8);
	} while (ax_44 != 0x01);
}

