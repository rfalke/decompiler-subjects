// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_3) ds_bx, Register byte cl, Register (memptr (ptr16 Eq_12) byte) di)
void fn0C00_0100(struct Eq_3 * ds_bx, byte cl, byte Eq_12::* di)
{
	word16 cx;
	__syscall<byte>(0x10);
	struct Eq_12 * ds_38 = ds_bx->ptr0002;
	word16 cx_42 = cx;
	while (true)
	{
		uint32 dx_ax_13 = (uint32) di;
		byte cl_19 = (byte) cx_47;
		++di;
		ds_38->*di = ds_38->*di ^ (byte) (((uint16) (dx_ax_13 /u 0x02) + 0x02 & (uint16) (dx_ax_13 % 0x02)) >> cl_19);
		cx_42 = cx_47;
		cx_47 = cx_42;
		if (ds_38->*di == 0x00)
			cx_42 = SEQ(SLICE(cx_47 + 0x01, byte, 8), cl_19 + 0x01);
	}
}

