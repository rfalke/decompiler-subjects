// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_10) ss_bp, Register (ptr16 Eq_4) ds)
void fn0C00_0100(union Eq_10 * ss_bp, struct Eq_4 * ds)
{
	__syscall<byte>(0x10);
	do
	{
		ds->t0100 = (word16) ds->t0100 + 1;
		ds->r01DA = (real32) ((real64) ds->r01DE + (real64) ds->r01DA);
		real64 rLoc1_135 = (real64) ds->r01E6;
		real64 rLoc2_136 = (real64) ds->t0100;
		ss_bp->u0 = 0x28;
		ds->r01E2 = (real32) (sin(rLoc2_136 / (real64) ss_bp->u0) * rLoc1_135);
		word16 dx_115;
		byte Eq_168::* di_109 = &Eq_168::b0000;
		for (dx_115 = 200; dx_115 != 0x00; --dx_115)
		{
			word16 cx_112;
			for (cx_112 = 0x0140; cx_112 != 0x00; --cx_112)
			{
				ss_bp->u0 = 100;
				ss_bp->u0 = (int16) (ss_bp->u0 - dx_115);
				real64 rLoc1_141 = (real64) ss_bp->u0;
				ss_bp->u0 = 0xA0;
				ss_bp->u0 = (int16) (ss_bp->u0 - cx_112);
				ss_bp->u1 = (real32) __atan2(rLoc1_141, (real64) ss_bp->u0);
				real64 rLoc1_144 = (real64) ss_bp->u1;
				real64 rLoc2_149 = sin((real64) ss_bp->u1 * (real64) ds->w01D8 + (real64) ds->r01DA) * (real64) ds->r01E2;
				ss_bp->u0 = 0x01;
				ds->r0103 = (real32) (rLoc2_149 + (real64) ss_bp->u0);
				ss_bp->u0 = (int16) (rLoc1_144 * (real64) ds->r01EA);
				Eq_10 bx_75 = ss_bp->u0;
				ss_bp->u0 = (int16) (0xA0 - cx_112);
				real64 rLoc1_152 = (real64) ss_bp->u0;
				ss_bp->u0 = (int16) (100 - dx_115);
				real64 rLoc2_154 = (real64) ss_bp->u0;
				real64 rLoc2_158 = sqrt(rLoc2_154 * rLoc2_154 + rLoc1_152 * rLoc1_152) * (real64) ds->r0103;
				ss_bp->u0 = 0x0800;
				ss_bp->u0 = (int16) ((real64) ss_bp->u0 / rLoc2_158);
				Mem110[0xA000:di_109 + 0x00:byte] = (Mem95[ss_bp + 0x00:byte] + Mem95[ds:0x0100:byte] ^ SLICE(bx_75, byte, 0) + Mem95[ds:0x0100:byte]) & 0x1F;
				++di_109;
			}
		}
	} while (__in<byte>(0x60) != 0x01);
}

