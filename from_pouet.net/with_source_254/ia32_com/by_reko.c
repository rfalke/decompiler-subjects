// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_3) ds_si, Register byte ch, Register byte bh, Register byte bl)
void fn0C00_0100(struct Eq_3 * ds_si, byte ch, byte bh, byte bl)
{
	struct Eq_7 * cs;
	struct Eq_8 * Top_101 = 0;
	__syscall<byte>(0x10);
	__out<byte>(0x03C8, 0x00);
	struct Eq_22 * ax_15 = SEQ(SLICE(cs, byte, 8) + 0x10, (byte) cs);
	word16 cx_284 = SEQ(ch, ~0x00);
	do
	{
		bui8 cl_24 = (byte) cx_294;
		__out<byte>(969, cl_24 * 0x02 >> 0x02);
		__out<byte>(969, (cl_24 * 0x02 >> 0x03) + 0x1F);
		__out<byte>(969, 0x3F);
		byte ch_232 = SLICE(cx_294 - 0x01, byte, 8);
		cx_284 = SEQ(ch_232, cl_24 - 0x01);
		Eq_60 ah_bh_287 = (uint16) bh;
		Eq_60 ch_bl_291 = SEQ(ch_232, bl);
		cx_294 = cx_284;
	} while (cx_294 != 0x01);
	do
	{
		__fninit();
		struct Eq_69 * Top_46 = Top_101 - 1;
		Top_46->r0000 = 3.141592653589793;
		ds_si->t0000.u0 = (int16) ah_bh_287;
		Top_46->rFFFFFFFF = (real64) ds_si->t0000.u0;
		ds_si->t0000.u0 = (int16) ch_bl_291;
		Top_46->rFFFFFFFE = (real64) ds_si->t0000.u0;
		ds_si->t0000.u0 = 0x40;
		Top_46->rFFFFFFFE /= (real64) ds_si->t0000.u0;
		Top_46->rFFFFFFFE *= Top_46->r0000;
		Top_46->rFFFFFFFE = sin(Top_46->rFFFFFFFE);
		Top_46->rFFFFFFFD = Top_46->rFFFFFFFF;
		Top_46->rFFFFFFFD /= (real64) ds_si->t0000.u0;
		Top_46->rFFFFFFFD *= Top_46->r0000;
		Top_46->rFFFFFFFD = sin(Top_46->rFFFFFFFD);
		Top_46->rFFFFFFFE *= Top_46->rFFFFFFFD;
		Top_46->rFFFFFFFE = fabs(Top_46->rFFFFFFFE);
		ds_si->t0000.u0 = 0x3F;
		Top_46->rFFFFFFFE *= (real64) ds_si->t0000.u0;
		ds_si->t0000.u0 = (int16) Top_46->rFFFFFFFE;
		Eq_60 cx_81 = ds_si->t0000.u0;
		byte bl_57 = (byte) ch_bl_291;
		byte bh_48 = SLICE(ah_bh_287, byte, 8);
		uint16 ax_87 = (byte) cx_81 *16 (((bh_48 & bl_57) >> 0x03 & 0x01) + 0x01);
		byte Eq_22::* bx_91 = SEQ(bh_48, bl_57);
		ax_15->*bx_91 = (byte) ax_87;
		Top_101 = Top_46 - (struct Eq_235 *) 1;
		Eq_60 bx_248 = bx_91 + 1;
		ah_bh_287 = SEQ(SLICE(ax_87, byte, 8), SLICE(bx_91 + 1, byte, 8));
		ch_bl_291 = SEQ(SLICE(cx_81, byte, 8), bl_57 + 0x01);
	} while (bx_91 != &Eq_22::bFFFF);
	ds_si->w0012 = 0x01E0;
	do
	{
		ds_si->t0000.u0 = (int16) bx_248;
		struct Eq_503 * Top_102 = Top_101 - (struct Eq_504 *) 1;
		Top_102->r0000 = (real64) ds_si->t0000.u0;
		ds_si->r0002 = Top_102->r0000;
		ds_si->t0000.u0 = 0x80;
		Top_102->r0000 /= (real64) ds_si->t0000.u0;
		Top_102->rFFFFFFFF = 3.141592653589793;
		Top_102->r0000 *= Top_102->rFFFFFFFF;
		real64 v27_111 = Top_102->r0000;
		Top_102->r0000 = cos(v27_111);
		Top_102->rFFFFFFFF = sin(v27_111);
		ds_si->r001C = Top_102->rFFFFFFFF;
		ds_si->r0014 = Top_102->r0000;
		Top_101 = Top_102 + 1;
		byte Eq_255::* di_119 = &Eq_255::b0000;
		Eq_60 dx_123 = ~0x63;
		do
		{
			Eq_60 bp_124 = ~0x9F;
			do
			{
				__fninit();
				ds_si->t0000.u0 = (int16) dx_123;
				struct Eq_346 * Top_130 = Top_101 - (struct Eq_347 *) 1;
				Top_130->r0000 = (real64) ds_si->t0000.u0;
				Top_130->r0000 /= (real64) ds_si->w0012;
				ds_si->t0000.u0 = (int16) bp_124;
				Top_130->rFFFFFFFF = (real64) ds_si->t0000.u0;
				Top_130->rFFFFFFFF /= (real64) ds_si->w0012;
				Top_130->rFFFFFFFE = ds_si->r001C;
				Top_130->rFFFFFFFE *= Top_130->r0000;
				Top_130->rFFFFFFFD = ds_si->r0014;
				Top_130->rFFFFFFFD *= Top_130->rFFFFFFFF;
				Top_130->rFFFFFFFE += Top_130->rFFFFFFFD;
				Top_130->rFFFFFFFD = ds_si->r001C;
				Top_130->rFFFFFFFD *= Top_130->rFFFFFFFF;
				Top_130->rFFFFFFFC = ds_si->r0014;
				Top_130->rFFFFFFFC *= Top_130->r0000;
				Top_130->rFFFFFFFD -= Top_130->rFFFFFFFC;
				Top_130->rFFFFFFFC = ds_si->r0002;
				Top_130->rFFFFFFFB = 0.0;
				cu8 al_163;
				for (al_163 = 116; al_163 != 0x00; --al_163)
				{
					struct Eq_8 * Top_164 = Top_101 - (struct Eq_277 *) 6;
					Top_164->rFFFFFFFF = Top_164->r0003;
					Top_164->r0001 += Top_164->rFFFFFFFF;
					Top_164->r0000 += Top_164->r0002;
					Top_164->rFFFFFFFF = Top_164->r0001;
					ds_si->t0000.u0 = (int16) Top_164->rFFFFFFFF;
					Eq_60 bl_180 = ds_si->t0000.u2;
					ds_si->t0000.u0 = (int16) Top_164->r0000;
					Top_101 = Top_164;
					if (al_163 <= ax_15->*SEQ(bl_180, (ds_si->t0000).u2 + 0x20))
						break;
				}
				0xA000->*di_119 = al_163;
				++di_119;
				byte bl_221 = (byte) bx_248;
				byte bh_247 = SLICE(bx_248, byte, 8);
				bp_124 = (word16) bp_124 + 1;
			} while (bp_124 != 0xA0);
			dx_123 = (word16) dx_123 + 1;
		} while (dx_123 != 100);
		bx_248 = SEQ(bh_247, bl_221 - 0x01);
		byte al_225;
		byte ah_226;
	} while (bios_kbd_check_keystroke(out al_225, out ah_226));
}

