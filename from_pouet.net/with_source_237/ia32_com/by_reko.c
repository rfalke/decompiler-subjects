// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Sequence segptr32 ds_si, Sequence segptr32 es_di, Register byte ah, Register byte dh, Register byte dl, Register (memptr (ptr16 Eq_12) real32) bx, Register word16 bp, Stack Eq_10 wArg00)
void fn0C00_0100(segptr32 ds_si, segptr32 es_di, byte ah, byte dh, byte dl, real32 Eq_12::* bx, word16 bp, Eq_10 wArg00)
{
	Eq_11 fp;
	struct Eq_12 * ss;
	Eq_13 wLoc0E;
	Eq_14 wLoc0C;
	Eq_15 wLoc0A;
	Eq_15 wLoc04;
	struct Eq_17 Eq_12::* si = (word16) ds_si;
	word16 di = (word16) es_di;
	__syscall<byte>(0x10);
	Eq_26 ax_23 = SEQ(ah, 0x13);
	selector fs_26 = Mem7[ss:ax_23 + (si + 2):selector];
	__fninit();
	byte dh_349 = dh + 0x13;
	Eq_14 si_130 = &si->t0002.u0;
	Eq_43 di_122 = di + 2;
	struct Eq_12 * dx_18 = SEQ(dh + 0x13, dl);
	byte al_340 = (byte) bp;
	byte ah_342 = SLICE(bp, byte, 8);
	Eq_15 bp_161 = (word16) ax_23 + 1;
	do
	{
		(dx_18->*si).t0002.u0 = (int16) di_122;
		fs_26->*bx = (real32) cos((real64) (dx_18->*si).t0002.u0 / (real64) (ss->*((char *) (&(&(ss->*((ss->*si).t0002).u0))) + ((word16) ax_23 + 5))));
		struct Eq_80 * Top_127 = 0x00;
		di_122 = (word16) di_122 + 1;
		bx -= fp - 2;
	} while (bx != &Eq_12::r0000);
	do
	{
		word16 ax_346 = SEQ(ah_342, al_340 + 0x0F);
		do
		{
			ss->*((word16) bp_161 - 24) = (word16) (ss->*((word16) bp_161 - 24)) + ax_346;
			struct Eq_80 * Top_67 = Top_127 - 1;
			ST69[Top_67 + 0x00:real64] = CONVERT(Mem64[ss:bp_161 + si_130:int32], int32, real64);
			Top_67->r0000 /= (real64) (ss->*((word16) bp_161 - 24));
			Eq_121 sp_78;
			word16 dx_80;
			Eq_13 bx_82;
			word16 cx_83;
			real64 rRet0;
			(seg0C00->*si_130)();
			Top_67->rFFFFFFFF = rRet0;
			dx_18->*di_122 = (real32) Top_67->rFFFFFFFF;
			dh_349 = SLICE(dx_80, byte, 8);
			dl = (byte) dx_80;
			byte ch_380 = SLICE(cx_83, byte, 8);
			Top_127 = Top_67;
			di_122 -= sp_78;
		} while (di_122 != 0x00);
		do
		{
			byte al_94 = __in<byte>(0x03DA);
			bool P_263 = !PARITY_EVEN(al_94 & 0x08);
		} while ((al_94 & 0x08) == 0x00);
		Eq_43 ax_102 = ss->*((word16) sp_78 + 2);
		__out<byte>(0x03C8, (byte) ax_102);
		Eq_174 sp_103 = (word16) sp_78 + 4;
		di_524 = di_122;
		do
		{
			ui32 ax_di_414 = SEQ(ax_111, di_122) + SEQ((word16) sp_78 + 4, 0x5558);
			di_122 = (word16) ax_di_414;
			Eq_43 ax_135 = SLICE(ax_di_414, word16, 16);
			Eq_179 ax_111 = ax_102 | 0xE1E1;
			dx_18->*si_130 = ax_111;
			Top_67->rFFFFFFFF = (real64) (dx_18->*si_130);
			Eq_202 si_118 = si_130 - 0x01;
			Top_67->rFFFFFFFF -= (real64) (dx_18->*si_118);
			ST123[Top_67 + -1:real64] = ST119[Top_67 + -1:real64] * CONVERT(Mem114[fs_26:bx_82 + di_524:real32], real32, real64);
			Top_67->rFFFFFFFF += (real64) (dx_18->*si_118);
			Top_67->rFFFFFFFF += (real64) (dx_18->*((word16) si_118 + 1));
			(dx_18->*((word16) si_118 - 1)).u0 = (int16) Top_67->rFFFFFFFF;
			__out<byte>(969, (byte) ax_111);
			Top_127 = Top_67;
			si_130 = (word16) si_118 + 1;
			ax_102 = ax_135;
			di_525 = di_122;
		} while (ax_135 != 0x00);
		di_122 = ax_135;
		Eq_43 ax_140 = di_122;
		Eq_15 cx_150 = SEQ(ch_380, 0xCC);
		bx_156 = bx_82;
		do
		{
			Eq_13 bx_156;
			cup16 dx_142 = 0x0140;
			do
			{
				Eq_597 sp_145 = sp_103 - 2;
				ss->*sp_145 = ax_140;
				ss->*((word16) sp_145 - 2) = cx_150;
				ss->*((word16) sp_145 - 4) = dx_142;
				ss->*((word16) sp_145 - 6) = bx_156;
				ss->*((word16) sp_145 - 8) = sp_103;
				ss->*((word16) sp_145 - 0x0A) = bp_161;
				ss->*((word16) sp_145 - 0x0C) = si_130;
				ss->*((word16) sp_145 - 0x0E) = di_122;
				byte dh_197 = SLICE(dx_142, byte, 8);
				byte dl_198 = (byte) dx_142;
				do
				{
					Top_127 -= (struct Eq_274 *) 1;
					Top_127->r0000 = (real64) (ss->*((word16) bp_161 - 26));
					bp_161 = bp_161 ^ 0x02;
					ST180[Top_127 + 0x00:real64] = ST174[Top_127 + 0x00:real64] - CONVERT(Mem168[ss:(bp_161 - 6) + si_130:int16], int16, real64);
					Top_127->r0000 /= (real64) (ss->*((word16) si_130 + 112));
				} while (P_263);
				Top_127->rFFFFFFFF = 3.321928094887362;
				--Top_127;
				byte ah_203 = SLICE(__aam(dx_18->*di_122), byte, 8);
				do
				{
					Top_127->r0000 -= Top_127[2];
					Top_127->r0000 = Top_127[1] - Top_127->r0000;
					word16 ax_206;
					word16 dx_207;
					word16 bx_209;
					byte SCZOP_211;
					real64 rRet0;
					Eq_349 sp_205;
					(seg0C00->*si_130)();
					Top_127->rFFFFFFFF = rRet0;
					Eq_473 Top_208 = Top_127 - 1;
					Top_208.u1[3] = (struct Eq_695) Top_208.u1->r0000;
					P_263 = SLICE(SCZOP_211, bool, 5);
					dh_197 = SLICE(dx_207, byte, 8);
					dl_198 = (byte) dx_207;
					ah_203 = SLICE(ax_206, byte, 8);
					Eq_327 Top_213 = Top_208.u1 + 1;
					struct Eq_339 Eq_12::* di_214 = &Eq_12::tFF34;
					do
					{
						do
						{
							--Top_213;
							Top_213.u1->r0000 = (real64) Top_213.u1[2];
							Top_213.u1->r0000 *= (real64) (dx_18->*di_214).r0000;
							di_214 += sp_205;
						} while (P_263);
						Top_213.u1[1] = (struct Eq_695) (Top_213.u1[1] + (Top_213.u1)->r0000);
						Top_213.u1[2] = (struct Eq_695) (Top_213.u1[1] - (Top_213.u1)[2]);
						Top_213.u1[1] = Top_213.u1[2];
						real64 rRet0;
						word16 ax_243;
						word16 dx_244;
						word16 bx_246;
						word16 cx_247;
						byte SCZOP_248;
						(seg0C00->*si_130)();
						Top_213.u1->r0000 = rRet0;
						Top_213.u1->r0000 *= (real64) (ss->*((word16) si_130 + ((word16) bp_161 + 0x007C)));
						(dx_18->*si_130).u0 = (int16) Top_213.u1->r0000;
						byte al_253 = (byte) ax_243 - dx_18->*si_130;
						real64 v36_258 = Top_213.u1[1];
						Top_213.u1[1] = Top_213.u1[4];
						Top_213.u1[4] = (struct Eq_695) v36_258;
						sp_205 = fp - 0x0E;
						P_263 = SLICE(SCZOP_248, bool, 5);
						dh_197 = SLICE(dx_244, byte, 8);
						dl_198 = (byte) dx_244;
						&Top_213.u1->r0000 = Top_213.u1 + 1;
						ah_203 = al_253;
						++di_214;
						word16 ax_267 = SEQ(al_253, SLICE(ax_243, byte, 8));
					} while (P_263);
					Top_127 = (struct Eq_80 *) (Top_213.u1 + 3);
				} while (cx_247 != 0x01);
				__fninit();
				ss->*((word16) bp_161 - 22) = (word16) (ss->*((word16) bp_161 - 22)) + ax_267;
				cui16 ax_293 = (word16) wArg00 + 0x00007676 & SEQ(0x00 - (byte) (wLoc0A < bp_161), 0x00 - (byte) (wLoc0A < wLoc04));
				word16 ax_301 = __rol<word16,byte>(SEQ(SLICE(ax_293, byte, 8), __rol<byte,byte>((byte) ax_293, 0x04)), 0x04);
				0xA000->*wLoc0E = (byte) ax_301;
				byte ah_305 = SLICE(ax_301, byte, 8);
				cu16 ax_307 = SEQ(ah_305, ah_305);
				byte al_311 = (byte) (ax_307 >> 0x01);
				dx_18->*wLoc0E = al_311 & 0x77;
				byte ah_316 = SLICE(ax_307 >> 0x01, byte, 8) >> 0x01 & 0x33;
				dx_18->*((word16) wLoc0C + ((word16) wLoc0E + 62)) = (word16) (dx_18->*((word16) wLoc0C + ((word16) wLoc0E + 62))) + ah_316;
				dx_18->*((word16) wLoc0C + ((word16) wLoc0E + 61)) = (word16) (dx_18->*((word16) wLoc0C + ((word16) wLoc0E + 61))) + ah_316;
				ax_140 = __aam(al_311 & 0x77);
				si_130 = wLoc0C;
				bp_161 = wLoc0A;
				cx_150 = bp_161;
				sp_103 = (word16) fp + 2;
				bx_156 = wLoc0E;
				di_122 = (word16) wLoc0E + 1;
				byte ah_333 = SLICE(ax_140, byte, 8);
				dx_142 = wLoc04 - 0x01;
				dh_349 = SLICE(wLoc04 - 0x01, byte, 8);
				dl = (byte) wLoc04 - 0x01;
			} while (wLoc04 != 0x01);
			cx_150 = bp_161 - 0x01;
		} while (bp_161 != 0x01);
		Mem330[ss:wLoc0A + wLoc0C:word32] = Mem328[ss:wLoc0A + wLoc0C:word32] + 0x18;
		byte al_332 = __in<byte>(0x60);
		word16 ax_334 = SEQ(ah_333, al_332);
		wArg00 = bp_161 - 0x01;
		al_340 = al_332 - 0x01;
		ah_342 = SLICE(ax_334 - 0x01, byte, 8);
	} while (ax_334 != 0x01);
}

