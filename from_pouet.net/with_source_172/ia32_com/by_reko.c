// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: define fn0C00_0100
define fn0C00_0100
{
	mp16 fp;
	selector ds;
	selector ss;
	word16 bx;
	word16 di;
	bl_39 = (byte) bx;
	sp_2 = fp;
	Top_3 = 0;
	al_4 = 0x13;
	__syscall<byte>(0x10);
	dx_5 = 0x017C;
	ah_6 = 0x09;
	ds_dx_8 = (ptr32) &ds->t017C;
	msdos_display_string(ds_dx_8);
	sp_9 = fp - 2;
	wLoc02_111 = 0x3F;
	sp_12 = fp - 4;
	wLoc04_112 = 21167;
	sp_14 = fp - 6;
	wLoc06_113 = bx;
	si_17 = fp - 6;
	dx_18 = 969;
	cx_19 = 0x0300;
	do
	{
		Top_24 = 0;
		cx_20 = ϕ(cx_19, cx_36);
		wLoc06_114 = cx_20;
		Top_25 = -1;
		rLoc1_115 = (real64) cx_20;
		rLoc1_117 = rLoc1_115 * 21167.0;
		rLoc1_118 = sin(rLoc1_115 * 21167.0);
		rLoc1_119 = rLoc1_118 * rLoc1_118;
		rLoc1_121 = rLoc1_119 * 63.0;
		wLoc06_122 = (int16) (rLoc1_119 * 63.0);
		Top_32 = 0x00;
		ax_33 = wLoc06_122;
		al_35 = (byte) wLoc06_122;
		__out<byte>(969, al_35);
		cx_36 = cx_20 - 0x01;
	} while (cx_36 != 0x00);
	bh_37 = 0xA0;
	bx_40 = SEQ(0xA0, bl_39);
	es_41 = bx_40;
	ds_42 = bx_40;
	D_43 = true;
	do
	{
		cx_71 = ϕ(cx_36, cx_72);
		Mem63 = ϕ(Mem31, Mem69);
		di_44 = ϕ(di, di_70);
		ax_45 = di_44;
		ax_46 = di_44 - 0x0530;
		dx_47 = 0x00;
		bx_48 = 0x0140;
		dx_ax_49 = (uint32) ax_46;
		v24_50 = dx_ax_49;
		dx_51.u1 = (uint16) (dx_ax_49 % 0x0140);
		ax_52 = (uint16) (dx_ax_49 /u 0x0140);
		dx_53 = dx_51 >> 0x05;
		dl_105 = (byte) (dx_51 >> 0x05);
		si_54 = dx_51 >> 0x05;
		si_55 = (dx_51 >> 0x05) *s 0x0140;
		bl_56 = 0x0D;
		v27_57 = ax_52;
		ah_58 = (uint8) (ax_52 % 0x0D);
		al_59 = (uint8) (ax_52 /u 0x0D);
		ax_60 = (int16) al_59;
		si_61 = si_55 + ax_60;
		al_64 = (byte) (bx_40->*si_61);
		si_65 = si_61 - 1;
		al_66 = al_64 << 0x05;
		SCZO_67 = cond(al_64 << 0x05);
		(bx_40->*di_44).b0000 = al_64 << 0x05;
		di_70 = di_44 - 1;
		cx_72 = cx_71 - 0x01;
	} while (cx_72 != 0x00);
	do
	{
		do
		{
			cx_98 = ϕ(cx_72, cx_99, cx_99);
			Mem76 = ϕ(Mem69, Mem96, Mem96);
			di_75 = ϕ(di_70, di_97, di_97);
			ah_73 = 0x00;
			al_77 = (bx_40->*di_75).bFFFFFEC0;
			ah_al_106 = al_77 + (bx_40->*di_75).bFFFFFFFF;
			al_78 = (byte) ah_al_106;
			ah_81 = SLICE(ah_al_106, byte, 8);
			SCZO_79 = cond(al_78);
			C_80 = SLICE(SCZO_79, bool, 1);
			ah_al_107 = ah_al_106;
			ah_al_108 = ah_al_106 + SEQ(dl_105, Mem76[bx_40:di_75 + 1:byte]);
			al_82 = (byte) ah_al_108;
			ah_86 = SLICE(ah_al_108, byte, 8);
			SCZO_83 = cond(al_82);
			C_85 = SLICE(SCZO_83, bool, 1);
			ah_al_109 = ah_al_108;
			ah_al_110 = ah_al_108 + SEQ(dl_105, Mem76[bx_40:di_75 + 0x0140:byte]);
			al_87 = (byte) ah_al_110;
			ah_90 = SLICE(ah_al_110, byte, 8);
			SCZO_88 = cond(al_87);
			C_89 = SLICE(SCZO_88, bool, 1);
			ax_91 = ah_al_110;
			ax_92 = ah_al_110 >> 0x02;
			al_94 = (byte) (ah_al_110 >> 0x02);
			SCZO_93 = cond(ah_al_110 >> 0x02);
			(bx_40->*di_75).b0000 = al_94;
			di_97 = di_75 - 1;
			cx_99 = cx_98 - 0x01;
		} while (cx_99 != 0x00);
		al_100 = __in<byte>(0x60);
		SCZO_101 = cond(al_100 - 0x01);
		Z_102 = SLICE(SCZO_101, bool, 2);
	} while (al_100 != 0x01);
	msdos_terminate_program20();
}

