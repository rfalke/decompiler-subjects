// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100()
void fn0C00_0100()
{
	struct Eq_3 * cs;
	bios_video_set_mode(0x13);
	word16 cx_12;
	for (cx_12 = 0x70; cx_12 != 0x00; --cx_12)
	{
		__out<byte>(0x03C8, (byte) cx_12);
		__out<byte>(969, 0x00);
		byte cl_22 = (byte) cx_12;
		__out<byte>(969, cl_22);
		__out<byte>(969, cl_22);
	}
	struct Eq_34 Eq_39::* di_37;
	uint8 al_35 = fn0C00_0158(0x00, 0xA000, out di_37);
	do
	{
		word16 cx_41;
		for (cx_41 = 34000; cx_41 != 0x00; --cx_41)
		{
			bcu8 al_49 = (byte) di_37[319].b0000 + ((((byte) (di_37)[1].b0000 + al_35) + (0xA000->*di_37).bFFFFFFFF) + (0xA000->*di_37).bFFFFFEC1);
			(0xA000->*di_37).b0000 = al_49 >> 0x02;
			struct Eq_72 Eq_39::* di_53 = di_37 + 1;
			(0xA000->*di_53).b0000 = al_49 >> 0x02;
			al_35 = al_49 >> 0x02;
			di_37 = (struct Eq_34 Eq_39::*) (di_53 + 1);
		}
		byte al_60 = __in<byte>(0x60);
		di_37 = &Eq_39::t0140;
		al_35 = al_60 - 0x01;
	} while (al_60 != 0x01);
	bios_video_set_mode(0x03);
	msdos_display_string((char *) cs + 356);
}

// 0C00:0158: Register byte fn0C00_0158(Register Eq_38 di, Register (ptr16 Eq_39) es, Register out Eq_38 diOut)
// Called from:
//      fn0C00_0100
byte fn0C00_0158(Eq_38 di, struct Eq_39 * es, union Eq_38 & diOut)
{
	word16 cx_11;
	for (cx_11 = 0x0140; cx_11 != 0x00; --cx_11)
	{
		byte al_5 = __in<byte>(0x40);
		es->*di = al_5;
		di = (word16) di + 1;
	}
	diOut = di;
	return al_5;
}

