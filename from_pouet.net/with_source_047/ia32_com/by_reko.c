// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_3) ds_bx, Register (memptr (ptr16 Eq_12) byte) cx, Register byte dl, Register byte dh)
void fn0C00_0100(struct Eq_3 * ds_bx, byte Eq_12::* cx, byte dl, byte dh)
{
	__syscall<byte>(0x10);
	struct Eq_12 * ds_47 = ds_bx->ptr0002;
	while (true)
	{
		ds_47->*cx = (int8) ((dl & SLICE(cx, byte, 8)) < 0x00);
		byte bh_17 = SLICE(cx, byte, 8);
		byte bl_19 = (byte) cx;
		dl -= bh_17;
		Eq_16 bh_20 = bh_17 | bl_19;
		if (bh_20 < 0x00)
			bh_20 = -(bh_20 >> 0x01);
		ds_47->*SEQ(bh_20, bl_19 + dh) = dl;
		--cx;
		word16 dx_41 = SEQ(dh, dl);
		if (cx == Eq_12::a0000)
		{
			++dl;
			dh = SLICE(dx_41 + 0x01, byte, 8);
		}
	}
}

