// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register Eq_3 cx, Register word16 dx, Register cu16 bx, Register Eq_6 si, Register cui16 di)
void fn0C00_0100(Eq_3 cx, word16 dx, cu16 bx, Eq_6 si, cui16 di)
{
	__syscall<byte>(0x10);
	cu16 bx_126 = bx;
	do
	{
		cu8 al_13 = 0xD2 - (byte) bx_126;
		Eq_6 ax_17 = (uint16) al_13;
		byte ah_37 = SLICE(si, byte, 8);
		cu8 al_34 = (byte) (si - (bx_126 - (di & 0x0F) >> 0x01));
		si = ax_17;
		cui16 di_29 = di;
		word16 ax_38 = SEQ(ah_37, al_34);
		--dx;
		if (dx == 0x00)
		{
			di_29 = di + 0x01;
			dx = 8000;
		}
		if (al_13 < 200)
		{
			Eq_31 ax_55 = ax_17 *s 0x0140 + ax_38;
			byte al_60 = (byte) di_29;
			0xA000->*ax_55 = al_60;
			if (al_34 < 0x40)
				0xA000->*((word16) cx + ((word16) ax_55 + 1)) = al_60;
		}
		di = di_29;
		bx_126 = SEQ(ah_37, al_34);
	} while (__in<byte>(0x60) != 0x01);
}

