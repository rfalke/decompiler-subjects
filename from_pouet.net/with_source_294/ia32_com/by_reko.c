// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_3) ds)
void fn0C00_0100(struct Eq_3 * ds)
{
	struct Eq_4 * cs;
	__syscall<byte>(0x10);
	struct Eq_10 * ax_16 = SEQ(SLICE(cs, byte, 8) + 0x10, (byte) cs);
	cui16 cx_222 = 0x00;
	do
	{
		ui8 cl_20 = (byte) cx_225;
		__out<byte>(0x03C8, cl_20);
		__out<byte>(969, cl_20 << 0x01);
		__out<byte>(969, cl_20 << 0x02);
		__out<byte>(969, 0x00);
		uint8 dl_174 = 0xC9;
		Eq_43 cx_30 = cx_225 - 0x01;
		cui16 ax_173 = 0x1600;
		cx_222 = SEQ(SLICE(cx_225 - 0x01, byte, 8), cl_20 - 0x01);
		cx_225 = cx_222;
	} while (cx_225 != 0x01);
	do
	{
		ax_173 = __rol<word16,byte>((word16) cx_30 + ax_173, (byte) cx_30);
		bci8 al_38 = (byte) ax_173;
		cu8 dl_44 = dl_174 + (al_38 >> 0x05) + (byte) (al_38 >> 0x05 < 0x00);
		bcu8 dl_49 = (word16) (ax_16->*((word16) cx_30 + 0x00FF)) + dl_44 + (byte) (dl_44 < 0x00);
		ax_16->*cx_30 = dl_49 >> 0x01;
		ax_16->*SEQ(~SLICE(cx_30, byte, 8), (byte) cx_30) = dl_49 >> 0x01;
		dl_174 = dl_49 >> 0x01;
		--cx_30;
	} while (cx_30 != 0x00);
	byte ch_108 = 0x10;
	while (true)
	{
		byte Eq_3::* di_192 = &Eq_3::b0304;
		word16 dx_181;
		for (dx_181 = ~0x63; dx_181 != 100; ++dx_181)
		{
			word16 bp_66;
			for (bp_66 = ~0x9F; bp_66 != 0xA0; ++bp_66)
			{
				ds->*di_192 = ax_16->*SEQ((byte) dx_181 + 100, (byte) bp_66 + 0xA0);
				++di_192;
			}
		}
		bios_video_write_string(0x00, 0x00, 0x0A, SEQ(ch_108, 0x28), 0x00, 0x00, (char *) ds + 454);
		word16 cx_117 = 0x40;
		struct Eq_155 Eq_3::* di_118 = &Eq_3::t41B6;
		do
		{
			ci8 bl_119;
			for (bl_119 = 0x7F; bl_119 > 0x00; --bl_119)
			{
				(ds->*di_118).b0000 = 0x10;
				di_118 = &di_118->b0000 + 1;
			}
			--cx_117;
			++di_118;
			uint8 cl_141 = (byte) cx_117;
		} while (cx_117 != 0x00);
		memcpy(A000:0A00, ds->b0304, SEQ(0x78, cl_141) *32 0x02);
		if ((int16) __in<byte>(0x60) == 0x01)
			break;
		byte ch_156;
		bcu8 dh_157;
		byte dl_158;
		msdos_get_system_time(out ch_156, out dh_157, out dl_158);
		if ((dh_157 >> 0x02 & 0x02) == 0x00)
			ch_108 = 0x10;
		else
			ch_108 = 0x00;
	}
	__syscall<byte>(0x10);
}

