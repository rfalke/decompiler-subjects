// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_9) ds_bx)
void fn0C00_0100(union Eq_9 * ds_bx)
{
	__syscall<byte>(0x10);
	Eq_9 es_bx_7 = ds_bx->u1;
	bui8 bl_22 = (byte) es_bx_7;
	struct Eq_15 * es_87 = SLICE(es_bx_7, selector, 16);
	bui8 al_11 = 0x01;
	while (true)
	{
		if (bl_22 + al_11 == 0x00)
			al_11 = -al_11;
		byte Eq_15::* di_18 = &Eq_15::b0000;
		byte dl_19;
		bl_22 += al_11;
		for (dl_19 = 200; dl_19 != 0x00; --dl_19)
		{
			cui16 cx_96 = 0x0140;
			do
			{
				byte cl_34 = (byte) cx_99;
				cu8 al_37 = cl_34 + bl_22;
				if (al_37 >= 0xA0)
					al_37 = al_37 - bl_22 * 0x02 + dl_19 & dl_19;
				es_87->*di_18 = (al_37 & 0x1F) + 0x10;
				++di_18;
				cx_96 = SEQ(SLICE(cx_99 - 0x01, byte, 8), cl_34 - 0x01);
				cx_99 = cx_96;
			} while (cx_99 != 0x01);
		}
	}
}

