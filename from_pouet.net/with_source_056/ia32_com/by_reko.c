// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_12) ds_bx, Register word16 cx, Register (memptr (ptr16 Eq_16) byte) si, Register (memptr (ptr16 Eq_16) byte) di)
void fn0C00_0100(union Eq_12 * ds_bx, word16 cx, byte Eq_16::* si, byte Eq_16::* di)
{
	__syscall<byte>(0x10);
	Eq_12 ds_bx_8 = ds_bx->u1;
	struct Eq_16 * ds_10 = SLICE(ds_bx_8, selector, 16);
	struct Eq_18 Eq_16::* bx_16 = (word16) ds_bx_8;
	while (true)
	{
		cui16 dx_18 = (ds_10->*bx_16).w0000;
		bx_16[320] = (struct Eq_18) (bx_16[320] | dx_18);
		bx_16[1] = (struct Eq_18) (bx_16[1] | dx_18);
		--bx_16;
		if (bx_16 == &Eq_16::t0000)
			bx_16 = &Eq_16::tFEB0;
		--cx;
		byte ch_55 = SLICE(cx, byte, 8);
		if (cx == 0x00)
		{
			ds_10->*di = ds_10->*si + 0x01;
			++si;
			++di;
			cx = SEQ(ch_55, 0x1F);
		}
	}
}

