// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register byte al, Register byte cl, Register bcu8 dh, Register uint8 bh, Register byte bl, Register (ptr16 Eq_8) es, Register (ptr16 Eq_9) ds)
void fn0C00_0100(byte al, byte cl, bcu8 dh, uint8 bh, byte bl, struct Eq_8 * es, struct Eq_9 * ds)
{
	byte Eq_8::* di_5 = Eq_8::a013B;
	word16 cx_6 = SEQ(~0x05, cl);
	while (true)
	{
		byte cl_77 = (byte) cx_6;
		if (cx_6 == 0x00)
			break;
		es->*di_5 = al;
		++di_5;
		--cx_6;
	}
	__syscall<byte>(0x10);
	while (true)
	{
		struct Eq_33 Eq_9::* di_20 = Eq_9::a013B;
		word16 cx_34 = SEQ(~0x05, cl_77);
		do
		{
			word16 ax_23 = (word16) di_20[320].t0000 + ((ds->*di_20).t0000).u1;
			(ds->*di_20).t0000.u0 = (byte) ((byte) ax_23 + bh + SLICE(ax_23, byte, 8) >> 0x02);
			--cx_34;
			++di_20;
			uint8 cl_46 = (byte) cx_34;
		} while (cx_34 != 0x00);
		memcpy(A000:0000, ds->a013B[0].t0000, SEQ(0x78, cl_46) *32 0x02);
		++dh;
		bios_video_set_CGA_palette(dh >> 0x04, bl);
		cl_77 = 0x00;
		bh = dh >> 0x04;
	}
}

