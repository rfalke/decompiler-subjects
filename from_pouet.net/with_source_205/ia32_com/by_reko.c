// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100()
void fn0C00_0100()
{
	byte Eq_4::* fp;
	struct Eq_4 * ss;
	word16 wLoc14;
	bios_video_set_mode(0x13);
	Eq_11 ptrLoc06_223 = 0xA0000000;
	while (true)
	{
		int16 di_20;
		for (di_20 = 199; di_20 > 0x00; --di_20)
		{
			Eq_18 ax_39 = (int16) (10000 /16 di_20);
			uint16 ax_43 = ((word16) ax_39 + wLoc14 & 0x1F) + ~0x0F;
			Eq_28 si_158 = 0x00;
			while (si_158 < 0x0140)
			{
				if (di_20 == 199)
					Mem59[ss:fp - 0x0154 + si_158:byte] = 199;
				cui16 ax_70 = ax_39 * ((word16) si_158 + 0x0000FF60) >> 0x08 & 0x1F;
				Eq_45 dx_85 = ax_43 * ax_43 + (ax_70 + ~0x0F) * (ax_70 + ~0x0F);
				Eq_52 ax_97 = (int16) ((int32) (dx_85 >> 0x01 << 0x04) /16 ax_39) + di_20;
				byte bLoc0A_203 = (byte) ax_97;
				if (CONVERT(Mem98[ss:fp - 0x0154 + si_158:byte], byte, uint16) > ax_97)
				{
					int16 dx_107 = (dx_85 >> 0x01) - (ax_39 >> 0x02);
					int16 wLoc0C_191 = dx_107;
					if (dx_107 < 0x00)
						wLoc0C_191 = 0x00;
					byte bLoc0C_217 = (byte) (wLoc0C_191 >> 0x04) + 0x10;
					Eq_52 wLoc08_196 = ax_97;
					while (CONVERT(Mem129[ss:fp - 0x0154 + si_158:byte], byte, uint16) > wLoc08_196)
					{
						SLICE(ptrLoc06_223, selector, 16):SLICE(ptrLoc06_223, word16, 0) + si_158[wLoc08_196 * 0x0140] = bLoc0C_217;
						wLoc08_196 = (word16) wLoc08_196.u0 + 1;
					}
					Mem156[ss:fp - 0x0154 + si_158:byte] = bLoc0A_203;
				}
				si_158 = (word16) si_158 + 1;
			}
		}
		++wLoc14;
	}
}

