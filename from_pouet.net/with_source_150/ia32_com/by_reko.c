// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register word16 eax_16_16, Register word16 bp, Register (ptr16 Eq_5) ds)
void fn0C00_0100(word16 eax_16_16, word16 bp, struct Eq_5 * ds)
{
	struct Eq_6 * Top_131 = 0;
	__syscall<byte>(0x10);
	do
	{
		byte Eq_14::* di_11 = &Eq_14::b0000;
		int16 bx_103;
		for (bx_103 = ~0x62; (byte) bx_103 != 100; ++bx_103)
		{
			Eq_22 cx_16 = ~0x9F;
			do
			{
				Eq_129 ax_35 = cx_16 *s16 cx_16 + bx_103 *s bx_103;
				ds->t7340 = (word16) ax_35 + 0x00001000;
				ds->w7342 = 0x00;
				Eq_143 dx_ax_41 = ((word16) ax_35 + 0x00001000) *32 0x733C;
				word32 eax_57 = 400000000 - __ror<word32,byte>(SEQ(SLICE(__ror<word32,byte>(SEQ(eax_16_16, (word16) dx_ax_41), 0x10), word16, 16), SLICE(dx_ax_41, word16, 16)), 0x10);
				cu16 ax_58 = (word16) eax_57;
				eax_16_16 = SLICE(eax_57, word16, 16);
				byte al_89 = (byte) (ax_58 >> 0x01);
				Eq_22 eax_63 = SEQ(eax_16_16, ax_58 >> 0x01);
				if (ax_58 >> 0x01 >= 0x00)
				{
					ds->t733C = eax_63;
					struct Eq_6 * Top_66 = Top_131 - 1;
					Top_66->r0000 = (real64) ds->t733C;
					Top_66->r0000 = sqrt(Top_66->r0000);
					ds->t733C.u0 = (int16) Top_66->r0000;
					ds->t733C -= 20000;
					ds->t733C = -ds->t733C;
					Top_66->r0000 = (real64) ds->t733C;
					Top_66->r0000 /= (real64) ds->t7340;
					ds->t733C = cx_16;
					Top_66->rFFFFFFFF = (real64) ds->t733C;
					Top_66->rFFFFFFFF *= Top_66->r0000;
					ds->t733C.u0 = (int16) Top_66->rFFFFFFFF;
					__wait();
					__fninit();
					Top_131 = Top_66;
					al_89 = (byte) ((word32) ds->t733C + (byte) bp);
				}
				0xA000->*di_11 = al_89;
				++di_11;
				cx_16 = (word16) cx_16.u0 + 1;
			} while (cx_16 != 0xA0);
		}
		++bp;
	} while (__in<byte>(0x60) != 0x01);
}

