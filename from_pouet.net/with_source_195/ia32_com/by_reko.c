// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_3) ds)
void fn0C00_0100(struct Eq_3 * ds)
{
	Eq_4 Top_121 = 0;
	__syscall<byte>(0x10);
	do
	{
		word16 Eq_18::* di_165 = Eq_18::a0000;
		word16 cx_168;
		for (cx_168 = 0x6400; cx_168 != 0x00; --cx_168)
		{
			0x4000->*di_165 = 0x5151;
			++di_165;
		}
		ds->w01D5 = 0x40;
		Eq_15 cx_130;
		for (cx_130 = 0x4000; cx_130 != 0x00; --cx_130)
		{
			__fninit();
			ds->t01D3.u1 = (uint16) (0x0C00->*cx_130);
			struct Eq_42 * Top_52 = Top_121 - 1;
			Top_52->r0000 = (real64) ds->t01D3;
			ds->t01D3 = (cx_130 & 0x7F) << 0x01;
			Top_52->rFFFFFFFF = (real64) ds->t01D3;
			Top_52->rFFFFFFFF -= (real64) ds->w01D5;
			Top_52->rFFFFFFFF += Top_52->r0000;
			ds->t01D3 = cx_130 >> 0x07;
			Top_52->rFFFFFFFE = (real64) ds->t01D3;
			Top_52->rFFFFFFFE -= (real64) ds->w01D5;
			Top_52->rFFFFFFFD = Top_52->r0000;
			Top_52->rFFFFFFFC = (real64) ds->r01DB;
			Top_52->rFFFFFFFC = -Top_52->rFFFFFFFC;
			real64 v19_74 = Top_52->rFFFFFFFC;
			Top_52->rFFFFFFFC = cos(v19_74);
			Top_52->rFFFFFFFB = sin(v19_74);
			Top_52->rFFFFFFFA = Top_52->rFFFFFFFC;
			Top_52->rFFFFFFFA *= Top_52->rFFFFFFFF;
			Top_52->rFFFFFFF9 = Top_52->rFFFFFFFB;
			Top_52->rFFFFFFF9 *= Top_52->rFFFFFFFE;
			Top_52->rFFFFFFF9 += Top_52->rFFFFFFFA;
			real64 v22_87 = Top_52->rFFFFFFF9;
			Top_52->rFFFFFFF9 = Top_52->rFFFFFFFB;
			Top_52->rFFFFFFFB = v22_87;
			Top_52->rFFFFFFF9 *= Top_52->rFFFFFFFF;
			Top_52->rFFFFFFF9 = -Top_52->rFFFFFFF9;
			real64 v23_92 = Top_52->rFFFFFFF9;
			Top_52->rFFFFFFF9 = Top_52->rFFFFFFFC;
			Top_52->rFFFFFFFC = v23_92;
			Top_52->rFFFFFFF9 *= Top_52->rFFFFFFFE;
			Top_52->rFFFFFFF9 += Top_52->rFFFFFFFC;
			__ffree(Top_52->rFFFFFFFF);
			Top_52->rFFFFFFF8 = Top_52->rFFFFFFFD;
			Top_52->rFFFFFFF7 = Top_52->rFFFFFFFB;
			ds->t01D3.u0 = 0x0140;
			Top_52->rFFFFFFF7 /= Top_52->rFFFFFFF9;
			Top_52->rFFFFFFF7 *= (real64) ds->t01D3;
			real64 v26_106 = Top_52->rFFFFFFF7;
			Top_52->rFFFFFFF7 = Top_52->rFFFFFFF8;
			Top_52->rFFFFFFF8 = v26_106;
			Top_52->rFFFFFFF7 += (real64) ds->w01CD;
			Top_52->rFFFFFFF7 /= Top_52->rFFFFFFF9;
			Top_52->rFFFFFFF7 *= (real64) ds->t01D3;
			real64 v27_112 = Top_52->rFFFFFFF7;
			Top_52->rFFFFFFF7 = Top_52->rFFFFFFF8;
			Top_52->rFFFFFFF8 = v27_112;
			ds->w01D7 = (int16) Top_52->rFFFFFFF7;
			real64 v28_117 = Top_52->rFFFFFFF8;
			Top_52->rFFFFFFF8 = Top_52->rFFFFFFF9;
			Top_52->rFFFFFFF9 = v28_117;
			ds->t01D3.u0 = (int16) Top_52->rFFFFFFF8;
			Eq_382 bx_123 = ds->t01D3 *s 0x0140 + ds->w01D7;
			Mem128[0x4000:bx_123 + 0x00:byte] = Mem120[0x4000:bx_123 + 0x00:byte] + Mem120[0x0C00:cx_130 + 0x00:byte];
			Top_121 = Top_52 - (struct Eq_405 *) 7;
		}
		Top_52->rFFFFFFF8 = (real64) ds->r01CF;
		Top_52->rFFFFFFF7 = (real64) ds->r01DB;
		Top_52->rFFFFFFF7 += Top_52->rFFFFFFF8;
		ds->r01DB = (real32) Top_52->rFFFFFFF7;
		memcpy(A000:1900, 4000:0000, 0xC800);
		Top_121 = Top_52 - (struct Eq_451 *) 9;
	} while ((int16) __in<byte>(0x60) != 0x01);
	__syscall<byte>(0x10);
}

