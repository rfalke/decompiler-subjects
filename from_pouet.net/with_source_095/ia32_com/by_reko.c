// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_13) ds_bx, Register word16 cx)
void fn0C00_0100(union Eq_13 * ds_bx, word16 cx)
{
	byte ah;
	struct Eq_6 * bx = (word16) ds_bx;
	__syscall<byte>(0x10);
	Eq_13 es_di_7 = ds_bx->u1;
	__out<byte>(0x03C8, 0x20);
	struct Eq_24 * es_113 = SLICE(es_di_7, selector, 16);
	byte Eq_24::* di_114 = (word16) es_di_7;
	word16 ax_127 = SEQ(ah, 0x20);
	do
	{
		byte al_14 = (byte) ax_127;
		__out<byte>(969, al_14);
		byte al_21 = (byte) bx;
		__out<byte>(969, al_21);
		__out<byte>(969, al_21);
		byte bl_100 = (byte) bx;
		byte bh_125 = SLICE(bx, byte, 8);
		byte ah_95 = SLICE(ax_127 + 0x01, byte, 8);
		if ((al_14 + 0x01 & 0x7F) == 0x00)
			__out<byte>(969, al_14 + 0x01 & 0x7F);
		--cx;
		ax_127 = SEQ(ah_95, al_14 + 0x01 & 0x7F);
	} while (cx != 0x00);
	while (true)
	{
		ci16 dx_135 = 0xCC;
		do
		{
			cui16 cx_132 = 0x013F;
			do
			{
				ui8 al_45;
				byte dl_44 = (byte) dx_138;
				byte cl_37 = (byte) cx_137;
				if ((bl_100 & 0x40) == 0x00)
					al_45 = cl_37 | dl_44;
				else
					al_45 = cl_37 ^ dl_44;
				es_113->*di_114 = al_45 ^ bl_100;
				++di_114;
				cx_132 = SEQ(SLICE(cx_137 - 0x01, byte, 8), cl_37 - 0x01);
				cx_137 = cx_132;
			} while (cx_137 != 0x01);
			dx_135 = dx_138 - 0x01;
			dx_138 = dx_135;
		} while (dx_138 >= 0x01);
		bl_100 = bx->b046C;
		di_114 = ~SEQ(bh_125, bl_100);
	}
}

