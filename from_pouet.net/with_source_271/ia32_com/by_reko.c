// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register (memptr (ptr16 Eq_14) byte) di, Register (ptr16 Eq_4) ds)
void fn0C00_0100(byte Eq_14::* di, struct Eq_4 * ds)
{
	struct Eq_5 * cs;
	struct Eq_6 * ss;
	struct Eq_7 * Top_189 = 0;
	__syscall<byte>(0x10);
	struct Eq_14 * ax_10 = SEQ(SLICE(cs, byte, 8) + 0x10, (byte) cs);
	cui16 cx_309 = 0x00;
	do
	{
		bu8 cl_17 = (byte) cx_312;
		__out<byte>(0x03C8, cl_17);
		__out<byte>(969, cl_17);
		__out<byte>(969, (byte) (cl_17 *16 cl_17 >> 0x06));
		__out<byte>(969, 0x00);
		ax_10->*di = 0x00;
		bci8 dh_261 = 0x03;
		uint8 al_27 = 0x00;
		bool C_26 = false;
		++di;
		struct Eq_58 Eq_14::* cx_34 = cx_312 - 0x01;
		cx_309 = SEQ(SLICE(cx_312 - 0x01, byte, 8), cl_17 - 0x01);
		cx_312 = cx_309;
	} while (cx_312 != 0x01);
	do
	{
		dh_261 = __rcl<byte,byte>(dh_261, (byte) cx_34, C_26);
		cu8 al_47 = al_27 + (dh_261 >> 0x03) + (byte) (dh_261 >> 0x03 < 0x00);
		bcu8 al_52 = (byte) cx_34[0x0080].b0000 + al_47 + (byte) (al_47 < 0x00);
		(ax_10->*cx_34).b0000 = al_52 >> 0x01;
		ax_10->*SEQ(~SLICE(cx_34, byte, 8), (byte) cx_34) = al_52 >> 0x01;
		--cx_34;
		al_27 = al_52 >> 0x01;
		C_26 = SLICE(cond(al_52 >> 0x01), bool, 1);
		byte ch_279 = SLICE(cx_34, byte, 8);
	} while (cx_34 != Eq_14::a0000);
	do
	{
		struct Eq_119 Eq_4::* di_207 = &Eq_4::t0200;
		word16 dx_217;
		for (dx_217 = ~0x63; dx_217 != 100; ++dx_217)
		{
			struct Eq_368 Eq_6::* bp_211 = &Eq_6::tFF60;
			do
			{
				__fninit();
				struct Eq_543 * Top_71 = Top_189 - (struct Eq_544 *) 1;
				Top_71->t0000.u1 = 0.3010299956639812;
				(ds->*di_207).t0000.u0 = (int16) bp_211;
				Top_71->tFFFFFFFF.u1 = (real64) (ds->*di_207).t0000.u0;
				Top_71->tFFFFFFFF.u1 = (real64) (Top_71->tFFFFFFFF.u1 / (real64) ds->w014B);
				(ds->*di_207).t0000.u0 = dx_217;
				Top_71->tFFFFFFFE.u1 = (real64) (ds->*di_207).t0000.u0;
				Top_71->tFFFFFFFE.u1 = (real64) (Top_71->tFFFFFFFE.u1 / (real64) ds->w014B);
				word16 cx_119 = SEQ(ch_279, 0x02);
				do
				{
					struct Eq_123 * Top_86 = Top_189 - 3;
					Top_86->rFFFFFFFF = (real64) ds->w0111;
					Top_86->rFFFFFFFF /= (real64) ds->w010C;
					real64 v28_93 = Top_86->rFFFFFFFF;
					Top_86->rFFFFFFFF = cos(v28_93);
					Top_86->rFFFFFFFE = sin(v28_93);
					Top_86->rFFFFFFFD = Top_86->r0000;
					Top_86->rFFFFFFFD *= Top_86->rFFFFFFFE;
					Top_86->rFFFFFFFC = Top_86->r0001;
					Top_86->rFFFFFFFC *= Top_86->rFFFFFFFF;
					Top_86->rFFFFFFFD -= Top_86->rFFFFFFFC;
					real64 v31_107 = Top_86->rFFFFFFFD;
					Top_86->rFFFFFFFD = Top_86->r0000;
					Top_86->r0000 = v31_107;
					Top_86->rFFFFFFFF *= Top_86->rFFFFFFFD;
					Top_86->r0001 *= Top_86->rFFFFFFFE;
					Top_86->r0001 += Top_86->rFFFFFFFF;
					real64 v32_116 = Top_86->r0000;
					Top_86->r0000 = Top_86->r0002;
					Top_86->r0002 = v32_116;
					--cx_119;
					byte ch_286 = SLICE(cx_119, byte, 8);
				} while (cx_119 != 0x00);
				Top_86->rFFFFFFFF = 3.141592653589793;
				Top_86->rFFFFFFFF = (real64) ds->w0111 / Top_86->rFFFFFFFF;
				Top_86->rFFFFFFFE = 0.0;
				Top_86->rFFFFFFFD = 0.0;
				cui16 cx_175 = SEQ(ch_286, 0x20);
				do
				{
					struct Eq_297 * Top_129 = Top_189 - (struct Eq_377 *) 6;
					Top_129->tFFFFFFFF.u1 = Top_129->t0002.u1;
					Top_129->tFFFFFFFF.u1 = (real64) cos(Top_129->tFFFFFFFF.u1);
					Top_129->tFFFFFFFE.u1 = Top_129->t0001.u1;
					Top_129->tFFFFFFFE.u1 = (real64) cos(Top_129->tFFFFFFFE.u1);
					Top_129->tFFFFFFFF.u1 = (real64) (Top_129->tFFFFFFFF.u1 + (Top_129->tFFFFFFFE).u1);
					Top_129->tFFFFFFFE.u1 = Top_129->t0000.u1;
					Top_129->tFFFFFFFE.u1 = (real64) cos(Top_129->tFFFFFFFE.u1);
					Top_129->tFFFFFFFF.u1 = (real64) (Top_129->tFFFFFFFF.u1 + (Top_129->tFFFFFFFE).u1);
					Top_129->tFFFFFFFE.u1 = 0.6931471805599453;
					Top_129->tFFFFFFFF.u1 = (real64) (Top_129->tFFFFFFFF.u1 + (Top_129->tFFFFFFFE).u1);
					Top_129->tFFFFFFFE.u1 = Top_129->tFFFFFFFF.u1;
					Top_129->tFFFFFFFE.u1 = (real64) (Top_129->tFFFFFFFE.u1 * Top_129->r0005);
					Top_129->t0002.u1 = (real64) (Top_129->t0002.u1 + (Top_129->tFFFFFFFE).u1);
					Top_129->tFFFFFFFE.u1 = Top_129->tFFFFFFFF.u1;
					Top_129->tFFFFFFFE.u1 = (real64) (Top_129->tFFFFFFFE.u1 * Top_129->r0004);
					Top_129->t0001.u1 = (real64) (Top_129->t0001.u1 + (Top_129->tFFFFFFFE).u1);
					Top_129->tFFFFFFFF.u1 = (real64) (Top_129->tFFFFFFFF.u1 * Top_129->r0003);
					Top_129->t0000.u1 = (real64) (Top_129->t0000.u1 + (Top_129->tFFFFFFFF).u1);
					if (Top_129->tFFFFFFFF.u1 < ds->t0108)
						break;
					--cx_175;
				} while (cx_175 != 0x00);
				Top_129->t0001.u1 = (real64) __atan2(Top_129->t0001.u1, Top_129->t0000.u1);
				Top_129->t0001.u1 = (real64) (Top_129->t0001.u1 * (real64) ds->w010C);
				ds->t0100.u0 = (int16) Top_129->t0001.u1;
				Top_129->t0002.u1 = (real64) (Top_129->t0002.u1 * (real64) ds->w010C);
				ds->w0101 = (int16) Top_129->t0002.u1;
				ui16 cx_192 = cx_175 << 0x01;
				uint8 cl_200 = (byte) cx_192;
				(ds->*di_207).t0000.u1 = SLICE(cl_200 *16 -(ax_10->*ds->t0100), byte, 8);
				Top_189 = (struct Eq_7 *) &Top_129->r0003;
				ch_279 = SLICE(cx_192, byte, 8);
				++di_207;
				++bp_211;
			} while (bp_211 != &Eq_6::t00A0);
		}
		bp_211[113] = (struct Eq_368) (bp_211[113] - 0x01);
		memcpy(A000:0000, ds->t0200.t0000, SEQ(0x7D, cl_200) *32 0x02);
		ch_279 = 0x00;
	} while ((int16) __in<byte>(0x60) != 0x01);
	__syscall<byte>(0x10);
}

