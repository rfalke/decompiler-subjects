// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_3) ds)
void fn0C00_0100(struct Eq_3 * ds)
{
	msdos_display_string((char *) ds + 370);
	struct Eq_10 Eq_3::* di_18 = &Eq_3::t0180;
	byte bl_13 = 0x3C;
	byte dl_14 = 0x00;
	word16 cx_15;
	for (cx_15 = 0x0A; cx_15 != 0x00; --cx_15)
	{
		(ds->*di_18).b0000 = 0x00;
		struct Eq_23 Eq_3::* di_20 = di_18 + 1;
		di_20[384] = (struct Eq_23) bl_13;
		di_20[0x0181] = (struct Eq_23) dl_14;
		di_18 = (struct Eq_10 Eq_3::*) (di_20 + 2 + 384);
		bl_13 -= 0x06;
		dl_14 += 0x06;
	}
	word16 cx_32;
	for (cx_32 = 0x0A; cx_32 != 0x00; --cx_32)
	{
		(ds->*di_18).b0000 = 0x00;
		struct Eq_53 Eq_3::* di_37 = di_18 + 1;
		di_37[384] = (struct Eq_53) bl_13;
		di_37[0x0181] = (struct Eq_53) dl_14;
		di_18 = (struct Eq_10 Eq_3::*) (di_37 + 2);
		dl_14 -= 0x06;
		bl_13 += 0x06;
	}
	Eq_74 di_49 = 0x00;
	while (true)
	{
		byte al_54;
		byte ah_55;
		if (!bios_kbd_check_keystroke(out al_54, out ah_55))
			break;
		__out<byte>(0x03C8, 0x07);
		word16 cx_61;
		for (cx_61 = 0x03; cx_61 != 0x00; --cx_61)
		{
			__out<byte>(969, ds->*((word16) di_49 + 384));
			di_49 = (word16) di_49 + 1;
		}
		if (di_49 >= 0x3C)
			di_49.u0 = 0x00;
	}
	bios_video_set_mode(0x03);
	msdos_terminate(0x00);
}

