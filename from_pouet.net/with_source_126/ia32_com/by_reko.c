// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register byte bh, Register (memptr (ptr16 Eq_50) byte) di)
void fn0C00_0100(byte bh, byte Eq_50::* di)
{
	__syscall(0x10);
	cu16 ax_105 = 0xA000;
	do
	{
		byte al_8 = (byte) ax_114;
		__outb(0x03C8, al_8);
		byte al_15 = (byte) (ax_114 >> 0x02);
		__outb(969, al_15);
		__outb(969, al_15);
		__outb(969, al_15);
		word16 bx_17 = SEQ(bh, al_8);
		byte dh_84 = 0x03;
		bh = SLICE(ax_114 >> 0x02, byte, 8);
		byte al_70 = (byte) (bx_17 - 0x01);
		ax_105 = bx_17 - 0x01;
		ax_114 = ax_105;
	} while (bx_17 != 0x01);
	word16 ax_108 = SEQ(~0x05, al_70);
	do
	{
		0xA000->*di = (byte) ax_115;
		++di;
		byte ah_42 = SLICE(ax_115 - 0x01, byte, 8);
		ax_108 = ax_115 - 0x01;
		uint16 bx_111 = ax_114 >> 0x02;
		ax_115 = ax_108;
	} while (ax_115 != 0x01);
	do
	{
		byte bl_88 = (byte) bx_111;
		struct Eq_66 Eq_50::* cx_35;
		do
		{
			word16 ax_46 = SEQ(ah_42, cx_35[320]) + SEQ(dh_84, cx_35[1]);
			cu16 ax_51 = SEQ(SLICE(ax_46, byte, 8), (byte) ax_46 + bl_88);
			(0xA000->*cx_35).b0000 = (byte) (ax_51 >> 0x01);
			ah_42 = SLICE(ax_51 >> 0x01, byte, 8);
			--cx_35;
		} while (cx_35 != Eq_50::a0000);
		word16 ax_65 = SEQ(ah_42, __inb(0x60));
		dh_84 = 0x00;
		ah_42 = SLICE(ax_65 - 0x01, byte, 8);
		++bx_111;
	} while (ax_65 != 0x01);
}

